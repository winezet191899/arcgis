//>>built
/*
 @overview es6-promise - a tiny implementation of Promises/A+.
 @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 @license   Licensed under MIT license
            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 @version   v4.2.8+1e68dce6
*/
require({cache:{"arcgisonline/pages/dijit/SearchInput":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/topic dojo/debounce dojo/dom-class dojo/on dojo/i18n!../../nls/arcgisonline dojo/text!./SearchInput/SearchInput.html dijit/_TemplatedMixin dijit/_WidgetBase esri/libs/sanitizer/Sanitizer ../utils/icons ../utils/dom ../utils/strings".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){var w=this;this.templateString=r.default;this.i18n=u.default;this.icons=p.default;this.queryParam=this.cssTheme=this.searchTerm="";this.hasSearchBy=!1;this.topic=this.searchBy="";this.dontDebounce=!1;this.screenReadersLabel="";this.escapeSearchTerm=!1;this.sanitizer=
new g.default;this.searchStarted=this.cancelDebounce=!1;this._searchWithDebounce=(0,f.default)(function(t){w.cancelDebounce||w._search(t);w.cancelDebounce=!1},1E3)}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.searchTerm=this.params.searchTerm||"";this.cssTheme=this.cssTheme||"";this.queryParam=this.params.queryParam||"searchTerm";this.searchBy=this.params.searchBy||"";this.topic=this.params.topic||"";this.params.validateInput&&(this.validateInput=this.params.validateInput.bind(this));
this.params.generateErrorMessage&&(this.generateErrorMessage=this.params.generateErrorMessage.bind(this))};l.prototype.postCreate=function(){var c=this;this.inherited(arguments);this.searchInput.value=this.searchTerm;n.default.showHide(this.clearBtn,!!this.searchTerm);this.clearBtn.innerHTML=p.default.getIconWithTitle("x","16",u.default.manageLicenses.clearLabel,"".concat(this.id,"_clear_btn"));if(this.screenReadersLabel){var d="search_instruction_".concat(this.id),w=document.createElement("div");
w.className="screen-readers-only";w.id=d;w.innerHTML=this.screenReadersLabel;this.searchInput.setAttribute("aria-describedby",d);this.searchInput.insertAdjacentElement("beforebegin",w)}this.own((0,h.default)(this.searchInput,"input",function(t){n.default.showHide(c.clearBtn,!!c.searchInput.value);t=t.target.value;(2<t.length||0===t.length)&&t!==c.searchTerm&&(c.searchTerm=t,k.default.publish("".concat(c.topic,"search/wait"),c.sanitizer.sanitize(t),c.queryParam),c._testAndSearch(t,!!t))}),(0,h.default)(this.searchInput,
"focus",function(t){m.default.add(t.target.parentNode,"control-bar__search--active");c.searchInput.value&&n.default.showNode(c.clearBtn);k.default.publish("search/focus",c.searchTerm)}),(0,h.default)(this.searchInput,"blur",function(t){m.default.remove(t.target.parentNode,"control-bar__search--active");c.searchStarted=!1}),(0,h.default)(this.searchInput,"keydown",function(t){13===t.keyCode&&c._testAndSearch(t.target.value,!1)}),(0,h.default)(this.clearBtn,"click",function(){c.searchInput.value="";
n.default.hideNode(c.clearBtn);c.searchTerm="";k.default.publish("".concat(c.topic,"search/wait"),"",c.queryParam);c._testAndSearch("",!1);c.searchInput.focus()}),k.default.subscribe("membersSearchBy/update",function(t){c.hasSearchBy&&(c.searchBy=t)}))};l.prototype.focus=function(){this.searchInput.focus()};l.prototype.setValue=function(c,d){this.searchTerm=c;this.searchInput.value=c;n.default.showHide(this.clearBtn,!!this.searchTerm);d||(k.default.publish("".concat(this.topic,"search/wait"),this.sanitizer.sanitize(c),
this.queryParam),this._testAndSearch(c,!1))};l.prototype.getValue=function(){return this.searchInput.value};l.prototype.setPlaceholder=function(c,d){c=c||this.placeholder;d||(this.placeholder=c);this.searchInput.placeholder=c;this.searchInput.setAttribute("aria-label",c)};l.prototype.validateInput=function(c,d){return!0};l.prototype.generateErrorMessage=function(c,d){return u.default.controlBar.invalidSyntax};l.prototype._testAndSearch=function(c,d){void 0===d&&(d=!0);this.validateInput(c,this.searchBy)?
(this.cancelDebounce=!1,d&&!this.dontDebounce?this._searchWithDebounce(c):(this._search(c),this.cancelDebounce=!0)):k.default.publish("".concat(this.topic,"search/error"),this.generateErrorMessage(c,this.searchBy),this.id)};l.prototype._search=function(c){var d,w=this.sanitizer.sanitize(c);w=this.escapeSearchTerm?q.default.escapeSearchQuery(w):q.default.escapeQuestionMarks(w);k.default.publish("".concat(this.topic,"search/update"),w,this.searchBy,this.id);null===(d=this.telemetry)||void 0===d?void 0:
d.logEvent({category:"Search",action:this.searchStarted?"update":"start",label:c,pageUrl:window.location.href});this.searchStarted=!0};return l=a.__decorate([(0,b.default)(v.default,e.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/ArcGISOnlineTab":function(){define("require exports tslib ./BaseSettingsTab ../cards/ConfigureUtilityServicesCard ../../../../utils/organization ../settings-shared ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=u.default.agolTab;this.TAB_KEY=m.SettingsTabKeys.ArcGISOnline}r.prototype.postCreate=function(){this.inherited(arguments);var e=f.default.getUserRole(this.portal.portalUser);this.canManageUtilityServices=e.canManageUtilityServices();this.canManageWebsite=e.canManageWebsite()};r.prototype.render=function(){this.canManageUtilityServices&&
this.createConfigureUtilityServicesCard();this.inherited(arguments)};r.prototype.createConfigureUtilityServicesCard=function(){this.createCustomCard(k.default,{name:this.i18n.configUtilityServices.name,portal:this.portal,keywords:"configure arcgisOnline services addressMatching addresses locations streets places geosearch addressLocator search geometry geoenrichment hydrology orthomapping elevation threeD travel route trucking distance time walking driving transit transport impedance wayfinding restrictions pedestrian cached".split(" ")})};
return r=a.__decorate([(0,h.default)(b.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/BaseSettingsTab":function(){define("require exports tslib dojo/on dojo/string dojo/text!./templates/BaseSettingsTab.html dojo/i18n!../../../../../nls/org-settings dojo/cookie dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase ../cards/SettingsCard ../../../../utils/dom ../cards/OnboardCard arcgisonline/sharing/util ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,
k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(){this.templateString=f.default;this._cards=[];this.ONBOARD_COOKIE_NAME="esri_onboard"}l.prototype.postMixInProperties=function(){this.inherited(arguments);
this._titleText=m.default.tabs[this.TAB_KEY]};l.prototype.startup=function(){var c=new u.default;this.inherited(arguments);this.render();c.resolve();return c.promise};l.prototype.matchKey=function(c){return this.TAB_KEY===c};l.prototype.getCards=function(){return this._cards};l.prototype.showSearchTitle=function(){g.default.showNode(this._searchTitle)};l.prototype.hideSearchTitle=function(){g.default.hideNode(this._searchTitle)};l.prototype.render=function(){g.default.appendChildren(this._cards.map(function(c){return c.domNode}),
this._cardsContainer)};l.prototype.getDefaultRowParams=function(){return{portal:this.portal,portalUser:this.portalUser,tab:this.TAB_KEY,telemetry:this.telemetry}};l.prototype.createOnboardCard=function(c,d){this.shouldShowOnboard()&&(c=this.createCustomCard(p.default,{id:d,description:k.default.substitute(c,{linkStart:'\x3ca href\x3d"#members"\x3e',linkEnd:"\x3c/a\x3e"})}),this.own((0,b.default)(c,"dismiss",this.dismissOnboard.bind(this))))};l.prototype.createCard=function(c){var d=c.id,w=c.keywords,
t=c.templateString;c={name:c.name,description:c.description,rows:c.rows,tab:this.TAB_KEY,portal:this.portal,telemetry:this.telemetry};d&&(c.id=d);w&&(c.keywords=w);t&&(c.templateString=t);d=new v.default(c);this._cards.push(d);return d};l.prototype.createCustomCard=function(c,d){d=a.__assign(a.__assign({},d),{portal:this.portal,portalUser:this.portalUser,tab:this.TAB_KEY,telemetry:this.telemetry});c=new c(d);this._cards.push(c);return c};l.prototype.getOnboardCookie=function(){var c=(0,h.default)(this.ONBOARD_COOKIE_NAME);
return c?JSON.parse(c):{}};l.prototype.shouldShowOnboard=function(){var c=this.getOnboardCookie(),d=Date.now()>(new Date("June 30, 2021")).getTime();return!this.portal.isPortal&&this.ONBOARD_COOKIE_KEY&&!c[this.ONBOARD_COOKIE_KEY]&&!d};l.prototype.dismissOnboard=function(){var c,d=this.getOnboardCookie(),w=n.default.isPortal()?document.domain:".arcgis.com";(0,h.default)(this.ONBOARD_COOKIE_NAME,JSON.stringify(a.__assign(a.__assign({},d),(c={},c[this.ONBOARD_COOKIE_KEY]=!0,c))),{expires:new Date((new Date).getTime()+
31556926E3),path:"/",domain:w,sameSite:"Strict"})};return l=a.__decorate([(0,q.default)(e.default,r.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/cards/SettingsCard":function(){define("require exports tslib esri/Evented dojo/text!./templates/SettingsCard.html dojo/i18n!../../../../../nls/org-settings dijit/a11yclick dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/dom ../../../../utils/organization ../../../../utils/arrays ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=k.default;this.i18n=f.default;this.description=this.name="";this.rows=[];this.tab="";this.keywords=[];this.shouldBeHidden=!1;this.settingsProps=
[];this._rows=[]}q.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners();this.hide()};q.prototype.appendRow=function(l){this._rows.push(l);this._content.appendChild(l.domNode)};q.prototype.removeRow=function(l){var c=-1;this._rows.forEach(function(d,w){d.id===l.id&&(c=w)});this._rows.splice(c,1);l.destroy()};q.prototype.render=function(){var l=this;this._title.textContent=this.name;this.description?this._description.innerHTML=this.description:r.default.hideNode(this._description);
this.rows.forEach(function(c){l.addRow(c)});r.default.appendChildren(this._rows.map(function(c){return c.domNode}),this._content)};q.prototype.addEventListeners=function(){this._headerBtn&&this.own((0,m.default)(this._headerBtn,this.handleBtnClick.bind(this)))};q.prototype.toggleLoader=function(l){l?this._loader.classList.add("is-active"):this._loader.classList.remove("is-active")};q.prototype.showHeaderBtn=function(l){this._headerBtn.textContent=l;r.default.showNode(this._btnContainer)};q.prototype.handleBtnClick=
function(){};q.prototype.updateSelf=function(l,c){var d=this;void 0===c&&(c=!1);return g.default.request({url:"".concat(p.default.restBaseUrl,"portals/self/update"),content:l},{usePost:!0}).then(function(w){var t;(null===w||void 0===w?0:w.code)?null===(t=d.telemetry)||void 0===t?void 0:t.logError({error:w}):c||d.logSettingsUpdated(l);return w},function(w){var t;null===(t=d.telemetry)||void 0===t?void 0:t.logError({error:w});return w})};q.prototype.logSettingsUpdated=function(l){var c=this,d=["f",
"token","clearEmptyFields"];l&&Object.keys(l).forEach(function(w){var t;v.default.includes(d,w)||("portalProperties"===w&&c.settingsProps.length?c.settingsProps.forEach(function(z){var x;null===(x=c.telemetry)||void 0===x?void 0:x.logEvent({category:c.tab,label:z,action:"Save"})}):null===(t=c.telemetry)||void 0===t?void 0:t.logEvent({category:c.tab,label:w,action:"Save"}))})};q.prototype.addRow=function(l){this._rows.push(l)};q.prototype.show=function(){r.default.showNode(this.domNode);this.emit("show")};
q.prototype.hide=function(){r.default.hideNode(this.domNode);this.emit("hide")};q.prototype.match=function(l,c,d){var w=this,t=!1,z=l.toLowerCase();this._title&&-1<this._title.textContent.toLowerCase().indexOf(z)&&(t=!0,d&&e.default.highlight(l,this._title));this._description&&-1<this._description.textContent.replace(/<[^>]+>/g,"").toLowerCase().indexOf(z)&&(t=!0,d&&e.default.highlight(l,this._description));var x=f.default.tabs[this.tab];x&&-1<x.toLowerCase().indexOf(z)&&(t=!0);this.keywords.some(function(y){y=
w.i18n.keywords[y].toLowerCase();var A=l.toLowerCase();if(y===A||c&&-1<y.indexOf(A))t=!0;return t});this._rows.forEach(function(y){y.label&&-1<y.label.toLowerCase().indexOf(z)&&(t=!0,d&&y.highlightLabel(l));y.description&&-1<y.description.replace(/<[^>]+>/g,"").toLowerCase().indexOf(z)&&(t=!0,d&&y.highlightDesc(l));y.keywords.some(function(A){A=w.i18n.keywords[A].toLowerCase();var B=l.toLowerCase();if(A===B||c&&-1<A.indexOf(B))t=!0;return t});return t});return t};q.prototype.search=function(l,c){this.resetHighlights();
(l=this.match(l,c,!0))?this.show():this.hide();return l};q.prototype.resetHighlights=function(){this._title&&this.name&&(this._title.textContent=this.name);this._description&&this.description&&(this._description.innerHTML=this.description);this._rows.forEach(function(l){return l.resetHighlights()})};q.prototype.setDescription=function(l){(this.description=l)?this._description.innerHTML=this.description:r.default.hideNode(this._description)};return q=a.__decorate([(0,n.default)(u.default,h.default,
b.default)],q)}()})},"arcgisonline/pages/organization/widgets/settings/cards/OnboardCard":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/OnboardCard.html dojo/i18n!../../../../../nls/org-settings ../../../../utils/icons ./SettingsCard arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);
return function(){function e(v,g){this.templateString=f.default;this.i18n=a.__assign({},m.default.onboard);this.icons=h.default}e.prototype.postCreate=function(){this.inherited(arguments)};e.prototype.search=function(v,g){this.hide();return!1};e.prototype.render=function(){};e.prototype.addEventListeners=function(){this.own((0,k.default)(this.dismissBtn,"click",this.handleDimiss.bind(this)))};e.prototype.handleDimiss=function(){this.emit("dismiss");this.destroy()};return e=a.__decorate([(0,r.default)(u.default,
b.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/ConfigureUtilityServicesCard":function(){define("require exports tslib dojo/topic ./SettingsCard ../../../../utils/alerts ../../../../../sharing/dijit/ConfigureAGOLUtilServices ../../../../../tsutils/declareDecorator dojo/text!./templates/ConfigureUtilityServicesCard.html".split(" "),function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);
u=a.__importDefault(u);return function(){function r(e,v){this.templateString=u.default}r.prototype.render=function(){this.cfgAGOLUtilServices=new m.default({},document.createElement("div"));this.cfgAGOLUtilServices.startup();this._content.appendChild(this.cfgAGOLUtilServices.domNode)};r.prototype.addEventListeners=function(){var e=this;this.inherited(arguments);this.own(b.default.subscribe("configure-helperServices",function(){f.default.showAlert("success",e.i18n.agolTab.configUtilityServices.success)}))};
r.prototype.show=function(){this.inherited(arguments);this.cfgAGOLUtilServices.reset()};return r=a.__decorate([(0,h.default)(k.default)],r)}()})},"arcgisonline/pages/utils/alerts":function(){define("require exports tslib ../components/Alert preact ./device dojo/i18n!../../nls/arcgisonline".split(" "),function(U,M,a,b,k,f,m){function h(g,p,n,q,l,c){void 0===n&&(n={cssClasses:"",preventAutoDismiss:!1});void 0===c&&(c="");if(document.querySelector(".alert-container"))var d=document.querySelector(".alert-container");
else d=document.createElement("div"),d.classList.add("alert-container"),c&&(d.id=c),document.body.appendChild(d);c=n.cssClasses;var w=n.preventAutoDismiss,t=n.liveRegion;n=n.textIncludesHTML;var z=m.default.common.close;z={iconAltText:u(g),close:z,alert:m.default.common.alert};var x=document.createDocumentFragment();(0,k.render)((0,k.h)(b.default,{strings:z,type:g,title:null!==q&&void 0!==q?q:"",text:p,link:l,cssClasses:c||"",preventAutoDismiss:!!w,liveRegion:t,textIncludesHTML:n,device:v}),x);d.appendChild(x)}
function u(g){var p;"success"===g?p=m.default.GroupWidget.successIcon:"error"===g?p=m.default.GroupWidget.errorIcon:"warning"===g?p=m.default.GroupWidget.warningIcon:"info"===g&&(p="");return p}function r(){var g;null===(g=document.querySelector(".alert-container"))||void 0===g?void 0:g.remove()}function e(g,p){var n=m.default.common.close;n={iconAltText:u(g),close:n,alert:m.default.common.alert};if(document.querySelector(".alert-container"))var q=document.querySelector(".alert-container");else q=
document.createElement("div"),q.classList.add("alert-container"),document.body.appendChild(q);var l=document.createDocumentFragment();(0,k.render)((0,k.h)(b.default,{strings:n,type:g,title:"",text:"",messages:p}),l);q.appendChild(l)}Object.defineProperty(M,"__esModule",{value:!0});M.showAlertList=M.clearAlerts=M.showAlert=void 0;b=a.__importDefault(b);f=a.__importDefault(f);m=a.__importDefault(m);var v=new f.default;M.showAlert=h;M.clearAlerts=r;M.showAlertList=e;M.default={clearAlerts:r,showAlert:h,
showAlertList:e}})},"arcgisonline/pages/components/Alert":function(){define("require exports tslib preact preact/hooks ../utils/a11y".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);M.default=function(m){function h(x){return x.map(function(y,A){return(0,b.h)("li",{key:A},y)})}var u=m.strings,r=m.type,e=m.title,v=m.text,g=m.link,p=m.scale,n=m.messages;n=void 0===n?[]:n;var q=m.cssClasses;q=void 0===q?"":q;var l=m.preventAutoDismiss;l=void 0===
l?!1:l;var c=m.liveRegion,d=m.textIncludesHTML,w=m.device;m=function(x){"success"===x?(t="success",z="check-circle"):"error"===x?(t="danger",z="exclamation-mark-circle"):"warning"===x?(t="warning",z="exclamation-mark-triangle"):"info"===x&&(t="info",z=!1);return[t,z]}(r);var t=m[0];var z=m[1];(0,k.useEffect)(function(){(null===w||void 0===w?0:w.macos)||f.default.postToLiveRegion(v,c)},[]);return(0,b.h)("calcite-alert",{icon:z,open:!0,label:e||u.alert,kind:t,scale:p,"data-test":"alert",autoClose:"error"!==
r&&!l,autoCloseDuration:g?"slow":"fast"},(0,b.h)("div",{slot:"title"},e),d?(0,b.h)("div",{slot:"message",role:"status",class:"".concat(q),dangerouslySetInnerHTML:{__html:v}}):(0,b.h)("div",{slot:"message",role:"status"},v,0<(null===n||void 0===n?void 0:n.length)&&(0,b.h)("ul",null,h(n))),g&&(0,b.h)("calcite-link",{slot:"link",class:"link",href:g.href,onClick:g.onclick,target:"_blank"},g.title))}})},"arcgisonline/pages/utils/device":function(){define(["require","exports","tslib","dojo/sniff"],function(U,
M,a,b){b=a.__importDefault(b);return function(){function k(){this.doc=document;this.win=window;this.platform=this.win.navigator.platform;this.ua=this.win.navigator.userAgent;this.device={ios:!1,android:!1,androidChrome:!1,desktop:!1,windowsPhone:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,chrome:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!(!this.win.cordova&&!this.win.phonegap),phonegap:!(!this.win.cordova&&!this.win.phonegap),os:null,osVersion:null,webView:null,standalone:null,statusBar:null,
needsStatusbarOverlay:null,pixelRatio:null,minimalUi:null,statusbar:null};this.screenWidth=this.win.screen.width;this.screenHeight=this.win.screen.height;this.windowsPhone=this.ua.match(/(Windows Phone);?[\s/]+([\d.]+)?/);this.android=this.ua.match(/(Android);?[\s/]+([\d.]+)?/);this.ipad=this.ua.match(/(iPad).*OS\s([\d_]+)/);this.ipod=this.ua.match(/(iPod)(.*OS\s([\d_]+))?/);this.iphoneX=(this.iphone=!this.ipad&&this.ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/))&&(375===this.screenWidth&&812===this.screenHeight||
414===this.screenWidth&&896===this.screenHeight);this.ie=0<=this.ua.indexOf("MSIE ")||0<=this.ua.indexOf("Trident/");this.edge=0<=this.ua.indexOf("Edg/")||0<=this.ua.indexOf("EdgA/")||0<=this.ua.indexOf("EdgiOS/")||0<=this.ua.indexOf("Edge/");this.firefox=0<=this.ua.indexOf("Gecko/")&&0<=this.ua.indexOf("Firefox/")||0<=this.ua.indexOf("FxiOS");this.chrome=0<=this.ua.indexOf("Chrome/")||this.ua.indexOf("CriOS/");this.macos="MacIntel"===this.platform;this.windows="Win32"===this.platform;this.isTablet=
this.isMobile=!1;this.setVals()}k.prototype.setVals=function(){this.windowsPhone&&(this.device.os="windows",this.device.osVersion=this.windowsPhone[2],this.device.windowsPhone=!0);this.android&&!this.windows&&(this.device.os="android",this.device.osVersion=this.android[2],this.device.android=!0,this.device.androidChrome=0<=this.ua.toLowerCase().indexOf("chrome"));if(this.ipad||this.iphone||this.ipod)this.device.os="ios",this.device.ios=!0;this.iphone&&!this.ipod&&(this.device.osVersion=this.iphone[2].replace(/_/g,
"."),this.device.iphone=!0,this.device.iphoneX=this.iphoneX);this.ipad&&(this.device.osVersion=this.ipad[2].replace(/_/g,"."),this.device.ipad=!0);this.ipod&&(this.device.osVersion=this.ipod[3]?this.ipod[3].replace(/_/g,"."):null,this.device.iphone=!0);this.device.ios&&this.device.osVersion&&0<=this.ua.indexOf("Version/")&&"10"===this.device.osVersion.split(".")[0]&&(this.device.osVersion=this.ua.toLowerCase().split("version/")[1].split(" ")[0]);this.press=this.device.desktop?"mousedown":"touchstart";
this.release=this.device.desktop?"mouseup":"touchend";this.click=this.device.desktop?"click":"touchend";this.clickOrRelease=this.device.desktop?"click, mouseup":"touchend";this.move=this.device.desktop?"mousemove":"touchmove";this.device.webView=!(!(this.iphone||this.ipad||this.ipod)||!this.ua.match(/.*AppleWebKit(?!.*Safari)/i)&&!this.win.navigator.standalone)||this.win.matchMedia&&this.win.matchMedia("(display-mode: standalone)").matches;this.device.standalone=this.device.webView;this.device.desktop=
!(this.device.os||this.device.android||this.device.webView);this.device.desktop&&(this.device.macos=this.macos,this.device.windows=this.windows);if(this.device.os&&"ios"===this.device.os){var f=this.device.osVersion.split("."),m=this.doc.querySelector('meta[name\x3d"viewport"]');this.device.minimalUi=!this.device.webView&&(this.ipod||this.iphone)&&(7===1*f[0]?1<=1*f[1]:7<1*f[0])&&m&&0<=m.getAttribute("content").indexOf("minimal-ui")}this.device.needsStatusbarOverlay=this.needsStatusbarOverlay();this.device.statusbar=
this.needsStatusbarOverlay();this.device.pixelRatio=this.win.devicePixelRatio||1;this.isMobile=this.isMobileDevice();this.isTablet=this.isTabletDevice()};k.prototype.needsStatusbarOverlay=function(){return(this.device.webView||this.device.android&&this.device.cordova)&&this.win.innerWidth*this.win.innerHeight===this.win.screen.width*this.win.screen.height?!this.device.iphoneX||90!==this.win.orientation&&-90!==this.win.orientation?!0:!1:!1};k.prototype.isMobileDevice=function(){return!this.device.desktop&&
!this.device.ipad};k.prototype.isTabletDevice=function(){return this.device.ipad};k.prototype.isPCWithTouchScreen=function(){return this.device.desktop&&(0,b.default)("touch")};k.prototype.isLandscape=function(){return 90===Math.abs(+this.win.orientation)};return k}()})},"arcgisonline/sharing/dijit/ConfigureAGOLUtilServices":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/json dojo/promise/all dojo/topic dojo/cookie dojo/string dojo/dom-attr dojo/dom-style dojo/Deferred dojo/store/Memory dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./dialog/_AddItemDlgMixin dijit/Tooltip dijit/form/Button dijit/form/CheckBox dijit/form/TextBox ./ComboBox ../../pages/dijit/ToggleSwitch esri/lang esri/request ../util ../../pages/pageUtil ../../pages/utils/arrays ../../pages/utils/date ../../pages/utils/dom ../geow/Folder ./ServiceInfo ../geow/Account dojo/i18n!../../nls/arcgisonline dojo/text!./templates/ConfigureAGOLUtilServices.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T){var S=M("arcgisonline.sharing.dijit.ConfigureAGOLUtilServices",[q,l,c,d],{declaredClass:"arcgisonline.sharing.dijit.ConfigureAGOLUtilServices",baseClass:"esriCfgAGOLUtilSvcs",basePath:U.toUrl("arcgisonline/sharing/dijit"),templateString:T,widgetsInTemplate:!0,_okBtn:null,_clearBtn:null,_elevationChkBox:null,_geocodeChkBox:null,_geoenrichChkBox:null,_hydrologyChkBox:null,_networkChkBox:null,_orthomappingElevationChkBox:null,
_trafficDataChkBox:null,_credentials:null,_credentialContainer:null,_servicesSelected:null,_geocoderSingleLineFieldName:"SingleLine",postMixInProperties:function(){this.inherited(arguments);this.i18n=a.mixin({},P.common);a.mixin(this.i18n,P.configAGOLUtilServices);a.mixin(this.i18n.services,{orthomappingElevation:P.myOrganization.utilityServicesTab.orthomappingElevationSetting})},postCreate:function(){this.inherited(arguments);this._setupGeoenrichmentServerSupport();this._setupToggleSwitches();this._setupConnections()},
destroy:function(){this._tooltips.forEach(function(L){L&&(L.destroyRecursive(),L=null)});this._tooltips=[];this.inherited(arguments)},startup:function(){this.inherited(arguments);this._setupTooltips();this._initialize()},_setupGeoenrichmentServerSupport:function(){this.itemInfo.geoenrichmentserver={type:"Geoenrichment Service",typeKeywords:"Tool, Service, Geoenrichment Service, ArcGIS Server"}},_setupToggleSwitches:function(){this._elevationChkBox=new A({labelClasses:"trailer-0"},this._elevationSwitch);
this._geocodeChkBox=new A({labelClasses:"trailer-0"},this._geocodeSwitch);this._geoenrichChkBox=new A({labelClasses:"trailer-0"},this._geoenrichmentSwitch);this._hydrologyChkBox=new A({labelClasses:"trailer-0"},this._hydrologySwitch);this._networkChkBox=new A({labelClasses:"trailer-0"},this._networkSwitch);this._orthomappingElevationChkBox=new A({labelClasses:"trailer-0"},this._orthomappingSwitch);this._trafficDataChkBox=new A({labelClasses:"trailer-0"},this._trafficDataSwitch)},_setupConnections:function(){var L=
this._checkServiceState.bind(this);this.own(n(this._okBtn,this._configureClicked.bind(this)),k(this._elevationChkBox,"change",L),k(this._geocodeChkBox,"change",L),k(this._geoenrichChkBox,"change",L),k(this._hydrologyChkBox,"change",L),k(this._networkChkBox,"change",L),k(this._orthomappingElevationChkBox,"change",L),k(this._trafficDataChkBox,"change",L),h.subscribe("helper-services/update",this._reload.bind(this)))},_setupTooltips:function(){var L=r.substitute(this.i18n.descriptionNote,{startTooltip:'\x3cspan id\x3d"configAGOUtilsTip" class\x3d"org-settings__tooltip tooltip tooltip-multiline" tabindex\x3d"0" aria-label\x3d"'+
this.i18n.changeAlert+'"\x3e',endTooltip:"\x3c/span\x3e"});e.set(this._descriptionNote,"innerHTML",L);L=r.substitute(this.i18n.networkTrafficNote,{routeStart:'\x3cbutton class\x3d"js-configure-routing-link btn btn-link"\x3e',routeEnd:"\x3c/button\x3e"});this._networkTrafficNote.innerHTML=L;this._tooltips=[];this.own(k(this.domNode.querySelector(".js-configure-routing-link"),"click",function(){h.publish("settings-tab/select","utilityServices");setTimeout(function(){h.publish("scroll-to/network-service")},
10)}))},_checkServiceState:function(){var L=[];this._newlyEnabledServices=a.clone(this._currentlyEnabledServices);this._newlyEnabledServices.elevation=this._elevationChkBox.checked();this._newlyEnabledServices.geocode=this._geocodeChkBox.checked();this._newlyEnabledServices.geoenrichment=this._geoenrichChkBox.checked();this._newlyEnabledServices.hydrology=this._hydrologyChkBox.checked();this._newlyEnabledServices.network=this._networkChkBox.checked();this._newlyEnabledServices.orthomappingElevation=
this._orthomappingElevationChkBox.checked();this._newlyEnabledServices.trafficData=this._trafficDataChkBox.checked();!this._currentlyEnabledServices.elevation&&this._newlyEnabledServices.elevation&&L.push(this.i18n.services.elevation);!this._currentlyEnabledServices.orthomappingElevation&&this._newlyEnabledServices.orthomappingElevation&&L.push(this.i18n.services.orthomappingElevation);!this._currentlyEnabledServices.geocode&&this._newlyEnabledServices.geocode&&L.push(this.i18n.services.geocode);
!this._currentlyEnabledServices.geoenrichment&&this._newlyEnabledServices.geoenrichment&&L.push(this.i18n.services.geoenrichment);!this._currentlyEnabledServices.hydrology&&this._newlyEnabledServices.hydrology&&L.push(this.i18n.services.hydrology);!this._currentlyEnabledServices.network&&this._newlyEnabledServices.network&&L.push(this.i18n.services.network);!this._currentlyEnabledServices.trafficData&&this._newlyEnabledServices.trafficData&&L.push(this.i18n.services.trafficData);0<L.length?(e.set(this._servicesSelected,
"innerHTML",B.substitute({serviceList:L.join(", ")},this.i18n.selectedForConfig)),1===L.length&&H.includes(L,this.i18n.services.orthomappingElevation)?(v.set(this._credentialsRequired,"display","none"),v.set(this._credentials,"display","none"),v.set(this._folderLabel,"display","none"),v.set(this._folderSelect.domNode,"display","none")):(v.set(this._credentialsRequired,"display",""),v.set(this._credentials,"display",""),v.set(this._folderLabel,"display",""),v.set(this._folderSelect.domNode,"display",
"")),v.set(this._credentialContainer,"display","")):(e.set(this._servicesSelected,"innerHTML",""),this._serviceInfoPane&&(this._serviceInfoPane._username.set("value",""),this._serviceInfoPane._password.set("value","")),v.set(this._credentialsRequired,"display",""),v.set(this._credentials,"display",""),v.set(this._folderLabel,"display",""),v.set(this._folderSelect.domNode,"display",""),v.set(this._credentialContainer,"display","none"))},_publishHelperServicesChangeStart:function(){h.publish("configure-helperServices/start",
{inProgress:!0})},_publishHelperServicesChangeEnd:function(){h.publish("configure-helperServices/end",{inProgress:!1})},_publishHelperServicesChange:function(L){h.publish("configure-helperServices",L)},_configureClicked:function(L){L&&L.preventDefault();this._doConfigure()},_doConfigure:function(){var L=this,N=!L._currentlyEnabledServices.elevation&&L._newlyEnabledServices.elevation,O=!L._currentlyEnabledServices.orthomappingElevation&&L._newlyEnabledServices.orthomappingElevation,Q=!L._currentlyEnabledServices.geocode&&
L._newlyEnabledServices.geocode,V=!L._currentlyEnabledServices.geoenrichment&&L._newlyEnabledServices.geoenrichment,X=!L._currentlyEnabledServices.hydrology&&L._newlyEnabledServices.hydrology,Z=!L._currentlyEnabledServices.network&&L._newlyEnabledServices.network,ca=!L._currentlyEnabledServices.trafficData&&L._newlyEnabledServices.trafficData,R=L._serviceInfoPane._username.get("value"),Y=L._serviceInfoPane._password.get("value"),ba=L._folderSelect.get("value"),aa=N||O||Q||V||X||Z||ca,W=O&&!(N||Q||
V||X||Z||ca),da=L._isStringSet(R),ea=L._isStringSet(Y);da=da&&ea;var ja={elevation:N,orthomappingElevation:O,geocode:Q,geoenrichment:V,hydrology:X,network:Z,trafficData:ca,serviceUsername:R,servicePassword:Y,folder:L._getFolderId(ba)};N=L._currentlyEnabledServices.orthomappingElevation&&!L._newlyEnabledServices.orthomappingElevation;O=L._currentlyEnabledServices.geocode&&!L._newlyEnabledServices.geocode;Q=L._currentlyEnabledServices.geoenrichment&&!L._newlyEnabledServices.geoenrichment;V=L._currentlyEnabledServices.hydrology&&
!L._newlyEnabledServices.hydrology;X=L._currentlyEnabledServices.network&&!L._newlyEnabledServices.network;Z=L._currentlyEnabledServices.trafficData&&!L._newlyEnabledServices.trafficData;N=L._currentlyEnabledServices.elevation&&!L._newlyEnabledServices.elevation||N||O||Q||V||X||Z;aa&&(da||W)?(L._setConfiguring(!0),L._publishHelperServicesChangeStart(),L._retrieveSelfNoAuth().then(function(fa){L._selfNoAuth=fa;L._createServiceProxies(ja).then(function(ha){L._deleteUncheckedItems(ha).then(function(la){L._updateAccount(la).then(function(){L._publishHelperServicesChange(la);
L._publishHelperServicesChangeEnd();L._reload()})})},function(ha){-1<ha.message.indexOf("Error generating token")?E.createConfirmationDialog({strings:{title:L.i18n.errorTitle,description:L.i18n.errors.badCredentials},hideCancel:!0,autoCloseOnOk:!0}):E.createConfirmationDialog({strings:{title:L.i18n.errorTitle,description:L.i18n.errors.general},hideCancel:!0,autoCloseOnOk:!0});L._setConfiguring(!1);L._publishHelperServicesChangeEnd()})},function(fa){E.createConfirmationDialog({strings:{title:L.i18n.notice,
description:L.i18n.cannotReachAGO},hideCancel:!0,autoCloseOnOk:!0});L._setConfiguring(!1);L._publishHelperServicesChangeEnd()})):!aa||da&&W?da&&!aa?E.createConfirmationDialog({strings:{title:L.i18n.notice,description:L.i18n.needService},hideCancel:!0,autoCloseOnOk:!0}):N?(L._setConfiguring(!0),L._publishHelperServicesChangeStart(),L._deleteUncheckedItems({}).then(function(fa){L._updateAccount(fa).then(function(){L._publishHelperServicesChange(fa);L._publishHelperServicesChangeEnd();L._reload()})})):
E.createConfirmationDialog({strings:{title:L.i18n.notice,description:L.i18n.noChange},hideCancel:!0,autoCloseOnOk:!0}):E.createConfirmationDialog({strings:{title:L.i18n.notice,description:L.i18n.needCredentials},hideCancel:!0,autoCloseOnOk:!0})},_deleteUncheckedItems:function(L){var N=new g,O=this._currentlyEnabledServices.elevation&&!this._newlyEnabledServices.elevation,Q=this._currentlyEnabledServices.orthomappingElevation&&!this._newlyEnabledServices.orthomappingElevation,V=this._currentlyEnabledServices.geocode&&
!this._newlyEnabledServices.geocode,X=this._currentlyEnabledServices.geoenrichment&&!this._newlyEnabledServices.geoenrichment,Z=this._currentlyEnabledServices.hydrology&&!this._newlyEnabledServices.hydrology,ca=this._currentlyEnabledServices.network&&!this._newlyEnabledServices.network,R=this._currentlyEnabledServices.trafficData&&!this._newlyEnabledServices.trafficData,Y=[],ba=esriGeowConfig.restBaseUrl+"content/users/",aa=[],W=[];if(O||Q||V||X||Z||ca||R){O&&(Y.push(this._currentlyEnabledServices.elevationItemId),
L.elevation={url:""},L.elevationSync={url:""},O=ba+this._currentlyEnabledServices.elevationItemOwner+"/"+(this._currentlyEnabledServices.elevationItemFolder?this._currentlyEnabledServices.elevationItemFolder+"/":"")+"items/",W.push(O+this._currentlyEnabledServices.elevationItemId+"/delete"),aa.push(this._unprotectItem(this._currentlyEnabledServices.elevationItemId,this._currentlyEnabledServices.elevationItemOwner,this._currentlyEnabledServices.elevationItemFolder)));Q&&(L.orthomappingElevation={url:""});
V&&(Y.push(this._currentlyEnabledServices.geocodeItemId),L.geocode=a.clone(this._portalSettings.helperServices.geocode),L.geocode.splice(this._currentlyEnabledServices.geocodeItemIdx,1),O=ba+this._currentlyEnabledServices.geocodeItemOwner+"/"+(this._currentlyEnabledServices.geocodeItemFolder?this._currentlyEnabledServices.geocodeItemFolder+"/":"")+"items/",W.push(O+this._currentlyEnabledServices.geocodeItemId+"/delete"),aa.push(this._unprotectItem(this._currentlyEnabledServices.geocodeItemId,this._currentlyEnabledServices.geocodeItemOwner,
this._currentlyEnabledServices.geocodeItemFolder)));X&&(Y.push(this._currentlyEnabledServices.geoenrichmentItemId),L.geoenrichment={url:""},O=ba+this._currentlyEnabledServices.geoenrichmentItemOwner+"/"+(this._currentlyEnabledServices.geoenrichmentItemFolder?this._currentlyEnabledServices.geoenrichmentItemFolder+"/":"")+"items/",W.push(O+this._currentlyEnabledServices.geoenrichmentItemId+"/delete"),aa.push(this._unprotectItem(this._currentlyEnabledServices.geoenrichmentItemId,this._currentlyEnabledServices.geoenrichmentItemOwner,
this._currentlyEnabledServices.geoenrichmentItemFolder)));Z&&(Y.push(this._currentlyEnabledServices.hydrologyItemId),L.hydrology={url:""},O=ba+this._currentlyEnabledServices.hydrologyItemOwner+"/"+(this._currentlyEnabledServices.hydrologyItemFolder?this._currentlyEnabledServices.hydrologyItemFolder+"/":"")+"items/",W.push(O+this._currentlyEnabledServices.hydrologyItemId+"/delete"),aa.push(this._unprotectItem(this._currentlyEnabledServices.hydrologyItemId,this._currentlyEnabledServices.hydrologyItemOwner,
this._currentlyEnabledServices.hydrologyItemFolder)));if(ca)for(Y=Y.concat(this._currentlyEnabledServices.networkItemIds),L.asyncClosestFacility={url:""},L.asyncLocationAllocation={url:""},L.asyncRoute={url:""},L.asyncServiceArea={url:""},L.asyncVRP={url:""},L.closestFacility={url:""},L.serviceArea={url:""},L.syncVRP={url:""},L.traffic={url:""},L.routingUtilities={url:""},L.asyncRoute={url:""},L.route={url:""},L.asyncODCostMatrix={url:""},L.odCostMatrix={url:""},Z=0;Z<this._currentlyEnabledServices.networkItemIds.length;Z++)Q=
this._currentlyEnabledServices.networkItemIds[Z],V=this._currentlyEnabledServices.networkItemOwners[Q],X=this._currentlyEnabledServices.networkItemFolders[Q],O=ba+V+"/"+(X?X+"/":"")+"items/",W.push(O+Q+"/delete"),aa.push(this._unprotectItem(Q,V,X));R&&(Y.push(this._currentlyEnabledServices.trafficDataItemId),L.trafficData={url:""},O=ba+this._currentlyEnabledServices.trafficDataItemOwner+"/"+(this._currentlyEnabledServices.trafficDataItemFolder?this._currentlyEnabledServices.trafficDataItemFolder+
"/":"")+"items/",W.push(O+this._currentlyEnabledServices.trafficDataItemId+"/delete"),aa.push(this._unprotectItem(this._currentlyEnabledServices.trafficDataItemId,this._currentlyEnabledServices.trafficDataItemOwner,this._currentlyEnabledServices.trafficDataItemFolder)));0<aa.length?m(aa).then(function(){var da=[];b.forEach(W,function(ea){da.push(C.request({url:ea},{usePost:!0}))});m(da).then(function(){N.resolve(L)},function(ea){N.resolve(L)})},function(da){N.resolve(L)}):N.resolve(L)}else N.resolve(L);
return N.promise},_updateAccount:function(L){var N=new g,O=C.getSecureUrl(esriGeowConfig.restBaseUrl)+"portals/self/update",Q=f.stringify(""),V={clearEmptyFields:!0};L.elevation&&(V.elevationService=""===L.elevation.url?Q:f.stringify(L.elevation));L.elevationSync&&(V.elevationSyncService=""===L.elevationSync.url?Q:f.stringify(L.elevationSync));L.orthomappingElevation&&(V.orthomappingElevationService=""===L.orthomappingElevation.url?Q:f.stringify(L.orthomappingElevation));L.geocode&&(V.geocodeService=
""===L.geocode.url?Q:f.stringify(L.geocode));L.geoenrichment&&(V.geoenrichmentService=""===L.geoenrichment.url?Q:f.stringify(L.geoenrichment));L.hydrology&&(V.hydrologyService=""===L.hydrology.url?Q:f.stringify(L.hydrology));L.asyncClosestFacility&&(V.asyncClosestFacilityService=""===L.asyncClosestFacility.url?Q:f.stringify(L.asyncClosestFacility));L.asyncLocationAllocation&&(V.asyncLocationAllocationService=""===L.asyncLocationAllocation.url?Q:f.stringify(L.asyncLocationAllocation));L.asyncRoute&&
(V.asyncRouteService=""===L.asyncRoute.url?Q:f.stringify(L.asyncRoute));L.asyncServiceArea&&(V.asyncServiceAreaService=""===L.asyncServiceArea.url?Q:f.stringify(L.asyncServiceArea));L.asyncVRP&&(V.asyncVRPService=""===L.asyncVRP.url?Q:f.stringify(L.asyncVRP));L.closestFacility&&(V.closestFacilityService=""===L.closestFacility.url?Q:f.stringify(L.closestFacility));L.serviceArea&&(V.serviceAreaService=""===L.serviceArea.url?Q:f.stringify(L.serviceArea));L.syncVRP&&(V.syncVRPService=""===L.syncVRP.url?
Q:f.stringify(L.syncVRP));L.traffic&&(V.trafficService=""===L.traffic.url?Q:f.stringify(L.traffic));L.routingUtilities&&(V.routingUtilitiesService=""===L.routingUtilities.url?Q:f.stringify(L.routingUtilities));L.asyncRoute&&(V.asyncRouteService=""===L.asyncRoute.url?Q:f.stringify(L.asyncRoute));L.route&&(V.routeServiceLayer=""===L.route.url?Q:f.stringify(L.route));L.asyncODCostMatrix&&(V.asyncODCostMatrixService=""===L.asyncODCostMatrix.url?Q:f.stringify(L.asyncODCostMatrix));L.odCostMatrix&&(V.odCostMatrixService=
""===L.odCostMatrix.url?Q:f.stringify(L.odCostMatrix));L.trafficData&&(V.trafficDataService=""===L.trafficData.url?Q:f.stringify(L.trafficData));C.request({url:O,content:V},{usePost:!0}).then(function(){N.resolve()},function(X){N.resolve()});return N.promise},_isStringSet:function(L){return B.isDefined(L)&&0<L.length},_credentialChanged:function(L){},_setConfiguring:function(L){F.disableNode(this._okBtn,L);this._okBtn.innerHTML=L?this.i18n.configuring:this.i18n.configure},_retrieveSelfNoAuth:function(){return D({url:location.protocol+
"//"+esriGeowConfig.configurePortalAGOEnv+"/sharing/rest/portals/self",content:{f:"json",culture:this._portalSettings&&this._portalSettings.culture||"en"}})},_createServiceProxies:function(L){var N=this,O=new g,Q;var V=this._createServiceProxyItems(L);if(0<V.promises.length)m(V.promises).then(function(Z){Q=N._collectItemIds(L,V.serviceIndex,Z);var ca=function(){N._getItemsById(Q.itemIds).then(function(R){X=N._generateHelperServiceResult(L,V.serviceIndex,Q,R);O.resolve(X)},function(R){O.reject({})})};
N._shareItemsToOrg(Q.itemIds).then(function(){N._protectItems(Q.itemIds,L.folder).then(function(){ca()})},function(R){N._protectItems(Q.itemIds,L.folder).then(function(){ca()})})},function(Z){O.reject(Z)});else if(0===V.promises.length&&L.orthomappingElevation){var X=N._generateHelperServiceResult(L,V.serviceIndex,Q,{});O.resolve(X)}else O.resolve({});return O.promise},_protectItems:function(L,N){var O=this,Q=new g,V=[];b.forEach(L,function(X){V.push(O._protectItem(X,N))});V&&0<V.length?m(V).then(function(){Q.resolve()},
function(){Q.resolve()}):Q.resolve();return Q.promise},_protectItem:function(L,N){return C.request({url:esriGeowConfig.restBaseUrl+"content/users/"+this._user.username+"/"+(N?N+"/":"")+"items/"+L+"/protect"},{usePost:!0}).promise},_unprotectItem:function(L,N,O){return C.request({url:esriGeowConfig.restBaseUrl+"content/users/"+N+"/"+(O?O+"/":"")+"items/"+L+"/unprotect"},{usePost:!0}).promise},_generateHelperServiceResult:function(L,N,O,Q){N={};L.elevation&&(N.elevation={url:this._getItemFromResultsById(O.elevation,
Q).url},N.elevationSync={url:this._selfNoAuth.helperServices.elevationSync.url});L.orthomappingElevation&&(N.orthomappingElevation={url:this._selfNoAuth.helperServices.orthomappingElevation.url});if(L.geocode){N.geocode=a.clone(this._portalSettings.helperServices.geocode);var V=H.findIndex(N.geocode,function(X){return X.name&&-1<["ArcGIS World Geocoding Service",this.i18n.esriWorldGeocoder].indexOf(X.name)&&-1<X.url.toLowerCase().indexOf(".arcgis.com/arcgis/rest/services/world/geocodeserver")}.bind(this));
-1<V&&N.geocode.splice(V,1);N.geocode.push({url:this._getItemFromResultsById(O.geocode,Q).url,name:this.i18n.esriWorldGeocoder,isEsriBatchGeocoder:!0,placeholder:this.i18n.geocoderPlaceholderLabel,singleLineFieldName:this._geocoderSingleLineFieldName,batch:!0,placefinding:!0,suggest:!0,zoomScale:1E4})}L.geoenrichment&&(N.geoenrichment={url:this._getItemFromResultsById(O.geoenrichment,Q).url});L.hydrology&&(N.hydrology={url:this._getItemFromResultsById(O.hydrology,Q).url});L.network&&(N.asyncClosestFacility=
{url:this._getItemFromResultsById(O.asyncClosestFacility,Q).url},N.asyncLocationAllocation={url:this._getItemFromResultsById(O.asyncLocationAllocation,Q).url},N.asyncServiceArea={url:this._getItemFromResultsById(O.asyncServiceArea,Q).url},N.asyncVRP={url:this._getItemFromResultsById(O.asyncVRP,Q).url},N.closestFacility={url:this._getItemFromResultsById(O.closestFacility,Q).url},N.serviceArea={url:this._getItemFromResultsById(O.serviceArea,Q).url},N.syncVRP={url:this._getItemFromResultsById(O.syncVRP,
Q).url},N.traffic={url:this._getItemFromResultsById(O.traffic,Q).url},N.routingUtilities={url:this._getItemFromResultsById(O.routingUtilities,Q).url},N.asyncRoute={url:this._getItemFromResultsById(O.asyncRoute,Q).url},N.route={url:this._getItemFromResultsById(O.route,Q).url},N.asyncODCostMatrix={url:this._getItemFromResultsById(O.asyncODCostMatrix,Q).url},B.isDefined(O.odCostMatrix)&&(N.odCostMatrix={url:this._getItemFromResultsById(O.odCostMatrix,Q).url}));L.trafficData&&(N.trafficData={url:this._getItemFromResultsById(O.trafficData,
Q).url});return N},_getItemFromResultsById:function(L,N){var O;for(O=0;O<N.length;O++)if(N[O].id===L){var Q=N[O];break}return Q},_getItemsById:function(L){var N=[],O;for(O=0;O<L.length;O++)N.push(C.request({url:esriGeowConfig.restBaseUrl+"content/items/"+L[O]}));return m(N)},_shareItemsToOrg:function(L){var N=esriGeowConfig.restBaseUrl+"content/users/"+this._user.username+"/shareItems";L={items:L.join(","),everyone:!1,org:!0};return C.request({url:N,content:L},{usePost:!0}).promise},_createServiceProxyItems:function(L){var N=
{promises:[],serviceIndex:{}};L.elevation&&(N.serviceIndex.elevation=N.promises.length,N.promises.push(this._createElevationServiceProxy(L.serviceUsername,L.servicePassword,L.folder)));L.geocode&&(N.serviceIndex.geocode=N.promises.length,N.promises.push(this._createGeocodeServiceProxy(L.serviceUsername,L.servicePassword,L.folder)));L.geoenrichment&&(N.serviceIndex.geoenrichment=N.promises.length,N.promises.push(this._createGeoEnrichmentServiceProxy(L.serviceUsername,L.servicePassword,L.folder)));
L.hydrology&&(N.serviceIndex.hydrology=N.promises.length,N.promises.push(this._createHydrologyServiceProxy(L.serviceUsername,L.servicePassword,L.folder)));L.network&&(N.serviceIndex.asyncClosestFacility=N.promises.length,N.promises.push(this._createAsyncClosestFacilityServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.asyncLocationAllocation=N.promises.length,N.promises.push(this._createAsyncLocationAllocationServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.asyncServiceArea=
N.promises.length,N.promises.push(this._createAsyncServiceAreaServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.asyncVRP=N.promises.length,N.promises.push(this._createAsyncVRPServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.closestFacility=N.promises.length,N.promises.push(this._createClosestFacilityServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.serviceArea=N.promises.length,N.promises.push(this._createServiceAreaServiceProxy(L.serviceUsername,
L.servicePassword,L.folder)),N.serviceIndex.syncVRP=N.promises.length,N.promises.push(this._createSyncVRPServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.traffic=N.promises.length,N.promises.push(this._createTrafficServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.routingUtilities=N.promises.length,N.promises.push(this._createRoutingUtilityServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.asyncRoute=N.promises.length,N.promises.push(this._createAsyncRouteServiceProxy(L.serviceUsername,
L.servicePassword,L.folder)),N.serviceIndex.route=N.promises.length,N.promises.push(this._createRouteServiceProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.asyncODCostMatrix=N.promises.length,N.promises.push(this._createAsyncODCostMatrixProxy(L.serviceUsername,L.servicePassword,L.folder)),N.serviceIndex.odCostMatrix=N.promises.length,N.promises.push(this._createODCostMatrixProxy(L.serviceUsername,L.servicePassword,L.folder)));L.trafficData&&(N.serviceIndex.trafficData=N.promises.length,
N.promises.push(this._createTrafficDataProxy(L.serviceUsername,L.servicePassword,L.folder)));return N},_collectItemIds:function(L,N,O){var Q={itemIds:[]};L.elevation&&(Q.elevation=O[N.elevation].id,Q.itemIds.push(O[N.elevation].id));L.geocode&&(Q.geocode=O[N.geocode].id,Q.itemIds.push(O[N.geocode].id));L.geoenrichment&&(Q.geoenrichment=O[N.geoenrichment].id,Q.itemIds.push(O[N.geoenrichment].id));L.hydrology&&(Q.hydrology=O[N.hydrology].id,Q.itemIds.push(O[N.hydrology].id));L.network&&(Q.asyncClosestFacility=
O[N.asyncClosestFacility].id,Q.itemIds.push(O[N.asyncClosestFacility].id),Q.asyncLocationAllocation=O[N.asyncLocationAllocation].id,Q.itemIds.push(O[N.asyncLocationAllocation].id),Q.asyncServiceArea=O[N.asyncServiceArea].id,Q.itemIds.push(O[N.asyncServiceArea].id),Q.asyncVRP=O[N.asyncVRP].id,Q.itemIds.push(O[N.asyncVRP].id),Q.closestFacility=O[N.closestFacility].id,Q.itemIds.push(O[N.closestFacility].id),Q.serviceArea=O[N.serviceArea].id,Q.itemIds.push(O[N.serviceArea].id),Q.syncVRP=O[N.syncVRP].id,
Q.itemIds.push(O[N.syncVRP].id),Q.traffic=O[N.traffic].id,Q.itemIds.push(O[N.traffic].id),Q.routingUtilities=O[N.routingUtilities].id,Q.itemIds.push(O[N.routingUtilities].id),Q.asyncRoute=O[N.asyncRoute].id,Q.itemIds.push(O[N.asyncRoute].id),Q.route=O[N.route].id,Q.itemIds.push(O[N.route].id),Q.asyncODCostMatrix=O[N.asyncODCostMatrix].id,Q.itemIds.push(O[N.asyncODCostMatrix].id),N.odCostMatrix&&O[N.odCostMatrix]&&(Q.odCostMatrix=O[N.odCostMatrix].id,Q.itemIds.push(O[N.odCostMatrix].id)));L.trafficData&&
(Q.trafficData=O[N.trafficData].id,Q.itemIds.push(O[N.trafficData].id));return Q},_addItem:function(L,N){return C.request({url:esriGeowConfig.restBaseUrl+"content/users/"+this._user.username+"/"+(N?N+"/":"")+"addItem",content:L},{usePost:!0})},_createElevationServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.elevation.url,title:this.i18n.serviceTitles.elevation+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,
servicePassword:N},O)},_createGeocodeServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.geocodeserver.type,url:this._selfNoAuth.helperServices.geocode[0].url,title:this.i18n.serviceTitles.geocode+this._getUsername(L),tags:this.itemInfo.geocodeserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createGeoEnrichmentServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.geoenrichmentserver.type,url:this._selfNoAuth.helperServices.geoenrichment.url,title:this.i18n.serviceTitles.geoenrichment+
this._getUsername(L),tags:this.itemInfo.geoenrichmentserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createHydrologyServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.hydrology.url,title:this.i18n.serviceTitles.hydrology+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createRouteServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.naserver.type,
url:this._selfNoAuth.helperServices.route.url,title:this.i18n.serviceTitles.route+this._getUsername(L),tags:this.itemInfo.naserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createAsyncClosestFacilityServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.asyncClosestFacility.url,title:this.i18n.serviceTitles.asyncClosestFacility+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},
O)},_createAsyncLocationAllocationServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.asyncLocationAllocation.url,title:this.i18n.serviceTitles.asyncLocationAllocation+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createAsyncServiceAreaServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.asyncServiceArea.url,
title:this.i18n.serviceTitles.asyncServiceArea+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createAsyncVRPServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.asyncVRP.url,title:this.i18n.serviceTitles.asyncVRP+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createClosestFacilityServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.naserver.type,
url:this._selfNoAuth.helperServices.closestFacility.url,title:this.i18n.serviceTitles.closestFacility+this._getUsername(L),tags:this.itemInfo.naserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createServiceAreaServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.naserver.type,url:this._selfNoAuth.helperServices.serviceArea.url,title:this.i18n.serviceTitles.serviceArea+this._getUsername(L),tags:this.itemInfo.naserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},
_createSyncVRPServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.syncVRP.url,title:this.i18n.serviceTitles.syncVRP+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createTrafficServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.mapserver.type,url:this._selfNoAuth.helperServices.traffic.url,title:this.i18n.serviceTitles.traffic+this._getUsername(L),tags:this.itemInfo.mapserver.typeKeywords,
serviceUsername:L,servicePassword:N},O)},_createRoutingUtilityServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.routingUtilities.url,title:this.i18n.serviceTitles.routingUtilities+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createAsyncRouteServiceProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.asyncRoute.url,
title:this.i18n.serviceTitles.asyncRoute+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createAsyncODCostMatrixProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.asyncODCostMatrix.url,title:this.i18n.serviceTitles.asyncODCostMatrix+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,serviceUsername:L,servicePassword:N},O)},_createODCostMatrixProxy:function(L,N,O){return this._selfNoAuth.helperServices.odCostMatrix?
this._addItem({type:this.itemInfo.naserver.type,url:this._selfNoAuth.helperServices.odCostMatrix.url,title:this.i18n.serviceTitles.odCostMatrix+this._getUsername(L),tags:this.itemInfo.naserver.typeKeywords,serviceUsername:L,servicePassword:N},O):null},_createTrafficDataProxy:function(L,N,O){return this._addItem({type:this.itemInfo.gpserver.type,url:this._selfNoAuth.helperServices.trafficData.url,title:this.i18n.serviceTitles.trafficData+this._getUsername(L),tags:this.itemInfo.gpserver.typeKeywords,
serviceUsername:L,servicePassword:N},O)},_getUsername:function(L){return B.substitute({name:L},this.i18n.usernameLabel)},_getDateStamp:function(){return" "+G.format(new Date,"day-month-year-short-time")},_clear:function(){this._currentlyEnabledServices={elevation:!1,orthomappingElevation:!1,geocode:!1,geoenrichment:!1,hydrology:!1,network:!1,trafficData:!1};this._newlyEnabledServices=a.clone(this._currentlyEnabledServices);this._okBtn.innerHTML=this.i18n.configure;this._elevationChkBox.setChecked(!1,
!0);this._geocodeChkBox.setChecked(!1,!0);this._geoenrichChkBox.setChecked(!1,!0);this._hydrologyChkBox.setChecked(!1,!0);this._networkChkBox.setChecked(!1,!0);this._orthomappingElevationChkBox.setChecked(!1,!0);this._trafficDataChkBox.setChecked(!1,!0);this._serviceInfoPane&&(this._serviceInfoPane._username.set("value",""),this._serviceInfoPane._password.set("value",""));v.set(this._credentialsRequired,"display","");v.set(this._credentials,"display","");v.set(this._folderLabel,"display","");v.set(this._folderSelect.domNode,
"display","");v.set(this._credentialContainer,"display","none");this._setConfiguring(!1)},_initialize:function(){var L=this;K.getSelf(function(N){L._portalSettings=a.clone(N);L._user=C.getUser();L._serviceInfoPane||(L._serviceInfoPane=new J({},L._credentials),L.own(k(L._serviceInfoPane,"onCredentialChange",a.hitch(this,L._credentialChanged))));L._clear();L._synchronizeFolders();L._synchronizeServices()})},_synchronizeFolders:function(){var L=this,N=C.getUser().username,O="",Q=N,V=[{id:"",name:Q}],
X;if(u("ESRI_Content")){var Z=C.getCookie("ESRI_Content");Z.folderId&&(O=Z.folderId)}I.getFolders(function(ca){L._folders=ca.folders;b.forEach(ca.folders,function(R){O===R.id&&(Q=R.title);V.push({id:R.id,name:R.title})});X=new p({data:V});L._folderSelect.set("store",X);L._folderSelect.set("value",Q)},function(ca){X=new p({data:V});L._folderSelect.set("store",X);L._folderSelect.set("value",N)},null,!0)},_getFolderId:function(L){if(L&&L!==C.getUser().username)for(var N=0;N<this._folders.length;N++)if(this._folders[N].title===
L)return this._folders[N].id;return""},_synchronizeServices:function(){var L=this,N={elevation:{enabled:!1},orthomappingElevation:{enabled:!1},geocode:{enabled:!1},geoenrichment:{enabled:!1},hydrology:{enabled:!1},network:{enabled:!1},trafficData:{enabled:!1}},O=[],Q;L._enableCheckboxes(!1);L._parseHelperServices(N,O);L._getItemsById(O).then(function(V){N.elevation.enabled&&(Q=L._retrieveItemResultById(V,N.elevation.itemId),L._currentlyEnabledServices.elevation=L._isAGOLEnabled(Q),L._currentlyEnabledServices.elevation&&
(L._currentlyEnabledServices.elevationItemId=Q.id,L._currentlyEnabledServices.elevationItemOwner=Q.owner,Q.ownerFolder&&(L._currentlyEnabledServices.elevationItemFolder=Q.ownerFolder)));L._currentlyEnabledServices.orthomappingElevation=!!N.orthomappingElevation.enabled;N.geocode.enabled&&(Q=L._retrieveItemResultById(V,N.geocode.itemId),L._currentlyEnabledServices.geocode=L._isAGOLEnabled(Q),L._currentlyEnabledServices.geocode&&(L._currentlyEnabledServices.geocodeItemId=Q.id,L._currentlyEnabledServices.geocodeItemOwner=
Q.owner,L._currentlyEnabledServices.geocodeItemIdx=N.geocode.itemIdx,Q.ownerFolder&&(L._currentlyEnabledServices.geocodeItemFolder=Q.ownerFolder)));N.geoenrichment.enabled&&(Q=L._retrieveItemResultById(V,N.geoenrichment.itemId),L._currentlyEnabledServices.geoenrichment=L._isAGOLEnabled(Q),L._currentlyEnabledServices.geoenrichment&&(L._currentlyEnabledServices.geoenrichmentItemId=Q.id,L._currentlyEnabledServices.geoenrichmentItemOwner=Q.owner,Q.ownerFolder&&(L._currentlyEnabledServices.geoenrichmentItemFolder=
Q.ownerFolder)));N.hydrology.enabled&&(Q=L._retrieveItemResultById(V,N.hydrology.itemId),L._currentlyEnabledServices.hydrology=L._isAGOLEnabled(Q),L._currentlyEnabledServices.hydrology&&(L._currentlyEnabledServices.hydrologyItemId=Q.id,L._currentlyEnabledServices.hydrologyItemOwner=Q.owner,Q.ownerFolder&&(L._currentlyEnabledServices.hydrologyItemFolder=Q.ownerFolder)));if(N.network.enabled){var X=L._retrieveItemResultById(V,N.network.asyncClosestFacilityItemId),Z=L._retrieveItemResultById(V,N.network.asyncLocationAllocationItemId),
ca=L._retrieveItemResultById(V,N.network.asyncServiceAreaItemId),R=L._retrieveItemResultById(V,N.network.asyncVRPItemId),Y=L._retrieveItemResultById(V,N.network.closestFacilityItemId),ba=L._retrieveItemResultById(V,N.network.serviceAreaItemId),aa=L._retrieveItemResultById(V,N.network.syncVRPItemId),W=L._retrieveItemResultById(V,N.network.trafficItemId),da=L._retrieveItemResultById(V,N.network.routingUtilitiesItemId),ea=L._retrieveItemResultById(V,N.network.asyncRouteItemId),ja=L._retrieveItemResultById(V,
N.network.routeItemId),fa=L._retrieveItemResultById(V,N.network.asyncODCostMatrix),ha=L._retrieveItemResultById(V,N.network.odCostMatrix);L._isAGOLEnabled(X)&&L._isAGOLEnabled(Z)&&L._isAGOLEnabled(ca)&&L._isAGOLEnabled(R)&&L._isAGOLEnabled(Y)&&L._isAGOLEnabled(ba)&&L._isAGOLEnabled(aa)&&L._isAGOLEnabled(W)&&L._isAGOLEnabled(da)&&L._isAGOLEnabled(ea)&&L._isAGOLEnabled(ja)&&L._isAGOLEnabled(fa)&&L._isAGOLEnabled(ha)&&(L._currentlyEnabledServices.network=!0,L._currentlyEnabledServices.networkItemIds=
[X.id,Z.id,ca.id,R.id,Y.id,ba.id,aa.id,W.id,da.id,ea.id,ja.id,fa.id,ha.id],L._currentlyEnabledServices.networkItemOwners={},L._currentlyEnabledServices.networkItemOwners[X.id]=X.owner,L._currentlyEnabledServices.networkItemOwners[Z.id]=Z.owner,L._currentlyEnabledServices.networkItemOwners[ca.id]=ca.owner,L._currentlyEnabledServices.networkItemOwners[R.id]=R.owner,L._currentlyEnabledServices.networkItemOwners[Y.id]=Y.owner,L._currentlyEnabledServices.networkItemOwners[ba.id]=ba.owner,L._currentlyEnabledServices.networkItemOwners[aa.id]=
aa.owner,L._currentlyEnabledServices.networkItemOwners[W.id]=W.owner,L._currentlyEnabledServices.networkItemOwners[da.id]=da.owner,L._currentlyEnabledServices.networkItemOwners[ea.id]=ea.owner,L._currentlyEnabledServices.networkItemOwners[ja.id]=ja.owner,L._currentlyEnabledServices.networkItemOwners[fa.id]=fa.owner,L._currentlyEnabledServices.networkItemOwners[ha.id]=ha.owner,L._currentlyEnabledServices.networkItemFolders={},L._currentlyEnabledServices.networkItemFolders[X.id]=X.ownerFolder,L._currentlyEnabledServices.networkItemFolders[Z.id]=
Z.ownerFolder,L._currentlyEnabledServices.networkItemFolders[ca.id]=ca.ownerFolder,L._currentlyEnabledServices.networkItemFolders[R.id]=R.ownerFolder,L._currentlyEnabledServices.networkItemFolders[Y.id]=Y.ownerFolder,L._currentlyEnabledServices.networkItemFolders[ba.id]=ba.ownerFolder,L._currentlyEnabledServices.networkItemFolders[aa.id]=aa.ownerFolder,L._currentlyEnabledServices.networkItemFolders[W.id]=W.ownerFolder,L._currentlyEnabledServices.networkItemFolders[da.id]=da.ownerFolder,L._currentlyEnabledServices.networkItemFolders[ea.id]=
ea.ownerFolder,L._currentlyEnabledServices.networkItemFolders[ja.id]=ja.ownerFolder,L._currentlyEnabledServices.networkItemFolders[fa.id]=fa.ownerFolder,L._currentlyEnabledServices.networkItemFolders[ha.id]=ha.ownerFolder)}N.trafficData.enabled&&(Q=L._retrieveItemResultById(V,N.trafficData.itemId),L._currentlyEnabledServices.trafficData=L._isAGOLEnabled(Q),L._currentlyEnabledServices.trafficData&&(L._currentlyEnabledServices.trafficDataItemId=Q.id,L._currentlyEnabledServices.trafficDataItemOwner=
Q.owner,Q.ownerFolder&&(L._currentlyEnabledServices.trafficDataItemFolder=Q.ownerFolder)));L._newlyEnabledServices=a.clone(L._currentlyEnabledServices);L._elevationChkBox.setChecked(L._currentlyEnabledServices.elevation,!0);L._geocodeChkBox.setChecked(L._currentlyEnabledServices.geocode,!0);L._geoenrichChkBox.setChecked(L._currentlyEnabledServices.geoenrichment,!0);L._hydrologyChkBox.setChecked(L._currentlyEnabledServices.hydrology,!0);L._networkChkBox.setChecked(L._currentlyEnabledServices.network,
!0);L._orthomappingElevationChkBox.setChecked(L._currentlyEnabledServices.orthomappingElevation,!0);L._trafficDataChkBox.setChecked(L._currentlyEnabledServices.trafficData,!0);L._enableCheckboxes(!0)},function(V){L._enableCheckboxes(!0)})},_isAGOLEnabled:function(L){return L&&this._isStringSet(L.sourceUrl)&&-1<L.sourceUrl.indexOf(".arcgis.com")},_retrieveItemResultById:function(L,N){var O=null;if(L&&0<L.length)for(var Q=0;Q<L.length&&(!(O=L[Q])||O.id!==N);Q++);return O},_parseHelperServices:function(L,
N){var O=this._portalSettings.helperServices;if(this._serviceIsSet(O.elevation)&&this._serviceIsSet(O.elevationSync)){var Q=this._findItemId(O.elevation.url);B.isDefined(Q)&&(L.elevation.enabled=!0,L.elevation.itemId=Q,N.push(Q))}L.orthomappingElevation.enabled=!(!this._serviceIsSet(O.orthomappingElevation)||!this._isAGOLEnabled({sourceUrl:O.orthomappingElevation.url}));if(O.geocode&&0<O.geocode.length)for(var V,X=0;X<O.geocode.length;X++)if(V=O.geocode[X],Q=this._findItemId(V.url),B.isDefined(Q)&&
(V.name===this.i18n.esriWorldGeocoder||V.name===this.i18n.serviceTitles.geocodeBatch)){L.geocode.enabled=!0;L.geocode.itemId=Q;L.geocode.itemIdx=X;N.push(Q);break}this._serviceIsSet(O.geoenrichment)&&(Q=this._findItemId(O.geoenrichment.url),B.isDefined(Q)&&(L.geoenrichment.enabled=!0,L.geoenrichment.itemId=Q,N.push(Q)));this._serviceIsSet(O.hydrology)&&(Q=this._findItemId(O.hydrology.url),B.isDefined(Q)&&(L.hydrology.enabled=!0,L.hydrology.itemId=Q,N.push(Q)));this._serviceIsSet(O.asyncClosestFacility)&&
(Q=this._findItemId(O.asyncClosestFacility.url),B.isDefined(Q)&&(L.network.asyncClosestFacilityItemId=Q,N.push(Q)));this._serviceIsSet(O.asyncLocationAllocation)&&(Q=this._findItemId(O.asyncLocationAllocation.url),B.isDefined(Q)&&(L.network.asyncLocationAllocationItemId=Q,N.push(Q)));this._serviceIsSet(O.asyncServiceArea)&&(Q=this._findItemId(O.asyncServiceArea.url),B.isDefined(Q)&&(L.network.asyncServiceAreaItemId=Q,N.push(Q)));this._serviceIsSet(O.asyncVRP)&&(Q=this._findItemId(O.asyncVRP.url),
B.isDefined(Q)&&(L.network.asyncVRPItemId=Q,N.push(Q)));this._serviceIsSet(O.closestFacility)&&(Q=this._findItemId(O.closestFacility.url),B.isDefined(Q)&&(L.network.closestFacilityItemId=Q,N.push(Q)));this._serviceIsSet(O.serviceArea)&&(Q=this._findItemId(O.serviceArea.url),B.isDefined(Q)&&(L.network.serviceAreaItemId=Q,N.push(Q)));this._serviceIsSet(O.syncVRP)&&(Q=this._findItemId(O.syncVRP.url),B.isDefined(Q)&&(L.network.syncVRPItemId=Q,N.push(Q)));this._serviceIsSet(O.traffic)&&(Q=this._findItemId(O.traffic.url),
B.isDefined(Q)&&(L.network.trafficItemId=Q,N.push(Q)));this._serviceIsSet(O.routingUtilities)&&(Q=this._findItemId(O.routingUtilities.url),B.isDefined(Q)&&(L.network.routingUtilitiesItemId=Q,N.push(Q)));this._serviceIsSet(O.asyncRoute)&&(Q=this._findItemId(O.asyncRoute.url),B.isDefined(Q)&&(L.network.asyncRouteItemId=Q,N.push(Q)));this._serviceIsSet(O.route)&&(Q=this._findItemId(O.route.url),B.isDefined(Q)&&(L.network.routeItemId=Q,N.push(Q)));this._serviceIsSet(O.asyncODCostMatrix)&&(Q=this._findItemId(O.asyncODCostMatrix.url),
B.isDefined(Q)&&(L.network.asyncODCostMatrixItemId=Q,N.push(Q)));this._serviceIsSet(O.odCostMatrix)&&(Q=this._findItemId(O.odCostMatrix.url),B.isDefined(Q)&&(L.network.odCostMatrixItemId=Q,N.push(Q)));L.network.asyncClosestFacilityItemId&&L.network.asyncLocationAllocationItemId&&L.network.asyncServiceAreaItemId&&L.network.asyncVRPItemId&&L.network.closestFacilityItemId&&L.network.serviceAreaItemId&&L.network.syncVRPItemId&&L.network.trafficItemId&&L.network.routingUtilitiesItemId&&L.network.asyncRouteItemId&&
L.network.routeItemId&&L.network.asyncODCostMatrixItemId&&L.network.odCostMatrixItemId&&(L.network.enabled=!0);this._serviceIsSet(O.trafficData)&&(Q=this._findItemId(O.trafficData.url),B.isDefined(Q)&&(L.trafficData.enabled=!0,L.trafficData.itemId=Q,N.push(Q)))},_enableCheckboxes:function(L){L?(this._elevationChkBox.enable(),this._geocodeChkBox.enable(),this._geoenrichChkBox.enable(),this._hydrologyChkBox.enable(),this._networkChkBox.enable(),this._orthomappingElevationChkBox.enable(),this._trafficDataChkBox.enable()):
(this._elevationChkBox.disable(),this._geocodeChkBox.disable(),this._geoenrichChkBox.disable(),this._hydrologyChkBox.disable(),this._networkChkBox.disable(),this._orthomappingElevationChkBox.disable(),this._trafficDataChkBox.disable())},_findItemId:function(L){var N=null;if(this._isStringSet(L)){var O=L.indexOf("/sharing/servers/");-1<O&&(O+=17,N=L.indexOf("/rest/services/"),N=L.substring(O,N))}return N},_serviceIsSet:function(L){return B.isDefined(L)&&this._isStringSet(L.url)},reset:function(){this._initialize()},
_reload:function(){esriGeowConfig.self=null;this.reset()}});S.prototype.statics={_instance:null,getInstance:function(){null==this._instance&&(this._instance=new S);return this._instance}};return S})},"arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin":function(){define(["dojo","dijit","dojox","dojo/require!dojox/grid/DataGrid"],function(U,M,a){U.provide("arcgisonline.sharing.dijit.dialog._AddItemDlgMixin");U.require("dojox.grid.DataGrid");M=U.declare;var b=esriGeowConfig.userRole&&esriGeowConfig.userRole.canCreateNotebooks()?
{type:"Notebook",typeKeywords:"Notebook, Python"}:!1;var k=esriGeowConfig.userRole&&(esriGeowConfig.userRole.canCreateNotebooks()||esriGeowConfig.userRole.canPublishNotebooks())?{type:"Notebook",typeKeywords:"Notebook, Python"}:!1;M.call(U,"arcgisonline.sharing.dijit.dialog._AddItemDlgMixin",null,{itemInfo:{nmf:{typeKeywords:"Map,Explorer Map,Explorer Document,2D,3D,ArcGIS Explorer,nmf",type:"Explorer Map"},mxd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, mxd",type:"Map Document"},
msd:{typeKeywords:"Map Document, Map, 2D, ArcMap, ArcGIS Server, msd",type:"Map Document"},"3dd":{typeKeywords:"Map, Globe Document, 3D, ArcGlobe, ArcGIS Server, 3dd",type:"Globe Document"},"3ws":{typeKeywords:"3D, Map, Scene, Web",type:"CityEngine Web Scene",thumbnailURL:"/cw_webscene.png"},sxd:{typeKeywords:"Map, Scene Document, 3D, ArcScene, sxd",type:"Scene Document"},lpk:{typeKeywords:"",type:"Layer Package"},lpkx:{typeKeywords:"",type:"Layer Package"},mpk:{typeKeywords:"",type:"Map Package"},
mpkx:{typeKeywords:"",type:"Map Package"},wmpk:{typeKeywords:"",type:"Windows Mobile Package"},rpk:{typeKeywords:"",type:"Rule Package"},bpk:{typeKeywords:"",type:"Mobile Basemap Package"},mspk:{typeKeywords:"",type:"Mobile Scene Package",thumbnailURL:"/mobilescenepackage.png"},scenepackage:{typeKeywords:"",type:"Scene Package",thumbnailURL:"/desktopapp.png"},gpkg:{typeKeywords:"",type:"GeoPackage",thumbnailURL:"/geopackage.png"},imagecollection:{typeKeywords:"Data, Image, Raster",type:"Image Collection"},
photocollection:{typeKeywords:"Photo locations",type:"Image Collection"},deeplearningpackage:{typeKeywords:"Deep Learning, Raster",type:"Deep Learning Package",thumbnailURL:"/deeplearningpackage.png"},gml:{type:"GML"},mapx:{typeKeywords:"ArcGIS Pro, Map, Map File, mapx",type:"Pro Map"},lyrx:{typeKeywords:"ArcGIS Pro, Layer, Layer File, lyrx",type:"Layer"},pagx:{typeKeywords:"ArcGIS Pro, Layout, Layout File, pagx",type:"Layout"},lyr:{typeKeywords:"Data, Layer, ArcMap,ArcGlobe,ArcGIS Explorer,lyr",
type:"Layer"},servicedefinition:{typeKeywords:"Data, Service, Service Definition",type:"Service Definition"},nmc:{typeKeywords:"Data,Layer,Explorer Layer,ArcGIS Explorer,nmc",type:"Explorer Layer"},ncfg:{typeKeywords:"Map,Explorer Map,Explorer Mapping Application,2D,3D,ArcGIS Explorer,ncfg",type:"Explorer Map"},eaz:{typeKeywords:"Tool,Add In,Explorer Add In,ArcGIS Explorer,eaz",type:"Explorer Add In"},pmf:{typeKeywords:"Map,Published Map,2D,ArcReader,ArcMap,ArcGIS Server,pmf",type:"Published Map"},
gpk:{typeKeywords:"",type:"Geoprocessing Package"},gpkx:{typeKeywords:"Tool, ArcGIS Pro, Toolbox, Model, Script, Result, gpkx",type:"Geoprocessing Package"},gcpk:{typeKeywords:"",type:"Locator Package"},tilepackage:{type:"Tile Package",typeKeywords:""},vectortilepackage:{type:"Vector Tile Package",typeKeywords:""},vectortileserver:{type:"Vector Tile Service",typeKeywords:""},urbanmodel:{type:"Urban Model",typeKeywords:""},wpk:{type:"Workflow Manager Package",typeKeywords:"",thumbnailURL:"/desktopapp.png"},
esriaddin:{type:"Desktop Add In",typeKeywords:"Tool,Add In,Desktop Add In,ArcGIS Desktop,ArcMap,ArcGlobe,ArcScene,esriaddin"},esriaddinx:{type:"ArcGIS Pro Add In",typeKeywords:"Tool, Add In, Pro Add In, esriaddinx"},dtemp:{type:"Desktop Application Template",typeKeywords:"application, template, ArcGIS desktop"},mtemp:{type:"Map Template",typeKeywords:"map, ArcMap, template, ArcGIS desktop"},codesample:{type:"Code Sample",typeKeywords:"Code, Sample",thumbnailURL:"/desktopapp.png"},shapefile:{type:"Shapefile",
typeKeywords:"Data, Layer, shapefile"},vieweraddin:{type:"Windows Viewer Add In",typeKeywords:"Application, ArcGIS Windows Viewer, Add In"},opdashboardaddin:{type:"Operations Dashboard Add In",typeKeywords:"Application, ArcGIS Operations Dashboard, Add In"},desktopapplication:{type:"Desktop Application",typeKeywords:"Desktop Application"},proconfigx:{type:"ArcGIS Pro Configuration",typeKeywords:""},csv:{type:"CSV",typeKeywords:"CSV",thumbnailURL:"/desktopapp.png"},gpsample:{type:"Geoprocessing Sample",
typeKeywords:"tool, geoprocessing, sample",thumbnailURL:"/desktopapp.png"},kml:{type:"KML",typeKeywords:"Data, Map, kml",thumbnailURL:"/desktopapp.png"},kmz:{type:"KML",typeKeywords:"Data, Map, kmz",thumbnailURL:"/desktopapp.png"},apimobile:{type:"Mobile Application",typeKeywords:"ArcGIS Mobile Map, Mobile Application",thumbnailURL:"/mobileapp.png"},apimap:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site",thumbnailURL:"/webapp.png"},apiapp:{type:"Application",typeKeywords:"Application"},
wab:{type:"Web Mapping Application",typeKeywords:"Web Map, Map, Online Map, Mapping Site, Web AppBuilder for ArcGIS",thumbnailURL:"/webapp.png"},configapp:{type:"Web Mapping Application",typeKeywords:"JavaScript, Map, Mapping Site, Online Map, Ready To Use, Web Map",thumbnailURL:"/webapp.png"},dashboard:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png"},dashboard_map:{type:"Dashboard",typeKeywords:"",thumbnailURL:"/opsdashboard.png",text:'{ "version": 45, "layout": { "rootElement": { "type": "itemLayoutElement", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517" } }, "widgets": [ { "type": "mapWidget", "itemId": "${mapId}", "id": "1200f3f1-8f72-4ea6-af16-14f19e9a4517", "name": "Map (1)"} ] }'},
featureserver:{type:"Feature Service",typeKeywords:"Data, Service, Feature Service, ArcGIS Server, Feature Access"},mapserver:{type:"Map Service",typeKeywords:"Data, Service, Map Service, ArcGIS Server"},geocodeserver:{type:"Geocoding Service",typeKeywords:"Tool, Service, Geocoding Service, Locator Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},geoenrichmentserver:{type:"Geoenrichment Service"},naserver:{type:"Network Analysis Service",typeKeywords:"Tool, Service, Network Analysis Service, ArcGIS Server"},
globeserver:{type:"Globe Service",typeKeywords:"Data, Service, Globe Service, ArcGIS Server",thumbnailURL:"/desktopapp.png"},gpserver:{type:"Geoprocessing Service",typeKeywords:"Tool, Service, Geoprocessing Service, ArcGIS Server"},geodataserver:{type:"Geodata Service",typeKeywords:"Data, Service, Geodata Service, ArcGIS Server"},imageserver:{type:"Image Service",typeKeywords:"Data, Service, Image Service, ArcGIS Server"},geometryserver:{type:"Geometry Service",typeKeywords:"Tool, Service, Geometry Service, ArcGIS Server",
thumbnailURL:"/desktopapp.png"},wmserver:{type:"Workflow Manager Service",typeKeywords:"Workflow Manager, ArcGIS Server, WMServer, Workflow, JTX, Job Tracking",thumbnailURL:"/desktopapp.png"},sceneserver:{type:"Scene Service",thumbnailURL:"/scene.png",typeKeywords:"Scene Service"},streamserver:{type:"Stream Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Data, Service, Stream Service, ArcGIS Server"},elevationserver:{type:"Image Service",thumbnailURL:"/desktopapp.png",typeKeywords:"Elevation 3D Layer"},
tiledimageserver:{type:"Image Service",thumbnailURL:"/tiledimagerylayer.png",typeKeywords:"Tiled Imagery"},workspaceserver:{type:"Insights Workbook",thumbnailURL:"/desktopapp.png",typeKeywords:"Application,ArcGIS,Insights Workbook"},ogc:{type:"WMS",typeKeywords:"Data, Service, Web Map Service, OGC"},wfs:{type:"WFS",typeKeywords:"Data, Service, Web Feature Service, OGC"},wmts:{type:"WMTS",typeKeywords:"Data, Service, OGC"},ogcfeatures:{type:"OGCFeatureService",typeKeywords:"Data, Feature Service, Features, OGC, Service, WFS"},
arcpadpackage:{type:"ArcPad Package",typeKeywords:"Map, Layer, Data",thumbnailURL:"/desktopapp.png"},kmlcollection:{type:"KML Collection",thumbnailURL:"/desktopapp.png"},csvcollection:{type:"CSV Collection",thumbnailURL:"/desktopapp.png"},filegeodatabase:{type:"File Geodatabase",thumbnailURL:"/desktopapp.png"},caddrawing:{type:"CAD Drawing",thumbnailURL:"/desktopapp.png"},featurecollection:{type:"Feature Collection"},esritasks:{type:"Task File",typeKeywords:"ArcGIS Professional, Task Assistant, esriTasks"},
stylx:{type:"Desktop Style",typeKeywords:"ArcGIS Pro, Symbology, Style, Symbols"},ppkx:{type:"Project Package",typeKeywords:""},aptx:{type:"Project Template",typeKeywords:"ArcGIS Project Template, Project Template, ArcGIS Pro"},mmpk:{type:"Mobile Map Package",typeKeywords:""},mbpk:{type:"Mobile Basemap Package",typeKeywords:""},geojson:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},json:{type:"GeoJson",typeKeywords:"Coordinates Type, CRS, Feature, FeatureCollection, GeoJSON, Geometry, GeometryCollection"},
rft:{type:"Raster function template",typeKeywords:"Raster, Functions, Processing, rft, srf, function template, templates, ArcGIS Pro",thumbnailURL:"/desktopapp.png"},"3vr":{type:"360 VR Experience",typeKeywords:""},ipynb:b,notebook:k},orgOnly:{ppt:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},pptx:{type:"Microsoft Powerpoint",typeKeywords:"Data, Document, Microsoft Powerpoint"},document:{type:"Document Link",typeKeywords:"Data, Document"},doc:{type:"Microsoft Word",
typeKeywords:"Data, Document, Microsoft Word"},docx:{type:"Microsoft Word",typeKeywords:"Data, Document, Microsoft Word"},xls:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},xlsx:{type:"Microsoft Excel",typeKeywords:"Data, Document, Microsoft Excel"},pdf:{type:"PDF",typeKeywords:"Data, Document, PDF"},jpg:{type:"Image",typeKeywords:"Data, Image, jpg"},jpeg:{type:"Image",typeKeywords:"Data, Image, jpeg"},tif:{type:"Image",typeKeywords:"Data, Image, tif"},tiff:{type:"Image",
typeKeywords:"Data, Image, tiff"},png:{type:"Image",typeKeywords:"Data, Image, png"},vsd:{type:"Visio Document",typeKeywords:"Data, Document, Visio Document"},pages:{type:"iWork Pages",typeKeywords:"Data, Document, Mac"},numbers:{type:"iWork Numbers",typeKeywords:"Data, Document, Mac"},keynote:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},key:{type:"iWork Keynote",typeKeywords:"Data, Document, Mac"},opext:{type:"Operations Dashboard Extension",typeKeywords:"Extension, Application, ArcGIS Operations Dashboard"},
appbldrext:{type:"AppBuilder Extension",typeKeywords:"Widget, App Builder"},appbldrpackage:{type:"AppBuilder Widget Package"},rptx:{type:"Pro Report",typeKeywords:""},xml:{type:"Earth Configuration",typeKeywords:"ArcGIS Earth, Earth, Earth Configuration"}},gridInfo:{csv:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"type",name:"fieldType",select:"fieldTypes",editable:!0,type:a.grid.cells.Select},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",
type:a.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:a.grid.cells.Select}],xlsx:[{width:"170px",field:"name",name:"fieldName"},{width:"160px",field:"locationType",name:"addressFields",select:"addressTypes",editable:"true",type:a.grid.cells.Select},{width:"160px",field:"locationType",name:"locationFields",select:"locationTypes",editable:"true",hidden:!0,type:a.grid.cells.Select}],ogc:[{field:"visible",name:'\x3cinput id\x3d"_ogcCB", type\x3d"checkbox" checked/\x3e',
width:"16px",editable:!0,type:a.grid.cells.Bool},{field:"title",name:"ogcLayers",editable:!0,width:"420px"}]}})})},"dojox/grid/DataGrid":function(){define("../main dojo/_base/array dojo/_base/lang dojo/_base/json dojo/_base/sniff dojo/_base/declare ./_Grid ./DataSelection dojo/_base/html dojo/has dojo/has!dojo-bidi?./bidi/_BidiMixin".split(" "),function(U,M,a,b,k,f,m,h,u){var r=f("dojox.grid.DataGrid",m,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,
_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:!1,_isLoading:!1,keepSelection:!1,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments)},destroy:function(){this.selection.destroy();this.inherited(arguments)},createSelection:function(){this.selection=new h(this)},get:function(e,
v){if(v&&"_item"==this.field&&!this.fields)return v;if(v&&this.fields){var g=[],p=this.grid.store;M.forEach(this.fields,function(n){g=g.concat(p.getValues(v,n))});return g}return v||"string"!==typeof e?v?this.field?"_item"==this.field?v:this.grid.store.getValue(v,this.field):this.value:this.defaultValue:this.inherited(arguments)},_checkUpdateStatus:function(){if(0<this.updateDelay){var e=!1;this._endUpdateDelay&&(clearTimeout(this._endUpdateDelay),delete this._endUpdateDelay,e=!0);this.updating||
(this.beginUpdate(),e=!0);if(e){var v=this;this._endUpdateDelay=setTimeout(function(){delete v._endUpdateDelay;v.endUpdate()},this.updateDelay)}}},_onSet:function(e,v,g,p){this._checkUpdateStatus();e=this.getItemIndex(e);-1<e&&this.updateRow(e)},_createItem:function(e,v){v=this._hasIdentity?this.store.getIdentity(e):b.toJson(this.query)+":idx:"+v+":sort:"+b.toJson(this.getSortProps());return this._by_idty[v]={idty:v,item:e}},_addItem:function(e,v,g){this._by_idx[v]=this._createItem(e,v);g||this.updateRow(v)},
_onNew:function(e,v){this._checkUpdateStatus();v=this.get("rowCount");this._addingItem=!0;this.updateRowCount(v+1);this._addingItem=!1;this._addItem(e,v);this.showMessage()},_onDelete:function(e){this._checkUpdateStatus();e=this._getItemIndex(e,!0);if(0<=e){this._pages=[];this._eop=this._bop=-1;var v=this._by_idx[e];this._by_idx.splice(e,1);delete this._by_idty[v.idty];this.updateRowCount(this.get("rowCount")-1);0===this.get("rowCount")&&this.showMessage(this.noDataMessage)}this.selection.isSelected(e)&&
(this.selection.deselect(e),this.selection.selected.splice(e,1))},_onRevert:function(){this._refresh()},setStore:function(e,v,g){this._requestsPending(0)||(this._setQuery(v,g),this._setStore(e),this._refresh(!0))},setQuery:function(e,v){this._requestsPending(0)||(this._setQuery(e,v),this._refresh(!0))},setItems:function(e){this.items=e;this._setStore(this.store);this._refresh(!0)},_setQuery:function(e,v){this.query=e;this.queryOptions=v||this.queryOptions},_setStore:function(e){this.store&&this._store_connects&&
M.forEach(this._store_connects,this.disconnect,this);if(this.store=e){e=this.store.getFeatures();var v=[];this._canEdit=!!e["dojo.data.api.Write"]&&!!e["dojo.data.api.Identity"];this._hasIdentity=!!e["dojo.data.api.Identity"];e["dojo.data.api.Notification"]&&!this.items&&(v.push(this.connect(this.store,"onSet","_onSet")),v.push(this.connect(this.store,"onNew","_onNew")),v.push(this.connect(this.store,"onDelete","_onDelete")));this._canEdit&&v.push(this.connect(this.store,"revert","_onRevert"));this._store_connects=
v}},_onFetchBegin:function(e,v){this.scroller&&(this.rowCount!=e&&(v.isRender?(this.scroller.init(e,this.keepRows,this.rowsPerPage),this.rowCount=e,this._setAutoHeightAttr(this.autoHeight,!0),this._skipRowRenormalize=!0,this.prerender(),this._skipRowRenormalize=!1):this.updateRowCount(e)),e?this.showMessage():(this.views.render(),this._resize(),this.showMessage(this.noDataMessage),this.focus.initFocusView()))},_onFetchComplete:function(e,v){this.scroller&&(e&&0<e.length&&(M.forEach(e,function(g,p){this._addItem(g,
v.start+p,!0)},this),this.updateRows(v.start,e.length),v.isRender?(this.setScrollTop(0),this.postrender()):this._lastScrollTop&&this.setScrollTop(this._lastScrollTop),k("ie")&&u.setSelectable(this.domNode,this.selectable)),delete this._lastScrollTop,this._isLoaded||(this._isLoading=!1,this._isLoaded=!0),this._pending_requests[v.start]=!1)},_onFetchError:function(e,v){delete this._lastScrollTop;this._isLoaded||(this._isLoading=!1,this._isLoaded=!0,this.showMessage(this.errorMessage));this._pending_requests[v.start]=
!1;this.onFetchError(e,v)},onFetchError:function(e,v){},_fetch:function(e,v){e=e||0;if(this.store&&!this._pending_requests[e]){this._isLoaded||this._isLoading||(this._isLoading=!0,this.showMessage(this.loadingMessage));this._pending_requests[e]=!0;try{if(this.items){var g=this.items,p=this.store;this.rowsPerPage=g.length;var n={start:e,count:this.rowsPerPage,isRender:v};this._onFetchBegin(g.length,n);var q=0;M.forEach(g,function(c){p.isItemLoaded(c)||q++});if(0===q)this._onFetchComplete(g,n);else{var l=
function(c){q--;0===q&&this._onFetchComplete(g,n)};M.forEach(g,function(c){p.isItemLoaded(c)||p.loadItem({item:c,onItem:l,scope:this})},this)}}else this.store.fetch({start:e,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:v,onBegin:a.hitch(this,"_onFetchBegin"),onComplete:a.hitch(this,"_onFetchComplete"),onError:a.hitch(this,"_onFetchError")})}catch(c){this._onFetchError(c,{start:e,count:this.rowsPerPage})}}},_clearData:function(){this.updateRowCount(0);
this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoading=this._isLoaded=!1},getItem:function(e){var v=this._by_idx[e];return!v||v&&!v.item?(this._preparePage(e),null):v.item},getItemIndex:function(e){return this._getItemIndex(e,!1)},_getItemIndex:function(e,v){if(!v&&!this.store.isItem(e))return-1;v=this._hasIdentity?this.store.getIdentity(e):null;for(var g=0,p=this._by_idx.length;g<p;g++){var n=this._by_idx[g];if(n&&(v&&n.idty==v||n.item===e))return g}return-1},filter:function(e,
v){this.query=e;v&&this._clearData();this._fetch()},_getItemAttr:function(e,v){return(e=this.getItem(e))?this.store.getValue(e,v):this.fetchText},_render:function(){this.domNode.parentNode&&(this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage),this.prerender(),this._fetch(0,!0))},_requestsPending:function(e){return this._pending_requests[e]},_rowToPage:function(e){return this.rowsPerPage?Math.floor(e/this.rowsPerPage):e},_pageToRow:function(e){return this.rowsPerPage?this.rowsPerPage*
e:e},_preparePage:function(e){(e<this._bop||e>=this._eop)&&!this._addingItem&&(e=this._rowToPage(e),this._needPage(e),this._bop=e*this.rowsPerPage,this._eop=this._bop+(this.rowsPerPage||this.get("rowCount")))},_needPage:function(e){this._pages[e]||(this._pages[e]=!0,this._requestPage(e))},_requestPage:function(e){e=this._pageToRow(e);0<Math.min(this.rowsPerPage,this.get("rowCount")-e)&&(this._requests++,this._requestsPending(e)||setTimeout(a.hitch(this,"_fetch",e,!1),1))},getCellName:function(e){return e.field},
_refresh:function(e){this._clearData();this._fetch(0,e)},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh()},canSort:function(){return!this._isLoading},getSortProps:function(){var e=this.getCell(this.getSortIndex());if(e){var v=e.sortDesc,g=!(0<this.sortInfo);return[{attribute:e.field,descending:"undefined"==typeof v?g:g?!v:v}]}return this.sortFields?this.sortFields:null},styleRowState:function(e){if(this.store&&this.store.getState){for(var v=this.store.getState(e.index),
g="",p=0,n=["inflight","error","inserting"],q;q=n[p];p++)if(v[q]){g=" dojoxGridRow-"+q;break}e.customClasses+=g}},onStyleRow:function(e){this.styleRowState(e);this.inherited(arguments)},canEdit:function(e,v){return this._canEdit},_copyAttr:function(e,v){e=this.getItem(e);return this.store.getValue(e,v)},doStartEdit:function(e,v){this._cache[v]||(this._cache[v]=this._copyAttr(v,e.field));this.onStartEdit(e,v)},doApplyCellEdit:function(e,v,g){this.store.fetchItemByIdentity({identity:this._by_idx[v].idty,
onItem:a.hitch(this,function(p){var n=this.store.getValue(p,g);"number"==typeof n?e=isNaN(e)?e:parseFloat(e):"boolean"==typeof n?e="true"==e?!0:"false"==e?!1:e:n instanceof Date&&(n=new Date(e),e=isNaN(n.getTime())?e:n);this.store.setValue(p,g,e);this.onApplyCellEdit(e,v,g)})})},doCancelEdit:function(e){this._cache[e]&&(this.updateRow(e),delete this._cache[e]);this.onCancelEdit.apply(this,arguments)},doApplyEdit:function(e,v){this.onApplyEdit(e)},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();
var e=a.hitch(this,function(v){v.length&&(M.forEach(v,this.store.deleteItem,this.store),this.selection.clear())});this.allItemsSelected?this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:e}):e(this.selection.getSelected())}}});r.cell_markupFactory=function(e,v,g){var p=a.trim(u.attr(v,"field")||"");p&&(g.field=p);g.field=g.field||g.name;if(p=a.trim(u.attr(v,"fields")||""))g.fields=p.split(",");e&&e(v,g)};r.markupFactory=function(e,v,g,p){return m.markupFactory(e,v,g,a.partial(r.cell_markupFactory,
p))};return r})},"dojox/grid/DataSelection":function(){define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(U,M,a){return U("dojox.grid.DataSelection",a,{constructor:function(b){b.keepSelection&&(this.preserver=new M(this))},destroy:function(){this.preserver&&this.preserver.destroy()},getFirstSelected:function(){var b=a.prototype.getFirstSelected.call(this);return-1==b?null:this.grid.getItem(b)},getNextSelected:function(b){b=this.grid.getItemIndex(b);b=a.prototype.getNextSelected.call(this,
b);return-1==b?null:this.grid.getItem(b)},getSelected:function(){for(var b=[],k=0,f=this.selected.length;k<f;k++)this.selected[k]&&b.push(this.grid.getItem(k));return b},addToSelection:function(b){if("none"!=this.mode){var k=null;k="number"==typeof b||"string"==typeof b?b:this.grid.getItemIndex(b);a.prototype.addToSelection.call(this,k)}},deselect:function(b){if("none"!=this.mode){var k=null;k="number"==typeof b||"string"==typeof b?b:this.grid.getItemIndex(b);a.prototype.deselect.call(this,k)}},deselectAll:function(b){var k=
null;b||"number"==typeof b?(k="number"==typeof b||"string"==typeof b?b:this.grid.getItemIndex(b),a.prototype.deselectAll.call(this,k)):this.inherited(arguments)}})})},"dojox/grid/_SelectionPreserver":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(U,M,a,b){return U("dojox.grid._SelectionPreserver",null,{constructor:function(k){this.selection=k;var f=this.grid=k.grid;this.reset();this._connects=[M.connect(f,"_setStore",this,"reset"),M.connect(f,
"_addItem",this,"_reSelectById"),M.connect(k,"onSelected",a.hitch(this,"_selectById",!0)),M.connect(k,"onDeselected",a.hitch(this,"_selectById",!1)),M.connect(k,"deselectAll",this,"reset")]},destroy:function(){this.reset();b.forEach(this._connects,M.disconnect);delete this._connects},reset:function(){this._selectedById={}},_reSelectById:function(k,f){k&&this.grid._hasIdentity&&(this.selection.selected[f]=this._selectedById[this.grid.store.getIdentity(k)])},_selectById:function(k,f){if("none"!=this.selection.mode&&
this.grid._hasIdentity){var m=f,h=this.grid;if("number"==typeof f||"string"==typeof f)m=(f=h._by_idx[f])&&f.item;m&&(this._selectedById[h.store.getIdentity(m)]=!!k);return m}}})})},"arcgisonline/sharing/dijit/ComboBox":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/form/ComboBox dojo/text!./templates/ComboBox.html".split(" "),function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(h,u){this.autoComplete=
!1;this.templateString=f.default}return m=a.__decorate([(0,b.default)(k.default)],m)}()})},"arcgisonline/pages/dijit/ToggleSwitch":function(){define("require exports tslib dojo/text!./ToggleSwitch/templates/ToggleSwitch.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../utils/dom ../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=b.default;this.i18n=k.default;this.label="";this.labelPosition="right";this.labelClasses="";this.direction="left";this.isChecked=!1;this.tooltipLabel=this.tooltipClass="";this.disabled=!1;this.switchTrackClasses=this.loaderClasses=this.hasTooltip="";this.hideLabel=!1;this.ariaLabel="";this.isLoading=!1}v.prototype.postMixInProperties=function(){this.inherited(arguments);
this.label&&!this.ariaLabel&&(this.ariaLabel=this.label.replace(/(<([^>]+)>)/gi,""));"left"===this.labelPosition&&(this.direction="right");this.uid=(0,u.default)();this.tooltip&&(this.hasTooltip="toggle-switch--tooltip",this.tooltipClass=this.tooltipClass||"tooltip tooltip-multiline")};v.prototype.postCreate=function(){var g=this;this.inherited(arguments);this.hideLabel&&r.default.hideNode(this._label);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.label||
r.default.hideNode(this._label);this.tooltip&&this._label.setAttribute("aria-label",this.tooltip);this._checkbox.addEventListener("change",function(p){g.isLoading||g.emit("change",g._checkbox.checked)});this._checkbox.addEventListener("keyup",function(p){13===p.keyCode&&(p.stopPropagation(),g._checkbox.checked=!g._checkbox.checked,g.emit("change",g._checkbox.checked))});this.domNode.addEventListener("click",function(){g.labelWrapper.click()});this.labelWrapper.addEventListener("click",function(p){p.stopPropagation()});
this.trackId&&(this.toggleTrack.id=this.trackId)};v.prototype.hide=function(){r.default.hideNode(this.domNode)};v.prototype.show=function(){r.default.showNode(this.domNode)};v.prototype.checked=function(){return this._checkbox.checked};v.prototype.setChecked=function(g,p){this._checkbox.checked=g;p||this.emit("change",this._checkbox.checked)};v.prototype.enable=function(){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("toggle-switch--disabled");this.disabled=!1};v.prototype.disable=
function(){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("toggle-switch--disabled");this.disabled=!0};v.prototype.focus=function(){this._checkbox.focus()};v.prototype.check=function(){this.setChecked(!0,!0)};v.prototype.uncheck=function(){this.setChecked(!1,!0)};v.prototype.showSwitch=function(){r.default.showNode(this.toggleTrack);r.default.showNode(this._checkbox)};v.prototype.hideSwitch=function(){r.default.hideNode(this.toggleTrack);r.default.hideNode(this._checkbox)};
v.prototype.showLoader=function(){this.loader.hidden=!1;r.default.showNode(this.loaderContainer);this.hideSwitch();this.isLoading=!0;this._checkbox.disabled=!0};v.prototype.hideLoader=function(){this.loader.hidden=!0;r.default.hideNode(this.loaderContainer);this.showSwitch();this.isLoading=!1;this._checkbox.disabled=!1};v.prototype.setLabelledBy=function(g){this._checkbox.setAttribute("aria-labelledby",g.join(" "))};return v=a.__decorate([(0,e.default)(h.default,m.default,f.default)],v)}()})},"dojox/uuid/generateRandomUuid":function(){define(["./_base"],
function(){dojox.uuid.generateRandomUuid=function(){function U(){for(var f=Math.floor(Math.random()%1*Math.pow(2,32)).toString(16);8>f.length;)f="0"+f;return f}var M=U(),a=U();a=a.substring(0,4)+"-4"+a.substring(5,8);var b=U();b="8"+b.substring(1,4)+"-"+b.substring(4,8);var k=U();return(M+"-"+a+"-"+b+k).toLowerCase()};return dojox.uuid.generateRandomUuid})},"dojox/uuid/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang"],function(U){U.getObject("uuid",!0,dojox);dojox.uuid.NIL_UUID="00000000-0000-0000-0000-000000000000";
dojox.uuid.version={UNKNOWN:0,TIME_BASED:1,DCE_SECURITY:2,NAME_BASED_MD5:3,RANDOM:4,NAME_BASED_SHA1:5};dojox.uuid.variant={NCS:"0",DCE:"10",MICROSOFT:"110",UNKNOWN:"111"};dojox.uuid.assert=function(M,a){if(!M)throw a||(a="An assert statement failed.\nThe method dojox.uuid.assert() was called with a 'false' value.\n"),Error(a);};dojox.uuid.generateNilUuid=function(){return dojox.uuid.NIL_UUID};dojox.uuid.isValid=function(M){M=M.toString();var a=U.isString(M)&&36==M.length&&M==M.toLowerCase();if(a){M=
M.split("-");a=5==M.length&&8==M[0].length&&4==M[1].length&&4==M[2].length&&4==M[3].length&&12==M[4].length;for(var b in M){var k=parseInt(M[b],16);a=a&&isFinite(k)}}return a};dojox.uuid.getVariant=function(M){if(!dojox.uuid._ourVariantLookupTable){var a=dojox.uuid.variant,b=[];b[0]=a.NCS;b[1]=a.NCS;b[2]=a.NCS;b[3]=a.NCS;b[4]=a.NCS;b[5]=a.NCS;b[6]=a.NCS;b[7]=a.NCS;b[8]=a.DCE;b[9]=a.DCE;b[10]=a.DCE;b[11]=a.DCE;b[12]=a.MICROSOFT;b[13]=a.MICROSOFT;b[14]=a.UNKNOWN;b[15]=a.UNKNOWN;dojox.uuid._ourVariantLookupTable=
b}M=M.toString();M=M.charAt(19);M=parseInt(M,16);dojox.uuid.assert(0<=M&&16>=M);return dojox.uuid._ourVariantLookupTable[M]};dojox.uuid.getVersion=function(M){dojox.uuid.assert(dojox.uuid.getVariant(M)==dojox.uuid.variant.DCE,"dojox.uuid.getVersion() was not passed a DCE Variant UUID.");M=M.toString();M=M.charAt(14);return parseInt(M,16)};dojox.uuid.getNode=function(M){dojox.uuid.assert(dojox.uuid.getVersion(M)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getNode() was not passed a TIME_BASED UUID.");
M=M.toString();return M.split("-")[4]};dojox.uuid.getTimestamp=function(M,a){dojox.uuid.assert(dojox.uuid.getVersion(M)==dojox.uuid.version.TIME_BASED,"dojox.uuid.getTimestamp() was not passed a TIME_BASED UUID.");M=M.toString();a||(a=null);switch(a){case "string":case String:return dojox.uuid.getTimestamp(M,Date).toUTCString();case "hex":var b=M.split("-");M=b[0];a=b[1];b=b[2];b=b.slice(1);M=b+a+M;dojox.uuid.assert(15==M.length);return M;case null:case "date":case Date:return b=M.split("-"),M=parseInt(b[0],
16),a=parseInt(b[1],16),b=(parseInt(b[2],16)&4095)<<16,b=4294967296*(b+a),b+=M,new Date(b/1E4-122192928E5);default:dojox.uuid.assert(!1,"dojox.uuid.getTimestamp was not passed a valid returnType: "+a)}};return dojox.uuid})},"arcgisonline/sharing/geow/Folder":function(){define("require exports tslib ../../esriGeowConfig ../../pages/utils/clone ../util dojo/promise/all dojo/topic dojo/when dojo/data/ItemFileReadStore".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);
f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(){}e.createFolder=function(v,g,p){var n=f.default.getUser();return(n=n&&(n.username||n.email))?this.createFolderByUser(n,v,g,p):null};e.createFolderByUser=function(v,g,p,n){var q=this,l=f.default.getUser(),c="".concat(b.default.restBaseUrl,"content/users/").concat(v,"/createFolder");l&&f.default.request({url:c,content:g},{usePost:!0}).then(function(d){var w;
if(null===(w=q._userFolders)||void 0===w?0:w[v])q._userFolders[v]=null;p(d)},function(d){n(d)})};e.deleteFolder=function(v,g,p){var n=f.default.getUser();return(n=n&&(n.username||n.email))?this.deleteFolderByUser(n,v,g,p):null};e.deleteFolderByUser=function(v,g,p,n){var q=this;g="".concat(b.default.restBaseUrl,"content/users/").concat(v,"/").concat(g,"/delete");f.default.getUser()&&f.default.request({url:g},{usePost:!0}).then(function(l){var c;if(null===(c=q._userFolders)||void 0===c?0:c[v])q._userFolders[v]=
null;p(l)},function(l){n(l)})};e.getFolders=function(v,g,p,n){var q=f.default.getUser();return(q=q&&(q.username||q.email))?this.getFoldersByUser(q,v,g,p,n):null};e.getFoldersByUser=function(v,g,p,n,q){var l=this,c;if(f.default.getUser())if(this._isRequestingFolders)setTimeout(this.getFoldersByUser.bind(this,v,g,p,n,q),75);else{"function"!==typeof p&&(n=p,p=null);this._userFolders||(this._userFolders={});var d="".concat(b.default.restBaseUrl,"content/users/").concat(v);n={num:n?100:1};q=!q&&(null===
(c=this._userFolders[v])||void 0===c?void 0:c.folders)&&(0,k.default)(this._userFolders[v].folders)||this._fetchAllItems(d,n).then(function(w){l._userFolders[v]={folders:w};l._isRequestingFolders=!1;return(0,k.default)(w)},function(w){throw w;});this._isRequestingFolders=!this._userFolders[v]||!this._userFolders[v].folders;(0,u.default)(q,g,p)}};e._fetchAllItems=function(v,g){var p=this,n={};return this._fetchItems(v,g,n).then(function(q){if(1<g.num&&q.total>g.num){var l=Math.ceil(q.total/g.num),
c=q.nextStart,d=[];1===(null===q||void 0===q?void 0:q.start)?n=q:n.items=n.items.concat(q.items);for(var w=0;w<l-1;w++)d.push(p._fetchItems(v,a.__assign(a.__assign({},g),{start:c}),n)),c+=q.num;return(0,m.default)(d).then(function(t){(t||[]).forEach(function(z){n.items=n.items.concat(z.items)});return n})}return q},function(q){throw q;})};e._fetchItems=function(v,g,p){return f.default.request({url:v,content:g}).then(function(n){return n},function(n){throw n;})};e.foldersToStore=function(v){return new r.default({data:{label:"title",
items:[{name:"Anonymous User",children:v}]}})};e.updateMoveToMenu=function(v,g,p,n,q){h.default.publish("updateItemToolbar",[{folders:v,folderId:g,folderName:p,onClickHandler:n,customMenuItem:q}])};e.updateMoveToMenuByUser=function(v,g,p,n,q){h.default.publish("updateItemToolbar",[{username:v,folders:g,folderId:p,folderName:n,onClickHandler:q}])};return e}()})},"arcgisonline/sharing/dijit/ServiceInfo":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_WidgetBase,dijit/registry,arcgisonline/sharing/util,esri/IdentityManagerBase"],
function(U,M,a){U.provide("arcgisonline.sharing.dijit.ServiceInfo");U.require("dijit._WidgetBase");U.require("dijit.registry");U.require("arcgisonline.sharing.util");U.require("esri.IdentityManagerBase");U.declare("arcgisonline.sharing.dijit.ServiceInfo",[M._WidgetBase,esri.IdentityManagerBase],{baseClass:"esriSvcAuth",onCredentialChange:function(){},postMixInProperties:function(){this.inherited(arguments);this._util=arcgisonline.sharing.util;this._isSecuredUrl=esriGeowConfig.restBaseUrl+"portals/checkurl";
this.i18n=U.mixin({},U.i18n.getLocalization("arcgisonline","arcgisonline").common);this.i18n=U.mixin(this.i18n,{addItemFrm:U.i18n.getLocalization("arcgisonline","arcgisonline").addItemFrm});this._tokenAuthentication=[499,498];this._createDefaultOAuthInfo=!1;this._overrideUrls="geocode.arcgis.com geocodedev.arcgis.com geocodeqa.arcgis.com route.arcgis.com routedev.arcgis.com routeqa.arcgis.com geoenrich.arcgis.com geoenrichqa.arcgis.com geoenrichddev.arcgis.com".split(" ")},buildRendering:function(){var b=
document.createDocumentFragment(),k=U.create("form",null,b);k=U.create("fieldset",{"class":"esriSvcAuth"},k);new M.form.TextBox({name:"fakeusernameremembered",type:"text","class":"hide"},U.create("input",{autocomplete:"off"},k));new M.form.TextBox({name:"fakepasswordremembered",type:"password","class":"hide"},U.create("input",{autocomplete:"off"},k));U.create("label",{"for":"proxyUsername",innerHTML:this.i18n.userLabel,"class":"esriUsernameLbl inputLabel trailer-0 leader-half"},k);this._username=
new M.form.TextBox({name:"serviceUsername",trim:"true"},U.create("input",{autocomplete:"off"},k));U.create("br",{},k);U.create("label",{"for":"proxyPassword",innerHTML:this.i18n.passwordLabel,"class":"esriPasswordLbl inputLabel trailer-0 leader-half"},k);this._password=new M.form.TextBox({name:"servicePassword",trim:"true",type:"password"},U.create("input",{autocomplete:"off"},k));this.inherited(arguments);this.domNode.appendChild(b)},postCreate:function(){this.connect(this._password,"onChange",U.hitch(this,
"_onCredential"));this.connect(this._username,"onChange",U.hitch(this,"_onCredential"))},_setDisabledAttr:function(b){U.forEach(M.registry.findWidgets(this.domNode,this.containerNode),function(k){k.set("disabled",b)})},getIsSecured:function(b){b=b.split("?")[0];var k=!1;this.isOverrideUrl=U.some(this._overrideUrls,function(m){return-1!==b.indexOf(m)});k=!this.isOverrideUrl&&-1<b.indexOf("/VectorTileServer");if(this.isOverrideUrl){esri.show(this.domNode);var f=new U.Deferred;f.resolve({secured:!0,
isOverride:!0})}else f=this._util.request({url:this._isSecuredUrl+"?url\x3d"+encodeURIComponent(b+"?f\x3djson")},{addToken:!1}).then(U.hitch(this,function(m){return m.secured?(403===m.httpStatusCode?m.secured=!1:(401===m.httpStatusCode||0<=U.indexOf(this._tokenAuthentication,m.httpStatusCode))&&esri.show(this.domNode),m):k?this.getServiceInfo(b,!1).then(U.hitch(this,function(h){return h&&h.exportTilesAllowed?this.getIsSecured(b+"/exportTiles"):m})):m}));return f},signIn:function(b,k,f){this._pendingDfd=
new U.Deferred;this._serverInfo=k;this.userInfo&&this.userInfo.username&&this.userInfo.password&&this._generateToken();return this._pendingDfd},isFederatedWithWebTierAuth:function(b,k){var f=new U.Deferred,m,h=!1;k&&499===k.httpStatusCode?this._getTokenSvcUrl(b).then(U.hitch(this,function(u){(m=u&&u.authInfo&&u.authInfo.tokenServicesUrl)?this.getIsSecured(m).then(U.hitch(this,function(r){h=r&&r.secured&&401===r.httpStatusCode;f.resolve(h)}),U.hitch(this,function(r){f.resolve(r&&r.message&&-1<r.message.indexOf("Http StatusCode: -1")?
-1:!1)})):f.resolve(!1)})):f.resolve(!1);return f},getServiceInfo:function(b,k){var f=new U.Deferred;f=this.userInfo;var m=this._util.isHostedService(b),h=this._isEsriHostedService(b);m=m||h;var u={useProxy:!1,timeout:!1===esriGeowConfig.isMultiTenant?6E4:5E3,addSSL:m,addToken:k&&m&&!1!==esriGeowConfig.isMultiTenant||!1};f&&f.username&&f.password?(this._prevIdMgr=esri.id,esri.id=this,this._svcUrl=b.split("?")[0],f=this.isOverrideUrl?this._signIn(b,this.userInfo).then(U.hitch(this,function(r){return this._getServiceInfo(b,
u)})):this._getServiceInfo(b,u).then(U.hitch(this,function(r){r.credential=esri.id.findCredential(b);esri.id=this._prevIdMgr;r.credential&&esri.id.registerToken({server:b,token:r.credential.token,userId:r.credential.userId,expires:r.credential.expires,ssl:r.credential.ssl});return r}))):(u.disableIdentityLookup=!0,f=this._getServiceInfo(b,u).then(U.hitch(this,function(r){return r}),U.hitch(this,function(r){esri.show(this.domNode);throw r;})));return f},_isEsriHostedService:function(b){return-1<b.indexOf(".esri.com/server/rest/services")?
!0:!1},_generateToken:function(){return this.generateToken(this._serverInfo,{username:this.userInfo.username,password:this.userInfo.password}).then(U.hitch(this,function(b){if(b)this._pendingDfd.callback(new esri.Credential({userId:this.userInfo.username,server:this._serverInfo.server,token:b.token,expires:esri.isDefined(b.expires)?Number(b.expires):null,ssl:b.ssl,validity:this._serverInfo.shortLivedTokenValidity}));else return null}),U.hitch(this,function(b){b.code=403;this._pendingDfd.errback(b)}))},
getServiceInfoOverProxy:function(b,k){var f=this._util.isHostedService(b)||this._util.isAgolService(b),m={useProxy:!1,timeout:5E3,addSSL:f,addToken:f&&!1!==esriGeowConfig.isMultiTenant};this._svcUrl=b.split("?")[0];return!1===k?this._getServiceInfo(b):this._signIn(this._svcUrl,this.userInfo).then(U.hitch(this,function(h){U.mixin(m,{disableIdentityLookup:h?!1:!0,useProxy:!0});return this._getServiceInfo(b,m)}))},_getServiceInfo:function(b,k){if(esriGeowConfig.allSSL||"https:"===window.location.protocol)if(this._util.isHostedService(b)||
this._util.supportsHttps(b))b=b.replace("http:/","https:/");else if(-1<b.indexOf("http:/"))return b=new U.Deferred,b.reject(this.i18n.addItemFrm.errors.sslError),b;return this._util.request({url:b,content:{}},k).then(U.hitch(this,function(f){this._editingCredential=!1;return this.serviceInfo=f}),U.hitch(this,function(f){this._editingCredential=!1;f&&-1!==U.indexOf(this._tokenAuthentication,f.code)?esri.show(this.domNode):f&&403===f.code?esri.show(this.domNode):esri.hide(this.domNode);throw f;}))},
_onCredential:function(){this.domNode&&null!==this.domNode.offsetParent&&(this.credentials=[],this.userInfo={username:this._username.get("value"),password:this._password.get("value")},this._editingCredential=!0,this.onCredentialChange(this.userInfo))},_onChangeCredential:function(b){this._editingCredential=b},_findServerInfo:function(b){var k=esri.id.findServerInfo(b);k?(b=new U.Deferred,b.resolve(k)):(k=new esri.ServerInfo,k.server=esri.id._getOrigin(b),b=esri.id._getTokenSvcUrl(b).then(U.hitch(this,
function(f){k.tokenServiceUrl=U.getObject("authInfo.tokenServicesUrl",!1,f)||U.getObject("authInfo.tokenServiceUrl",!1,f)||U.getObject("tokenServiceUrl",!1,f);k.currentVersion=f.currentVersion;k.hasServer=!0;esri.id.registerServers([k]);return k})));return b},_signIn:function(b,k){if(k&&k.username&&k.password)var f=this._findServerInfo(b).then(U.hitch(this,function(m){if(esri.id._checkProtocol(b,m,function(h){}))return esri.id.generateToken(m,k).then(U.hitch(this,function(h){var u=esri.isDefined(h.expires)?
Number(h.expires):null;h=new esri.Credential({userId:k.username,server:m.server,token:h.token,expires:u,ssl:!!h.ssl,validity:m.shortLivedTokenValidity,resources:[b],scope:"server"});-1===U.indexOf(esri.id.credentials,h)&&esri.id.credentials.push(h);return k}),U.hitch(this,function(h){h.code=403;throw h;}))}));else f=new U.Deferred,f.resolve(null);return f}})})},"arcgisonline/pages/organization/widgets/settings/settings-shared":function(){define(["require","exports","tslib","dojo/i18n!../../../../nls/org-settings"],
function(U,M,a,b){var k;Object.defineProperty(M,"__esModule",{value:!0});M.ServerTypeInfo=M.ServerFunction=M.ServerType=M.SettingsTabKeys=void 0;b=a.__importDefault(b);var f;(function(g){g.General="general";g.HomePage="homePage";g.Gallery="gallery";g.Map="map";g.Items="items";g.HostedLayers="hostedLayers";g.Groups="groups";g.Webhooks="webhooks";g.UtilityServices="utilityServices";g.ArcGISOnline="agol";g.Servers="servers";g.MemberRoles="memberRoles";g.NewMemberDefaults="newMemberDefaults";g.Marketplace=
"marketplace";g.Collaborations="collaborations";g.Credits="credits";g.Security="security";g.OpenData="openData";g.Hub="hub";g.OrgExtensions="orgExtensions";g.LivingAtlas="livingAtlas"})(f||(M.SettingsTabKeys=f={}));var m;(function(g){g.Mission="ARCGIS_MISSION_SERVER";g.Notebook="ARCGIS_NOTEBOOK_SERVER"})(m||(M.ServerType=m={}));var h;(function(g){g.GeoAnalytics="GeoAnalytics";g.Hosting="Hosting";g.ImageHosting="ImageHosting";g.MissionServer="MissionServer";g.NotebookServer="NotebookServer";g.RasterAnalytics=
"RasterAnalytics";g.WorkflowManager="WorkflowManager";g.KnowledgeServer="KnowledgeServer";g.VideoServer="VideoServer"})(h||(M.ServerFunction=h={}));var u=b.default.serversTab.federatedServers.serverTypes;U=u.hosting;a=u.geoAnalytics;b=u.image;f=u.notebook;m=u.mission;var r=u.raster,e=u.workflow,v=u.knowledge;u=u.video;M.ServerTypeInfo=(k={},k[h.GeoAnalytics]=a,k[h.Hosting]=U,k[h.ImageHosting]=b,k[h.KnowledgeServer]=v,k[h.MissionServer]=m,k[h.NotebookServer]=f,k[h.RasterAnalytics]=r,k[h.WorkflowManager]=
e,k[h.VideoServer]=u,k)})},"arcgisonline/pages/organization/widgets/settings/tabs/LivingAtlasTab":function(){define("require exports tslib ./BaseSettingsTab ../cards/ConfigureLivingAtlasCard ../cards/ContentVersionCard ../settings-shared ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings preact".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function e(v,
g){this.i18n=u.default.configLivingAtlasTab;this.TAB_KEY=m.SettingsTabKeys.LivingAtlas}e.prototype.render=function(){this.createConfigureLivingAtlasCard();this.inherited(arguments)};e.prototype.createConfigureLivingAtlasCard=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(v){switch(v.label){case 0:return[4,this.createCustomCard(k.default,{name:this.i18n.configuration,portal:this.portal,keywords:["configure","arcgisOnline","content","livingAtlas","contentVersion"]})];
case 1:return v.sent(),(0,r.render)((0,r.h)(f.default,{i18n:this.i18n}),this.domNode.querySelector(".contentVersion")),[2]}})})};return e=a.__decorate([(0,h.default)(b.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/ConfigureLivingAtlasCard":function(){define("require exports tslib ./SettingsCard ../../../../../sharing/dijit/ConfigureLivingAtlasContent ../../../../../tsutils/declareDecorator dojo/text!./templates/ConfigureLivingAtlasCard.html".split(" "),function(U,M,a,
b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.templateString=m.default}h.prototype.render=function(){this.cfgLAContent=new k.default({},document.createElement("div"));this.cfgLAContent.startup();this._content.appendChild(this.cfgLAContent.domNode)};h.prototype.show=function(){this.inherited(arguments);this.cfgLAContent.reset()};return h=a.__decorate([(0,f.default)(b.default)],h)}()})},"arcgisonline/sharing/dijit/ConfigureLivingAtlasContent":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/promise/all dojo/topic dijit/a11yclick dojo/dom-attr dojo/dom-class dojo/dom-style dojo/Deferred dojo/store/Memory dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dijit/form/Button dijit/form/CheckBox dijit/form/TextBox ./ComboBox ../../pages/dijit/ToggleSwitch esri/config esri/lang ../util ../../pages/pageUtil ../../pages/utils/arrays ../../pages/utils/dom ../geow/Folder ./ServiceInfo ../geow/Account ./_LivingAtlasContentAPIMixin dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/templates/ConfigureLivingAtlasContent.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J){return M("arcgisonline.sharing.dijit.ConfigureLivingAtlasContent",[p,n,q,F],{declaredClass:"arcgisonline.sharing.dijit.ConfigureLivingAtlasContent",baseClass:"esriCfgAGOLUtilSvcs",basePath:U.toUrl("arcgisonline/sharing/dijit"),templateString:J,widgetsInTemplate:!0,USER_STATE:{VALID:"Valid",INVALID:"InValid",UNKNOWN:"UnKnown",CONNECTION_ERROR:"ConnectionError"},postMixInProperties:function(){this.inherited(arguments);this.i18n=
a.mixin({},I.common);a.mixin(this.i18n,I.configLivingAtlasContent)},postCreate:function(){this.inherited(arguments);x.defaults.io.corsDetection=!1;x.defaults.io.useCors=!1;this._setupToggleSwitches();this._setupConnections()},startup:function(){this.inherited(arguments);this.hasGroupIds=!1;this._initialize()},reset:function(){this._initialize()},checkUpgradeValidation:function(){if(this._initializing)setTimeout(function(){this.checkUpgradeValidation()}.bind(this),300);else{var K=this._currentlyEnabled.upgraded,
P=this._currentlyEnabled.subscriberUserValid,T=this._currentlyEnabled.premiumUserValid,S=!!this._currentlyEnabled.subscriberContentUsername,L=!!this._currentlyEnabled.premiumContentUsername,N=S&&P===this.USER_STATE.UNKNOWN,O=S&&P===this.USER_STATE.CONNECTION_ERROR,Q=S&&P===this.USER_STATE.INVALID;S=!S||S&&P===this.USER_STATE.VALID;var V=L&&T===this.USER_STATE.UNKNOWN,X=L&&T===this.USER_STATE.CONNECTION_ERROR,Z=L&&T===this.USER_STATE.INVALID;L=!L||L&&T===this.USER_STATE.VALID;var ca=[P,T],R=this.i18n.updateCredentials,
Y=this.i18n.updateCredentialsBeforeUpgrade,ba=this.i18n.validateCredentials,aa=this.i18n.validateCredentialsBeforeUpgrade,W=this.i18n.mixedValidateCredentials,da=this.i18n.mixedValidateCredentialsBeforeUpgrade,ea=R;S&&L||(S||L||P!==T?S||L||P===T?!S&&L?Q?ea=K?R:Y:O?ea=K?ba:aa:N&&(ea=K?W:da):S&&!L&&(Z?ea=K?R:Y:X?ea=K?ba:aa:V&&(ea=K?W:da)):D.includes(ca,this.USER_STATE.UNKNOWN)?ea=K?W:da:D.includes(ca,this.USER_STATE.CONNECTION_ERROR)?ea=K?ba:aa:D.includes(ca,this.USER_STATE.INVALID)&&(ea=K?R:Y):Q?ea=
K?R:Y:O?ea=K?ba:aa:N&&(ea=K?W:da),B.createConfirmationDialog({strings:{title:this.i18n.notice,description:ea},hideCancel:!0,autoCloseOnOk:!0}))}},_setupToggleSwitches:function(){this._enableChkBox=new z({labelClasses:"trailer-0"},this._enableChkBox);this._subscriberChkBox=new z({labelClasses:"trailer-0"},this._subscriberChkBox);this._premiumChkBox=new z({labelClasses:"trailer-0"},this._premiumChkBox);this._subscriberChkBox.domNode.setAttribute("aria-expanded","false");this._subscriberChkBox.domNode.setAttribute("aria-controls",
"configure-living-atlas-credential-container");this._premiumChkBox.domNode.setAttribute("aria-expanded","false");this._premiumChkBox.domNode.setAttribute("aria-controls","configure-living-atlas-credential-container")},_setupConnections:function(){var K=this._checkState.bind(this);this.own(h(this._okBtn,this._okClick.bind(this)),k(this._enableChkBox,"change",K),k(this._subscriberChkBox,"change",function(){this._subscriberChkBox.domNode.setAttribute("aria-expanded",this._subscriberChkBox.checked());
K()}.bind(this)),k(this._premiumChkBox,"change",function(){this._premiumChkBox.domNode.setAttribute("aria-expanded",this._premiumChkBox.checked());K()}.bind(this)),h(this._updateSubscriber,this._updateSubscriberClick.bind(this)),h(this._updatePremium,this._updatePremiumClick.bind(this)),h(this._upgradeBtn,this._upgradeClick.bind(this)))},_clear:function(){this._isUpdatingPremium=this._isUpdatingSubscriber=!1;this._currentlyEnabled={publicContentEnabled:!1,subscriberContentEnabled:!1,premiumContentEnabled:!1,
subscriberContentUsername:null,premiumContentUsername:null,subscriberUserValid:this.USER_STATE.UNKNOWN,premiumUserValid:this.USER_STATE.UNKNOWN,upgraded:!0};this._newlyEnabled=a.clone(this._currentlyEnabled);this._okBtn.textContent=this.i18n.configureLabel;this._enableChkBox.setChecked(!1,!0);this._subscriberChkBox.setChecked(!1,!0);this._premiumChkBox.setChecked(!1,!0);this._serviceInfoPane&&(this._serviceInfoPane._username.set("value",""),this._serviceInfoPane._password.set("value",""));e.set(this._credentialContainer,
"display","none");var K=y.substitute({image:'\x3cimg class\x3d"bottomAlign" src\x3d"'+A.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/premium-credits.png")+'" alt\x3d"'+this.i18n.requiresCreditsAlt+'"\x3e'},this.i18n.requiresCreditsLabel);u.set(this._premiumCreditsLabel,"innerHTML",K);this._toggleUpdateButtons();C.hideNodes([this._updateSubscriber,this._updatePremium]);u.set(this._updateSubscriberLink,"innerHTML",this.i18n.update);u.set(this._updatePremiumLink,"innerHTML",this.i18n.update);
u.set(this._contentSelected,"innerHTML","");e.set(this._credentialContainer,"display","none");this._serviceInfoPane._username.set("value","");this._serviceInfoPane._password.set("value","");this._setConfiguring(!1)},_isStringSet:function(K){return y.isDefined(K)&&0<K.length},_setConfiguring:function(K){this._okBtn.disabled=K;this._okBtn.textContent=K?this.i18n.configuringLabel:this.i18n.configureLabel;r[K?"add":"remove"](this._configureLoader,"is-active")},_setUpgrading:function(K){this._upgradeBtn.disabled=
K;this._upgradeBtn.textContent=K?this.i18n.upgradingLabel:this.i18n.upgradeLabel;u.set(this._configureLoaderMsg,"innerHTML",K?this.i18n.upgradingLabel:this.i18n.configuringLabel);r[K?"add":"remove"](this._configureLoader,"is-active")},_initialize:function(){var K=this;K._initializing=!0;G.getSelf(function(P){K._portalSettings=a.clone(P);K._user=A.getUser();K._serviceInfoPane||(K._serviceInfoPane=new H({},K._credentials),K.own(k(K._serviceInfoPane,"onCredentialChange",a.hitch(K,K._credentialChanged))));
K._clear();K._synchronizeState().then(function(){K._initializing=!1},function(){K._initializing=!1})})},_publishChange:function(K){m.publish("configure-livingAtlas",K)},_registerDestruction:function(K){k.once(K._dialog,"hide",function(){K._dialog.destroyRecursive();K.destroyRecursive()});return K},_enableCheckboxes:function(K){var P=this._enableChkBox.checked();K&&P?(this._subscriberChkBox.enable(),this._premiumChkBox.enable()):(this._subscriberChkBox.disable(),this._premiumChkBox.disable())},_disableAllCheckboxes:function(K){K?
(this._enableChkBox.disable(),this._subscriberChkBox.disable(),this._premiumChkBox.disable()):(this._enableChkBox.enable(),this._subscriberChkBox.enable(),this._premiumChkBox.enable())},_synchronizeState:function(){var K=this,P=new v,T,S;K._enableChkBox.disable();K._enableCheckboxes(!1);K._retrieveGroupIds().then(function(){K._retrieveStatus(K.GROUP_IDS[K.GROUPS.LIVING_ATLAS]).then(function(L){K._currentlyEnabled.publicContentEnabled=!!(L&&L.publicContentEnabled&&L.publicContentShared);K._currentlyEnabled.subscriberContentEnabled=
!!(L&&L.subscriberContentEnabled&&L.subscriberContentShared);K._currentlyEnabled.premiumContentEnabled=!!(L&&L.premiumContentEnabled&&L.premiumContentShared);K._currentlyEnabled.subscriberContentEnabled&&(K._currentlyEnabled.subscriberContentUsername=L.subscriberContentUsername);K._currentlyEnabled.premiumContentEnabled&&(K._currentlyEnabled.premiumContentUsername=L.premiumContentUsername);L&&y.isDefined(L.subscriberUserValid)&&(K._currentlyEnabled.subscriberUserValid=L.subscriberUserValid);L&&y.isDefined(L.premiumUserValid)&&
(K._currentlyEnabled.premiumUserValid=L.premiumUserValid);L&&y.isDefined(L.upgraded)?K._currentlyEnabled.upgraded=L.upgraded:K._currentlyEnabled.upgraded=!0;S=K._currentlyEnabled.publicContentEnabled&&!K._currentlyEnabled.upgraded;T=a.clone(K._currentlyEnabled);T.enabledSubscriber=K._enabledSubscriber;K._newlyEnabled=a.clone(K._currentlyEnabled);K._enableChkBox.setChecked(K._currentlyEnabled.publicContentEnabled,!0);K._subscriberChkBox.setChecked(K._currentlyEnabled.subscriberContentEnabled,!0);K._premiumChkBox.setChecked(K._currentlyEnabled.premiumContentEnabled,
!0);K._enableChkBox.enable();K._enableCheckboxes(!0);S&&K._disableAllCheckboxes(S);K._toggleUpdateButtons();K._publishChange(T);K._enabledSubscriber=!1;P.resolve()},function(L){K._currentlyEnabled.publicContentEnabled=!1;K._currentlyEnabled.subscriberContentEnabled=!1;K._currentlyEnabled.premiumContentEnabled=!1;K._currentlyEnabled.subscriberContentUsername=null;K._currentlyEnabled.premiumContentUsername=null;K._currentlyEnabled.subscriberUserValid=K.USER_STATE.UNKNOWN;K._currentlyEnabled.premiumUserValid=
K.USER_STATE.UNKNOWN;K._currentlyEnabled.upgraded=!0;K._newlyEnabled=a.clone(K._currentlyEnabled);K._enableChkBox.setChecked(!1,!0);K._subscriberChkBox.set("checked",!1);K._premiumChkBox.set("checked",!1);K._enableChkBox.enable();K._enableCheckboxes(!0);K._toggleUpdateButtons();K._publishChange(a.clone(K._currentlyEnabled));K._enabledSubscriber=!1;P.resolve()})},function(L){P.resolve()});return P},_toggleUpdateButtons:function(){var K=this._currentlyEnabled.publicContentEnabled&&!this._currentlyEnabled.upgraded,
P=!(!this._currentlyEnabled.subscriberContentEnabled||!this._currentlyEnabled.subscriberContentUsername||K&&(!K||this._currentlyEnabled.subscriberUserValid===this.USER_STATE.VALID)),T=!(!this._currentlyEnabled.premiumContentEnabled||!this._currentlyEnabled.premiumContentUsername||K&&(!K||this._currentlyEnabled.premiumUserValid===this.USER_STATE.VALID)),S=K&&(P||T);C.showHide(this._updateSubscriber,P);C.showHide(this._updatePremium,T);e.set(this._upgradeBtn,"display",K?"":"none");this._upgradeBtn.disabled=
S;this._okBtn.disabled=K},_credentialChanged:function(K){},_checkState:function(){var K=[];this._newlyEnabled.publicContentEnabled=this._enableChkBox.checked();this._newlyEnabled.subscriberContentEnabled=this._subscriberChkBox.checked();this._newlyEnabled.premiumContentEnabled=this._premiumChkBox.checked();this._currentlyEnabled.publicContentEnabled&&this._enableCheckboxes(this._newlyEnabled.publicContentEnabled);var P=!this._newlyEnabled.publicContentEnabled&&this._currentlyEnabled.publicContentEnabled;
var T=this._newlyEnabled.subscriberContentEnabled&&!this._currentlyEnabled.subscriberContentEnabled;var S=this._newlyEnabled.premiumContentEnabled&&!this._currentlyEnabled.premiumContentEnabled;var L=T||S;(this._newlyEnabled.subscriberChecked=T)&&K.push(this.i18n.subscriberLabel);S&&K.push(this.i18n.premiumLabel);P&&(this._currentlyEnabled.subscriberContentEnabled||this._currentlyEnabled.premiumContentEnabled)?(B.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.disablePublicPrevented},
hideCancel:!0,autoCloseOnOk:!0}),this._newlyEnabled.publicContentEnabled=!0,this._enableChkBox.setChecked(!0,!0),this._enableCheckboxes(this._newlyEnabled.publicContentEnabled)):L?(u.set(this._contentSelected,"innerHTML",y.substitute({contentList:K.join(", ")},this.i18n.selectionLabel)),e.set(this._credentialContainer,"display","")):(u.set(this._contentSelected,"innerHTML",""),this._serviceInfoPane&&(this._serviceInfoPane._username.set("value",""),this._serviceInfoPane._password.set("value","")),
e.set(this._credentialContainer,"display","none"))},_showConfigureError:function(K,P){this._setConfiguring(!1);P&&P.code&&P.message&&-1<P.message.toLowerCase().indexOf("same credentials")?B.createConfirmationDialog({strings:{title:this.i18n.errorTitle,description:this.i18n.sameCredentialsEncountered},hideCancel:!0,autoCloseOnOk:!0}):B.createConfirmationDialog({strings:{title:this.i18n.errorTitle,description:this.i18n.configuringError},hideCancel:!0,autoCloseOnOk:!0})},_configure:function(K,P,T,S,
L,N,O){var Q=this,V=new v,X={},Z={};var ca=b.indexOf(P,Q.TYPES.PUBLIC);-1<ca&&(X.publicEnableResult=Q._enableContent(K,[Q.TYPES.PUBLIC]),P.splice(ca,1));X.enableResult=P&&0<P.length?Q._enableContent(K,P,N,O):null;X.disableResult=T&&0<T.length?Q._disableContent(K,T):null;f(X).then(function(R){R.enableResult&&R.enableResult.code||R.disableResult&&R.disableResult.code?V.reject(R):(ca=b.indexOf(S,Q.TYPES.PUBLIC),-1<ca&&(Z.publicShareResult=Q._shareContent(K,[Q.TYPES.PUBLIC]),S.splice(ca,1)),Z.shareResult=
S&&0<S.length?Q._shareContent(K,S):null,ca=b.indexOf(S,Q.TYPES.PUBLIC),-1<ca&&(Z.publicUnshareResult=Q._shareContent(K,[Q.TYPES.PUBLIC]),L.splice(ca,1)),Z.unshareResult=L&&0<L.length?Q._unshareContent(K,L):null,f(Z).then(function(Y){Y.publicShareResult&&Y.publicShareResult.code||Y.shareResult&&Y.shareResult.code||Y.publicUnshareResult&&Y.publicUnshareResult.code||Y.unshareResult&&Y.unshareResult.code?V.reject(Y):V.resolve()},function(Y){V.reject(Y)}))},function(R){V.reject(R)});return V},_okClick:function(K){K&&
K.preventDefault();this._isUpdatingSubscriber||this._isUpdatingPremium?this._updateClick():this._configureClick()},_updateClick:function(){var K=this,P=K._serviceInfoPane._username.get("value"),T=K._serviceInfoPane._password.get("value");P=K._isStringSet(P);T=K._isStringSet(T);var S=K.i18n.updateWarning+"\x3cbr\x3e\x3cbr\x3e"+K.i18n.updateProceed;P&&T?B.createConfirmationDialog({strings:{title:K.i18n.notice,description:S,ok:K.i18n.yesLabel,cancel:K.i18n.noLabel},autoCloseOnOk:!0,renderHtmlDescription:!0,
onOk:function(){K._isUpdatingSubscriber?K._updateSubscriberContent():K._isUpdatingPremium&&K._updatePremiumContent()}}):B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.needUpdatedCredentials},hideCancel:!0,autoCloseOnOk:!0})},_updateSubscriberContent:function(){var K=this,P=K.GROUP_IDS[K.GROUPS.LIVING_ATLAS],T=K.GROUP_IDS[K.GROUPS.ANALYSIS_LAYERS],S=K.GROUP_IDS[K.GROUPS.MATURE_SUPPORT],L=K._serviceInfoPane._username.get("value"),N=K._serviceInfoPane._password.get("value"),
O=[];K._setConfiguring(!0);K._validateCredentials(L,N).then(function(Q){Q&&Q.code?(K._setConfiguring(!1),B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.invalidCredentials},hideCancel:!0,autoCloseOnOk:!0})):(O.push(K._updateContent(P,K.TYPES.SUBSCRIPTION,L,N)),O.push(K._updateContent(T,K.TYPES.SUBSCRIPTION,L,N)),O.push(K._updateContent(S,K.TYPES.SUBSCRIPTION,L,N)),f(O).then(a.hitch(K,"_updateSuccess"),a.hitch(K,"_updateError")))},function(Q){K._setConfiguring(!1);B.createConfirmationDialog({strings:{title:K.i18n.notice,
description:K.i18n.invalidCredentials},hideCancel:!0,autoCloseOnOk:!0})})},_updatePremiumContent:function(){var K=this,P=K.GROUP_IDS[K.GROUPS.LIVING_ATLAS],T=K.GROUP_IDS[K.GROUPS.MATURE_SUPPORT],S=K._serviceInfoPane._username.get("value"),L=K._serviceInfoPane._password.get("value"),N=[];K._setConfiguring(!0);K._validateCredentials(S,L).then(function(O){O&&O.code?(K._setConfiguring(!1),B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.invalidCredentials},hideCancel:!0,autoCloseOnOk:!0})):
(N.push(K._updateContent(P,K.TYPES.PREMIUM,S,L)),N.push(K._updateContent(T,K.TYPES.PREMIUM,S,L)),f(N).then(a.hitch(K,"_updateSuccess"),a.hitch(K,"_updateError")))},function(O){K._setConfiguring(!1);B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.invalidCredentials},hideCancel:!0,autoCloseOnOk:!0})})},_configureClick:function(){var K=this,P=!K._currentlyEnabled.premiumContentEnabled&&K._newlyEnabled.premiumContentEnabled;P=!K._currentlyEnabled.subscriberContentEnabled&&
K._newlyEnabled.subscriberContentEnabled||P;var T=!K._newlyEnabled.publicContentEnabled&&K._currentlyEnabled.publicContentEnabled,S=K._serviceInfoPane._username.get("value"),L=K._serviceInfoPane._password.get("value");S=K._isStringSet(S);L=K._isStringSet(L);L=S&&L;S=K.i18n.configureWarning+"\x3cbr\x3e\x3cbr\x3e"+K.i18n.configureProceed;var N=K._currentlyEnabled.publicContentEnabled!==K._newlyEnabled.publicContentEnabled||K._currentlyEnabled.subscriberContentEnabled!==K._newlyEnabled.subscriberContentEnabled||
K._currentlyEnabled.premiumContentEnabled!==K._newlyEnabled.premiumContentEnabled;P&&!L?(B.createConfirmationDialog({strings:{title:K.i18n.errorTitle,description:K.i18n.needCredentials},hideCancel:!0,autoCloseOnOk:!0}),C.showNode(K._credentialError)):L&&!P?(B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.needContent},hideCancel:!0,autoCloseOnOk:!0}),C.hideNode(K._credentialError)):(C.hideNode(K._credentialError),T&&(K._currentlyEnabled.subscriberContentEnabled&&K._newlyEnabled.subscriberContentEnabled||
K._currentlyEnabled.premiumContentEnabled&&K._newlyEnabled.premiumContentEnabled)&&(S=K.i18n.disableContentMessage+"\x3cbr\x3e\x3cbr\x3e"+S),N?B.createConfirmationDialog({strings:{title:K.i18n.notice,description:S,ok:K.i18n.yesLabel,cancel:K.i18n.noLabel},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){K._beginConfiguring()}}):B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.noChangesDetected},hideCancel:!0,autoCloseOnOk:!0}))},_beginConfiguring:function(){var K=
this,P=!K._currentlyEnabled.publicContentEnabled&&K._newlyEnabled.publicContentEnabled,T=!K._currentlyEnabled.subscriberContentEnabled&&K._newlyEnabled.subscriberContentEnabled,S=!K._currentlyEnabled.premiumContentEnabled&&K._newlyEnabled.premiumContentEnabled,L=K._currentlyEnabled.publicContentEnabled&&!K._newlyEnabled.publicContentEnabled,N=K._currentlyEnabled.subscriberContentEnabled&&!K._newlyEnabled.subscriberContentEnabled,O=K._currentlyEnabled.premiumContentEnabled&&!K._newlyEnabled.premiumContentEnabled,
Q=T||S,V=L||N||O,X=K._serviceInfoPane._username.get("value"),Z=K._serviceInfoPane._password.get("value"),ca=K._isStringSet(X),R=K._isStringSet(Z);ca=ca&&R;var Y=K.GROUP_IDS[K.GROUPS.LIVING_ATLAS],ba=K.GROUP_IDS[K.GROUPS.ANALYSIS_LAYERS],aa=K.GROUP_IDS[K.GROUPS.MATURE_SUPPORT],W=[],da=[],ea=[],ja=[],fa=[];P?ea.push(K.TYPES.PUBLIC):L&&ja.push(K.TYPES.PUBLIC);T?(W.push(K.TYPES.SUBSCRIPTION),ea.push(K.TYPES.SUBSCRIPTION)):N&&(da.push(K.TYPES.SUBSCRIPTION),ja.push(K.TYPES.SUBSCRIPTION));S?(W.push(K.TYPES.PREMIUM),
ea.push(K.TYPES.PREMIUM)):O&&(da.push(K.TYPES.PREMIUM),ja.push(K.TYPES.PREMIUM));W=W.join(",");ea=ea.join(",");da=da.join(",");ja=ja.join(",");if(Q&&ca)K._setConfiguring(!0),K._validateCredentials(X,Z).then(function(ha){ha&&ha.code?(K._setConfiguring(!1),B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.invalidCredentials},hideCancel:!0,autoCloseOnOk:!0})):(fa.push(K._configure(Y,W,da,ea,ja,X,Z)),P?fa.push(K._configure(ba,[],[],[K.TYPES.PUBLIC],[],X,Z)):L&&fa.push(K._configure(ba,
[],[],[],[K.TYPES.PUBLIC],X,Z)),T?(fa.push(K._configure(ba,[K.TYPES.SUBSCRIPTION],[],[K.TYPES.SUBSCRIPTION],[],X,Z)),K._enabledSubscriber=!0):N&&fa.push(K._configure(ba,[],[K.TYPES.SUBSCRIPTION],[],[K.TYPES.SUBSCRIPTION],null,null)),fa.push(K._configure(aa,W,da,ea,ja,X,Z)),f(fa).then(a.hitch(K,"_configureSuccess"),a.hitch(K,"_configureError")))},function(ha){K._setConfiguring(!1);B.createConfirmationDialog({strings:{title:K.i18n.notice,description:K.i18n.invalidCredentials},hideCancel:!0,autoCloseOnOk:!0})});
else if(P||V)K._setConfiguring(!0),fa.push(K._configure(Y,W,da,ea,ja,null,null)),P?fa.push(K._configure(ba,[],[],[K.TYPES.PUBLIC],[],X,Z)):L&&fa.push(K._configure(ba,[],[],[],[K.TYPES.PUBLIC],X,Z)),N&&fa.push(K._configure(ba,[],[K.TYPES.SUBSCRIPTION],[],[K.TYPES.SUBSCRIPTION],null,null)),fa.push(K._configure(aa,W,da,ea,ja,null,null)),f(fa).then(a.hitch(K,"_configureSuccess"),a.hitch(K,"_configureError"))},_success:function(){this._setConfiguring(!1);this.reset()},_configureSuccess:function(){this._success();
B.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.configureSuccess},hideCancel:!0,autoCloseOnOk:!0})},_updateSuccess:function(K){this._success();K&&K.code?this._updateError(K):B.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.updateSuccess},hideCancel:!0,autoCloseOnOk:!0})},_upgradeSuccess:function(){this._setUpgrading(!1);this.reset();B.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.upgradeSuccess},hideCancel:!0,
autoCloseOnOk:!0})},_configureError:function(K){this._enabledSubscriber=!1;this._showConfigureError("Error configuring the Living Atlas content.",K)},_updateError:function(K){this._showConfigureError("Error updating the Living Atlas content.",K)},_upgradeError:function(K){this._showConfigureError("Error upgrading the Living Atlas content.",K);this._disableAllCheckboxes(!1)},_updateSubscriberClick:function(){this._isUpdatingPremium||(this._isUpdatingSubscriber?(this._disableAllCheckboxes(!1),e.set(this._credentialContainer,
"display","none"),u.set(this._updateSubscriberLink,"innerHTML",this.i18n.update),this._serviceInfoPane._username.set("value",""),this._serviceInfoPane._password.set("value",""),u.set(this._contentSelected,"innerHTML",""),this._toggleUpdateButtons(),this._isUpdatingSubscriber=!1):(this._isUpdatingSubscriber=!0,this._disableAllCheckboxes(!0),C.hideNode(this._updatePremium),e.set(this._upgradeBtn,"display","none"),this._okBtn.disabled=!1,u.set(this._updateSubscriberLink,"innerHTML",this.i18n.cancel),
this._serviceInfoPane._username.set("value",this._currentlyEnabled.subscriberContentUsername),e.set(this._credentialContainer,"display",""),u.set(this._contentSelected,"innerHTML",y.substitute({contentList:this.i18n.subscriberLabel},this.i18n.updateCredentialsLabel))))},_updatePremiumClick:function(){this._isUpdatingSubscriber||(this._isUpdatingPremium?(this._disableAllCheckboxes(!1),e.set(this._credentialContainer,"display","none"),this._serviceInfoPane._username.set("value",""),this._serviceInfoPane._password.set("value",
""),u.set(this._updatePremiumLink,"innerHTML",this.i18n.update),u.set(this._contentSelected,"innerHTML",""),this._toggleUpdateButtons(),this._isUpdatingPremium=!1):(this._isUpdatingPremium=!0,this._disableAllCheckboxes(!0),C.hideNode(this._updateSubscriber),e.set(this._upgradeBtn,"display","none"),this._okBtn.disabled=!1,u.set(this._updatePremiumLink,"innerHTML",this.i18n.cancel),this._serviceInfoPane._username.set("value",this._currentlyEnabled.premiumContentUsername),e.set(this._credentialContainer,
"display",""),u.set(this._contentSelected,"innerHTML",y.substitute({contentList:this.i18n.premiumLabel},this.i18n.updateCredentialsLabel))))},_upgradeClick:function(){var K=this.GROUP_IDS[this.GROUPS.LIVING_ATLAS],P=this.GROUP_IDS[this.GROUPS.ANALYSIS_LAYERS],T=this.GROUP_IDS[this.GROUPS.MATURE_SUPPORT],S=[];this._setUpgrading(!0);S.push(this._upgradeContent(K));S.push(this._upgradeContent(P));S.push(this._upgradeContent(T));f(S).then(a.hitch(this,"_upgradeSuccess"),a.hitch(this,"_upgradeError"))}})})},
"arcgisonline/sharing/dijit/_LivingAtlasContentAPIMixin":function(){define("require exports tslib dojo/Deferred ../util arcgisonline/esriGeowConfig".split(" "),function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(){this.hasGroupIds=!1;this.GROUP_IDS={};this.LIVING_ATLAS_GROUP_OWNER="esri_livingatlas";this.BOUNDARIES_GROUP_OWNER="esri_boundaries";this.DEMOGRAPHICS_GROUP_OWNER="esri_demographics";this.GROUPS={LIVING_ATLAS:"Living Atlas",
ANALYSIS_LAYERS:"Living Atlas Analysis Layers",BOUNDARY_LAYERS:"Boundary Layers",MATURE_SUPPORT:"Esri Mature Support"};this.TYPES={PUBLIC:"Public",SUBSCRIPTION:"Subscriber",PREMIUM:"Premium"};this.TIMEOUT=0}m.prototype._retrieveGroupIds=function(){var h=this,u=new b.default,r=f.default.restBaseUrl+"community/groups",e={q:'owner:"'.concat(this.LIVING_ATLAS_GROUP_OWNER,'" AND (title:"').concat(this.GROUPS.LIVING_ATLAS,'" OR title:"').concat(this.GROUPS.ANALYSIS_LAYERS,'" OR title:"').concat(this.GROUPS.BOUNDARY_LAYERS,
'" OR title:"').concat(this.GROUPS.MATURE_SUPPORT,'")')};this.hasGroupIds?u.resolve(this.GROUP_IDS):k.default.request({url:r,content:e}).then(function(v){v&&!v.code&&v.results.forEach(function(g){g.title===h.GROUPS.LIVING_ATLAS?h.GROUP_IDS[h.GROUPS.LIVING_ATLAS]=g.id:g.title===h.GROUPS.BOUNDARY_LAYERS?h.GROUP_IDS[h.GROUPS.BOUNDARY_LAYERS]=g.id:g.title===h.GROUPS.ANALYSIS_LAYERS?h.GROUP_IDS[h.GROUPS.ANALYSIS_LAYERS]=g.id:g.title===h.GROUPS.MATURE_SUPPORT&&(h.GROUP_IDS[h.GROUPS.MATURE_SUPPORT]=g.id)});
h.hasGroupIds=!0;u.resolve(h.GROUP_IDS)},function(v){u.resolve(h.GROUP_IDS)});return u};m.prototype._getLivingAtlasActionUrl=function(h){return"".concat(k.default.getPortalAdminBaseUrl(),"/system/content/livingatlas/").concat(h)};m.prototype._retrieveStatus=function(h){if(h&&!k.default.isArcGISEnterpriseOnKubernetes())return k.default.request({url:this._getLivingAtlasActionUrl("status"),content:{groupId:h}},{usePost:!0});h=new b.default;h.resolve({publicContentEnabled:!1,subscriberContentEnabled:!1,
premiumContentEnabled:!1,analysisLayersEnabled:!1});return h};m.prototype._validateCredentials=function(h,u){return k.default.request({url:this._getLivingAtlasActionUrl("validate"),content:{username:h,password:u,onlineUrl:"https://".concat(f.default.configurePortalAGOEnv)}},{usePost:!0})};m.prototype._updateContent=function(h,u,r,e){h={groupId:h,type:u,username:r,password:e};return k.default.request({url:this._getLivingAtlasActionUrl("update"),content:h},{usePost:!0,timeout:this.TIMEOUT})};m.prototype._upgradeContent=
function(h){h={groupId:h};return k.default.request({url:this._getLivingAtlasActionUrl("upgrade"),content:h},{usePost:!0,timeout:this.TIMEOUT})};m.prototype._enableContent=function(h,u,r,e){h={groupId:h,type:u};if(-1<u.indexOf(this.TYPES.SUBSCRIPTION)||-1<u.indexOf(this.TYPES.PREMIUM))h.username=r,h.password=e;return k.default.request({url:this._getLivingAtlasActionUrl("enable"),content:h},{usePost:!0,timeout:this.TIMEOUT})};m.prototype._disableContent=function(h,u){return k.default.request({url:this._getLivingAtlasActionUrl("disable"),
content:{groupId:h,type:u}},{usePost:!0,timeout:this.TIMEOUT})};m.prototype._shareContent=function(h,u){return k.default.request({url:this._getLivingAtlasActionUrl("share"),content:{groupId:h,type:u}},{usePost:!0,timeout:this.TIMEOUT})};m.prototype._unshareContent=function(h,u){return k.default.request({url:this._getLivingAtlasActionUrl("unshare"),content:{groupId:h,type:u}},{usePost:!0,timeout:this.TIMEOUT})};return m}()})},"arcgisonline/pages/organization/widgets/settings/cards/ContentVersionCard":function(){define("require exports tslib preact preact/hooks arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/utils/formatters".split(" "),
function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(u){function r(){var da="".concat(m.default.portal.url,"portals/self/livingatlascatalog");return f.default.request({url:da}).promise}function e(da){da="".concat(m.default.portal.url,"portals/self/jobs/").concat(da);return f.default.request({url:da},{usePost:!0}).promise}function v(){var da="".concat(m.default.portal.url,"portals/self/livingatlascatalog/downloadAndInstallUpdates");
return f.default.request({url:da,content:{packageId:"",f:"pjson"}},{usePost:!0}).promise}function g(){return a.__awaiter(this,void 0,void 0,function(){var da,ea,ja;return a.__generator(this,function(fa){switch(fa.label){case 0:return[4,r()];case 1:return da=fa.sent(),ea=da.importedPackageInfos.find(function(ha){return"SCHEDULED"===ha.status}),ja="".concat(m.default.portal.url,"portals/self/livingatlascatalog/cancelScheduledInstall"),[4,f.default.request({url:ja,content:{scheduleId:ea.scheduleId,packageId:ea.packageId}},
{usePost:!0}).then(function(ha){"cancelled"===ha.status&&(Z(!1),I(!0))})];case 2:return fa.sent(),[2]}})})}function p(){return a.__awaiter(this,void 0,void 0,function(){var da,ea,ja=this;return a.__generator(this,function(fa){E(!1);I(!1);da=function(){return a.__awaiter(ja,void 0,void 0,function(){var ha,la,ka,ia,ma,na;return a.__generator(this,function(pa){switch(pa.label){case 0:return[4,r()];case 1:return ha=pa.sent(),[4,e(null===(ma=ha.importedPackageInfos[0])||void 0===ma?void 0:ma.jobId)];case 2:return la=
pa.sent(),ka=null===(na=null===la||void 0===la?void 0:la.result)||void 0===na?void 0:na.totalItemsCount,"succeeded"===la.status?(W(!1),E(!0),clearInterval(ea),K(0)):ka&&(ia=la.result.itemsImportedCount+la.result.itemsFailedCount,K(ka-ia),G(ia/ka)),[2]}})})};ea=setInterval(da,1E4);return[2]})})}function n(){return a.__awaiter(this,void 0,void 0,function(){var da,ea,ja,fa,ha;return a.__generator(this,function(la){switch(la.label){case 0:da=N.split(":");ea=S.split("-");ja=new Date(parseInt(ea[0],10),
parseInt(ea[1],10)-1,parseInt(ea[2],10),parseInt(da[0],10),parseInt(da[1],10));fa=ja.getTime();R(fa);la=fa;var ka="".concat(m.default.portal.url,"portals/self/livingatlascatalog/downloadAndInstallUpdates");return[4,f.default.request({url:ka,content:{startTime:la,f:"pjson"}},{usePost:!0}).promise];case 1:return ha=la.sent(),ha.success&&(T(!1),I(!1),Z(!0)),[2]}})})}var q,l,c,d,w,t,z,x,y;u=u.i18n;var A=(0,k.useState)(null),B=A[0],D=A[1],C=(0,k.useState)(!0);A=C[0];var E=C[1],H=(0,k.useState)(0);C=H[0];
var G=H[1],F=(0,k.useState)(!1);H=F[0];var I=F[1],J=(0,k.useState)();F=J[0];var K=J[1],P=(0,k.useState)(!1);J=P[0];var T=P[1];P=(0,k.useState)();var S=P[0],L=P[1];P=(0,k.useState)();var N=P[0],O=P[1],Q=(0,k.useState)(!0);P=Q[0];var V=Q[1],X=(0,k.useState)(!1);Q=X[0];var Z=X[1],ca=(0,k.useState)();X=ca[0];var R=ca[1],Y=(0,k.useState)(!1);ca=Y[0];var ba=Y[1];Y=(0,k.useState)(!0);var aa=Y[0],W=Y[1];(0,k.useEffect)(function(){var da="".concat(m.default.portal.url,"portals/self/livingatlascatalog/checkForUpdates");
f.default.request({url:da}).then(function(ea){var ja;D(ea);ea.installedPackages.length||ba(!0);ea.newContentAvailable&&I(!0);ea.installInProgress&&p();ea.installScheduled&&(I(!1),Z(!0),R(null===(ja=null===ea||void 0===ea?void 0:ea.scheduleInfo)||void 0===ja?void 0:ja.startTime));ea.newContentAvailable||W(!1)})},[]);return(0,b.h)("div",null,(0,b.h)("div",{class:"trailer-0 org-settings__card-header flex"},(0,b.h)("h2",{class:"font-size-2 trailer-0 avenir-bold"},u.contentVersion)),(0,b.h)("div",{class:"org-settings__card-header"},
(0,b.h)("div",{hidden:aa,class:"margin-bottom-1"},u.versionUpToDate),(0,b.h)("div",null,ca?u.noLivingAtlasContent:u.currentVersion+(null===(q=null===B||void 0===B?void 0:B.installedPackages[0])||void 0===q?void 0:q.release)||""+u.releasedDate.replace("${date}",h.default.fullDate((null===(l=null===B||void 0===B?void 0:B.installedPackages[0])||void 0===l?void 0:l.timeOfExport)||""))),(0,b.h)("div",{class:"margin-top-1",hidden:ca},u.installedDate.replace("${date}",h.default.fullDate(null===(c=null===
B||void 0===B?void 0:B.installedPackages[0])||void 0===c?void 0:c.importDateTime))),(0,b.h)("div",{class:"margin-top-1",hidden:ca},(null===(d=null===B||void 0===B?void 0:B.installedPackages[0])||void 0===d?void 0:d.itemsCount)+u.items),(0,b.h)("div",{class:"margin-top-2 padding-1"},(0,b.h)("calcite-notice",{icon:"information",kind:"brand",open:H},(0,b.h)("div",{slot:"title"},u.newInstallation),(0,b.h)("div",{slot:"message"},u.installAvailable.replace("${date}",h.default.fullDate(null===(w=null===
B||void 0===B?void 0:B.availablePackages[0])||void 0===w?void 0:w.timeOfExport)).replace("${versionNumber}",null===(t=null===B||void 0===B?void 0:B.availablePackages[0])||void 0===t?void 0:t.release)),(0,b.h)("div",{slot:"actions-end",class:"margin-auto-vertical"},(0,b.h)("calcite-button",{slot:"actions-end",appearance:"outline-fill",onClick:function(){return T(!0)}},u.scheduleInstall),(0,b.h)("calcite-button",{slot:"actions-end",class:"margin-inline-end-2 margin-inline-start-2",onClick:function(){return a.__awaiter(this,
void 0,void 0,function(){var da,ea,ja,fa=this;return a.__generator(this,function(ha){switch(ha.label){case 0:return E(!1),I(!1),[4,v()];case 1:return da=ha.sent(),"submitted"===da.status&&(ea=function(){return a.__awaiter(fa,void 0,void 0,function(){var la,ka,ia,ma;return a.__generator(this,function(na){switch(na.label){case 0:return[4,e(da.jobId)];case 1:return la=na.sent(),ka=null===(ma=null===la||void 0===la?void 0:la.result)||void 0===ma?void 0:ma.totalItemsCount,"succeeded"===la.status?(W(!1),
E(!0),clearInterval(ja),K(0)):ka&&(ia=la.result.itemsImportedCount+la.result.itemsFailedCount,K(ka-ia),G(ia/ka)),[2]}})})},ja=setInterval(ea,1E4)),[2]}})})}},u.installNow))),(0,b.h)("div",{hidden:A},(0,b.h)("div",{class:"flex"},(0,b.h)("calcite-progress",{text:F?F+u.itemsLeftToInstall:u.downloadInProgress,type:"determinate",value:C}))),(0,b.h)("calcite-notice",{icon:"information",kind:"brand",open:Q},(0,b.h)("div",{slot:"title"},u.newInstallationScheduled),(0,b.h)("div",{slot:"message"},u.scheduledInstalledDescription.replace("${date}",
h.default.fullDate(null===(z=null===B||void 0===B?void 0:B.availablePackages[0])||void 0===z?void 0:z.timeOfExport))+h.default.completeDate(X)),(0,b.h)("div",{slot:"actions-end",class:"margin-auto-vertical margin-inline-end-2"},(0,b.h)("calcite-button",{slot:"actions-end",appearance:"outline-fill",onClick:function(){return g()}},u.cancelInstall))))),(0,b.h)("calcite-modal",{open:J,oncalciteModalClose:function(){return T(!1)}},(0,b.h)("div",{slot:"header"},u.scheduleLivingAtlasInstall),(0,b.h)("div",
{slot:"content-top"},(0,b.h)("div",{class:"font-medium"},u.setInstallationDateAndTime),(0,b.h)("div",null,u.setInstallationDescription.replace("${date}",h.default.fullDate(null===(x=null===B||void 0===B?void 0:B.availablePackages[0])||void 0===x?void 0:x.timeOfExport)).replace("${versionNumber}",null===(y=null===B||void 0===B?void 0:B.availablePackages[0])||void 0===y?void 0:y.release))),(0,b.h)("div",{slot:"content",class:"flex flex-space-between"},(0,b.h)("div",null,(0,b.h)("div",{class:"mb-2"},
u.selectDate),(0,b.h)("calcite-input-date-picker",{"overlay-positioning":"fixed",class:"width-20",oncalciteInputDatePickerChange:function(da){L(da.target.value);N&&V(!1)},min:(new Date).toISOString().split("T")[0]})),(0,b.h)("div",null,(0,b.h)("div",{class:"mb-2"},u.selectTime),(0,b.h)("calcite-input-time-picker",{"overlay-positioning":"fixed",class:"width-20",oncalciteInputTimePickerChange:function(da){O(da.target.value);S&&V(!1)}}))),(0,b.h)("div",{class:"serviceModalFooter",slot:"back"},(0,b.h)("calcite-button",
{slot:"secondary",appearance:"outline",onClick:function(){return T(!1)}},u.cancel),(0,b.h)("calcite-button",{slot:"primary",disabled:P,onClick:function(){return n()}},u.scheduleInstall))))}})},"arcgisonline/pages/organization/widgets/settings/tabs/GeneralTab":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/topic ../../../../utils/arrays ../../../../utils/subscription ../../../../utils/organization ./BaseSettingsTab ../settings-shared arcgisonline/sharing/util ../../../../../tsutils/declareDecorator ../cards/AdminContactsCard ../cards/AppLauncherCard ../rows/CurrentThemeRow ../rows/SharedThemeLogoRow ../rows/LogoLinkRow ../rows/NameRow ../rows/LogoRow ../rows/SummaryRow ../rows/LanguageRow ../rows/RegionRow ../rows/ShortNameRow ../rows/VerificationRow ../rows/ContactUsLinkRow ../rows/ExperienceImprovementRow ../rows/HelpSourceRow ../rows/TopNavRow ../rows/AppsRow".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);return function(){function H(G,F){this.i18n=b.default.generalTab;this.TAB_KEY=r.SettingsTabKeys.General}H.prototype.render=function(){var G=!this.portal.isPortal&&this.portal.subscriptionInfo&&!f.default.includes("Evaluation;HUP Online Entitlements;Personal Use;PowerBI;Trial;Trial Developer;Trial Press;Beta;Developer Subscription".split(";"),this.portal.subscriptionInfo.type),
F=!0;if(!this.portal.isPortal&&this.portal.subscriptionInfo){var I=this.portal.subscriptionInfo,J=I.type;I=I.maxUsers;!m.default.isDeveloperSubscription(J,this.portal.isPortal)||"Developer"===J&&5<=I||(F=!1)}J=this.portalUser.userRole;this.canManageSecurity=(I=J.isAdmin())||J.canManageSecurity();(this.canManageWebsite=I||J.canManageWebsite())&&this._createProfileCard();G&&this.canManageSecurity&&this._createVerificationCard();this.canManageWebsite&&this._createContactUsCard();this._createDefaultsCard();
F&&this.canManageSecurity&&this._createAdminContactsCard();!this.portal.isPortal&&this.canManageSecurity&&this._createEUEICard();this.canManageWebsite&&this._createSharedThemeCard();this.canManageWebsite&&this.createGlobalNavCard();this.portal.isPortal&&this.canManageWebsite&&!e.default.isArcGISEnterpriseOnKubernetes()&&this._createHelpSourceCard();this.inherited(arguments)};H.prototype._createProfileCard=function(){var G,F=this.getDefaultRowParams(),I="";this.portal.localizedOrgProperties&&this.portal.localizedOrgProperties.default&&
(I=this.portal.localizedOrgProperties.default.description);var J=this.portal.isPortal&&"modernOnly"===(null===(G=this.portal.portalProperties)||void 0===G?void 0:G.homePage);this.createCard({id:"org-profile-card",name:this.i18n.organizationProfile,rows:a.__spreadArray(a.__spreadArray([new c.default(a.__assign(a.__assign({},F),{id:"org-name-row",label:this.i18n.name,description:this.i18n.nameDesc,editA11yLabel:this.i18n.nameEditLabel,value:this.portal.name,keywords:["companyName","orgName","label"]}))],
J?[]:[new d.default(a.__assign(a.__assign({},F),{id:"org-logo-row",label:this.i18n.logo,description:this.portal.isPortal?this.i18n.logoDescPortal:this.i18n.logoDesc,keywords:"companyIcon orgIcon thumbnail image graphic picture symbol brand".split(" ")}))],!0),[new w.default(a.__assign(a.__assign({},F),{id:"org-summary-row",label:this.i18n.summary.name,description:this.i18n.summary.description,editA11yLabel:this.i18n.summary.editLabel,value:I,keywords:["abstract","brief","outline","report","review"]}))],
!1)})};H.prototype._createVerificationCard=function(){var G=this.i18n.verification;this.createCard({id:"org-verification-card",name:G.name,description:h.default.injectHelpLink(this.portal,G.description,"120001486"),rows:[new y.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{value:this.portal.isVerified?this.i18n.verified:"",keywords:["certified","verify","verifiedOrg","authoritative"]}))]})};H.prototype._createDefaultsCard=function(){var G=this.getDefaultRowParams(),F=[];"".concat(this.portal.helpBase).concat(this.portal.helpMap.m[this.portal.isPortal?
"120002828":"120001487"]||"");var I=this.portal.isPortal?"120002828":"120001487";"".concat(this.portal.helpBase).concat(this.portal.helpMap.m["120001189"]||"");!this.portal.isPortal&&this.canManageWebsite&&F.push(new z.default(a.__assign(a.__assign({},G),{id:"org-region-row",label:this.i18n.region.name,description:this.i18n.region.description,value:this.portal.region,keywords:["geographic","defaultArea"]})));this.canManageWebsite&&F.push(new t.default(a.__assign(a.__assign({id:"org-language-row"},
G),{label:this.i18n.language.name,description:h.default.injectHelpLink(this.portal,this.i18n.language.description,I,"language-learn-more"),value:{culture:this.portal.culture,cultureFormat:this.portal.cultureFormat},keywords:"default communication numeric day month year".split(" ")})));!this.portal.isPortal&&this.canManageSecurity&&F.push(new x.default(a.__assign(a.__assign({id:"org-short-name-row"},G),{label:this.i18n.shortName.name,description:h.default.injectHelpLink(this.portal,this.i18n.shortName.description,
"120001189","short-name-learn-more"),editA11yLabel:this.i18n.shortName.editLabel,value:this.portal.urlKey,keywords:["url","websitePath","organization","orgUrl","urlKey"]})));this.createCard({id:"org-defaults-card",name:this.i18n.organizationDefaults,rows:F})};H.prototype._createAdminContactsCard=function(){var G=this.i18n.adminContacts,F=G.name,I=G.description;G=G.descriptionPortal;I=this.portal.isPortal?h.default.injectHelpLink(this.portal,G,"120002434"):h.default.injectHelpLink(this.portal,I,"120001825");
var J=this.createCustomCard(g.default,{id:"org-admin-contacts-card",name:F,description:I,keywords:["pointOfContact","communication","email","support"]});this.own(k.default.subscribe("scroll-to/admin-contacts",function(){J.domNode.scrollIntoView({behavior:"smooth"})}))};H.prototype._createContactUsCard=function(){this.createCard({id:"org-contact-link-card",name:this.i18n.contactUsLink,description:this.i18n.contactUsLinkDesc,rows:[new A.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{editA11yLabel:this.i18n.contactUsEditLabel,
keywords:["mailto","feedback"]}))]})};H.prototype._createEUEICard=function(){this.createCard({id:"org-ux-improvement-card",name:this.i18n.EUEI,description:this.i18n.EUEIDesc,rows:[new B.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{value:this.portal.eueiEnabled,keywords:["ux","feedback","assessment"]}))]})};H.prototype._createSharedThemeCard=function(){var G=this.i18n.sharedTheme,F=G.name,I=G.description,J=G.descriptionPortal,K=G.logoRow;G=G.logoLinkRow;var P={};this.portal.portalProperties&&
this.portal.portalProperties.sharedTheme&&(P=this.portal.portalProperties.sharedTheme);P=P.logo;this.createCard({id:"org-shared-theme-card",name:F,description:this.portal.isPortal?J:I,keywords:["style","brand","customization"],rows:[new n.default(a.__assign({},this.getDefaultRowParams())),new q.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{id:"org-shared-theme-logo-row",portalUser:this.portalUser,label:K.name,value:P?P.small:""})),new l.default(a.__assign(a.__assign({},this.getDefaultRowParams()),
{id:"org-shared-theme-logo-link",label:G.name,editA11yLabel:G.editLabel,value:P?P.link:""}))]})};H.prototype._createAppLauncherCard=function(){var G=this.i18n.appLauncher,F=G.name;G=h.default.injectHelpLink(this.portal,G.description,this.portal.isPortal?"120001578":"120001296");this.createCustomCard(p.default,{id:"org-app-launcher-card",name:F,description:G,keywords:["switcher","addOn","applications","additionalProducts"]})};H.prototype.createGlobalNavCard=function(){var G=this.i18n.globalNav.name,
F=h.default.injectHelpLink(this.portal,this.i18n.appLauncher.description,this.portal.isPortal?"120001578":"120001296"),I=[new C.default(a.__assign({},this.getDefaultRowParams()))];F=new E.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:this.i18n.appLauncher.name,description:F,redirectOnly:!0}));this.portal.isPortal||I.push(F);this.createCard({name:G,keywords:["switcher","addOn","applications","additionalProducts","globalNav"],rows:I})};H.prototype._createHelpSourceCard=function(){var G=
this.i18n.helpSource;this.createCard({name:G.name,description:G.description,keywords:["helpSource"],rows:[new D.default(a.__assign({},this.getDefaultRowParams()))]})};return H=a.__decorate([(0,v.default)(u.default)],H)}()})},"arcgisonline/pages/organization/widgets/settings/cards/AdminContactsCard":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/on dojo/string ../../../../../tsutils/declareDecorator ./SettingsCard ../MemberListItem ../AdminContactsOverlay ../../../../portal/PortalUser ../../../../utils/dom ../../../../utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.adminContacts=[];this.contactRows=[]}n.prototype.render=function(){this.showHeaderBtn(this.i18n.generalTab.adminContacts.manage);this._title.textContent=this.name;this._description.innerHTML=
this.description;this.renderRows()};n.prototype.addEventListeners=function(){this.inherited(arguments);this.own(k.default.subscribe("admin-contacts/update",this.renderRows.bind(this)))};n.prototype.handleBtnClick=function(){(new e.default({portal:this.portal,portalUser:this.portalUser,adminContacts:this.adminContacts,opener:this._headerBtn,closeOnScrimClick:!1})).open()};n.prototype.renderRows=function(){var q=this;0<this.contactRows.length&&this.contactRows.forEach(function(l){l.destroy()});this.contactRows=
[];this.adminContacts=[];this._content.innerHTML="";this.portal.contacts.forEach(function(l){var c=q.portal.allAdmins.filter(function(d){return d.username===l})[0];c&&(c=new v.default(a.__assign(a.__assign({},c),{portal:q.portal})),q.adminContacts.push(c),c=new r.default({member:c}),q.contactRows.push(c),q.own((0,f.default)(c,"remove",q.handleRemoveAdmin.bind(q)),(0,f.default)(c,"undo",q.handleUndo.bind(q))))});0<this.contactRows.length&&(g.default.appendChildren(this.contactRows.map(function(l){return l.domNode}),
this._content),b.default.dropdown())};n.prototype.handleUndo=function(q){var l=this,c=q.member,d=a.__spreadArray(a.__spreadArray([],this.portal.contacts,!0),[c.username],!1);this.updateContacts(d).then(function(w){w.code||(q.hideRemoved(),w=l.portal.allAdmins.filter(function(t){return t.username===c.username})[0],l.adminContacts=a.__spreadArray(a.__spreadArray([],l.adminContacts,!0),[new v.default(a.__assign(a.__assign({},w),{portal:l.portal}))],!1))})};n.prototype.handleRemoveAdmin=function(q){var l=
this;if(1===this.adminContacts.length)p.default.showAlert("error",m.default.substitute(this.i18n.generalTab.lastAdminError,{username:q.member.username}));else{var c=q.member,d=this.portal.contacts.filter(function(w){return w!==c.username});this.updateContacts(d).then(function(w){w.code||(q.showRemoved(),l.adminContacts=l.adminContacts.filter(function(t){return t.username!==c.username}))})}};n.prototype.updateContacts=function(q){var l=this;return this.updateSelf({contacts:JSON.stringify(q)}).then(function(c){c.code?
p.default.showAlert("error",l.i18n.generalTab.adminContactsError):(p.default.showAlert("success",l.i18n.generalTab.adminContactsSuccess),l.portal.contacts=q);return c},function(){p.default.showAlert("error",l.i18n.generalTab.adminContactsError)})};return n=a.__decorate([(0,h.default)(u.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/MemberListItem":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/MemberListItem.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/dom ../../../utils/icons ../../../dijit/MemberThumb ../../../dijit/InfoTooltip arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=f.default;this.icons=e.default;this.i18n=m.default.common;this.isPurchaser=this.isCoordinator=!1}n.prototype.postMixInProperties=function(){this.removeLabel=
this.i18n.removeMember.replace("${username}",this.member.username)};n.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};n.prototype.showRemoved=function(){r.default.hideNode(this.removeBtn);r.default.showNode(this.removedContainer);this.domNode.classList.add("org-setting__list-item--disabled")};n.prototype.hideRemoved=function(){r.default.showNode(this.removeBtn);r.default.hideNode(this.removedContainer);this.domNode.classList.remove("org-setting__list-item--disabled")};
n.prototype.hideRemoveBtn=function(){r.default.hideNode(this.removeBtn)};n.prototype.render=function(){var q;this.nameEl.id="".concat(this.id,"-member-name-el");this.removeBtn.id="".concat(this.id,"-remove-member-btn");this.removeBtn.setAttribute("aria-labelledby","".concat(this.removeBtn.id," ").concat(this.nameEl.id));new v.default({member:this.member,cssClasses:"org-settings__row-thumb margin-right-half"},this.domNode.querySelector(".js-member-thumb"));if("private"===this.member.access&&this.isCoordinator){var l=
a.__assign({},m.default.collaborationsTab.online.contacts);this.createIncompatibleInfo(l.incompatibleVis,l.incompatibleExplain,l.updateProfileVis,"user.html?user\x3d".concat(this.member.username),!0)}else this.isPurchaser&&-1===(null===(q=null===(l=this.member.userRole)||void 0===l?void 0:l.privileges)||void 0===q?void 0:q.indexOf("marketplace:admin:purchase"))&&(l=m.default.marketplaceTab.purchasers,this.createIncompatibleInfo(l.incompatibleRole,l.incompatibleRoleDesc,l.manageRoles,"#members"))};
n.prototype.createIncompatibleInfo=function(q,l,c,d,w){void 0===w&&(w=!1);(new g.default({infoText:q,content:'\x3cp class\x3d"trailer-half"\x3e'.concat(l,'\x3c/p\x3e\x3ca href\x3d"').concat(d,'" ').concat(w?'target\x3d"_blank"':"","\x3e").concat(c,"\x3c/a\x3e"),popoverClass:"incompatible-coordinator-popover",icon:'\x3ccalcite-icon scale\x3d"s" icon\x3d"exclamation-mark-circle" class\x3d"incompatible-coordinator-icon"\x3e\x3ccalcite-icon\x3e'},this.domNode.querySelector(".js-incompatible-tooltip"))).domNode.classList.add("margin-right-2")};
n.prototype.addEventListeners=function(){var q=this;this.own((0,k.default)(this.removeBtn,"click",function(){q.emit("remove",q)}),(0,k.default)(this.undoBtn,"click",function(){q.emit("undo",q)}))};return n=a.__decorate([(0,p.default)(u.default,h.default,b.default)],n)}()})},"arcgisonline/pages/dijit/InfoTooltip":function(){define("require exports tslib dojo/text!./InfoTooltip/templates/InfoTooltip.html dojo/i18n!../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/a11yclick ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=b.default;this.i18n=k.default;this.buttonClasses=this.content=this.title="";this.dialogClasses=[];this.orient=["above-centered","below-centered"];this.tooltipId=
"";this.icons=g.default;this.preventInfoButtonEventDefault=!1;this.popoverClass=this.calciteIcon=this.icon=this.infoText="";this.isBlue=this.hideIcon=this.disabled=this.hideCloseBtn=!1}n.prototype.postMixInProperties=function(){this.inherited(arguments);this.buttonAriaLabel||(this.buttonAriaLabel=this.title)};n.prototype.postCreate=function(){this.inherited(arguments);this.disabled&&this._infoButton.classList.add("no-pointer");this.title||this._popoverContent.classList.remove("leader-half");this._popoverContent.innerHTML=
this.content;this.hideCloseBtn&&v.default.hideNode(this._closeIcon);this._dialog=new u.default({id:this.tooltipId,class:"popover ".concat(this.popoverClass),title:this.title,content:this._popover});0<this.dialogClasses.length&&v.default.addClasses(this._dialog.domNode,this.dialogClasses);void 0!==this.infoText&&(this._infoButton.className="".concat(this._infoButton.className," flex flex-align-center"),v.default.showNode(this.infoTextEl));this.icon?this.iconWrapper.innerHTML=this.icon:this.calciteIcon&&
(this.iconWrapper.innerHTML='\x3ccalcite-icon icon\x3d"'.concat(this.calciteIcon,'" scale\x3d"s"\x3e\x3c/calcite-icon\x3e'));this.hideIcon&&v.default.hideNode(this.iconWrapper);this.isBlue&&this._infoButton.classList.remove("btn-link-darker-gray");this._addEventListeners()};n.prototype.closePopup=function(){r.default.close(this._dialog)};n.prototype.destroy=function(){this.inherited(arguments);this._dialog&&this._dialog.destroy()};n.prototype.addContentClass=function(q){this._popoverContent.classList.add(q)};
n.prototype.show=function(){v.default.showNode(this.domNode)};n.prototype.hide=function(){v.default.hideNode(this.domNode)};n.prototype.getPopover=function(){return this._popover};n.prototype.update=function(q,l){this.infoTextEl.innerHTML=q;this._popoverContent.innerHTML=l};n.prototype._addEventListeners=function(){var q=this;this.own((0,e.default)(this._closeIcon,function(){r.default.close(q._dialog);q._infoButton.setAttribute("aria-expanded","false");q._infoButton.focus()}),(0,e.default)(this._infoButton,
function(l){l.stopPropagation();q.preventInfoButtonEventDefault&&l.preventDefault();q.disabled||(r.default.open({popup:q._dialog,orient:q.orient,around:q._infoButton}),v.default.showNode(q._popover),q._infoButton.setAttribute("aria-expanded","true"),q._closeIcon.focus())}),(0,f.default)(this._popover,"click",function(l){l.stopPropagation()}),(0,f.default)(document.body,"click",function(l){r.default.close(q._dialog);q._infoButton.setAttribute("aria-expanded","false")}))};return n=a.__decorate([(0,p.default)(h.default,
m.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/AdminContactsOverlay":function(){define("require exports tslib dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay ../../../dijit/MemberBrowser ../../../dijit/MemberBrowser/MemberBrowserRow ../../../utils/alerts ../../../../sharing/util ../../../../esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),function(U,
M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.title=k.default.generalTab.manageAdminContacts;this.i18n=b.default;this.constrain=!0;this.overlayContents='\x3cdiv\x3e\x3cdiv class\x3d"js-member-browser"\x3e\x3c/div\x3e\x3c/div\x3e';
this.adminContacts=[]}q.prototype.open=function(){this.inherited(arguments);this._primaryBtn.id="manage-admin-contacts-save";this._cancelBtn.id="manage-admin-contacts-cancel";this.domNode.classList.add("admin-contacts-overlay");this.memberBrowser=new r.default({userTypeFilter:!0,groupsFilter:!0,portal:this.portal,user:this.portalUser,row:e.default,showSelected:!0,overlay:!0,selected:a.__spreadArray([],this.adminContacts,!0),baseQuery:"role: org_admin"},this.domNode.querySelector(".js-member-browser"))};
q.prototype.close=function(){this.inherited(arguments)};q.prototype.handlePrimary=function(){var l=this;if(this.memberBrowser.selected.length){var c=this.memberBrowser.selected.map(function(d){return d.username});g.default.request({url:"".concat(p.default.restBaseUrl,"portals/self/update"),content:{contacts:JSON.stringify(c)}},{usePost:!0}).then(function(d){d.code?l.showUpdateError():(l.portal.contacts=c,f.default.publish("admin-contacts/update"),v.default.showAlert("success",k.default.generalTab.adminContactsSuccess),
l.close())},function(){l.showUpdateError()})}else v.default.showAlert("error",k.default.generalTab.noAdminError)};q.prototype.showUpdateError=function(){v.default.showAlert("error",k.default.generalTab.adminContactsError);this.close()};return q=a.__decorate([(0,n.default)(h.default,m.default,u.default)],q)}()})},"arcgisonline/pages/dijit/Overlay":function(){define("require exports tslib dojo/on dojo/debounce dojo/topic dojo/query dojo/has dojo/dom-class dojo/dom-construct dojox/uuid/generateRandomUuid dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../utils/formatters ../utils/icons ../utils/focus dojo/text!./Overlay/templates/Overlay.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);return function(){function z(){this.i18n=
w.default;this.icons=l.default;this.templateString=d.default;this.hide=q.default.hide;this._unsavedChanges=this.constrain=!1;this.maxWidth=null;this.showActionBar=!0;this.overlayContents=null;this._screenWidth=window.innerWidth;this._preventScrollClass=(0,h.default)("ios")?"ios-prevent-scroll":"overflow-hidden";this.class=this.title="";this.closeOnScrimClick=this.destroyOnClose=this.shouldScroll=!0;this.background="off-white";this.isDrillIn=!1;this.primaryBtnText=w.default.common.save;this.loadingText=
w.default.common.loading;this.uid=null}z.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=(0,e.default)();this.srcNodeRef||(this.srcNodeRef=r.default.place(r.default.create("div"),document.body,"last"))};z.prototype.postCreate=function(){this.inherited(arguments);r.default.place(this.overlayContents,this._overlayContentWrapper,"only");this.showActionBar||u.default.add(this._overlayContentWrapper,"overlay-content--no-actions");this.shouldScroll&&u.default.add(this._overlayContentWrapper,
"overlay-content--scroll");this.constrain&&u.default.add(this.domNode,"overlay--constrained");this.maxWidth&&(this._overlay.style.maxWidth=this.maxWidth+"px",this._screenWidth>=this.maxWidth&&u.default.add(this.domNode,"overlay--max-width"));this._addEventListeners()};z.prototype._addEventListeners=function(){var x=this;this.own(f.default.subscribe("overlay/open",function(){return x.open()}),(0,b.default)(window,"resize",(0,k.default)(function(y){return x.resizeHandler(y)},30)),(0,b.default)(this.closeBtn,
"click",function(y){return x.handleCancel(y)}),(0,b.default)(this._backArrow,"click",function(){return x.close()}),(0,b.default)(this._primaryBtn,"click",function(y){return x.handlePrimary(y)}),(0,b.default)(this._cancelBtn,"click",function(y){return x.handleCancel(y)}),(0,b.default)(this._backgroundScrim,"click",function(y){return x.handleScrimClick(y)}),(0,b.default)(document,"keyup",function(y){"Escape"===y.key&&x.close()}))};z.prototype.open=function(){this.defaultOpener=document.activeElement;
var x=document.documentElement.classList.contains(this._preventScrollClass);window.getComputedStyle(this.domNode).opacity;(0,m.default)(this.domNode).addClass("is-active");var y=c.default.getFocusableElements(this.domNode);0<y.length&&y[0].focus();this.trapFocus();this.render&&this.render();this.emit("open");this.isDrillIn=x;this.preventScroll()};z.prototype.preventScroll=function(x){var y=this;if(!this.isDrillIn){var A=document.documentElement,B=A.scrollTop,D=document.body.scrollTop;setTimeout(function(){(0,h.default)("ios")&&
(y._bodyScrollTop=Math.max(window.pageYOffset,B,D));u.default.add(A,y._preventScrollClass)},x?0:300)}};z.prototype.close=function(x){var y=this,A,B;this._unsavedChanges&&this.unsavedChangesText?this.confirmClose(this.unsavedChangesText).then(function(D){!0===D&&y._close()}):this._close();if(this.onClose&&"function"===typeof this.onClose)this.onClose();this.emit("close",x);x=this.opener||this.defaultOpener||document.body;null===(A=null===x||void 0===x?void 0:x.setFocus)||void 0===A?void 0:A.call(x);
null===(B=null===x||void 0===x?void 0:x.focus)||void 0===B?void 0:B.call(x)};z.prototype.confirmClose=function(x){var y=new v.default;x=confirm(x);y.resolve(x);return y};z.prototype.showLoader=function(x){this._overlayLoaderText.textContent=x||"";this._overlayLoader.classList.add("is-active")};z.prototype.hideLoader=function(){this._overlayLoaderText.textContent="";this._overlayLoader.classList.remove("is-active")};z.prototype.setUnsaved=function(x){this._unsavedChanges=x};z.prototype.handlePrimary=
function(x){};z.prototype.handleHelp=function(x){};z.prototype.handleCancel=function(x){this.close()};z.prototype.handleScrimClick=function(x){this.closeOnScrimClick&&x.target===x.currentTarget&&this.close()};z.prototype.resizeHandler=function(x){x=window.innerWidth;this._screenWidth>=this.maxWidth&&x<this.maxWidth&&this.domNode.classList.remove("overlay--max-width");this._screenWidth<this.maxWidth&&x>=this.maxWidth&&this.domNode.classList.add("overlay--max-width");this._screenWidth=x};z.prototype._close=
function(){this.domNode&&this.domNode.classList.remove("is-active");this.isDrillIn||(u.default.remove(document.documentElement,this._preventScrollClass),(0,h.default)("ios")&&(document.documentElement.scrollTop=this._bodyScrollTop,document.body.scrollTop=this._bodyScrollTop));this.destroyOnClose&&this._destroy()};z.prototype._destroy=function(){var x=this;this.untrapFocus();setTimeout(function(){return x.destroy()},300)};z.prototype.trapFocus=function(){this._trapHandler=c.default.trapFocus(this.domNode)};
z.prototype.untrapFocus=function(){this.domNode&&c.default.untrapFocus(this.domNode,this._trapHandler)};return z=a.__decorate([(0,t.default)(p.default,g.default,n.default)],z)}()})},"arcgisonline/pages/dijit/MemberBrowser":function(){define("require exports tslib calcite-web/js/calcite-web esri/lang dojo/promise/all dojo/Deferred dojo/Evented dojo/on dojo/topic dojo/text!./MemberBrowser/templates/MemberBrowser.html dojo/i18n!../../nls/arcgisonline dojo/debounce dijit/_TemplatedMixin dijit/_WidgetBase ../portal/PortalUser ../pageUtil ../utils/culture ../utils/arrays ../utils/dom ./Pagination ./ControlBar ./FilterStatus ./ToggleSwitch ./FilterSingleWithSearch ./FilterOrganizationGroups ./FilterCollabOrgs/FilterCollabOrgs ./FilterCategoryWrapper ./SelectedMembers arcgisonline/pages/utils/icons arcgisonline/pages/components/Collaborations/collab-service arcgisonline/pages/components/MemberCategories/api ../../esriGeowConfig ../../sharing/util ../../sharing/geow/Roles ../../sharing/geow/Licenses ../../sharing/dijit/_LevelAwareMixin ../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T,S){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=
a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);G=a.__importDefault(G);I=a.__importDefault(I);J=a.__importDefault(J);K=a.__importDefault(K);P=a.__importDefault(P);T=a.__importDefault(T);S=a.__importDefault(S);return function(){function L(N,O){this.templateString=e.default;this.i18n=v.default;this.icons=H.default;this.row=this.group=null;this.hideFilters=
this.actions=!1;this.appsFilter=null;this.outsideOrgFilterDisable=this.outsideOrgFilter=!1;this.outsideOrgFilterDisableText="";this.roleFilter=this.userTypeFilter=this.showCategoryFilter=!1;this.roleFilterExclude=function(){return!0};this.showExactMatchedUser=this.showSelected=this.showMFAToggle=this.showMFAFilter=this.myGroupsFilter=this.groupsFilter=!1;this.selected=[];this.selectionLimit=null;this.baseQuery="";this.excludeCurrentUser=!1;this.emptyText=v.default.emptyStates.noMembersYet;this.showCollabOrgsFilter=
this.overlay=!1;this.limitText="";this.allowSelectAll=!1;this._page={start:1,num:100,total:0,nextStart:-1};this._sortOptions=[{property:"fullname",label:this.i18n.GroupWidget.name,ascending:!0,active:!0},{property:"username",label:this.i18n.myOrganization.membersTab.username,ascending:!0,active:!1}];this._sort={property:"fullname",label:this.i18n.myOrganization.currentGrid.fullName,ascending:!0};this._selectionLimitText="";this._initialLoad=!1;this._onlyOrg=!0;this._searchTerm="";this._topicPrefix=
"MEMBER_BROWSER/";this._filterState={};this._filters={userLicenseType:{param:"userLicenseType",chipText:v.default.myOrganization.filterChips.userType+" ",clearText:v.default.myOrganization.filterChips.userTypeClear,topic:this._topicPrefix,options:{}},role:{param:"role",chipText:v.default.myOrganization.filterChips.role+" ",clearText:v.default.myOrganization.filterChips.roleClear,topic:this._topicPrefix,options:{}},group:{param:"group",chipText:v.default.myOrganization.filterChips.group+" ",clearText:v.default.myOrganization.filterChips.groupClear,
topic:this._topicPrefix,options:{}},orgGroup:{param:"orgGroup",chipText:v.default.myOrganization.filterChips.group+" ",clearText:v.default.myOrganization.filterChips.groupClear,topic:this._topicPrefix,options:{}},app:{param:"app",chipText:v.default.myOrganization.filterChips.app+" ",clearText:v.default.myOrganization.filterChips.appClear,topic:this._topicPrefix,options:{}},mfaenabled:{param:"mfaenabled",chipText:v.default.myOrganization.filterChips.mfa+" ",clearText:v.default.myOrganization.filterChips.mfaClear,
topic:this._topicPrefix,options:{enabled:{value:"enabled",q:"mfaenabled:true",label:v.default.myOrganization.membersTab.mfaEnabled},disabled:{value:"disabled",q:"-mfaenabled:true",label:v.default.myOrganization.membersTab.mfaDisabled}}}};this.collabOrgs=[];this.coordinators=[];this.coordinatorsOnly=!1;this.partnerCoordinators=[];this.numPerPage=100;this.isAdmin=!1}L.prototype.postMixInProperties=function(){this.inherited(arguments);this._onlyOrg=this.user.isOrgUser;this.selectionLimit&&(this._selectionLimitText=
this.limitText||c.default.getString(v.default.GroupWidget.selectionLimit,this.selectionLimit));this._renderMembers=(0,g.default)(this._renderMembers.bind(this),10)};L.prototype.postCreate=function(){this.inherited(arguments);this._initUI()};L.prototype.destroy=function(){this.inherited(arguments)};L.prototype.deselectMembers=function(N){this.selected=this.selected.filter(function(O){return-1===N.indexOf(O.username)});this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);
this._showHideSelect()};L.prototype.getMembers=function(N){return a.__awaiter(this,void 0,void 0,function(){var O;return a.__generator(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,,3]),[4,J.default.request({url:this._getUrl(),content:a.__assign(a.__assign({},this._getParams()),N||{})})];case 1:return O=Q.sent(),[2,O];case 2:return Q.sent(),[3,3];case 3:return[2]}})})};L.prototype.getAllMembers=function(){return a.__awaiter(this,void 0,void 0,function(){var N,O,Q,V,X=this;return a.__generator(this,
function(Z){switch(Z.label){case 0:return Z.trys.push([0,2,,3]),N=this._getUrl(),O=this._getParams(),[4,l.default.fetchAllResources(N,O)];case 1:return Q=Z.sent(),V=Q.map(function(ca){return X.parseMember(ca)}),[2,V];case 2:return Z.sent(),[3,3];case 3:return[2]}})})};L.prototype.parseMember=function(N){var O=J.default.getToken();if(this._onlyOrg)var Q=new q.default(a.__assign(a.__assign({},N),{portal:this.portal}));else Q=a.__assign(a.__assign({},N),{thumbnailUrl:""}),N.thumbnail&&(Q.thumbnailUrl=
"".concat(I.default.restBaseUrl,"community/users/").concat(N.username,"/info/").concat(N.thumbnail,"?token\x3d").concat(O));return Q};L.prototype._initUI=function(){var N=this,O;this._loader=this.domNode.querySelector(".js-loader");this._gridMemberCount=this.domNode.querySelector(".js-grid-member-count");this._grid=this.domNode.querySelector(".js-members-list");this._noResults=this.domNode.querySelector(".js-no-results");this._selectPageBtn=this.domNode.querySelector(".js-select-page");this._deselectPageBtn=
this.domNode.querySelector(".js-deselect-page");this._deselectBtn=this.domNode.querySelector(".js-deselect");this._searchForResults=this.domNode.querySelector(".js-search-for-results");this.selectAllBtn=this.domNode.querySelector(".js-select-all");this.deselectAllBtn=this.domNode.querySelector(".js-deselect-all");this._pagination=new t.default(a.__assign(a.__assign({},this._page),{topic:this._topicPrefix,pageSizeLabel:v.default.contentPage.paginationPerPageMembers}),this.domNode.querySelector(".js-pagination"));
this._filterStatus=new x.default({dontUpdateQueryParams:!0,topic:this._topicPrefix},this.domNode.querySelector(".js-filter-status"));r.default.publish("".concat(this._topicPrefix,"sort/update"),a.__assign({},this._sort));this._initFilters().then(function(Z){var ca=N._filtersContainer.querySelector("calcite-accordion-item");ca&&(ca.expanded=!0);Z=!N.user.isOrgUser&&!Z||N.hideFilters;Z={search:{placeholder:N.i18n.GroupWidget.searchUsers,searchTerm:"",escapeSearchTerm:!0},sort:N._sortOptions,filterContainer:N.domNode.querySelector(".js-filters-panel"),
viewContainer:N.domNode.querySelector(".js-grid"),actions:N.actions,collapsed:Z,noFilters:Z,topic:N._topicPrefix,absolute:!1,insideOverlay:!1};ca=N.domNode.querySelector(".js-control-bar");N.overlay&&(document.querySelector(".js-overlay-content").classList.add("overlay-content--with-control-bar"),ca=document.querySelector(".js-overlay-control-bar"),Z.absolute=!0,Z.insideOverlay=!0);N._controlBar=new z.default(Z,ca);N.showSelected&&(N._selectedMembers=new E.default({members:N.selected,showSections:!1,
emitViewEvents:!0,floated:!1,topic:N._topicPrefix,buttonClasses:"assign-licenses__members-dropdown--no-margin",allowRemovingAll:!0},N.domNode.querySelector(".js-selected-members")),N._selectedMembers.update(N.selected),N._showHideSelect());N._renderMembers(!0);N._addListeners();N.domNode.querySelector(".js-wrapper-loader").classList.remove("is-active");N.user.isOrgUser||(N._onlyOrgUpdate(!0),N._searchForResults.classList.remove("hide"))});if(this.group&&this.portal.id&&!this.portal.isPortal){var Q=
null===(O=this.group)||void 0===O?void 0:O.membershipAccess;O=this.domNode.querySelector(".js-membership-notice");var V=this.domNode.querySelector(".js-membership-text"),X=this.i18n.createGroupOverlay.memberOptions;V.textContent="org"===Q?X.org:"collaboration"===Q?X.collab:X.external;w.default.showNode(O);this.domNode.querySelector(".js-filters-title").classList.add("member-browser__filters-title")}this.showHideSelectAll()};L.prototype.showHideSelectAll=function(){this.allowSelectAll&&(w.default.showHide(this.domNode.querySelector(".js-select-all-wrapper"),
this.allowSelectAll&&this._onlyOrg),w.default.showHide(this.domNode.querySelector(".js-select-page-wrapper"),!this.allowSelectAll||!this._onlyOrg))};L.prototype._initFilters=function(){var N=this,O=new m.default;this._filtersContainer=this.domNode.querySelector(".js-member-filters");var Q=this.user.userRole,V=Q.isAdmin(),X=(this.isAdmin=V)||Q.canViewOrgUsers(),Z=V||Q.canViewUsers(),ca=V||Q.canManageLicenses();Q=new K.default;V=new P.default;(0,f.default)({roles:this.roleFilter?Q.getAllRoles(!0):(new m.default).resolve(!0),
myGroups:this.myGroupsFilter?this._getUserGroups():(new m.default).resolve(!0),licenseTypes:this.userTypeFilter&&ca?V.getLicenseTypes():(new m.default).resolve(!0),collaborations:this.showCollabOrgsFilter&&this.portal.canHavePartnerCollab()?G.default.getCollaborations():null,coordinators:this.user.userRole.canGetCoordinators()&&this.portal.canHavePartnerCollab()?G.default.getAllCoordinators():null,categories:this.showCategoryFilter&&X?J.default.request({url:"".concat(I.default.restBaseUrl,"portals/self/memberCategorySchema")}):
null}).then(function(R){var Y,ba,aa,W;N.showCategoryFilter&&0<(null===(ba=null===(Y=R.categories)||void 0===Y?void 0:Y.memberCategorySchema)||void 0===ba?void 0:ba.length)&&N.initCategoriesFilter(R.categories.memberCategorySchema);N.appsFilter&&ca&&N._initAppFilter();N.userTypeFilter&&Z&&ca&&(N._userLicenseTypes=R.licenseTypes.userLicenseTypes,N._initUserLicenseTypeFilter(N._userLicenseTypes));N.roleFilter&&Z&&N._initRoleFilter(R.roles);N.groupsFilter&&Z&&N._initGroupFilter();N.showMFAFilter&&Z&&
N.initMFAFilter();N.showCollabOrgsFilter&&(null===(W=null===(aa=R.collaborations)||void 0===aa?void 0:aa.trustedOrgs)||void 0===W?0:W.length)&&(N.collabOrgs=R.collaborations.trustedOrgs.filter(function(da){return-1<da.from.established&&-1<da.to.established}),N.emit("member-browser/trusted-orgs",{trustedOrgs:N.collabOrgs}),N.coordinators=R.coordinators||[],N.partnerCoordinators=N.coordinators.filter(function(da){return da.orgId!==N.portal.id}),N.collabOrgs.filter(function(da){return"active"===da.to.state}).length&&
(N.coordinatorsOnly=!0,N.initCollabOrgsFilter()));N.myGroupsFilter&&0<R.myGroups.length&&N._initMyGroupFilter(R.myGroups);N.outsideOrgFilter&&N._initOrgFilter();N.showMFAToggle&&N.initMFAToggle();O.resolve(!0)},function(){O.resolve(!1)});return O};L.prototype._addListeners=function(){var N=this;b.default.dropdown();this.own(r.default.subscribe("".concat(this._topicPrefix,"search/update"),this._searchUpdate.bind(this)),r.default.subscribe("".concat(this._topicPrefix,"filter/update"),this._filterUpdate.bind(this)),
r.default.subscribe("".concat(this._topicPrefix,"filter/clear"),this._filterClear.bind(this)),r.default.subscribe("".concat(this._topicPrefix,"filter/remove"),this._filterRemove.bind(this)),r.default.subscribe("".concat(this._topicPrefix,"sort/update"),this._sortUpdate.bind(this)),r.default.subscribe("".concat(this._topicPrefix,"pagination/page"),this._paginationPage.bind(this)),(0,u.default)(this._selectPageBtn,"click",this._selectPage.bind(this)),(0,u.default)(this._deselectPageBtn,"click",this._deselectPage.bind(this)),
(0,u.default)(this._deselectBtn,"click",this._clearSelection.bind(this)),(0,u.default)(this.selectAllBtn,"click",this.selectAll.bind(this)),(0,u.default)(this.deselectAllBtn,"click",this.deselectAll.bind(this)));this._outsideOrgToggle&&this.own(this._outsideOrgToggle.on("change",this._onlyOrgUpdate.bind(this)));this.mfaEnabled&&this.own(this.mfaEnabled.on("change",function(){N._renderMembers()}));this.showSelected&&this.own(r.default.subscribe("".concat(this._topicPrefix,"view/items/deselect"),this._selectedMembersRemove.bind(this)))};
L.prototype._onlyOrgUpdate=function(N){this._onlyOrg=!N;r.default.publish("".concat(this._topicPrefix,"filter/clear"),!0);this.showHideSelectAll();var O=this._onlyOrg&&this.user.isOrgUser;w.default.showHide(this._selectPageBtn,this._onlyOrg&&this.user.isOrgUser);[this._roleFilter,this._organizationGroupsFilter,this._userTypeFilter,this._appFilter,this.categoryFilter].filter(function(Q){return Q}).forEach(function(Q){return w.default.showHide(Q.domNode,O)});this.emit("outsideOrgChange",this._onlyOrg);
this.collabOrgsFilter&&w.default.showHide(this.collabOrgsFilter.domNode,!this._onlyOrg);this._renderMembers()};L.prototype._paginationPage=function(N){this._page=a.__assign({},N);this.numPerPage=this._pagination.num;this._renderMembers()};L.prototype._sortUpdate=function(N){var O=N.property,Q=N.ascending;N=N.label;this._page.start=1;this._sort={property:O,ascending:Q,label:N};this._renderMembers()};L.prototype._filterRemove=function(N){delete this._filterState[N.param];this._renderMembers()};L.prototype._filterClear=
function(){this._page.start=1;this._filterState={};this._renderMembers()};L.prototype._filterUpdate=function(N){this._page.start=1;this._filterState[N.param]=N.selected;this._renderMembers()};L.prototype._searchUpdate=function(N){this._searchTerm=N;this._page.start=1;this._renderMembers()};L.prototype._getMembers=function(){var N=this;return J.default.request({url:this._getUrl(),content:this._getParams()}).then(function(O){N._page={total:O.total,start:O.start,num:O.num,nextStart:O.nextStart};N._pagination.render(N._page);
N._updateGridMemberCount(O.total);return O.results},function(O){return 0})};L.prototype._getExactUser=function(N){var O=this,Q=new m.default;this.checkAlreadyInGroup(this._searchTerm.trim().toLowerCase()).then(function(V){var X,Z=N.some(function(R){return R.username.toLowerCase()===O._searchTerm.trim().toLowerCase()}),ca="collaboration"===(null===(X=O.group)||void 0===X?void 0:X.membershipAccess);!(0<O._searchTerm.trim().length)||Z||V||1!==O._page.start||!O.showExactMatchedUser||ca||O._onlyOrg&&!O.portal.isPortal?
Q.resolve({members:N}):(V="".concat(I.default.restBaseUrl,"community/users/").concat(O._searchTerm),J.default.request({url:V}).then(function(R){!R.username||R.firstName||R.fullName||R.lastName||(R.fullName=R.username,R.firstName=R.username);Q.resolve({members:N,user:R})},function(R){Q.resolve({members:N})}))});return Q};L.prototype.checkAlreadyInGroup=function(N){return a.__awaiter(this,void 0,void 0,function(){var O;return a.__generator(this,function(Q){switch(Q.label){case 0:if(!this.group||!N||
3>N.length)return[2,!1];Q.label=1;case 1:return Q.trys.push([1,3,,4]),[4,J.default.request({url:"".concat(I.default.restBaseUrl,"community/users"),content:{filter:"username:".concat(N," AND group:").concat(this.group.id),num:1}})];case 2:return O=Q.sent(),[2,0<(null===O||void 0===O?void 0:O.total)];case 3:return Q.sent(),[2,!1];case 4:return[2]}})})};L.prototype._updateGridMemberCount=function(N){var O=this._pagination.getCurrentPageObj();this._gridMemberCount.textContent=l.default.getPageRangeString({start:0===
N?0:O.start,end:O.end,total:O.total})};L.prototype._getUrl=function(){return this._onlyOrg&&this.user.isOrgUser?"".concat(I.default.restBaseUrl,"portals/self/users/search"):"".concat(I.default.restBaseUrl,"community/users")};L.prototype._getParams=function(){var N=this,O,Q,V,X,Z,ca,R=this._searchTerm;R=R?"(".concat(R,")"):"";var Y=Object.keys(this._filters).filter(function(ea){return N._filterState[ea]&&"categories"!==ea}).reduce(function(ea,ja){return"".concat(ea," ").concat(N._filterState[ja][0].q)},
""),ba=this.user.isOrgUser?"+".concat("(orgid: [0 TO \\{])"):"-".concat("(orgid: [0 TO \\{])");ba=this._onlyOrg?"":ba;var aa=this._filterState.collabOrg?"orgid:".concat(this._filterState.collabOrg[0].value):"";this.mfaEnabled&&(Y+="".concat(this.mfaEnabled.checked()?"mfaenabled: true":""));var W="";(null===(O=this.group)||void 0===O||!O.isSharedOwnership)&&"collaboration"!==(null===(Q=this.group)||void 0===Q?void 0:Q.membershipAccess)||this._onlyOrg||aa||(W=this.collabOrgs.filter(function(ea){return"active"===
ea.to.state}).map(function(ea){return ea.to.orgId}),W="(orgid:".concat(this.portal.id," ").concat(W.length?" OR orgid:".concat(W.join(" OR orgid:")):"",")"));Q=(I.default.systemUsers||[]).reduce(function(ea,ja){return"".concat(ea," -username: ").concat(ja)},"");var da=this.excludeCurrentUser?'-username:"'.concat(this.user.username,'"'):"";O=a.__assign({sortField:this._sort.property,sortOrder:this._sort.ascending?"asc":"desc",q:"".concat(this._onlyOrg&&(null===(V=this.portal)||void 0===V?0:V.id)?"(orgid:".concat(this.portal.id,
")"):""," ").concat(this.baseQuery," ").concat(R," ").concat(Y," ").concat(W||aa||ba," ").concat(Q," ").concat(da)},this._page);this.coordinatorsOnly&&0<this.coordinators.length&&!this._onlyOrg&&(O.filter="(username:".concat(this.coordinators.map(function(ea){return ea.username}).join(" OR username:"),")"));if(null===(X=this._filterState.categories)||void 0===X?0:X[0])V=this._filterState.categories[0].value,O.categories="_none_"===V?"null":JSON.stringify([V]);this.showCollabOrgsFilter&&this.collabOrgs.length&&
(null===(Z=this.user.userRole)||void 0===Z?0:Z.canManageCollaborationGroupMembers())&&(null===(ca=this.user.userRole)||void 0===ca?0:ca.canViewOrgUsers())&&(O.searchUserAccess="includeTrustedOrgs");return O};L.prototype._renderMembers=function(N){var O=this,Q;if(this._filterState.collabOrg){var V=this._filterState.collabOrg[0].value;var X=this.collabOrgs.filter(function(ca){return ca.to.orgId===V})[0];var Z="suspended"===(null===X||void 0===X?void 0:X.to.state)}Z&&"collaboration"===(null===(Q=this.group)||
void 0===Q?void 0:Q.membershipAccess)?(w.default.hideNodes([this.domNode.querySelector(".js-grid"),this._searchForResults]),this.domNode.querySelector(".js-suspended-text").textContent=this.i18n.GroupWidget.suspendedCollabResults.replace("${orgName}",null===X||void 0===X?void 0:X.to.name),w.default.showNode(this.domNode.querySelector(".js-suspended-collab")),w.default.hideNode(this._pagination.domNode)):(w.default.showNode(this.domNode.querySelector(".js-grid")),w.default.hideNode(this.domNode.querySelector(".js-suspended-collab")),
this._noResults.classList.add("hide"),this._grid.classList.add("hide"),this._pagination.hide(),(this._rows||[]).forEach(function(ca){return ca.destroy()}),Q=!this._onlyOrg&&!this._searchTerm&&0===Object.keys(this._filterState).length&&!this.coordinatorsOnly,w.default.showHide(this._searchForResults,Q),Q?(this._fadeIn(),860<=window.innerWidth&&this._controlBar.focus(),w.default.hideNode(this._grid),w.default.hideNode(this._gridMemberCount)):(N||this._loader.classList.add("is-active"),this._page.num=
this.numPerPage,this._getMembers().then(this._getExactUser.bind(this)).then(function(ca){var R;O.user.userRole.canGetCoordinators()&&O.portal.canHavePartnerCollab()&&(null===(R=O.collabOrgsFilter)||void 0===R?void 0:R.showCoordinatorsToggle());R=ca.members;ca=ca.user;var Y=J.default.getToken(),ba=0<Object.keys(O._filterState).length,aa=O.domNode.querySelector(".js-count-and-status");O._rows=[];O._grid.innerHTML="";O._loader.classList.remove("is-active");if(ca&&!ba&&!O.coordinatorsOnly){R.unshift(ca);
O._pagination.hide();var W=O._pagination.getCurrentPageObj();O._gridMemberCount.textContent=l.default.getPageRangeString({start:W.start,end:R.length,total:W.total+1})}if(0===R.length){O._noResults.innerHTML=O.emptyText;if(ba||O._searchTerm)O._noResults.innerHTML=v.default.GroupWidget.noMembers;w.default.hideNode(O._selectPageBtn);O._noResults.classList.remove("hide");O._fadeIn()}else{w.default.showNode(O._selectPageBtn);O._rows=R.map(function(da){if(O._onlyOrg)var ea=new q.default(a.__assign(a.__assign({},
da),{portal:O.portal}));else ea=a.__assign(a.__assign({},da),{thumbnailUrl:""}),da.thumbnail&&(ea.thumbnailUrl="".concat(I.default.restBaseUrl,"community/users/").concat(da.username,"/info/").concat(da.thumbnail,"?token\x3d").concat(Y),ea.portal=O.portal);var ja=!!d.default.find(O.selected,function(la){return la.username===da.username}),fa=!ja&&k.default.isDefined(O.selectionLimit)&&O.selected.length>=O.selectionLimit,ha=O.coordinators.filter(function(la){return la.username===ea.username})[0];ea.isCoordinator=
!!ha;ha&&(ea.orgName=ha.orgName||"");ja=new O.row({member:ea,container:O,portal:O.portal,selected:ja,disabled:fa,disabledText:O._selectionLimitText});ja.on("select",O._selectMember.bind(O));ja.on("deselect",O._deselectMember.bind(O));return ja});(0,f.default)(O._rows.map(function(da){return da.startup()})).then(function(){return w.default.appendChildren(O._rows.map(function(da){return da.domNode}),O._grid)});O._fadeIn();w.default.showNode(O._grid);if(ba||0<R.length)w.default.showNode(O._gridMemberCount),
O._pagination.render(O._page);ba||ca||!(0<R.length)||O.selected&&0!==O.selected.length||w.default.showNode(aa)}O._showHideSelect()},function(ca){return 0})))};L.prototype._fadeIn=function(){if(!this._initialLoad){var N=this.domNode.querySelector(".js-member-browser-wrapper");N.classList.remove("hide");N.classList.add("animate-fade-in");this._initialLoad=!0}};L.prototype._showHideSelect=function(){var N=this,O,Q,V,X=0<this.selected.length,Z=this.selectionLimit&&this.selected.length>=this.selectionLimit;
w.default.showHide(this.domNode.querySelector(".js-show-on-select"),X);w.default.showHide(this.domNode.querySelector(".js-count-and-status"),!X);var ca=!(null===(O=this._rows)||void 0===O||!O.length);O=X&&ca&&this._rows.every(function(R){return R.selected});ca=!O&&!Z&&ca;w.default.showHide(this._deselectPageBtn,O);w.default.showHide(this._selectPageBtn,ca);this.selectionLimit&&((this._rows||[]).forEach(function(R){R[Z&&!R.isSelected()?"disable":"enable"](N._selectionLimitText)}),O=this._selectPageBtn.parentNode,
X=(null===(Q=this._rows)||void 0===Q?void 0:Q.length)||0,this.selected.length+X>this.selectionLimit&&ca?(O.classList.add("tooltip"),O.classList.add("tooltip-bottom-right"),O.setAttribute("aria-label",this._selectionLimitText),this._selectPageBtn.disabled=!0):(O.classList.remove("tooltip"),O.classList.remove("tooltip-bottom-right"),O.removeAttribute("aria-label"),this._selectPageBtn.removeAttribute("disabled")));this.allowSelectAll&&(Q=!(null===(V=this._rows)||void 0===V||!V.every(function(R){return N.selected.some(function(Y){return Y.username===
R.member.username})})),w.default.showHide(this.selectAllBtn,!Q))};L.prototype._selectMember=function(N){this.selected.some(function(O){return O.username===N.username})||this.selected.push(N);this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect()};L.prototype._deselectMember=function(N){this.selected=this.selected.filter(function(O){return O.username!==N.username});this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);
this._showHideSelect();this.allowSelectAll&&w.default.showNode(this.selectAllBtn)};L.prototype._selectedMembersRemove=function(N){this._deselectMember(N)};L.prototype.selectAll=function(){return a.__awaiter(this,void 0,void 0,function(){var N,O=this;return a.__generator(this,function(Q){switch(Q.label){case 0:return this._page.total>this._page.num?[4,this.getAllMembers()]:[3,2];case 1:N=Q.sent(),this._selectedMembers.update(N),this.selected=N,this.emit("selectUpdate",this.selected),Q.label=2;case 2:return window.setTimeout(function(){O._rows.forEach(function(V){return!V.selected&&
V.toggleSelected()})},20),[2]}})})};L.prototype.deselectAll=function(){w.default.showNode(this.selectAllBtn);w.default.hideNode(this.deselectAllBtn);this.selectAllBtn.focus();this._selectedMembers.update([]);this.selected=[];this.emit("selectUpdate",this.selected);this._rows.forEach(function(N){return N.selected&&N.toggleSelected()})};L.prototype._selectPage=function(){this._rows.forEach(function(N){return!N.selected&&N.toggleSelected()});this._showHideSelect();this._deselectPageBtn.focus()};L.prototype._deselectPage=
function(){this._rows.forEach(function(N){return N.selected&&N.toggleSelected()});this._showHideSelect();this._selectPageBtn.focus()};L.prototype._clearSelection=function(){this._rows.forEach(function(N){return N.selected&&N.toggleSelected(!0)});this.selected=[];this._selectedMembers.update(this.selected);this.emit("selectUpdate",this.selected);this._showHideSelect();this._selectPageBtn.focus();this.allowSelectAll&&(w.default.showNode(this.selectAllBtn),this.selectAllBtn.focus())};L.prototype._getUserGroups=
function(){var N=this;return J.default.request({url:"".concat(this.portal.url,"community/users/").concat(this.user.username)}).then(function(O){return(O.groups||[]).filter(function(Q){return!N.group||N.group.id!==Q.id}).sort(function(Q,V){var X="owner"===Q.userMembership.memberType?1:-1,Z="owner"===V.userMembership.memberType?1:-1;Q=Q.title.toLowerCase();V=V.title.toLowerCase();return X!==Z?Z-X:Q>V?1:Q<V?-1:0})},function(){return[]})};L.prototype._initOrgFilter=function(){var N;J.default.isPortal()||
(this._outsideOrgToggle=new y.default({label:"collaboration"===(null===(N=this.group)||void 0===N?void 0:N.membershipAccess)?v.default.searchResults.includePartner:v.default.searchResults.searchAGOL,labelPosition:"left",labelClasses:"trailer-half font-size--1",isChecked:!this._onlyOrg,disabled:this.outsideOrgFilterDisable,tooltip:this.outsideOrgFilterDisableText,tooltipClass:this.outsideOrgFilterDisableText?"tooltip tooltip-multiline":""},this.domNode.querySelector(".js-outside-org-toggle")))};L.prototype.initMFAToggle=
function(){this.mfaEnabled=new y.default({label:this.i18n.myOrganization.membersTab.seeMFASetUp,labelPosition:"left",labelClasses:"trailer-half font-size--1"},this.domNode.querySelector(".js-mfa-toggle"));this.mfaEnabled.domNode.classList.add("mfa-enabled-toggle")};L.prototype._initAppFilter=function(){var N=this,O=document.createElement("section");this._filtersContainer.appendChild(O);this.appsFilter.forEach(function(Q){N._filters.app.options[Q.id]={value:Q.id,q:"app:".concat(Q.id),label:Q.name}});
this._appFilter=new A.default({title:this.i18n.myOrganization.manageLicenseMembers.app,searchText:this.i18n.myOrganization.manageLicenseMembers.app,filterParameter:this._filters.app,active:!1},O)};L.prototype._initGroupFilter=function(){var N=document.createElement("section");this._filtersContainer.appendChild(N);this._organizationGroupsFilter=new B.default({portal:this.portal,filterParameter:this._filters.orgGroup,active:!1},N)};L.prototype._initMyGroupFilter=function(N){var O=this,Q=document.createElement("section");
this._filtersContainer.appendChild(Q);N.forEach(function(V){O._filters.group.options[V.id]={value:V.id,q:"group:".concat(V.id),label:V.title}});this._groupFilter=new A.default({title:this.i18n.GroupWidget.myGroups,searchText:this.i18n.GroupWidget.searchMyGroups,filterParameter:this._filters.group,filterCssClasses:"filter--wrap",topic:this._topicPrefix,active:!1},Q)};L.prototype.initCollabOrgsFilter=function(){var N=this;if(this.collabOrgs.length){var O={};this.collabOrgs.sort(function(Q,V){Q=Q.to.name;
V=V.to.name;return Q>V?1:Q<V?-1:0}).forEach(function(Q,V){var X=Q.to;V=X.orgId;var Z=X.name;X="suspended"===X.state?"".concat(Z," (").concat(N.i18n.searchFilters.suspended,")"):Z;O[Q.to.orgId]={value:V,q:"collabOrg:".concat(V),label:X}});this.collabOrgsFilter=new D.default({filterParameter:{param:"collabOrg",chipText:this.i18n.searchFilters.collabChipText,clearText:v.default.myOrganization.filterChips.partnerClear,topicPrefix:this._topicPrefix,options:O}});this.own(this.collabOrgsFilter.on("coordinators-only",
function(Q){N.coordinatorsOnly=Q.checked;N._renderMembers()}));this._filtersContainer.insertBefore(this.collabOrgsFilter.domNode,this._filtersContainer.lastChild);this.collabOrgsFilter.hide()}};L.prototype.initCategoriesFilter=function(N){return a.__awaiter(this,void 0,void 0,function(){var O,Q=this;return a.__generator(this,function(V){O=document.createElement("section");this._filtersContainer.appendChild(O);this.categoryFilter=new C.default({props:{portal:this.portal,user:this.portal.portalUser,
filterContainer:this._filtersContainer,disableEdit:!this.isAdmin,categories:N,isMemberCategories:!0,topicPrefix:this._topicPrefix}},O);this.own(r.default.subscribe("member-categories-and-count/update",function(X){Q.categoryFilter.updateCategories(X.categories);Q.updateCategoriesCount()}));return[2]})})};L.prototype.updateCategoriesCount=function(){return a.__awaiter(this,void 0,void 0,function(){var N;return a.__generator(this,function(O){switch(O.label){case 0:return[4,(0,F.getMemberCategoriesCount)(this.portal)];
case 1:return N=O.sent(),this.categoryFilter.updateCategorizedMembers(N),[2]}})})};L.prototype._initUserLicenseTypeFilter=function(N){var O=this,Q=document.createElement("section");this._filtersContainer.appendChild(Q);N.forEach(function(V){O._filters.userLicenseType.options[V.id]={value:V.id,q:"userlicensetype:".concat(V.id),label:V.name}});this._userTypeFilter=new A.default({title:this.i18n.myOrganization.membersTab.licenseType,searchText:this.i18n.myOrganization.membersTab.filterUserTypes,filterParameter:this._filters.userLicenseType,
active:!1},Q)};L.prototype.initMFAFilter=function(){var N=document.createElement("section");this._filtersContainer.appendChild(N);this.mfaFilter=new A.default({title:this.i18n.myOrganization.membersTab.mfa,searchText:"",filterParameter:{param:"mfaenabled",chipText:this.i18n.myOrganization.filterChips.mfa+" ",clearText:this.i18n.myOrganization.filterChips.mfaClear,options:{enabled:{value:"enabled",q:"mfaenabled:true",label:this.i18n.myOrganization.membersTab.mfaEnabled},disabled:{value:"disabled",
q:"-mfaenabled:true",label:this.i18n.myOrganization.membersTab.mfaDisabled}}},topic:this._topicPrefix},N)};L.prototype._initRoleFilter=function(N){var O=this;this._roles=N.map(function(Q){Q.id===O.SYSTEM_ROLES.VIEWER&&(Q.name=O.i18n.myOrganization.formatters.roleViewer);Q.id===O.SYSTEM_ROLES.DATA_EDITOR&&(Q.name=O.i18n.myOrganization.formatters.roleViewerEdit);Q.id===O.SYSTEM_ROLES.FACILITATOR&&(Q.name=O.i18n.myOrganization.formatters.roleFacilitator);return Q}).concat([{id:"org_publisher",name:v.default.myOrganization.formatters.rolePublisher},
{id:"org_admin",name:v.default.myOrganization.formatters.roleAdmin},{id:"org_user",name:v.default.myOrganization.formatters.roleUser}]).filter(this.roleFilterExclude).sort(function(Q,V){Q=Q.name.toLowerCase();V=V.name.toLowerCase();return Q>V?1:Q<V?-1:0});this._roles.forEach(function(Q){O._filters.role.options[Q.id]={value:Q.id,q:"role:".concat(Q.id),label:Q.name}});N=document.createElement("section");this._filtersContainer.appendChild(N);this._roleFilter=new A.default({title:this.i18n.myOrganization.membersTab.role,
searchText:this.i18n.myOrganization.membersTab.filterRoles,filterParameter:this._filters.role,active:!1},N)};return L=a.__decorate([(0,S.default)(n.default,p.default,T.default,h.default)],L)}()})},"arcgisonline/pages/dijit/Pagination":function(){define("require exports tslib dojo/on dojo/topic dojo/query dojo/string dojo/dom-attr dojo/dom-class dojo/_base/event dijit/_TemplatedMixin dijit/_WidgetBase calcite-web/js/calcite-web ../pageUtil ../utils/dom ../utils/icons dojo/text!./Pagination/templates/Number.html dojo/text!./Pagination/templates/Ellipsis.html dojo/text!./Pagination/templates/Pagination.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);return function(){function z(x,y){this.templateString=
d.default;this.pageSizeLabel=w.default.contentPage.paginationPerPage;this.i18n=w.default;this.icons=q.default;this.smallestPageSize=this.num=20;this.topic=""}z.prototype.postCreate=function(){this.inherited(arguments);this._addEventListeners();this.hideDropdown&&n.default.hideNode(this._pageDropdown)};z.prototype.render=function(x){this.total=x.total;this.start=x.start;this.nextStart=x.nextStart;this.end=-1===this.nextStart?this.total:this.nextStart-1;this.currentPage=(this.start-1)/this.num+1;this.pages=
Math.ceil(this.total/this.num);this._updateUI()};z.prototype._addEventListeners=function(){var x=this;this.own((0,b.default)(this.next,"click",function(y){r.default.stop(y);x.nextPage()}),(0,b.default)(this.pageLinks,"click",function(y){var A;r.default.stop(y);if(y=h.default.get(y.target,"data-page"))null===(A=x.telemetry)||void 0===A?void 0:A.logEvent({pageUrl:window.location.href,category:"Change page",action:y}),x.selectPage(y)}),(0,b.default)(this.previous,"click",function(y){r.default.stop(y);
x.previousPage()}),(0,f.default)(".js-page-num-link",this.domNode).on("click",function(y){y=y.target.getAttribute("data-num");x.updateNum(y)}))};z.prototype._updateUI=function(){var x=this.currentPage,y=Math.min(this.pages,Math.floor(1E4/this.num)),A=(0,f.default)(".js-btn-previous",this.domNode),B=(0,f.default)(".js-btn-next",this.domNode);(0,f.default)(".js-btn",this.domNode).addClass("btn-transparent");1===x?A.addClass("btn-disabled").attr("tabindex",-1):A.removeClass("btn-disabled").removeAttr("tabindex");
-1===this.nextStart||1E4<this.nextStart+this.num?B.addClass("btn-disabled").attr("tabindex",-1):B.removeClass("btn-disabled").removeAttr("tabindex");this._pageNumLabel.innerHTML=m.default.substitute(this.pageSizeLabel,{num:this.num});(0,f.default)(".js-page-num-link",this.domNode).removeClass("is-active");(0,f.default)(".js-page-num-link[data-num\x3d'"+this.num+"']",this.domNode).addClass("is-active");if(1<y){B=Math.max(4,x);var D=12<y&&y<B+3;A=[];if(6>y)for(B=1;B<=y;B++)A.push(B);else{if(4<x)A.push(1,
"..."),D||A.push(x-1,x);else for(var C=1;C<=x;C++)A.push(C);if(4>x&&4<y)for(C=x+1;4>=C;C++)A.push(C);if(D)for(B=y-3;B<=y;B++)A.push(B);else if(2<y-B)A.push(B+1,"...",y);else for(B+=1;B<=y;B++)A.push(B)}this.pageLinks.innerHTML='\x3cul class\x3d"clear-list-style flex-center"\x3e'.concat(A.reduce(function(E,H){var G=H===x;return E+m.default.substitute("..."===H?c.default:l.default,{pageNum:H,"is-active":G?"no-pointer pagination-btn--active":"btn-transparent pagination-btn--inactive",label:m.default.substitute(G?
w.default.contentPage.paginationActive:w.default.contentPage.paginationLink,{pageNum:H}),current:G?"aria-current\x3d'true' tabindex\x3d'-1'":""})},""),"\x3c/ul\x3e");u.default.remove(this.domNode,"hide");u.default.remove(this.navigation,"hide")}else this.total>this.smallestPageSize?(u.default.add(this.navigation,"hide"),u.default.remove(this.domNode,"hide")):u.default.add(this.domNode,"hide");(0,f.default)(".js-over-limit",this.domNode).removeClass("is-active");1E4<=this.total&&1E4<=this.start+this.num&&
(0,f.default)(".js-over-limit",this.domNode).addClass("is-active")};z.prototype.setInitialProperties=function(x){this.start=x.start||this.start;this.num=x.num||this.num;this._updateUI()};z.prototype.selectPage=function(x){this.currentPage=parseInt(x||1,10);this.start=(this.currentPage-1)*this.num+1;this.nextStart=this.start+this.num>this.total?-1:this.start+this.num;this.end=-1===this.nextStart?this.total:this.nextStart-1;this._updateUI();this.topic||p.default.updateQueryParams({start:this.start,
num:this.num});k.default.publish(this.topic+"pagination/page",this.getCurrentPageObj())};z.prototype.nextPage=function(){var x;this.currentPage=Math.min(this.currentPage+1,this.pages);null===(x=this.telemetry)||void 0===x?void 0:x.logEvent({pageUrl:window.location.href,category:"Change page",action:"Next"});this.selectPage(this.currentPage)};z.prototype.previousPage=function(){var x;this.currentPage=Math.max(this.currentPage-1,1);null===(x=this.telemetry)||void 0===x?void 0:x.logEvent({pageUrl:window.location.href,
category:"Change page",action:"Prev"});this.selectPage(this.currentPage)};z.prototype.updateNum=function(x){var y,A=parseInt(x,10);A!==this.num&&(this.num=A,this.pages=Math.ceil(this.total/this.num),null===(y=this.telemetry)||void 0===y?void 0:y.logEvent({pageUrl:window.location.href,category:"Row count per page",action:x}),this.selectPage(1),g.default.bus.emit("dropdown:close"))};z.prototype.getCurrentPageObj=function(){return{num:this.num,total:this.total,start:this.start,end:this.end,nextStart:this.nextStart,
currentPage:this.currentPage,pages:this.pages}};z.prototype.hide=function(){this.domNode.classList.add("hide")};z.prototype.show=function(){this.domNode.classList.remove("hide")};return z=a.__decorate([(0,t.default)(v.default,e.default)],z)}()})},"arcgisonline/pages/dijit/ControlBar":function(){define("require exports tslib calcite-web/js/calcite-web dojo/debounce dojo/dom-construct dojo/string dojo/topic dojo/on dojo/query dijit/_TemplatedMixin dijit/_WidgetBase ./SearchInput ../components/ViewToggle ../components/SortDropdown ../components/Refresh ../organization/widgets/SearchDropdown ../pageUtil ../utils/icons ../utils/productGlyphs ../utils/dom dojo/text!./ControlBar/templates/ControlBar.html dojo/text!./ControlBar/templates/Filters.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator preact preact/compat".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);return function(){function C(E,H){var G=this;this.templateString=z.default;this.i18n=y.default;this.icons=d.default;this.productGlyphs=w.default;this.showOnResize=!0;this.mobileBreakPoint=860;this.screenWidth=1080;this.telemetryOptions=this.telemetry=void 0;this.collapsed=!1;this.hideMobileActions=!0;this.refresh=!1;this.refreshLabel="";this.dontUpdateQueryParams=!1;this.toggleFilterText=function(F){var I=G.domNode.querySelector(".js-toggle-filters-label");
t.default.showHide(I,1080<=F)}}C.prototype.postMixInProperties=function(){this.inherited(arguments);this.showFilters=this.showFilters.bind(this);this.hideFilters=this.hideFilters.bind(this);this.searchActionClass=this.actions?"control-bar__search--has-actions":"";this.filterActiveClass=this.collapsed?"":"is-active";this.hideFilterClass=this.noFilters?"hide":"";this.hideActionClass=this.hideMobileActions?"control-bar--hide-mobile-actions":"";this.positionAbsoluteClass=this.absolute?"control-bar--absolute":
"";this.search.cssTheme="control-bar__search-input flex-1";this.queryParams=c.default.getQueryParams();this.hideRightClass=this.filterContainer||this.views||this.sort?"":"control-bar--hide-right";this.marginClass=this.noMargin?"control-bar--no-margin":""};C.prototype.postCreate=function(){var E=this,H,G,F,I,J;this.inherited(arguments);if(this.filterContainer){var K=f.default.toDom(m.default.substitute(x.default,{i18n:y.default,icons:d.default})),P=this.filterContainer.parentNode;P.insertBefore(K,
this.filterContainer);P.querySelector(".js-filters-insert").appendChild(this.filterContainer);this.filtersWrap=P.querySelector(".js-filters-mobile-wrap");this.filtersWrapParent=P;("false"===this.queryParams.showFilters||this.noFilters||this.collapsed)&&this.filtersWrap.classList.add("is-collapsed")}this.search&&(this.searchDropdown&&(this.search.searchBy=null!==(H=this.queryParams.searchBy)&&void 0!==H?H:"fullname"),this.search.topic=this.topic,this.telemetry&&(null===(G=this.telemetryOptions)||void 0===
G?0:G.search)&&(this.search.telemetry=this.telemetry),this._searchInput=new g.default(this.search,this.domNode.querySelector(".js-control-bar-search")));this.views&&(this.views.topic=this.topic,this.telemetry&&(null===(F=this.telemetryOptions)||void 0===F?0:F.viewToggle)&&(this.views.telemetry=this.telemetry),this._viewToggle=(0,B.render)((0,B.h)(p.default,a.__assign({},this.views)),this.domNode.querySelector(".js-control-bar-view-dropdown")));this.refresh&&(H=this.domNode.querySelector(".js-control-bar-refresh"),
H.classList.remove("hide"),(0,B.render)((0,B.h)(q.default,{topic:this.topic,label:this.refreshLabel}),H));this.sort&&(H={options:this.sort,topic:this.topic,telemetry:this.telemetry&&(null===(I=this.telemetryOptions)||void 0===I?0:I.sortOrderToggle)?this.telemetry:null},this._sortDropdown=(0,B.render)((0,B.h)(n.default,a.__assign({},H)),this.domNode.querySelector(".js-control-bar-sort-dropdown")));this.searchDropdown&&(this._searchDropdown=new l.default({},this.domNode.querySelector(".js-control-bar-search-dropdown")));
this.actions?this.domNode.querySelector(".js-control-bar-actions").innerHTML=m.default.substitute(this.actions,{i18n:y.default,icons:d.default,productGlyphs:w.default}):f.default.destroy(this.domNode.querySelector(".js-control-bar-actions"));this.noFilters&&(null===(J=this.filterContainer)||void 0===J?void 0:J.parentNode.removeChild(this.filterContainer));if(this.sticky)var T=setInterval(function(){var S;0<(null===(S=E.domNode)||void 0===S?void 0:S.clientHeight)&&(clearInterval(T),E.initStickyInterface())},
100);this.filtersWrap&&("false"===this.queryParams.showFilters?(this.hideFilters(),this.showOnResize=!1):this.resizeHandler(),window.innerWidth<this.mobileBreakPoint&&this.insideOverlay&&document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap));this.domNode.querySelector(".js-toggle-filters").setAttribute("aria-expanded",this.collapsed?"false":"true");this.toggleFilterText(window.innerWidth);this.own((0,r.default)(".js-toggle-filters",this.domNode).on("click",function(){return E.toggleFilters()}),
(0,u.default)(window,"resize",(0,k.default)(function(){return E.resizeHandler()},30)),(0,r.default)(".js-collapse-filters-button",this.filtersWrap).on("click",function(){return E.hideFilters()}),h.default.subscribe(this.topic+"search/error",this.showSearchError.bind(this)),h.default.subscribe(this.topic+"search/update",this.hideSearchError.bind(this)))};C.prototype.destroy=function(){this.domNode&&(this.sort&&(0,D.unmountComponentAtNode)(this.domNode.querySelector(".js-control-bar-sort-dropdown")),
this.views&&(0,D.unmountComponentAtNode)(this.domNode.querySelector(".js-control-bar-view-dropdown")));this.inherited(arguments)};C.prototype.refreshSort=function(E){var H;if(this.sort=E)E={options:this.sort,topic:this.topic,telemetry:this.telemetry&&(null===(H=this.telemetryOptions)||void 0===H?0:H.sortOrderToggle)?this.telemetry:null},this._sortDropdown=(0,B.render)((0,B.h)(n.default,a.__assign({},E)),this.domNode.querySelector(".js-control-bar-sort-dropdown"))};C.prototype.setSearchValue=function(E){h.default.publish("search/setValue",
E,!0);this._searchInput.setValue(E,!0)};C.prototype.getSearchValue=function(){return this._searchInput.getValue()};C.prototype.toggleFilters=function(){var E,H;if(null===(E=this.telemetryOptions)||void 0===E?0:E.filterToggle)null===(H=this.telemetry)||void 0===H?void 0:H.logEvent({category:"Control Bar Filter Toggle",action:this.collapsed?"show":"hide",pageUrl:window.location.href});this.collapsed?this.showFilters():this.hideFilters();this.screenWidth>this.mobileBreakPoint&&(this.showOnResize=!this.collapsed)};
C.prototype.showFilters=function(){var E=window.document.documentElement;this.collapsed=!1;this.dontUpdateQueryParams||c.default.updateQueryParams({showFilters:!0});this.filtersWrap&&this.filtersWrap.classList.remove("is-collapsed");var H=this.domNode.querySelector(".js-toggle-filters");H.classList.add("is-active");H.setAttribute("aria-expanded","true");this.screenWidth<this.mobileBreakPoint&&E.classList.add("filters-open");h.default.publish("control-bar/filters-toggle")};C.prototype.hideFilters=
function(){var E=window.document.documentElement;this.collapsed=!0;this.dontUpdateQueryParams||c.default.updateQueryParams({showFilters:!1});this.filtersWrap&&this.filtersWrap.classList.add("is-collapsed");var H=this.domNode.querySelector(".js-toggle-filters");H.classList.remove("is-active");H.setAttribute("aria-expanded","false");E.classList.remove("filters-open");h.default.publish("control-bar/filters-toggle")};C.prototype.resizeHandler=function(){var E=window.innerWidth,H=window.document.documentElement;
!this.collapsed&&900<=this.screenWidth&&900>E&&this.hideFilters();this.showOnResize&&this.collapsed&&900>this.screenWidth&&900<=E&&this.showFilters();(720>this.screenWidth&&720<=E||720<=this.screenWidth&&720>E)&&h.default.publish("view/refresh");(1080>this.screenWidth&&1080<=E||1080<=this.screenWidth&&1080>E)&&this.toggleFilterText(E);this._searchInput&&480<=this.screenWidth&&480>E&&h.default.publish("search/setPlaceholder",y.default.common.search);this._searchInput&&480>this.screenWidth&&480<=E&&
this._searchInput.setPlaceholder();E>this.mobileBreakPoint&&H.classList.remove("filters-open");this.moveFilters(E);this.screenWidth=E};C.prototype.setPlaceholder=function(E){this._searchInput.setPlaceholder(E)};C.prototype.focus=function(){var E;null===(E=this._searchInput)||void 0===E?void 0:E.focus()};C.prototype.initStickyInterface=function(){window.scrollTo(0,0);b.default.sticky();this._scrollingSideMenu=this.filterContainer.querySelector(".js-scrolling-side-menu");this._scrollingMenusStart=this.domNode.getBoundingClientRect().top;
this._scrollingOptionsMenuPlaceHolder=f.default.create("div",{class:"js-scrolling-top-menu-placeholder hide",style:"height:\n          ".concat(this.domNode.clientHeight+Number(getComputedStyle(this.domNode)["margin-bottom"].split("px")[0]),"px;")},this.domNode,"before");this.own(b.default.bus.on("scrolling:at",this.stickyCallback?this._handlePageScrollWithCallback.bind(this):this.handlePageScroll.bind(this)))};C.prototype.showSearchError=function(E,H){var G;(null===(G=this._searchInput)||void 0===
G?void 0:G.id)===H&&(H=this.domNode.querySelector(".js-control-bar-search-error"),H.innerHTML=E,H.classList.add("is-active"),this.domNode.querySelector("js-control-bar-search-wrap").classList.add("ontrol-bar__search--error"))};C.prototype.hideSearchError=function(E){this._searchInput&&this._searchInput.id===E&&(E=this.domNode.querySelector(".js-control-bar-search-error"),E.innerHTML="",E.classList.remove("is-active"),this.domNode.querySelector(".js-control-bar-search-wrap").classList.remove("control-bar__search--error"))};
C.prototype._handlePageScrollWithCallback=function(E,H){this.handlePageScroll();this.stickyCallback(E,H)};C.prototype.handlePageScroll=function(){var E=document.documentElement,H=this.domNode.clientHeight;(window.pageYOffset||E.scrollTop)>=this._scrollingMenusStart?(this._scrollingOptionsMenuPlaceHolder.classList.remove("hide"),this.domNode.classList.add("fixed-to"),window.innerWidth>this.mobileBreakPoint?(this._scrollingSideMenu.classList.add("fixed-to"),this._scrollingSideMenu.style.top="".concat(H,
"px")):this._scrollingSideMenu.style.top="0"):(this._scrollingOptionsMenuPlaceHolder.classList.add("hide"),this.domNode.classList.remove("fixed-to"),this._scrollingSideMenu.classList.remove("fixed-to"),this._scrollingSideMenu.style.top="0")};C.prototype.moveFilters=function(E){this.insideOverlay&&this.filtersWrap&&(this.screenWidth<this.mobileBreakPoint&&E>=this.mobileBreakPoint&&f.default.place(this.filtersWrap,this.filtersWrapParent,"first"),this.screenWidth>=this.mobileBreakPoint&&E<this.mobileBreakPoint&&
document.querySelector(".js-overlay-control-bar-filters").appendChild(this.filtersWrap))};return C=a.__decorate([(0,A.default)(v.default,e.default)],C)}()})},"arcgisonline/pages/components/ViewToggle":function(){define("require exports tslib preact dojo/i18n!../../nls/arcgisonline dojo/topic arcgisonline/pages/pageUtil calcite-web/js/calcite-web".split(" "),function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);U=function(u){function r(){var e=null!==u&&u.apply(this,arguments)||this;e.domNodeRef=(0,b.createRef)();e.updateMobileWidth=function(){e.setState({isMobileWidth:1080>window.innerWidth})};e.toggleView=function(v){var g,p,n,q;v.stopPropagation();v=null===(n=null===(p=null===(g=v.target.selectedItems)||void 0===g?void 0:g[0])||void 0===p?void 0:p.dataset)||void 0===n?void 0:n.view;e.updateUI(v);null===(q=e.props.telemetry)||void 0===q?void 0:q.logEvent({category:"Control Bar View Selector",
action:v,pageUrl:window.location.href});h.default.bus.emit("dropdown:close")};e.updateUI=function(v){e.setState({activeView:v});e.props.topic||m.default.updateQueryParams({view:v});f.default.publish("".concat(e.props.topic,"view/toggle"),v)};return e}a.__extends(r,u);r.prototype.componentDidMount=function(){var e=this;this.updateUI(this.props.activeView);(new ResizeObserver(function(){e.updateMobileWidth()})).observe(document.body)};r.prototype.render=function(){var e=this,v=this.state,g=v.activeView,
p=v.open,n=this.props.views;return(0,b.h)("calcite-dropdown",{width:"m",oncalciteDropdownSelect:function(q){return e.toggleView(q)},oncalciteDropdownOpen:function(){return e.setState({open:!0})},oncalciteDropdownClose:function(){return e.setState({open:!1})},role:"menu","aria-controls":"viewmenu","aria-expanded":p,"aria-haspopup":"true",open:p},(0,b.h)("calcite-button",{slot:"trigger",iconStart:g,iconFlipRtl:"start",appearance:"transparent",kind:"neutral","aria-label":k.default.viewToggle.selectView},
!v.isMobileWidth&&(0,b.h)("span",null,k.default.viewToggle[g])),(0,b.h)("calcite-dropdown-group",{role:"group",id:"viewmenu",groupTitle:k.default.viewToggle.view},n.map(function(q){return(0,b.h)("calcite-dropdown-item",{key:q,role:"menuitemradio",iconStart:q,iconFlipRtl:"start",selected:q===g,"data-view":q,"aria-label":k.default.viewToggle[q]},k.default.viewToggle[q])})))};r.defaultProps={activeView:"grid",views:["table","list","grid"],topic:""};return r}(b.Component);M.default=U})},"arcgisonline/pages/components/SortDropdown":function(){define("require exports tslib preact ../utils/arrays dojo/i18n!../../nls/arcgisonline dojo/topic ../pageUtil calcite-web/js/calcite-web".split(" "),
function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);var r={title:{asc:"alphabetical",desc:"reverseAlphabetical"},owner:{asc:"alphabetical",desc:"reverseAlphabetical"},modified:{asc:"leastRecent",desc:"mostRecent"},added:{asc:"leastRecent",desc:"mostRecent"},numviews:{asc:"leastToMost",desc:"mostToLeast"},relevance:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},
lastlogin:{asc:"leastRecent",desc:"mostRecent"},name:{asc:"alphabetical",desc:"reverseAlphabetical"},fullname:{asc:"alphabetical",desc:"reverseAlphabetical"},joined:{asc:"leastRecent",desc:"mostRecent"},level:{asc:"alphabetical",desc:"reverseAlphabetical"},role:{asc:"alphabetical",desc:"reverseAlphabetical"},created:{asc:"leastRecent",desc:"mostRecent"},email:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldAlias:{asc:"alphabetical",desc:"reverseAlphabetical"},fieldName:{asc:"alphabetical",desc:"reverseAlphabetical"},
fieldType:{asc:"alphabetical",desc:"reverseAlphabetical"},defaultFSOrder:{asc:"leastToMost",desc:"mostToLeast",disabled:!0},mfaenabled:{asc:"ascending",desc:"descending"},membertype:{asc:"alphabetical",desc:"reverseAlphabetical"},username:{asc:"alphabetical",desc:"reverseAlphabetical"},layerName:{asc:"alphabetical",desc:"reverseAlphabetical"},layerType:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetName:{asc:"alphabetical",desc:"reverseAlphabetical"},datasetPath:{asc:"alphabetical",desc:"reverseAlphabetical"},
machine:{asc:"alphabetical",desc:"reverseAlphabetical"},containerId:{asc:"alphabetical",desc:"reverseAlphabetical"},runtimeName:{asc:"alphabetical",desc:"reverseAlphabetical"},version:{asc:"alphabetical",desc:"reverseAlphabetical"},avgrating:{asc:"highestRated",desc:"highestRated",disabled:!0},custom:{asc:"mostRecent",desc:"leastRecent",disabled:!0},type:{asc:"alphabetical",desc:"reverseAlphabetical"},size:{asc:"smallestToLargest",desc:"largestToSmallest"}};U=function(e){function v(){var g=null!==
e&&e.apply(this,arguments)||this;g.domNodeRef=(0,b.createRef)();g.state={ascending:!0,property:"",label:"",sortEnabled:!0,disabled:!1,showOnlyRelevance:!1,open:!1};g.updateMobileWidth=function(){g.setState({isMobileWidth:1080>window.innerWidth})};g.sortDisable=function(){g.setState({showOnlyRelevance:!0})};g.sortEnable=function(){g.setState({showOnlyRelevance:!1})};g.handleSortOptionClick=function(p){var n;m.default.publish("".concat(g.props.topic,"sort/update"),p);null===(n=g.props.telemetry)||void 0===
n?void 0:n.logEvent({category:"Control Bar Sort Order",action:"".concat(null===p||void 0===p?void 0:p.property," ").concat(p.ascending?"ascending":"descending"),pageUrl:window.location.href});g.setState({open:!1})};g.handleSortClick=function(p){var n;m.default.publish("".concat(g.props.topic,"sort/update"),a.__assign(a.__assign({},g.state),{ascending:p}));null===(n=g.props.telemetry)||void 0===n?void 0:n.logEvent({category:"Control Bar Sort Order",action:"".concat(g.state.property," ").concat(p?"ascending":
"descending"),pageUrl:window.location.href})};g.handleToggle=function(){if(g.domNodeRef.current){var p=g.domNodeRef.current;if(!p.classList.contains("is-active")){var n=p.querySelectorAll(".control-bar__dropdown-item")[0];n&&setTimeout(function(){n.focus()})}}};g.sortUpdate=function(p){var n,q=g.props,l=q.dontUpdateQueryParams;q=q.topic;var c=p.ascending,d=p.property;p=p.label;g.state.sortEnabled||u.default.bus.emit("dropdown:close");g.setState({ascending:c,property:d,label:p,ascendingLabel:f.default.gallery[r[d].asc],
descendingLabel:f.default.gallery[r[d].desc],disabled:!(null===(n=r[d])||void 0===n||!n.disabled)});l||q||h.default.updateQueryParams({sortOrder:c?"asc":"desc",sortField:d})};return g}a.__extends(v,e);v.prototype.componentDidMount=function(){var g=this,p=k.default.find(this.props.options,function(q){return q.active}),n=r[p.property];this.setState(a.__assign(a.__assign({},p),{ascendingLabel:f.default.gallery[n.asc],descendingLabel:f.default.gallery[n.desc],disabled:null===n||void 0===n?void 0:n.disabled}));
this.sortUpdateHandler=m.default.subscribe("".concat(this.props.topic,"sort/update"),function(q){return g.sortUpdate(q)});this.sortDisableHandler=m.default.subscribe("".concat(this.props.topic,"sort/disable"),function(){return g.sortDisable()});this.sortEnableHandler=m.default.subscribe("".concat(this.props.topic,"sort/enable"),function(){return g.sortEnable()});(new ResizeObserver(function(){g.updateMobileWidth()})).observe(document.body)};v.prototype.componentWillUnmount=function(){[this.sortDisableHandler,
this.sortEnableHandler,this.sortUpdateHandler].forEach(function(g){g.remove()})};v.prototype.render=function(){var g=this,p=this.state,n=p.label,q=p.ascendingLabel,l=p.descendingLabel,c=p.ascending,d=p.property,w=p.showOnlyRelevance,t=p.disabled,z=this.props.options;return(0,b.h)("calcite-dropdown",{width:"m",role:"menu","aria-controls":"sortmenu","aria-expanded":p.open,"aria-haspopup":"true",oncalciteDropdownOpen:function(){return g.setState({open:!0})},oncalciteDropdownClose:function(){return g.setState({open:!1})}},
(0,b.h)("calcite-button",{slot:"trigger",iconStart:"sort-descending",iconFlipRtl:"start",appearance:"transparent",kind:"neutral","aria-label":f.default.gallery.changeSortDirection,"aria-haspopup":"true","aria-controls":"sortmenu"},!p.isMobileWidth&&(0,b.h)("span",null,n)),(0,b.h)("calcite-dropdown-group",{id:"sortmenu"},(0,b.h)("calcite-dropdown-group",{role:"group",groupTitle:f.default.gallery.sortBy},z.map(function(x){var y=x.label;return(0,b.h)("calcite-dropdown-item",{key:x,class:"relevance"===
x.property&&w?"hide":"",role:"menuitemradio",selected:d===x.property,"data-property":d,oncalciteDropdownItemSelect:function(){return g.handleSortOptionClick(x)},"aria-label":y},y)})),(0,b.h)("calcite-dropdown-group",{class:t?"hide":"",role:"group",groupTitle:f.default.gallery.sortDirection},(0,b.h)("calcite-dropdown-item",{role:"menuitemradio",selected:c,"data-value":"asc",oncalciteDropdownItemSelect:function(){return g.handleSortClick(!0)},"aria-label":q},q),(0,b.h)("calcite-dropdown-item",{role:"menuitem",
selected:!c,"data-value":"desc",oncalciteDropdownItemSelect:function(){return g.handleSortClick(!1)},"aria-label":l},l))))};v.defaultProps={topic:""};return v}(b.Component);M.default=U})},"arcgisonline/pages/components/Refresh":function(){define(["require","exports","tslib","dojo/topic","preact"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});b=a.__importDefault(b);U=function(f){function m(){return null!==f&&f.apply(this,arguments)||this}a.__extends(m,f);m.prototype.onRefresh=
function(){b.default.publish("".concat(this.props.topic,"refresh"))};m.prototype.render=function(){var h=this;return(0,k.h)("div",null,(0,k.h)("calcite-button",{label:this.props.label,onClick:function(){return h.onRefresh()},appearance:"transparent",kind:"neutral",iconStart:"refresh",scale:"s"}))};m.defaultProps={topic:"",label:""};return m}(k.Component);M.default=U})},"arcgisonline/pages/organization/widgets/SearchDropdown":function(){define("require exports tslib ../../utils/icons ../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/query dojo/dom-class dojo/topic dojo/text!./templates/members/SearchDropdown.html dojo/i18n!../../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=e.default;this.i18n=v.default;this.icons=b.default}g.prototype.setSelection=function(p){var n=(0,h.default)("[data-property*\x3d".concat(p,"]"),this.domNode);0<n.length&&(u.default.remove((0,h.default)(".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active"),n.addClass("is-active"),this._searchLabel.innerHTML=n.innerHTML(),r.default.publish("membersSearchBy/update",p))};g.prototype.postCreate=function(){this._searchLabel.innerHTML=this.i18n.myOrganization.membersTab.fullName;this._addEventListeners()};g.prototype._addEventListeners=function(){this.own((0,h.default)(".js-search-dropdown-property").on("click",this._optionSelect.bind(this)))};g.prototype._optionSelect=function(p){p.preventDefault();u.default.remove((0,h.default)(".js-search-dropdown-property.is-active",
this.domNode).shift(),"is-active");u.default.add(p.target,"is-active");var n=p.target.getAttribute("data-property");this._searchLabel.innerHTML=p.target.textContent;r.default.publish("membersSearchBy/update",n)};return g=a.__decorate([(0,k.default)(m.default,f.default)],g)}()})},"arcgisonline/pages/utils/productGlyphs":function(){define(["require","exports"],function(U,M){var a={dashboard:{path:"M25.819 28H23.18a.181.181 0 0 1-.181-.181V13.18a.181.181 0 0 1 .181-.181h2.638a.181.181 0 0 1 .181.181V27.82a.181.181 0 0 1-.181.181zM21 27.816v-9.631a.184.184 0 0 0-.184-.185h-2.631a.184.184 0 0 0-.185.184v9.631a.184.184 0 0 0 .184.185h2.631a.184.184 0 0 0 .185-.184zm9.82.184a.18.18 0 0 0 .18-.18v-7.64a.18.18 0 0 0-.18-.18h-2.64a.18.18 0 0 0-.18.18v7.64a.18.18 0 0 0 .18.18zM7 9.267v10.475c.706.033 3.538-1.718 4.274-4.7.679-2.751 3.485-2.864 4.443-2.94 1.766-.14 3.588-.607 4.566-2.798A.216.216 0 0 0 20.085 9H7.267A.267.267 0 0 0 7 9.267zm18.997-1.053A4.411 4.411 0 0 0 21.63 4H2.684A.684.684 0 0 0 2 4.684V21.81A3.19 3.19 0 0 0 5.19 25h9.565a.245.245 0 0 0 .245-.245v-2.362a.393.393 0 0 0-.393-.393H6.38A1.385 1.385 0 0 1 5 20.619V7.349A.348.348 0 0 1 5.348 7h16.324A1.346 1.346 0 0 1 23 8.363v1.28a.357.357 0 0 0 .357.357h2.599a.046.046 0 0 0 .046-.046z",
fill:"#ee9e01"},experienceBuilder:{path:"M30.85 12.82l-2.85 5v7.44A1.78 1.78 0 0 1 26.22 27H25V7.75a.76.76 0 0 0-.75-.75H12V1.31a.28.28 0 0 1 .42-.25L17.51 4h8.71A1.78 1.78 0 0 1 28 5.78v4.42l2.54 1.47a.83.83 0 0 1 .31 1.15zM12 18h8v-6h-8zm7.62 5H7.75a.76.76 0 0 1-.75-.75V4H5.78A1.78 1.78 0 0 0 4 5.78V13l-2.89 5a.85.85 0 0 0 .31 1.15L4 20.59v4.61A1.78 1.78 0 0 0 5.78 27h8.62l5.18 3a.28.28 0 0 0 .42-.24v-6.39a.38.38 0 0 0-.38-.37z",fill:"#09b8ca"},geoBIM:{path:"M17.802 21.398l6.2 2.557-5.14 2.133a.772.772 0 0 1-1.06-.717zM9.311 7.868a.604.604 0 0 1-.003-1.122L16 4.169l8.12 3.148-8.119 3.184zm-3.5 1.541l8.387 3.413v12.554a.772.772 0 0 1-1.06.717l-6.297-2.736a1.639 1.639 0 0 1-1.03-1.521zM3.844 6.03a1.316 1.316 0 0 0-.827 1.22v17.395a1.316 1.316 0 0 0 .827 1.221L16 30.888l12.983-5.317v-2.423l-7.156-3.023 7.156-2.963v-1.95l-5.101-2.2-3.867 1.516L24 16.123l-6.199 2.505v-5.711l.073-.122 11.108-4.487v-1.95l-12.47-5.047a1.384 1.384 0 0 0-1.027 0z",
fill:"#11ad1d"},notebooks:{path:"M2.941 25A.906.906 0 0 1 2 24.135v-.271A.906.906 0 0 1 2.941 23h3.118a.906.906 0 0 1 .941.864v.271a.906.906 0 0 1-.941.865zm3.118-8A.906.906 0 0 0 7 16.135v-.271A.906.906 0 0 0 6.059 15H2.941a.906.906 0 0 0-.941.864v.271a.906.906 0 0 0 .941.865zm0-8A.906.906 0 0 0 7 8.135v-.271A.906.906 0 0 0 6.059 7H2.941A.906.906 0 0 0 2 7.864v.271A.906.906 0 0 0 2.941 9zm9.44 16h-3.726a.773.773 0 0 1-.773-.774V6.171A.172.172 0 0 1 11.172 6H15.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H5.342A1.345 1.345 0 0 0 4 4.343V5h2.059A2.904 2.904 0 0 1 9 7.858v.277A2.907 2.907 0 0 1 6.059 11H4v2h2.059A2.907 2.907 0 0 1 9 15.864v.271A2.907 2.907 0 0 1 6.059 19H4v2h2.059A2.907 2.907 0 0 1 9 23.864v.271A2.907 2.907 0 0 1 6.059 27H4v1.405a.595.595 0 0 0 .595.595H15.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM20 3.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 .5.5v18a.5.5 0 0 1-.5.5h-4a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-25a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.499.5z",
fill:"#6e6e6e"},online:{path:"M25.479 23.504a.231.231 0 0 1 .204 0l3.933 1.939a.12.12 0 0 1 0 .216l-8.273 4.078a.822.822 0 0 1-.727 0l-8.274-4.078a.12.12 0 0 1 0-.216l3.933-1.94a.231.231 0 0 1 .205 0l4.206 2.075a.663.663 0 0 0 .587 0zM12.342 18.6a.12.12 0 0 0 0 .215l8.344 4.112a.663.663 0 0 0 .586 0l8.344-4.112a.12.12 0 0 0 0-.215l-8.534-4.208a.231.231 0 0 0-.205 0zm-2.438-6.434C7.397 6.051 15.42 2.655 18.687 7.96a.185.185 0 0 0 .236.07c3.545-1.654 6.604.885 5.75 4.528a.278.278 0 0 0 .146.312l6.048 2.982a.093.093 0 0 0 .132-.1 7.18 7.18 0 0 0-2.683-4.454.185.185 0 0 1-.068-.13A7.287 7.287 0 0 0 20.1 4.43a.185.185 0 0 1-.143-.047C14.775-.32 6.919 2.959 6.302 10.003a.185.185 0 0 1-.102.15c-9.865 4.91-4.46 18.472 5.924 12.182-9.26 1.228-8.848-9.392-2.22-10.169z",
fill:"#5763f8"},sites:{path:"M2.656 29A.656.656 0 0 1 2 28.344V6.185A3.189 3.189 0 0 1 5.185 3H29.72a.281.281 0 0 1 .281.281v22.53A3.194 3.194 0 0 1 26.81 29zm2.838-3h21.211a.295.295 0 0 0 .296-.295V13.494a.493.493 0 0 0-.493-.494H5v12.506a.494.494 0 0 0 .494.494zM23 9.91a.09.09 0 0 0 .09.09h3.82a.09.09 0 0 0 .09-.09V6.026A.026.026 0 0 0 26.974 6h-3.948a.026.026 0 0 0-.026.026zM6.633 6A1.597 1.597 0 0 0 5 7.595V10h14.523A.477.477 0 0 0 20 9.523V6.477A.477.477 0 0 0 19.523 6zM16 22v-5h7v5zm-7-2v-3h3v3z",
fill:"#7842ed"},storyMaps:{path:"M25.5 0C23.015 0 21 .953 21 3.433v8.517a1.467 1.467 0 0 0 .43 1.038l3.837 3.827a.33.33 0 0 0 .466 0l3.836-3.827A1.467 1.467 0 0 0 30 11.95V3.433C30 .953 27.985 0 25.5 0zm0 8.1a2.6 2.6 0 1 1 2.6-2.599A2.599 2.599 0 0 1 25.5 8.1zm-7.856.453c.294-.153.312-.457.312-.788v-2.31a.104.104 0 0 0-.129-.1 6.128 6.128 0 0 0-2.248 1.19.14.14 0 0 1-.167.008c-3.437-2.283-8.543-1.52-12.131-.988-.432.064-1.762.34-2.164.424A.146.146 0 0 0 1 6.133V26.69a.147.147 0 0 0 .05.11.134.134 0 0 0 .116.035A36.394 36.394 0 0 1 9.5 25.781c3.283.054 4.403.96 4.967 1.513l.915.897a.164.164 0 0 0 .23 0l.916-.897a5.98 5.98 0 0 1 3.972-1.47 25.341 25.341 0 0 1 5.715.516c.718.109 1.46.22 2.186.312l1.251.16a.308.308 0 0 0 .348-.305v-7.375a.161.161 0 0 0-.303-.077l-.107.2a7.218 7.218 0 0 1-6.902 3.766 10.455 10.455 0 0 0-5.688.796V9.454a.89.89 0 0 1 .332-.693 2.058 2.058 0 0 1 .312-.208zM14 23.817c-3.071-1.38-5.998-.808-9.447-.293l-.253.036a.263.263 0 0 1-.3-.259V8.525a.098.098 0 0 1 .084-.097l.804-.115c2.518-.372 6.303-1.048 8.708.515a.89.89 0 0 1 .404.746z",
fill:"#4fbaa9"},webAppBuilder:{path:"M15.044 19.974a.188.188 0 0 1-.192-.001l-3.762-2.35a.188.188 0 0 1-.09-.16v-4.098a.188.188 0 0 1 .096-.163l3.761-2.178a.188.188 0 0 1 .182-.001l3.863 2.179a.188.188 0 0 1 .098.165v4.095a.187.187 0 0 1-.092.161zm15.13-1.04a.052.052 0 0 0 .099.022 8.048 8.048 0 0 0 .67-3.147 7.155 7.155 0 0 0-3.507-6.213L17.59 3.768a4.054 4.054 0 0 0-1.968-.627 3.95 3.95 0 0 0-1.894.485c-.607.334-1.132.67-1.278.754a2.951 2.951 0 0 0-1.39 2.506v1.078a.2.2 0 0 0 .307.167l1.365-.87a4.988 4.988 0 0 1 2.319-.792 4.62 4.62 0 0 1 2.219.792s8.442 5.017 9.392 5.576a7.045 7.045 0 0 1 3.513 6.084zM9.546 23.55l.947-.547a.2.2 0 0 0 0-.345l-1.369-.79a4.326 4.326 0 0 1-2.13-3.842V7.286a7.16 7.16 0 0 1 3.63-6.083l.081-.05a.025.025 0 0 0-.012-.045l-.25-.005a8.333 8.333 0 0 0-3.887.994A7.102 7.102 0 0 0 3.069 8.31v10.786a3.96 3.96 0 0 0 1.89 3.362c.894.545 1.605.974 1.81 1.092a2.787 2.787 0 0 0 2.777 0zm4.383 6.37l9.997-5.773a3.959 3.959 0 0 0 1.967-3.32c.021-.929.034-1.604.034-1.806a2.786 2.786 0 0 0-1.39-2.406l-1.123-.57a.2.2 0 0 0-.289.177v1.604a4.45 4.45 0 0 1-2.218 3.842l-3.708 2.14a3.366 3.366 0 0 1-.256.135L11.6 27.128a6.427 6.427 0 0 1-3.343.938 7.137 7.137 0 0 1-3.513-1.038c-.09-.052-.38-.226-.797-.479a.094.094 0 0 0-.134.12 7.182 7.182 0 0 0 2.942 3.25 7.241 7.241 0 0 0 3.587 1.028 7.243 7.243 0 0 0 3.587-1.028z",
fill:"#09b8ca"},urban:{path:"M32 14l-4 .003a1 1 0 0 0-1 1V21a1 1 0 0 1-1 1h-2V5.451l-7.598-3.335A1 1 0 0 0 15 3.03V25a1 1 0 0 1-1 1h-2V11.24h-.02L7.5 9l-4.48 2.24H3V20H0v4h5a1 1 0 0 0 1-1V12.717L7.5 12l1.5.717V28a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6.094l3 1.317V24a2 2 0 0 0 2 2h5.02A1.977 1.977 0 0 0 30 24.024V17h2z",fill:"#3DB8FF"},instant:{path:"M11.206 4.805v-1.38a2.231 2.231 0 0 1 2.23-2.231h13.168a2.231 2.231 0 0 1 2.231 2.23v11.15a2.231 2.231 0 0 1-2.23 2.231h-1.398V5.555a.75.75 0 0 0-.75-.75zM30.94 27.204l-5.447-4.41a.211.211 0 0 0-.344.164v2.225H8.197a1.344 1.344 0 0 1-1.344-1.344V11.665a.75.75 0 0 1 .75-.75h9.872a.75.75 0 0 1 .75.75l-.003 7.534a2.422 2.422 0 0 1-.798 1.796l-.945.855h4.3a1.075 1.075 0 0 0 1.074-1.075v-10.54a2.231 2.231 0 0 0-2.23-2.23H5.354a2.148 2.148 0 0 0-2.13 2.23v16.507a2.231 2.231 0 0 0 2.23 2.231l19.695-.003v2.725a.211.211 0 0 0 .344.164l5.447-4.41a.158.158 0 0 0 0-.245z",
fill:"#83a238"}},b=[];Object.keys(a).forEach(function(k){b[k]='\x3csvg viewBox\x3d"0 0 32 32" width\x3d"32" height\x3d"32" fill\x3d"'.concat(a[k].fill,'"\x3e\x3cpath d\x3d"').concat(a[k].path,'"/\x3e\x3c/svg\x3e')});return b})},"arcgisonline/pages/dijit/FilterStatus":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/query dojo/topic dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./FilterStatus/templates/FilterStatus.html dojo/text!./FilterStatus/templates/FilterChip.html dojo/i18n!../../nls/arcgisonline ../pageUtil ../utils/icons ../utils/arrays".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.templateString=p.default;this.i18n=q.default;this._state=
{}}w.prototype.postMixInProperties=function(){var t=this,z;this.inherited(arguments);this._state={};this._dontUpdateQueryParams=this.params.dontUpdateQueryParams;this._topic=null!==(z=this.params.topic)&&void 0!==z?z:"";d.default.toArray(k.default.clone(this.params)).forEach(function(x){var y;0<(null===(y=x.selected)||void 0===y?void 0:y.length)&&(t._state[x.param]=x)})};w.prototype.postCreate=function(){this.inherited(arguments);d.default.toArray(this._state).forEach(k.default.hitch(this,this._update));
this._addEventListeners()};w.prototype.destroy=function(){this.inherited(arguments);this._state={}};w.prototype._addEventListeners=function(){this.own((0,h.default)(this.clearAll,"click",k.default.hitch(this,this._clearHandler)),(0,h.default)(this.filterChips,"click",k.default.hitch(this,this._clickHandler)),r.default.subscribe("".concat(this._topic,"filter/remove"),k.default.hitch(this,this._remove)),r.default.subscribe("".concat(this._topic,"filter/update"),k.default.hitch(this,this._update)),r.default.subscribe("".concat(this._topic,
"filter/clear"),k.default.hitch(this,this._clear)))};w.prototype._clear=function(){this.filterChips.innerHTML="";f.default.add(this.filterChipWrap,"hide");var t=[];d.default.toArray(this._state).forEach(function(z){t.push(z.param)});this._state={};this._topic||l.default.removeQueryParams(t);this._updateMoreChip()};w.prototype._clearHandler=function(t){r.default.publish("".concat(this._topic,"filter/clear"),t)};w.prototype._remove=function(t){var z=this;(0,u.default)(".js-filter-chip[data-filter\x3d'"+
t.param+"']",this.filterChips).forEach(m.default.destroy);if(t.partial){var x=this._state[t.param];x.selected=x.selected.filter(function(y){return y.value!==t.value}).filter(function(y,A,B){return B.indexOf(y)===A});1>x.selected.length?delete this._state[t.param]:x.selected.forEach(function(y){y=e.default.substitute(n.default,{filter:x,i18n:q.default,selected:y,icons:c.default});m.default.place(y,z.filterChips)})}else delete this._state[t.param];1>Object.keys(this._state).length&&f.default.add(this.filterChipWrap,
"hide");this._dontUpdateQueryParams||this._removeQueryString(t);this._updateMoreChip()};w.prototype._updateMoreChip=function(){var t=this,z=-1;Object.keys(this._state).forEach(function(y){t._state[y].selected&&(z+=t._state[y].selected.length)});var x=this.filterChips.querySelector(".js-more-chip");x&&this.filterChips.removeChild(x);0<z&&(x=document.createElement("span"),x.className="filter-chip filter-chip__more js-more-chip",this.filterChips.appendChild(x),x.textContent="+ ".concat(z))};w.prototype._update=
function(t){var z=this;f.default.remove(this.filterChipWrap,"hide");this._state[t.param]=t;(0,u.default)(".js-filter-chip[data-filter\x3d'"+t.param+"']",this.filterChips).forEach(m.default.destroy);t.selected&&(t.selected.forEach(function(x){var y=document.createElement("div");!x.label&&x.simpleLabel&&(x.label=x.simpleLabel);y.innerHTML=x.label;x.simpleLabel=y.textContent||y.innerText||"";x=e.default.substitute(n.default,{filter:t,i18n:q.default,selected:x,icons:c.default});m.default.place(x,z.filterChips)}),
0===t.selected.length&&(delete this._state[t.param],this._topic||l.default.removeQueryParams([t.param])));this._updateMoreChip();1>Object.keys(this._state).length&&f.default.add(this.filterChipWrap,"hide");this._dontUpdateQueryParams||this._topic||this._updateQueryString()};w.prototype._updateQueryString=function(){var t={};d.default.toArray(this._state).forEach(function(z){t[z.param]=z.selected&&z.selected.map(function(x){"custom"===x.value&&x.to&&x.from?(t[z.param+"_to"]=x.to.valueOf(),t[z.param+
"_from"]=x.from.valueOf()):(delete t[z.param+"_to"],delete t[z.param+"_from"]);if(z.isCategory)return JSON.stringify([x.value]);"bbox"===z.param&&(t.bboxLabel=x.label,t.srSort="true");return x.value}).join(",")||""},this);"bbox"in t&&(t.sortField="bbox");this._topic||l.default.updateQueryParams(t)};w.prototype._removeQueryString=function(t){var z=l.default.getQueryParams(),x=[];t.isCategory||"categories"===t.param?z[t.param]=[]:"bbox"===t.param?(z[t.param]=[],x.push("srSort","bboxLabel","sortField")):
(z[t.param]&&(z[t.param]=z[t.param].split(",").filter(function(y){return y!==t.value}).join(",")),l.default.updateQueryParams(z));z=z[t.param];1>(null===z||void 0===z?void 0:z.length)&&(x.push(t.param),"custom"===t.value&&(x.push(t.param+"_to"),x.push(t.param+"_from")));l.default.removeQueryParams(x)};w.prototype._clickHandler=function(t){if(f.default.contains(t.target,"js-filter-chip-remove")){t.preventDefault();var z=t.target.getAttribute("data-filter"),x=t.target.getAttribute("data-value");r.default.publish("".concat(this._topic,
"filter/remove"),{param:z,value:x,partial:1<this._state[z].selected.length,lastFilter:1===Object.keys(this._state).length,evt:t})}};return w=a.__decorate([(0,b.default)(v.default,g.default)],w)}()})},"arcgisonline/pages/dijit/FilterSingleWithSearch":function(){define("require exports tslib dojo/text!./FilterSingleWithSearch/templates/FilterSingleWithSearch.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./FilterSingle ./FilterDate ../utils/dom ../utils/icons ../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=b.default;this.i18n=k.default;this.icons=e.default;this.cssClasses=this.searchText="";this.filterCssClasses="filter--ellipse";this.type="single";this.active=!0;this.activeClass="is-active";this.topic=""}g.prototype.postMixInProperties=
function(){this.inherited(arguments);this.active||(this.activeClass="")};g.prototype.postCreate=function(){this.inherited(arguments);this.domNode.removeAttribute("title");if("date"===this.type){var p=document.createElement("ul");this._filterList.className="filters--accordion--content";this._filterList.appendChild(p);this._filter=new u.default(a.__assign(a.__assign({},this.filterParameter),{topicPrefix:this.topic}),p)}else this._filter=new h.default(a.__assign(a.__assign({},this.filterParameter),{topicPrefix:this.topic}),
this._filterList);this._searchInput.addEventListener("calciteInputInput",this._onSearchInput.bind(this));"single"===this.type&&15<Object.keys(this.filterParameter.options).length&&r.default.showNode(this._searchContainer);this.active&&(this.accordionItem.expanded=!0)};g.prototype._onSearchInput=function(){var p=this,n=this._filter.domNode.querySelectorAll(".filter-tree-item"),q=this._searchInput.value.toLowerCase();[].forEach.call(n,function(l){var c=p.filterParameter.options[l.dataset.value];void 0!==
c&&-1!==c.label.toLowerCase().indexOf(q)?r.default.showNode(l):r.default.hideNode(l)})};g.prototype.select=function(p,n,q){"date"===this.type?this._filter.select(p,n,q):this._filter.select(p)};g.prototype.getState=function(){return this._filter.getState()};return g=a.__decorate([(0,v.default)(m.default,f.default)],g)}()})},"arcgisonline/pages/dijit/FilterSingle":function(){define("require exports tslib ../utils/arrays ../../tsutils/declareDecorator dijit/_WidgetBase dojo/_base/event dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dojo/string dojo/topic esri/Evented dojo/i18n!../../nls/arcgisonline dojo/text!./FilterSingle/templates/FilterSingle.html dojo/text!./FilterSingle/templates/FilterOption.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.summedAggregationProperties={}}d.prototype.postMixInProperties=function(){var w;
this.inherited(arguments);this._state=h.default.clone(this.params);this.topicPrefix=null!==(w=this._state.topic||this._state.topicPrefix)&&void 0!==w?w:""};d.prototype.postCreate=function(){this._updateUI();this._attachEvents()};d.prototype.destroy=function(){this._clear();this.inherited(arguments)};d.prototype._attachEvents=function(){var w=(0,e.default)(".js-filter-link",this.domNode),t=(0,e.default)(".js-clear-filter[data-filter-param\x3d'".concat(this._state.param,"']"));this.own(t.on("click",
this._removeFilter.bind(this)),w.on("click",this._clickHandler.bind(this)),g.default.subscribe("".concat(this.topicPrefix,"filter/clear"),this._clear.bind(this)),g.default.subscribe("".concat(this.topicPrefix,"filter/remove"),this._remove.bind(this)),g.default.subscribe("".concat(this.topicPrefix,"aggregations/update"),this._updateCounts.bind(this)))};d.prototype.select=function(w){this._state.options[w]&&(this._clear(),this._state.options[w].active=!0,this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'.concat(w,
'"]')).forEach(function(t){var z;t.classList.add("is-active");t.setAttribute("aria-current","true");null===(z=t.querySelector(".js-filter-link"))||void 0===z?void 0:z.setAttribute("aria-selected","true")}),this._setSelected(),g.default.publish("".concat(this.topicPrefix,"filter/update"),this._state))};d.prototype.getState=function(){return this._state};d.prototype._clear=function(){var w,t;this.domNode&&(b.default.toArray(this._state.options).forEach(function(z){return z.active=!1}),this.domNode.querySelectorAll(".js-filter-item").forEach(function(z){z.classList.remove("is-active");
z.removeAttribute("aria-current")}),this.domNode.querySelectorAll(".js-filter-link").forEach(function(z){z.setAttribute("aria-selected","false")}),null===(t=null===(w=this.domNode.closest("calcite-accordion-item"))||void 0===w?void 0:w.querySelector(".js-clear-filter[data-filter-param\x3d'".concat(this._state.param,"']")))||void 0===t?void 0:t.classList.add("hide"))};d.prototype._remove=function(w){if(w.param===this._state.param){var t=this._state.options[w.value];t&&(t.active=!1);this._setSelected();
this.domNode.querySelectorAll(".js-filter-item[data-value\x3d'".concat(w.value,"']")).forEach(function(z){z.classList.remove("is-active");z.removeAttribute("aria-current");z.querySelector(".js-filter-link").setAttribute("aria-selected","false")})}};d.prototype._updateUI=function(){var w,t,z=b.default.toArray(this._state.options).reduce(this._renderList.bind(this),"");this.domNode.innerHTML=v.default.substitute(q.default,{list:z});if(z=null===(w=this.domNode.closest("calcite-accordion-item"))||void 0===
w?void 0:w.querySelector(".js-filter-actions-end"))w=0<(null===(t=this._state.selected)||void 0===t?void 0:t.length)?"":"hide",r.default.place(v.default.substitute(c.default,{i18n:n.default,hide:w,param:this._state.param,clearText:this._state.clearText}),z)};d.prototype._renderList=function(w,t,z,x){t.label=t.label.replace(/"/g,"\x26quot;");z=t.active?"is-active":"";x=this.param;z=a.__assign(a.__assign({},h.default.clone(t)),{param:x,selected:z});z=v.default.substitute(l.default,z);t.aggregationFields&&
(this.summedAggregationProperties[t.value]=t.aggregationFields);return w+z};d.prototype._setSelected=function(){var w=[];b.default.toArray(this._state.options).forEach(function(z){z.active&&w.push(z)});this._state.selected=0<w.length?w:!1;var t=(0,e.default)(".js-clear-filter[data-filter-param\x3d'".concat(this._state.param,"']"));this._state.selected?t.removeClass("hide"):t.addClass("hide")};d.prototype._clickHandler=function(w){m.default.stop(w);var t=w.target.parentNode,z=u.default.contains(t,
"is-active"),x=w.target.getAttribute("data-value");z?g.default.publish("".concat(this.topicPrefix,"filter/remove"),{param:this._state.param,value:w.target.getAttribute("data-value")}):(b.default.toArray(this._state.options).forEach(function(y){return y.active=y.value===x}),this.domNode.querySelectorAll(".js-filter-item").forEach(function(y){y.classList.remove("is-active");y.removeAttribute("aria-current")}),u.default.add(t,"is-active"),t.setAttribute("aria-current",!0),this.domNode.querySelectorAll(".js-filter-link").forEach(function(y){y.setAttribute("aria-selected",
w.target===y?"true":"false")}),this._setSelected(),g.default.publish("".concat(this.topicPrefix,"filter/update"),this._state))};d.prototype._removeFilter=function(w){var t;w.stopPropagation();0<(null===(t=this._state.selected)||void 0===t?void 0:t.length)&&g.default.publish("".concat(this.topicPrefix,"filter/remove"),{param:this._state.param,value:this._state.selected[0].value})};d.prototype._getCountForFieldValue=function(w,t){w=b.default.find(w,function(z){return z.value===t});return(null===w||
void 0===w?void 0:w.count)||0};d.prototype._updateCounts=function(w){var t=this;if(w.fieldName===this.param){var z=(0,e.default)(".js-filter-link-count",this.domNode);z.innerHTML("");z.removeClass("hide");w.fieldValues.forEach(function(x){var y=t.domNode.querySelector(".js-filter-link-count[data-value\x3d'".concat(x.value,"']"));y&&(y.innerHTML="(".concat(x.count,")"))});Object.keys(this.summedAggregationProperties).forEach(function(x){var y=t.summedAggregationProperties[x].reduce(function(A,B){return A+
t._getCountForFieldValue(w.fieldValues,B)},0);(x=t.domNode.querySelector(".js-filter-link-count[data-value\x3d'".concat(x,"']")))&&y&&(x.innerHTML="(".concat(y,")"))})}};return d=a.__decorate([(0,k.default)(f.default,p.default)],d)}()})},"arcgisonline/pages/dijit/FilterDate":function(){define("require exports tslib ../utils/clone ../utils/culture ../utils/date ../utils/dom ../utils/arrays ../utils/formatters ../utils/validation ../../tsutils/declareDecorator dojo/on dojo/_base/event dojo/topic dojo/string dojox/uuid/generateRandomUuid dijit/_WidgetBase dijit/_TemplatedMixin moment/moment dojo/i18n!../../nls/arcgisonline dojo/text!./FilterDate/templates/FilterDate.html dojo/text!./FilterSingle/templates/ClearAll.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);return function(){function x(y,
A){this.templateString=t.default;this.constraintToToday=!0;this.showNever=!1;this.topicPrefix="";this.constrainWidthOnError=!1;this.fullDate=u.default.fullDate;this.i18n=w.default}x.prototype.postMixInProperties=function(){this.uid=(0,q.default)();var y=this.generateRange.bind(this);this.state=(0,b.default)(this.params);this.state.param=this.state.param||"modified";this.state.options=this.state.options||{today:{label:w.default.filters.today,value:"today",from:(0,d.default)().startOf("day"),to:(0,d.default)().endOf("day"),
q:y((0,d.default)().startOf("day"),(0,d.default)().endOf("day"))},yesterday:{label:w.default.filters.yesterday,value:"yesterday",from:(0,d.default)().subtract(1,"days").startOf("day"),to:(0,d.default)().subtract(1,"days").endOf("day"),q:y((0,d.default)().subtract(1,"days").startOf("day"),(0,d.default)().subtract(1,"days").endOf("day"))},last7Days:{label:w.default.filters.last7Days,value:"last7Days",from:(0,d.default)().subtract(7,"days").startOf("day"),to:(0,d.default)().endOf("day"),q:y((0,d.default)().subtract(7,
"days").startOf("day"),(0,d.default)().endOf("day"))},last30Days:{label:w.default.filters.last30Days,value:"last30Days",from:(0,d.default)().subtract(30,"days").startOf("day"),to:(0,d.default)().endOf("day"),q:y((0,d.default)().subtract(30,"days").startOf("day"),(0,d.default)().endOf("day"))},custom:{label:w.default.filters.customRange,value:"custom"}};this.state.selected=this.state.selected||[];this.constrainWidthOnError=this.state.constrainWidthOnError};x.prototype.postCreate=function(){this.inherited(arguments);
this.initUI();this.addEventListeners();this.showNever&&(this.state.options.never={label:w.default.filters.never,value:"never",from:-1,to:-1,q:"".concat(this.state.param,":[-1 TO -1]")},m.default.showNode(this.neverOption));this.locale=k.default.getDatePickerLocale(document.documentElement.lang);this.customStart.lang=this.locale;this.customEnd.lang=this.locale};x.prototype.getState=function(){return this.state};x.prototype.destroy=function(){this.clear();this.inherited(arguments)};x.prototype.select=
function(y,A,B){if(this.state.options[y]){this.clear();var D=this.state.options[y];D.active=!0;A&&B&&(D.from=(0,d.default)(parseInt(A,10)),D.to=(0,d.default)(parseInt(B,10)),D.q=this.generateRange(D.from,D.to),D.label=n.default.substitute(w.default.filters.dateRange,{start:this.formatDate(D.from.valueOf()),end:this.formatDate(D.to.valueOf())}));this.state.selected=[D];m.default.forEachNode(this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'.concat(y,'"]')),function(C){var E;C.classList.add("is-active");
C.setAttribute("aria-current","true");null===(E=C.querySelector(".js-filter-link"))||void 0===E?void 0:E.setAttribute("aria-selected","true")});"custom"===D.value&&D.from&&D.to&&(this.customStart.valueAsDate=new Date(D.from.valueOf()),this.customEnd.valueAsDate=new Date(D.to.valueOf()),this.domNode.querySelector(".js-custom-date-select").classList.remove("hide"));this.update();this.showHideClearButton()}};x.prototype.generateRange=function(y,A){return y&&A?"".concat(this.state.param,":[").concat(y.valueOf(),
" TO ").concat(A.valueOf(),"]"):""};x.prototype.clear=function(){this.state.selected=!1;h.default.toArray(this.state.options).forEach(function(y){y.active=!1});this.domNode&&(this.domNode.querySelectorAll(".js-filter-item").forEach(function(y){y.classList.remove("is-active");y.removeAttribute("aria-current")}),this.domNode.querySelectorAll(".js-filter-link").forEach(function(y){y.setAttribute("aria-selected","false")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"),this.showHideClearButton())};
x.prototype.remove=function(y){y.param===this.state.param&&(this.state.selected=!1,this.state.options[y.value].active=!1,this.domNode.querySelectorAll('.js-filter-item[data-value\x3d"'.concat(y.value,'"]')).forEach(function(A){var B;A.classList.remove("is-active");A.removeAttribute("aria-current");null===(B=A.querySelector(".js-filter-link"))||void 0===B?void 0:B.setAttribute("aria-selected","false")}),this.domNode.querySelector(".js-custom-date-select").classList.add("hide"));this.showHideClearButton()};
x.prototype.initUI=function(){var y;if(this.constraintToToday){var A=new Date;this.customStart.maxAsDate=A;this.customEnd.maxAsDate=A}this.minDate&&(A=new Date(this.minDate),this.customStart.minAsDate=A,this.customEnd.minAsDate=A);if(A=this.domNode.closest("calcite-accordion-item").querySelector(".js-filter-actions-end")){var B=0<(null===(y=this.state.selected)||void 0===y?void 0:y.length)?"":"hide";A.insertAdjacentHTML("beforeend",n.default.substitute(z.default,{i18n:w.default,hide:B,param:this.state.param,
clearText:this.i18n.filters.dateClear[this.state.param]||this.i18n.filters.dateClear.created}))}};x.prototype.addEventListeners=function(){var y=this,A=this.domNode.querySelectorAll(".js-filter-link"),B=document.querySelector('.js-clear-filter[data-filter-param\x3d"'.concat(this.state.param,'"]'));this.clickHandler=this.clickHandler.bind(this);m.default.forEachNode(A,function(D){y.own((0,v.default)(D,"click",y.clickHandler))});this.own((0,v.default)(B,"click",this.removeFilter.bind(this)),(0,v.default)(this.customStart,
"calciteInputDatePickerChange",this.changeCustomStart.bind(this)),(0,v.default)(this.customEnd,"calciteInputDatePickerChange",this.changeCustomEnd.bind(this)),p.default.subscribe("".concat(this.topicPrefix,"filter/remove"),this.remove.bind(this)),p.default.subscribe("".concat(this.topicPrefix,"filter/clear"),this.clear.bind(this)))};x.prototype.clickHandler=function(y){g.default.stop(y);var A=y.target.parentNode,B=A.classList.contains("is-active"),D=y.target.getAttribute("data-value"),C=this.domNode.querySelector(".js-custom-date-select"),
E=this.state.options[D];B?(p.default.publish("".concat(this.topicPrefix,"filter/remove"),{param:this.state.param,value:D}),E.active=!1,this.state.selected=!1):(this.state.selected=[E],E.active=!0,this.domNode.querySelectorAll(".js-filter-item").forEach(function(H){H.classList.remove("is-active");H.removeAttribute("aria-current")}),A.classList.add("is-active"),A.setAttribute("aria-current",!0),this.domNode.querySelectorAll(".js-filter-link").forEach(function(H){H.setAttribute("aria-selected",y.target===
H?"true":"false")}),"custom"===D?(C.classList.remove("hide"),A=this.state.options.custom,A.from&&A.to&&(A.q=this.generateRange(A.from,A.to),this.update())):(C.classList.add("hide"),this.update()));this.showHideClearButton()};x.prototype.resetIfNullCustom=function(){this.customStart.value||this.customEnd.value||(this.state.options.custom.from=void 0,this.state.options.custom.to=void 0,this.removeFilter())};x.prototype.changeCustomStart=function(y){if(y=y.target.valueAsDate){var A=this.state.options.custom;
A.from=(0,d.default)(y).startOf("day");this.dateInputsValid()&&(this.customEnd.minAsDate=y,A.to&&(A.q=this.generateRange(A.from,A.to),A.label=n.default.substitute(w.default.filters.dateRange,{start:this.formatDate(A.from.valueOf()),end:this.formatDate(A.to.valueOf())}),this.update()))}else this.resetIfNullCustom()};x.prototype.dateInputsValid=function(){var y=this.state.options.custom,A=y.from;y=y.to;if(A&&y){if(y.valueOf()<A.valueOf())return r.default.setInvalidState(this.customStart,this.customStartError,
this.i18n.filters.startDateBefore),this.constrainWidthOnError&&this.customStart.classList.add("input-error__constrain-width"),!1;if(A.valueOf()>y.valueOf())return r.default.setInvalidState(this.customEnd,this.customEndError,this.i18n.filters.endDateAfter),this.constrainWidthOnError&&this.customEnd.classList.add("input-error__constrain-width"),!1}r.default.clearState([this.customStart,this.customStartError,this.customEnd,this.customEndError]);this.constrainWidthOnError&&(this.customStart.classList.remove("input-error__constrain-width"),
this.customEnd.classList.remove("input-error__constrain-width"));return!0};x.prototype.changeCustomEnd=function(y){var A;if(y=y.target.valueAsDate){var B=this.state.options.custom;B.to=(0,d.default)(y).endOf("day");this.dateInputsValid()&&(this.customStart.maxAsDate=y,B.from&&(B.q=this.generateRange(B.from,B.to),B.label=n.default.substitute(w.default.filters.dateRange,{start:this.formatDate(B.from.valueOf()),end:this.formatDate(null===(A=B.to)||void 0===A?void 0:A.valueOf())}),this.update()))}else this.resetIfNullCustom()};
x.prototype.update=function(){p.default.publish("".concat(this.topicPrefix,"filter/update"),this.state);this.showHideClearButton()};x.prototype.removeFilter=function(y){var A;y&&y.stopPropagation();0<(null===(A=this.state.selected)||void 0===A?void 0:A.length)&&p.default.publish("".concat(this.topicPrefix,"filter/remove"),{param:this.state.param,value:this.state.selected[0].value});this.showHideClearButton()};x.prototype.showHideClearButton=function(){var y,A=document.querySelector('.js-clear-filter[data-filter-param\x3d"'.concat(this.state.param,
'"]'));0<(null===(y=this.state.selected)||void 0===y?void 0:y.length)?A.classList.remove("hide"):A.classList.add("hide")};x.prototype.formatDate=function(y){return f.default.format(new Date(y),"short-date")};return x=a.__decorate([(0,e.default)(l.default,c.default)],x)}()})},"arcgisonline/pages/dijit/FilterOrganizationGroups":function(){define("require exports tslib dojo/text!./FilterOrganizationGroups/templates/FilterOrganizationGroups.html dojo/i18n!../../nls/arcgisonline dojo/debounce dijit/_TemplatedMixin dijit/_WidgetBase ./FilterSingle ../utils/dom ../utils/icons ../pageUtil ../../sharing/util ../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=b.default;this.i18n=k.default;this.icons=e.default;this.cssClasses=this.searchText="";this.active=!0;this.activeClass="is-active";this.GROUPS_MAX=500;this.title=
this.i18n.myOrganization.membersTab.organizationsGroups;this.searchText=this.i18n.myOrganization.inviteMembers.searchGroups}n.prototype.postMixInProperties=function(){this.inherited(arguments);this.active||(this.activeClass="")};n.prototype.postCreate=function(){var q=this;this.inherited(arguments);this.domNode.removeAttribute("title");this._getOrgGroupCount().then(function(l){l>q.GROUPS_MAX?(q._noResults.innerHTML=k.default.GroupsWidget.noOrgGroupsMatch,q._searchInput.addEventListener("calciteInputInput",
(0,f.default)(q._onServerSearch.bind(q),500)),q._searchContainer.classList.remove("hide")):q._getAllOrgGroups().then(q._constructFilterSingle.bind(q)).then(function(){q._noResults.innerHTML=k.default.GroupsWidget.noOrgGroupsYet;q._searchInput.addEventListener("calciteInputInput",q._onClientSearch.bind(q));q._searchContainer.classList.remove("hide")})})};n.prototype._getParams=function(){var q="orgid:"+this.portal.id;this.portal.isPortal&&(q+=' -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"');
return{q,start:1,num:100,sortField:"title",sortOrder:"asc"}};n.prototype._getOrgGroupCount=function(){var q=this._getParams();q.num=1;return this._getOrgGroups(q).then(function(l){return l.total})};n.prototype._getOrgGroups=function(q){var l="".concat(this.portal.url,"community/groups");return g.default.request({url:l,content:q})};n.prototype._getAllOrgGroups=function(){var q=this._getParams();return v.default.fetchAllResources("".concat(this.portal.url,"community/groups"),q)};n.prototype._constructFilterSingle=
function(q){var l=this,c,d;Object.keys(this.filterParameter.options).forEach(function(t){delete l.filterParameter.options[t]});var w=0<q.length;w&&q.forEach(function(t){l.filterParameter.options[t.id]={value:t.id,q:"group:".concat(t.id),label:t.title}});r.default.showHide(this._noResults,!w);null===(d=null===(c=this._filterList)||void 0===c?void 0:c.destroy)||void 0===d?void 0:d.call(c);q=document.createElement("div");this._filterListWrap.appendChild(q);this._filterList=new u.default(a.__assign({},
this.filterParameter),q);return!0};n.prototype._onClientSearch=function(){var q=this,l=this._filterList.domNode.querySelectorAll(".filter-tree-item"),c=this._searchInput.value.toLowerCase();[].forEach.call(l,function(d){var w=q.filterParameter.options[d.dataset.value];void 0!==w&&-1!==w.label.toLowerCase().indexOf(c)?r.default.showNode(d):r.default.hideNode(d)})};n.prototype._onServerSearch=function(){var q=this,l=this._searchInput.value.toLowerCase(),c=this._getParams();c.q="".concat(c.q," ").concat(l);
this._getOrgGroups(c).then(function(d){return q._constructFilterSingle(d.results)})};n.prototype.select=function(q){this._filterList.select(q)};return n=a.__decorate([(0,p.default)(h.default,m.default)],n)}()})},"arcgisonline/pages/dijit/FilterCollabOrgs/FilterCollabOrgs":function(){define("require exports tslib esri/Evented dojo/text!./FilterCollabOrgs.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../FilterSingle ../ToggleSwitch ../InfoTooltip ../../utils/icons ../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=k.default;this.i18n=f.default;this.icons=v.default;this.filterCssClasses="filter--ellipse"}n.prototype.postCreate=function(){var q=this;this.inherited(arguments);
var l=a.__assign({},this.i18n.searchFilters);this.filter=new u.default(a.__assign({},this.filterParameter),this.filterList);var c=new r.default({label:l.collabContacts,labelPosition:"left",trackId:"collab-contacts-toggle",baseClass:"trailer-0",isChecked:!0},this.domNode.querySelector(".js-collab-contacts-toggle"));c.labelWrapper.classList.add("text-ellipsis");c.labelWrapper.setAttribute("title",l.collabContacts);this.own(c.on("change",function(d){q.emit("coordinators-only",{checked:d})}));l=new e.default({title:"",
content:l.collabContactsTooltip,buttonAriaLabel:l.collabContactsTooltipAria,baseClass:"org-overview__feature-toolip margin-left-quarter",orient:["below-centered","above-centered"]});l.addContentClass("text-center");c._label.appendChild(l.domNode);c._label.className+=" flex flex-align-center";c.domNode.className+=" flex flex-align-center flex-row-reverse"};n.prototype.getState=function(){return this.filter.getState()};n.prototype.show=function(){g.default.showNode(this.domNode)};n.prototype.hide=function(){g.default.hideNode(this.domNode)};
n.prototype.showCoordinatorsToggle=function(){g.default.showNode(this.coordsToggleContainer)};n.prototype.hideCoordinatorsToggle=function(){g.default.hideNode(this.coordsToggleContainer)};return n=a.__decorate([(0,p.default)(h.default,m.default,b.default)],n)}()})},"arcgisonline/pages/dijit/FilterCategoryWrapper":function(){define("require exports tslib dijit/_WidgetBase dijit/_TemplatedMixin dojo/i18n!../../nls/arcgisonline dojo/text!./FilterCategory/templates/FilterCategoryWrapper.html ./FilterCategory ../utils/icons ../components/MemberCategories/api ../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){Object.defineProperty(M,"__esModule",{value:!0});b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);e=a.__importDefault(e);U=function(){function v(g,p){this.templateString=m.default;this.icons=u.default;this.i18n=f.default}v.prototype.postCreate=function(){this.inherited(arguments);this.render()};v.prototype.updateCategories=function(g){this.filterCategory.updateCategories(g,!1)};
v.prototype.updateCategorizedMembers=function(g){this.filterCategory.updateCategorizedMembers(g)};v.prototype.render=function(){return a.__awaiter(this,void 0,void 0,function(){var g;return a.__generator(this,function(p){switch(p.label){case 0:return this.filterCategory=new h.default(this.props,this.domNode.querySelector(".js-filter-category")),[4,(0,r.getMemberCategoriesCount)(this.props.portal)];case 1:return g=p.sent(),this.filterCategory.updateCategorizedMembers(g),[2]}})})};return v=a.__decorate([(0,e.default)(b.default,
k.default)],v)}();M.default=U})},"arcgisonline/pages/dijit/FilterCategory":function(){define("require exports tslib ../../tsutils/declareDecorator dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/Evented dojo/query dojo/topic dojo/string dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/Tooltip dojo/text!./FilterCategory/templates/FilterCategory.html dojo/text!./FilterSingle/templates/ClearAll.html dojo/text!./FilterCategory/templates/Category.html dojo/text!./FilterCategory/templates/Uncategorized.html dojo/text!./FilterCategory/templates/CategoryGroup.html dojo/text!./FilterCategory/templates/EditSchemaButton.html dojo/i18n!../../nls/arcgisonline ../utils/categories ../utils/dom ../utils/icons ./_CheckReadonlyMixin ./CategoryEdit ../components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal arcgisonline/telemetry preact".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);return function(){function G(F,I){this.templateString=q.default;this.topicPrefix="";this.isMemberCategories=!1;this.i18n=z.default;this.icons=A.default;this._chipText=z.default.contentCategories.chipText;this._selected=[];this.isMemberCategoriesOpen=!1;this._param=this.group?"groupCategories":"categories";this.closeCategoriesModal=this.closeCategoriesModal.bind(this)}
G.prototype.postMixInProperties=function(){this.inherited(arguments);this._chipText=this.chipText||this._chipText;this._param=this.param||this._param;this.contentCategoriesStrings=k.default.mixin({},this.i18n.contentCategories,this.group?this.i18n.groupCategories:{});this.noCategoriesText=this.isMemberCategories?this.i18n.memberCategories.noCategories:this.contentCategoriesStrings.noCategoriesYet;this.filterDescription=this.isMemberCategories?this.i18n.memberCategories.filterDescription:this.contentCategoriesStrings.whyCategories;
this.setupText=this.isMemberCategories?this.i18n.memberCategories.setupCategories:this.contentCategoriesStrings.setUpCategories};G.prototype.postCreate=function(){this.telemetry=E.default.init(this.portal,!0);this.categories=this.categories||this.group&&k.default.clone(this.group.categorySchema)||k.default.clone(this.portal.categories);this.rootNode=this.rootNode||x.default.getRootNode(this.categories);"/Trending"===this.rootNode&&(this.rootNode="/Categories");var F=this.domNode.closest("calcite-accordion-item"),
I=F.querySelector(".js-edit-category-slot"),J=F.querySelector(".js-filter-actions-end");m.default.place(e.default.substitute(t.default,{i18n:z.default,contentCategoriesStrings:this.contentCategoriesStrings,icons:A.default}),F.querySelector(".js-edit-category-slot"));m.default.place(e.default.substitute(l.default,{i18n:z.default,hide:"hide",param:"category",clearText:this.i18n.filters.categoryClear,icons:A.default}),F.querySelector(".js-filter-actions-end"));this._clearButton=J.querySelector(".js-clear-filter");
y.default.showNode(this._clearButton);this._editCategoriesButton=I.querySelector(".js-edit-categories");this._setPermissions();this.updateCategories(this.categories,!0);this._addEventListeners()};G.prototype.destroy=function(){this.inherited(arguments)};G.prototype._setPermissions=function(){var F,I,J,K,P=!this.user,T=!P&&!this.user.isOrgUser,S=!P&&this.user.userRole||{},L=(null===(F=this.group)||void 0===F?void 0:F.groupOwner)||{};F=!P&&S.isAdmin();var N=!P&&S.isCustom();L=!T&&L.orgId&&this.user.orgId===
L.orgId;L=!P&&this.group&&(this.group.isOwner||this.group.isManager||L&&S.canUpdateOrgGroups());var O=!P&&!T&&(F||N&&S.canUpdateItemCategories());P=!P&&!T&&(F||N&&S.canUpdateMemberCategories());P=(!this.group&&O||this.group&&L||this.isMemberCategories&&P)&&!this.disableEdit;T=0<(null===(I=this.categories)||void 0===I?void 0:I.length)&&0<(null===(K=null===(J=this.categories[0])||void 0===J?void 0:J.categories)||void 0===K?void 0:K.length);I=(0,u.default)(this.domNode).closest(".js-filter-category-container");
J=(0,u.default)(".js-no-categories-action",this.domNode);K=(0,u.default)(".js-category-filter",this.domNode);K.addClass("hide");J.addClass("hide");f.default.add(this._editCategoriesButton,"hide");!T&&P&&J.removeClass("hide");T?(K.removeClass("hide"),this._setClearVisibility(),f.default[P?"remove":"add"](this._editCategoriesButton,"hide")):this._clearButton.classList.add("visibility-hidden");P||T||!I||I.addClass("hide")};G.prototype._addEventListeners=function(){var F=this;this.own((0,v.default)(this._clearButton,
"click",this.deselectAll.bind(this)),(0,v.default)(this._editCategoriesButton,"click",this._editCategories.bind(this)),(0,u.default)(".js-setup-categories",this.domNode).on("click",this._editCategories.bind(this)),(0,u.default)(".js-category-filter",this.domNode).on("click",function(I){f.default.contains(I.target,"js-filter-tree-link")&&F._clickHandler(I)}),r.default.subscribe("".concat(this.topicPrefix,"filter/clear"),this._clear.bind(this)),r.default.subscribe("".concat(this.topicPrefix,"filter/remove"),
this._remove.bind(this)),r.default.subscribe("categorySchema/updated",this.updateCategories.bind(this)),r.default.subscribe("aggregations/update",this._updateCounts.bind(this)),r.default.subscribe("default-categories/open",function(){F.goToDefaultCategories()}))};G.prototype.updateCategories=function(F,I){this.categories=F||[];0<this.categories.length&&F[0].categories&&(this.domNode.querySelector(".js-category-root").innerHTML=this._categoriesToDom(a.__spreadArray([],F[0].categories,!0),"",!0),this._addTooltips(),
this.showUncategorized||this.isMemberCategories?this._addUncategorized():this.domNode.querySelector(".js-uncategorized").classList.add("hide"));this._setPermissions();I||this.deselectAll()};G.prototype.select=function(F,I){var J=this;(k.default.isArray(F)?F:[F]).map(function(K){return K.replace(/\/[^\/]*\//,"/")}).forEach(function(K){var P=K.split("/").filter(function(T){return"/"!==T&&""!==T});P.forEach(function(T,S){T=P.slice(0,S+1).join("/");(0,u.default)(".js-filter-tree-item[data-category-path\x3d'/"+
T+"']",J.domNode).addClass("is-active")})});this._updateState(I)};G.prototype.deselectAll=function(F){F&&F.stopPropagation();this._clear();r.default.publish("".concat(this.topicPrefix||"","filter/update"),{chipText:this._chipText||z.default.contentCategories.chipText,param:this._param||"categories",selected:[],isCategory:!0})};G.prototype.closeCategoriesModal=function(){(0,H.render)(null,this.domNode);this.isMemberCategoriesOpen=!1;this.categories.length?this._editCategoriesButton.focus():this.domNode.querySelector(".js-setup-categories").focus()};
G.prototype.goToDefaultCategories=function(){(0,H.render)(null,this.domNode);this.isMemberCategoriesOpen=!1;location.hash="#settings";r.default.publish("settings-tab/select","newMemberDefaults");setTimeout(function(){r.default.publish("manage-default-categories/open")},1E3)};G.prototype._editCategories=function(F){F.stopPropagation();this.checkReadonly()||(this.isMemberCategories?(this.isMemberCategoriesOpen=!0,this.renderMemberCategoriesModal()):(F={user:this.portalUser,portal:this.portal,rootNode:this.rootNode},
this.group&&(F.group=k.default.mixin({},this.group)),this._categoryEdit=new D.default(F,m.default.place(m.default.create("div"),document.body,"last")),this._categoryEdit.open()))};G.prototype.renderMemberCategoriesModal=function(){(0,H.render)((0,H.h)(C.default,{memberCategories:this.categories,categoryCount:this.categoryCount,portalUser:this.user,defaultCategories:this.defaultCategories,telemetry:this.telemetry,onClose:this.closeCategoriesModal}),this.domNode)};G.prototype._categoriesToDom=function(F,
I,J){var K=this;return(null===F||void 0===F?0:F.length)?(F=F.reduce(function(P,T){var S,L,N=I+"/"+(T.title||T.name),O=N.toLowerCase(),Q=(null===(S=T.categories)||void 0===S?0:S.length)?K._categoriesToDom(T.categories,N):"";S=(null===(L=T.categories)||void 0===L?0:L.length)?"is-parent":"";L=T.isActive?"is-active":"";var V=(T.description||"").replace(/"/g,"\x26quot;");return P+e.default.substitute(c.default,{isActive:L,isParent:S,title:T.displayName||T.title||T.name,description:V,children:Q,path:N,
normalizedPath:O,icons:A.default})},""),J?F:e.default.substitute(w.default,{categories:F,icons:A.default})):""};G.prototype._addTooltips=function(){(0,u.default)(".js-filter-tree-link",this.domNode).forEach(function(F){var I=F.getAttribute("data-category-description");0<(null===I||void 0===I?void 0:I.length)&&new n.default({connectId:F,label:"\x3cspan class\x3d'text-constrain-narrow display-block text-left padding-left-quarter padding-right-quarter'\x3e".concat(I,"\x3c/span\x3e")})})};G.prototype._addUncategorized=
function(){this.isMemberCategories&&(z.default.contentCategories.uncategorized=z.default.memberCategories.noAssigned);this.domNode.querySelector(".js-uncategorized").innerHTML=e.default.substitute(d.default,{i18n:z.default});this.own((0,u.default)(".js-filter-tree-link-uncategorized",this.domNode).on("click",this._toggleUncategorizedFilter.bind(this)))};G.prototype._clickHandler=function(F){F.preventDefault();F=F.target.parentElement;var I=f.default.contains(F,"is-active"),J=f.default.contains(F,
"is-parent"),K=0<(0,u.default)(F.parentElement).closest(".js-filter-tree-item").length,P=[F],T=F;if(K)for(;f.default.contains(T.parentElement.parentElement,"js-filter-tree-item");)T=T.parentElement.parentElement,P.push(T);I?(P.forEach(function(S){f.default.remove(S,"is-active")}),(0,u.default)(F).removeClass("is-active"),(0,u.default)(".js-filter-tree-item.is-active",F).removeClass("is-active")):((0,u.default)(".js-filter-tree-item",this.domNode).removeClass("is-active"),P.forEach(function(S){f.default.add(S,
"is-active")}),J&&(F=P.reduce(function(S,L){return S+L.offsetTop},0),this.domNode.parentElement.scrollTop=F));this._updateState()};G.prototype._toggleUncategorizedFilter=function(F){F.preventDefault();(this.uncategorizedSelected=!this.uncategorizedSelected)?((0,u.default)(".js-filter-tree-item.is-active",this.domNode).removeClass("is-active"),this.domNode.querySelector(".js-filter-tree-item-uncategorized").classList.add("is-active"),this._selected=[],r.default.publish("".concat(this.topicPrefix||
"","filter/update"),{chipText:this._chipText||z.default.contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,selected:[{active:!0,value:"_none_",label:z.default.contentCategories.uncategorized,q:"categories:none",simpleLabel:z.default.contentCategories.uncategorized}],rootNode:this.rootNode})):this.deselectAll();this._setClearVisibility()};G.prototype._updateState=function(F,I){var J=this,K=this._param||"categories";this._selected=(0,u.default)(".js-filter-tree-item.is-active",
this.domNode).map(function(T){var S=T.getAttribute("data-category-name");T=T.getAttribute("data-category-path");return{active:!0,value:J.rootNode+T,label:S,q:e.default.substitute('${paramName}:( "${categoryPath}")',{paramName:K,categoryPath:J.rootNode+T})}});(0,u.default)(".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this.uncategorizedSelected=!1;var P=0<this._selected.length&&[this._selected[this._selected.length-1]]||[];I||r.default.publish("".concat(this.topicPrefix||
"","filter/update"),{chipText:this._chipText||z.default.contentCategories.chipText,param:this._param||"categories",id:this.id,isCategory:!0,isLoading:F,selected:P,rootNode:this.rootNode});this._setClearVisibility();this._updateAria()};G.prototype._setClearVisibility=function(){f.default[0<this._selected.length||this.uncategorizedSelected?"remove":"add"](this._clearButton,"visibility-hidden")};G.prototype._clear=function(F){(0,u.default)(".js-filter-tree-item",this.domNode).removeClass("is-active");
(0,u.default)(".js-filter-tree-item-uncategorized",this.domNode).removeClass("is-active");this._selected=[];this.uncategorizedSelected=!1;this._updateState(!0,F);this._setClearVisibility()};G.prototype._remove=function(F){F.param===this._param&&this._clear()};G.prototype._updateCounts=function(F){var I=this;if("groupCategories"===F.fieldName&&this.group||!this.group&&"categories"===F.fieldName){(0,u.default)(".js-category-count",this.domNode).forEach(function(K){return K.innerHTML=""});var J=new RegExp(this.rootNode.toLowerCase()+
"/");F.fieldValues.filter(function(K){return K.value.toLowerCase()!==I.rootNode.toLowerCase()}).map(function(K){return{value:K.value.replace(J,"/"),count:K.count}}).forEach(function(K){try{var P=I.domNode.querySelector('.js-category-count[data-category-path\x3d"'+K.value+'"]');P&&(P.innerHTML="("+K.count+")")}catch(T){}})}};G.prototype.updateCategorizedMembers=function(F){var I=this;this.categoryCount=F;(0,u.default)(".js-category-count",this.domNode).innerHTML("");Object.keys(F).forEach(function(J){var K=
J.replace(RegExp("/categories/"),"/");try{var P=I.domNode.querySelector('.js-category-count[data-category-path\x3d"'.concat(K.toLowerCase(),'"]'));P&&(P.innerHTML="(".concat(F[J],")"))}catch(T){}});this.isMemberCategoriesOpen&&this.renderMemberCategoriesModal()};G.prototype._updateAria=function(){(0,u.default)(".js-filter-tree-item",this.domNode).forEach(function(F){return F.setAttribute("aria-expanded",f.default.contains(F,"is-active"))})};return G=a.__decorate([(0,b.default)(g.default,p.default,
B.default,h.default)],G)}()})},"arcgisonline/pages/utils/categories":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util dojo/Deferred".split(" "),function(U,M,a,b,k,f){function m(p,n){var q=new f.default,l=[];b.default.self.hasCategorySchema&&n.length?(p=h([],p),p.forEach(function(c){var d={};d[c]={categories:n};l.push(d)}),k.default.request({url:"".concat(b.default.restBaseUrl,"content/updateItems"),content:{items:JSON.stringify(l)}},{usePost:!0}).then(function(){return q.resolve()},
function(){return q.resolve()})):q.resolve();return q}function h(p,n){var q=[].concat(p||[]);(null!==n&&void 0!==n?n:[]).forEach(function(l){l&&-1===q.indexOf(l)&&q.push(l)});return q}function u(p){delete p.isOpen;delete p.depth;delete p.order;p.categories&&(p.categories=p.categories.map(u));return p}function r(p,n,q){void 0===n&&(n="");void 0===q&&(q={});q.__total=q.__total||0;p.forEach(function(l){var c="".concat(n,"/").concat(l.title);c=c.trim();q.__total+=1;q[c]=q.__total;l.categories&&r(l.categories,
c,q)});return q}function e(p){var n;(p=null===(n=null===p||void 0===p?void 0:p[0])||void 0===n?void 0:n.title)&&"/"!==p.charAt(0)&&(p="/".concat(p));return p||"/Categories"}function v(p,n){return{id:p.id,categories:n?p.groupCategories:p.categories}}function g(p){var n=p.group;p=p.portal;var q=n?"content/groups/".concat(n.id,"/search"):"search";return k.default.request({url:b.default.restBaseUrl+q,content:{num:0,q:n?"":"orgid:".concat(p.id),countFields:n?"groupCategories":"categories",countSize:200}}).then(function(l){return l.aggregations.counts[0].fieldValues})}
Object.defineProperty(M,"__esModule",{value:!0});M.getCounts=M.simplifyItemObject=M.getRootNode=M.getSchemaOrder=M.cleanSchema=M.concatUniqueIds=M.setItemCategories=void 0;b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);M.setItemCategories=m;M.concatUniqueIds=h;M.cleanSchema=u;M.getSchemaOrder=r;M.getRootNode=e;M.simplifyItemObject=v;M.getCounts=g;M.default={setItemCategories:m,concatUniqueIds:h,cleanSchema:u,getSchemaOrder:r,getRootNode:e,simplifyItemObject:v,getCounts:g}})},
"arcgisonline/pages/dijit/_CheckReadonlyMixin":function(){define(["require","exports","tslib","dojo/i18n!../../nls/arcgisonline","../pageUtil"],function(U,M,a,b,k){b=a.__importDefault(b);k=a.__importDefault(k);return function(){function f(){}f.prototype.checkReadonly=function(m){m||(m=this.portal);return m.isReadOnly?(k.default.createConfirmationDialog({strings:{title:b.default.common.errorTitle,description:m.isPortal?b.default.common.errors.portalInReadOnlyModeMsg:b.default.common.errors.onlineInReadOnlyModeMsg},
autoCloseOnOk:!0,hideCancel:!0}),!0):!1};f.prototype.memberActionGuard=function(m,h){return-1<["manageItems","viewGroups","viewProfile"].indexOf(m)?!1:this.checkReadonly(h)};return f}()})},"arcgisonline/pages/dijit/CategoryEdit":function(){define("require exports tslib dojo/_base/lang dojo/dom-construct dojo/Deferred dojo/promise/all dojo/query dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dragula/dragula ../../sharing/util ../utils/categories ../utils/alerts ../utils/formatters ../utils/icons ../utils/validation ../utils/getLivingAtlasCategorySet ./Overlay ../portal/Portal ../../esriGeowConfig dojo/text!./CategoryEdit/templates/CategoryEdit.html dojo/text!./CategoryEdit/templates/Node.html dojo/text!./CategoryEdit/templates/Group.html dojo/text!./CategoryEdit/templates/_count.html dojo/text!./CategoryEdit/templates/_standard.html dojo/i18n!../../nls/arcgisonline arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);return function(){function G(F,I){this.title=E.default.contentCategories.configureCategories;this.overlayContents=u.default.substitute(y.default,{i18n:E.default},null,l.default);this.unsavedChangesText=E.default.contentCategories.errors.unsavedChangesExplain;this.i18n=E.default;this.constrain=!0;this.showActionBar=this.isCreate=
!1}G.prototype.postMixInProperties=function(){this.inherited(arguments);this.categories=this.group&&b.default.clone(this.group.categorySchema)||b.default.clone(this.portal.categories);this.rootNode=n.default.getRootNode(this.categories);if(!this.portal.queryItems){var F=this.portal.id;this.portal=new z.default(b.default.clone(this.portal));this.portal.id=F}"//"===this.portal.url.slice(-2)&&(this.portal.url=this.portal.url.slice(0,this.portal.url.length-1));this.group&&(this.i18n.contentCategories=
b.default.mixin(this.i18n.contentCategories,this.i18n.groupCategories));this.overlayContents=u.default.substitute(y.default,{i18n:E.default},null,l.default);if(!this.categories||1>this.categories.length)this.showActionBar=this.isCreate=!0,this.title=E.default.contentCategories.setUpCategories,this.categories=[{title:"Categories",categories:[]}]};G.prototype.postCreate=function(){var F=this,I,J;this.inherited(arguments);this.domNode.querySelector(".js-category-container").innerHTML=this.categoriesToDom(this.categories[0].categories);
this.updateSubmit();this.toggleAllButton=this.domNode.querySelector(".js-toggle-all-btn");this.toggleAllLabel=this.domNode.querySelector(".js-toggle-all-label");this.isCreate?((0,m.default)({livingAtlas:(0,w.default)(this.portal,"LivingAtlas"),iso:(0,w.default)(this.portal,"ISO"),inspire:(0,w.default)(this.portal,"Inspire")}).then(function(P){F.standardSets={livingAtlas:P.livingAtlas[0],iso:P.iso[0],inspire:P.inspire[0]};F.buildStandardSets()}),this.domNode.querySelector(".js-category-setup-explanation").classList.remove("hide"),
this.domNode.querySelector(".js-category-edit-explanation").classList.add("hide"),this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){F.domNode.querySelector(".js-category-item-input").focus()},300)):(this.domNode.querySelector(".js-content-loading").classList.remove("is-active"),this.domNode.querySelector(".js-category-wrapper").classList.remove("hide"),(0,h.default)(".js-category-edit-li",this.domNode).addClass("is-open"),this.toggleAllButton.classList.remove("hide"));
this.addCategoryListeners();this.drag=(0,g.default)([].slice.call(this.domNode.querySelectorAll(".js-category-group")),{moves:function(P,T,S){return S.classList.contains("js-toggle-item")||S.classList.contains("js-category-edit-item")},accepts:function(P,T,S,L){return T===S}});this.drag.on("drop",function(P){P.classList.contains("is-editing")||(F.updateState(),F.updateSchema().then(function(T){}))});this.updateCounts();var K=(null===(J=null===(I=this.portal)||void 0===I?void 0:I.portalUser)||void 0===
J?void 0:J.userRole)||x.default.userRole||{};this.domNode.classList[this.group||K.canUpdateOrgItems()?"add":"remove"]("can-renameDeleteFromSchema")};G.prototype.destroy=function(){this.inherited(arguments)};G.prototype.close=function(F){this.isCreate&&(this.cleanUp(!0),this.hasCategories()&&!F&&(this.unsavedChangesText=E.default.contentCategories.errors.unsavedChangesExplain,this.setUnsaved(!0)));r.default.publish("category-edit/close");this.inherited(arguments)};G.prototype.handleCancel=function(){r.default.publish("category-edit/cancel");
this.inherited(arguments)};G.prototype.handlePrimary=function(){this.submit()};G.prototype.addCategoryListeners=function(){var F=this,I=function(J,K,P){P.target.classList.contains(J)&&K.bind(F)(P)};this.own((0,h.default)(this.domNode).on("click",function(J){I("js-toggle-item",F.toggleOpen,J);I("js-add-sibling",F.addCategory,J);I("js-category-edit-button",F.editNode,J);I("js-category-cancel-edit",F.cancelEditNode,J);I("js-edit-confirm",F.confirmEdit,J);I("js-cancel-edit",F.cancelEdit,J);I("js-category-edit-submit",
F.saveEdit,J);I("js-category-delete-button",F.initiateDelete,J);I("js-cancel-delete",F.cancelDelete,J);I("js-delete-confirm",F.confirmDelete,J)}),(0,h.default)(this.domNode).on("input",function(J){I("js-category-item-input",F.validateInput,J)}),(0,h.default)(this.toggleAllButton).on("click",function(){var J=F.toggleAllButton.classList.contains("is-open");F.renderToggleAllButton(J);J?(F.toggleAllButton.classList.remove("is-open"),F.toggleAllLabel.textContent=E.default.common.expandAll,(0,h.default)(".js-category-edit-li.is-parent.is-open").removeClass("is-open")):
(F.toggleAllButton.classList.add("is-open"),F.toggleAllLabel.textContent=E.default.common.collapseAll,(0,h.default)(".js-category-edit-li.is-parent").addClass("is-open"))}))};G.prototype.renderToggleAllButton=function(F){F?(this.toggleAllButton.classList.remove("is-open"),this.toggleAllLabel.textContent=E.default.common.expandAll):(this.toggleAllButton.classList.add("is-open"),this.toggleAllLabel.textContent=E.default.common.collapseAll)};G.prototype.buildStandardSets=function(){var F=this,I=this.domNode.querySelector(".js-standard-categories-nav");
Object.keys(this.standardSets).forEach(function(J){var K,P,T=F.standardSets[J],S=T.title;T=T.snippet;var L=(null===(K=F.portal.helpMap)||void 0===K?void 0:K.m)||(null===(P=x.default.self.helpMap)||void 0===P?void 0:P.m)||{};K={inspire:"reference/content-categories.htm#CATEGORY_INSPIRE",iso:"reference/content-categories.htm#CATEGORY_ISO",livingAtlas:"reference/content-categories.htm#CATEGORY_ARCGIS"};P={inspire:L["120001582"]||"",iso:L["120001581"]||"",livingAtlas:L["120001580"]||""};k.default.place(u.default.substitute(C.default,
{key:J,title:S,description:T,i18n:E.default,helpBase:F.portal.helpBase||"https://doc.arcgis.com/en/arcgis-online/",helpLink:F.portal.isPortal?P[J]:K[J]}),I)});this.own((0,h.default)(".js-category-setup-option",this.domNode).on("click",this.toggleStandard.bind(this)),(0,h.default)(".js-category-setup-option",this.domNode).on("keyup",function(J){"Enter"!==J.key&&"Space"!==J.key||F.toggleStandard(J)}));(0,h.default)(".js-content-loading",this.domNode).removeClass("is-active");(0,h.default)(".js-category-wrapper",
this.domNode).removeClass("hide")};G.prototype.toggleStandard=function(F){if(F.target.classList.contains("js-category-setup-option")){var I=F.target.getAttribute("data-category-set"),J=this.domNode.querySelector(".js-category-setup-option.is-active").getAttribute("data-category-set"),K=!0;(0,h.default)(".js-category-setup-option",this.domNode).removeClass("is-active");F.target.classList.add("is-active");if(J===I)return!1;"custom"===J&&"custom"!==I&&(this.customBackup=a.__spreadArray([],this.categories[0].categories,
!0).filter(function(P){return""!==P.title}));"custom"===I&&"custom"!==J&&(this.categories[0].categories=a.__spreadArray([],this.customBackup,!0));"custom"!==I&&(this.categories[0].categories=this.standardSets[I].categorySchema[0].categories);this.domNode.querySelector(".js-category-container").innerHTML=this.categoriesToDom(this.categories[0].categories);"custom"!==I||this.hasCategories()||(this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),this.domNode.querySelector(".js-category-item-input").focus(),
K=!1);this.updateState();this.updateSubmit();this.setUnsaved(K)}};G.prototype.toggleOpen=function(F){F.preventDefault();F=F.target.parentNode;var I=F.classList.contains("is-open");F.classList[I?"remove":"add"]("is-open");F=(0,h.default)(".js-category-edit-li.is-parent").every(function(J){return!J.classList.contains("is-open")});this.renderToggleAllButton(F)};G.prototype.addCategory=function(F){this.cleanUp();if(0===this.domNode.querySelectorAll(".js-category-edit-li.is-editing").length){var I=F.target.parentNode;
F=F.target.getAttribute("data-category-path")||"";var J=2>(F.match(RegExp("/","g"))||[]).length?"is-parent":"",K={path:F,categories:"",i18n:E.default,isOpen:"is-open",ariaText:E.default.contentCategories.addSub,icons:c.default};J={isOpen:"is-open",children:J?u.default.substitute(B.default,K,null,l.default):"",title:"",path:F,i18n:E.default,isParent:J,saveText:this.isCreate?E.default.contentCategories.add:E.default.common.save,icons:c.default};I=Array.prototype.slice.call(I.children).filter(function(P){return P.classList.contains("js-add-sibling")}).shift();
K=document.createElement("div");K.innerHTML=u.default.substitute(A.default,J,null,l.default);J=K.querySelector(".js-category-edit-li");k.default.place(J,I,"before");F||I.setAttribute("aria-label",E.default.contentCategories.addCat);J.classList.add("is-editing");J.querySelector(".js-category-item-input").focus();this.updateSubmit()}};G.prototype.editNode=function(F){F.preventDefault();this.cleanUp();var I=(0,h.default)(F.target).closest(".js-category-edit-item").shift();F=(0,h.default)(F.target).closest(".js-category-edit-li").shift();
I.classList.add("is-editing");F.classList.add("is-editing");I.querySelector(".js-category-edit-submit").disabled=!0;I=I.querySelector(".js-category-item-input");I.focus();I.select();this.updateSubmit()};G.prototype.cancelEditNode=function(F){F.preventDefault();var I=(0,h.default)(F.target).closest(".js-category-edit-item").shift();F=(0,h.default)(F.target).closest(".js-category-edit-li").shift();var J=I.getAttribute("data-current-category"),K=I.querySelector(".js-category-item-input-error"),P=I.querySelector(".js-category-item-input");
J?(I.classList.remove("is-editing"),F.classList.remove("is-editing"),P.value=J,P.classList.remove("input-error"),K.classList.remove("is-active")):this.hasCategories()||!this.isCreate||1<(0,h.default)(".js-category-edit-li.is-editing",this.domNode).length?k.default.destroy(I.parentNode):(P.value="",P.classList.remove("input-error"),K.classList.remove("is-active"),P.focus(),F.querySelector(".js-category-edit-submit").setAttribute("disabled","true"));this.updateSubmit()};G.prototype.saveEdit=function(F){var I=
this;F.preventDefault();var J=(0,h.default)(F.target).closest(".js-category-edit-item").shift(),K=J.parentNode,P=J.getAttribute("data-current-category"),T=K.getAttribute("data-category-path"),S=J.querySelector(".js-category-item-input").value;F=K.querySelector(".js-category-group \x3e .js-add-sibling");if(P){var L=T.split("/");L.pop();L.push(S);var N=L.join("/");F&&F.setAttribute("data-category-path",N);this.isCreate?(K.querySelector(".js-category-edit-title").innerHTML=S,J.classList.remove("is-editing"),
K.classList.remove("is-editing"),K.setAttribute("data-category-path",N),J.setAttribute("data-current-category",S),(0,h.default)(".js-category-edit-li",K).forEach(function(O){var Q=O.getAttribute("data-category-path").replace(T,N);O.setAttribute("data-category-path",Q)}),this.updateState(),this.updateSchema().then(function(){},function(O){return 0})):this.searchCategoryItems({category:T,num:1}).then(function(O){if(0<O.total){var Q=K.querySelector(".js-category-edit-warning"),V=Q.querySelector(".js-edit-confirm"),
X=E.default.contentCategories[1===O.total?"categoryInUseEditSingle":"categoryInUseEditPlural"];J.classList.add("category-edit-item__disabled");J.classList.remove("is-editing");K.classList.remove("is-editing");var Z=u.default.substitute(D.default,{path:N,num:O.total});K.querySelector(".js-category-edit-title").innerHTML=S+Z;K.querySelector(".js-category-in-use-edit-explanation").innerHTML=u.default.substitute(X,{number:O.total,category:P,newCategory:S});Q.classList.remove("hide");V.setAttribute("data-category-path",
T);V.setAttribute("data-category",P);V.setAttribute("data-new-category",S);V.setAttribute("data-new-category-path",N);V.focus()}else K.querySelector(".js-category-edit-title").innerHTML=S,J.classList.remove("is-editing"),K.classList.remove("is-editing"),K.setAttribute("data-category-path",N),J.setAttribute("data-current-category",S),(0,h.default)(".js-category-edit-li",K).forEach(function(ca){var R=ca.getAttribute("data-category-path").replace(T,N);ca.setAttribute("data-category-path",R)}),I.updateState(),
I.updateSchema().then(function(){},function(ca){return 0})})}else(L="".concat(T,"/").concat(S),F&&(F.setAttribute("data-category-path",L),F.setAttribute("aria-label",u.default.substitute(E.default.contentCategories.addSubCategoryOf,{category:S}))),J.setAttribute("data-current-category",S),J.querySelector(".js-category-edit-title").innerHTML=S,K.setAttribute("data-category-path",L),K.classList.remove("is-editing"),this.isCreate&&J.classList.remove("is-editing"),this.updateState(),this.isCreate)?this.cleaningUp||
P||(this.setUnsaved(!0),J.querySelector(".js-category-edit-submit").innerHTML=E.default.contentCategories.update,(F=(F=K.parentNode)&&F.children&&F.children[F.children.length-1])&&this.addCategory({target:F})):this.updateSchema().then(function(){},function(O){return 0})};G.prototype.confirmEdit=function(F){var I=this,J=(0,h.default)(F.target).closest(".js-category-edit-li").shift(),K=F.target.getAttribute("data-category-path"),P=F.target.getAttribute("data-new-category"),T=F.target.getAttribute("data-new-category-path"),
S=J.querySelector(".js-category-edit-item");F=J.querySelector(".js-category-edit-warning");var L=J.querySelector(".js-category-loader"),N=J.querySelector(".js-category-loader-bar"),O=J.querySelector(".js-loading-message");F.classList.add("hide");J.setAttribute("data-category-path",T);S.setAttribute("data-current-category",P);(0,h.default)(".js-category-edit-li",J).forEach(function(Q){var V=Q.getAttribute("data-category-path").replace(K,T);Q.querySelector(".js-category-count").setAttribute("data-category-path",
V);Q.setAttribute("data-category-path",V)});L.classList.remove("hide");O.innerHTML="";N.style.width="0%";this.searchCategoryItems({category:K,num:1}).then(function(Q){Q={length:Q.total,oldCategory:K,newCategory:T,loader:L};I.enableButtons(!1);I.bulkEditCategory(Q).then(function(V){I.updateState();I.updateSchema().then(function(X){L.classList.add("hide");S.classList.remove("category-edit-item__disabled");I.enableButtons(!0);r.default.publish("items/refresh",{forcedDelay:2E3});r.default.publish("view/deselectAll")},
function(X){})})})};G.prototype.cancelEdit=function(F){F.preventDefault();var I=(0,h.default)(F.target).closest(".js-category-edit-li").shift();F=this.rootNode.toLowerCase()+I.getAttribute("data-category-path");var J=I.querySelector(".js-category-edit-item"),K=J.getAttribute("data-current-category"),P=I.querySelector(".js-category-edit-warning"),T=J.querySelector(".js-category-edit-title"),S=J.querySelector(".js-category-item-input");I=(I=I.querySelector(".js-category-count"))&&I.innerHTML||"";S.value=
K;P.classList.add("hide");J.classList.remove("category-edit-item__disabled");T.innerHTML="\n      ".concat(K,'\n      \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"').concat(F,'"\x3e\n        ').concat(I,"\n      \x3c/span\x3e\n    ");this.updateSubmit()};G.prototype.initiateDelete=function(F){var I=this;this.cleanUp();F.preventDefault();var J=(0,h.default)(F.target).closest(".js-category-edit-item"),K=(0,h.default)(F.target).closest(".js-category-edit-li").shift(),
P=K.getAttribute("data-category-path");J.addClass("category-edit-item__disabled");this.isCreate?this.deleteCategory(P):this.searchCategoryItems({category:P,num:1}).then(function(T){if(0<T.total){var S=K.querySelector(".js-category-edit-delete-warning");S.classList.remove("hide");var L=E.default.contentCategories[1===T.total?"categoryInUseDeleteSingle":"categoryInUseDeletePlural"];K.querySelector(".js-category-in-use-explanation").innerHTML=u.default.substitute(L,{number:T.total});S.querySelector(".js-delete-confirm").focus()}else I.deleteCategory(P)},
function(T){return 0})};G.prototype.cancelDelete=function(F){F=(0,h.default)(F.target).closest(".js-category-edit-li").shift();var I=F.querySelector(".js-category-edit-delete-warning");F.querySelector(".js-category-edit-item").classList.remove("category-edit-item__disabled");I.classList.add("hide")};G.prototype.confirmDelete=function(F){var I=this;F.preventDefault();var J=(0,h.default)(F.target).closest(".js-category-edit-li").shift(),K=J.getAttribute("data-category-path");F=J.querySelector(".js-category-edit-delete-warning");
var P=J.querySelector(".js-category-loader"),T=J.querySelector(".js-category-loader-bar");J=J.querySelector(".js-loading-message");F.classList.add("hide");P.classList.remove("hide");J.innerHTML="";T.style.width="0%";this.searchCategoryItems({category:K,num:1}).then(function(S){S={length:S.total,oldCategory:K,loader:P};I.enableButtons(!1);I.bulkEditCategory(S).then(function(L){I.deleteCategory(K);I.enableButtons(!0);r.default.publish("items/refresh",{forcedDelay:2E3});r.default.publish("view/deselectAll");
setTimeout(function(){I.updateCounts()},1200)})})};G.prototype.validateInput=function(F){var I,J,K=n.default.getSchemaOrder(this.categories).__total,P=(0,h.default)(F.target).closest(".js-category-edit-li").shift(),T=(0,h.default)(P.parentNode).closest(".js-category-edit-li").shift(),S=(null===T||void 0===T?void 0:T.getAttribute("data-category-path"))||"/";T=(null===P||void 0===P?void 0:P.getAttribute("data-category-path")).replace(S,"");var L=null===(J=null===(I=F.target)||void 0===I?void 0:I.value)||
void 0===J?void 0:J.trim();J=(0,h.default)(F.target).closest(".js-category-group").shift();var N=(0,h.default)(F.target).closest(".js-category-edit-form").shift();I=N.querySelector(".js-category-item-input-error");N=N.querySelector(".js-category-edit-submit");var O=(0,h.default)(F.target).closest(".js-category-edit-item").shift();O=""!==(null===O||void 0===O?void 0:O.getAttribute("data-current-category"));J=J&&[].slice.call(J.children).filter(function(Q){return Q.classList.contains("category-editor-item")}).filter(function(Q){return Q!==
P}).map(function(Q){return Q.getAttribute("data-category-path").replace(S,"").toLowerCase().split("/").pop()});900<K&&!O?(d.default.setInvalidState(F.target,I,E.default.contentCategories.errors.tooMany.replace("${max}",900)),N.disabled=!0):0===L.length?(F.target.classList.remove("input-error"),I.classList.remove("is-active"),N.disabled=!0):0<this.checkCharacters(L).length?(d.default.setInvalidState(F.target,I,u.default.substitute(E.default.contentCategories.errors.charsNotAllowed,{chars:this.checkCharacters(L).join(" ")})),
N.disabled=!0):100<L.length?(d.default.setInvalidState(F.target,I,E.default.contentCategories.errors.tooLong),N.disabled=!0):L===T?(F.target.classList.remove("input-error"),I.classList.remove("is-active"),N.disabled=!0):-1<J.indexOf(L.toLowerCase())?(d.default.setInvalidState(F.target,I,u.default.substitute(E.default.contentCategories.errors.alreadyExists,{name:L})),N.disabled=!0):(F.target.classList.remove("input-error"),I.classList.remove("is-active"),N.disabled=!1);this.updateSubmit()};G.prototype.checkCharacters=
function(F){return'"/\\`#%\x3c\x3e\x26'.split("").filter(function(I){return-1<F.indexOf(I)}).map(function(I){return"\x3ccode\x3e".concat(I,"\x3c/code\x3e")})};G.prototype.bulkEditCategory=function(F){var I=this,J=F.loader,K=F.length,P=F.oldCategory,T=F.newCategory;F=Math.floor(K/100)+1;var S=[],L=J.querySelector(".js-category-loader-bar"),N=J.querySelector(".js-loading-message"),O=50/K,Q=0,V=0;L.style.width="0%";N.innerHTML="";this.setUnsaved(!0);for(var X=r.default.subscribe("categorySchema/loading",
function(ca,R){"update"===R&&(V+=ca,V>K&&(V=K),N.innerHTML=u.default.substitute(E.default.contentCategories.updatingProgress,{current:V,total:K}));Q+=ca*O;L.style.width="".concat(Q,"%")}),Z=0;Z<F;Z++)S.push({category:P,start:100*Z,num:100,loader:J});J=S.map(function(ca){return I.searchCategoryItems(ca)});return(0,m.default)(J).then(function(ca){return ca.map(function(R){return R.results.map(function(Y){var ba={},aa=I.transformCategories(P,T,Y.categories);ba[Y.id]=I.group?aa:{categories:aa};return ba})})}).then(function(ca){ca=
ca.map(function(R){return I.updateItems(R)});return(0,m.default)(ca)}).then(function(ca){X.remove();I.setUnsaved(!1);I.unsavedChangesText=E.default.contentCategories.errors.unsavedChangesExplain;return ca})};G.prototype.transformCategories=function(F,I,J){return I?J.map(function(K){return K.replace(F,I)}):J.filter(function(K){return 0>K.indexOf(F)})};G.prototype.deleteCategory=function(F){var I=this;(0,h.default)(".js-category-edit-li",this.domNode).forEach(function(J){var K=J.getAttribute("data-category-path");
K!==F&&encodeURIComponent(K)!==encodeURIComponent(F)||k.default.destroy(J)});this.updateState();1!==this.categories.length||0!==this.categories[0].categories.length||this.isCreate?(this.setUnsaved(!0),this.updateSchema().then(function(){},function(J){return 0})):this.deleteCategorySchema().then(function(J){I.setUnsaved(!1);r.default.publish("categorySchema/updated",null,!!I.group);I.close()},function(J){J&&J.messageCode&&"GWM_0021"===J.messageCode&&q.default.showAlert("error",J.message)})};G.prototype.updateState=
function(){this.categories[0].categories=this.domToCategories(this.domNode.querySelector(".js-category-group"));this.drag&&(this.drag.containers=[].slice.call(this.domNode.querySelectorAll(".js-category-group")));this.updateSubmit()};G.prototype.updateSubmit=function(){if(this.isCreate){var F=this.hasCategories();F||(F=0<Array.prototype.slice.call(this.domNode.querySelectorAll(".js-category-edit-li.is-editing")).filter(function(I){return!I.querySelector(".js-category-edit-submit").disabled}).length);
this._primaryBtn.disabled=!F;this.cleaningUp||this.setUnsaved(F)}};G.prototype.domToCategories=function(F){var I=this,J=[];Array.prototype.slice.call(F.children).filter(function(K){return K.classList.contains("category-editor-item")}).forEach(function(K){var P={title:K.querySelector(".js-category-edit-item").getAttribute("data-current-category").trim(),isOpen:K.classList.contains("is-open")};0<K.querySelectorAll(".js-category-group").length&&(P.categories=I.domToCategories(K.querySelector(".js-category-group")));
J.push(P)});return J};G.prototype.categoriesToDom=function(F,I){var J=this;I=I||"";F=(F||[]).reduce(function(K,P){P.title=P.title.trim();var T=P.displayName?P.displayName:P.title,S=I?"".concat(I,"/").concat(P.title):"/".concat(P.title),L=3>(S.match(RegExp("/","g"))||[]).length?"is-parent":"",N={path:S,categories:"",i18n:E.default,ariaText:E.default.contentCategories.addSub};N=L?u.default.substitute(B.default,N,null,l.default):"";N=P.categories&&L?J.categoriesToDom(P.categories,S):N;return K+u.default.substitute(A.default,
{isOpen:P.isOpen&&L?"is-open":"",icons:c.default,title:T,path:S,isParent:L,children:N,i18n:E.default,saveText:J.isCreate?E.default.contentCategories.update:E.default.common.save},null,l.default)},"");return u.default.substitute(B.default,{i18n:E.default,path:I||"",categories:F,ariaText:I?E.default.contentCategories.addSub:E.default.contentCategories.addCat},null,l.default)};G.prototype.updateSchema=function(F){var I=this;this.categories[0].categories=this.categories[0].categories.map(n.default.cleanSchema);
var J=this.group&&"".concat(this.portal.portalUrl,"community/groups/").concat(this.group.id),K="".concat(this.portal.portalUrl||this.portal.url,"portals/").concat(this.portal.id);J={url:"".concat(this.group?J:K,"/assignCategorySchema"),content:{categorySchema:JSON.stringify({categorySchema:this.categories})}};if(!this.isCreate||F)return this.setUnsaved(),p.default.request(J,{usePost:!0}).then(function(P){P.success&&(q.default.showAlert("success",E.default.contentCategories.success),r.default.publish("categorySchema/updated",
I.categories,!!I.group),r.default.publish("category-edit/save-success"));P.error&&q.default.showAlert("error",P.error.details[0]);return P},function(P){q.default.showAlert("error",P.message)});F=new f.default;F.resolve(!0);return F};G.prototype.enableButtons=function(F){(0,h.default)(".js-category-edit-actions",this.domNode)[F?"removeClass":"addClass"]("visually-hidden")};G.prototype.hasCategories=function(){var F,I,J;return 0<(null===(J=null===(I=null===(F=this.categories)||void 0===F?void 0:F[0])||
void 0===I?void 0:I.categories)||void 0===J?void 0:J.length)&&0<this.categories[0].categories.filter(function(K){return""!==K.title}).length};G.prototype.searchCategoryItems=function(F){var I=F.category;I=void 0===I?"":I;var J=F.start;J=void 0===J?0:J;F=F.num;var K=void 0===F?100:F;F="orgid: ".concat(this.portal.id);I=JSON.stringify([this.rootNode+I]);I={start:J,num:K,categories:this.group?I:encodeURIComponent(I)};this.token&&(I.token=this.token.slice(7,this.token.length));if(this.group)return p.default.request({url:"".concat(this.portal.url,
"content/groups/").concat(this.group.id,"/search"),content:I}).then(function(P){r.default.publish("categorySchema/loading",P.results&&P.results.length||0);P.results=P.results.map(function(T){return n.default.simplifyItemObject(T,!0)});return P},function(P){});I.q=F;return this.portal.queryItems(I).then(function(P){var T;r.default.publish("categorySchema/loading",(null===(T=P.results)||void 0===T?void 0:T.length)||0);P.results=P.results.map(function(S){return n.default.simplifyItemObject(S)});return P},
function(P){return 0})};G.prototype.updateCounts=function(){var F=this,I={portal:this.portal};this.group&&(I.group=this.group);n.default.getCounts(I).then(function(J){if(F.domNode){(0,h.default)(".js-category-count",F.domNode).forEach(function(P){return P.innerHTML=""});var K=new RegExp(F.rootNode.toLowerCase()+"/");J.filter(function(P){return P.value.toLowerCase()!==F.rootNode.toLowerCase()}).map(function(P){return{value:P.value.replace(K,"/"),count:P.count}}).forEach(function(P){if(P.value&&0<P.value.length)try{var T=
F.domNode.querySelector('.js-category-count[data-category-path\x3d"'.concat(P.value,'"]'));T&&(T.innerHTML="(".concat(P.count,")"))}catch(S){}})}},function(J){return 0})};G.prototype.updateItems=function(F){var I=this.group?"groups/".concat(this.group.id,"/updateCategories"):"updateItems";return p.default.request({url:"".concat(this.portal.url,"content/").concat(I),content:{items:JSON.stringify(F)}},{usePost:!0}).then(function(J){r.default.publish("categorySchema/loading",F.length||0,"update");return J},
function(J){"GWM_0021"===(null===J||void 0===J?void 0:J.messageCode)&&q.default.showAlert("error",J.message)})};G.prototype.deleteCategorySchema=function(){var F=this.group?"community/groups/".concat(this.group.id):"portals/".concat(this.portal.id);F="".concat(this.portal.url).concat(F,"/deleteCategorySchema");return p.default.request({url:F},{usePost:!0})};G.prototype.submit=function(){var F=this,I,J,K;this.isCreate&&(this.cleanUp(!0),0<(null===(K=null===(J=null===(I=this.categories)||void 0===I?
void 0:I[0])||void 0===J?void 0:J.categories)||void 0===K?void 0:K.length)?this.updateSchema(!0).then(function(P){F.setUnsaved(!1);F.close(!0);q.default.showAlert("success",E.default.contentCategories.success);r.default.publish("categorySchema/updated",F.categories,!!F.group)},function(P){return 0}):(q.default.showAlert("error",E.default.contentCategories.errors.schemaEmpty),this.addCategory({target:this.domNode.querySelector(".js-add-sibling")}),setTimeout(function(){F.domNode.querySelector(".js-category-item-input").focus()},
300)))};G.prototype.cleanUp=function(F){this.cleaningUp=!0;(0,h.default)(".js-category-edit-li.is-editing",this.domNode).forEach(function(I){var J=I.querySelector(".js-category-edit-submit"),K=I.querySelector(".js-category-item-input"),P=K.classList.contains("input-error")&&F;I=I.querySelector(".js-category-cancel-edit");(""===K.value||P?I:J).click()});this.updateState();this.cleaningUp=!1};return G=a.__decorate([(0,H.default)(v.default,e.default,t.default)],G)}()})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/MemberCategoriesModal":function(){define("require exports tslib preact preact/hooks preact/compat ./CategoryNode ./AddCategoryButton ../helpers ../api arcgisonline/pages/utils/alerts arcgisonline/pages/utils/timeout arcgisonline/pages/utils/a11y dragula/dragula dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){function c(t){return'"/\\`#%\x3c\x3e\x26'.split("").filter(function(z){return-1<t.indexOf(z)}).map(function(z){return"\x3ccode\x3e".concat(z,"\x3c/code\x3e")})}function d(t,z,x){return t=t.map(function(y){var A;if(-1<y.path.indexOf(z)){if(null===(A=y.categories)||void 0===A?0:A.length)y.categories=d(y.categories,z,x);return a.__assign(a.__assign({},y),{path:y.path.replace(z,x)})}return a.__assign({},y)})}var w=this;Object.defineProperty(M,"__esModule",{value:!0});
m=a.__importDefault(m);h=a.__importDefault(h);e=a.__importDefault(e);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);M.default=function(t){var z=t.telemetry,x=t.onClose,y=t.memberCategories,A=t.portalUser,B=t.defaultCategories,D=t.categoryCount,C=a.__assign(a.__assign(a.__assign({},n.default.common),n.default.contentCategories),n.default.memberCategories.modal);t=(0,k.useState)((null===y||void 0===y?0:y.length)?(0,u.updateMemberCount)((0,u.convertToCategoryData)(y),
D):[{title:"Categories",path:"/".concat("Categories"),categories:[{title:"",path:"/".concat("Categories","/"),categories:[],isEditing:!0,saveDisabled:!0}]}]);var E=t[0],H=t[1],G=(0,k.useState)(!1);t=G[0];var F=G[1];G=(0,k.useState)(null);var I=G[0],J=G[1];y=(0,k.useState)((null===y||void 0===y?0:y.length)?JSON.stringify(y):'[{"title":"Categories"}]');var K=y[0],P=y[1];y=(0,k.useState)(!1);G=y[0];var T=y[1],S=(0,k.useRef)(null),L=(0,k.useRef)(null),N=(0,k.useRef)(null),O=function(oa){return a.__awaiter(w,
void 0,void 0,function(){return a.__generator(this,function(qa){switch(qa.label){case 0:return[4,(0,r.saveCategorizedMembers)(oa)];case 1:return qa.sent(),[4,(0,v.timeout)(300)];case 2:return qa.sent(),[2]}})})},Q=function(oa,qa){return a.__awaiter(w,void 0,void 0,function(){var ua,ra;return a.__generator(this,function(va){switch(va.label){case 0:return[4,(0,r.searchUsersWithCategory)(oa)];case 1:return ua=va.sent(),ra=(0,u.updateCategorizedMembers)(ua,oa,qa),[4,O(ra)];case 2:return va.sent(),[2]}})})},
V=function(oa,qa,ua){ua=a.__assign(a.__assign({},ua),{path:ua.path.replace(oa,qa)});ua.categories&&(ua.categories=ua.categories.map(function(ra){return V(oa,qa,ra)}));return ua},X=function(oa,qa,ua){return a.__awaiter(w,void 0,void 0,function(){var ra,va,za,Ca,wa,ya,Fa;return a.__generator(this,function(La){switch(La.label){case 0:return ra=JSON.parse(oa.dataset.data),va=ra.path,za=qa.dataset.path,Ca="".concat(za,"/").concat(ra.title),wa=V(va,Ca,ra),oa.dataset.data=JSON.stringify(wa),ya=Array.from(qa.childNodes).filter(function(Ia){return Ia.classList.contains("member-category")&&
Ia.dataset.data}).map(function(Ia){return JSON.parse(Ia.dataset.data)}),qa===ua?[3,2]:[4,Q(va,Ca)];case 1:La.sent(),La.label=2;case 2:return Fa={},Object.keys(D).forEach(function(Ia){Ia===va.toLowerCase()?Fa[Ca.toLowerCase()]=D[Ia]:Fa[Ia]=D[Ia]}),H(function(Ia){Ia=a.__spreadArray([],Ia,!0);if(qa!==ua){var Ra=ua.dataset.path;Ia=(0,u.removeCategoryFromSrc)(Ra,va,Ia);ya=(0,u.removeCategoryFromSrc)(Ra,va,ya)}Ia=(0,u.reorderCategories)(Ca,ya,Ia);return Ia=(0,u.updateMemberCount)(Ia,Fa)}),[2]}})})},Z=function(oa,
qa,ua){g.default.postToLiveRegion((0,u.getNodePositionText)(oa,q.default.reorder.new));X(oa,qa,ua)},ca=function(oa,qa){var ua=!oa.sorting;ua&&g.default.postToLiveRegion("".concat(q.default.reorder.started," ").concat((0,u.getNodePositionText)(qa,q.default.reorder.current)));H(function(ra){return(0,u.clearEditOrAddProperties)((0,u.toggleSorting)(oa.path,ua,ra))})},R=function(){return[].slice.call(S.current.querySelectorAll(".member-categories-list"))};(0,k.useEffect)(function(){if(S.current&&!I){var oa=
(0,p.default)(R(),{moves:function(qa,ua,ra){return ra.classList.contains("category-edit-item__drag-handle")||ra.classList.contains("category-edit-item__drag-icon")},accepts:function(qa,ua,ra,va){va=(0,u.getCategoryLevel)(ua.dataset.path);var za=(0,u.getDraggedLevel)(qa);return!(ra!==ua&&(0,u.isDuplicateTitle)(ua,qa))&&!(ra!==ua&&3<va+za)&&!qa.contains(ua)&&!ua.classList.contains("member-category__sub-placeholder")&&!ua.classList.contains("member-categories-list--deepest")}});oa.on("drop",X);J(oa)}},
[S]);(0,k.useEffect)(function(){L.current&&F(!0)},[L]);var Y=function(oa){return a.__awaiter(w,void 0,void 0,function(){var qa,ua,ra;return a.__generator(this,function(va){switch(va.label){case 0:return(qa=!(null===(ua=oa[0].categories)||void 0===ua?0:ua.length))?[4,(0,r.deleteMemberCategoriesSchema)()]:[3,2];case 1:return va.sent(),[3,4];case 2:return null===z||void 0===z?void 0:z.logEvent({category:"member category",action:"config schema",count:null===(ra=oa[0].categories)||void 0===ra?void 0:ra.length,
size:(0,u.getCategoryCount)(oa)}),[4,(0,r.saveMemberCategories)(oa)];case 3:va.sent(),va.label=4;case 4:return l.default.publish("member-categories-and-count/update",{categories:qa?[]:oa}),e.default.showAlert("success",C.saveSuccess),qa&&(l.default.publish("member-categories/delete-all"),H([{title:"Categories",path:"/".concat("Categories"),categories:[{title:"",path:"/".concat("Categories","/"),categories:[],isEditing:!0,saveDisabled:!0}]}])),[2]}})})};(0,k.useEffect)(function(){I&&J(function(ua){ua.containers=
R();return ua});var oa=(0,u.removeExtraProperties)((0,u.removeEmptyCategories)(E)),qa=JSON.stringify(oa);K!==qa&&(P(qa),Y(oa))},[E]);(0,k.useEffect)(function(){H(function(oa){return(0,u.updateMemberCount)(oa,D)})},[D]);var ba=function(oa,qa){if(200<(0,u.getCategoryCount)(E))return C.errors.tooMany;var ua=c(oa);if(0<ua.length)return qa=ua.join(" "),C.errors.charsNotAllowed.replace("${chars}",qa);if((0,u.getSiblings)(qa,E).some(function(ra){return ra.title===oa.trim()}))return C.errors.alreadyExists.replace("${name}",
oa)},aa=function(oa,qa,ua){return ua.map(function(ra){if(qa===ra.path){var va=a.__assign;var za=a.__assign({},ra),Ca=ba(oa,qa);ra=ra.title;ra=!oa.trim().length||!!ba(oa,qa)||oa.trim()===ra;return va.call(a,za,{errorMessage:Ca,saveDisabled:ra})}if(null===(va=ra.categories)||void 0===va?0:va.length)ra.categories=aa(oa,qa,ra.categories);return a.__assign({},ra)})},W=function(oa,qa){H(function(ua){return a.__spreadArray([],aa(oa,qa,ua),!0)})},da=function(oa,qa,ua,ra,va){void 0===ra&&(ra=0);void 0===va&&
(va="Categories");var za=(0,u.getCategoryLevel)(qa);return ua.map(function(Ca){var wa;if(za===ra)return qa===Ca.path&&(Ca=a.__assign(a.__assign({},Ca),{categories:d(Ca.categories,"".concat(Ca.path,"/"),"".concat(va,"/").concat(oa,"/")),title:oa,path:"".concat(va,"/").concat(oa),isEditing:!1})),a.__assign({},Ca);if(null===(wa=Ca.categories)||void 0===wa?0:wa.length)Ca.categories=da(oa,qa,Ca.categories,ra+1,Ca.path);return a.__assign({},Ca)})},ea=function(oa,qa,ua){return a.__awaiter(w,void 0,void 0,
function(){var ra;return a.__generator(this,function(va){switch(va.label){case 0:if(!ua)return[3,2];ra=(0,u.getParentPath)(qa);return[4,Q(qa,"".concat(ra,"/").concat(oa))];case 1:va.sent(),va.label=2;case 2:return H(function(za){za=a.__spreadArray([],za,!0);za=ua?(0,u.updateFinishEditing)(qa,!0,za):(0,u.updateFinishAdding)((0,u.getParentPath)(qa),!0,za);za=da(oa,qa,za);za[0].finishAdding&&window.setTimeout(function(){N.current.focus()},100);return za}),ha(!1),[2]}})})},ja=1===E[0].categories.length&&
!E[0].categories[0].title,fa=function(oa){ha(!1);ja||(oa.title?H(function(qa){return(0,u.updateFinishEditing)(oa.path,!0,(0,u.updateIsEditing)(oa.path,!1,(0,u.removeEmptyCategories)(qa)))}):H(function(qa){qa=(0,u.updateFinishAdding)((0,u.getParentPath)(oa.path),!0,(0,u.removeEmptyCategories)(qa));qa[0].finishAdding&&N.current.focus();return qa}))},ha=function(oa){L.current.shadowRoot.querySelector(".modal").style.transform=oa?"translate3d(0, 0, 0)":"";T(oa)},la=function(oa){ha(!0);H(function(qa){return(0,u.clearEditOrAddProperties)((0,u.updateIsEditing)(oa.path,
!0,(0,u.removeEmptyCategories)(qa)))})},ka=function(oa){ja||(ha(!0),H(function(qa){qa=(0,u.removeEmptyCategories)(qa);qa=(0,u.addCategory)(oa,qa);qa=(0,u.clearEditOrAddProperties)(qa);return a.__spreadArray([],qa,!0)}))},ia=function(oa){return a.__awaiter(w,void 0,void 0,function(){var qa,ua;return a.__generator(this,function(ra){switch(ra.label){case 0:return ja?[2]:[4,(0,r.searchUsersWithCategory)(oa.path)];case 1:return qa=ra.sent(),ua=(0,u.removeCategoriesFromMembers)(qa,oa.path),[4,O(ua)];case 2:return ra.sent(),
H(function(va){va=(0,u.updateFinishAdding)((0,u.getParentPath)(oa.path),!0,(0,u.removeCategory)(oa.path,va));va[0].finishAdding&&N.current.focus();return va}),[2]}})})},ma=function(oa){H(function(qa){return(0,u.toggleCollapsed)(oa,qa)})},na=function(oa){H(function(qa){return(0,u.setCollapsedAll)(qa,oa)})},pa=1===E[0].categories.length,sa=pa&&!E[0].categories[0].title,ta=A.userRole.canManageSecurity();return(0,b.h)(b.Fragment,null,(0,f.createPortal)((0,b.h)("calcite-modal",{role:"dialog","aria-modal":"true",
scale:"l",open:t,style:{"--calcite-modal-width":"1460px","--calcite-modal-content-background":"var(--calcite-color-background)","--calcite-modal-content-padding":"0"},oncalciteModalClose:x,oncalciteModalBeforeOpen:function(oa){setTimeout(function(){oa.target.setFocus()},0)},"aria-labelledby":"member-categories-modal-title",ref:L,outsideCloseDisabled:!0},(0,b.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"member-categories-modal-title"},C.configureTitle),(0,b.h)("div",{slot:"content",ref:S},
(0,b.h)("div",{class:"member-categories__edit-mask ".concat(G?"":"hide")}),(0,b.h)("div",{class:"column-14 post-1 leader-1 trailer-1 member-categories__content"},(0,b.h)("div",{class:"category-editor-group category-editor-group--spaced member-categories__root-container",role:"application"},function(oa){if(!oa){var qa=(0,u.isAllCollapsed)(E);oa="chevron-".concat("rtl"===document.documentElement.dir?"left":"right");return(0,b.h)("button",{class:"btn-link flex flex-align-center margin-left-1",onClick:function(){na(!qa)}},
(0,b.h)("calcite-icon",{class:"margin-right-half",scale:"s",icon:qa?oa:"chevron-down"}),qa?C.expandAll:C.collapseAll)}}(sa),(0,b.h)("ul",{id:"root-member-category-list",class:"member-categories-list","data-path":"/".concat("Categories")},E[0].categories.map(function(oa,qa){return(0,b.h)(m.default,{key:"".concat(oa.path,"-").concat(qa),data:oa,isParent:!0,isEditing:pa||!oa.title,defaultCategories:B,noCategoryYet:sa,canAccessMemberDefaults:ta,onChange:W,onSave:ea,onEdit:la,onCancel:fa,onDelete:ia,onAddSubCategory:ka,
onCollapsedToggle:ma,onPositionChange:Z,onSortingToggle:ca})}),(0,b.h)(h.default,{buttonRef:N,level:1,onClick:function(){return ka("/".concat("Categories"))},disabled:pa&&!E[0].categories[0].title})))),(0,b.h)("div",{class:"column-8 leader-1 padding-leader-half margin-right-1"},(0,b.h)("p",{class:"font-size--1"},C.editDescription)))),document.body))}})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryNode":function(){define("require exports tslib preact preact/hooks esri/lang ./AddCategoryButton ../helpers ./CategoryConfirm arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline dojo/string dojo/topic".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);var p=function(n){var q,l,c=n.data,d=n.isParent,w=n.noCategoryYet,t=n.parentTitle,z=n.defaultCategories,x=n.canAccessMemberDefaults,y=n.onEdit,A=n.onCancel,B=n.onChange,D=n.onSave,C=n.onDelete,E=n.onAddSubCategory,H=n.onCollapsedToggle,G=n.onPositionChange,
F=n.onSortingToggle;n=a.__assign(a.__assign(a.__assign(a.__assign({},e.default.common),e.default.orgHomePageSetup.content),e.default.contentCategories),e.default.memberCategories.modal);var I=r.default.hyphenate(c.title);I="category-editor-".concat(I,"-input");var J=(0,k.useState)(c.title),K=J[0],P=J[1];J=(0,k.useState)(!1);var T=J[0],S=J[1];J=(0,k.useState)(!1);var L=J[0],N=J[1],O=(0,k.useRef)(null),Q=(0,k.useRef)(null),V=(0,k.useRef)(null),X=(0,k.useRef)(null),Z=(0,k.useRef)(null),ca=(0,k.useRef)(null);
J=(0,k.useRef)(null);var R=(0,k.useRef)(null),Y=(0,k.useRef)(null),ba=(0,k.useRef)(null);(0,k.useEffect)(function(){c.sorting&&V.current&&V.current.focus()},[V,c.sorting]);(0,k.useEffect)(function(){if(c.isEditing){var oa=Q.current;oa.focus();oa.select();oa.scrollIntoView({block:"center"})}},[c.isEditing]);(0,k.useEffect)(function(){X.current&&c.finishAdding&&setTimeout(function(){X.current.focus()},100)},[X,c.finishAdding]);(0,k.useEffect)(function(){Z.current&&c.finishEditing&&Z.current.focus()},
[Z,c.finishEditing]);var aa=function(){P(c.title);y(c)},W=function(){var oa=K.trim();c.title!==oa&&0<c.memberCount?N(!0):D(oa,c.path,0<c.title.length)},da=c.isEditing&&!L?"is-editing":"",ea=function(){0<c.memberCount?S(!0):C(c)},ja=function(){S(!1);ca.current.focus()},fa=function(){S(!1);C(c)},ha=c.memberCount?1===c.memberCount?n.inUseDeleteSingle:n.inUseDeletePlural.replace("${number}","".concat(c.memberCount)):"",la;T&&c.memberCount&&(la=(0,b.h)(u.default,{message:ha,confirmText:n.deleteCategory,
isRed:!0,onCancel:ja,onConfirm:fa}));T=c.memberCount?1===c.memberCount?v.default.substitute(n.inUseEditSingle,{category:c.title,newCategory:K}):v.default.substitute(n.inUseEditPlural,{number:c.memberCount,category:c.title,newCategory:K}):"";var ka=function(oa){return!!oa&&!oa.classList.contains("member-category-node__placeholder")&&!oa.classList.contains("member-category__add-sibling")};L&&c.memberCount&&(la=(0,b.h)(u.default,{message:T,confirmText:n.continue,onConfirm:function(){N(!1);D(K,c.path,
0<c.title.length)},onCancel:function(){N(!1);A(c)}}));T={__html:c.errorMessage};ja=(ja="rtl"===document.documentElement.dir)&&c.collapsed?"chevron-left":!ja&&c.collapsed?"chevron-right":"chevron-down";fa=(0,h.getCategoryLevel)(c.path);ha=3<=fa;var ia=0<(null===(q=c.categories)||void 0===q?void 0:q.length)||3>(0,h.getCategoryLevel)(c.path);q="".concat(L?K:c.title).concat(c.memberCount?" (".concat(c.memberCount,")"):"");var ma=n.reorderCategory,na=n.reorderUnderParent,pa=n.saveCategory;L=n.cancelCreateCategory;
var sa=n.cancelEditCategory,ta=a.__assign({title:c.title},t&&{parentTitle:t});t=f.default.substitute(ta,t?na:ma);pa=f.default.substitute(ta,pa);L=f.default.substitute(ta,c.title?sa:L);sa=null===z||void 0===z?void 0:z.some(function(oa){return oa===c.path||oa.includes("".concat(c.path,"/"))});ta=x?n.adminDefaultCategory:n.nonAdminDefaultCategory;return(0,b.h)("li",{ref:O,class:"member-category ".concat(c.collapsed?"":"is-open"," ").concat(d?"is-parent":""," ").concat(c.hidden?"hide":""," ").concat(da,
" member-category--level-").concat(fa," js-member-category-node"),"data-title":c.title,"data-path":c.path,"data-data":JSON.stringify(c)},(0,b.h)("span",{class:"member-category-edit-item"},(0,b.h)("div",{class:"flex flex-align-center member-category-edit-item__info ".concat(c.sorting?"member-category-edit-item__info--sorting":"")},(0,b.h)("div",{ref:V,class:"category-edit-item__drag-handle flex-center ".concat(sa?"category-edit-item__drag-handle--disabled":""),tabIndex:sa?-1:0,onKeyDown:function(oa){var qa=
O.current;if(" "===oa.key||"Enter"===oa.key){var ua=!0;F(c,O.current)}else if("ArrowDown"===oa.key&&c.sorting)ka(qa.nextElementSibling)&&(ua=!0,qa.nextElementSibling.insertAdjacentElement("afterend",qa),qa=qa.parentElement,G(O.current,qa,qa));else if("ArrowUp"===oa.key&&c.sorting)ka(qa.previousElementSibling)&&(ua=!0,qa.parentElement.insertBefore(qa,qa.previousElementSibling),qa=qa.parentElement,G(O.current,qa,qa));else if("ArrowRight"===oa.key&&c.sorting){var ra=qa.previousElementSibling,va=qa.parentElement;
if(ka(ra)){ra=ra.querySelector(".member-categories-list");var za=(0,h.getCategoryLevel)(ra.dataset.path),Ca=(0,h.getDraggedLevel)(qa);3>=za+Ca&&ka(ra)&&!(0,h.isDuplicateTitle)(ra,qa)&&!ra.classList.contains("member-categories-list--deepest")&&(ua=!0,ra.appendChild(qa),G(O.current,ra,va))}}else"ArrowLeft"===oa.key&&c.sorting&&(va=qa.parentElement,ra=va.closest("li.member-category"),za=null===ra||void 0===ra?void 0:ra.parentElement,ka(ra)&&ka(za)&&!(0,h.isDuplicateTitle)(za,qa)&&"root-member-category-list"!==
ra.id&&(ra.insertAdjacentElement("afterend",qa),ua=!0,G(O.current,za,va)));ua&&oa.preventDefault()},onBlur:function(){c.sorting&&F(c,O.current)},"aria-label":t},(0,b.h)("calcite-icon",{class:"category-edit-item__drag-icon",icon:"drag",scale:"s"})),(0,b.h)("calcite-tooltip",{label:t,referenceElement:V.current},n.reorder),(0,b.h)("button",{ref:Y,class:"btn-link btn-link-darker-gray member-category__toggle-btn ".concat(ha?"hide":""),onClick:function(){d&&H(c.path)},"aria-label":"".concat(c.collapsed?
n.expand:n.collapse)},(0,b.h)("calcite-icon",{icon:ja,scale:"s"})),(0,b.h)("calcite-tooltip",{label:c.collapsed?n.expand:n.collapse,referenceElement:Y.current},c.collapsed?n.expand:n.collapse),(0,b.h)("div",{class:"member-category-edit-item__title"},q),(0,b.h)("div",{class:"flex-1"}),!sa&&(0,b.h)(b.Fragment,null,(0,b.h)("button",{class:"category-edit-item--action member-category-edit-item__edit-btn margin-right-1","aria-label":n.editCategory,onClick:aa,ref:Z},(0,b.h)("calcite-icon",{icon:"pencil",
scale:"s"})),(0,b.h)("calcite-tooltip",{label:n.editCategory,referenceElement:Z.current},n.editCategory),(0,b.h)("button",{ref:ca,class:"category-edit-item--action member-category-edit-item__delete-btn margin-right-1","aria-label":n.deleteCategory,onClick:ea},(0,b.h)("calcite-icon",{icon:"trash",scale:"s"})),(0,b.h)("calcite-tooltip",{label:n.deleteCategory,referenceElement:ca.current},n.deleteCategory)),sa&&(0,b.h)(b.Fragment,null,(0,b.h)("calcite-button",{ref:ba,appearance:"transparent",class:"flex-center default-category__warning margin-right-1 ".concat(sa?
"":"hide"),tabIndex:0,"aria-label":ta,onClick:function(){x&&g.default.publish("default-categories/open")}},(0,b.h)("calcite-icon",{scale:"s",icon:"exclamation-mark-triangle-f",class:"default-category__warning-icon"})),(0,b.h)("calcite-tooltip",{label:ta,referenceElement:ba.current},ta))),(0,b.h)("form",{class:"member-category-edit-item__form member-category__form flex",onSubmit:function(oa){return oa.preventDefault()}},(0,b.h)("label",{class:"flex-1 overflow-visible trailer-0",for:I},(0,b.h)("span",
{class:"screen-readers-only"},n.categoryName),(0,b.h)("input",{id:I,ref:Q,type:"text",value:K,class:"category-edit-form__input member-category__form-input ".concat(c.errorMessage?"input-error":""),onInput:function(oa){oa=oa.target.value;B(oa,c.path);P(oa)},onKeyDown:function(oa){"Enter"!==oa.key||c.saveDisabled||(oa.preventDefault(),W())},autoComplete:"off",maxLength:100}),(0,b.h)("div",{class:"input-error-message ".concat(c.errorMessage?"is-active":""),dangerouslySetInnerHTML:T})),(0,b.h)("span",
{class:"member-category-edit-item__form-actions"},(0,b.h)("button",{ref:J,class:"btn-link category-edit-form__action member-category-edit-item__form-action category-edit-form__action--green",type:"button","aria-label":pa,onClick:W,disabled:c.saveDisabled},(0,b.h)("calcite-icon",{icon:"check"})),(0,b.h)("calcite-tooltip",{label:pa,referenceElement:J.current},n.save),(0,b.h)("button",{ref:R,class:"btn-link category-edit-form__action member-category-edit-item__form-action",onClick:function(){w?Q.current.focus():
(A(c),Z.current.focus())},"aria-label":L,type:"button",disabled:w},(0,b.h)("calcite-icon",{icon:"x"})),(0,b.h)("calcite-tooltip",{label:L,referenceElement:R.current},n.cancel)))),la,(0,b.h)("div",{class:"category-editor-group category-editor-group--spaced member-category__spacer ".concat(c.collapsed?"hide":"")},(0,b.h)("ul",{id:"member-category-sub-list-".concat(c.path),class:"member-categories-list ".concat(ha?"member-categories-list--deepest":""),"data-path":"".concat(c.path)},ia&&(null===(l=c.categories)||
void 0===l?void 0:l.map(function(oa,qa){var ua=(0,h.getCategoryLevel)(c.path);return(0,b.h)(p,{key:"".concat(oa.path,"-").concat(qa),parentTitle:c.title,data:oa,isParent:3>ua,isEditing:!oa.title,defaultCategories:z,noCategoryYet:w,canAccessMemberDefaults:x,onChange:B,onSave:D,onEdit:y,onCancel:A,onDelete:C,onAddSubCategory:E,onCollapsedToggle:H,onPositionChange:G,onSortingToggle:F})})),(0,b.h)("li",{class:"member-category member-category-node__placeholder ".concat(ha?"member-category-node__placeholder--deepest":
"")},(0,b.h)("ul",{class:"category-editor-group category-editor-group--spaced member-category__sub-placeholder ".concat(ha||!c.title?"member-category__sub-placeholder--deepest":"")}))),c.title&&2>=(0,h.getCategoryLevel)(c.path)&&(0,b.h)(m.default,{parentTitle:c.title,buttonRef:X,onClick:function(){return E(c.path)}})),c.collapsed&&(0,b.h)("div",{class:"collapsed-member-category__placeholder"}))};M.default=p})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/AddCategoryButton":function(){define(["require",
"exports","tslib","preact","dojo/i18n!../../../../nls/arcgisonline"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(f){var m=f.level,h=f.onClick,u=f.disabled,r=f.buttonRef,e=f.parentTitle;f=k.default.contentCategories.addCat;e=e?k.default.memberCategories.modal.addSubUnderParent.replace("${parentTitle}",e):f;return(0,b.h)(b.Fragment,null,(0,b.h)("button",{ref:r,class:"member-category__add-sibling","aria-label":e,onClick:function(){return h(m)},
disabled:u},(0,b.h)("calcite-icon",{icon:"plus-circle"})),(0,b.h)("calcite-tooltip",{label:e,referenceElement:r.current},f))}})},"arcgisonline/pages/components/MemberCategories/helpers":function(){define(["require","exports","tslib","arcgisonline/pages/utils/categories","dojo/string"],function(U,M,a,b,k){function f(S){S=S.filter(function(L){return L.title}).map(function(L){return a.__assign({},L)});S.forEach(function(L){var N;if(null===(N=L.categories)||void 0===N?0:N.length)L.categories=f(L.categories)});
return S}function m(S,L,N){return N.map(function(O){var Q;return O.path===S?a.__assign(a.__assign({},O),{finishAdding:L}):(null===(Q=O.categories)||void 0===Q?0:Q.length)?a.__assign(a.__assign({},O),{finishAdding:!1,categories:m(S,L,O.categories)}):a.__assign(a.__assign({},O),{finishAdding:!1})})}function h(S,L,N){return N.map(function(O){var Q;return O.path===S?a.__assign(a.__assign({},O),{finishEditing:L,errorMessage:""}):(null===(Q=O.categories)||void 0===Q?0:Q.length)?a.__assign(a.__assign({},
O),{finishEditing:!1,errorMessage:"",categories:h(S,L,O.categories)}):a.__assign(a.__assign({},O),{finishEditing:!1,errorMessage:""})})}function u(S){return S.map(function(L){var N;L=a.__assign(a.__assign({},L),{finishAdding:!1,finishEditing:!1});if(null===(N=L.categories)||void 0===N?0:N.length)L=a.__assign(a.__assign({},L),{categories:u(L.categories)});return L})}function r(S,L,N,O){void 0===O&&(O=!1);N=N.map(function(Q){var V;if(Q.path&&Q.path===S&&!O)return O=!0,a.__assign(a.__assign({},Q),{isEditing:L,
saveDisabled:!0});(null===(V=Q.categories)||void 0===V?0:V.length)&&!O&&(Q.categories=r(S,L,Q.categories,O));return a.__assign({},Q)});return a.__spreadArray([],N,!0)}function e(S,L,N){return N.map(function(O){var Q=a.__spreadArray([],O.categories||[],!0);Q.length&&(Q=e(S,L,Q));return O.path&&O.path===S?a.__assign(a.__assign({},O),{sorting:L,categories:Q}):a.__assign(a.__assign({},O),{sorting:!1,categories:Q})})}function v(S){return S.categories.map(function(L){var N;if(null===(N=L.categories)||void 0===
N?0:N.length)L.categories=v(L);return a.__assign(a.__assign({},L),{selected:!1,indeterminate:!1})})}function g(S){var L;return!(null===(L=S.categories)||void 0===L||!L.length)&&S.categories.some(function(N){var O;return N.selected||N.indeterminate||!(null===(O=N.categories)||void 0===O||!O.length)&&g(N)})}function p(S,L){return L.map(function(N){var O;N=a.__assign({},N);if(null===(O=N.categories)||void 0===O?0:O.length)N.categories=p(S,N.categories);-1<S.indexOf(N.path)&&(N.selected=g(N));return N})}
function n(S,L,N,O){void 0===N&&(N=!1);void 0===O&&(O=[]);var Q=!S.selected;return L.map(function(V){var X,Z;if(V.path&&V.path===S.path&&!N)return N=!0,!Q&&(null===(X=V.categories)||void 0===X?0:X.length)&&(V.categories=v(V)),Q?a.__assign(a.__assign({},V),{selected:Q,indeterminate:!1}):a.__assign(a.__assign({},V),{selected:Q});(null===(Z=V.categories)||void 0===Z?0:Z.length)&&!N&&(-1<S.path.indexOf(V.path)&&V.path!==M.rootTitle&&(V=a.__assign(a.__assign({},V),{selected:Q}),Q?V.indeterminate=!1:O.push(V.path)),
V.categories=n(S,V.categories,N,O));return a.__assign({},V)})}function q(S){return-1<S.indexOf(M.rootTitle)?S:"".concat(M.rootTitle).concat(S)}function l(S,L){void 0===L&&(L=[]);S.forEach(function(N){var O;if(N.selected||N.indeterminate)null!==(O=N.categories)&&void 0!==O&&O.some(function(Q){return Q.selected||Q.indeterminate})?l(N.categories,L):N.selected&&L.push(N.path)});return L}function c(S,L){void 0===L&&(L=[]);S.forEach(function(N){var O;N.indeterminate&&L.push(N.path);(null===(O=N.categories)||
void 0===O?0:O.length)&&c(N.categories,L)});return L}function d(S,L){var N=b.default.getSchemaOrder(L);return a.__spreadArray([],S,!0).sort(function(O,Q){return N[O]-N[Q]})}function w(S,L){return L.map(function(N){var O,Q=S.filter(function(V){var X;return null===(X=V.categories)||void 0===X?void 0:X.some(function(Z){var ca;return q(Z)===N.path||(null===(ca=N.categories)||void 0===ca?void 0:ca.length)&&-1<q(Z).indexOf(N.path)})});Q.length?Q.length===S.length?N=a.__assign(a.__assign({},N),{selected:!0,
indeterminate:!1}):Q.length<S.length&&(N=a.__assign(a.__assign({},N),{selected:!1,indeterminate:!0})):N=a.__assign(a.__assign({},N),{selected:!1,indeterminate:!1});if(null===(O=N.categories)||void 0===O?0:O.length)N.categories=w(S,N.categories);return a.__assign({},N)})}function t(S){return S.map(function(L){var N,O={title:L.title};if(null===(N=L.categories)||void 0===N?0:N.length)O.categories=t(L.categories);return O})}function z(S,L){void 0===L&&(L="");return S.map(function(N){var O,Q="".concat(L?
"".concat(L,"/"):"/").concat(N.title);return{title:N.title,path:Q,categories:(null===(O=N.categories)||void 0===O?0:O.length)?z(N.categories,Q):[]}})}function x(S,L){return L?S.map(function(N){var O,Q=a.__assign({},N);N=N.path.toLowerCase();Q.memberCount=L[N]||0;if(null===(O=Q.categories)||void 0===O?0:O.length)Q.categories=x(Q.categories,L);return Q}):S}function y(S,L){void 0===L&&(L=1);return(S=S.querySelector(":scope \x3e .category-editor-group \x3e .member-categories-list \x3e .js-member-category-node"))?
(L++,y(S,L)):L}function A(S,L){return L.map(function(N){if(N.path===S){var O={title:"",categories:[],isEditing:!0,path:"".concat(N.path,"/"),saveDisabled:!0};return a.__assign(a.__assign({},N),{categories:a.__spreadArray(a.__spreadArray([],N.categories,!0),[O],!1)})}return-1<S.indexOf(N.path)&&(null===(O=N.categories)||void 0===O?0:O.length)?a.__assign(a.__assign({},N),{categories:A(S,N.categories)}):a.__assign({},N)})}function B(S,L){return L.map(function(N){var O;if(S===N.path)return a.__assign(a.__assign({},
N),{collapsed:!N.collapsed});if(null===(O=N.categories)||void 0===O?0:O.length)N.categories=B(S,N.categories);return a.__assign({},N)})}function D(S,L){return S.map(function(N){var O;if(null===(O=N.categories)||void 0===O?0:O.length)N.categories=D(N.categories,L);return a.__assign(a.__assign({},N),{collapsed:L})})}function C(S){return S.every(function(L){var N,O=!0;if(null===(N=L.categories)||void 0===N?0:N.length)O=C(L.categories);return O&&(L.collapsed||"/Categories"===L.path)})}function E(S,L){var N=
S.substring(0,S.lastIndexOf("/")),O=[];L.some(function(Q){if(Q.path===N)return O=Q.categories.filter(function(V){return V.path!==S}),!0;if(-1<S.indexOf("".concat(Q.path,"/")))return O=E(S,Q.categories),!0});return O}function H(S){return S.substring(0,S.lastIndexOf("/"))}function G(S,L,N){return N.map(function(O){var Q;O.path===S?O.categories=O.categories.filter(function(V){return V.path!==L}):-1<L.indexOf(O.path)&&(null===(Q=O.categories)||void 0===Q?0:Q.length)&&(O.categories=G(S,L,O.categories));
return a.__assign({},O)})}function F(S,L,N){var O=S.substring(0,S.lastIndexOf("/"));return N.map(function(Q){var V;Q.path===O?Q.categories=L:-1<S.indexOf(O)&&(null===(V=Q.categories)||void 0===V?0:V.length)&&(Q.categories=F(S,L,Q.categories));return a.__assign({},Q)})}function I(S,L){var N=H(S);L.some(function(O){if(O.path===N)return O.categories=O.categories.filter(function(Q){return Q.path!==S}),!0;if(-1<S.indexOf("".concat(O.path,"/")))return O.categories=I(S,O.categories),!0});return a.__spreadArray([],
L,!0)}function J(S,L){return L.map(function(N){var O;if(null===(O=N.categories)||void 0===O?0:O.length)N.categories=J(S,N.categories);return a.__assign(a.__assign({},N),{searchTerm:S,hidden:!P(S,N)})})}function K(S,L){return L.map(function(N){return a.__assign(a.__assign({},N),{categories:a.__spreadArray([],N.categories||[],!0)})}).filter(function(N){var O,Q,V=-1<N.path.search(new RegExp(S,"i"));if(null===(O=N.categories)||void 0===O?0:O.length)N.categories=K(S,N.categories);return V||0<(null===(Q=
N.categories)||void 0===Q?void 0:Q.length)})}function P(S,L){var N;return-1<L.title.search(new RegExp(S,"i"))||!S?!0:(null===(N=L.categories)||void 0===N?0:N.length)?L.categories.some(function(O){return P(S,O)}):!1}function T(S,L){void 0===L&&(L=0);S.forEach(function(N){var O;"/Categories"!==N.path&&L++;if(null===(O=N.categories)||void 0===O?0:O.length)L=T(N.categories,L)});return L}Object.defineProperty(M,"__esModule",{value:!0});M.getCategoryCount=M.matchSearchTerm=M.filterCategoriesBySearchTerm=
M.searchCategories=M.removeCategory=M.reorderCategories=M.removeCategoryFromSrc=M.getParentPath=M.getSiblings=M.isAllCollapsed=M.setCollapsedAll=M.toggleCollapsed=M.removeCategoriesFromMembers=M.updateCategorizedMembers=M.addCategory=M.getDraggedLevel=M.isDuplicateTitle=M.getCategoryLevel=M.updateMemberCount=M.convertToCategoryData=M.removeExtraProperties=M.updateSelectedFromMembers=M.updateMembersFromSelected=M.sortCategoryPaths=M.getPartialPath=M.getFullPath=M.toggleSelected=M.fixDeselectedParents=
M.getNodePositionText=M.toggleSorting=M.updateIsEditing=M.clearEditOrAddProperties=M.updateFinishEditing=M.updateFinishAdding=M.removeEmptyCategories=M.rootTitle=void 0;b=a.__importDefault(b);k=a.__importDefault(k);M.rootTitle="/Categories";M.removeEmptyCategories=f;M.updateFinishAdding=m;M.updateFinishEditing=h;M.clearEditOrAddProperties=u;M.updateIsEditing=r;M.toggleSorting=e;M.getNodePositionText=function(S,L){var N=Array.from(S.parentElement.children).filter(function(Q){return!Q.classList.contains("member-category-node__placeholder")&&
!Q.classList.contains("member-category__add-sibling")}),O=N.length;N=N.findIndex(function(Q){return Q===S})+1;return k.default.substitute(L,{n:N,total:O})};M.fixDeselectedParents=p;M.toggleSelected=n;M.getFullPath=q;M.getPartialPath=function(S){var L=new RegExp("".concat(M.rootTitle,"/"));return S.replace(L,"/")};M.sortCategoryPaths=d;M.updateMembersFromSelected=function(S,L){var N=l(L[0].categories),O=c(L[0].categories);return S.map(function(Q){Q.categories||(Q.categories=[]);Q.categories=Q.categories.filter(function(V){return-1<
N.indexOf(V)||-1<O.indexOf(V)});N.forEach(function(V){var X=Q.categories.some(function(Z){return-1<Z.indexOf(V)});-1!==Q.categories.indexOf(V)||X||Q.categories.push(V)});return a.__assign(a.__assign({},Q),{categories:d(Q.categories,L)})})};M.updateSelectedFromMembers=w;M.removeExtraProperties=t;M.convertToCategoryData=z;M.updateMemberCount=x;M.getCategoryLevel=function(S){return S.match(/\//g).length-1};M.isDuplicateTitle=function(S,L){var N=L.dataset.title,O=!1;S.querySelectorAll(":scope \x3e li.member-category:not(.gu-transit)").forEach(function(Q){Q.dataset.title===
N&&(O=!0)});return O};M.getDraggedLevel=y;M.addCategory=A;M.updateCategorizedMembers=function(S,L,N){Object.keys(S).forEach(function(O){var Q=[];S[O].map(function(V){return V.replace(L,N)}).forEach(function(V){if(!Q.find(function(Z){return-1<Z.indexOf(V)})){var X=Q.findIndex(function(Z){return-1<V.indexOf(Z)});-1<X?Q.splice(X,1,V):Q.push(V)}});S[O]=Q});return a.__assign({},S)};M.removeCategoriesFromMembers=function(S,L){Object.keys(S).forEach(function(N){S[N]=S[N].filter(function(O){O=q(O);return O!==
L&&-1===O.indexOf(L)})});return a.__assign({},S)};M.toggleCollapsed=B;M.setCollapsedAll=D;M.isAllCollapsed=C;M.getSiblings=E;M.getParentPath=H;M.removeCategoryFromSrc=G;M.reorderCategories=F;M.removeCategory=I;M.searchCategories=J;M.filterCategoriesBySearchTerm=K;M.matchSearchTerm=P;M.getCategoryCount=T})},"arcgisonline/pages/components/MemberCategories/MemberCategoriesModal/CategoryConfirm":function(){define("require exports tslib preact preact/hooks preact/compat dojo/i18n!../../../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});m=a.__importDefault(m);M.default=function(h){var u=h.message,r=h.confirmText,e=h.isRed,v=h.onConfirm,g=h.onCancel;h=a.__assign(a.__assign({},m.default.common),m.default.contentCategories);var p=(0,k.useState)(!1),n=p[0],q=p[1],l=(0,k.useRef)(null),c=(0,k.useRef)(null);(0,k.useEffect)(function(){l.current&&q(!0)},[l.current]);(0,k.useEffect)(function(){c.current&&c.current.setFocus()},[c]);return(0,b.h)(b.Fragment,null,(0,f.createPortal)((0,b.h)("calcite-modal",
{role:"dialog","aria-modal":"true","aria-labelledby":"member-category-confirm",ref:l,open:n,oncalciteModalClose:function(){return g()}},(0,b.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"member-category-confirm"},h.categoryInUse),(0,b.h)("div",{slot:"content"},(0,b.h)("p",{class:"font-size--1 trailer-half"},u)),(0,b.h)("calcite-button",{slot:"secondary",width:"full",appearance:"outline",kind:"brand",onClick:function(){return g()}},h.cancel),(0,b.h)("calcite-button",{ref:c,slot:"primary",
width:"full",kind:e?"danger":"brand",appearance:"solid",onClick:function(){return v()}},r)),document.body))}})},"arcgisonline/pages/components/MemberCategories/api":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/pageUtil".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});M.getMemberCategoriesCount=M.saveCategorizedMembers=M.searchUsersWithCategory=M.deleteMemberCategoriesSchema=M.getMemberCategories=
M.saveMemberCategories=void 0;b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);var m="".concat(b.default.restBaseUrl,"portals/self");M.saveMemberCategories=function(h){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),u={memberCategorySchema:h},[4,k.default.request({url:"".concat(m,"/assignMemberCategorySchema"),content:{memberCategorySchema:JSON.stringify(u)}},{usePost:!0})];case 1:return r.sent(),
[2,!0];case 2:return r.sent(),[2,!1];case 3:return[2]}})})};M.getMemberCategories=function(){return a.__awaiter(this,void 0,void 0,function(){var h;return a.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,k.default.request({url:"".concat(m,"/memberCategorySchema")})];case 1:return h=u.sent(),[2,(null===h||void 0===h?void 0:h.memberCategorySchema)||[]];case 2:return u.sent(),[2,[]];case 3:return[2]}})})};M.deleteMemberCategoriesSchema=function(){return a.__awaiter(this,
void 0,void 0,function(){return a.__generator(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,k.default.request({url:"".concat(b.default.restBaseUrl,"portals/self/deleteMemberCategorySchema")},{usePost:!0})];case 1:return h.sent(),[2,!0];case 2:return h.sent(),[2,!1];case 3:return[2]}})})};M.searchUsersWithCategory=function(h){return a.__awaiter(this,void 0,void 0,function(){var u,r;return a.__generator(this,function(e){switch(e.label){case 0:u={},e.label=1;case 1:return e.trys.push([1,
3,,4]),[4,f.default.fetchAllResources("".concat(m,"/users/search"),{categories:h})];case 2:return r=e.sent(),(null===r||void 0===r?0:r.length)&&r.forEach(function(v){u[v.username]=v.categories}),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,u]}})})};M.saveCategorizedMembers=function(h){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Promise.all(Object.keys(h).map(function(r){return k.default.request({url:"".concat(b.default.restBaseUrl,
"community/users/").concat(r,"/update"),content:{categories:JSON.stringify(h[r])}},{usePost:!0})}))];case 1:return u.sent(),[2,!0];case 2:return u.sent(),[2,!1];case 3:return[2]}})})};M.getMemberCategoriesCount=function(h,u){return a.__awaiter(this,void 0,void 0,function(){var r,e,v,g;return a.__generator(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,k.default.request({url:"".concat(m,"/users/search"),content:{q:"orgid:".concat(h.id," ").concat(u?"group:".concat(u):""),countFields:"categories",
countSize:200,num:0}})];case 1:return r=p.sent(),e=(null===(g=null===(v=null===r||void 0===r?void 0:r.aggregations)||void 0===v?void 0:v.counts[0])||void 0===g?void 0:g.fieldValues)||[],[2,e.reduce(function(n,q){"/categories"!==q.value&&(n[q.value]=q.count);return n},{})];case 2:return p.sent(),[3,3];case 3:return[2]}})})}})},"arcgisonline/pages/utils/timeout":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M.timeout=void 0;M.timeout=function(a){return new Promise(function(b){return setTimeout(b,
a)})}})},"arcgisonline/pages/dijit/SelectedMembers":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/query dojo/topic dojo/text!./SelectedMembers/templates/SelectedMembers.html dojo/i18n!../../nls/arcgisonline dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase ../utils/culture ../utils/dom ../utils/a11y ./AssignLicenses/MembersSelectedSection ./AssignLicenses/MembersSelectedRow ../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,
n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.templateString=h.default;this.i18n=u.default;this.floated=!0;this.buttonClasses="";this.allowRemovingAll=!1;
this.topic="";this._membersSectionsMap={};this._directionClass="right";this._sectionsClass="";this._rows=[]}d.prototype.postMixInProperties=function(){this.inherited(arguments);this._directionClass=this.alignLeft?"left":"right";this._sectionsClass=this.showSections?"":"max-height";this.floated||(this._directionClass="")};d.prototype.postCreate=function(){this.inherited(arguments);this._render();b.default.dropdown();this._addListeners()};d.prototype.update=function(w){var t=this;this._updateDelay&&
clearTimeout(this._updateDelay);this._updateDelay=window.setTimeout(function(){t.members=w;r.default.empty(t._selectedMembersPanel);Object.keys(t._membersSectionsMap).forEach(function(z){t._membersSectionsMap[z].section.destroy()});t._membersSectionsMap={};t._render()},10)};d.prototype.remove=function(w){var t=this;this.members=this.members.filter(function(z,x){var y;z.id===w.id&&(null===(y=t._rows[x])||void 0===y?void 0:y.destroy(),t._rows=t._rows.splice(x,1));return z.id!==w.id});this._updateMembersSelectedLabel()};
d.prototype.add=function(w){this.members.push(w);w=new l.default({member:w,topic:this.topic});this._selectedMembersPanel.appendChild(w.domNode);this._rows.push(w);this._updateMembersSelectedLabel()};d.prototype._render=function(){var w=this;this._updateMembersSelectedLabel();this.showSections?(this.members.forEach(function(t){var z=w._membersSectionsMap[t.licenseType.id];z?z.members.push(t):w._membersSectionsMap[t.licenseType.id]={licenseType:t.licenseType,members:[t]}}),Object.keys(this._membersSectionsMap).forEach(function(t){var z=
new q.default(w._membersSectionsMap[t]);w._selectedMembersPanel.appendChild(z.domNode);w._membersSectionsMap[t].section=z})):(this._rows.forEach(function(t){return t.destroy()}),this.members.forEach(function(t){t=new l.default({member:t,topic:w.topic});w._selectedMembersPanel.appendChild(t.domNode);w._rows.push(t)}));this._adjustRemoveVisibility()};d.prototype._addListeners=function(){var w=this;this.own(m.default.subscribe("".concat(this.topic,"selected-members-row/remove"),this._onMembersRemove.bind(this)),
(0,k.default)(this.toggleBtn,"click",function(){var t;w.domNode.classList.contains("is-active")&&(null===(t=w.telemetry)||void 0===t?void 0:t.logEvent({category:"Selection dropdown",action:"Show"}))}))};d.prototype._onMembersRemove=function(w){var t;null===(t=this.telemetry)||void 0===t?void 0:t.logEvent({category:"Selection dropdown",action:"Remove"});if(1<this.members.length&&!this.emitViewEvents){var z;this.members.forEach(function(x,y){x===w&&(z=y)});this.members.splice(z,1);this._membersSectionsMap[w.licenseType.id]?
this._membersSectionsMap[w.licenseType.id].section.removeMember(w):this._rows.forEach(function(x){x.member===w&&x.destroy()});this._updateMembersSelectedLabel();this._adjustRemoveVisibility();m.default.publish("".concat(this.topic,"selected-members/remove"))}else m.default.publish("".concat(this.topic,"view/items/deselect"),w)};d.prototype._updateMembersSelectedLabel=function(){var w=g.default.getString(this.i18n.myOrganization.manageLicenses.membersSelected,this.members.length);this._membersSelectedLabel.textContent=
w;n.default.postToLiveRegion(w)};d.prototype._adjustRemoveVisibility=function(){1!==this.members.length||this.allowRemovingAll?p.default.showNodes((0,f.default)(".member-selected-row__close-btn",this.domNode)):p.default.hideNodes((0,f.default)(".member-selected-row__close-btn",this.domNode))};return d=a.__decorate([(0,c.default)(v.default,e.default)],d)}()})},"arcgisonline/pages/dijit/AssignLicenses/MembersSelectedSection":function(){define("require exports tslib ./MembersSelectedRow ../../../tsutils/declareDecorator dojo/string dojo/text!./templates/MembersSelectedSection.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=m.default;this.i18n=h.default;this._rows=[]}e.prototype.postCreate=function(){var v=this;this.inherited(arguments);this._licenseTypesLabel.textContent=f.default.substitute(this.i18n.myOrganization.manageLicenses.havingLicenseTypes,{licenseTypeName:this.licenseType.name});
this.members.forEach(function(g){g=new b.default({member:g});v._list.appendChild(g.domNode);v._rows.push(g)})};e.prototype.removeMember=function(v){this._rows.forEach(function(g){g.member===v&&g.destroy()});this._rows=this._rows.filter(function(g){return g.member!==v});0===this._rows.length&&this.destroy()};return e=a.__decorate([(0,k.default)(r.default,u.default)],e)}()})},"arcgisonline/pages/dijit/AssignLicenses/MembersSelectedRow":function(){define("require exports tslib dojo/topic dojo/text!./templates/MembersSelectedRow.html dijit/_TemplatedMixin dijit/_WidgetBase ../MemberThumb dojo/i18n!../../../nls/arcgisonline ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.i18n=u.default;this.templateString=k.default;this.topic=""}e.prototype.postCreate=function(){this.inherited(arguments);this._memberThumb=new h.default({member:this.member,cssClasses:"margin-right-1",scale:"m"},this._memberThumb);this._removeBtn.addEventListener("click",this._onRemoveClick.bind(this));
this.nameEl.id="".concat(this.id,"-name-el");this._removeBtn.id="".concat(this.id,"-remove-btn");this._removeBtn.setAttribute("aria-labelledby","".concat(this._removeBtn.id," ").concat(this.nameEl.id))};e.prototype._onRemoveClick=function(v){v.stopPropagation();b.default.publish("".concat(this.topic,"selected-members-row/remove"),this.member)};return e=a.__decorate([(0,r.default)(m.default,f.default)],e)}()})},"arcgisonline/pages/components/Collaborations/collab-service":function(){define("require exports tslib dojo/Deferred arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/organizationResources arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h){var u=this;Object.defineProperty(M,"__esModule",{value:!0});b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);var r="".concat(h.default.restBaseUrl,"portals/self"),e="".concat(r,"/trustedOrgs"),v=function(p,n){return k.default.request({url:"".concat(e,"/").concat(p,"/update"),content:a.__assign({orgId:p},n)},{usePost:!0})},g="".concat(h.default.restBaseUrl,"portals/self/contacts");M.default={add:function(p){return k.default.request({url:"".concat(r,
"/addTrustedOrg"),content:p},{usePost:!0})},update:v,suspend:function(p){return v(p,{state:"suspended"})},resume:function(p){return v(p,{state:"active"})},remove:function(p,n){return k.default.request({url:"".concat(e,"/").concat(p,"/delete"),content:{message:n,async:!0}},{usePost:!0})},getCollaborations:function(p){void 0===p&&(p=!1);var n=new b.default;p=a.__assign({num:100},p&&{hub:!1});k.default.request({url:e,content:p}).then(function(q){n.resolve(q)},function(){n.resolve({trustedOrgs:[]})});
return n},getCoordinators:function(p){var n=new b.default;k.default.request({url:g,content:{type:"collaboration",num:100,collaborators:!p}}).then(function(q){n.resolve(q)},function(){n.resolve()});return n},getAllCoordinators:function(){var p=new b.default;f.default.fetchAllResources(g,{type:"collaboration",collaborators:!0},"users").then(function(n){p.resolve(n)},function(){p.resolve([])});return p},getCoordinatorsByOrg:function(p){return k.default.request({url:g,content:{type:"collaboration",orgId:p}})},
getGroupUserCount:function(p,n){return k.default.request({url:"".concat(h.default.restBaseUrl,"community/users"),content:{q:"".concat(n||""),searchUserAccess:"groupMember",groups:p,countFields:"accountid",num:0,countSize:200}}).then(function(q){return q},function(){})},getCollabGroups:function(p,n){return k.default.request({url:"".concat(h.default.restBaseUrl,"community/groups"),content:{q:"orgid:".concat(p.id," memberorgids:").concat(n)}})},getEndedCollabs:function(){var p=new b.default;m.default.fetch("ended_collaborations.json").then(function(n){p.resolve(n||
[])},function(){p.resolve([])});return p},getCollaborationLimit:function(){var p=new b.default;k.default.request({url:"".concat(r,"/limits"),content:{limitsType:"Collaboration",limitName:"MaxTrustedOrgs"}}).then(function(n){var q;p.resolve(null!==(q=null===n||void 0===n?void 0:n.limitValue)&&void 0!==q?q:10)},function(){p.resolve(10)});return p},getCollaborationByOrgId:function(p){return a.__awaiter(u,void 0,void 0,function(){var n;return a.__generator(this,function(q){switch(q.label){case 0:return q.trys.push([0,
2,,3]),[4,k.default.request({url:"".concat(e,"/").concat(p)})];case 1:return n=q.sent(),[2,n];case 2:return q.sent(),[2,void 0];case 3:return[2]}})})},updateEndedCollabs:function(p){return m.default.add({key:"ended_collaborations.json",text:JSON.stringify(p)})}}})},"arcgisonline/pages/utils/organizationResources":function(){define("require exports tslib ../../esriGeowConfig ./resources ../../sharing/util".split(" "),function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
return function(){function m(){}m.fetchAll=function(){var h="".concat(b.default.restBaseUrl,"portals/self/resources");return k.default.fetchAllResources(h,{},"resources")};m.fetchPage=function(h,u){void 0===h&&(h=1);void 0===u&&(u=100);u=100<u?100:u;var r="".concat(b.default.restBaseUrl,"portals/self/resources");return f.default.request({url:r,content:{start:h,num:u}})};m.fetch=function(h){h="".concat(b.default.restBaseUrl,"portals/self/resources/").concat(h);return f.default.request({url:h})};m.add=
function(h){var u="".concat(b.default.restBaseUrl,"portals/self/addResource"),r=!h.key;h=a.__assign(a.__assign({url:u},r&&{form:h}),!r&&{content:h});return f.default.request(h,{usePost:!0})};m.remove=function(h){var u="".concat(b.default.restBaseUrl,"portals/self/removeResource");return f.default.request({url:u,content:{key:h}},{usePost:!0})};return m}()})},"arcgisonline/pages/dijit/MemberBrowser/MemberBrowserRow":function(){define("require exports tslib dojo/Deferred dojo/Evented dojo/on dojo/topic dojo/text!./templates/MemberBrowserRow.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../MemberThumb ../Checkbox ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(){this.templateString=h.default;this.i18n=u.default;this.rowSelectLabel=u.default.myOrganization.membersTab.selectMember;this.disabledText="";this._topicPrefix="MEMBER_BROWSER/"}n.prototype.postMixInProperties=
function(){this.inherited(arguments);this._activeClass=this.selected?"is-active":""};n.prototype.startup=function(){return this._initUI()};n.prototype.destroy=function(){this.inherited(arguments)};n.prototype._initUI=function(){var q=this,l;this._createMemberThumbnail();this._memberCheckbox=new g.default({selectLabel:u.default.myOrganization.membersTab.selectMember,deselectLabel:u.default.myOrganization.membersTab.deselectMember,labelClass:"trailer-0",hideLabel:!0,modifiers:["white"],isChecked:this.selected},
this.domNode.querySelector(".js-member-browser-row-checkbox"));null===(l=this._memberCheckbox.domNode.querySelector(".checkbox-custom-input"))||void 0===l?void 0:l.setAttribute("aria-label",this.member.fullName||this.member.username);this.own((0,f.default)(this._memberCheckbox,"change",function(c){q[c?"select":"deselect"]()}),(0,f.default)(this.domNode,"click",function(){return q.toggleSelected()}),(0,f.default)(this.domNode,"mouseover",function(c){return!q.disabled&&q._memberCheckbox.hover()}),(0,f.default)(this.domNode,
"mouseout",function(c){return q._memberCheckbox.blur()}),m.default.subscribe("".concat(this._topicPrefix,"view/items/deselect"),function(c){(null===c||void 0===c?void 0:c.username)===q.member.username&&(q.deselect(),q._memberCheckbox.setChecked(q.selected,!0))}));this.disabled&&this.disable(this.disabledText);return(new b.default).resolve()};n.prototype._createMemberThumbnail=function(){this._memberThumb=new v.default({member:this.member,showName:!0},this.domNode.querySelector(".js-member-browser-row-thumbnail"))};
n.prototype.toggleSelected=function(q){this.selected?this.deselect(q):this.select(q);this._memberCheckbox.setChecked(this.selected,!0)};n.prototype.isSelected=function(){return this.selected};n.prototype.disable=function(q){this.domNode.classList.add("member-browser-row--disabled");this._memberCheckbox.disable();this.disabled=!0;q&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",q))};n.prototype.enable=function(){this.domNode.classList.remove("member-browser-row--disabled");
this._memberCheckbox.enable();this.disabled=!1;this.domNode.classList.remove("tooltip");this.domNode.removeAttribute("aria-label")};n.prototype.select=function(q){this.disabled||(this.selected=!0,this.domNode.classList.add("is-active"),q||this.emit("select",this.member));return this.member};n.prototype.deselect=function(q){this.selected=!1;this.domNode.classList.remove("is-active");q||this.emit("deselect",this.member)};return n=a.__decorate([(0,p.default)(e.default,r.default,k.default)],n)}()})},
"arcgisonline/pages/dijit/Checkbox":function(){define("require exports tslib dojo/text!./Checkbox/templates/Checkbox.html dojo/i18n!../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid ../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,
g){this.templateString=b.default;this.i18n=k.default;this.disabled=this.isMixed=this.isChecked=!1;this.labelClass=this.selectLabel=this.deselectLabel=this.label="";this.modifiers=[];this._modifierClasses=this._checked=""}e.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=(0,u.default)();this._checked=this.isChecked?"checked":"";this.hideLabelClass=this.hideLabel?"visually-hidden":"";this._modifierClasses=this.modifiers.map(function(v){return"checkbox-custom--".concat(v)}).join(" ")};
e.prototype.postCreate=function(){this.inherited(arguments);this.isChecked&&(this._checkbox.checked=this.isChecked);this.disabled&&this.disable();this.isMixed&&(this._checkbox.indeterminate=!0);this.tooltip&&this.domNode.classList.add("tooltip");this._checkbox.addEventListener("change",this.clickHandler.bind(this));this.domNode.addEventListener("click",function(v){return v.stopPropagation()});this._setAriaLabel()};e.prototype.getChecked=function(){return this._checkbox.checked};e.prototype.setChecked=
function(v,g){this._checkbox.checked=v;this._setAriaLabel();g||this.emit("change",this._checkbox.checked)};e.prototype.enable=function(v){this._checkbox.removeAttribute("disabled");this.domNode.classList.remove("checkbox-custom--disabled");this.domNode.classList.remove("tooltip");this.domNode.removeAttribute("aria-label")};e.prototype.disable=function(v){this._checkbox.setAttribute("disabled","true");this.domNode.classList.add("checkbox-custom--disabled");v&&(this.domNode.classList.add("tooltip"),
this.domNode.setAttribute("aria-label",v))};e.prototype.hover=function(){this._checkbox.classList.add("checkbox-custom--hover")};e.prototype.blur=function(){this._checkbox.classList.remove("checkbox-custom--hover")};e.prototype.clickHandler=function(v){this._setAriaLabel();this.emit("change",this._checkbox.checked)};e.prototype._setAriaLabel=function(){if(this.deselectLabel&&this.selectLabel){var v=this._checkbox.checked?this.deselectLabel:this.selectLabel;this.domNode.querySelector(".js-checkbox-label-text").innerHTML=
v}};return e=a.__decorate([(0,r.default)(h.default,m.default,f.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/AppLauncherCard":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/on dojo/string dojo/text!../templates/ItemUpdated.html ./SettingsCard ../rows/AppLauncherRow ../../../../utils/alerts ../../../../utils/dom ../../../../pageUtil ../../../../utils/arrays ../../../../dijit/Pagination ../AppOverlay ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.approvedApps=[];this.currentRows=[];this.itemChanges=
{};this.removeIndex=-1;this.MAX_NUMBER_OF_APPS=50;this.ROWS_PER_PAGE=20}w.prototype.postMixInProperties=function(){this.inherited(arguments);this.strings=this.i18n.generalTab.appLauncher};w.prototype.render=function(){var t=this;this._title.textContent=this.name;this._description.textContent=this.description;this.showHeaderBtn(this.i18n.common.add);this._headerBtn.id="add-app-btn";this.pagination=new n.default({start:1,num:this.ROWS_PER_PAGE,hideDropdown:!0});this.pagination.domNode.classList.remove("padding-leader-1");
this.pagination.domNode.classList.add("padding-trailer-1");this.getApprovedApps().then(function(z){t.approvedApps=z.approvedApps||[];0<t.approvedApps.length?t.queryAppItemsForChanges().then(function(x){var y;t.itemChanges=null!==(y=null===x||void 0===x?void 0:x.itemChanges)&&void 0!==y?y:{};t._content.classList.add("org-settings__app-launcher-content");t.pagination.render({total:t.approvedApps.length,start:1,nextStart:8<=t.approvedApps.length?8:-1});t.resetApps();t.renderPage(1)}):t.pagination.render({total:0,
start:1,nextStart:-1});t._headerBtn.disabled=t.approvedApps.length>=t.MAX_NUMBER_OF_APPS});this.domNode.appendChild(this.pagination.domNode)};w.prototype.addEventListeners=function(){this.inherited(arguments);this.own(k.default.subscribe("pagination/page",this.onPaginationPage.bind(this)),k.default.subscribe("appLauncher/app/updated",this.handleAppIconsUpdated.bind(this)))};w.prototype.handleBtnClick=function(){(new q.default({portal:this.portal,currentApps:this.approvedApps,opener:this._headerBtn})).open()};
w.prototype.resetApps=function(){var t=this;this.approvedApps.forEach(function(z){var x=t.itemChanges[z.itemId];z.hasChanged=x?x.hasChanged:0;z.canAccess=x?x.canAccess:1});this.sortApps()};w.prototype.sortApps=function(){this.approvedApps.sort(function(t,z){z=z.appProperties;t=t.appProperties.label.toLowerCase();z=z.label.toLowerCase();return t>z?1:t<z?-1:0})};w.prototype.handleAppIconsUpdated=function(t,z){var x=this;"string"===typeof t&&t&&this.getApprovedApps().then(function(y){x.approvedApps=
y.approvedApps||[];x.resetApps();if(x.approvedApps.length&&t){y=JSON.parse(z).label.toLowerCase();y=x.approvedApps.map(function(B){return B.appProperties.label.toLowerCase()}).indexOf(y);y=x.getPageNumber(y);var A=x.getPageStart(y);x.renderPage(A);x.pagination.render({total:x.approvedApps.length,start:A,nextStart:x.getNextStart(y)})}x._headerBtn.disabled=x.approvedApps.length>=x.MAX_NUMBER_OF_APPS})};w.prototype.onPaginationPage=function(t){this.renderPage(t.start)};w.prototype.renderPage=function(t){var z=
this;this.appRows=this.approvedApps.slice(t-1,t+(this.ROWS_PER_PAGE-1)).map(function(x){x=new r.default({app:x,portal:z.portal});z.own((0,f.default)(x,"remove",z.handleAppRemove.bind(z)),(0,f.default)(x,"edit",z.handleAppEdit.bind(z)));return x});this.clearRows();this.currentRows=this.appRows;v.default.appendChildren(this.appRows.map(function(x){return x.domNode}),this._content);b.default.dropdown()};w.prototype.handleAppEdit=function(t){var z=this,x=t.app,y=x.appProperties.label;x.canAccess?x.hasChanged?
(y=m.default.substitute(h.default,{i18n:this.strings,urlChanged:m.default.substitute(this.strings.urlChanged,{label:"\x3cstrong\x3e".concat(y,"\x3c/strong\x3e")}),newUrl:x.hasChanged,previousUrl:x.appProperties.url}),g.default.createConfirmationDialog({strings:{title:this.strings.reviewUrlChange,description:y,ok:this.strings.updateUrl,cancel:this.i18n.common.cancel},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){z.updateUrl(x).then(function(){z.openEditDlg(x,t)})}})):this.openEditDlg(x,
t):g.default.createConfirmationDialog({strings:{title:this.strings.appAccess,description:m.default.substitute(this.strings.noAccessToItem,{label:"\x3cstrong\x3e".concat(y,"\x3c/strong\x3e")})},hideCancel:!0,autoCloseOnOk:!0,renderHtmlDescription:!0})};w.prototype.openEditDlg=function(t,z){z=new q.default({portal:this.portal,currentApps:this.approvedApps,opener:z?z.actionsBtn:void 0});z.open();z.edit(t)};w.prototype.updateUrl=function(t){var z=this,x={itemId:t.itemId,appProperties:JSON.stringify(a.__assign(a.__assign({},
t.appProperties),{url:t.hasChanged}))};return this.updateApp(x).then(function(y){y.success&&(z.itemChanges[t.itemId]&&(z.itemChanges[t.itemId].hasChanged=0,z.itemChanges[t.itemId].canAccess=1),t.url=t.hasChanged,t.hasChanged=0,z.approvedApps.forEach(function(A){A.itemId===t.itemId&&(A.appProperties.url=t.hasChanged,A.hasChanged=0)}))})};w.prototype.updateApp=function(t){var z="".concat(this.restBaseUrl(),"portals/").concat(this.portal.id,"/addApprovedApp");return l.default.request({url:z,content:t},
{usePost:!0})};w.prototype.handleAppRemove=function(t){var z=this,x=t.app;g.default.createConfirmationDialog({strings:{title:this.i18n.common.remove,description:m.default.substitute(this.strings.removeConfirm,{label:x.appProperties.label}),ok:this.i18n.common.remove},okColor:"red",onOk:function(){z.removeIndex=p.default.findIndex(z.appRows,function(y){return y.id===t.id});z.proceedToDelete(x)}})};w.prototype.proceedToDelete=function(t){var z=this;this.deleteAppById(t.itemId).then(function(x){var y,
A;if(x.success){null===(y=z.telemetry)||void 0===y?void 0:y.logEvent({category:z.tab,label:"deleteApprovedApp",action:"Delete"});t.appProperties.icon&&z.deleteResource(t.appProperties.icon);x=-1;for(y=0;y<z.approvedApps.length;y++)if(z.approvedApps[y].itemId===t.itemId){z.approvedApps.splice(y,1);x=y;break}-1<x&&0<z.approvedApps.length?(x>z.approvedApps.length-1&&--x,x=z.getPageNumber(x),y=z.getPageStart(x),z.renderPage(y),0===z.appRows.length?z._headerBtn.focus():(z.removeIndex>z.appRows.length-
1&&(z.removeIndex=z.appRows.length-1),z.appRows.some(function(B,D){D===z.removeIndex&&B.actionsBtn.focus();return D===z.removeIndex})),z.pagination.render({total:z.approvedApps.length,start:y,nextStart:z.getNextStart(x)})):0===z.approvedApps.length&&(z.clearRows(),z.pagination.render({total:0,start:1,nextStart:-1}));e.default.showAlert("success",m.default.substitute(z.strings.removeSuccess,{label:t.appProperties.label}));k.default.publish("appLauncher/app/deleted",t.itemId,z.approvedApps)}else z.showDeleteError(t),
null===(A=z.telemetry)||void 0===A?void 0:A.logError({error:x})},function(x){var y;z.showDeleteError(t);null===(y=z.telemetry)||void 0===y?void 0:y.logError({error:x})})};w.prototype.clearRows=function(){0<this.currentRows.length&&this.currentRows.forEach(function(t){return t.destroy()});this._content.innerHTML=""};w.prototype.getPageNumber=function(t){return Math.ceil((t+1)/this.ROWS_PER_PAGE)||1};w.prototype.getPageStart=function(t){return(t-1)*this.ROWS_PER_PAGE+1};w.prototype.getNextStart=function(t){t=
t*this.ROWS_PER_PAGE+1;t>this.approvedApps.length&&(t=-1);return t};w.prototype.showDeleteError=function(t){e.default.showAlert("error",m.default.substitute(this.strings.removeError,{label:t.appProperties.label}))};w.prototype.deleteAppById=function(t){var z="".concat(this.restBaseUrl(),"portals/").concat(c.default.self.id,"/deleteApprovedApp");return l.default.request({url:z,content:{itemId:t}},{usePost:!0})};w.prototype.deleteResource=function(t){var z="".concat(this.restBaseUrl(),"portals/self/removeResource");
return l.default.request({url:z,content:{key:t}},{usePost:!0})};w.prototype.getApprovedApps=function(){var t="".concat(this.restBaseUrl(),"portals/").concat(this.portal.id,"/approvedApps");return l.default.request({url:t,content:{returnAllApps:!0}})};w.prototype.restBaseUrl=function(){return c.default.restBaseUrl.replace("http://","https://")};w.prototype.queryAppItemsForChanges=function(){var t={},z=this.approvedApps.map(function(x){t[x.itemId]=x.appProperties;return'"'.concat(x.itemId,'"')}).join(" OR ");
return l.default.request({url:"".concat(c.default.restBaseUrl,"search"),content:{q:"id:(".concat(z,")"),num:100}}).then(function(x){if(x.results&&0<x.results.length)return x.results.forEach(function(y){var A=t[y.id];A.canAccess=1;A.hasChanged=A.url!==y.url?y.url:0}),{success:!0,itemChanges:t}})};return w=a.__decorate([(0,d.default)(u.default)],w)}()})},"arcgisonline/pages/organization/widgets/settings/rows/AppLauncherRow":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/AppLauncherRow.html dojo/i18n!../../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/icons ../../../../utils/dom ../AppIcon ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=f.default;this.i18n=a.__assign(a.__assign({},m.default.common),m.default.generalTab.appLauncher);this.icons=r.default}p.prototype.postCreate=function(){this.inherited(arguments);this.render();
this.addEventListeners()};p.prototype.render=function(){var n,q=this.app.appProperties;new v.default({app:q},this.domNode.querySelector(".js-app-icon"));this.appLabel.textContent=q.label;this.app.hideForNonPrivilegedMember||e.default.showNode(this.appLauncherLabel);(!this.appItem||(null===(n=this.appItem)||void 0===n?0:n.type)&&-1===["Web Mapping Application","Application","Hub Site Application"].indexOf(this.appItem.type))&&e.default.hideNode(this.editBtn)};p.prototype.addEventListeners=function(){var n=
this;this.own((0,k.default)(this.editBtn,"click",function(){n.emit("edit",n)}),(0,k.default)(this.removeBtn,"click",function(){n.emit("remove",n)}))};return p=a.__decorate([(0,g.default)(u.default,h.default,b.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/AppIcon":function(){define("require exports tslib dojo/text!./templates/AppIcon.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=b.default}e.prototype.postCreate=function(){this.inherited(arguments);this.render()};e.prototype.updateAbbr=function(v){this.calcFontSize(v);this.iconImg.src=h.default.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/app-icons/svg-app-circle.svg");
this.iconAbbr.textContent=v;m.default.showNode(this.iconAbbr)};e.prototype.updateIcon=function(v){this.iconImg.src="".concat(u.default.restBaseUrl,"portals/self/resources/").concat(v,"?token\x3d").concat(h.default.getToken());m.default.hideNode(this.iconAbbr)};e.prototype.render=function(){var v=this.app,g=v.abbreviation;v=v.icon;this.calcFontSize(g);v?(this.iconImg.src="".concat(u.default.restBaseUrl,"portals/self/resources/").concat(v,"?token\x3d").concat(h.default.getToken()),m.default.hideNode(this.iconAbbr)):
(this.iconImg.src=h.default.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/app-icons/svg-app-circle.svg"),this.iconAbbr.textContent=g)};e.prototype.calcFontSize=function(v){if(v){var g=[0,32,24,20,18,16,14,12,10,8,6];v=Math.ceil(this.getTextWidth(v)/5);v>g.length-1&&(v=g.length-1);this.iconAbbr.style.fontSize="".concat(g[v],"px")}};e.prototype.getTextWidth=function(v){var g=document.createElement("canvas").getContext("2d");g.font="avenir";return g.measureText(v).width};return e=a.__decorate([(0,r.default)(f.default,
k.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/AppOverlay":function(){define("require exports tslib preact dojo/text!./templates/AppOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/debounce dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/pages/utils/alerts ./AppPickerRow ./AppIcon arcgisonline/pages/utils/validation arcgisonline/pages/components/ToggleSwitchBlock arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/telemetry arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);
A=a.__importDefault(A);return function(){function B(D,C){this.i18n=f.default;this.constrain=!0;this.maxWidth=750;this.currentApps=[];this.closeOnScrimClick=!1;this.appItems=[];this.itemIdsInUse=[];this.imgKey="";this.imageChanged=this.showInAppLauncher=this.canShowInAppLauncher=!1;this.NO_NAME_CLASS="app-overlay__app-name--none";this.NO_APP_CLASS="app-overlay__icon-no-app";this.handleToggleChange=this.handleToggleChange.bind(this)}B.prototype.postMixInProperties=function(){this.i18n.overlay=m.default.generalTab.appLauncher.overlay;
this.title=this.i18n.overlay.add;var D=this.portal.helpMap&&this.portal.helpMap.m["120002912"]?this.portal.helpMap.m["120002912"]:"";this.overlayContents=h.default.substitute(k.default,{i18n:this.i18n.overlay,close:f.default.common.close,searchIcon:n.default.search["16"],editIcon:n.default.pencil["16"],uploadIcon:n.default["upload-to"]["24"],uploadIconSmall:n.default.inline["upload-to"]["16"],imgIcon:n.default.inline["file-image"]["16"],xIcon:n.default.x["16"],searchLearnMoreLink:"".concat(this.portal.helpBase).concat(D),
isArabic:"ar"===document.documentElement.lang});this.itemIdsInUse=this.currentApps.map(function(C){return C.itemId});this.inherited(arguments)};B.prototype.open=function(){this.inherited(arguments);this._primaryBtn.id="add-app-save-btn";this._cancelBtn.id="add-app-cancel-btn";this.telemetry=y.default.init(this.portal,!0);this.domNode.querySelector(".js-label-max-chars").textContent=h.default.substitute(this.i18n.overlay.maxCharacters,{number:25});this.domNode.querySelector(".js-icon-text-max-chars").textContent=
h.default.substitute(this.i18n.overlay.maxCharacters,{number:4});this.searchInput=this.domNode.querySelector(".js-app-search");this.resultsList=this.domNode.querySelector(".js-results-list");this.noResults=this.domNode.querySelector(".js-no-results");this.selectedTitle=this.domNode.querySelector(".js-selected-title");this.selectedOwner=this.domNode.querySelector(".js-selected-owner");this.searchPanel=this.domNode.querySelector(".js-search-panel");this.labelIconPanel=this.domNode.querySelector(".js-label-icon-edit");
this.selectedAppLabel=this.domNode.querySelector(".js-selected-app-label");this.labelInput=this.domNode.querySelector(".js-label-input");this.iconTextInput=this.domNode.querySelector(".js-icon-text-input");this.selectedAppIcon=this.domNode.querySelector(".js-selected-app-icon");this.uploadPlaceholder=this.domNode.querySelector(".js-upload-placeholder");this.uploadContainer=this.domNode.querySelector(".js-upload-btn-container");this.defaultBtn=this.domNode.querySelector(".js-default-btn");this.customImgBtn=
this.domNode.querySelector(".js-custom-img-btn");this.iconTextEdit=this.domNode.querySelector(".js-icon-text-edit");this.imgForm=this.domNode.querySelector(".js-img-form");this.fileInput=this.domNode.querySelector(".js-file-input");this.uploadedLabelContainer=this.domNode.querySelector(".js-uploaded-label");this.uploadedLabelText=this.domNode.querySelector(".js-uploaded-label-text");this.removeImgBtn=this.domNode.querySelector(".js-remove-img-btn");this.uploadBtn=this.domNode.querySelector(".js-upload-btn");
this.editBtn=this.domNode.querySelector(".js-edit-btn");this.searchError=this.domNode.querySelector(".js-search-error");this.labelError=this.domNode.querySelector(".js-label-error");this.bottomSection=this.domNode.querySelector(".js-bottom-section");this.addListeners();this.handleSearch();this.renderToggle()};B.prototype.close=function(){this.inherited(arguments)};B.prototype.edit=function(D){var C=this;this.removeMinHeight();this.overlayTitle.textContent=this.i18n.overlay.edit;this.getItemById(D.itemId).then(function(E){var H=
D.appProperties,G=H.label,F=H.abbreviation;H=H.icon;C.showInAppLauncher=!D.hideForNonPrivilegedMember;C.checkItemType(E);q.default.showHide(C.domNode.querySelector(".js-toggle-container"),C.canShowInAppLauncher);C.showHideAppLauncherInfo();q.default.hideNode(C.editBtn);q.default.hideNode(C.searchPanel);q.default.showNode(C.labelIconPanel);C.selectedAppLabel.classList.remove(C.NO_NAME_CLASS);C.selectedAppIcon.classList.remove(C.NO_APP_CLASS);C.selectedApp=E;C.selectedTitle.textContent=C.selectedAppLabel.textContent=
C.labelInput.value=G;C.selectedOwner.textContent=E.owner;C.iconTextInput.value=F;C.appIcon=new d.default({app:{abbreviation:F}});C.selectedAppIcon.appendChild(C.appIcon.domNode);H&&(C.appIcon.updateIcon(H),C.editingIcon=C.imgKey=C.uploadedLabelText.title=C.uploadedLabelText.textContent=H,C.defaultBtn.classList.remove("is-active"),C.customImgBtn.classList.add("is-active"),q.default.showNode(C.uploadContainer),q.default.hideNode(C.iconTextEdit),q.default.hideNode(C.uploadBtn),q.default.showNode(C.uploadedLabelContainer))})};
B.prototype.handlePrimary=function(){var D=this;if(this.validate()){var C=this.customImgBtn.classList.contains("is-active"),E={url:this.selectedApp.url,label:this.labelInput.value.trim(),abbreviation:this.iconTextInput.value.trim()};this.imgKey&&C&&(E.icon=this.imgKey);var H={itemId:this.selectedApp.id,appProperties:JSON.stringify(E),hideForNonPrivilegedMember:!this.canShowInAppLauncher||this.canShowInAppLauncher&&!this.showInAppLauncher};this.appClientId&&(H.clientId=this.appClientId);this.addApprovedApp(H).then(function(G){var F,
I;G.success?(null===(F=D.telemetry)||void 0===F?void 0:F.logEvent({category:"general",label:"addApprovedApp",action:"Save"}),!D.editingIcon||D.editingIcon===D.imgKey&&C||D.removeResource(D.editingIcon),e.default.publish("appLauncher/app/updated",H.itemId,JSON.stringify(E)),D.close()):null===(I=D.telemetry)||void 0===I?void 0:I.logError({error:G})},function(G){var F;null===(F=D.telemetry)||void 0===F?void 0:F.logError({error:G})})}};B.prototype.handleCancel=function(){var D;this.imageChanged&&this.removeResource(this.imgKey);
null===(D=this.telemetry)||void 0===D?void 0:D.logEvent({category:"general",label:"addApprovedApp",action:"Cancel"});this.close()};B.prototype.getAppInfo=function(D){return a.__awaiter(this,void 0,void 0,function(){var C;return a.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,z.default.request({url:"".concat(x.default.restBaseUrl,"portals/appInfo"),content:{appID:D}})];case 1:return C=E.sent(),[2,C];case 2:return E.sent(),[3,3];case 3:return[2]}})})};B.prototype.searchItemById=
function(D){return a.__awaiter(this,void 0,void 0,function(){var C,E,H;return a.__generator(this,function(G){switch(G.label){case 0:if(!(-1<this.itemIdsInUse.indexOf(D)))return[3,1];this.noResults.textContent=this.i18n.overlay.alreadyAvailable;q.default.showNode(this.noResults);q.default.hideNode(this.resultsList);return[2];case 1:return G.trys.push([1,3,,4]),[4,this.getItemById(D)];case 2:return C=G.sent(),E=C.type.split(" "),H=E.indexOf("Application")===E.length-1,this.isWebApp(C.type),H?(0<this.appItems.length&&
this.appItems.forEach(function(F){return F.destroy()}),this.resultsList.innerHTML="",this.addRow(C),q.default.showNode(this.resultsList),q.default.hideNode(this.noResults)):(q.default.hideNode(this.resultsList),this.noResults.textContent=this.i18n.overlay.notFound,q.default.showNode(this.noResults)),[3,4];case 3:return G.sent(),q.default.hideNode(this.resultsList),this.noResults.textContent=this.i18n.overlay.notFound,q.default.showNode(this.noResults),[3,4];case 4:return[2]}})})};B.prototype.handleToggleChange=
function(){this.showInAppLauncher=!this.showInAppLauncher;this.showHideAppLauncherInfo()};B.prototype.showHideAppLauncherInfo=function(){this.renderToggle();q.default.showHide(this.bottomSection,this.showInAppLauncher);q.default.addRemoveClass(this.domNode,"app-overlay--display-details",this.showInAppLauncher)};B.prototype.removeMinHeight=function(){this.domNode.querySelector(".app-overlay__content-bottom").classList.remove("app-overlay--min-height")};B.prototype.renderToggle=function(){(0,b.render)((0,b.h)(t.default,
{label:this.i18n.overlay.showInLauncher,checked:this.showInAppLauncher,onChange:this.handleToggleChange}),this.domNode.querySelector(".js-toggle-container"))};B.prototype.addListeners=function(){var D=this;this.own((0,u.default)(this.searchInput,"input",(0,r.default)(this.handleSearch.bind(this),300)),(0,u.default)(this.labelInput,"input",this.handleLabelInput.bind(this)),(0,u.default)(this.iconTextInput,"input",this.handleIconTextInput.bind(this)),(0,u.default)(this.defaultBtn,"click",this.handleDefaultBtnClick.bind(this)),
(0,u.default)(this.customImgBtn,"click",this.handleCustomImgBtnClick.bind(this)),(0,u.default)(this.uploadBtn,"click",function(){D.fileInput.click()}),(0,u.default)(this.uploadPlaceholder,"click",function(){D.fileInput.click()}),(0,u.default)(this.fileInput,"change",this.handleFileChange.bind(this)),(0,u.default)(this.removeImgBtn,"click",this.handleRemoveImg.bind(this)),(0,u.default)(this.editBtn,"click",this.handleEditClick.bind(this)))};B.prototype.handleEditClick=function(){var D=this;q.default.hideNode(this.labelIconPanel);
q.default.showNode(this.searchPanel);this.hidePopover();this.appIcon&&(this.appIcon.destroy(),this.appIcon=void 0);this.selectedAppIcon.innerHTML="";this.selectedAppIcon.classList.add(this.NO_APP_CLASS);this.selectedApp=void 0;this.selectedAppLabel.textContent=this.i18n.overlay.noApp;this.selectedAppLabel.classList.add(this.NO_NAME_CLASS);this.searchInput.value="";q.default.hideNode(this.uploadPlaceholder);q.default.showNode(this.selectedAppIcon);this.clearSearchResults();this.imgKey&&this.removeResource(this.imgKey).then(function(){q.default.showNode(D.uploadBtn);
q.default.hideNode(D.uploadedLabelContainer)});this.handleDefaultBtnClick();this.handleSearch()};B.prototype.handleFileChange=function(){var D=this,C=this.fileInput.value,E=C.lastIndexOf(".");E=C.substring(E+1,C.length).toLowerCase();if(this.validateFile(C,E)){this.uploadedLabelText.title=this.uploadedLabelText.textContent=this.fileInput.files&&this.fileInput.files[0]&&this.fileInput.files[0].name;q.default.hideNode(this.uploadBtn);q.default.showNode(this.uploadedLabelContainer);C=new FormData(this.imgForm);
var H="approved-app-icon-".concat((new Date).getTime(),".").concat(E);C.append("key",H);this.uploadImage(C).then(function(G){G.success&&(D.imgKey=H,D.imageChanged=!0,D.appIcon.updateIcon(H),q.default.showNode(D.selectedAppIcon),q.default.hideNode(D.uploadPlaceholder))})}};B.prototype.addApprovedApp=function(D){return z.default.request({url:"".concat(z.default.getSecureUrl(x.default.restBaseUrl),"portals/").concat(this.portal.id,"/addApprovedApp"),content:D},{usePost:!0})};B.prototype.uploadImage=
function(D){return z.default.request({url:"".concat(z.default.getSecureUrl(x.default.restBaseUrl),"portals/self/addResource"),form:D},{usePost:!0})};B.prototype.removeResource=function(D){return z.default.request({url:"".concat(z.default.getSecureUrl(x.default.restBaseUrl),"portals/self/removeResource"),content:{key:D}},{usePost:!0})};B.prototype.handleRemoveImg=function(){var D=this;this.editingIcon&&this.editingIcon===this.imgKey?this.showUpload():this.imgKey&&this.removeResource(this.imgKey).then(function(C){C.success&&
D.showUpload()})};B.prototype.showUpload=function(){this.imgKey="";this.fileInput.value="";this.appIcon&&this.appIcon.updateAbbr(this.iconTextInput.value);q.default.showNode(this.uploadPlaceholder);q.default.hideNode(this.selectedAppIcon);q.default.showNode(this.uploadBtn);q.default.hideNode(this.uploadedLabelContainer)};B.prototype.validate=function(){return this.selectedApp?this.labelInput.value?!0:(w.default.setInvalidState(this.labelInput,this.labelError),!1):(w.default.setInvalidState(this.searchInput,
this.searchError),!1)};B.prototype.validateFile=function(D,C){if(!D)return!1;if(-1===["png","gif","jpg","jpeg"].indexOf(C))return l.default.showAlert("error",m.default.common.imageTypeError),!1;D=this.fileInput.files&&this.fileInput.files[0]&&this.fileInput.files[0].size;return!D||1E7<=D?(l.default.showAlert("error",m.default.generalTab.appLauncher.overlay.errors.maxSize),!1):!0};B.prototype.handleDefaultBtnClick=function(){this.defaultBtn.classList.contains("is-active")||(this.customImgBtn.classList.remove("is-active"),
this.defaultBtn.classList.add("is-active"),q.default.showNode(this.iconTextEdit),q.default.hideNode(this.uploadContainer),q.default.showNode(this.selectedAppIcon),q.default.hideNode(this.uploadPlaceholder),this.appIcon.updateAbbr(this.iconTextInput.value))};B.prototype.handleCustomImgBtnClick=function(){this.customImgBtn.classList.contains("is-active")||(this.defaultBtn.classList.remove("is-active"),this.customImgBtn.classList.add("is-active"),q.default.showNode(this.uploadContainer),q.default.hideNode(this.iconTextEdit),
q.default.showHide(this.selectedAppIcon,!!this.imgKey),q.default.showHide(this.uploadPlaceholder,!this.imgKey),this.imgKey&&this.appIcon.updateIcon(this.imgKey))};B.prototype.handleLabelInput=function(){var D=this.labelInput.value;D?w.default.clearState([this.labelInput,this.labelError]):w.default.setInvalidState(this.labelInput,this.labelError);this.selectedAppLabel.textContent=D};B.prototype.handleIconTextInput=function(){this.appIcon.updateAbbr(this.iconTextInput.value)};B.prototype.hidePopover=
function(){q.default.forEachNode(this.domNode.querySelectorAll("calcite-popover"),function(D){D.open=!1})};B.prototype.handleItemSelect=function(D){this.removeMinHeight();this.clearSearchValidationState();var C=this.getAbbreviation(D.title);this.selectedApp=D;this.selectedAppLabel.textContent=this.labelInput.value=this.selectedTitle.textContent=D.title.substring(0,25);w.default.clearState([this.labelInput,this.labelError]);this.selectedOwner.textContent=D.owner;this.iconTextInput.value=C;this.selectedAppLabel.classList.remove(this.NO_NAME_CLASS);
q.default.hideNode(this.searchPanel);this.hidePopover();q.default.showNode(this.labelIconPanel);this.appIcon=new d.default({app:{abbreviation:C}});this.selectedAppIcon.appendChild(this.appIcon.domNode);this.selectedAppIcon.classList.remove(this.NO_APP_CLASS);this.checkItemType(D);this.showInAppLauncher=this.canShowInAppLauncher;q.default.showHide(this.domNode.querySelector(".js-toggle-container"),this.canShowInAppLauncher);this.showHideAppLauncherInfo()};B.prototype.isWebApp=function(D){return-1<
["Web Mapping Application","Application","Hub Site Application"].indexOf(D)};B.prototype.checkItemType=function(D){this.canShowInAppLauncher=this.isWebApp(D.type)&&D.url};B.prototype.clearSearchResults=function(){0<this.appItems.length&&this.appItems.forEach(function(D){return D.destroy()});this.resultsList.innerHTML="";this.appItems=[]};B.prototype.clearSearchValidationState=function(){this.searchError.classList.remove("app-overlay__input-error-force-relative");w.default.clearState([this.searchInput,
this.searchError])};B.prototype.handleSearch=function(){return a.__awaiter(this,void 0,void 0,function(){var D,C,E,H,G,F,I,J,K,P,T=this;return a.__generator(this,function(S){switch(S.label){case 0:return this.clearSearchValidationState(),D=this.searchInput.value.trim(),!this.portal.isPortal&&-1<D.indexOf("http:")?(this.searchError.classList.add("app-overlay__input-error-force-relative"),w.default.setInvalidState(this.searchInput,this.searchError,this.i18n.common.httpNotSupported),this._primaryBtn.disabled=
!0):this._primaryBtn.disabled=!1,C=/\s/g.test(D),E=-1<D.search(/item.html\?id=/),this.appClientId=void 0,!E&&!C&&16<=(null===D||void 0===D?void 0:D.length)?[4,this.getAppInfo(D)]:[3,6];case 1:H=S.sent();if(!H)return[3,6];this.appClientId=H.appId;if(-1<this.itemIdsInUse.indexOf(H.itemId))return this.noResults.textContent=this.i18n.overlay.alreadyAvailable,q.default.showNode(this.noResults),q.default.hideNode(this.resultsList),[2];G=void 0;S.label=2;case 2:return S.trys.push([2,4,,5]),[4,this.getItemById(H.itemId)];
case 3:return G=S.sent(),[3,5];case 4:return S.sent(),[3,5];case 5:return 0<this.appItems.length&&this.appItems.forEach(function(L){return L.destroy()}),this.resultsList.innerHTML="",this.addRow({id:H.itemId,title:H.appTitle,owner:(null===G||void 0===G?void 0:G.owner)||"",type:(null===G||void 0===G?void 0:G.type)||""}),q.default.showNode(this.resultsList),q.default.hideNode(this.noResults),[2];case 6:return-1<D.search(/item.html\?id=/)?(F=D.split("?"),F[1]&&(I=F[1].split("\x26"),J=I.filter(function(L){return-1<
L.indexOf("id\x3d")})[0],K=J.split("#").filter(function(L){return-1<L.indexOf("id\x3d")})[0],P=K.split("\x3d")[1],this.searchItemById(P))):this.searchApps(this.searchInput.value.trim()).then(function(L){0<T.appItems.length&&T.appItems.forEach(function(N){return N.destroy()});T.resultsList.innerHTML="";L&&!L.code&&((L=L.results)&&0<L.length?(L=L.filter(function(N){return-1===T.itemIdsInUse.indexOf(N.id)}),L.forEach(function(N){T.addRow(N)}),q.default.showNode(T.resultsList),q.default.hideNode(T.noResults)):
(q.default.hideNode(T.resultsList),T.noResults.textContent=T.i18n.overlay.notFound,q.default.showNode(T.noResults)))}),[2]}})})};B.prototype.getAbbreviation=function(D){var C=D.split(" ").map(function(E){return E[0]}).slice(0,2);return 1<C.length?C.join(""):D.substring(0,4)};B.prototype.addRow=function(D){D=new c.default({app:D});this.own((0,u.default)(D,"select",this.handleItemSelect.bind(this)));this.appItems.push(D);this.resultsList.appendChild(D.domNode)};B.prototype.searchApps=function(D){return z.default.request({url:"".concat(x.default.restBaseUrl,
"search"),content:{q:"".concat(D," orgid: ").concat(this.portal.id,' (type:("Web Mapping Application" OR "Application" OR "Hub Site Application") AND typekeywords:"Registered App") AND (-owner:"esri_livingatlas" -owner:"esri_apps")'),sortField:"title",sortOrder:"asc",start:1,num:100}})};B.prototype.getItemById=function(D){return z.default.request({url:"".concat(x.default.restBaseUrl,"content/items/").concat(D)})};return B=a.__decorate([(0,A.default)(g.default,v.default,p.default)],B)}()})},"arcgisonline/pages/organization/widgets/settings/AppPickerRow":function(){define("require exports tslib esri/Evented dojo/text!./templates/AppPickerRow.html dojo/on dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=k.default}r.prototype.postCreate=function(){this.inherited(arguments);this.addEventListeners()};r.prototype.addEventListeners=function(){var e=this;this.own((0,f.default)(this.domNode,"click",function(){e.emit("select",e.app)}))};return r=a.__decorate([(0,u.default)(h.default,m.default,
b.default)],r)}()})},"arcgisonline/pages/components/ToggleSwitchBlock":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.checked,f=b.onChange;return(0,a.h)("calcite-label",null,(0,a.h)("div",{class:"org-settings__toggle-switch-row margin-left-0 margin-right-0 flex flex-align-center"},(0,a.h)("div",{class:"flex-1 margin-right-1 font-size-0"},b.label),(0,a.h)("calcite-switch",{class:"flex-0",checked:k,oncalciteSwitchChange:f})))}})},
"arcgisonline/pages/organization/widgets/settings/rows/CurrentThemeRow":function(){define("require exports tslib dojo/on dojo/text!./templates/CurrentThemeRow.html dojo/i18n!../../../../../nls/org-settings arcgisonline/pages/utils/color arcgisonline/pages/utils/dom ./SettingsRow ../SharedThemeOverlay arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=
a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.i18n=a.__assign(a.__assign({},this.i18n),f.default.generalTab.sharedTheme.currentTheme);this.templateString=k.default;this.disableEditPopup=!0;this.settingsProps=["portalProperties.sharedTheme"]}v.prototype.render=function(){this.checkContrast()};v.prototype.addEventListeners=function(){this.own((0,b.default)(this.manageBtn,"click",this.handleManageClick.bind(this)))};v.prototype.handleManageClick=
function(){var g=new r.default({portal:this.portal,opener:this.manageBtn,closeOnScrimClick:!1});g.open();this.own((0,b.default)(g,"shared-theme-save",this.handleSave.bind(this)))};v.prototype.checkContrast=function(){var g={};this.portal.portalProperties&&this.portal.portalProperties.sharedTheme&&(g=this.portal.portalProperties.sharedTheme);var p,n=g.header,q=g.body;g=g.button;(null===n||void 0===n?0:n.background)&&n.text&&"no-color"!==n.background&&"no-color"!==n.text&&((n=m.default.checkContrast(n.background,
n.text).passesDoubleA)||(p=!0));!p&&(null===g||void 0===g?0:g.background)&&g.text&&"no-color"!==g.background&&"no-color"!==g.text&&((n=m.default.checkContrast(g.background,g.text).passesDoubleA)||(p=!0));!p&&(null===q||void 0===q?0:q.background)&&"no-color"!==q.background&&(q.text&&"no-color"!==q.text||q.link&&"no-color"!==q.link)&&(n=p=!0,q.text&&"no-color"!==q.text&&(p=m.default.checkContrast(q.background,q.text).passesDoubleA),q.link&&"no-color"!==q.link&&(n=m.default.checkContrast(q.background,
q.link).passesDoubleA),p=!p||!n);h.default.showHide(this.contrastWarning,p)};v.prototype.handleSave=function(g){var p=this,n=g.portalProperties;this.updateSetting({portalProperties:JSON.stringify(n)},this.i18n.error,this.i18n.success).then(function(){p.portal.set({portalProperties:n});p.checkContrast()})};return v=a.__decorate([(0,e.default)(u.default)],v)}()})},"arcgisonline/pages/utils/color":function(){define(["require","exports"],function(U,M){return function(){function a(){}a.hexRgb=function(b){b=
b.replace(/^#/,"");b=parseInt(b,16);return[b>>16,b>>8&255,b&255,255]};a.rgbHex=function(b){b=b.replace(/^rgb\(/,"").replace(")","");var k=b.split(",");if(3!==k.length)return"#ffffff";b=parseInt(k[0],10).toString(16);1===b.length&&(b="0"+b);var f=parseInt(k[1],10).toString(16);1===f.length&&(f="0"+f);k=parseInt(k[2],10).toString(16);1===k.length&&(k="0"+k);return"#".concat(b).concat(f).concat(k)};a.relativeLuminance=function(b){var k=1/12.92,f=b[0]/255,m=b[1]/255;b=b[2]/255;f=.03928>=f?f*k:this.adjustGamma(f);
m=.03928>=m?m*k:this.adjustGamma(m);k=.03928>=b?b*k:this.adjustGamma(b);return.2126*f+.7152*m+.0722*k};a.adjustGamma=function(b){return Math.pow((b+.055)/1.055,2.4)};a.luminance=function(b,k){return(Math.max(b,k)+.05)/(Math.min(b,k)+.05)};a.checkContrast=function(b,k){b=this.expandHexAbbr(b);k=this.expandHexAbbr(k);b=[b,k].map(this.hexRgb.bind(this)).map(this.relativeLuminance.bind(this));b=this.luminance(b[0],b[1]);return{contrast:b,passesDoubleA:4.5<=b}};a.expandHexAbbr=function(b){if(4!==b.length)return b;
b=b.split("");return"#".concat(b[1]).concat(b[1]).concat(b[2]).concat(b[2]).concat(b[3]).concat(b[3])};return a}()})},"arcgisonline/pages/organization/widgets/settings/rows/SettingsRow":function(){define("require exports tslib dojo/Deferred dojo/text!./templates/SettingsRow.html dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings dojo/topic dojo/dom-construct dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../../../../../esriGeowConfig ../../../../utils/arrays ../../../../utils/icons ../../../../pageUtil ../../../../utils/dom ../../../../utils/focus ../../../../utils/organization ../../../../utils/organizationResources ../../../../dijit/ToggleSwitch ../../../../../sharing/util ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
return function(){function y(A,B){this.templateString=k.default;this.i18n=a.__assign({},f.default.common);this.icons=n.default;this.editA11yLabel=this.description="";this.keywords=[];this.disableEditPopup=!1;this.settingsProps=[];this.LOCALIZED_ORG_PROPS_KEY="localizedOrgProperties";this.SAVE_SUCCESS_TOPIC="settings/save-success";this.SAVE_FAILURE_TOPIC="settings/save-failure"}y.prototype.postCreate=function(){this.inherited(arguments);this.render();this.setupA11y();this.addEventListeners()};y.prototype.update=
function(A){this._displayValue.innerHTML=A};y.prototype.highlightLabel=function(A){d.default.highlight(A,this._label)};y.prototype.highlightDesc=function(A){d.default.highlight(A,this._description)};y.prototype.resetHighlights=function(){this._label&&this.label&&(this._label.textContent=this.label);this._description&&this.description&&(this._description.innerHTML=this.description)};y.prototype.match=function(A,B){return this.label&&-1<this.label.toLowerCase().indexOf(A)||this.description&&-1<this.description.replace(/<[^>]+>/g,
"").toLowerCase().indexOf(A)||this.keywords.some(function(D){D=m.default.keywords[D].toLowerCase();var C=A.toLowerCase();if(D===C||B&&-1<D.indexOf(C))var E=!0;return E})?!0:!1};y.prototype.render=function(){(this._label.textContent=this.label)||l.default.hideNode(this._label);this._description&&(this._description.innerHTML=this.description);this.editA11yLabel&&this._editBtn.setAttribute("aria-label",this.editA11yLabel);this.updateDisplayValue(this.value)};y.prototype.setupA11y=function(){if(!this.disableEditPopup&&
this._editBtn&&this._editForm){var A=this.id+"-edit-form";this._editForm.setAttribute("id",A);this._editBtn.setAttribute("aria-expanded","false");this._editBtn.setAttribute("aria-controls",A)}};y.prototype.addEventListeners=function(){this.disableEditPopup||this.own((0,v.default)(this._editBtn,this.toggleEdit.bind(this,!0)),(0,v.default)(this._saveBtn,this.save.bind(this)),(0,v.default)(this._cancelBtn,this.cancel.bind(this)))};y.prototype.toggleEdit=function(A){l.default.showHide(this._editForm,
A);if(A){this._editBtn.setAttribute("aria-expanded","true");this.focusTrapListener&&c.default.untrapFocus(this._editForm,this.focusTrapListener);this.focusTrapListener=c.default.trapFocus(this._editForm);var B=c.default.getFocusableElements(this._editForm);B.length&&setTimeout(function(){B.shift().focus()},100)}else this._editBtn.setAttribute("aria-expanded","false"),this.focusTrapListener&&(c.default.untrapFocus(this._editForm,this.focusTrapListener),this.focusTrapListener=void 0),this._editBtn.focus()};
y.prototype.save=function(){this.toggleEdit(!1)};y.prototype.cancel=function(){this.toggleEdit(!1);this.resetFormValues();this.logSettingsCanceled(this.settingsProps)};y.prototype.validates=function(){return!0};y.prototype.resetFormValues=function(){};y.prototype.updateDisplayValue=function(A,B){B?this._displayValue.innerHTML=A:this._displayValue.textContent=A;"text"===this.valueType&&this._valueContainer.classList.add("org-settings__display-text-value")};y.prototype.updateSetting=function(A,B,D,
C,E,H){var G=this,F=new b.default;if(q.default.isEmptyObject(A))F.resolve();else{var I={url:"".concat(g.default.restBaseUrl,"portals/self/update"),content:A};H&&(I.timeout=H);z.default.request(I,{usePost:!0}).then(function(J){(null===J||void 0===J?0:J.code)?(G.logSettingsError(J),h.default.publish(G.SAVE_FAILURE_TOPIC,B||m.default.saveError),F.reject()):(G.logSettingsUpdated(A,E),G.portal.set(A),A.rotatorPanels&&(G.portal.rotatorPanels=JSON.parse(A.rotatorPanels)),C||h.default.publish(G.SAVE_SUCCESS_TOPIC,
D||m.default.saveSuccess),F.resolve(A))},function(J){G.logSettingsError(J);h.default.publish(G.SAVE_FAILURE_TOPIC,B||m.default.saveError);F.reject()})}return F};y.prototype.addLocalizedResource=function(A,B){var D=u.default.create("form",{method:"post",enctype:"multipart/form-data"});D=new FormData(D);D.append("key",this.LOCALIZED_ORG_PROPS_KEY);D.append("text",JSON.stringify(this.portal.localizedOrgProperties));return this.addResource(D,A,B)};y.prototype.addResource=function(A,B,D){var C=this,E=
new b.default;w.default.add(A).then(function(){B&&h.default.publish(C.SAVE_SUCCESS_TOPIC,B);E.resolve()},function(){D&&h.default.publish(C.SAVE_FAILURE_TOPIC,D);E.reject()});return E};y.prototype.removeResource=function(A,B,D){var C=this,E=new b.default;w.default.remove(A).then(function(){B&&h.default.publish(C.SAVE_SUCCESS_TOPIC,B);E.resolve()},function(){D&&h.default.publish(C.SAVE_FAILURE_TOPIC,D);E.reject()});return E};y.prototype.getDefaultSelectionText=function(){return this.portal.isPortal?
m.default.defaultPortalSelection:m.default.defaultEsriSelection};y.prototype.logSettingsCanceled=function(A){var B=this,D=["f","token","clearEmptyFields"];null===A||void 0===A?void 0:A.forEach(function(C){var E;p.default.includes(D,C)||(null===(E=B.telemetry)||void 0===E?void 0:E.logEvent({category:B.tab,label:C,action:"Cancel"}))})};y.prototype.logSettingsUpdated=function(A,B){var D=this,C=["f","token","clearEmptyFields"];A&&Object.keys(A).forEach(function(E){var H;p.default.includes(C,E)||("portalProperties"===
E&&D.settingsProps.length?D.settingsProps.forEach(function(G){var F;null===(F=D.telemetry)||void 0===F?void 0:F.logEvent({category:B||D.tab,label:G,action:"Save"})}):null===(H=D.telemetry)||void 0===H?void 0:H.logEvent({category:B||D.tab,label:E,action:"Save"}))})};y.prototype.logSettingsError=function(A){var B;null===(B=this.telemetry)||void 0===B?void 0:B.logError({error:A})};y.prototype.createToggle=function(A,B,D,C){return new t.default({trackId:A,label:B,ariaLabel:C,labelClasses:"org-settings__security-switch-row org-settings__toggle-switch-row--no-margin",
labelPosition:"left",switchTrackClasses:"leader-quarter"},this.domNode.querySelector(D))};return y=a.__decorate([(0,x.default)(e.default,r.default)],y)}()})},"arcgisonline/pages/organization/widgets/settings/SharedThemeOverlay":function(){define("require exports tslib esri/Evented dojo/text!./templates/SharedThemeOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/topic dojo/_base/lang dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/icons arcgisonline/pages/pageUtil arcgisonline/pages/utils/dom ./ColorEdit ./ColorContrast arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.title=m.default.generalTab.sharedTheme.manageOverlay.title;
this.i18n=f.default;this.background="white";this.constrain=!0;this.maxWidth=980}t.prototype.postMixInProperties=function(){var z;this.inherited(arguments);var x=null===(z=this.portal.helpMap)||void 0===z?void 0:z.m;z="".concat(this.portal.helpBase).concat((null===x||void 0===x?void 0:x["120001921"])||"");this.overlayContents=h.default.substitute(k.default,{i18n:m.default.generalTab.sharedTheme.manageOverlay,infoIcon:'\x3ca class\x3d"info-icon inline-block" href\x3d"'.concat(z,'" target\x3d"_blank"\x3e').concat(n.default.getIconWithTitle("info",
"16",m.default.generalTab.sharedTheme.manageOverlay.learnMoreContrast,"contrast_info_icon_title"),"\x3c/a\x3e")})};t.prototype.postCreate=function(){this.inherited(arguments);this.initResetBtn()};t.prototype.open=function(){this.inherited(arguments);var z=m.default.generalTab.sharedTheme.manageOverlay,x=z.headerBg,y=z.headerText,A=z.buttonBg,B=z.buttonText,D=z.bodyBg,C=z.bodyText;z=z.links;var E={};this.portal.portalProperties&&this.portal.portalProperties.sharedTheme&&(E=this.portal.portalProperties.sharedTheme);
this.sharedTheme=E;var H=E.header,G=E.body;E=E.button;H||(H=this.sharedTheme.header={});G||(G=this.sharedTheme.body={});E||(E=this.sharedTheme.button={});this.headerBgEdit=new c.default({label:x,bgColor:H.background,targetName:"header-background"},this.domNode.querySelector(".js-header-bg"));this.headerTxtEdit=new c.default({label:y,bgColor:H.background,textColor:H.text,targetName:"header-text",isText:!0},this.domNode.querySelector(".js-header-text"));this.headerContrast=new d.default({bgColor:H.background,
fontColor:H.text},this.domNode.querySelector(".js-header-contrast"));this.buttonBgEdit=new c.default({label:A,bgColor:E.background,targetName:"button-background"},this.domNode.querySelector(".js-button-bg"));this.buttonTxtEdit=new c.default({label:B,bgColor:E.background,textColor:E.text,targetName:"button-text",isText:!0},this.domNode.querySelector(".js-button-text"));this.buttonContrast=new d.default({bgColor:E.background,fontColor:E.text},this.domNode.querySelector(".js-button-contrast"));this.bodyBgEdit=
new c.default({label:D,bgColor:G.background,targetName:"body-background",baseClass:"org-settings__color-tile--top"},this.domNode.querySelector(".js-body-bg"));this.bodyTxtEdit=new c.default({label:C,bgColor:G.background,textColor:G.text,targetName:"body-text",isText:!0,baseClass:"org-settings__color-tile--top"},this.domNode.querySelector(".js-body-text"));this.linksEdit=new c.default({label:z,bgColor:G.background,textColor:G.link,targetName:"body-text",isText:!0,baseClass:"org-settings__color-tile--top"},
this.domNode.querySelector(".js-links"));this.bodyTxtContrast=new d.default({bgColor:G.background,fontColor:G.text,baseClass:"shared-theme-overlay__body-txt-contrast"},this.domNode.querySelector(".js-body-text-contrast"));this.bodyLinksContrast=new d.default({bgColor:G.background,fontColor:G.link},this.domNode.querySelector(".js-body-links-contrast"));this.addListeners()};t.prototype.close=function(){this.inherited(arguments)};t.prototype.handlePrimary=function(){this.headerContrast.isValid()&&this.buttonContrast.isValid()&&
this.bodyTxtContrast.isValid()&&this.bodyLinksContrast.isValid()?this.proceedToSave():this.displayContrastError()};t.prototype.initResetBtn=function(){var z=this;this.backBtn.textContent=m.default.generalTab.sharedTheme.manageOverlay.reset;l.default.showNode(this.backBtn);this.own((0,u.default)(this.backBtn,"click",function(){return z.handleReset()}))};t.prototype.handleReset=function(){this.headerBgEdit.updateBackgroundColor("no-color");this.headerBgEdit.updateColorPicker();this.headerTxtEdit.updateBackgroundColor("no-color");
this.headerTxtEdit.updateTextColor("no-color");this.headerTxtEdit.updateColorPicker();this.headerContrast.update("no-color","no-color");this.buttonBgEdit.updateBackgroundColor("no-color");this.buttonBgEdit.updateColorPicker();this.buttonTxtEdit.updateBackgroundColor("no-color");this.buttonTxtEdit.updateTextColor("no-color");this.buttonTxtEdit.updateColorPicker();this.buttonContrast.update("no-color","no-color");this.bodyBgEdit.updateBackgroundColor("no-color");this.bodyBgEdit.updateColorPicker();
this.bodyTxtEdit.updateBackgroundColor("no-color");this.bodyTxtEdit.updateTextColor("no-color");this.bodyTxtEdit.updateColorPicker();this.linksEdit.updateBackgroundColor("no-color");this.linksEdit.updateTextColor("no-color");this.linksEdit.updateColorPicker();this.bodyTxtContrast.update("no-color","no-color");this.bodyLinksContrast.update("no-color","no-color")};t.prototype.displayContrastError=function(){var z=this;q.default.createConfirmationDialog({strings:{title:f.default.classificationBannerDlg.error.insufficientContrast,
description:f.default.classificationBannerDlg.contrastWarning,ok:f.default.classificationBannerDlg.editColors,cancel:f.default.classificationBannerDlg.proceedAnyway},color:"red",cancelColor:"red",autoCloseOnOk:!0,onCancel:function(){z.proceedToSave()}})};t.prototype.proceedToSave=function(){var z=e.default.clone(this.sharedTheme);z=a.__assign(a.__assign({},z),{header:{background:this.headerBgEdit.getColorHex(),text:this.headerTxtEdit.getColorHex()},button:{background:this.buttonBgEdit.getColorHex(),
text:this.buttonTxtEdit.getColorHex()},body:{background:this.bodyBgEdit.getColorHex(),text:this.bodyTxtEdit.getColorHex(),link:this.linksEdit.getColorHex()}});z.logo||(z.logo={small:"",link:""});var x=this.portal.portalProperties?e.default.clone(this.portal.portalProperties):{};x.sharedTheme=z;this.close();this.emit("shared-theme-save",{portalProperties:x})};t.prototype.addListeners=function(){this.own((0,u.default)(this.headerBgEdit,"change",this.handleHeaderChange.bind(this)),(0,u.default)(this.headerTxtEdit,
"change",this.handleHeaderChange.bind(this)),(0,u.default)(this.buttonBgEdit,"change",this.handleButtonChange.bind(this)),(0,u.default)(this.buttonTxtEdit,"change",this.handleButtonChange.bind(this)),(0,u.default)(this.bodyBgEdit,"change",this.handleBodyBgChange.bind(this)),(0,u.default)(this.bodyTxtEdit,"change",this.handleBodyTxtChange.bind(this)),(0,u.default)(this.linksEdit,"change",this.handleLinksChange.bind(this)),(0,u.default)(document.body,"click",function(){r.default.publish("color-edit/expand")}))};
t.prototype.handleHeaderChange=function(){var z=this.headerBgEdit.getColorHex(),x=this.headerTxtEdit.getColorHex();this.headerBgEdit.updateBackgroundColor(z);this.headerTxtEdit.updateBackgroundColor(z);this.headerTxtEdit.updateTextColor(x);this.headerContrast.update(z,x)};t.prototype.handleButtonChange=function(){var z=this.buttonBgEdit.getColorHex(),x=this.buttonTxtEdit.getColorHex();this.buttonBgEdit.updateBackgroundColor(z);this.buttonTxtEdit.updateBackgroundColor(z);this.buttonTxtEdit.updateTextColor(x);
this.buttonContrast.update(z,x)};t.prototype.handleBodyBgChange=function(){var z=this.bodyBgEdit.getColorHex(),x=this.bodyTxtEdit.getColorHex(),y=this.linksEdit.getColorHex();this.bodyBgEdit.updateBackgroundColor(z);this.bodyTxtEdit.updateBackgroundColor(z);this.linksEdit.updateBackgroundColor(z);this.bodyTxtContrast.update(z,x);this.bodyLinksContrast.update(z,y)};t.prototype.handleBodyTxtChange=function(){var z=this.bodyBgEdit.getColorHex(),x=this.bodyTxtEdit.getColorHex();this.bodyTxtEdit.updateTextColor(x);
this.bodyTxtContrast.update(z,x)};t.prototype.handleLinksChange=function(){var z=this.bodyBgEdit.getColorHex(),x=this.linksEdit.getColorHex();this.linksEdit.updateTextColor(x);this.bodyLinksContrast.update(z,x)};return t=a.__decorate([(0,w.default)(g.default,v.default,p.default,b.default)],t)}()})},"arcgisonline/pages/organization/widgets/settings/ColorEdit":function(){define("require exports tslib esri/Evented dojo/on dojo/topic dojo/text!./templates/ColorEdit.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../../../utils/dom ../../../utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=m.default;this.i18n=h.default;this.icons=g.default}n.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners();var q=
[];null===q||void 0===q||q.some(function(l){var c;return null===(c=null===l||void 0===l?void 0:l.fields)||void 0===c?void 0:c.some(function(d){var w,t;return(null===(w=null===d||void 0===d?void 0:d.formats)||void 0===w?void 0:w[0])&&"None"!==(null===(t=null===d||void 0===d?void 0:d.formats)||void 0===t?void 0:t[0])})})};n.prototype.updateBackgroundColor=function(q){(this.bgColor=q)&&"no-color"!==q?(this.colorBox.style.backgroundColor=this.bgColor,this.colorBox.classList.remove("org-settings__color-box--empty")):
(this.colorBox.classList.add("org-settings__color-box--empty"),this.isText||(this.colorHex.textContent=""));this.isText||(this.colorHex.textContent=this.bgColor&&"no-color"!==this.bgColor?this.bgColor.toUpperCase():this.i18n.generalTab.sharedTheme.noColor)};n.prototype.updateTextColor=function(q){this.textColor=q;this.isText&&(q=this.textColor&&"no-color"!==this.textColor?this.textColor.toUpperCase():this.i18n.generalTab.sharedTheme.noColor,this.colorHex.textContent=q,this.colorBox.style.color=q===
this.i18n.generalTab.sharedTheme.noColor?"inherit":q)};n.prototype.getColorHex=function(){var q=this.colorPicker.value;return""===q?"no-color":q};n.prototype.updateColorPicker=function(){this.colorPicker.value=this.colorHex.textContent===this.i18n.generalTab.sharedTheme.noColor?"":this.colorHex.textContent};n.prototype.render=function(){this.colorPicker=document.createElement("calcite-color-picker");this.colorPickerContainer.appendChild(this.colorPicker);this.colorPicker.allowEmpty=!0;this.colorPicker.hideSaved=
!0;this.updateBackgroundColor(this.bgColor);this.updateTextColor(this.textColor);this.colorPicker.value=this.colorHex.textContent===this.i18n.generalTab.sharedTheme.noColor?"":this.colorHex.textContent;v.default.showHide(this.boxText,this.isText)};n.prototype.addEventListeners=function(){var q=this;this.own((0,e.default)(this.domNode,this.handleClick.bind(this)),(0,k.default)(this.colorPicker,"click",function(l){l.stopPropagation()}),(0,k.default)(this.colorPicker,"calciteColorPickerInput",this.handleColorChange.bind(this)),
f.default.subscribe("color-edit/expand",function(l){q.domNode.id!==l&&v.default.hideNode(q.colorPickerContainer)}),(0,k.default)(this.colorPicker,"blur",function(l){q.colorPickerContainer.classList.contains("hide")||v.default.hideNode(q.colorPickerContainer)}))};n.prototype.handleClick=function(q){var l=this.colorPickerContainer.classList.contains("hide");l&&f.default.publish("color-edit/expand",this.domNode.id);v.default.showHide(this.colorPickerContainer,l);this.domNode.scrollIntoView();this.colorPicker.setFocus();
q.stopPropagation()};n.prototype.handleColorChange=function(){this.emit("change",this.colorPicker.value)};return n=a.__decorate([(0,p.default)(r.default,u.default,b.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/ColorContrast":function(){define("require exports tslib dojo/text!./templates/ColorContrast.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/color arcgisonline/pages/utils/icons arcgisonline/pages/utils/number arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=b.default}e.prototype.postCreate=function(){this.inherited(arguments);this.render()};e.prototype.update=function(v,g){this.bgColor=v;this.fontColor=g;this.render()};e.prototype.isValid=function(){return this.valid};e.prototype.render=function(){if(this.bgColor&&
this.fontColor&&"no-color"!==this.bgColor&&"no-color"!==this.fontColor){var v=m.default.checkContrast(this.bgColor,this.fontColor),g=v.passesDoubleA;this.text.innerHTML=u.default.format(Math.floor(10*v.contrast)/10,1);this.icon.innerHTML=h.default[g?"check-circle-f":"x-circle-f"]["24"];this.icon.style.color=g?"#338033":"#de2900";this.valid=g}else this.text.innerHTML="\x26nbsp;",this.icon.innerHTML="",this.valid=!0};return e=a.__decorate([(0,r.default)(f.default,k.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SharedThemeLogoRow":function(){define("require exports tslib dojo/_base/lang dojo/i18n!../../../../../nls/org-settings ./LogoRow arcgisonline/pages/utils/dom arcgisonline/pages/utils/alerts arcgisonline/sharing/util arcgisonline/esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.i18n=a.__assign(a.__assign({},this.i18n),k.default.generalTab.sharedTheme.logoRow);this.settingsProps=["portalProperties.sharedTheme"];this.hideSize=!0}v.prototype.render=function(){this._label.textContent=this.label;this._displayValue.id="shared-theme-logo-upload-btn";
this._displayValue.textContent=this.i18n.uploadLogo;this.logoDeleteBtn.textContent=this.i18n.deleteLogo;this.renderValue()};v.prototype.handleUploadLogo=function(g){var p=this,n=g.blob,q=g.fileName;g=g.isModified;var l=document.createElement("form");l.enctype="multipart/form-data";l=new FormData(l);var c=q.substring(q.lastIndexOf(".")+1,q.length).toLowerCase();l.append("file",n,"".concat((new Date).getTime(),"_theme_logo.").concat(g?"png":c));n={title:"".concat(this.i18n.sharedThemeLogo," - ").concat(q.split(".")[0]),
description:this.i18n.logoItemSummary,type:"Image",tags:"SharedTheme, Logo",filename:"".concat((new Date).getTime(),"_").concat(q)};this.addItem(l,n).then(function(d){return p.shareImageToEveryone(d.id)},function(d){p.displayUploadError(d,q);p.hideModal()}).then(function(d){d.itemId?(d=u.default.getSecureUrl("".concat(r.default.restBaseUrl,"content/items/").concat(d.itemId,"/data")),p.updatePortalProperties(d)):(h.default.showAlert("error",p.i18n.saveError),p.hideModal())},function(){h.default.showAlert("error",
p.i18n.saveError);p.hideModal()})};v.prototype.onDelete=function(g){g.stopPropagation();this.updatePortalProperties("")};v.prototype.renderValue=function(){var g=this.defaultLogo;this.value?(g=this.value,this.mobileUploadBtn.textContent=this.i18n.replaceImage,m.default.showNodes([this.logoDeleteBtn,this.mobileDeleteBtn])):m.default.hideNodes([this.logoDeleteBtn,this.mobileDeleteBtn]);this.mobileImg.src=this.logoImage.src=g};v.prototype.addItem=function(g,p){var n=u.default.getSecureUrl("".concat(r.default.restBaseUrl,
"content/users/").concat(this.portalUser.username,"/addItem"));return u.default.request({url:n,form:g,content:p},{usePost:!0})};v.prototype.shareImageToEveryone=function(g){g=u.default.getSecureUrl("".concat(r.default.restBaseUrl,"content/items/").concat(g,"/share"));return u.default.request({url:g,content:{everyone:!0}},{usePost:!0})};v.prototype.displayUploadError=function(g,p){var n=this.i18n.anErrorOccurred;if(409===g.code||g.message==="Item '".concat(p,"' already exists."))n=this.i18n.anItemWithThisNameExists;
h.default.showAlert("error",n)};v.prototype.updatePortalProperties=function(g){var p=this,n=this.portal.portalProperties?b.default.clone(this.portal.portalProperties):{},q=n.sharedTheme||{},l={background:"no-color",text:"no-color"};q.header||(q.header=a.__assign({},l));q.button||(q.button=a.__assign({},l));q.body||(q.body=a.__assign(a.__assign({},l),{link:"no-color"}));n.sharedTheme=q;n.sharedTheme.logo=n.sharedTheme.logo?a.__assign(a.__assign({},n.sharedTheme.logo),{small:g}):{small:g};this.updateSetting({portalProperties:JSON.stringify(n)},
this.i18n.saveError,this.i18n.saveSuccess).then(function(){p.value=g;p.portal.set({portalProperties:n});p.hideModal();p.renderValue()},function(){p.hideModal()})};return v=a.__decorate([(0,e.default)(f.default)],v)}()})},"arcgisonline/pages/organization/widgets/settings/rows/LogoRow":function(){define("require exports tslib preact dojo/text!./templates/LogoRow.html dojo/i18n!../../../../../nls/org-settings dojo/on esri/lang ./SettingsRow ./BannerImageRow ../../../../utils/dom ../../../../components/ImageUploadModal/ImageUploadModal ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=k.default;this.settingsProps=["thumbnail"];this.defaultLogo=g.default.relativeToExplicitUrl("images/group-no-image.png");this.hideSize=!1;this.handleUploadLogo=
this.handleUploadLogo.bind(this);this.hideModal=this.hideModal.bind(this)}q.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),f.default.common),f.default.generalTab);this.inherited(arguments)};q.prototype.render=function(){this.inherited(arguments);this.bannerRow=new r.default({portal:this.portal,value:this.portal.rotatorPanels});this._displayValue.id="org-logo-upload-btn";var l=this.defaultLogo;this._displayValue.textContent=this.i18n.uploadImage;this.isLogoDefined()&&
(l=this.getLogoUrl(this.portal.thumbnail),this.mobileUploadBtn.textContent=this.i18n.replaceImage,e.default.showNodes([this.logoDeleteBtn,this.mobileDeleteBtn]),this.logoImage.alt=this.i18n.logoAltText);this.mobileImg.src=this.logoImage.src=l};q.prototype.addEventListeners=function(){this.own((0,m.default)(this.logoDeleteBtn,"click",this.onDelete.bind(this)),(0,m.default)(this.mobileUploadBtn,"click",this.showDialog.bind(this,!0)),(0,m.default)(this.mobileDeleteBtn,"click",this.onDelete.bind(this)),
(0,m.default)(this._editBtn,"click",this.showDialog.bind(this)))};q.prototype.handleUploadLogo=function(l){var c=this,d=l.blob,w=l.fileName;l=new FormData;l.append("file",d);d=w.substring(w.lastIndexOf(".")+1,w.length).toLowerCase();var t="thumbnail".concat(Date.now(),".").concat(d);l.append("key",t);l.append("f","json");this.addResource(l).then(function(){c.mobileImg.src=c.logoImage.src=c.getLogoUrl(t);c.logoImage.alt=c.i18n.logoAltText;e.default.showNode(c.logoDeleteBtn);e.default.showNode(c.mobileDeleteBtn);
c.bannerRow.handleLogoUpdate(t).then(function(){c.portal.thumbnail=t;c.portal.thumbnailUrl=c.getLogoUrl(t);e.default.showNode(c.logoDeleteBtn);e.default.showNode(c.mobileDeleteBtn);c.hideModal()})})};q.prototype.showDialog=function(){this.modalContainer||(this.modalContainer=document.createElement("div"),document.body.appendChild(this.modalContainer));this.renderUploadModal()};q.prototype.renderUploadModal=function(){(0,b.render)((0,b.h)(v.default,{zoomToFull:!0,onSave:this.handleUploadLogo,onCancel:this.hideModal,
hideSize:this.hideSize}),this.modalContainer)};q.prototype.hideModal=function(){(0,b.render)(null,this.modalContainer)};q.prototype.getLogoUrl=function(l){return"".concat(p.default.restBaseUrl,"portals/self/resources/").concat(l,"?token\x3d").concat(g.default.getToken())};q.prototype.isLogoDefined=function(){return h.default.isDefined(this.portal.thumbnail)&&0<this.portal.thumbnail.length};q.prototype.onDelete=function(l){var c=this;l.stopPropagation();this.removeResource(this.portal.thumbnail);this.bannerRow.handleLogoUpdate("",
!0,this.i18n.logoDeleteSuccess,this.i18n.logoDeleteError).then(function(){c.mobileImg.src=c.logoImage.src=c.defaultLogo;c.portal.thumbnail="";c.portal.thumbnailUrl="";c.logoImage.alt=c.i18n.noLogoAltText;e.default.hideNodes([c.logoDeleteBtn,c.mobileDeleteBtn])})};q.prototype.updatePortalThumb=function(l,c,d){return this.updateSetting({thumbnail:l,clearEmptyFields:!0},d,c)};return q=a.__decorate([(0,n.default)(u.default)],q)}()})},"arcgisonline/pages/organization/widgets/settings/rows/BannerImageRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/BannerImageRow.html dojo/query dojo/on dojo/topic esri/libs/sanitizer/Sanitizer ./SettingsRow ../../../../utils/alerts ../../../../utils/dom ../../../../utils/organization ../../../../pageUtil ../UploadImageDlg ../../../../../sharing/util ../../../../../sharing/dijit/Editor ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator ../../../../../sharing/dijit/LinkDialog ../../../../dijit/InlineEdit/OrgViewSource".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){var x=this;this.settingsProps=["rotatorPanels"];this.PREDEFINED_BANNER1=
"banner-1";this.PREDEFINED_BANNER2="banner-2";this.PREDEFINED_BANNER3="banner-3";this.PREDEFINED_BANNER4="banner-4";this.PREDEFINED_BANNER5="banner-5";this.CUSTOM_BANNER="banner-custom";this.HTML_BANNER="banner-html";this.IMAGE_PATH="js/arcgisonline/sharing/dijit/css/images/";this.BANNER_IMG_STYLE="border-radius:0 0 10px 10px; margin-top:0; width:960px;";this.customImageKey="";this.handleRadioChange=function(){if(x.customImageRadio.checked)x.handleUploadClick();else{var y=x.buildRotatorPanels();y&&
x.updateSetting({rotatorPanels:JSON.stringify(y)},x.i18n.bannerImageError,x.i18n.bannerImageSuccess).then(function(){x.value=y;x.setEditorValue()})}};this.handleUploadClick=function(){x.customImageRadio.checked=!0;var y=x.i18n.bannerImage.uploadBanner;x.dialog=p.default.createSpecifiedDialog(n.default,{name:y.name,description:y.description});x.dialog.show();x.own((0,m.default)(x.dialog,"save",x.handleDialogSave.bind(x)),(0,m.default)(x.dialog,"cancel",x.setRadioState.bind(x)))};this.handleCustomTabClick=
function(){x.imageTab.classList.remove("org-settings__banner-tab-active");x.customTab.classList.add("org-settings__banner-tab-active");v.default.hideNode(x.imagePanel);v.default.showNode(x.customPanel)};this.handleSaveCustomClick=function(){var y=x.editor.get("value");y&&(y=x.escapeQuotes(x.removeSecurityToken(y)));x.value&&y===x.value[0].innerHTML||((0,f.default)("[name\x3dbannerRadio]",x.domNode).attr("checked",!1),x.updateSetting({rotatorPanels:JSON.stringify([{id:x.HTML_BANNER,innerHTML:y}])},
x.i18n.bannerImageError,x.i18n.bannerImageSuccess).then(function(){x.value[0].innerHTML=y;!x.portal.isPortal&&-1<y.indexOf("http://")&&e.default.showAlert("error",b.default.common.httpWarning)}))};this.sanitizer=new u.default(g.default.orgSettingsSanitizerParams,!0);this.sanitizer.sanitizeUrl=g.default.sanitizeUrlOrgOverride;g.default.adjustSanitizerForOrgSettingsUse(this.sanitizer)}w.prototype.setRadioState=function(){if(this.value){var t=this.value;this.selectedPanelId=t&&1===t.length?(t=t[0].id)?
t:this.CUSTOM_BANNER:t&&1<t.length?this.CUSTOM_BANNER:null}else this.selectedPanelId=null;this.selectedPanelId?this.selectedPanelId===this.PREDEFINED_BANNER1?this.banner1Radio.checked=!0:this.selectedPanelId===this.PREDEFINED_BANNER2?this.banner2Radio.checked=!0:this.selectedPanelId===this.PREDEFINED_BANNER3?this.banner3Radio.checked=!0:this.selectedPanelId===this.PREDEFINED_BANNER4?this.banner4Radio.checked=!0:this.selectedPanelId===this.PREDEFINED_BANNER5?this.banner5Radio.checked=!0:this.selectedPanelId===
this.CUSTOM_BANNER?this.customImageRadio.checked=!0:this.selectedPanelId===this.HTML_BANNER&&this.handleCustomTabClick():this.banner2Radio.checked=!0};w.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.homePageTab);this.templateString=k.default;this.inherited(arguments)};w.prototype.render=function(){this._label.textContent=this.label;this._description.innerHTML=this.description;this.banner1Image.src=this.bannerSrc("homepage-banner-1.jpg");this.banner2Image.src=
this.bannerSrc("homepage-banner-2.jpg");this.banner3Image.src=this.bannerSrc("homepage-banner-3.jpg");this.banner4Image.src=this.bannerSrc("homepage-banner-4.jpg");this.banner5Image.src=this.bannerSrc("homepage-banner-5.jpg");this.initEditor();this.setRadioState()};w.prototype.addEventListeners=function(){var t=this;this.own((0,f.default)("[name\x3dbannerRadio]",this.domNode).on("change",this.handleRadioChange),(0,m.default)(this.customImageUpload,"click",this.handleUploadClick),(0,m.default)(this.imageTab,
"click",function(){t.imageTab.classList.add("org-settings__banner-tab-active");t.customTab.classList.remove("org-settings__banner-tab-active");v.default.showNode(t.imagePanel);v.default.hideNode(t.customPanel)}),(0,m.default)(this.customTab,"click",this.handleCustomTabClick),(0,m.default)(this.saveCustom,"click",this.handleSaveCustomClick),h.default.subscribe("logo-thumb/update",this.handleLogoUpdate.bind(this)))};w.prototype.handleLogoUpdate=function(t,z,x,y){var A=this,B=this.buildRotatorPanels(t,
z);t={thumbnail:t,clearEmptyFields:!0};B&&(t.rotatorPanels=JSON.stringify(B));return this.updateSetting(t,y||b.default.generalTab.logoError,x||b.default.generalTab.logoSuccess,!1,"general").then(function(){A.portal.rotatorPanels=B})};w.prototype.handleDialogSave=function(t){var z=this,x=t.formData;this.customImageKey="banner.".concat(t.ext);x.append("key",this.customImageKey);this.addResource(x,void 0,this.i18n.customImageError).then(function(){var y=z.buildRotatorPanels();z.updateSetting({rotatorPanels:JSON.stringify(y)},
z.i18n.bannerImageError,z.i18n.bannerImageSuccess).then(function(){y&&(z.value=y,z.setEditorValue(),z.dialog.hide())})},function(){})};w.prototype.initEditor=function(){this.editor=new l.default({id:"".concat(this.id,"_bannerHTMLEditor"),height:"120px",plugins:"bold italic underline foreColor hiliteColor | justifyLeft justifyCenter justifyRight justifyFull | insertOrderedList insertUnorderedList indent outdent | createEsriLink unlink insertEsriImage | undo redo | orgviewsourcesanitize".split(" "),
style:"font-family:Verdana; font-size:13px;"},this.domNode.querySelector(".js-editor"));this.editor.startup();this.setEditorValue()};w.prototype.setEditorValue=function(){var t=this.value&&this.value.map(function(z){return a.__assign({},z)});t&&(t=(t=this.insertSecurityToken(t[0]))?this.fixSingleDivIssue(t):"",this.editor.set("value",this.sanitizer.sanitize(t)))};w.prototype.insertSecurityToken=function(t){return t&&t.id&&t.innerHTML?(t.innerHTML=t.innerHTML.replace("token\x3dSECURITY_TOKEN","token\x3d"+
q.default.getToken()),t.innerHTML=this.portal.allSSL?t.innerHTML.replace("http:","https:"):t.innerHTML.replace("https:","http:"),t.innerHTML):t};w.prototype.removeSecurityToken=function(t){t&&(t=t.replace("token\x3d"+q.default.getToken(),"token\x3dSECURITY_TOKEN"));return t};w.prototype.fixSingleDivIssue=function(t){var z=new RegExp(/\/div>/i),x=new RegExp(/<div/gi);return(new RegExp(/^<div/i)).test(t)&&z.test(t)&&1<t.match(x).length?t:"\x3cdiv\x3e"+t+"\x3c/div\x3e"};w.prototype.escapeQuotes=function(t){t&&
0<t.length&&(t=t.replace(/"/g,"'"));return t};w.prototype.bannerSrc=function(t){return q.default.relativeToExplicitUrl("".concat(this.IMAGE_PATH).concat(t))};w.prototype.buildRotatorPanels=function(t,z){t=z?"":t||this.portal.thumbnail;if(this.banner1Radio.checked)var x=this.PREDEFINED_BANNER1;else this.banner2Radio.checked?x=this.PREDEFINED_BANNER2:this.banner3Radio.checked?x=this.PREDEFINED_BANNER3:this.banner4Radio.checked?x=this.PREDEFINED_BANNER4:this.banner5Radio.checked?x=this.PREDEFINED_BANNER5:
this.customImageRadio.checked&&(x=this.CUSTOM_BANNER);if(x){var y="";y=this.getBaseUrl();x===this.CUSTOM_BANNER&&this.customImageKey?(t="".concat(y,"portals/self/resources/").concat(this.customImageKey,"?token\x3dSECURITY_TOKEN"),y='\x3cimg src\x3d"'.concat(t,'" style\x3d"').concat(this.BANNER_IMG_STYLE,'" /\x3e')):(z=void 0,t&&0<t.length&&(z="".concat(y,"portals/self/resources/").concat(t,"?token\x3dSECURITY_TOKEN")),y='\x3cimg src\x3d"images/'.concat(x,'.jpg" style\x3d"').concat(this.BANNER_IMG_STYLE,
'height:180px;" /\x3e'),y+='\x3cdiv style\x3d"position: absolute; bottom: 80px; '.concat(c.default.isRightToleft?"right":"left",':80px; max-height:65px; width: 660px; margin:0;"\x3e'),z&&(y+='\x3cimg src\x3d"'.concat(z,'" alt\x3d"').concat(this.portal.name,'" class\x3d"esriFloatLeading esriTrailingMargin025" style\x3d"margin-bottom:0;max-height:100px;" /\x3e')),y+='\x3cspan style\x3d"position:absolute;bottom:0;margin-bottom:0;line-height:normal; font-family:HelveticaNeue,Verdana; font-weight:600;font-size:32px;'.concat(this.getBannerTextColor(x),
'"\x3e').concat(this.portal.name,"\x3c/span\x3e\x3c/div\x3e"));return[{id:x,innerHTML:y}]}};w.prototype.getBannerTextColor=function(t){var z="";this.PREDEFINED_BANNER1===t||this.PREDEFINED_BANNER3===t||this.PREDEFINED_BANNER5===t?z="color:#fff;":this.PREDEFINED_BANNER2===t?z="color:#369;":this.PREDEFINED_BANNER4===t&&(z="color:#036;");return z};w.prototype.getBaseUrl=function(){var t=c.default.restBaseUrl,z=t.indexOf("://");t=-1<z?t.substring(z+1):t;this.portal.urlKey&&this.portal.customBaseUrl&&
(z="".concat(this.portal.urlKey.toLowerCase(),".").concat(this.portal.customBaseUrl),z!==window.location.host&&(t=t.replace(this.portal.portalHostname,z)));return t};return w=a.__decorate([(0,d.default)(r.default)],w)}()})},"arcgisonline/pages/organization/widgets/settings/UploadImageDlg":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/UploadImageDlg.html dojo/text!./templates/UploadImageDlgDroppable.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/icons ../../../utils/dom ../../../components/ConfirmDialog ../../../../sharing/dijit/dialog/ConfirmDialog arcgisonline/tsutils/declareDecorator preact".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function l(c,d){this.i18n=a.__assign(a.__assign({},h.default.common),h.default.uploadLogo);this.icons=e.default;this.description=this.name="";this.droppable=!1}l.prototype.postMixInProperties=
function(){this.inherited(arguments);this.templateString=this.droppable?m.default:f.default};l.prototype.postCreate=function(){this.inherited(arguments);this.addEventListeners()};l.prototype.show=function(){var c=this,d=new p.default({title:this.name,buttonOkLabel:this.i18n.save,buttonCancel:this.i18n.cancel});d.domNode.classList.add("org-settings__upload-img-dlg");d.okButton.domNode.classList.add("margin-right-half");d.okButton.set("disabled",!0);d.actionBarNode.appendChild(this.saveLoader);d.setContent(this.domNode);
this.own((0,k.default)(d,"ok",this.handleSave.bind(this)),(0,k.default)(d,"cancel",function(){c.emit("cancel");if(c.onImageCancel)c.onImageCancel();v.default.showNode(c.saveLoader)}));d.show();d.closeButtonNode.tabIndex="0";d.closeButtonNode.focus();this.dialog=d};l.prototype.hide=function(){this.dialog.hide()};l.prototype.handleSave=function(){var c=this.file.name,d=c.lastIndexOf(".");c=c.substr(d+1,c.length).toLowerCase();d=new FormData;d.append("f","json");d.append("file",this.file);this.emit("save",
{formData:d,ext:c,rawFile:this.file});if(this.onImageSave)this.onImageSave({formData:d,ext:c,rawFile:this.file});v.default.showNode(this.saveLoader)};l.prototype.addEventListeners=function(){var c=this;this.own((0,k.default)(this.browseBtn,"click",function(){c.fileInput.click()}),(0,k.default)(this.fileInput,"change",function(){c.fileInput.value&&c.handleFileChange(c.fileInput.files[0])}));this.droppable&&this.imageUploadContainer&&this.own((0,k.default)(this.imageUploadContainer,"dragover, dragenter",
function(d){d.preventDefault()}),(0,k.default)(this.imageUploadContainer,"drop",this.handleFileDrop.bind(this)))};l.prototype.handleFileDrop=function(c){c.preventDefault();this.handleFileChange(c.dataTransfer.files[0])};l.prototype.handleFileChange=function(c){c&&(this.file=c,this.isValidImage(c)?(this.browseBtn.innerHTML='\x3cspan class\x3d"flex-1 avenir-demi text-left"\x3e'.concat(c.name,"\x3c/span\x3e").concat(this.icons.check["24"]),this.browseBtn.classList.add("org-settings__upload-image-file-chosen"),
this.dialog.okButton.set("disabled",!1)):this.showError(this.i18n.imageTypeError))};l.prototype.isValidImage=function(c){return(c=c&&c.name)&&/\.(gif|jpg|jpeg|png)$/i.test(c)};l.prototype.showError=function(c){var d=document.querySelector("#".concat("upload-image-error-dlg"));d||(d=document.createElement("div"),d.id="upload-image-error-dlg",d.classList.add("confirmDlg-default"),document.body.appendChild(d));var w=function(){v.default.removeComponent(d,document.body)};(0,q.render)((0,q.h)(g.default,
{autoCloseOnOk:!0,hideCancel:!0,hideClose:!0,strings:{title:this.i18n.error,description:c,ok:this.i18n.ok,close:this.i18n.close},width:"s",onOk:w,onCancel:w}),d);d.firstChild.classList.add("bring-modal-to-front")};return l=a.__decorate([(0,n.default)(r.default,u.default,b.default)],l)}()})},"arcgisonline/sharing/dijit/Editor":function(){define("require exports tslib ../../tsutils/declareDecorator dijit/Editor dijit/_editor/_Plugin dijit/form/ToggleButton".split(" "),function(U,M,a,b,k,f,m){function h(u){return new f.default({buttonClass:m.default,
command:u.name})}b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);U=function(){function u(r,e){this.declaredClass="arcgisonline.sharing.dijit.Editor"}return u=a.__decorate([(0,b.default)(k.default)],u)}();f.default.registry=a.__assign(a.__assign({},f.default.registry),{insertOrderedList:h,insertUnorderedList:h,justifyCenter:h,justifyFull:h,justifyLeft:h,justifyRight:h});return U})},"arcgisonline/sharing/dijit/LinkDialog":function(){define("require exports tslib dijit/_editor/_Plugin dijit/_editor/plugins/LinkDialog dojo/on ../util ../../pages/utils/validation ../../tsutils/declareDecorator dojo/i18n!../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);var e=function(){function g(p,n){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'hide'\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit/form/Select'\x3e\x3coption selected\x3d'selected' value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"}
g.prototype._loadDropDown=function(){var p=this;this.inherited(arguments);var n=0,q=setInterval(function(){p._urlInput?(clearInterval(q),p._urlInput.isValid=function(){return!0}):15<n&&clearInterval(q);n++},1E3)};g.prototype._onOpenDialog=function(){this.inherited(arguments);var p=r.default.linkDialog;this._urlInputError=document.getElementById("".concat(this._uniqueId,"_urlInputError"));this.dropDown.contentsNode.parentNode.classList.add("link-container");var n=this.dropDown.containerNode;n.classList.add("text-left");
n.title=p.linkTitle;n.firstChild.textContent="";var q=n.children[0];q.className+="link-container__title font-size-1";q.style.cssText="";q.textContent=p.linkTitle;if(q=document.getElementById("".concat(this._uniqueId,"_textInputLabel")))q.innerHTML=p.text;if(q=document.getElementById("".concat(this._uniqueId,"_urlInputLabel")))q.innerHTML=p.url;this._setButton.set("label",p.update);p=n.querySelector("#".concat(this._uniqueId,"_textInput"));var l=n.querySelector("#".concat(this._uniqueId,"_urlInput")),
c=p.value;setTimeout(function(){c&&l.focus()},150)};g.prototype._isValid=function(){var p=this._urlInput.get("value"),n=document.getElementById("widget_".concat(this._uniqueId,"_urlInput")),q=document.getElementById("".concat(this._uniqueId,"_urlInput"));if(0===(null===p||void 0===p?void 0:p.length))return n.classList.add("input-error-border"),h.default.setInvalidState(q,this._urlInputError,r.default.linkDialog.invalidUrl),!1;if(!m.default.isPortal()&&p.length&&-1<p.indexOf("http:"))return n.classList.add("input-error-border"),
h.default.setInvalidState(q,this._urlInputError,r.default.common.httpNotSupported),!1;n.classList.remove("input-error-border");h.default.clearState([q,this._urlInputError]);return!0};g.prototype._checkAndFixInput=function(){var p=this,n=this._urlInput.get("value");this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var q=n,l=!1,c=!1;1<(null===q||void 0===q?void 0:q.length)&&(q=q.trim(),0!==q.indexOf("mailto:")&&(0<q.indexOf("/")?
-1===q.indexOf("://")&&"/"!==q.charAt(0)&&q.indexOf("./")&&0!==q.indexOf("../")&&p._hostRxp.test(q)&&(l=!0):p._userAtRxp.test(q)&&(c=!0)));l&&-1===q.indexOf("{expression/")&&-1===q.indexOf("{relationships/")&&p._urlInput.set("value","http://".concat(q));c&&p._urlInput.set("value","mailto:".concat(q));p._setButton.set("disabled",!p._isValid())},250)};return g=a.__decorate([(0,u.default)(k.default)],g)}(),v=function(){function g(p,n){this.linkDialogTemplate="\x3cdiv class\x3d'link-container'\x3e\x3cdiv class\x3d'link-container__content text-left'\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_urlInputLabel' for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'\x3e\x3cdiv class\x3d'input-error-message' id\x3d'${id}_urlInputError'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'leader-half'\x3e\x3clabel class\x3d'avenir-demi trailer-0' id\x3d'${id}_textInputLabel' for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3cinput data-dojo-type\x3d'dijit/form/ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'link-container__button-row leader-half text-right'\x3e\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton class\x3d'padding-left-half cancel' data-dojo-type\x3d'dijit/form/Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e";
this.htmlTemplate='\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e';this.tag="img"}g.prototype._getCurrentValues=function(p){if((null===p||void 0===p?void 0:p.tagName.toLowerCase())===this.tag){var n=p.getAttribute("_djrealurl")||p.getAttribute("src");var q=p.getAttribute("alt");this.editor.selection.selectElement(p,!0)}else q=this.editor.selection.getSelectedText();return{urlInput:n||"",textInput:q||""}};g.prototype._onOpenDialog=function(){this.inherited(arguments);
var p=r.default.linkDialog;this._urlInputError=document.getElementById("".concat(this._uniqueId,"_urlInputError"));this.dropDown.contentsNode.parentNode.classList.add("link-container");var n=this.dropDown.containerNode;n.classList.add("text-left");n.title=p.imageTitle;n.firstChild.textContent="";n=n.children[0];n.className+="link-container__title font-size-1";n.style.cssText="";n.textContent=p.imageTitle;if(n=document.getElementById("".concat(this._uniqueId,"_textInputLabel")))n.innerHTML=p.description;
if(n=document.getElementById("".concat(this._uniqueId,"_urlInputLabel")))n.innerHTML=p.url;this._setButton.set("label",p.update)};g.prototype._isValid=function(){var p=this._urlInput.get("value"),n=document.getElementById("widget_".concat(this._uniqueId,"_urlInput")),q=document.getElementById("".concat(this._uniqueId,"_urlInput"));if(0===(null===p||void 0===p?void 0:p.length))return n.classList.add("input-error-border"),h.default.setInvalidState(q,this._urlInputError,r.default.linkDialog.invalidUrl),
!1;if(!m.default.isPortal()&&p.length&&-1<p.indexOf("http:"))return n.classList.add("input-error-border"),h.default.setInvalidState(q,this._urlInputError,r.default.common.httpNotSupported),!1;n.classList.remove("input-error-border");h.default.clearState([q,this._urlInputError]);return!0};g.prototype._connectTagEvents=function(){var p=this;this.inherited(arguments);this.editor.onLoadDeferred.then(function(){p.own((0,f.default)(p.editor.editNode,"mousedown",p._selectTag.bind(p)))})};g.prototype._selectTag=
function(p){if(null===p||void 0===p?0:p.target)p=p.target,(p.tagName?p.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(p)};g.prototype._checkValues=function(p){if(null===p||void 0===p?0:p.urlInput)p.urlInput=p.urlInput.replace(/"/g,"\x26quot;");if(null===p||void 0===p?0:p.textInput)p.textInput=p.textInput.replace(/"/g,"\x26quot;");return p};g.prototype._onDblClick=function(p){if(p&&p.target&&(p=p.target,(p.tagName?p.tagName.toLowerCase():"")===this.tag&&p.src)){var n=this.editor;
this.editor.selection.selectElement(p);n.onDisplayChanged();n._updateTimer&&(n._updateTimer.remove(),delete n._updateTimer);n.onNormalizedDisplayChanged();var q=this.button;setTimeout(function(){q.set("disabled",!1);q.loadAndOpenDropDown().then(function(){q.dropDown.focus&&q.dropDown.focus()})},10)}};return g=a.__decorate([(0,u.default)(k.default)],g)}();b.default.registry.createEsriLink=function(g){return new e({command:"createLink"})};b.default.registry.insertEsriImage=function(g){return new v({command:"insertImage"})};
e.ImgLinkDialog=v;return e})},"dijit/_editor/plugins/LinkDialog":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/query dojo/string ../_Plugin ../../form/DropDownButton ../range".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){var p=a("dijit._editor.plugins.LinkDialog",e,{allowUnsafeHtml:!1,linkFilter:[[/</g,"\x26lt;"]],buttonClass:v,useDefaultCommand:!1,urlRegExp:"((https?|ftps?|file)\\://|./|../|/|)(/[a-zA-Z]{1,1}:/|)(((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)*(?:[a-zA-Z](?:[-\\da-zA-Z]{0,80}[\\da-zA-Z])?)\\.?)|(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])|(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]|(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]|(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])|0[xX]0*[\\da-fA-F]{1,8}|([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}|([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])))(\\:\\d+)?(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]{0,}(?:\\?[^?#\\s/]*)?(?:#.*)?)?)?",
emailRegExp:"\x3c?(mailto\\:)([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)|localhost|^[^-][a-zA-Z0-9_-]*\x3e?",htmlTemplate:'\x3ca href\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" target\x3d"${targetSelect}"\x3e${textInput}\x3c/a\x3e',tag:"a",_hostRxp:/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,_userAtRxp:/^([!#-'*+\-\/-9=?A-Z^-~]+[.])*[!#-'*+\-\/-9=?A-Z^-~]+@/i,
linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'true' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_targetSelect'\x3e${target}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cselect id\x3d'${id}_targetSelect' name\x3d'targetSelect' data-dojo-type\x3d'dijit.form.Select'\x3e\x3coption selected\x3d'selected' value\x3d'_self'\x3e${currentWindow}\x3c/option\x3e\x3coption value\x3d'_blank'\x3e${newWindow}\x3c/option\x3e\x3coption value\x3d'_top'\x3e${topWindow}\x3c/option\x3e\x3coption value\x3d'_parent'\x3e${parentWindow}\x3c/option\x3e\x3c/select\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
_initButton:function(){this.inherited(arguments);this.button.loadDropDown=f.hitch(this,"_loadDropDown");this._connectTagEvents()},_loadDropDown:function(q){U("dojo/i18n ../../TooltipDialog ../../registry ../../form/Button ../../form/Select ../../form/ValidationTextBox dojo/i18n!../../nls/common dojo/i18n!../nls/LinkDialog".split(" "),f.hitch(this,function(l,c,d){var w=this;this.tag="insertImage"==this.command?"img":"a";l=f.delegate(l.getLocalization("dijit","common",this.lang),l.getLocalization("dijit._editor",
"LinkDialog",this.lang));var t=this.dropDown=this.button.dropDown=new c({title:l[this.command+"Title"],ownerDocument:this.editor.ownerDocument,dir:this.editor.dir,execute:f.hitch(this,"setValue"),onOpen:function(){w._onOpenDialog();c.prototype.onOpen.apply(this,arguments)},onCancel:function(){setTimeout(f.hitch(w,"_onCloseDialog"),0)}});l.urlRegExp=this.urlRegExp;l.id=d.getUniqueId(this.editor.id);this._uniqueId=l.id;this._setContent(t.title+"\x3cdiv style\x3d'border-bottom: 1px black solid;padding-bottom:2pt;margin-bottom:4pt'\x3e\x3c/div\x3e"+
r.substitute(this.linkDialogTemplate,l));t.startup();this._urlInput=d.byId(this._uniqueId+"_urlInput");this._textInput=d.byId(this._uniqueId+"_textInput");this._setButton=d.byId(this._uniqueId+"_setButton");this.own(d.byId(this._uniqueId+"_cancelButton").on("click",f.hitch(this.dropDown,"onCancel")));this._urlInput&&this.own(this._urlInput.on("change",f.hitch(this,"_checkAndFixInput")));this._textInput&&this.own(this._textInput.on("change",f.hitch(this,"_checkAndFixInput")));this._urlRegExp=new RegExp("^"+
this.urlRegExp+"$","i");this._emailRegExp=new RegExp("^"+this.emailRegExp+"$","i");this._urlInput.isValid=f.hitch(this,function(){var z=this._urlInput.get("value");return this._urlRegExp.test(z)||this._emailRegExp.test(z)});this.own(m(t.domNode,"keydown",f.hitch(this,f.hitch(this,function(z){!z||z.keyCode!=k.ENTER||z.shiftKey||z.metaKey||z.ctrlKey||z.altKey||this._setButton.get("disabled")||(t.onExecute(),t.execute(t.get("value")))}))));q()}))},_checkAndFixInput:function(){var q=this,l=this._urlInput.get("value");
this._delayedCheck&&(clearTimeout(this._delayedCheck),this._delayedCheck=null);this._delayedCheck=setTimeout(function(){var c=l,d=!1,w=!1;c&&1<c.length&&(c=f.trim(c),0!==c.indexOf("mailto:")&&(0<c.indexOf("/")?-1===c.indexOf("://")&&"/"!==c.charAt(0)&&c.indexOf("./")&&0!==c.indexOf("../")&&q._hostRxp.test(c)&&(d=!0):q._userAtRxp.test(c)&&(w=!0)));d&&q._urlInput.set("value","http://"+c);w&&q._urlInput.set("value","mailto:"+c);q._setButton.set("disabled",!q._isValid())},250)},_connectTagEvents:function(){this.editor.onLoadDeferred.then(f.hitch(this,
function(){this.own(m(this.editor.editNode,"mouseup",f.hitch(this,"_onMouseUp")));this.own(m(this.editor.editNode,"dblclick",f.hitch(this,"_onDblClick")))}))},_isValid:function(){return this._urlInput.isValid()&&this._textInput.isValid()},_setContent:function(q){this.dropDown.set({parserScope:"dojo",content:q})},_checkValues:function(q){q&&q.urlInput&&(q.urlInput=q.urlInput.replace(/"/g,"\x26quot;"));!this.allowUnsafeHtml&&q&&q.textInput&&("function"===typeof this.linkFilter?q.textInput=this.linkFilter(q.textInput):
M.forEach(this.linkFilter,function(l){q.textInput=q.textInput.replace(l[0],l[1])}));return q},_createlinkEnabledImpl:function(){return!0},setValue:function(q){this._onCloseDialog();if(9>h("ie")){var l=g.getSelection(this.editor.window).getRangeAt(0).endContainer;3===l.nodeType&&(l=l.parentNode);l&&l.nodeName&&l.nodeName.toLowerCase()!==this.tag&&(l=this.editor.selection.getSelectedElement(this.tag));l&&l.nodeName&&l.nodeName.toLowerCase()===this.tag&&this.editor.queryCommandEnabled("unlink")&&(this.editor.selection.selectElementChildren(l),
this.editor.execCommand("unlink"))}q=this._checkValues(q);this.editor.execCommand("inserthtml",r.substitute(this.htmlTemplate,q));u("a",this.editor.document).forEach(function(c){c.innerHTML||b.has(c,"name")||c.parentNode.removeChild(c)},this)},_onCloseDialog:function(){this.editor.focused&&this.editor.focus()},_getCurrentValues:function(q){if(q&&q.tagName.toLowerCase()===this.tag){var l=q.getAttribute("_djrealurl")||q.getAttribute("href");var c=q.getAttribute("target")||"_self";var d=q.textContent||
q.innerText;this.editor.selection.selectElement(q,!0)}else d=this.editor.selection.getSelectedText();return{urlInput:l||"",textInput:d||"",targetSelect:c||""}},_onOpenDialog:function(){if(h("ie")){var q=g.getSelection(this.editor.window);if(q.rangeCount){var l=q.getRangeAt(0);var c=l.endContainer;3===c.nodeType&&(c=c.parentNode);c&&c.nodeName&&c.nodeName.toLowerCase()!==this.tag&&(c=this.editor.selection.getSelectedElement(this.tag));if(!c||c.nodeName&&c.nodeName.toLowerCase()!==this.tag)(q=this.editor.selection.getAncestorElement(this.tag))&&
q.nodeName&&q.nodeName.toLowerCase()==this.tag?(c=q,this.editor.selection.selectElement(c)):l.startContainer===l.endContainer&&(q=l.startContainer.firstChild)&&q.nodeName&&q.nodeName.toLowerCase()==this.tag&&(c=q,this.editor.selection.selectElement(c))}}else c=this.editor.selection.getAncestorElement(this.tag);this.dropDown.reset();this._setButton.set("disabled",!0);this.dropDown.set("value",this._getCurrentValues(c))},_onDblClick:function(q){if(q&&q.target&&(q=q.target,(q.tagName?q.tagName.toLowerCase():
"")===this.tag&&b.get(q,"href"))){var l=this.editor;this.editor.selection.selectElement(q);l.onDisplayChanged();l._updateTimer&&(l._updateTimer.remove(),delete l._updateTimer);l.onNormalizedDisplayChanged();var c=this.button;setTimeout(function(){c.set("disabled",!1);c.loadAndOpenDropDown().then(function(){c.dropDown.focus&&c.dropDown.focus()})},10)}},_onMouseUp:function(){if(h("ff")){var q=this.editor.selection.getAncestorElement(this.tag);if(q){var l=g.getSelection(this.editor.window).getRangeAt(0);
if(l.collapsed&&q.childNodes.length){var c=l.cloneRange();c.selectNodeContents(q.childNodes[q.childNodes.length-1]);c.setStart(q.childNodes[0],0);1!==l.compareBoundaryPoints(c.START_TO_START,c)?l.setStartBefore(q):-1!==l.compareBoundaryPoints(c.END_TO_START,c)&&l.setStartAfter(q)}}}}}),n=a("dijit._editor.plugins.ImgLinkDialog",[p],{linkDialogTemplate:"\x3ctable role\x3d'presentation'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_urlInput'\x3e${url}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput dojoType\x3d'dijit.form.ValidationTextBox' regExp\x3d'${urlRegExp}' required\x3d'true' id\x3d'${id}_urlInput' name\x3d'urlInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d'${id}_textInput'\x3e${text}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' required\x3d'false' id\x3d'${id}_textInput' name\x3d'textInput' data-dojo-props\x3d'intermediateChanges:true'/\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d'2'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'submit' id\x3d'${id}_setButton'\x3e${set}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' type\x3d'button' id\x3d'${id}_cancelButton'\x3e${buttonCancel}\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",
htmlTemplate:'\x3cimg src\x3d"${urlInput}" _djrealurl\x3d"${urlInput}" alt\x3d"${textInput}" /\x3e',tag:"img",_getCurrentValues:function(q){if(q&&q.tagName.toLowerCase()===this.tag){var l=q.getAttribute("_djrealurl")||q.getAttribute("src");var c=q.getAttribute("alt");this.editor.selection.selectElement(q,!0)}else c=this.editor.selection.getSelectedText();return{urlInput:l||"",textInput:c||""}},_isValid:function(){return this._urlInput.isValid()},_connectTagEvents:function(){this.inherited(arguments);
this.editor.onLoadDeferred.then(f.hitch(this,function(){this.own(m(this.editor.editNode,"mousedown",f.hitch(this,"_selectTag")))}))},_selectTag:function(q){q&&q.target&&(q=q.target,(q.tagName?q.tagName.toLowerCase():"")===this.tag&&this.editor.selection.selectElement(q))},_checkValues:function(q){q&&q.urlInput&&(q.urlInput=q.urlInput.replace(/"/g,"\x26quot;"));q&&q.textInput&&(q.textInput=q.textInput.replace(/"/g,"\x26quot;"));return q},_onDblClick:function(q){if(q&&q.target&&(q=q.target,(q.tagName?
q.tagName.toLowerCase():"")===this.tag&&b.get(q,"src"))){var l=this.editor;this.editor.selection.selectElement(q);l.onDisplayChanged();l._updateTimer&&(l._updateTimer.remove(),delete l._updateTimer);l.onNormalizedDisplayChanged();var c=this.button;setTimeout(function(){c.set("disabled",!1);c.loadAndOpenDropDown().then(function(){c.dropDown.focus&&c.dropDown.focus()})},10)}}});e.registry.createLink=function(q){var l={command:"createLink",allowUnsafeHtml:"allowUnsafeHtml"in q?q.allowUnsafeHtml:!1};
"linkFilter"in q&&(l.linkFilter=q.linkFilter);return new p(l)};e.registry.insertImage=function(){return new n({command:"insertImage"})};p.ImgLinkDialog=n;return p})},"arcgisonline/pages/dijit/InlineEdit/OrgViewSource":function(){define("require exports tslib ../../utils/organization ../../../tsutils/declareDecorator dijit/_editor/_Plugin dijit/_editor/plugins/ViewSource esri/libs/sanitizer/Sanitizer".split(" "),function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);var u=function(){function r(e){this.declaredClass="arcgisonline.pages.dijit.InlineEdit.OrgViewSource";this.sanitizer=new h.default(b.default.orgSettingsSanitizerParams,!0);this.sanitizer.sanitizeUrl=b.default.sanitizeUrlOrgOverride;b.default.adjustSanitizerForOrgSettingsUse(this.sanitizer)}r.prototype._filter=function(e){e&&(e=this.sanitizer.sanitize(e),this.stripScripts&&(e=this._stripScripts(e)),this.stripComments&&(e=this._stripComments(e)),this.stripIFrames&&
(e=this._stripIFrames(e)),this.stripEventHandlers&&(e=this._stripEventHandlers(e)));return e};return r=a.__decorate([(0,k.default)(m.default)],r)}();f.default.registry.orgViewSourceSanitize=f.default.registry.orgviewsourcesanitize=function(r){return new u({readOnly:"readOnly"in r?r.readOnly:!1,stripComments:"stripComments"in r?r.stripComments:!0,stripScripts:"stripScripts"in r?r.stripScripts:!0,stripIFrames:"stripIFrames"in r?r.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in r?r.stripEventHandlers:
!0})};return u})},"dijit/_editor/plugins/ViewSource":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/window ../../focus ../_Plugin ../../form/ToggleButton ../.. ../../registry dojo/i18n!../nls/commands".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){var d=a("dijit._editor.plugins.ViewSource",n,{stripScripts:!0,stripComments:!0,stripIFrames:!0,stripEventHandlers:!0,
readOnly:!1,_fsPlugin:null,toggle:function(){v("webkit")&&(this._vsFocused=!0);this.button.set("checked",!this.button.get("checked"))},_initButton:function(){var w=h.getLocalization("dijit._editor","commands"),t=this.editor;this.button=new q({label:w.viewSource,ownerDocument:t.ownerDocument,dir:t.dir,lang:t.lang,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ViewSource",tabIndex:"-1",onChange:r.hitch(this,"_showSource")});this.button.set("readOnly",!1)},setEditor:function(w){this.editor=
w;this._initButton();this.removeValueFilterHandles();this._setValueFilterHandle=M.before(this.editor,"setValue",r.hitch(this,function(t){return[this._filter(t)]}));this._getValueFilterHandle=M.after(this.editor,"getValue",r.hitch(this,function(t){return this._filter(t)}));this.editor.addKeyHandler(u.F12,!0,!0,r.hitch(this,function(t){this.button.focus();this.toggle();t.stopPropagation();t.preventDefault();setTimeout(r.hitch(this,function(){this.editor.focused&&this.editor.focus()}),100)}))},_showSource:function(w){var t=
this.editor,z=t._plugins;this._sourceShown=w;var x=this;try{this.sourceArea||this._createSourceView();if(w)t._sourceQueryCommandEnabled=t.queryCommandEnabled,t.queryCommandEnabled=function(A){return"viewsource"===A.toLowerCase()},this.editor.onDisplayChanged(),U.forEach(z,function(A){!A||A instanceof d||!A.isInstanceOf(n)||A.set("disabled",!0)}),this._fsPlugin&&(this._fsPlugin._getAltViewNode=function(){return x.sourceArea}),this.sourceArea.value=t.get("value"),this.sourceArea.style.height=t.iframe.style.height,
this.sourceArea.style.width=t.iframe.style.width,t.iframe.parentNode.style.position="relative",m.set(t.iframe,{position:"absolute",top:0,visibility:"hidden"}),m.set(this.sourceArea,{display:"block"}),this._resizeHandle=e(window,"resize",r.hitch(this,function(){var A=g.getBox(t.ownerDocument);"_prevW"in this&&"_prevH"in this&&A.w===this._prevW&&A.h===this._prevH||(this._prevW=A.w,this._prevH=A.h,this._resizer&&(clearTimeout(this._resizer),delete this._resizer),this._resizer=setTimeout(r.hitch(this,
function(){delete this._resizer;this._resize()}),10))})),setTimeout(r.hitch(this,this._resize),100),this.editor.onNormalizedDisplayChanged(),this.editor.__oldGetValue=this.editor.getValue,this.editor.getValue=r.hitch(this,function(){var A=this.sourceArea.value;return A=this._filter(A)}),this._setListener=M.after(this.editor,"setValue",r.hitch(this,function(A){this.sourceArea.value=A||""}),!0);else{if(!t._sourceQueryCommandEnabled)return;this._setListener.remove();delete this._setListener;this._resizeHandle.remove();
delete this._resizeHandle;this.editor.__oldGetValue&&(this.editor.getValue=this.editor.__oldGetValue,delete this.editor.__oldGetValue);t.queryCommandEnabled=t._sourceQueryCommandEnabled;if(!this._readOnly){var y=this.sourceArea.value;t.beginEditing();t.set("value",y);t.endEditing()}U.forEach(z,function(A){A&&A.isInstanceOf(n)&&A.set("disabled",!1)});m.set(this.sourceArea,"display","none");m.set(t.iframe,{position:"relative",visibility:"visible"});delete t._sourceQueryCommandEnabled;this.editor.onDisplayChanged()}setTimeout(r.hitch(this,
function(){var A=t.domNode.parentNode;A&&(A=c.getEnclosingWidget(A))&&A.resize&&A.resize();t.resize()}),300)}catch(A){}},updateState:function(){this.button.set("disabled",this.get("disabled"))},_resize:function(){var w=this.editor,t=w.getHeaderHeight(),z=w.getFooterHeight(),x=f.position(w.domNode),y=f.getPadBorderExtents(w.iframe.parentNode),A=f.getMarginExtents(w.iframe.parentNode),B=f.getPadBorderExtents(w.domNode),D=x.w-B.w;x=x.h-(t+B.h+z);this._fsPlugin&&this._fsPlugin.isFullscreen&&(w=g.getBox(w.ownerDocument),
D=w.w-B.w,x=w.h-(t+B.h+z));f.setMarginBox(this.sourceArea,{w:Math.round(D-(y.w+A.w)),h:Math.round(x-(y.h+A.h))})},_createSourceView:function(){var w=this.editor,t=w._plugins;this.sourceArea=k.create("textarea");this.readOnly&&(b.set(this.sourceArea,"readOnly",!0),this._readOnly=!0);m.set(this.sourceArea,{padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});b.set(this.sourceArea,"aria-label",this.editor.id);k.place(this.sourceArea,w.iframe,"before");v("ie")&&w.iframe.parentNode.lastChild!==
w.iframe&&m.set(w.iframe.parentNode.lastChild,{width:"0px",height:"0px",padding:"0px",margin:"0px",borderWidth:"0px",borderStyle:"none"});w._viewsource_oldFocus=w.focus;var z=this;w.focus=function(){if(z._sourceShown)z.setSourceAreaCaret();else try{this._vsFocused?(delete this._vsFocused,p.focus(w.editNode)):w._viewsource_oldFocus()}catch(A){}};var x,y;for(x=0;x<t.length;x++)if((y=t[x])&&("dijit._editor.plugins.FullScreen"===y.declaredClass||y.declaredClass===l._scopeName+"._editor.plugins.FullScreen")){this._fsPlugin=
y;break}this._fsPlugin&&(this._fsPlugin._viewsource_getAltViewNode=this._fsPlugin._getAltViewNode,this._fsPlugin._getAltViewNode=function(){return z._sourceShown?z.sourceArea:this._viewsource_getAltViewNode()});this.own(e(this.sourceArea,"keydown",r.hitch(this,function(A){this._sourceShown&&A.keyCode==u.F12&&A.ctrlKey&&A.shiftKey&&(this.button.focus(),this.button.set("checked",!1),setTimeout(r.hitch(this,function(){w.focus()}),100),A.stopPropagation(),A.preventDefault())})))},_stripScripts:function(w){w&&
(w=w.replace(/<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>/ig,""),w=w.replace(/<\s*script\b([^<>]|\s)*>?/ig,""),w=w.replace(/<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>/ig,""));return w},_stripComments:function(w){w&&(w=w.replace(/\x3c!--(.|\s){1,}?--\x3e/g,""));return w},_stripIFrames:function(w){w&&(w=w.replace(/<\s*iframe[^>]*>((.|\s)*?)<\\?\/\s*iframe\s*>/ig,""));return w},_stripEventHandlers:function(w){if(w){var t=w.match(/<[a-z]+?\b(.*?on.*?(['"]).*?\2.*?)+>/gim);if(t)for(var z=
0,x=t.length;z<x;z++){var y=t[z],A=y.replace(/\s+on[a-z]*\s*=\s*(['"])(.*?)\1/igm,"");w=w.replace(y,A)}}return w},_filter:function(w){w&&(this.stripScripts&&(w=this._stripScripts(w)),this.stripComments&&(w=this._stripComments(w)),this.stripIFrames&&(w=this._stripIFrames(w)),this.stripEventHandlers&&(w=this._stripEventHandlers(w)));return w},removeValueFilterHandles:function(){this._setValueFilterHandle&&(this._setValueFilterHandle.remove(),delete this._setValueFilterHandle);this._getValueFilterHandle&&
(this._getValueFilterHandle.remove(),delete this._getValueFilterHandle)},setSourceAreaCaret:function(){var w=this.sourceArea;p.focus(w);this._sourceShown&&!this.readOnly&&(w.setSelectionRange?w.setSelectionRange(0,0):this.sourceArea.createTextRange&&(w=w.createTextRange(),w.collapse(!0),w.moveStart("character",-99999),w.moveStart("character",0),w.moveEnd("character",0),w.select()))},destroy:function(){this._resizer&&(clearTimeout(this._resizer),delete this._resizer);this._resizeHandle&&(this._resizeHandle.remove(),
delete this._resizeHandle);this._setListener&&(this._setListener.remove(),delete this._setListener);this.removeValueFilterHandles();this.inherited(arguments)}});n.registry.viewSource=n.registry.viewsource=function(w){return new d({readOnly:"readOnly"in w?w.readOnly:!1,stripComments:"stripComments"in w?w.stripComments:!0,stripScripts:"stripScripts"in w?w.stripScripts:!0,stripIFrames:"stripIFrames"in w?w.stripIFrames:!0,stripEventHandlers:"stripEventHandlers"in w?w.stripEventHandlers:!0})};return d})},
"arcgisonline/pages/components/ImageUploadModal/ImageUploadModal":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./UploadStep ./EditStep ./FromMapStep ./shared arcgisonline/pages/utils/alerts dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){Object.defineProperty(M,"__esModule",{value:!0});h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);v=a.__importDefault(v);g=a.__importDefault(g);
p=a.__importDefault(p);U=p.default.uploadLogo;g=g.default.GroupWidget.thumbnailDlg;var n={title:U.name,drag:U.dragDrop,size:U.bestSize,browse:U.browse,save:p.default.common.save,cancel:p.default.common.cancel,fileError:U.validImageRequired,saveError:U.imageEditError,zoom:U.zoom,chooseDiff:U.chooseDiff,or:g.or,fromMap:g.createFromMap,fromMapDescription:g.createFromMapSub};p=function(q){function l(){K&&document.documentElement.classList.add("overflow-hidden")}var c=q.texts,d=q.height,w=q.zoomToFull,
t=q.onSave,z=q.onCancel,x=q.onDelete,y=q.hideSize,A=q.existingImage,B=q.isRound,D=q.fillBackground,C=q.maxSize,E=q.hasDelete,H=q.allowFromMap,G=q.aspectRatio,F=q.contentClass,I=q.itemId,J=q.mapId,K=q.fromOverlay,P=q.noEdit;q=a.__assign(a.__assign({},n),c);d=(0,k.useReducer)(m.reducer,{previewSrc:"",imageScale:1,imageWidth:0,imageHeight:0,imageTop:0,imageLeft:0,manuallySettingZoom:!1,isModified:!1,zoomValue:"50",currentStep:"upload",imageFormat:"png",fileName:"",editingExisting:!1,transformOrigin:{x:50,
y:50},loadingImage:!1,previewImage:void 0,texts:q,hideSize:y,saving:!1,deleting:!1,saveData:void 0,aspectRatio:G||1,height:d,isRound:B,fillBackground:D,maxSize:C,zoomToFull:w,allowFromMap:H,itemId:I,mapId:J,noEdit:P});var T=d[0],S=d[1];d=(0,k.useMemo)(function(){return{state:T,dispatch:S}},[T]);y=(0,k.useState)(!1);w=y[0];var L=y[1],N=(0,k.useRef)(null);y=(0,k.useRef)(null);B=(0,k.useRef)(null);D=q.title;C=q.save;H=q.cancel;var O=q.fileError;q=q.chooseDiff;(0,k.useEffect)(function(){var Z=function(ca){"new_thumb"!==
ca.data.dataType||T.previewSrc===ca.data.dataUrl||T.saving||(S((0,m.setImageFromMap)(ca.data.dataUrl)),window.parent.removeEventListener("message",Z))};window.parent.addEventListener("message",Z)},[]);(0,k.useEffect)(function(){N.current&&L(!0)},[N.current]);(0,k.useEffect)(function(){T.fromMapLoaded&&S((0,m.initSave)())},[T.fromMapLoaded]);(0,k.useEffect)(function(){T.saveData&&(t(T.saveData),l())},[T.saveData]);(0,k.useEffect)(function(){T.saving&&P&&S((0,m.updateSaveData)({blob:(0,e.dataURIToBlob)(T.previewSrc),
base64:T.previewSrc,format:T.imageFormat}))},[T.saving,P]);(0,k.useEffect)(function(){A&&S((0,m.editExistingImage)(A))},[A]);G=function(){return"edit"===T.currentStep};var Q=function(){return"fromMap"===T.currentStep};I="rtl"===document.documentElement.getAttribute("dir");J=function(){S((0,m.changeImage)())};var V=function(){S((0,m.initDelete)());x()},X=function(){z();l()};B.current&&(B.current.loading=T.saving);y.current&&(y.current.loading=T.deleting);return(0,b.h)(f.StoreContext.Provider,{value:d},
(0,b.h)("calcite-modal",{ref:N,open:w,role:"dialog","aria-modal":"true","aria-labelledby":"image-upload-modal-title",outsideCloseDisabled:!0,oncalciteModalClose:X,style:{"--calcite-modal-width":"650px"}},(0,b.h)("h3",{slot:"header",id:"image-upload-modal-title","aria-label":D,class:"font-size-2 trailer-0"},D),(0,b.h)("div",{slot:"content",class:"".concat(F||"")},(0,b.h)("div",{class:"panel content-node padding-trailer-1 ".concat(Q()?"":"org-settings__upload-logo-dlg-content")},"upload"===T.currentStep&&
(0,b.h)(h.default,null),G()&&(0,b.h)(u.default,null),Q()&&(0,b.h)(r.default,null))),(G()||Q())&&!E&&(0,b.h)("calcite-button",{slot:"back",appearance:"transparent",kind:"brand","icon-start":"chevron-left",width:"full",disabled:T.saving,onClick:J,"icon-flip-rtl":I?"start":""},q),G()&&T.editingExisting&&void 0!==x&&(0,b.h)("calcite-button",{ref:y,slot:"back",appearance:"outline",width:"full",kind:"brand",disabled:T.saving,onClick:V},c.delete),!E&&(0,b.h)("calcite-button",{slot:"secondary",disabled:T.saving,
kind:"brand",appearance:"outline",width:"full",onClick:X},H),E&&G()&&(0,b.h)("calcite-button",{slot:"secondary",disabled:T.saving||T.deleting,kind:"brand",appearance:"outline",width:"full",onClick:J},c.changePhoto),(0,b.h)("calcite-button",{ref:B,slot:"primary",kind:"brand",appearance:"solid",width:"full",onClick:function(){Q()?window.postMessage("thumbnail_create","*"):!P&&"edit"!==T.currentStep||!T.previewSrc?v.default.showAlert("error",O):S((0,m.initSave)())},disabled:T.deleting},C)))};p.defaultProps=
{height:412>window.innerWidth?200:300,texts:n,aspectRatio:1};M.default=p})},"arcgisonline/pages/components/ImageUploadModal/store-context":function(){define(["require","exports","preact","preact/hooks"],function(U,M,a,b){Object.defineProperty(M,"__esModule",{value:!0});M.useStoreContext=M.StoreContext=void 0;M.StoreContext=(0,a.createContext)({});M.useStoreContext=function(){return(0,b.useContext)(M.StoreContext)}})},"arcgisonline/pages/components/ImageUploadModal/reducer":function(){define(["require",
"exports","tslib"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.reducer=M.setImageFromMap=M.showFromMapStep=M.editExistingImage=M.updatePreviewImage=M.imageLoaded=M.updateZoomScale=M.updateManuallySettingZoom=M.updateImagePosition=M.updateSrcAndFileName=M.updatePreviewSrc=M.updateSaveData=M.initDelete=M.initSave=M.changeImage=M.SET_IMAGE_FROM_MAP=M.SHOW_FROM_MAP_STEP=M.IMAGE_LOADED=M.EDIT_EXISTING_IMAGE=M.UPDATE_PREVIEW_IMAGE=M.UPDATE_SRC_AND_FILE_NAME=M.UPDATE_ZOOM_SCALE=M.UPDATE_MANUALLY_SETTING_ZOOM=
M.UPDATE_IMAGE_POSITION=M.UPDATE_PREVIEW_SRC=M.UPDATE_SAVE_DATA=M.INIT_DELETE=M.INIT_SAVE=M.CHANGE_IMAGE=void 0;M.CHANGE_IMAGE="CHANGE_IMAGE";M.INIT_SAVE="INIT_SAVE";M.INIT_DELETE="INIT_DELETE";M.UPDATE_SAVE_DATA="UPDATE_SAVE_DATA";M.UPDATE_PREVIEW_SRC="UPDATE_PREVIEW_SRC";M.UPDATE_IMAGE_POSITION="UPDATE_IMAGE_POSITION";M.UPDATE_MANUALLY_SETTING_ZOOM="UPDATE_MANUALLY_SETTING_ZOOM";M.UPDATE_ZOOM_SCALE="UPDATE_ZOOM_SCALE";M.UPDATE_SRC_AND_FILE_NAME="UPDATE_SRC_AND_FILE_NAME";M.UPDATE_PREVIEW_IMAGE=
"UPDATE_PREVIEW_IMAGE";M.EDIT_EXISTING_IMAGE="EDIT_EXISTING_IMAGE";M.IMAGE_LOADED="IMAGE_LOADED";M.SHOW_FROM_MAP_STEP="SHOW_FROM_MAP_STEP";M.SET_IMAGE_FROM_MAP="SET_IMAGE_FROM_MAP";M.changeImage=function(){return{type:M.CHANGE_IMAGE}};M.initSave=function(){return{type:M.INIT_SAVE}};M.initDelete=function(){return{type:M.INIT_DELETE}};M.updateSaveData=function(b){return{type:M.UPDATE_SAVE_DATA,payload:b}};M.updatePreviewSrc=function(b){return{type:M.UPDATE_PREVIEW_SRC,payload:b}};M.updateSrcAndFileName=
function(b){return{type:M.UPDATE_SRC_AND_FILE_NAME,payload:b}};M.updateImagePosition=function(b){return{type:M.UPDATE_IMAGE_POSITION,payload:b}};M.updateManuallySettingZoom=function(b){return{type:M.UPDATE_MANUALLY_SETTING_ZOOM,payload:b}};M.updateZoomScale=function(b){return{type:M.UPDATE_ZOOM_SCALE,payload:b}};M.imageLoaded=function(b){return{type:M.IMAGE_LOADED,payload:b}};M.updatePreviewImage=function(b){return{type:M.UPDATE_PREVIEW_IMAGE,payload:b}};M.editExistingImage=function(b){return{type:M.EDIT_EXISTING_IMAGE,
payload:b}};M.showFromMapStep=function(){return{type:M.SHOW_FROM_MAP_STEP}};M.setImageFromMap=function(b){return{type:M.SET_IMAGE_FROM_MAP,payload:b}};M.reducer=function(b,k){var f=k.payload;switch(k.type){case M.CHANGE_IMAGE:return a.__assign(a.__assign({},b),{currentStep:"upload",editingExisting:!1,previewSrc:""});case M.INIT_SAVE:return a.__assign(a.__assign({},b),{saving:!0});case M.INIT_DELETE:return a.__assign(a.__assign({},b),{deleting:!0});case M.UPDATE_SAVE_DATA:return a.__assign(a.__assign({},
b),{saveData:a.__assign(a.__assign({},f),{fileName:b.fileName,isModified:b.isModified})});case M.UPDATE_PREVIEW_SRC:return a.__assign(a.__assign({},b),{previewSrc:f,imageScale:1,currentStep:"edit"});case M.UPDATE_SRC_AND_FILE_NAME:return a.__assign(a.__assign({},b),{previewSrc:f.previewSrc,fileName:f.fileName,imageScale:1,currentStep:b.noEdit?"upload":"edit"});case M.UPDATE_PREVIEW_IMAGE:return a.__assign(a.__assign({},b),{previewImage:f});case M.UPDATE_IMAGE_POSITION:return b=a.__assign({},b),void 0!==
f.imageTop&&(b.imageTop=f.imageTop),void 0!==f.imageLeft&&(b.imageLeft=f.imageLeft),a.__assign(a.__assign({},b),{isModified:!0});case M.UPDATE_MANUALLY_SETTING_ZOOM:return a.__assign(a.__assign({},b),{manuallySettingZoom:f});case M.EDIT_EXISTING_IMAGE:return a.__assign(a.__assign({},b),{editingExisting:!0,previewSrc:f,currentStep:"edit",loadingImage:!0});case M.UPDATE_ZOOM_SCALE:return a.__assign(a.__assign({},b),{imageScale:f.imageScale,zoomValue:f.zoomValue,isModified:!0});case M.IMAGE_LOADED:var m=
b.height,h=b.zoomToFull,u=b.aspectRatio;k={};if(b.editingExisting)k=f.width,k={imageWidth:k,imageHeight:k,imageScale:m/k,imageTop:0,imageLeft:0,transformOrigin:{x:0,y:0},loadingImage:!1,previewImage:f};else{u*=m;var r=f.clientWidth,e=f.clientHeight;k="fromMap"===b.currentStep;k={imageWidth:r,imageHeight:e,imageTop:Math.floor(m/2-e/2),imageLeft:Math.floor(u/2-r/2),currentStep:k?"fromMap":"edit",transformOrigin:{x:50,y:50},previewImage:f,fromMapLoaded:k};h&&(f=(m+2)/e,m=(u+2)/r,f=f>m?f:m,k=a.__assign(a.__assign({},
k),{imageScale:f,imageTop:k.imageTop-1,imageLeft:k.imageLeft-1,manuallySettingZoom:!0,zoomValue:"".concat(50+Math.log(f)/Math.log(1.1)),isModified:!0}))}b=a.__assign(a.__assign({},b),k);return b;case M.SHOW_FROM_MAP_STEP:return a.__assign(a.__assign({},b),{currentStep:"fromMap"});case M.SET_IMAGE_FROM_MAP:return a.__assign(a.__assign({},b),{previewSrc:f,imageScale:1});default:return a.__assign({},b)}}})},"arcgisonline/pages/components/ImageUploadModal/UploadStep":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h){var u=this;Object.defineProperty(M,"__esModule",{value:!0});h=a.__importDefault(h);M.default=function(){var r=(0,f.useStoreContext)(),e=r.state,v=r.dispatch,g=e.texts;r=e.hideSize;var p=e.allowFromMap,n=(0,k.useRef)(null),q=(0,k.useRef)(null);(0,k.useEffect)(function(){n.current&&n.current.focus()},[n.current]);var l=function(w){w.preventDefault()},c=function(w){var t=q.current;if(t.value||w){var z=w||t.files[0];z&&((null===z||void 0===z?0:z.name)&&/\.(gif|jpg|jpeg|png)$/i.test(z.name)?
(w=new FileReader,w.onload=function(x){return a.__awaiter(u,void 0,void 0,function(){return a.__generator(this,function(y){v((0,m.updateSrcAndFileName)({previewSrc:x.target.result,fileName:z.name||(null===t||void 0===t?void 0:t.value)||""}));return[2]})})},w.readAsDataURL(z)):h.default.showAlert("error",g.fileError))}},d=function(){v((0,m.showFromMapStep)())};return(0,b.h)("div",{class:"text-center",onDragOver:l,onDragEnter:l,onDrop:function(w){w.preventDefault();c(w.dataTransfer.files[0])},"aria-label":g.drag},
(0,b.h)("div",{class:"icon-large trailer-half leader-quarter text-dark-gray"},(0,b.h)("calcite-icon",{icon:"upload"})),(0,b.h)("div",{class:"trailer-0"},(0,b.h)("div",{class:"font-size-1","aria-label":g.drag},g.drag),!r&&(0,b.h)("div",{"aria-label":g.size},g.size)),(0,b.h)("button",{ref:n,class:"btn-link btn-link-dark-blue leader-1",onClick:function(){q.current.click()},onKeyDown:function(w){13===w.keyCode&&(w.preventDefault(),q.current.click())},"aria-label":g.browse},(0,b.h)("div",{class:"flex flex-align-center"},
(!e.noEdit||!e.fileName)&&(0,b.h)(b.Fragment,null,(0,b.h)("calcite-icon",{icon:"image",class:"margin-right-half"})," ",g.browse),e.noEdit&&e.fileName&&(0,b.h)(b.Fragment,null,e.fileName," ",(0,b.h)("calcite-icon",{icon:"check",class:"margin-left-half image-upload-modal__check-icon"})))),(0,b.h)("input",{ref:q,class:"hide",type:"file",accept:".jpg,.gif,.png,.jpeg",onChange:function(){c()}}),p&&(0,b.h)("div",{tabIndex:0,onClick:d},(0,b.h)("p",{class:"text-center leader-1 trailer-half"},(0,b.h)("b",
{class:"horizontal-lines"},(0,b.h)("span",null,g.or))),(0,b.h)("div",{class:"text-center panel thumbnail-from-map-container","data-dojo-attach-point":"_createFromMap",id:"createFromMap"},(0,b.h)("p",{class:"trailer-0"},(0,b.h)("span",{class:"flex-center font-size-1"},(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("calcite-icon",{scale:"m",icon:"map",class:"margin-right-half"})," ",g.fromMap)),(0,b.h)("span",{class:"display-block font-size--2"},g.fromMapDescription)))))}})},"arcgisonline/pages/components/ImageUploadModal/EditStep":function(){define("require exports tslib preact preact/hooks ./TranslucentContainer ./ImageCanvas ./store-context ./reducer arcgisonline/pages/utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);r=a.__importDefault(r);M.default=function(){var e=(0,h.useStoreContext)(),v=e.state,g=e.dispatch,p=v.texts,n=(0,k.useRef)(null),q=(0,k.useRef)(null),l=v.height*v.aspectRatio;e="".concat(v.height+60,"px");var c={width:"".concat(l+60,"px"),height:e};l={width:"".concat(l,"px"),height:"".concat(v.height,"px")};var d={transform:"scale(".concat(v.imageScale,")"),top:"".concat(v.imageTop,
"px"),left:"".concat(v.imageLeft,"px"),transformOrigin:"".concat(v.transformOrigin.x,"% ").concat(v.transformOrigin.y,"%")};(0,k.useEffect)(function(){n.current&&n.current.focus()},[n.current]);(0,k.useEffect)(function(){q.current&&g((0,u.updatePreviewImage)(q.current))},[q.current]);var w=function(){g((0,u.imageLoaded)(q.current))},t=function(){r.default.showAlert("error",p.fileError);g((0,u.changeImage)())},z=function(x){v.manuallySettingZoom?g((0,u.updateManuallySettingZoom)(!1)):g((0,u.updateZoomScale)({imageScale:Math.pow(1.1,
x.target.value-50),zoomValue:x.target.value}))};return(0,b.h)("div",{class:"edit-thumb-display",onWheel:function(x){x.preventDefault();x=0<x.deltaY?1*v.imageScale/1.1:1.1*v.imageScale;g((0,u.updateZoomScale)({imageScale:x,zoomValue:"".concat(50+Math.log(x)/Math.log(1.1))}))}},(0,b.h)(m.default,{imageContainer:n.current}),(0,b.h)("div",{class:"crop-thumb-container overflow-hidden",style:{height:e}},(0,b.h)(f.default,{onDrag:function(x){g((0,u.updateImagePosition)({imageTop:v.imageTop+x.top,imageLeft:v.imageLeft+
x.left}))},style:c},(0,b.h)("div",{ref:n,class:"crop-thumb-clear",tabIndex:0,style:l,onKeyDown:function(x){var y=!1;switch(x.key){case "ArrowUp":g((0,u.updateImagePosition)({imageTop:v.imageTop-1}));y=!0;break;case "ArrowDown":g((0,u.updateImagePosition)({imageTop:v.imageTop+1}));y=!0;break;case "ArrowLeft":g((0,u.updateImagePosition)({imageLeft:v.imageLeft-1}));y=!0;break;case "ArrowRight":g((0,u.updateImagePosition)({imageLeft:v.imageLeft+1})),y=!0}y&&x.preventDefault()}},v.previewSrc&&(0,b.h)("img",
{ref:q,src:v.previewSrc,alt:"",class:"preview-image ".concat(v.loadingImage?"visibility-hidden":""),style:d,onLoad:w,onError:t})))),"edit"===v.currentStep&&(0,b.h)("label",{htmlFor:"",class:"trailer-half leader-half"},p.zoom,(0,b.h)("input",{type:"range",value:v.zoomValue,onInput:z,onChange:z,"aria-label":p.zoom}),(0,b.h)("span",{class:"clearfix"},(0,b.h)("span",{class:"left inline-block leader-half"},(0,b.h)("calcite-icon",{icon:"image",scale:"s"})),(0,b.h)("span",{class:"right"},(0,b.h)("calcite-icon",
{icon:"image",scale:"l"})))))}})},"arcgisonline/pages/components/ImageUploadModal/TranslucentContainer":function(){define(["require","exports","preact","preact/hooks"],function(U,M,a,b){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(k){var f=k.style,m=k.onDrag;k=k.children;var h=(0,b.useState)(!1),u=h[0],r=h[1];h=(0,b.useState)(void 0);var e=h[0],v=h[1];h=function(){r(!0)};var g=function(n){var q=n.touches,l=n.clientX,c=n.clientY;if(void 0===l||void 0===c){if(null===q||void 0===
q||!q.length)return;l=q[0].clientX;c=q[0].clientY}u&&(e?(q=e.top,n=e.left,c-=q,l-=n,m({top:c,left:l}),v({top:q+c,left:n+l})):v({top:c,left:l}))},p=function(){r(!1);v(void 0)};return(0,a.h)("div",{class:"crop-thumb-translucent overflow-hidden",style:f,onMouseDown:h,onTouchStart:h,onMouseMove:g,onTouchMove:g,onMouseUp:p,onTouchEnd:p,onMouseOut:p},k)}})},"arcgisonline/pages/components/ImageUploadModal/ImageCanvas":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./shared arcgisonline/pages/utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h,u){var r=this;Object.defineProperty(M,"__esModule",{value:!0});u=a.__importDefault(u);M.default=function(e){var v=e.imageContainer;e=(0,f.useStoreContext)();var g=e.state,p=e.dispatch,n=g.texts,q=(0,k.useRef)(null),l=function(w){var t=w.image,z=w.context,x=w.selectionX,y=w.selectionY,A=w.selectionWidth,B=w.selectionHeight,D=w.canvasWidth,C=w.canvasHeight,E=w.minWidth,H=w.minHeight,G=w.drawDimensions,F=w.scaleFactor;w=q.current;w.width=D<E?E:D*F;w.height=C<H?H:C*F;g.maxSize&&
(w.width>g.maxSize&&(w.width=g.maxSize),w.height>g.maxSize&&(w.height=g.maxSize));D=G.left*w.width;C=G.top*w.height;E=G.width*w.width;G=G.height*w.height;!g.isRound&&g.fillBackground&&(z.fillStyle="#efefef",z.fillRect(0,0,w.width,w.height));z.drawImage(t,x,y,A,B,D,C,E,G);g.isRound&&(z.globalCompositeOperation="destination-in",z.beginPath(),z.arc(w.width/2,w.height/2,w.height/2,0,2*Math.PI),z.closePath(),z.fill());t=w.toDataURL("image/png");z=(0,h.dataURIToBlob)(t);return{base64:t,blob:z}},c=function(){return new Promise(function(w,
t){var z=new Image;-1<g.previewSrc.indexOf("arcgis.com")&&(z.crossOrigin="Anonymous");z.onload=function(){if(.01>Math.abs(g.aspectRatio-z.width/z.height)&&!g.isModified)w({blob:(0,h.dataURIToBlob)(g.previewSrc),base64:g.previewSrc,format:g.imageFormat});else{var x=g.height*g.aspectRatio,y=g.height;var A=g.previewImage.getBoundingClientRect();var B=v.getBoundingClientRect();var D=(B.left-A.left)/A.width;var C=(B.right-A.left)/A.width;var E=(B.top-A.top)/A.height;A=(B.bottom-A.top)/A.height;B=0>D?0:
D;var H=0>E?0:E,G=1<C?1:C,F=1<A?1:A,I=g.previewImage.getBoundingClientRect();var J=v.getBoundingClientRect();J={left:(0<I.left-J.left?I.left-J.left:0)/J.width,top:(0<I.top-J.top?I.top-J.top:0)/J.height,width:((I.right>J.right?J.right:I.right)-(I.left<J.left?J.left:I.left))/J.width,height:((I.bottom>J.bottom?J.bottom:I.bottom)-(I.top<J.top?J.top:I.top))/J.height};I=q.current.getContext("2d");D={image:z,context:I,selectionX:B*g.imageWidth,selectionY:H*g.imageHeight,selectionWidth:G*g.imageWidth-B*g.imageWidth,
selectionHeight:F*g.imageHeight-H*g.imageHeight,canvasWidth:C*g.imageWidth-D*g.imageWidth,canvasHeight:A*g.imageHeight-E*g.imageHeight,minWidth:x,minHeight:y,drawDimensions:J,scaleFactor:1};try{var K=l(a.__assign({},D));if(1E7<K.blob.size||0===K.blob.size)I.clearRect(0,0,q.current.width,q.current.height),K=l(a.__assign(a.__assign({},D),{scaleFactor:1600/z.width}))}catch(P){"NS_ERROR_FAILURE"!==P.name?u.default.showAlert("error",n.saveError):(I.clearRect(0,0,q.current.width,q.current.height),K=l(a.__assign(a.__assign({},
D),{scaleFactor:1600/z.width})))}w({blob:null===K||void 0===K?void 0:K.blob,base64:null===K||void 0===K?void 0:K.base64,format:g.imageFormat})}};z.onerror=function(){u.default.showAlert("error",n.fileError)};z.src=g.previewSrc})},d=function(){return a.__awaiter(r,void 0,void 0,function(){var w;return a.__generator(this,function(t){switch(t.label){case 0:return[4,c()];case 1:return w=t.sent(),p((0,m.updateSaveData)(a.__assign({},w))),[2]}})})};(0,k.useEffect)(function(){g.saving&&d()},[g.saving]);
return(0,b.h)("canvas",{ref:q,class:"upload-image-canvas"})}})},"arcgisonline/pages/components/ImageUploadModal/shared":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M.dataURIToBlob=void 0;M.dataURIToBlob=function(a){var b=atob(a.split(",")[1]);a=a.split(",")[0].split(":")[1].split(";")[0];for(var k=new ArrayBuffer(b.length),f=new Uint8Array(k),m=0;m<b.length;m++)f[m]=b.charCodeAt(m);return new Blob([k],{type:a})}})},"arcgisonline/pages/components/ImageUploadModal/FromMapStep":function(){define("require exports tslib preact ./store-context ./EditStep arcgisonline/esriGeowConfig arcgisonline/sharing/util".split(" "),
function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(){var u=(0,k.useStoreContext)().state;u="".concat(m.default.isDebug?"webviewer/dist/":"/apps/mapviewer/","thumbnailer.html?webmap\x3d").concat(u.mapId);if(h.default.isPortal()){var r=m.default.self.portalHostname.replace(/^[^\/]*/,"");u=u.replace("/apps/","".concat(r,"/apps/"));u+="\x26extentService\x3d".concat(encodeURI(m.default.extentService))}return(0,b.h)("div",
{class:"text-center position: relative;",style:"max-height: 60vh"},(0,b.h)("iframe",{"data-dojo-attach-point":"_mapIframe",style:"border:none; overflow:hidden",src:u,width:"600",height:"400"}),(0,b.h)("div",{style:"visibility: hidden; position: absolute; top: 0;"},(0,b.h)(f.default,null)))}})},"arcgisonline/pages/organization/widgets/settings/rows/LogoLinkRow":function(){define("require exports tslib dojo/_base/lang dojo/on dojo/i18n!../../../../../nls/org-settings ./SettingsRow ../../../../utils/validation ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),f.default.common),f.default.generalTab.sharedTheme.logoLinkRow);this.valueType="text";this.settingsProps=["portalProperties.sharedTheme"]}r.prototype.render=function(){this._formContent.innerHTML='\x3cinput type\x3d"text" value\x3d"'.concat(this.value,
'" placeholder\x3d"').concat(this.i18n.emptyText,'"\x3e\x3cdiv class\x3d"input-error-message"\x3e\x3c/div\x3e');this.textbox=this._formContent.querySelector("input[type\x3dtext]");this.inputError=this._formContent.querySelector("div[class\x3d'input-error-message']");this.inherited(arguments)};r.prototype.updateDisplayValue=function(e){this.inherited(arguments);this._displayValue.innerHTML=e?e:this.i18n.emptyText.replace("https://example.com/",'\x3cspan class\x3d"inline-block direction-ltr"\x3ehttps://example.com/\x3c/span\x3e');
this.textbox.value=e};r.prototype.addEventListeners=function(){var e=this;this.inherited(arguments);this.own((0,k.default)(this.textbox,"blur",function(){e.validates()}),(0,k.default)(this.textbox,"keyup",function(v){13===v.keyCode&&e.validates()&&e.save()}))};r.prototype.validates=function(){var e=this.textbox.value;if(!this.portal.isPortal&&-1<e.indexOf("http:"))return h.default.setInvalidState(this.textbox,this.inputError,this.i18n.httpWarning),!1;h.default.clearState([this.textbox,this.inputError]);
return!0};r.prototype.save=function(){var e=this,v=this.textbox.value.trim();if(v!==this.value){var g=this.portal.portalProperties?b.default.clone(this.portal.portalProperties):{},p=g.sharedTheme||{},n={background:"no-color",text:"no-color"};p.header||(p.header=a.__assign({},n));p.button||(p.button=a.__assign({},n));p.body||(p.body=a.__assign(a.__assign({},n),{link:"no-color"}));g.sharedTheme=p;g.sharedTheme.logo=g.sharedTheme.logo?a.__assign(a.__assign({},g.sharedTheme.logo),{link:v}):{link:v};this.updateSetting({portalProperties:JSON.stringify(g)},
this.i18n.saveError,this.i18n.saveSuccess).then(function(){e.value=v;e.portal.set({portalProperties:g});e.updateDisplayValue(e.value);e.toggleEdit(!1)},function(){e.toggleEdit(!1)})}else this.toggleEdit(!1)};r.prototype.resetFormValues=function(){this.textbox.value=this.value;h.default.clearState([this.textbox,this.inputError])};return r=a.__decorate([(0,u.default)(m.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/rows/NameRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/dom-construct dojo/topic dojo/on arcgisonline/pages/utils/strings arcgisonline/pages/utils/validation ./SettingsRow arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.settingsProps=["name"]}v.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.generalTab);this.valueType="text";this.inherited(arguments)};v.prototype.render=function(){this._saveBtn.id="org-name-save";
this._cancelBtn.id="org-name-cancel";this.portal.isVerified&&(this._valueContainer.classList.add("read-only"),this.readOnlyValue.textContent=this.value);var g=document.createElement("label");g.setAttribute("for","org-name-input");g.textContent=this.i18n.orgName;g.classList.add("trailer-0");this._formContent.appendChild(g);this._textbox=k.default.create("input",{id:"org-name-input",type:"text",value:this.value,maxLength:55},this._formContent);this._inputError=k.default.create("div",{class:"input-error-message"},
this._formContent);this.inherited(arguments)};v.prototype.addEventListeners=function(){var g=this;this.inherited(arguments);this.own((0,m.default)(this._textbox,"keyup",function(p){13===p.keyCode?g.save():g._isValid()}))};v.prototype.save=function(){var g=this,p=this._textbox.value.trim();if(p!==this.value){if(this._isValid()){var n=JSON.stringify(this.portal.rotatorPanels);n={name:p,rotatorPanels:h.default.replaceAll(n,this.value,p)};this.updateSetting(n,this.i18n.nameError,this.i18n.nameSuccess).then(function(){g.value=
p;g._displayValue.textContent=p;g.toggleEdit(!1);f.default.publish("settings/orgNameChange",p);g.portal.localizedOrgProperties.default.name=p;g.addLocalizedResource()},function(){g.toggleEdit(!1)})}}else this.toggleEdit(!1)};v.prototype.resetFormValues=function(){this._textbox.value=this.value;this._textbox.classList.remove("input-error");this._inputError.classList.remove("is-active")};v.prototype._isValid=function(){var g=!0,p=this._textbox.value.trim();if(p&&0<p.length)if(-1<p.indexOf("\x3c")||
-1<p.indexOf("\x3e")||-1<p.indexOf("%")){g=!1;var n=this.i18n.nameInvalidChars}else 55<p.length&&(g=!1,n=this.i18n.nameTooLong);else g=!1,n=this.i18n.nameRequired;g||(this._inputError.innerHTML=n);g?u.default.clearState([this._textbox,this._inputError]):u.default.setInvalidState(this._textbox,this._inputError);return g};return v=a.__decorate([(0,e.default)(r.default)],v)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SummaryRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/dom-construct dojo/on ./SettingsRow ../../../../utils/culture ../../../../utils/strings ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.MAX_CHARACTERS=310}e.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.generalTab);this.valueType="text";this.inherited(arguments)};e.prototype.render=function(){this._saveBtn.id="org-summary-save";this._cancelBtn.id="org-summary-cancel";
this._textArea=k.default.create("textarea",{id:"org-summary-textarea",maxLength:this.MAX_CHARACTERS,rows:5,value:this.value?this.value.trim():""},this._formContent);this._charactersLeft=k.default.create("div",{class:"font-size--1"},this._formContent);this._updateCharactersLeft();this.inherited(arguments);this.value||(this._displayValue.textContent=this.i18n.summary.placeHolder)};e.prototype.addEventListeners=function(){this.own((0,f.default)(this._textArea,"keyup",this._updateCharactersLeft.bind(this)));
this.inherited(arguments)};e.prototype.save=function(){var v=this,g=this._textArea.value.trim();g&&(g=u.default.encodeAngleBrackets(u.default.stripHTML(g)));var p=this.value?this.value.trim():this.value;(g||this.value)&&g!==p?(this.portal.localizedOrgProperties.default.description=g?g:null,this.addLocalizedResource(this.i18n.summarySuccess,this.i18n.summaryError).then(function(){v.toggleEdit(!1);v.value=g;v._displayValue.textContent=v.value?v.value:v.i18n.summary.placeHolder},function(){v.toggleEdit(!1)})):
this.toggleEdit(!1)};e.prototype.resetFormValues=function(){this._textArea.value=(this.value||"").trim();this._updateCharactersLeft()};e.prototype._updateCharactersLeft=function(){var v=this.MAX_CHARACTERS-this._textArea.value.trim().length;this._charactersLeft.textContent=h.default.getString(this.i18n.charactersLeft,v)};return e=a.__decorate([(0,r.default)(m.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/LanguageRow":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../utils/culture ../../../../utils/dom ../../../../utils/organization ./SettingsRow ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/Deferred dojox/html/entities dojo/i18n!../../../../../nls/org-settings dojo/_base/kernel dojo/topic esri/lang dojo/text!./templates/NoEditSettingsRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.templateString=l.default;this.settingsProps=["culture","cultureFormat"];this.firstLoad=!0;this.BROWSER_DEFAULT=
"browser";this.disableEditPopup=!0;this.languageChange=this.languageChange.bind(this);this.cultureFormatChange=this.cultureFormatChange.bind(this)}c.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),g.default.generalTab.language)};c.prototype.postCreate=function(){var d=this;this.inherited(arguments);this.initForm();this.loadLanguages().then(function(){var w;f.default.showNode(d._displayValue);d.selectedCulture=k.default.getRootLocale(d.value.culture);
d.selectedCultureFormat=d.value.cultureFormat;""===d.selectedCulture&&(d.selectedCulture=d.BROWSER_DEFAULT);d.languages.some(function(z){if(z.culture===d.selectedCulture)return!0;if(z.culture===d.value.culture)return d.selectedCulture=d.value.culture,!0})||(d.selectedCulture="en");d.languages.forEach(function(z){var x=z.culture===d.selectedCulture;d.languageSelect.add(new Option(z.displayName,z.culture,x,x))});var t=null===(w=d.languages.find(function(z){return z.culture===d.selectedCulture}))||void 0===
w?void 0:w.cultureFormats;d.initCultureFormat(d.selectedCulture,t)})};c.prototype.destroy=function(){this.languageSelect.removeEventListener("change",this.languageChange);this.cultureFormatSelect.removeEventListener("change",this.cultureFormatChange);this.inherited(arguments)};c.prototype.render=function(){this._label.textContent=this.label;this._description&&(this._description.innerHTML=this.description);f.default.hideNode(this._displayValue)};c.prototype.save=function(){var d=this;this.normalizeCultureAndFormat();
this.updateSetting({culture:this.selectedCulture===this.BROWSER_DEFAULT?"":this.selectedCulture,cultureFormat:this.selectedCultureFormat,clearEmptyFields:!0},this.i18n.error).then(function(){d.selectedCulture=k.default.getRootLocale(d.selectedCulture);d.value.culture=d.selectedCulture;d.value.cultureFormat=d.selectedCultureFormat;m.default.checkUserCultureSetting(d.portal.portalUser,!0);n.default.publish("language/update",{culture:d.selectedCulture,cultureFormat:d.selectedCultureFormat})})};c.prototype.cancel=
function(){this.selectedCulture=k.default.getRootLocale(this.value.culture);this.selectedCultureFormat=this.value.cultureFormat;this.languageSelect.value=this.selectedCulture;this.inherited(arguments)};c.prototype.initForm=function(){this.languageSelect=document.createElement("select");this.languageSelect.id="language-select";this.languageSelect.classList.add("leader-half");this.languageSelect.classList.add("half-width");this.languageSelect.required=!0;this.cultureFormatSelect=document.createElement("select");
this.cultureFormatSelect.id="number-date-format-select";this.cultureFormatSelect.classList.add("leader-half");this.cultureFormatSelect.classList.add("half-width");var d=document.createElement("label");d.setAttribute("for","language-select");d.classList.add("screen-readers-only");d.textContent=this.label;var w=document.createElement("label");w.setAttribute("for","number-date-format-select");w.classList.add("leader-half");w.classList.add("avenir-demi");w.classList.add("trailer-0");w.textContent=this.i18n.numberDateFormat;
this.cultureFormatContainer=document.createElement("div");this.cultureFormatContainer.appendChild(w);this.cultureFormatContainer.appendChild(this.cultureFormatSelect);this._displayValue.appendChild(d);this._displayValue.appendChild(this.languageSelect);this._displayValue.appendChild(this.cultureFormatContainer);this.languageSelect.addEventListener("change",this.languageChange);this.cultureFormatSelect.addEventListener("change",this.cultureFormatChange)};c.prototype.loadLanguages=function(){var d=
this,w=new e.default,t="".concat(b.default.restBaseUrl,"portals/languages");u.default.request({url:t,content:{culture:p.default.locale}}).then(function(z){d.languages=[{culture:d.BROWSER_DEFAULT,displayName:d.i18n.browserDefault,language:d.i18n.browserDefault,localizedName:d.i18n.browserDefault}];z.forEach(function(x){x.displayName=v.default.decode("".concat(x.localizedName?"".concat(x.localizedName," - "):"").concat(x.language,"\x26lrm;"));(x.cultureFormats||[]).forEach(function(y){y.displayName=
v.default.decode("".concat(y.localizedName?"".concat(y.localizedName," - "):"").concat(y.name,"\x26lrm;"))},d);d.languages.push(x)});w.resolve(d.languages)},function(){w.resolve()});return w};c.prototype.normalizeCultureAndFormat=function(){var d,w,t;this.selectedCulture===this.BROWSER_DEFAULT&&(this.selectedCulture="");this.selectedCultureFormat&&this.selectedCulture&&(this.selectedCulture="".concat(this.selectedCulture.toLowerCase(),"-").concat(this.selectedCultureFormat.toLowerCase()),this.selectedCultureFormat=
this.selectedCultureFormat.toLowerCase());"en"!==(null===(d=this.selectedCulture)||void 0===d?void 0:d.toLowerCase())||"en"!==(null===(w=this.value.culture)||void 0===w?void 0:w.toLowerCase())||"us"!==(null===(t=this.selectedCultureFormat)||void 0===t?void 0:t.toLowerCase())||q.default.isDefined(this.value.cultureFormat)&&""!==this.value.cultureFormat||(this.selectedCulture=this.value.culture.toLowerCase(),this.selectedCultureFormat=this.value.cultureFormat.toLowerCase())};c.prototype.initCultureFormat=
function(d,w){var t=this,z,x;if(d&&d!==this.BROWSER_DEFAULT&&(null===w||void 0===w?0:w.length)){var y=k.default.getSelectedFormat(this.value.cultureFormat,w||[]);for(d=this.cultureFormatSelect.options.length;-1<d;--d)null===(x=null===(z=this.cultureFormatSelect.options[d])||void 0===z?void 0:z.remove)||void 0===x?void 0:x.call(z);null===w||void 0===w?void 0:w.forEach(function(A){var B=(null===y||void 0===y?void 0:y.format)===A.format;t.cultureFormatSelect.add(new Option(A.displayName,A.format,B,B))});
this.selectedCultureFormat=this.cultureFormatSelect.value;f.default.showNode(this.cultureFormatContainer)}else this.selectedCultureFormat=null,f.default.hideNode(this.cultureFormatContainer);this.checkAndSave()};c.prototype.languageChange=function(d){var w=this;this.selectedCulture=d.target.value||this.languageSelect.value;d=this.languages.find(function(t){return t.culture===w.selectedCulture});this.initCultureFormat(this.selectedCulture,(null===d||void 0===d?void 0:d.cultureFormats)||[])};c.prototype.cultureFormatChange=
function(d){this.selectedCultureFormat=d.target.value||this.cultureFormatSelect.value;this.checkAndSave()};c.prototype.checkAndSave=function(){this.firstLoad?this.firstLoad=!1:this.save()};return c=a.__decorate([(0,r.default)(h.default)],c)}()})},"arcgisonline/pages/organization/widgets/settings/rows/RegionRow":function(){define("require exports tslib ../../../../../esriGeowConfig ./SettingsRow ../../../../utils/dom ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/Deferred dojo/_base/kernel dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/NoEditSettingsRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=v.default;this.settingsProps=["region"];this.disableEditPopup=this.firstLoad=!0;this.regionChange=this.regionChange.bind(this)}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=
a.__assign(a.__assign({},this.i18n),e.default.generalTab.region)};g.prototype.postCreate=function(){var p=this;this.inherited(arguments);this.initForm();this.loadRegions().then(function(){f.default.showNode(p._displayValue)})};g.prototype.destroy=function(){this.regionSelect.removeEventListener("change",this.regionChange);this.inherited(arguments)};g.prototype.render=function(){this._label.textContent=this.label;this._description&&(this._description.innerHTML=this.description);f.default.hideNode(this._displayValue)};
g.prototype.save=function(){var p=this,n=this.regionSelect.value;this.updateSetting({region:n},this.i18n.error).then(function(){p.value=n})};g.prototype.cancel=function(){this.regionSelect.value=this.value;this.inherited(arguments)};g.prototype.initForm=function(){this.regionSelect=document.createElement("select");this.regionSelect.id="region-select";this.regionSelect.classList.add("half-width");var p=document.createElement("label");p.setAttribute("for","region-select");p.classList.add("screen-readers-only");
p.textContent=this.label;this._displayValue.appendChild(p);this._displayValue.appendChild(this.regionSelect);this.regionSelect.addEventListener("change",this.regionChange)};g.prototype.loadRegions=function(){var p=this,n=new u.default,q="".concat(b.default.restBaseUrl,"portals/regions");m.default.request({url:q,content:{culture:r.default.locale}}).then(function(l){var c;p.regions=l;null===(c=p.regions)||void 0===c?void 0:c.forEach(function(d){var w=d.region===p.value;p.regionSelect.add(new Option(d.localizedName,
d.region,w,w))});n.resolve(l)},function(){p.regions=[];n.resolve()});return n};g.prototype.regionChange=function(){this.save()};return g=a.__decorate([(0,h.default)(k.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ShortNameRow":function(){define("require exports tslib ../../../../../esriGeowConfig ./SettingsRow ../../../../utils/validation ../../../../../sharing/geow/Geow ../../../../../sharing/util arcgisonline/tsutils/declareDecorator dojo/debounce dojo/Deferred dojo/string dojo/dom-construct dojo/i18n!../../../../../nls/org-settings dojo/on ../../../../pageUtil ../../../../utils/dom".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.MAX_CHARS=16}c.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},
this.i18n),p.default.generalTab.shortName);this.valueType="text"};c.prototype.save=function(){var d=this,w,t;l.default.disableNode(this._saveBtn,!0);(null===(t=null===(w=this.portal.portalProperties)||void 0===w?void 0:w.openData)||void 0===t?0:t.enabled)?(q.default.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.openDataEnabled},hideCancel:!0,autoCloseOnOk:!0}),l.default.disableNode(this._saveBtn,!1)):this._isValid().then(function(z){if(z){var x=v.default.trim(d._textbox.value),
y=(d.portal.allSSL?"https://":"http://")+x+"."+d.portal.customBaseUrl;z="\x3cp\x3e".concat(v.default.substitute(d.i18n.youSure,{oldKey:d.portal.urlKey,newKey:x}),"\x3c/p\x3e\x3cp\x3e").concat(d.i18n.changeEffects,"\x3c/p\x3e\x3cp\x3e").concat(d.i18n.newOrgURLLabel,"\x3c/p\x3e\x3cp\x3e").concat(y,"\x3c/p\x3e");q.default.createConfirmationDialog({strings:{title:d.i18n.updateLong,description:z,ok:d.i18n.update,cancel:d.i18n.cancel},renderHtmlDescription:!0,okColor:"red",onOk:function(A){h.default.request({url:"".concat(h.default.getSecureUrl(b.default.restBaseUrl),
"portals/self/update"),content:{urlKey:x}},{usePost:!0}).then(function(B){A();B&&!B.code?(d.toggleEdit(!1),m.default.signout("".concat(h.default.getSecureUrl(y),"/home/signin.html"))):(q.default.createConfirmationDialog({strings:{title:d.i18n.errorTitle,description:d.i18n.unableToUpdate},hideCancel:!0,autoCloseOnOk:!0}),l.default.disableNode(d._saveBtn,!1))},function(B){A();"ORG_1095"===(null===B||void 0===B?void 0:B.messageCode)?q.default.createConfirmationDialog({strings:{title:d.i18n.errorTitle,
description:d.i18n.disconnectedLicense},hideCancel:!0,autoCloseOnOk:!0}):q.default.createConfirmationDialog({strings:{title:d.i18n.errorTitle,description:d.i18n.unableToUpdate},hideCancel:!0,autoCloseOnOk:!0});l.default.disableNode(d._saveBtn,!1)})}})}else l.default.disableNode(d._saveBtn,!1)})};c.prototype.resetFormValues=function(){this._textbox.value=this.value;this._displayShortName();this._isValid()};c.prototype.render=function(){var d,w="Community"===(null===(d=this.portal.subscriptionInfo)||
void 0===d?void 0:d.type);d=w?this.i18n.warningCommunity:this.i18n.warning;g.default.create("div",{class:"leader-half trailer-half org-settings__card-row-warning",innerHTML:'\x3cspan class\x3d"org-settings__card-row-warning-icon"\x3e'.concat(this.icons.inline["exclamation-mark-circle"][16],"\x3c/span\x3e ").concat(d)},this._description,"after");this._textbox=g.default.create("input",{type:"text",value:this.value,maxLength:this.MAX_CHARS},this._formContent);this._inputError=g.default.create("div",
{class:"input-error-message"},this._formContent);this.inherited(arguments);this._displayShortName();this._isValid();w&&(this._editBtn.disabled=!0)};c.prototype.addEventListeners=function(){var d=this;this.inherited(arguments);this.own((0,n.default)(this._textbox,"keyup",(0,r.default)(function(w){13===w.keyCode?d.save():d._isValid()},50)))};c.prototype._displayShortName=function(){this.value&&this.updateDisplayValue(this.value,!0)};c.prototype._isValid=function(){var d=this,w=this._textbox.value,t=
new e.default,z=function(x){!x||x.code||x.message?(l.default.disableNode(d._saveBtn,!0),t.resolve(!1)):x.available?(f.default.setValidState(d._textbox),l.default.disableNode(d._saveBtn,!1),t.resolve(!0)):(f.default.setInvalidState(d._textbox,d._inputError,d.i18n.unavailable),l.default.disableNode(d._saveBtn,!0),t.resolve(!1))};f.default.clearState([this._textbox,this._inputError]);w&&0<w.length?w===this.value?(f.default.setValidState(this._textbox),l.default.disableNode(this._saveBtn,!0),t.resolve(!0)):
w.length>this.MAX_CHARS?(f.default.setInvalidState(this._textbox,this._inputError,this.i18n.tooLong),l.default.disableNode(this._saveBtn,!0),t.resolve(!1)):this._containsInvalidChars(w)?(f.default.setInvalidState(this._textbox,this._inputError,this.i18n.invalid),l.default.disableNode(this._saveBtn,!0),t.resolve(!1)):"-"===w[w.length-1]?(f.default.setInvalidState(this._textbox,this._inputError,this.i18n.endHyphen),l.default.disableNode(this._saveBtn,!0),t.resolve(!1)):this._checkUrlKeyAvailability(w).then(z,
z):(l.default.disableNode(this._saveBtn,!0),t.resolve(!1));return t};c.prototype._containsInvalidChars=function(d){return d.match(/^[a-zA-Z0-9-]*$/)?!1:!0};c.prototype._checkUrlKeyAvailability=function(d){return h.default.request({url:"".concat(b.default.restBaseUrl,"portals/isUrlKeyAvailable?urlKey\x3d").concat(d)})};return c=a.__decorate([(0,u.default)(k.default)],c)}()})},"arcgisonline/pages/organization/widgets/settings/rows/VerificationRow":function(){define("require exports tslib ./SettingsRow ../../../../utils/alerts ../../../../utils/culture ../../../../utils/dom ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/dom-construct dojo/_base/kernel dojo/string dijit/a11yclick dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.disableEditPopup=!0}n.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),p.default.generalTab);this.inherited(arguments)};n.prototype.render=
function(){this.portal.isVerified||(m.default.hideNode(this._displayValue),this.verifyButton=r.default.place('\x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear" \x3e'.concat(this.i18n.verify,"\x3c/button\x3e"),this._displayValue,"after"));this.inherited(arguments)};n.prototype.addEventListeners=function(){this.verifyButton&&this.own((0,g.default)(this.verifyButton,this.onVerifyClick.bind(this)));this.inherited(arguments)};n.prototype.onVerifyClick=function(q){"public"!==this.portal.access?
k.default.showAlert("warning",this.i18n.mustAllowAnonymousAccess):this.openMailToString()};n.prototype.getAdminContactList=function(){var q=this,l=[];this.portal.contacts.forEach(function(c){l.push(q.portal.allAdmins.filter(function(d){return d.username===c}).shift().email)});return l};n.prototype.openMailToString=function(){var q=h.default.getUser(),l=f.default.getRootLocale(e.default.locale)||"en",c="".concat(q.lastName," ").concat(q.firstName),d="".concat(q.firstName," ").concat(q.lastName);c=
q.fullName?q.fullName:"ja"===l?c:d;l="?cc\x3d".concat(this.getAdminContactList());q=v.default.substitute("\x26body\x3dThis%20email%20will%20be%20sent%20to%20Esri%20Customer%20Service.%20Please%20do%20not%20modify%20its%20contents.%20The%20information%20listed%20below%20is%20required%20to%20verify%20your%20ArcGIS%20Online%20organization.%0A%0A***DO%20NOT%20REMOVE%20OR%20CHANGE%20TEXT%20BELOW***%0A%0AOrganization%20Name:%20${orgName}%0A%0ASubscription%20Id:%20${subId}%0A%0ARequester%20Name:%20${name}%0A%0ARequester%20Email:%20${email}",
{orgName:this.portal.name,subId:this.portal.subscriptionInfo.id,name:c,email:q.portal.user.email});q="mailto:service@esri.com".concat(l).concat("\x26subject\x3dArcGIS%20Online%20Organization%20Verification%20Request").concat(q);location.href=q};return n=a.__decorate([(0,u.default)(b.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ContactUsLinkRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/dom-construct dojo/on dojo/topic ./SettingsRow ../../../../utils/dom ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.settingsProps=["portalProperties.links.contactUs"]}e.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.generalTab);this.inherited(arguments)};e.prototype.render=function(){this.extractContactUs();this.updateDisplay();this._saveBtn.id=
"org-contact-us-link-save";this._cancelBtn.id="org-contact-us-link-cancel";this.textbox=k.default.create("input",{id:"org-contact-link-textbox",type:"text",value:this.contactUs.url},this._formContent);this.errorMessage=k.default.create("div",{class:"input-error-message",textContent:this.i18n.finishContactUsSetup},this._formContent);this.checkbox=k.default.place('\x3clabel class\x3d"leader-half trailer-0 font-size--1"\x3e\x3cinput type\x3d"checkbox" class\x3d"js-visible-checkbox"\x3e '.concat(this.i18n.enable,
"\x3c/label\x3e"),this._formContent).querySelector(".js-visible-checkbox");this.checkbox.checked=this.contactUs.visible};e.prototype.addEventListeners=function(){this.own((0,f.default)(this.textbox,"keyup",this.isComplete.bind(this)));this.inherited(arguments)};e.prototype.save=function(){var v=this;if(this.isComplete()){var g=this.textbox.value.trim().toLowerCase();g&&(0!==g.indexOf("http")&&0!==g.indexOf("mailto:")&&0<g.indexOf("@")?g="mailto:"+g:0!==g.indexOf("http")&&0>g.indexOf("mailto:")&&0>
g.indexOf("@")&&(g="http://"+g));this.portal.portalProperties||(this.portal.portalProperties={});this.portal.portalProperties.links||(this.portal.portalProperties.links={});var p=a.__assign({},this.portal.portalProperties),n=!0;p.links.contactUs&&p.links.contactUs.url===g&&p.links.contactUs.visible===this.checkbox.checked&&(n=!1);n?(g?p.links.contactUs={url:g,visible:this.checkbox.checked}:delete p.links.contactUs,this.updateSetting({portalProperties:JSON.stringify(p)},this.i18n.linkError,this.i18n.linkSuccess).then(function(){v.portal.portalProperties=
p;v.extractContactUs();m.default.publish("contact-us-link/update",v.contactUs);v.updateDisplay();v.toggleEdit(!1)},function(){v.cancel()})):this.toggleEdit(!1)}};e.prototype.resetFormValues=function(){this.textbox.value=this.contactUs.url;this.checkbox.checked=this.contactUs.visible;this.textbox.classList.remove("input-error");this.errorMessage.classList.remove("is-active")};e.prototype.updateDisplay=function(){this.contactUs.url?(this.updateDisplayValue(this.contactUs.url),this._valueContainer.classList.add("org-settings__display-text-value"),
u.default.showNode(this._displayValue),this.setupButton&&u.default.hideNode(this.setupButton)):(u.default.hideNode(this._displayValue),this._valueContainer.classList.remove("org-settings__display-text-value"),this.setupButton?u.default.showNode(this.setupButton):this.setupButton=k.default.place('\x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear"\x3e'.concat(this.i18n.setUp,"\x3c/button\x3e"),this._displayValue,"after"))};e.prototype.extractContactUs=function(){this.contactUs=this.portal.portalProperties&&
this.portal.portalProperties.links&&this.portal.portalProperties.links.contactUs?this.portal.portalProperties.links.contactUs:{visible:!1,url:""}};e.prototype.isComplete=function(){var v=this.checkbox.checked&&!this.textbox.value,g=v?"add":"remove";this.textbox.classList[g]("input-error");this.errorMessage.classList[g]("is-active");return!v};return e=a.__decorate([(0,r.default)(h.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ExperienceImprovementRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ExperienceImprovementRow.html dojo/on ./SettingsRow ../../../../dijit/ToggleSwitch ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=k.default;this.settingsProps=["eueiEnabled"]}r.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.generalTab);this.inherited(arguments)};r.prototype.render=function(){this._toggleSwitch=new h.default({label:this.i18n.sendAnonymousData,
isChecked:this.value,labelClasses:"org-settings__toggle-switch-row margin-left-0",labelPosition:"left",trackId:"send-anon-data-toggle",switchTrackClasses:"leader-quarter"},this.domNode.querySelector(".js-send-switch"))};r.prototype.addEventListeners=function(){this.own((0,f.default)(this._toggleSwitch,"change",this._onToggleSwitchChange.bind(this)))};r.prototype._onToggleSwitchChange=function(e){this.updateSetting({eueiEnabled:e},this.i18n.EUEIError,this.i18n.EUEISuccess)};return r=a.__decorate([(0,u.default)(m.default)],
r)}()})},"arcgisonline/pages/organization/widgets/settings/rows/HelpSourceRow":function(){define("require exports tslib ../../../../../esriGeowConfig ./SettingsRow ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/on dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/HelpSourceRow.html".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){function v(){return f.default.isArcGISEnterpriseOnKubernetes()?"enterprise-k8s.arcgis.com":"enterprise.arcgis.com"}Object.defineProperty(M,
"__esModule",{value:!0});M.getHelpHostname=void 0;b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);U=function(){function g(p,n){this.templateString=e.default;this.i18n=a.__assign(a.__assign({},this.i18n),r.default.generalTab.helpSource)}g.prototype.render=function(){this._label.textContent=this.label;this.sourceSwitch=this.createToggle("help-source-toggle",this.i18n.label,
".js-source-switch");this.sourceSwitch.setChecked(-1<this.portal.helpBase.indexOf(v()),!0)};g.prototype.addEventListeners=function(){this.own((0,h.default)(this.sourceSwitch,"change",this.handleSourceChange.bind(this)))};g.prototype.getHelpUrl=function(){return f.default.isArcGISEnterpriseOnKubernetes()?b.default.kubernetesHelpUrl:b.default.enterpriseHelpUrl};g.prototype.handleSourceChange=function(){var p=this,n=this.sourceSwitch.checked(),q=n?this.getHelpUrl():"",l={helpBase:q};n||(l.clearEmptyFields=
!0);this.updateSetting(l,this.i18n.error,this.i18n.success).then(function(){n?p.portal.helpBase=q:setTimeout(function(){var c="".concat(f.default.getSecureUrl(b.default.restBaseUrl),"portals/self");f.default.request({url:c}).then(function(d){p.portal.set("helpBase",d.helpBase);b.default.self.helpBase=d.helpBase;u.default.publish("portal-helpBase/update",b.default.self)})},250)},function(){p.sourceSwitch.setChecked(-1<p.portal.helpBase.indexOf(v()),!0)})};return g=a.__decorate([(0,m.default)(k.default)],
g)}();M.default=U;M.getHelpHostname=v})},"arcgisonline/pages/organization/widgets/settings/rows/TopNavRow":function(){define("require exports tslib dojo/on dojo/i18n!../../../../../nls/arcgisonline dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/TopNavRow.html ../../../../utils/organization ./SettingsRow ../ManagePageVisOverlay arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=h.default;this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),k.default.siteHeader),m.default.generalTab.globalNav.linkVis);this.disableEditPopup=!0;this.label=this.i18n.name;this.description=this.i18n.description;this.defaultTopNav={gallery:"all",map:"all",scene:"all",notebook:"members",groups:"all"};this.handleSave=
this.handleSave.bind(this)}g.prototype.render=function(){this.description=this._description.innerHTML=u.default.injectHelpLink(this.portal,this.i18n.description,"120002582")};g.prototype.addEventListeners=function(){var p=this;this.own((0,b.default)(this.manageBtn,"click",function(){var n=new e.default({portal:p.portal});n.open();p.own(n.on("save",p.handleSave))}))};g.prototype.handleSave=function(p){var n=this,q=p.portalProperties;this.updateSetting({portalProperties:JSON.stringify(q)},this.i18n.error,
this.i18n.success).then(function(){n.portal.set({portalProperties:q});f.default.publish("top-nav/update",q.topNav)})};return g=a.__decorate([(0,v.default)(r.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/ManagePageVisOverlay":function(){define("require exports tslib preact esri/Evented dojo/text!./templates/ManagePageVisOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/dom arcgisonline/pages/utils/notebook arcgisonline/pages/components/TopNavOptions/TopNavOptions arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.title=h.default.generalTab.globalNav.linkVis.manage;this.i18n=m.default;this.texts=a.__assign({},h.default.generalTab.globalNav.linkVis.manageDialog);
this.overlayContents=u.default.substitute(f.default,{i18n:this.texts});this.constrain=!0;this.maxWidth=750;this.closeOnScrimClick=!1;this.background="white";this.sectionsConfig=[];this.defaultTopNav={gallery:"all",map:"all",scene:"all",notebook:"notebookCreators",groups:"all",search:"all"};this.handleOptionChange=this.handleOptionChange.bind(this)}c.prototype.open=function(){var d;this.inherited(arguments);this.topNav=(null===(d=this.portal.portalProperties)||void 0===d?void 0:d.topNav)||this.defaultTopNav;
this.initResetBtn();this.initSectionsConfig();this.renderSections()};c.prototype.close=function(){this.inherited(arguments)};c.prototype.handlePrimary=function(){var d=this.sectionsConfig.reduce(function(w,t){var z;return a.__assign(a.__assign({},w),(z={},z[t.key]=t.selectedValue,z))},{});d=a.__assign(a.__assign({},this.portal.portalProperties),{topNav:d});this.emit("save",{portalProperties:d});this.close()};c.prototype.initResetBtn=function(){var d=this;this.backBtn.textContent=this.texts.resetDefaults;
p.default.showNode(this.backBtn);this.own((0,r.default)(this.backBtn,"click",function(){return d.handleReset()}))};c.prototype.handleReset=function(){var d=this;this.sectionsConfig.forEach(function(w){w.selectedValue=d.defaultTopNav[w.key]});this.renderSections()};c.prototype.renderSections=function(){(0,b.render)((0,b.h)("div",null,this.sectionsConfig.map(function(d){return(0,b.h)(q.default,a.__assign({},d,{key:"{section.key}"}))})),this.domNode.querySelector(".js-options"))};c.prototype.handleOptionChange=
function(d,w){this.sectionsConfig.forEach(function(t){t.inputName===w&&(t.selectedValue=d)});this.renderSections()};c.prototype.createSectionConfig=function(d,w){return{key:d,heading:"search"===d?this.i18n.common.search:this.i18n.siteHeader[d],inputName:"nav-".concat(d,"-radio"),selectedValue:this.topNav[d]||this.defaultTopNav[d],onChange:this.handleOptionChange,options:w}};c.prototype.initSectionsConfig=function(){var d=this.texts,w=d.allUsers,t=d.members,z=d.noOne,x=d.mapCreators,y=d.sceneCreators;
d=d.notebookCreators;this.sectionsConfig=a.__spreadArray(a.__spreadArray([this.createSectionConfig("gallery",[{text:w,value:"all"},{text:t,value:"members"},{text:z,value:"noOne"}]),this.createSectionConfig("map",[{text:w,value:"all"},{text:t,value:"members"},{text:x,value:"mapCreators"}]),this.createSectionConfig("scene",a.__spreadArray([{text:w,value:"all"},{text:t,value:"members"},{text:y,value:"sceneCreators"}],this.portal.isPortal?[{text:z,value:"noOne"}]:[],!0))],n.default.notebookServerConfigured()?
[this.createSectionConfig("notebook",[{text:t,value:"members"},{text:d,value:"notebookCreators"}])]:[],!0),[this.createSectionConfig("groups",[{text:w,value:"all"},{text:t,value:"members"}]),this.createSectionConfig("search",[{text:w,value:"all"},{text:t,value:"members"}])],!1)};return c=a.__decorate([(0,l.default)(v.default,e.default,g.default,k.default)],c)}()})},"arcgisonline/pages/components/TopNavOptions/TopNavOptions":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,
"__esModule",{value:!0});M.default=function(b){var k=b.inputName,f=b.options,m=b.selectedValue,h=b.onChange,u=function(r){h(r.target.value,k)};return(0,a.h)("div",{class:"trailer-1"},(0,a.h)("h3",{class:"font-size-0 avenir-demi"},b.heading),(0,a.h)("div",null,f.map(function(r){var e=r.text;r=r.value;var v="".concat(k,"-").concat(r);return(0,a.h)("label",{class:"trailer-quarter",key:r,for:v},(0,a.h)("input",{id:v,type:"radio",name:k,value:r,onClick:u,checked:m===r}),e)})))}})},"arcgisonline/pages/organization/widgets/settings/rows/AppsRow":function(){define("require exports tslib arcgisonline/esriGeowConfig ../../../../components/ToggleSwitchBlock ../../../../dijit/Pagination ../../../../utils/alerts ../../../../utils/dom ../../../../utils/arrays ../../../../pageUtil ./SettingsRow ./AppLauncherRow ../AppOverlay ../../../../../sharing/util ../../../../../tsutils/declareDecorator calcite-web/js/calcite-web dojo/on dojo/topic dojo/string preact dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/AppsRow.html dojo/text!../templates/ItemUpdated.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);
return function(){function A(B,D){this.templateString=x.default;this.i18n=a.__assign(a.__assign({},z.default.generalTab.appLauncher),z.default.securityTab.approvedApps);this.disableEditPopup=!0;this.label=this.i18n.name;this.description=this.i18n.description;this.redirectOnly=!1;this.approvedApps=[];this.currentRows=[];this.itemChanges={};this.removeIndex=-1;this.maxApps=!1;this.appItems=[];this.MAX_NUMBER_OF_APPS=150;this.ROWS_PER_PAGE=20;this.handleSwitchChange=this.handleSwitchChange.bind(this)}
A.prototype.postCreate=function(){this.inherited(arguments);this.redirectOnly&&(this.addBtn.id="add-app-btn-deprecated")};A.prototype.render=function(){var B=this;this.redirectOnly?(h.default.hideNode(this.bodyContainer),this.noticeMessage.innerHTML=d.default.substitute(this.i18n.inApprovedApps,{linkStart:'\x3cbutton class\x3d"btn-link js-settings-apps-button font-size--1"\x3e',linkEnd:"\x3c/button\x3e"}),this.own((0,l.default)(this.domNode.querySelector(".js-settings-apps-button"),"click",function(){c.default.publish("settings-tab/select",
"security");window.setTimeout(function(){c.default.publish("scroll-to/approved-apps")},10)})),h.default.showNode(this.redirectNotice)):(this.pagination=new f.default({start:1,num:this.ROWS_PER_PAGE,hideDropdown:!0}),this.pagination.domNode.classList.remove("padding-leader-1"),this.getApprovedApps().then(function(D){B.approvedApps=D;0<B.approvedApps.length?B.queryAppItemsForChanges().then(function(C){var E;B.itemChanges=null!==(E=null===C||void 0===C?void 0:C.itemChanges)&&void 0!==E?E:{};B.apps.classList.add("org-settings__app-launcher-content");
B.pagination.render({total:B.approvedApps.length,start:1,nextStart:8<=B.approvedApps.length?8:-1});B.resetApps();B.renderPage(1)}):B.pagination.render({total:0,start:1,nextStart:-1})}),this.domNode.appendChild(this.pagination.domNode),this.renderToggleSwitch())};A.prototype.addEventListeners=function(){var B=this;this.inherited(arguments);this.redirectOnly||this.own(c.default.subscribe("pagination/page",this.onPaginationPage.bind(this)),c.default.subscribe("appLauncher/app/updated",this.handleAppIconsUpdated.bind(this)),
(0,l.default)(this.addBtn,"click",function(){return B.handleAddClick()}))};A.prototype.handleSwitchChange=function(){return a.__awaiter(this,void 0,void 0,function(){var B,D,C,E,H;return a.__generator(this,function(G){switch(G.label){case 0:B=this.i18n.toggleMessages,D=B.success,C=B.error,E=!(null===(H=this.portal.signInSettings)||void 0===H?0:H.blockUnapprovedThirdpartyApps),G.label=1;case 1:return G.trys.push([1,3,,4]),[4,p.default.request({url:"".concat(b.default.restBaseUrl,"portals/self/setSigninSettings"),
content:{blockUnapprovedThirdpartyApps:E}},{usePost:!0})];case 2:return G.sent(),m.default.showAlert("success",D),this.portal.signInSettings||(this.portal.signInSettings={}),this.portal.signInSettings.blockUnapprovedThirdpartyApps=E,this.renderToggleSwitch(),[3,4];case 3:return G.sent(),m.default.showAlert("error",C),[3,4];case 4:return[2]}})})};A.prototype.renderToggleSwitch=function(){var B;this.portal.isPortal||(0,w.render)((0,w.h)(k.default,{label:this.i18n.onlyApproved,onChange:this.handleSwitchChange,
checked:(null===(B=this.portal.signInSettings)||void 0===B?void 0:B.blockUnapprovedThirdpartyApps)||!1}),this.domNode.querySelector(".js-switch"))};A.prototype.handleAddClick=function(){this.maxApps||(c.default.publish("blocked-popover/close"),(new g.default({portal:this.portal,currentApps:this.approvedApps,opener:this.addBtn})).open())};A.prototype.resetApps=function(){var B=this;this.approvedApps.forEach(function(D){var C=B.itemChanges[D.itemId];D.hasChanged=C?C.hasChanged:0;D.canAccess=C?C.canAccess:
1});this.sortApps()};A.prototype.sortApps=function(){this.approvedApps.sort(function(B,D){var C,E;D=D.appProperties;B=null===(C=B.appProperties.label)||void 0===C?void 0:C.toLowerCase();C=null===(E=D.label)||void 0===E?void 0:E.toLowerCase();return B>C?1:B<C?-1:0})};A.prototype.handleAppIconsUpdated=function(B,D){var C=this;"string"===typeof B&&B&&this.getApprovedApps().then(function(E){return a.__awaiter(C,void 0,void 0,function(){var H,G,F,I;return a.__generator(this,function(J){switch(J.label){case 0:return this.approvedApps=
E,[4,this.queryAppItemsForChanges()];case 1:return J.sent(),this.resetApps(),this.approvedApps.length&&B&&(H=JSON.parse(D).label.toLowerCase(),G=this.approvedApps.map(function(K){return K.appProperties.label.toLowerCase()}).indexOf(H),F=this.getPageNumber(G),I=this.getPageStart(F),this.renderPage(I),this.pagination.render({total:this.approvedApps.length,start:I,nextStart:this.getNextStart(F)})),[2]}})})})};A.prototype.onPaginationPage=function(B){this.renderPage(B.start)};A.prototype.renderPage=function(B){var D=
this;(this.maxApps=this.approvedApps.length>=this.MAX_NUMBER_OF_APPS)?(this.addBtn.setAttribute("aria-label",this.i18n.addLimit.replace("${number}",this.MAX_NUMBER_OF_APPS)),this.addBtn.classList.add("tooltip"),this.addBtn.classList.add("tooltip-multiline")):(this.addBtn.removeAttribute("aria-label"),this.addBtn.classList.remove("tooltip"),this.addBtn.classList.remove("tooltip-multiline"));this.appRows=this.approvedApps.slice(B-1,B+(this.ROWS_PER_PAGE-1)).map(function(C){var E=new v.default({app:C,
appItem:D.appItems.filter(function(H){return H.id===C.itemId})[0],portal:D.portal});D.own(E.on("remove",D.handleAppRemove.bind(D)),E.on("edit",D.handleAppEdit.bind(D)));return E});this.clearRows();this.currentRows=this.appRows;h.default.appendChildren(this.appRows.map(function(C){return C.domNode}),this.apps);q.default.dropdown()};A.prototype.handleAppEdit=function(B){var D=this,C=B.app,E=C.appProperties.label;C.canAccess?C.hasChanged?(E=d.default.substitute(y.default,{i18n:this.i18n,urlChanged:d.default.substitute(this.i18n.urlChanged,
{label:"\x3cstrong\x3e".concat(E,"\x3c/strong\x3e")}),newUrl:C.hasChanged,previousUrl:C.appProperties.url}),r.default.createConfirmationDialog({strings:{title:this.i18n.reviewUrlChange,description:E,ok:this.i18n.updateUrl,cancel:t.default.common.cancel},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){D.updateUrl(C).then(function(){D.openEditDlg(C,B)})}})):this.openEditDlg(C,B):r.default.createConfirmationDialog({strings:{title:this.i18n.appAccess,description:d.default.substitute(this.i18n.noAccessToItem,
{label:"\x3cstrong\x3e".concat(E,"\x3c/strong\x3e")})},hideCancel:!0,autoCloseOnOk:!0,renderHtmlDescription:!0})};A.prototype.openEditDlg=function(B,D){D=new g.default({portal:this.portal,currentApps:this.approvedApps,opener:D?D.actionsBtn:void 0});D.open();D.edit(B)};A.prototype.updateUrl=function(B){var D=this,C={itemId:B.itemId,appProperties:JSON.stringify(a.__assign(a.__assign({},B.appProperties),{url:B.hasChanged}))};return this.updateApp(C).then(function(E){E.success&&(D.itemChanges[B.itemId]&&
(D.itemChanges[B.itemId].hasChanged=0,D.itemChanges[B.itemId].canAccess=1),B.url=B.hasChanged,B.hasChanged=0,D.approvedApps.forEach(function(H){H.itemId===B.itemId&&(H.appProperties.url=B.hasChanged,H.hasChanged=0)}))})};A.prototype.updateApp=function(B){var D="".concat(this.restBaseUrl(),"portals/").concat(this.portal.id,"/addApprovedApp");return p.default.request({url:D,content:B},{usePost:!0})};A.prototype.handleAppRemove=function(B){var D=this,C=B.app;r.default.createConfirmationDialog({strings:{title:t.default.common.remove,
description:d.default.substitute(this.i18n.removeConfirm,{label:C.appProperties.label}),ok:t.default.common.remove},okColor:"red",autoCloseOnOk:!0,onOk:function(){D.removeIndex=u.default.findIndex(D.appRows,function(E){return E.id===B.id});D.proceedToDelete(C)}})};A.prototype.proceedToDelete=function(B){var D=this;this.deleteAppById(B.itemId).then(function(C){var E,H;if(C.success){null===(E=D.telemetry)||void 0===E?void 0:E.logEvent({category:D.tab,label:"deleteApprovedApp",action:"Delete"});B.appProperties.icon&&
D.deleteResource(B.appProperties.icon);C=-1;for(E=0;E<D.approvedApps.length;E++)if(D.approvedApps[E].itemId===B.itemId){D.approvedApps.splice(E,1);C=E;break}-1<C&&0<D.approvedApps.length?(C>D.approvedApps.length-1&&--C,C=D.getPageNumber(C),E=D.getPageStart(C),D.renderPage(E),0===D.appRows.length?D.addBtn.focus():(D.removeIndex>D.appRows.length-1&&(D.removeIndex=D.appRows.length-1),D.appRows.some(function(G,F){F===D.removeIndex&&G.actionsBtn.focus();return F===D.removeIndex})),D.pagination.render({total:D.approvedApps.length,
start:E,nextStart:D.getNextStart(C)})):0===D.approvedApps.length&&(D.clearRows(),D.pagination.render({total:0,start:1,nextStart:-1}));m.default.showAlert("success",d.default.substitute(D.i18n.removeSuccess,{label:B.appProperties.label}));c.default.publish("appLauncher/app/deleted",B.itemId,D.approvedApps)}else D.showDeleteError(B),null===(H=D.telemetry)||void 0===H?void 0:H.logError({error:C})},function(C){var E;D.showDeleteError(B);null===(E=D.telemetry)||void 0===E?void 0:E.logError({error:C})})};
A.prototype.clearRows=function(){0<this.currentRows.length&&this.currentRows.forEach(function(B){return B.destroy()});this.apps.innerHTML=""};A.prototype.getPageNumber=function(B){return Math.ceil((B+1)/this.ROWS_PER_PAGE)||1};A.prototype.getPageStart=function(B){return(B-1)*this.ROWS_PER_PAGE+1};A.prototype.getNextStart=function(B){B=B*this.ROWS_PER_PAGE+1;B>this.approvedApps.length&&(B=-1);return B};A.prototype.showDeleteError=function(B){m.default.showAlert("error",d.default.substitute(this.i18n.removeError,
{label:B.appProperties.label}))};A.prototype.deleteAppById=function(B){var D="".concat(this.restBaseUrl(),"portals/").concat(b.default.self.id,"/deleteApprovedApp");return p.default.request({url:D,content:{itemId:B}},{usePost:!0})};A.prototype.deleteResource=function(B){var D="".concat(this.restBaseUrl(),"portals/self/removeResource");return p.default.request({url:D,content:{key:B}},{usePost:!0})};A.prototype.getApprovedApps=function(){return a.__awaiter(this,void 0,void 0,function(){var B,D,C;return a.__generator(this,
function(E){switch(E.label){case 0:B="".concat(this.restBaseUrl(),"portals/").concat(this.portal.id,"/approvedApps"),E.label=1;case 1:return E.trys.push([1,3,,4]),[4,p.default.request({url:B,content:{returnAllApps:!0}})];case 2:return D=E.sent(),[2,(null===(C=null===D||void 0===D?void 0:D.approvedApps)||void 0===C?void 0:C.map(function(H){H.appProperties.label||(H.appProperties.label=H.itemId);return a.__assign({},H)}))||[]];case 3:return E.sent(),[2,[]];case 4:return[2]}})})};A.prototype.restBaseUrl=
function(){return b.default.restBaseUrl.replace("http://","https://")};A.prototype.queryAppItemsForChanges=function(){var B=this,D={},C=this.approvedApps.map(function(E){D[E.itemId]=E.appProperties;return'"'.concat(E.itemId,'"')}).join(" OR ");return p.default.request({url:"".concat(b.default.restBaseUrl,"search"),content:{q:"id:(".concat(C,")"),num:100}}).then(function(E){if(E.results&&0<E.results.length)return B.appItems=E.results,E.results.forEach(function(H){var G=D[H.id];G.canAccess=1;G.hasChanged=
G.url!==H.url?H.url:0}),{success:!0,itemChanges:D}})};return A=a.__decorate([(0,n.default)(e.default)],A)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/HomePageTab":function(){define("require exports tslib ./BaseSettingsTab ../settings-shared ../cards/ConfigureActiveHomePageCard ../rows/LaunchHomePageEditorRow ../../../../utils/organization ../../../../../tsutils/declareDecorator ../rows/ConfigureActiveHomePageRow dojo/i18n!../../../../../nls/org-settings ../cards/LaunchHomePageEditorCard".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.i18n=e.default.homePageTab;this.TAB_KEY=k.SettingsTabKeys.HomePage}g.prototype.render=function(){this.createConfigureHomePageCard();this.createActiveHomePageCard();this.inherited(arguments)};g.prototype.createConfigureHomePageCard=function(){var p=
this.i18n.configureHomePage;this.createCustomCard(v.default,{id:"org-config-homepage-card",name:p.name,description:p.description,rows:[new m.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{keywords:["build"]}))]})};g.prototype.createActiveHomePageCard=function(){var p,n=null===(p=this.portal.subscriptionInfo)||void 0===p?void 0:p.type;p="Trial"===n||"Trial Press"===n||"Trial Developer"===n||"Developer Subscription"===n;n=this.portal.isPortal;var q=h.default.isOrgPastLegacyHomePageCutOffDate(this.portal),
l=h.default.hasLegacyHomePageDefaults(this.portal),c=h.default.isEnterpriseSetToModernHomePageOnly(this.portal);p=(!n&&!q&&!l||n&&!c)&&!p;n=(new Date("June 30, 2020")).getTime();(this.portal.isPortal||!this.portal.isPortal&&this.portal.created.getTime()<n)&&this.createCustomCard(f.default,{id:"org-active-homepage-card",name:this.i18n.selectHomePage.name,hidden:!p,rows:[new r.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{keywords:["legacy","modern","build"]}))]})};return g=a.__decorate([(0,u.default)(b.default)],
g)}()})},"arcgisonline/pages/organization/widgets/settings/cards/ConfigureActiveHomePageCard":function(){define("require exports tslib ./SettingsCard ../../../../utils/dom ../../../../utils/icons ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/topic dojo/text!./templates/ConfigureActiveHomePageCard.html".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);
r=a.__importDefault(r);return function(){function e(v,g){this.templateString=r.default}e.prototype.render=function(){var v,g;this.inherited(arguments);this.hidden&&this.domNode.classList.add("hide");this.domNode.classList.add("org-settings__card--warning");this._warning.classList.add("org-settings__card-title--warning");this._warning.innerHTML=f.default.inline["exclamation-mark-triangle-f"][24];this._title.classList.add("inline-block");null===(g=null===(v=this._warning.childNodes[0])||void 0===v?
void 0:v.classList)||void 0===g?void 0:g.add("icon-color--warning");v=m.default.hasModernHomePageEnabled(this.portal);var p=m.default.hasLegacyHomePageDefaults(this.portal);g=m.default.hasForcedLegacyHomePageExtension(this.portal);var n=m.default.hasTransitionalHomePageEnabled(this.portal);(p=!(v||p||n))?(this.domNode.classList.add("org-settings__card--warning"),this.domNode.classList.remove("org-settings__card--notice")):(v||n)&&g?(this.domNode.classList.remove("org-settings__card--warning"),this.domNode.classList.remove("org-settings__card--notice")):
(this.domNode.classList.remove("org-settings__card--warning"),this.domNode.classList.add("org-settings__card--notice"));k.default.showHideAll([this._warning,this._title],p)};e.prototype.addEventListeners=function(){var v=this;this.inherited(arguments);this.own(u.default.subscribe("configure-homepage-card-warning/show",function(){v.domNode&&v.domNode.classList.add("org-settings__card--warning");k.default.showNodes([v._warning,v._title])}),u.default.subscribe("configure-homepage-card-warning/hide",
function(){if(v.domNode){var g=m.default.hasModernHomePageEnabled(v.portal),p=m.default.hasTransitionalHomePageEnabled(v.portal),n=m.default.hasForcedLegacyHomePageExtension(v.portal);v.domNode.classList.remove("org-settings__card--warning");(g||p)&&n?v.domNode.classList.remove("org-settings__card--notice"):v.domNode.classList.add("org-settings__card--notice")}k.default.hideNodes([v._warning,v._title])}))};return e=a.__decorate([(0,h.default)(b.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/LaunchHomePageEditorRow":function(){define("require exports tslib ../../../../../tsutils/declareDecorator ./SettingsRow dijit/a11yclick dojo/topic dojo/i18n!../../../../../nls/org-settings arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){}r.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),h.default.homePageTab.configureHomePage);this.inherited(arguments)};r.prototype.destroy=function(){var e;null===(e=this.editor)||void 0===e?void 0:e.destroy();this.inherited(arguments)};r.prototype.render=function(){this._editBtn.className=
"btn";this.updateDisplayValue(this.i18n.launchEditor,!1);this.launchEditor=this.launchEditor.bind(this)};r.prototype.addEventListeners=function(){this.own((0,f.default)(this._editBtn,this.launchEditor),m.default.subscribe("home-page-editor/launch",this.launchEditor))};r.prototype.launchEditor=function(e){window.location.href="".concat(u.default.baseUrl,"index.html?edit\x3dtrue")};return r=a.__decorate([(0,b.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ConfigureActiveHomePageRow":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../dijit/InfoTooltip ../ActiveHomePageOverlay ../LegacyHomePageOverlay ./SettingsRow ../../../../utils/alerts ../../../../utils/dom ../../../../utils/organization ../../../../utils/icons ../../../../../sharing/util ../../../../../tsutils/declareDecorator dijit/a11yclick dojo/string dojo/topic moment/moment preact dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ConfigureActiveHomePageRow.html ../../../components/LegacyHomePageDisplay".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);var x;(function(y){y.Legacy="legacy";
y.Modern="modern";y.Transitional="transititional"})(x||(x={}));return function(){function y(A,B){this.templateString=t.default;this.icons=v.default;this.settingsProps=["portalProperties.homePage"];this.launchLegacySettings=this.launchLegacySettings.bind(this);this.launchLegacyPreview=this.launchLegacyPreview.bind(this);this.rollbackToLegacy=this.rollbackToLegacy.bind(this)}y.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),w.default.homePageTab.selectHomePage);
this.inherited(arguments)};y.prototype.destroy=function(){this.inherited(arguments);[document.querySelector("#upgrade-home-page-extend-overlay"),document.querySelector("#legacy-home-page-preview-overlay")].forEach(function(A){A&&(0,d.render)(null,A)})};y.prototype.render=function(){var A;this.useModern=(null===(A=this.portal.portalProperties)||void 0===A?void 0:A.homePage)===x.Modern;this.isTransitional=e.default.isTransitionalHomePage(this.portal);this.toggleDisplay()};y.prototype.addEventListeners=
function(){var A=this;this.launchActiveHomePageOverlay=this.launchActiveHomePageOverlay.bind(this);this.own((0,n.default)(this.switchBtn,this.launchActiveHomePageOverlay),l.default.subscribe("activate-homepage/modern",function(){A.useModern=!0;r.default.hideNode(A.infoTooltip.domNode);A.save()}),l.default.subscribe("activate-homepage/legacy",function(){A.useModern=!1;r.default.showNode(A.infoTooltip.domNode);A.save()}),l.default.subscribe("activate-homepage/refresh",function(B){var D;A.portal.portalProperties=
B.portalProperties;A.useModern=(null===(D=A.portal.portalProperties)||void 0===D?void 0:D.homePage)===x.Modern;A.isTransitional=e.default.isTransitionalHomePage(A.portal);A.toggleDisplay();B.legacyActivated&&u.default.showAlert("success",A.i18n.legacyActive)}))};y.prototype.save=function(){var A=this;this.portal.portalProperties||(this.portal.portalProperties={});var B=a.__assign({},this.portal.portalProperties),D=this.useModern;D?(B.homePage=x.Modern,delete B.extendLegacyHomePage,delete B.forceLegacyHomePage):
(delete B.revertHomePageDate,B.homePage=x.Legacy);var C={portalProperties:JSON.stringify(B)};this.updateSetting(C,this.i18n.error,D?this.i18n.success:this.i18n.legacySuccess).then(function(){A.portal.portalProperties=B;A.useModern=A.portal.portalProperties.homePage===x.Modern;A.isTransitional=e.default.isTransitionalHomePage(A.portal);A.toggleDisplay()},function(){A.cancel()})};y.prototype.cancel=function(){this.logSettingsCanceled(this.settingsProps)};y.prototype.toggleMessage=function(){var A;null===
(A=this.infoTooltip)||void 0===A?void 0:A.destroyRecursive();var B=this.portal.isPortal;A=e.default.hasForcedLegacyHomePageExtension(this.portal);var D='\x3ca class\x3d"org-settings__clickable-link '.concat("js-legacy-extension",'" tabindex\x3d"0"\x3e'),C=this.useModern||this.isTransitional&&(B||A);C=q.default.substitute(C?this.i18n.legacy["expiring".concat(B?"Portal":A?"Extended":"")]:this.i18n.legacy["expiration".concat(B?"Portal":A?"Extended":"")],{linkStart:'\x3ca class\x3d"org-settings__clickable-link '.concat("js-legacy-launch",
'" tabindex\x3d"0"\x3e'),linkEnd:"\x3c/a\x3e",extendStart:C?D:void 0,extendEnd:C?"\x3c/a\x3e":void 0});this.legacyWarning.innerHTML=C;var E=this.i18n;C=E.documentation;E=E.tooltip;var H="".concat(this.portal.helpBase).concat(this.portal.helpMap.m["120002528"]||"");C={content:"\x3cp\x3e".concat(E,'\x3c/p\x3e\x3cp\x3e\x3ca class\x3d"org-settings-tooltip" href\x3d"').concat(H,'" target\x3d"_blank"\x3e').concat(C," ").concat(v.default.inline.launch["16"],"\x3c/a\x3e\x3c/p\x3e")};E=document.createElement("div");
this.legacyWarning.insertAdjacentElement("beforeend",E);this.infoTooltip=new k.default(C,E);this.infoTooltip.startup();this.infoTooltip.domNode.insertAdjacentHTML("beforebegin","\x26nbsp;");this.launchLegacy=this.legacyWarning.querySelector(".".concat("js-legacy-launch"));this.own((0,n.default)(this.launchLegacy,this.launchLegacySettings));H=this.i18n.upgraded;C=H.name;E=H.transitional;var G=H.transitionalPortal,F='\x3ca class\x3d"org-settings__clickable-link '.concat("js-legacy-preview",'" tabindex\x3d"0"\x3e');
H=e.default.isEnterpriseSetToViewHomePageOnly(this.portal);D=B&&!H?q.default.substitute(G,{linkStart:F,linkEnd:"\x3c/a\x3e",extendStart:D,extendEnd:"\x3c/a\x3e"}):q.default.substitute(E,{linkStart:F,linkEnd:"\x3c/a\x3e"});this.upgradedNotice.innerHTML="";this.upgradedNotice.classList.remove("padding-leader-half");this.useModern||H?(this.upgradedNotice.classList.add("padding-leader-half"),this.upgradedIcon.classList.remove("padding-leader-1")):(this.upgradedNotice.insertAdjacentHTML("afterbegin","\x3cstrong\x3e".concat(C,
"\x3c/strong\x3e\x3cbr\x3e")),this.upgradedIcon.classList.add("padding-leader-1"));B&&!H?this.upgradedIcon.classList.add("upgraded-home-page__notice--icon-enterprise"):this.upgradedIcon.classList.remove("upgraded-home-page__notice--icon-enterprise");this.upgradedNotice.insertAdjacentHTML("beforeend",D);this.upgradedIcon.innerHTML=v.default["exclamation-mark-circle"]["24"];this.launchPreview=this.upgradedNotice.querySelector(".".concat("js-legacy-preview"));this.own((0,n.default)(this.launchPreview,
this.launchLegacyPreview));B&&!H&&(this.launchExtension=this.upgradedNotice.querySelector(".".concat("js-legacy-extension")),this.own((0,n.default)(this.launchExtension,this.rollbackToLegacy)));B=this.legacySelected();D=this.showUpgradeNotice(B,A);r.default.showHide(this.legacyWarning,B||!this.portal.isPortal&&A);r.default.showHide(this.buttonContainer,B);r.default.showHide(this.upgradedNoticeContainer,D)};y.prototype.toggleDisplay=function(){this.toggleMessage();this.togglePhaseOut();var A=this.legacySelected();
l.default.publish("onboard-banner/".concat(A?"show":"hide"));l.default.publish("configure-homepage-card-warning/".concat(A?"show":"hide"));r.default.showHide(this.infoTooltip.domNode,A);r.default.showHide(this.buttonContainer,A)};y.prototype.legacySelected=function(){return!this.useModern&&!this.isTransitional};y.prototype.showUpgradeNotice=function(A,B){return!A&&(this.portal.isPortal||!this.portal.isPortal&&!B)&&(!(this.useModern&&e.default.hasLegacyHomePageDefaults(this.portal))||this.isTransitional)};
y.prototype.togglePhaseOut=function(){var A;(null===(A=this.portal.portalProperties)||void 0===A?void 0:A.homePage)===x.Modern&&this.portal.portalProperties.revertHomePageDate&&(A=(0,c.default)(Date.now()),A=(0,c.default)(this.portal.portalProperties.revertHomePageDate).diff(A,"days"),this.phaseOutWarning.innerText=q.default.substitute(this.i18n.phaseOut,{num:A}));r.default.hideNode(this.phaseOutWarning)};y.prototype.launchLegacySettings=function(){this.legacySettings=new m.default({portal:this.portal,
telemetry:this.telemetry,opener:this.launchLegacy});this.legacySettings.open()};y.prototype.launchActiveHomePageOverlay=function(){this.activeHomeOverlay=new f.default({portal:this.portal,telemetry:this.telemetry,opener:this.switchBtn});this.activeHomeOverlay.open()};y.prototype.launchLegacyPreview=function(){var A=this,B=document.createElement("div");B.id="legacy-home-page-preview-overlay";document.body.appendChild(B);var D=w.default.homePageTab.legacyPreview;(0,d.render)((0,d.h)(z.default,{baseUrl:b.default.baseUrl,
strings:{title:D.title,loading:D.loading,close:w.default.common.close},onClose:function(){r.default.removeComponent(B,document.body);A.launchPreview.focus()}}),B)};y.prototype.rollbackToLegacy=function(){var A=this,B="".concat(b.default.restBaseUrl,"portals/self/update"),D=this.portal.portalProperties||{};D.homePage="legacy";var C={portalProperties:JSON.stringify(D)};g.default.request({url:B,content:C},{usePost:!0}).then(function(){A.portal.portalProperties=D;l.default.publish("activate-homepage/refresh",
{portalProperties:A.portal.portalProperties,legacyActivated:!0});l.default.publish("home-page-switch-banner/refresh",{portalProperties:A.portal.portalProperties})},function(){})};return y=a.__decorate([(0,p.default)(h.default)],y)}()})},"arcgisonline/pages/organization/widgets/settings/ActiveHomePageOverlay":function(){define("require exports tslib ../../../dijit/Overlay ../../../home/sharedResources ../../../home/widgets/HomePageAboveHeader ../../../home/widgets/HomePageHeader ../../../home/widgets/HomePageBelowHeader ../../../home/widgets/HomePageFooter ../../../home/widgets/HomePageGallery ../../../home/widgets/HomePageText ../../../utils/device ../../../utils/markdown ../../../utils/organizationResources dijit/_TemplatedMixin dijit/_WidgetBase dojo/string dojo/dom-construct dojo/topic esri/libs/sanitizer/Sanitizer dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!../../../home/widgets/templates/home.html dojo/text!./templates/ActiveHomePageOverlay.html arcgisonline/tsutils/declareDecorator ../../../home/widgets/HomePageLinks dijit/_OnDijitClickMixin".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D){b=a.__importDefault(b);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);return function(){function C(E,H){this.sanitizer=new w.default;this.content=[];this.homePageKey="home.page.json";this.renderPreview=this.renderPreview.bind(this);this.i18n=t.default;this.title=z.default.homePageTab.activeHomeOverlay.title;this.overlayContents=l.default.substitute(y.default,{i18n:z.default.homePageTab.activeHomeOverlay,icons:this.icons});this.checkMobileOrientation=this.checkMobileOrientation.bind(this)}C.prototype.postCreate=
function(){this.inherited(arguments);this.markdown=this.markdown||g.default.getLinksOnlyMarkdownInstance()};C.prototype.open=function(){var E=this;this.inherited(arguments);this.previewContainer=this.domNode.querySelector(".js-preview-container");this.launchBtn=this.domNode.querySelector(".js-launch-editor");(0,D.a11yclick)(this.launchBtn,function(){E.close();d.default.publish("home-page-editor/launch",{opener:E.opener})});this.device=new v.default;this.device.isMobile&&(this.previewContainer.classList.add("is-mobile"),
this.checkMobileOrientation(),window.onresize=this.checkMobileOrientation);this._primaryBtn.textContent=z.default.homePageTab.activeHomeOverlay.switchActive;this.loadHomePageConfig().then(this.renderPreview,this.renderPreview)};C.prototype.close=function(){this.inherited(arguments)};C.prototype.handlePrimary=function(){d.default.publish("activate-homepage/modern");this.close()};C.prototype.checkMobileOrientation=function(){90===Math.abs(+window.orientation)?this.previewContainer.classList.remove("is-portrait"):
this.previewContainer.classList.add("is-portrait")};C.prototype.loadHomePageConfig=function(){return a.__awaiter(this,void 0,void 0,function(){var E;return a.__generator(this,function(H){switch(H.label){case 0:return H.trys.push([0,2,,7]),[4,p.default.fetch(this.homePageKey)];case 1:return E=H.sent(),this.homePageCfg=(0,k.updateLegacyConfiguration)((0,k.decodeHomePageConfiguration)(E)),[2,this.homePageCfg];case 2:H.sent(),H.label=3;case 3:return H.trys.push([3,5,,6]),[4,(0,k.getDefaultOrgHomePage)(this.portal)];
case 4:return E=H.sent(),this.homePageCfg=(0,k.updateLegacyConfiguration)(E),[2,this.homePageCfg];case 5:return H.sent(),[3,6];case 6:return[3,7];case 7:return[2]}})})};C.prototype.renderPreview=function(){c.default.create("div",{innerHTML:x.default},this.previewContainer,"next");(0,k.writeCustomStyles)(this.homePageCfg.customStyles);(0,k.useHomePageFonts)(this.homePageCfg);this.renderHeader();this.renderContent();this.renderFooter()};C.prototype.renderHeader=function(){var E={header:this.homePageCfg.header,
portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,preview:!0,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles,customStyles:this.homePageCfg.customStyles};this.aboveHeader=new f.default(E,this.domNode.querySelector(".js-above-header"));this.aboveHeader.startup();this.header=new m.default(E,this.domNode.querySelector(".js-header"));this.header.startup();this.belowHeader=new h.default(E,this.domNode.querySelector(".js-below-header"));this.belowHeader.startup()};
C.prototype.renderContent=function(){var E=this,H;0<(null===(H=this.homePageCfg.content)||void 0===H?void 0:H.length)&&this.homePageCfg.content.forEach(function(G){if("gallery"===G.type){var F=document.createElement("div");E.domNode.querySelector(".js-content").appendChild(F);G=new r.default({gallery:G,portal:E.portal,sanitizer:E.sanitizer,markdown:E.markdown,preview:!0,baseColor:E.homePageCfg.baseColor,useCustomStyles:E.homePageCfg.useCustomStyles},F);G.startup();E.content.push(G)}else"text"===G.type?
(F=document.createElement("div"),E.domNode.querySelector(".js-content").appendChild(F),G=new e.default({text:G,portal:E.portal,sanitizer:E.sanitizer,markdown:E.markdown,preview:!0,baseColor:E.homePageCfg.baseColor,useCustomStyles:E.homePageCfg.useCustomStyles},F),G.startup(),E.content.push(G)):"link"===G.type&&(F=document.createElement("div"),E.domNode.querySelector(".js-content").appendChild(F),G=new B.default({link:G,portal:E.portal,sanitizer:E.sanitizer,markdown:E.markdown,preview:!0,baseColor:E.homePageCfg.baseColor,
useCustomStyles:E.homePageCfg.useCustomStyles},F),G.startup(),E.content.push(G))})};C.prototype.renderFooter=function(){this.footer=new u.default({footer:this.homePageCfg.footer,portal:this.portal,sanitizer:this.sanitizer,markdown:this.markdown,preview:!0,baseColor:this.homePageCfg.baseColor,useCustomStyles:this.homePageCfg.useCustomStyles},this.domNode.querySelector(".js-footer"));this.footer.startup()};return C=a.__decorate([(0,A.default)(q.default,n.default,b.default)],C)}()})},"arcgisonline/pages/home/sharedResources":function(){define("require exports tslib ../../esriGeowConfig ../utils/clone ../utils/organization ../utils/strings ../../sharing/util dojo/i18n!../../nls/homepage".split(" "),
function(U,M,a,b,k,f,m,h,u){function r(V){return JSON.stringify({})===JSON.stringify(V)}function e(V){var X,Z;if(!V)return V;if(null===(X=V.header)||void 0===X?0:X.title)V.header.title=m.default.encodeAngleBrackets(V.header.title);(null===(Z=V.content)||void 0===Z?0:Z.length)&&V.content.forEach(function(ca){"text"===ca.type?(ca.title&&(ca.title=m.default.encodeAngleBrackets(ca.title)),ca.body&&(ca.body=m.default.encodeAngleBrackets(ca.body))):"gallery"===ca.type?(ca.title&&(ca.title=m.default.encodeAngleBrackets(ca.title)),
ca.summary&&(ca.summary=m.default.encodeAngleBrackets(ca.summary))):"link"===ca.type&&ca.links.forEach(function(R){R.title&&(R.title=m.default.encodeAngleBrackets(R.title))})});V.footer&&(V.footer.contact&&(V.footer.contact=m.default.encodeAngleBrackets(V.footer.contact)),V.footer.copy&&(V.footer.copy=m.default.encodeAngleBrackets(V.footer.copy)));return V}function v(V){var X,Z;if(!V)return V;if(null===(X=V.header)||void 0===X?0:X.title)V.header.title=m.default.decodeAngleBrackets(V.header.title);
(null===(Z=V.content)||void 0===Z?0:Z.length)&&V.content.forEach(function(ca){"text"===ca.type?(ca.title&&(ca.title=m.default.decodeAngleBrackets(ca.title)),ca.body&&(ca.body=m.default.decodeAngleBrackets(ca.body))):"gallery"===ca.type?(ca.title&&(ca.title=m.default.decodeAngleBrackets(ca.title)),ca.summary&&(ca.summary=m.default.decodeAngleBrackets(ca.summary))):"link"===ca.type&&ca.links.forEach(function(R){R.title&&(R.title=m.default.decodeAngleBrackets(R.title))})});V.footer&&(V.footer.contact&&
(V.footer.contact=m.default.decodeAngleBrackets(V.footer.contact)),V.footer.copy&&(V.footer.copy=m.default.decodeAngleBrackets(V.footer.copy)));return V}function g(V){var X;V.header&&!V.header.backgroundColor&&(V.header.backgroundColor=V.header.titleColor);V.baseColor||V.useCustomStyles?V.baseColor||(V.baseColor="gs"):(V.baseColor="gs",V.header&&(V.header.backgroundColor="white"===V.header.backgroundColor?"dark-ramp":"dark-gray"===V.header.backgroundColor?"light-ramp":"light-gray"===V.header.backgroundColor?
"medium-ramp":"white-ramp"),null===(X=null===V||void 0===V?void 0:V.content)||void 0===X?void 0:X.forEach(function(Z){Z.bgColor="white"===Z.bgColor?"white-ramp":"light-gray"===Z.bgColor?"light-ramp":"dark-gray"===Z.bgColor?"medium-ramp":"dark-ramp"}),V.footer&&(V.footer.bgColor="white"===V.footer.bgColor?"white-ramp":"light-gray"===V.footer.bgColor?"light-ramp":"dark-gray"===V.footer.bgColor?"medium-ramp":"dark-ramp"));V.useCustomTypography||(V.useCustomTypography=!1);V.customTypography||(V.customTypography=
["Avenir Next","Avenir Next"]);V.typography||(V.typography=["Avenir Next","Avenir Next"]);return V}function p(V){null===V||void 0===V?void 0:V.forEach(function(X,Z){X&&(Z+=1,document.body.style.setProperty("--custom-homepage-color-".concat(Z,"-background"),X.background),document.body.style.setProperty("--custom-homepage-color-".concat(Z,"-title"),X.header),document.body.style.setProperty("--custom-homepage-color-".concat(Z,"-text"),X.text),document.body.style.setProperty("--custom-homepage-color-".concat(Z,
"-button"),X.button))})}function n(V){return-1==="Avenir Next;Arial;Helvetica;Montserrat;Roboto;Verdana".split(";").indexOf(V)?"".concat(V,", serif"):"".concat(V,", sans-serif")}function q(V){return a.__awaiter(this,void 0,void 0,function(){var X;return a.__generator(this,function(Z){X="".concat(b.default.restBaseUrl,"community/groups/").concat(V);return[2,h.default.request({url:X})]})})}function l(V,X){var Z,ca,R,Y,ba,aa;X.header||(X.header=a.__assign(a.__assign({},M.DefaultOrgHomePage.header),{title:V.name,
coverImgStock:f.default.pickRandomHomePageStockImage()}),X.header.backgroundColor=f.default.getTitleColorBasedOnStockImage(X.header.coverImgStock));if(!X.footer){X.footer=a.__assign({},M.DefaultOrgHomePage.footer);var W=null===(R=null===(ca=null===(Z=V.portalProperties)||void 0===Z?void 0:Z.links)||void 0===ca?void 0:ca.contactUs)||void 0===R?void 0:R.url;V=null===(aa=null===(ba=null===(Y=V.portalProperties)||void 0===Y?void 0:Y.links)||void 0===ba?void 0:ba.contactUs)||void 0===aa?void 0:aa.visible;
-1<(null===W||void 0===W?void 0:W.indexOf("mailto:"))&&(X.footer.showContact=V,X.footer.contact=W.substring(W.indexOf("mailto:")+7))}return X}function c(V){return a.__awaiter(this,void 0,void 0,function(){var X,Z,ca,R,Y,ba,aa,W,da,ea,ja,fa,ha,la;return a.__generator(this,function(ka){switch(ka.label){case 0:X=(0,k.default)(M.DefaultOrgHomePage);X.header.title=V.name;X.header.coverImgStock=f.default.pickRandomHomePageStockImage();X.header.backgroundColor=f.default.getTitleColorBasedOnStockImage(X.header.coverImgStock);
Z=null===(W=V.homePageFeaturedContent)||void 0===W?void 0:W.indexOf("id:");ca=V.homePageFeaturedContentCount||4;if(!(-1<Z))return[3,4];R={type:"gallery",groupId:V.homePageFeaturedContent.substring(Z+3),sortField:"",sortAsc:!0,itemType:"All",id:"",title:"",showTitle:!1,summary:"",showSummary:!1,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"dark-ramp",bgCustom:"",numItems:ca,showViewLink:!0};ka.label=1;case 1:return ka.trys.push([1,3,,4]),[4,q(V.homePageFeaturedContent.substr(Z+
3))];case 2:return Y=ka.sent(),R.title=(null===Y||void 0===Y?void 0:Y.title)||"",R.sortField=(null===Y||void 0===Y?void 0:Y.sortField)||"",R.sortAsc="desc"===(null===Y||void 0===Y?void 0:Y.sortOrder)?!1:!0,X.content.push(R),[3,4];case 3:return ka.sent(),X.content.push(R),[3,4];case 4:return ba=null===(ja=null===(ea=null===(da=V.portalProperties)||void 0===da?void 0:da.links)||void 0===ea?void 0:ea.contactUs)||void 0===ja?void 0:ja.url,aa=null===(la=null===(ha=null===(fa=V.portalProperties)||void 0===
fa?void 0:fa.links)||void 0===ha?void 0:ha.contactUs)||void 0===la?void 0:la.visible,-1<(null===ba||void 0===ba?void 0:ba.indexOf("mailto:"))&&(X.footer.showContact=aa,X.footer.contact=ba.substring(ba.indexOf("mailto:")+7)),[2,X]}})})}var d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T,S,L,N,O,Q;Object.defineProperty(M,"__esModule",{value:!0});M.getDefaultOrgHomePage=M.hydrateOrgHomePage=M.useHomePageFonts=M.writeCustomStyles=M.updateLegacyConfiguration=M.decodeHomePageConfiguration=M.encodeHomePageConfiguration=
M.isEmptyConfig=M.DefaultAnonymousHomePageDiscoverGalleryItems=M.DefaultAnonymousHomePage=M.DefaultPublicHomePageProductsGalleryItems=M.DefaultPublicHomePageStartGalleryItems=M.DefaultPublicHomePage=M.DefaultOrgHomePage=void 0;b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);M.DefaultOrgHomePage={key:null,baseColor:"gs",useCustomStyles:!1,useCustomTypography:!1,typography:["default","default"],customTypography:["Avenir Next",
"Avenir Next"],header:{title:"",showTitle:!0,logo:"",showLogo:!1,coverType:"stock",coverImg:"",coverImgLayout:"Full-height",coverImgStock:"",coverImgPlacement:null,coverBGColor:"",headerCustom:"",showCoverImg:!0,backgroundColor:"dark-ramp",titleColor:"deprecated",titleLogoPos:"middle",titleLogoAlign:"center",opacity:.2},content:[],footer:{showContact:!1,contact:"",showCopy:!1,copy:"",bgColor:"light-ramp",bgCustom:""},customStyles:[]};M.DefaultPublicHomePage={key:null,baseColor:"gs",useCustomStyles:!1,
useCustomTypography:!1,typography:["default","default"],customTypography:["Avenir Next","Avenir Next"],header:{title:u.default.publicTitle,showTitle:!0,logo:h.default.relativeToExplicitUrl("js/arcgisonline/img/arcgis-online-64.svg"),showLogo:!1,coverType:"custom",coverImg:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_background-public.png"),coverImgLayout:"Half-height",coverImgStock:null,coverImgPlacement:null,coverBGColor:"",showCoverImg:!0,backgroundColor:"dark-ramp",titleColor:"deprecated",
titleLogoPos:"middle",titleLogoAlign:"center",headerCustom:"",opacity:null},content:[{type:"text",title:u.default.welcome.title,showTitle:!1,body:u.default.welcome.publicSummary,showBody:!0,bgColor:"light-ramp",bgCustom:"",alignment:"left"},{type:"gallery",groupId:"",sortField:"modified",sortAsc:!1,itemType:"All",id:"home-page_products",title:u.default.first.title,showTitle:!0,summary:"",showSummary:!1,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"light-ramp",
bgCustom:"",numItems:4,showViewLink:!1},{type:"gallery",groupId:"",sortField:"",sortAsc:!0,itemType:"All",id:"home-page_start",title:u.default.getStarted.title,showTitle:!0,summary:"",showSummary:!1,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"light-ramp",bgCustom:"",numItems:4,showViewLink:!1}],footer:{showContact:!1,contact:"",showCopy:!1,copy:"",bgColor:"light-ramp",bgCustom:""},customStyles:[]};M.DefaultPublicHomePageStartGalleryItems=[{title:u.default.getStarted.gis,
snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_gis.png"),url:null!==(w=null===(d=b.default.getStartedLinks)||void 0===d?void 0:d.gis)&&void 0!==w?w:"#"},{title:u.default.getStarted.learn,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_tutorials.png"),url:null!==(z=null===(t=b.default.getStartedLinks)||void 0===t?void 0:t.learn)&&void 0!==z?z:"#"},{title:u.default.getStarted.livingAtlas,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_livingatlas.png"),
url:null!==(y=null===(x=b.default.getStartedLinks)||void 0===x?void 0:x.livingAtlas)&&void 0!==y?y:"#"},{title:u.default.getStarted.community,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_community.png"),url:null!==(B=null===(A=b.default.getStartedLinks)||void 0===A?void 0:A.community)&&void 0!==B?B:"#"}];M.DefaultPublicHomePageProductsGalleryItems=[{title:u.default.first.make.map,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_make-map.png"),
url:null!==(C=null===(D=b.default.makeLinks)||void 0===D?void 0:D.map)&&void 0!==C?C:"#"},{title:u.default.first.make.scene,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_make-scene.png"),url:null!==(H=null===(E=b.default.makeLinks)||void 0===E?void 0:E.scene)&&void 0!==H?H:"#"},{title:u.default.first.make.app,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_make-app.png"),url:null!==(F=null===(G=b.default.makeLinks)||void 0===
G?void 0:G.app)&&void 0!==F?F:"#"},{title:u.default.first.make.story,snippet:"",thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_make-story.png"),url:null!==(J=null===(I=b.default.makeLinks)||void 0===I?void 0:I.story)&&void 0!==J?J:"#"}];M.DefaultAnonymousHomePage={key:null,baseColor:"gs",useCustomStyles:!1,useCustomTypography:!1,typography:["default","default"],customTypography:["Avenir Next","Avenir Next"],header:{title:u.default.title,showTitle:!0,logo:h.default.relativeToExplicitUrl("js/arcgisonline/img/arcgis-online-64.svg"),
showLogo:!0,coverType:"custom",coverImg:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_background-public.png"),coverImgLayout:"Half-height",coverImgStock:null,coverImgPlacement:null,coverBGColor:"",showCoverImg:!0,backgroundColor:"dark-ramp",titleColor:"deprecated",titleLogoPos:"middle",titleLogoAlign:"center",headerCustom:"",opacity:null},content:[{type:"text",title:u.default.welcome.title,showTitle:!0,body:u.default.welcome.summary,showBody:!0,bgColor:"medium-ramp",bgCustom:"",alignment:"left"},
{type:"gallery",groupId:"",sortField:"",sortAsc:!0,itemType:"All",id:"home-page_discover",title:u.default.discover.title,showTitle:!0,summary:u.default.discover.summary,showSummary:!0,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!0,showItemType:!1,bgColor:"light-ramp",bgCustom:"",numItems:4,showViewLink:!1},{type:"gallery",groupId:"",sortField:"modified",sortAsc:!1,itemType:"All",id:"home-page_explore",title:u.default.explore.title,showTitle:!0,summary:u.default.explore.summary,
showSummary:!0,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"medium-ramp",bgCustom:"",numItems:8,showViewLink:!0},{type:"gallery",groupId:"",sortField:"modified",sortAsc:!1,itemType:"All",id:"home-page_see",title:u.default.see.title,showTitle:!0,summary:u.default.see.summary,showSummary:!0,alignment:"left",showItemThumb:!0,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"light-ramp",bgCustom:"",numItems:4,showViewLink:!1},{type:"gallery",
groupId:"",sortField:"title",sortAsc:!0,itemType:"All",id:"home-page_subscribe",title:u.default.subscribe.title,showTitle:!0,summary:u.default.subscribe.summary,showSummary:!0,alignment:"left",showItemThumb:!1,showItemTitle:!0,showItemSummary:!1,showItemType:!1,bgColor:"medium-ramp",bgCustom:"",numItems:4,showViewLink:!1}],footer:{showContact:!1,contact:"",showCopy:!1,copy:"",bgColor:"light-ramp",bgCustom:""},customStyles:[]};M.DefaultAnonymousHomePageDiscoverGalleryItems=[{title:u.default.discover.try.title,
snippet:u.default.discover.try.snippet,thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_try-arcgis-online.png"),url:null!==(P=null===(K=b.default.discoverLinks)||void 0===K?void 0:K.try)&&void 0!==P?P:"#"},{title:u.default.discover.create.title,snippet:u.default.discover.create.snippet,thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_create-maps.png"),url:null!==(S=null===(T=b.default.discoverLinks)||void 0===T?void 0:T.create)&&void 0!==S?S:"#"},
{title:u.default.discover.share.title,snippet:u.default.discover.share.snippet,thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_share-and-collaborate.png"),url:null!==(N=null===(L=b.default.discoverLinks)||void 0===L?void 0:L.share)&&void 0!==N?N:"#"},{title:u.default.discover.patterns.title,snippet:u.default.discover.patterns.snippet,thumbnailUrl:h.default.relativeToExplicitUrl("js/arcgisonline/img/homepage_discover-patterns-and-trends.png"),url:null!==(Q=null===(O=b.default.discoverLinks)||
void 0===O?void 0:O.patterns)&&void 0!==Q?Q:"#"}];M.isEmptyConfig=r;M.encodeHomePageConfiguration=e;M.decodeHomePageConfiguration=v;M.updateLegacyConfiguration=g;M.writeCustomStyles=p;M.useHomePageFonts=function(V){var X,Z,ca,R;if(V.useCustomTypography){var Y=(null===(X=V.customTypography)||void 0===X?void 0:X[0])||"Avenir Next";V=(null===(Z=V.customTypography)||void 0===Z?void 0:Z[1])||"Avenir Next"}else Y=(null===(ca=V.typography)||void 0===ca?void 0:ca[0])||"Avenir Next",V=(null===(R=V.typography)||
void 0===R?void 0:R[1])||"Avenir Next";document.body.style.setProperty("--homepage-body-font",n(V));document.body.style.setProperty("--homepage-title-font",n(Y))};M.hydrateOrgHomePage=l;M.getDefaultOrgHomePage=c;M.default={DefaultOrgHomePage:M.DefaultOrgHomePage,DefaultAnonymousHomePage:M.DefaultAnonymousHomePage,DefaultAnonymousHomePageDiscoverGalleryItems:M.DefaultAnonymousHomePageDiscoverGalleryItems,DefaultPublicHomePage:M.DefaultPublicHomePage,DefaultPublicHomePageStartGalleryItems:M.DefaultPublicHomePageStartGalleryItems,
DefaultPublicHomePageProductsGalleryItems:M.DefaultPublicHomePageProductsGalleryItems,encodeHomePageConfiguration:e,decodeHomePageConfiguration:v,updateLegacyConfiguration:g,writeCustomStyles:p,getDefaultOrgHomePage:c,hydrateOrgHomePage:l,isEmptyConfig:r}})},"arcgisonline/pages/home/widgets/HomePageAboveHeader":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ./HomePageComponent ../../../tsutils/declareDecorator dojo/text!./templates/HomePageAboveHeader.html".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.templateString=h.default}u.prototype.startup=function(){this.inherited(arguments);this.render()};u.prototype.setLogo=function(r){r.match(/^data:/)?this.logo.src=r:(this.logo.src=this.useExplicitLogoPath&&r?r:r?"".concat(this.fetchResourceUrl(r)):"",this.logo.src+=this.logo.src.match(/\?/)?"\x26nocache\x3d".concat((new Date).getTime()):
"?nocache\x3d".concat((new Date).getTime()));k.default.showHide(this.domNode,this.isVisibleDueToPlacement())};u.prototype.showLogo=function(r){this.logo.classList[r?"add":"remove"]("inline-block");r&&this.header.logo&&!this.logo.src&&this.setLogo(this.header.logo);k.default.showHide(this.logo,this.isVisibleDueToPlacement()&&r&&0<this.header.logo.length);k.default.showHide(this.domNode,this.isVisibleDueToPlacement()&&(this.header.showTitle||r&&0<this.header.logo.length))};u.prototype.setTitle=function(r){this.heading.innerHTML=
this.sanitize(r)};u.prototype.showTitle=function(r){k.default.showHide(this.heading,this.isVisibleDueToPlacement()&&r);k.default.showHide(this.domNode,this.isVisibleDueToPlacement()&&(this.header.showLogo&&0<this.header.logo.length||r))};u.prototype.setTitleColor=function(r){r=r.replace("ramp",this.baseColor);k.default.setModifierClass(this.domNode,"home-page__header-background-color--",r)};u.prototype.setTitleAndLogoPlacement=function(r){this.header.titleLogoPos=r;k.default.showHide(this.domNode,
"above"===r);"above"===r&&(this.showLogo(this.header.showLogo),this.showTitle(this.header.showTitle))};u.prototype.setTitleAndLogoAlignment=function(r){if("left"===r){var e=b.default.isRightToLeft;this.titleContainer.style.justifyContent="flex-start";this.titleContainer.style.textAlign=e?"right":r}else this.titleContainer.style.justifyContent=r,this.titleContainer.style.textAlign=r};u.prototype.isVisibleDueToPlacement=function(){return"above"===this.header.titleLogoPos};u.prototype.render=function(){this.renderLogo();
this.renderTitle();this.renderTitleColor();this.renderTitleAndLogoPlacement();this.renderTitleAndLogoAlignment();k.default.showHide(this.domNode,this.isVisibleDueToPlacement()&&(this.header.showTitle||this.header.showLogo&&0<this.header.logo.length))};u.prototype.renderLogo=function(){this.header.showLogo&&this.setLogo(this.header.logo);this.showLogo(this.header.showLogo)};u.prototype.renderTitle=function(){this.header.title&&this.setTitle(this.header.title);this.showTitle(this.header.showTitle)};
u.prototype.renderTitleColor=function(){this.setTitleColor((this.useCustomStyles?this.header.headerCustom:this.header.backgroundColor)||"white")};u.prototype.renderTitleAndLogoPlacement=function(){this.setTitleAndLogoPlacement(this.header.titleLogoPos||"middle")};u.prototype.renderTitleAndLogoAlignment=function(){this.setTitleAndLogoAlignment(this.header.titleLogoAlign||"center")};return u=a.__decorate([(0,m.default)(f.default)],u)}()})},"arcgisonline/pages/home/widgets/HomePageComponent":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ../../../sharing/util ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(){this.anchorClass="home-page__anchors";this.anchorBaseClass="home-page__anchors--"}r.prototype.postCreate=function(){this.resourcesUrl="".concat(f.default.getSecureUrl(b.default.restBaseUrl),"portals/self/resources/")};r.prototype.fetchResourceUrl=function(e){var v=f.default.getToken();return"".concat(this.resourcesUrl).concat(e).concat(v?
"?token\x3d".concat(v):"")};r.prototype.sanitize=function(e){var v,g;return null!==(g=null===(v=this.sanitizer)||void 0===v?void 0:v.sanitize(e))&&void 0!==g?g:e};r.prototype.renderAndSanitizeMarkdown=function(e){var v,g,p=this.disableMarkdown?e:null!==(g=null===(v=this.markdown)||void 0===v?void 0:v.render(e))&&void 0!==g?g:e;return this.sanitize(p)};r.prototype.processLinks=function(e){var v=this;k.default.querySelectorAllAsArray("a",e).forEach(function(g){g.classList.add(v.anchorClass);g.href===
window.location.href?g.classList.add("".concat(v.anchorBaseClass,"disabled")):(g.target="_blank",g.rel="noopener noreferrer");if(v.preview||g.href===window.location.href)v.preventFocus(g),g.addEventListener("click",v.preventClick)})};r.prototype.preventFocus=function(e){e.tabIndex=-1};r.prototype.preventClick=function(e){var v,g,p;null===(v=null===e||void 0===e?void 0:e.preventDefault)||void 0===v?void 0:v.call(e);null===(g=null===e||void 0===e?void 0:e.stopImmediatePropagation)||void 0===g?void 0:
g.call(e);null===(p=null===e||void 0===e?void 0:e.stopPropagation)||void 0===p?void 0:p.call(e)};return r=a.__decorate([(0,m.default)(h.default,u.default)],r)}()})},"arcgisonline/pages/home/widgets/HomePageHeader":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ../../utils/icons ./HomePageComponent ../../../sharing/util ../../../tsutils/declareDecorator dojo/text!./templates/HomePageHeader.html ../../utils/color".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=r.default;this.overlayColors={brown:["f2ece6","7c410a","3e2105"],blue:["e5f1f9","0079c1","003d61"],green:["e9f3ea","288835","14441b"],yellow:["fefced","f9e54e","7d7327"],orange:["fef5e9","f89927","7c4d14"],red:["fbeae8","d83020","6c1810"],violet:["efebf5","633b9b","321e4e"]};this.stockBackgroundPath=
"js/arcgisonline/img/homepage_background-"}v.prototype.startup=function(){this.inherited(arguments);this.render()};v.prototype.setVisible=function(g){this.domNode.classList[g?"remove":"add"]("invisible")};v.prototype.getCoverImage=function(){return this.domNode.style.backgroundImage};v.prototype.setCoverImage=function(g){this.domNode&&(this.domNode.style.backgroundImage=g,"none"===g?(this.header.showCoverImg=!1,this.setCoverImageLayout("no-image")):this.setCoverImageLayout(this.header.coverImgLayout));
this.checkShowHeader()};v.prototype.removeCoverImageLayout=function(){this.domNode.classList.remove("home-page__header--no-image");this.domNode.classList.remove("home-page__header--half-height");this.domNode.classList.remove("home-page__header--full-height");this.domNode.classList.remove("home-page__header--two-thirds-height")};v.prototype.setCoverImageLayout=function(g){this.removeCoverImageLayout();"full-height"===g.toLowerCase()?this.domNode.classList.add("home-page__header--full-height"):"no-image"===
g.toLowerCase()?this.domNode.classList.add("home-page__header--no-image"):"two-thirds-height"===g.toLowerCase()?this.domNode.classList.add("home-page__header--two-thirds-height"):this.domNode.classList.add("home-page__header--half-height");k.default.showHide(this.arrowContainer,"full-height"===g.toLowerCase())};v.prototype.setLogo=function(g){g.match(/^data:/)?this.logo.src=g:(this.logo.src=this.useExplicitLogoPath&&g?g:g?"".concat(this.fetchResourceUrl(g)):"",this.logo.src+=this.logo.src.match(/\?/)?
"\x26nocache\x3d".concat(Date.now()):"?nocache\x3d".concat(Date.now()))};v.prototype.showLogo=function(g){this.logo.classList[g?"add":"remove"]("inline-block");g&&this.header.logo&&!this.logo.src&&this.setLogo(this.header.logo);k.default.showHide(this.logo,this.isVisibleDueToPlacement()&&g&&0<this.header.logo.length);this.header.showLogo=g;this.checkShowHeader();this.setOpacity(this.header.opacity)};v.prototype.setTitle=function(g){this.heading.innerHTML=this.sanitize(g)};v.prototype.showTitle=function(g){k.default.showHide(this.heading,
this.isVisibleDueToPlacement()&&g);this.header.showTitle=g;this.checkShowHeader();this.setOpacity(this.header.opacity)};v.prototype.setTitleColor=function(g){g=g.replace("ramp",this.baseColor);k.default.setModifierClass(this.domNode,"home-page__header-background-color--",g);k.default.setModifierClass(this.arrowContainer,"home-page__scroll-down-arrow--",g);this.setOpacity(this.header.opacity)};v.prototype.setOpacity=function(g){this.header.showLogo||this.header.showTitle||(g=0);if(this.useCustomStyles)if(this.header.headerCustom.match(/^custom/)&&
!this.customStyles[parseInt(this.header.headerCustom.replace("custom",""),10)-1]&&(this.header.headerCustom="white"),this.header.headerCustom.match(/^custom/)){var p=parseInt(this.header.headerCustom.replace("custom",""),10)-1;p=e.default.hexRgb(this.customStyles[p].background);p="".concat(p[0],", ").concat(p[1],", ").concat(p[2],",")}else p="black"===this.header.headerCustom||-1!==this.header.headerCustom.indexOf("dark-")?"0,0,0,":"255,255,255,";else this.header.backgroundColor.match(/ramp$/)&&"gs"!==
this.baseColor?(p=-1!==this.header.backgroundColor.indexOf("dark-")?e.default.hexRgb(this.overlayColors[this.baseColor][2]):"white-ramp"===this.header.backgroundColor?[255,255,255]:e.default.hexRgb(this.overlayColors[this.baseColor][0]),p="".concat(p[0],", ").concat(p[1],", ").concat(p[2],",")):p="black"===this.header.backgroundColor||-1!==this.header.backgroundColor.indexOf("dark-")?"0,0,0,":"255,255,255,";this.headerOverlay.style.backgroundColor="rgba(".concat(p).concat((null===g||void 0===g?void 0:
g.toFixed(2))||0,")")};v.prototype.setCustomStyles=function(g){this.customStyles=g};v.prototype.setTitleAndLogoPlacement=function(g){k.default.setModifierClass(this.headerOverlay,"home-page__header-overlay-valign--",g);"above"!==g&&"below"!==g?(k.default.showNodes([this.heading,this.logo]),this.headerOverlay.classList.remove("is-empty"),this.showTitle(this.header.showTitle),this.showLogo(this.header.showLogo)):(k.default.hideNodes([this.heading,this.logo]),this.headerOverlay.classList.add("is-empty"))};
v.prototype.setTitleAndLogoAlignment=function(g){if("left"===g){var p=b.default.isRightToLeft;this.titleContainer.style.justifyContent="flex-start";this.titleContainer.style.textAlign=p?"right":g}else this.titleContainer.style.justifyContent=g,this.titleContainer.style.textAlign=g};v.prototype.render=function(){this.checkShowHeader()&&(this.setVisible(!this.startHidden),this.renderCoverImage(),this.renderCoverImageLayout(),this.renderLogo(),this.renderTitle(),this.renderTitleColor(),this.renderOpacity(),
this.renderTitleAndLogoPlacement(),this.renderTitleAndLogoAlignment())};v.prototype.checkShowHeader=function(){var g=this.header.showCoverImg||this.header.showLogo||this.header.showTitle;k.default.showHide(this.headerContainer,g);return g};v.prototype.renderCoverImage=function(){if(!this.header.showCoverImg)this.setCoverImage("none");else if("stock"===this.header.coverType){var g="".concat(h.default.relativeToExplicitUrl("".concat(this.stockBackgroundPath).concat(this.header.coverImgStock,".jpg")));
this.setCoverImage("url(".concat(g,")"))}else if(this.header.coverImg){g=this.useExplicitCoverImgPath?this.header.coverImg:this.fetchResourceUrl(this.header.coverImg);var p=g.match(/\?/)?"\x26nocache\x3d".concat(Date.now()):"?nocache\x3d".concat(Date.now());g="url(".concat(g).concat(p,")");this.setCoverImage(g)}this.header.coverImgPlacement&&(this.domNode.style.backgroundPositionX=this.header.coverImgPlacement.x,this.domNode.style.backgroundPositionY=this.header.coverImgPlacement.y)};v.prototype.renderCoverImageLayout=
function(){var g,p,n="home-page__header--".concat((null===(p=null===(g=this.header.coverImgLayout)||void 0===g?void 0:g.toLowerCase)||void 0===p?void 0:p.call(g))||"half-height");(this.header.coverImg||this.header.coverImgStock)&&this.header.showCoverImg||(n="home-page__header--no-image");this.arrowContainer.innerHTML=f.default["arrow-down"]["32"];this.domNode.classList.add(n)};v.prototype.renderLogo=function(){this.header.showLogo&&this.setLogo(this.header.logo);this.showLogo(this.header.showLogo);
this.setLogoClass(this.header.showTitle)};v.prototype.setLogoClass=function(g){k.default.addRemoveClass(this.logo,"no-title",!g)};v.prototype.renderTitle=function(){this.header.title&&this.setTitle(this.header.title);this.showTitle(this.header.showTitle)};v.prototype.renderTitleColor=function(){this.useCustomStyles?(this.header.headerCustom=this.header.headerCustom||"black",this.setTitleColor(this.header.headerCustom)):this.setTitleColor(this.header.backgroundColor)};v.prototype.renderOpacity=function(){this.setOpacity(this.header.opacity)};
v.prototype.renderTitleAndLogoPlacement=function(){this.setTitleAndLogoPlacement(this.header.titleLogoPos||"middle")};v.prototype.renderTitleAndLogoAlignment=function(){this.setTitleAndLogoAlignment(this.header.titleLogoAlign||"center")};v.prototype.isVisibleDueToPlacement=function(){var g=this.header.titleLogoPos||"middle";return"above"!==g&&"below"!==g};return v=a.__decorate([(0,u.default)(m.default)],v)}()})},"arcgisonline/pages/home/widgets/HomePageBelowHeader":function(){define("require exports tslib ./HomePageAboveHeader ../../utils/dom ../../../tsutils/declareDecorator dojo/text!./templates/HomePageBelowHeader.html".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.templateString=m.default}h.prototype.setTitleAndLogoPlacement=function(u){this.header.titleLogoPos=u;k.default.showHide(this.domNode,"below"===u);"below"===u&&(this.showLogo(this.header.showLogo),this.showTitle(this.header.showTitle))};h.prototype.isVisibleDueToPlacement=function(){return"below"===this.header.titleLogoPos};return h=a.__decorate([(0,f.default)(b.default)],
h)}()})},"arcgisonline/pages/home/widgets/HomePageFooter":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ./HomePageComponent ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/HomePageFooter.html".split(" "),function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=
u.default;this.i18n=h.default.siteFooter}r.prototype.startup=function(){var e=this;this.inherited(arguments);this.render();if(this.preview){var v=this.domNode.querySelectorAll("a");k.default.forEachNode(v,function(g){e.preventFocus(g);g.addEventListener("click",e.preventClick)})}};r.prototype.setContact=function(e){var v=this.sanitize(e);this.contactUs.href=e?"mailto:".concat(v):""};r.prototype.showContact=function(e){k.default.showHide(this.contactUs,e)};r.prototype.setCopy=function(e){e=this.renderAndSanitizeMarkdown(e);
this.footerCopyContainer.innerHTML=e;this.processLinks(this.footerCopyContainer)};r.prototype.showCopy=function(e){k.default.showHide(this.footerCopyContainer,e)};r.prototype.setBackgroundColor=function(e,v,g){void 0!==g&&(this.useCustomStyles=g);e=this.useCustomStyles?v:e.replace("ramp",this.baseColor);k.default.setModifierClass(this.domNode,"home-page__footer-color--",e);this.updateFooterCopyLinksBackgroundColor();this.updateFooterLinksBackgroundColor(e)};r.prototype.render=function(){var e=encodeURI(window.location.href);
this.reportAbuse.href+='?subject\x3d"Concerns about an item"\x26body\x3d"I have concerns about the following. %0AReferring page: '.concat(e," %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\"");this.setBackgroundColor(this.footer.bgColor,this.footer.bgCustom);this.footer.contact&&this.setContact(this.footer.contact);
this.showContact(this.footer.showContact);this.footer.copy&&this.setCopy(this.footer.copy);this.showCopy(this.footer.showCopy);this.portal.isPortal&&this.renderFooterConfig()};r.prototype.renderFooterConfig=function(){var e=this,v=[];(b.default.footerLinks||[]).forEach(function(g){var p,n,q=a.__assign(a.__assign(a.__assign({},h.default.common),h.default.siteFooter),{helpLabel:h.default.supportPage.helpLabel}),l=e.portal.portalUser,c=e.portal.isPortal,d=window.location.href,w="${i18n.legal}"===(null===
g||void 0===g?void 0:g.title),t=!!(w&&(null===l||void 0===l?0:l.accountId)),z="${i18n.help}"===(null===g||void 0===g?void 0:g.title)||"support.html"===(null===g||void 0===g?void 0:g.url);l=!(z&&!l&&"public"===e.portal.access&&c);w=!w&&!z||w&&!t||z&&!l;t=null===(p=g.title)||void 0===p?void 0:p.indexOf("${i18n.");p=null===(n=g.title)||void 0===n?void 0:n.indexOf("}");n=-1<t&&-1<p?"".concat(q[g.title.substring(t+7,p)]):g.title;if(g.url){-1===g.url.indexOf("http")&&-1===g.url.indexOf("mailto:")&&(g.url=
"support.html"===g.url?e.portal.helpBase||"".concat(b.default.baseUrl).concat(g.url):"".concat(b.default.baseUrl).concat(g.url));if("${i18n.help}"===g.title||"support.html"===g.url)g.url=e.portal.helpBase;w&&v.push({href:g.url,target:"_blank",title:n})}else c&&"contactUs"===g.type?(c=b.default.portalName||"ArcGIS.com",d=escape(d),g="mailto:".concat(g.email),g+='?subject\x3d"A comment about '.concat(c,'"'),g+='\x26body\x3d"I have the following comment about the '.concat(c," Web site. %0AReferring page: ").concat(d,
' %0A %0A(Please provide as much detail as possible. Note: Contact Us is not meant for obtaining technical support or general product information.)"'),v.push({href:g,title:n})):"reportAbuse"===g.type&&(d=escape(d),g="mailto:".concat(g.email,'?subject\x3d"Concerns about an item"'),g+='\x26body\x3d"I have concerns about the following. %0AReferring page: '.concat(d," %0A %0A(Please describe your concerns. If you have concerns about a particular item, it's best to click the 'Report Abuse' link while viewing the item description. Doing so will include the URL to the specific item in this e-mail.)\""),
v.push({href:g,title:n}))});v.filter(function(g){return!g.className||-1===g.className.indexOf("hide")}).forEach(function(g,p){var n,q,l,c=null!==(n=g.id)&&void 0!==n?n:"link".concat(p);p=g.href;n=null!==(q=g.target)&&void 0!==q?q:"";q=null!==(l=g.className)&&void 0!==l?l:"";l=document.createElement("a");l.id=c;l.innerText=g.title;l.href=p;n&&(l.target=n);l.className="home-page__footer-link margin-right-2 font-size--1 home-page__footer-color--".concat(e.footer.bgColor," ").concat(q);e.contactUs.insertAdjacentElement("beforebegin",
l)})};r.prototype.updateFooterCopyLinksBackgroundColor=function(){this.processLinks(this.footerCopyContainer)};r.prototype.updateFooterLinksBackgroundColor=function(e){var v=this.domNode.querySelectorAll("a");k.default.forEachNode(v,function(g){k.default.setModifierClass(g,"home-page__footer-color--",e)})};return r=a.__decorate([(0,m.default)(f.default)],r)}()})},"arcgisonline/pages/home/widgets/HomePageGallery":function(){define("require exports tslib ../../../esriGeowConfig ../../utils/dom ./HomePageComponent ./HomePageGalleryItem ../../dijit/FilterItemType/_itemTypes ../../../sharing/util ../../../tsutils/declareDecorator dojo/Deferred esri/Evented dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/HomePageGallery.html ../../portal/PortalItem".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=p.default;this.galleryItems=[]}q.prototype.startup=function(){this.inherited(arguments);this.preview&&(this.viewBtn.tabIndex=-1);k.default.hideNode(this.domNode);
this.render()};q.prototype.setAlignment=function(l){k.default.removeClasses(this.domNode,["text-left","text-center"]);k.default.removeClasses(this.heading,["text-left","text-center"]);k.default.removeClasses(this.summary,["text-left","text-center"]);l="text-".concat(l);this.domNode.classList.add(l);this.heading.classList.add(l);this.summary.classList.add(l)};q.prototype.setBackgroundColor=function(l){l=l.replace("ramp",this.baseColor);k.default.setModifierClass(this.domNode,"home-page__gallery-color--",
l)};q.prototype.setGroupID=function(l){k.default.hideNode(this.domNode);this.gallery.groupId=l;this.renderItems()};q.prototype.setSortField=function(l){this.gallery.sortField=l;this.renderItems()};q.prototype.setSortAsc=function(l){this.gallery.sortAsc=l;this.renderItems()};q.prototype.showItemTitle=function(l){this.gallery.showItemTitle=l;this.renderItems()};q.prototype.showItemSummary=function(l){this.gallery.showItemSummary=l;this.renderItems()};q.prototype.showItemThumb=function(l){this.gallery.showItemThumb=
l;this.renderItems()};q.prototype.showItemType=function(l){this.gallery.showItemType=l;this.renderItems()};q.prototype.setItemType=function(l,c){this.gallery.itemType=l;this.renderItems(c)};q.prototype.setNumItems=function(l){this.gallery.numItems=l;this.renderItems()};q.prototype.setTitle=function(l){this.heading.innerHTML=this.sanitize(l)};q.prototype.showTitle=function(l){k.default.showHide(this.heading,l)};q.prototype.setSummary=function(l){this.summary.innerHTML=this.renderAndSanitizeMarkdown(l||
"");this.processLinks(this.summary)};q.prototype.showSummary=function(l){k.default.showHide(this.summary,l)};q.prototype.setViewLinkLabel=function(l){this.viewBtn.innerHTML=this.sanitize(l)};q.prototype.setViewLinkClick=function(l){this.viewBtn.addEventListener("click",l)};q.prototype.showViewLink=function(l){k.default.showHide(this.viewBtnContainer,l)};q.prototype.render=function(){this.renderViewLink();this.renderAlignment();this.renderBackgroundColor();this.renderTitle();this.renderSummary();this.renderItems()};
q.prototype.renderAlignment=function(){this.gallery.alignment&&this.setAlignment(this.gallery.alignment||"center")};q.prototype.renderBackgroundColor=function(){this.useCustomStyles?(this.gallery.bgCustom=this.gallery.bgCustom||"white",this.setBackgroundColor(this.gallery.bgCustom)):this.setBackgroundColor(this.gallery.bgColor)};q.prototype.renderTitle=function(){this.gallery.showTitle&&this.setTitle(this.gallery.title);this.showTitle(this.gallery.showTitle)};q.prototype.renderSummary=function(){this.gallery.showSummary&&
this.setSummary(this.gallery.summary);this.showSummary(this.gallery.showSummary)};q.prototype.renderViewLink=function(){this.setViewLinkLabel(g.default.orgHomePageSetup.galleryText.viewGallery);this.preview||this.stopViewLink||this.setViewLinkClick(this.goToGroupPage.bind(this));this.showViewLink(this.gallery.showViewLink)};q.prototype.renderItems=function(l){var c=this,d;this.explicitQuery&&!this.gallery.groupId?this.searchItems():this.explicitItems?null===(d=this.explicitItems)||void 0===d?void 0:
d.forEach(function(w){return c.renderItem(w)}):this.fetchGroup().then(function(w){w?c.fetchItems(w,l):k.default.hideNode(c.domNode)},function(w){k.default.hideNode(c.domNode)})};q.prototype.goToGroupPage=function(){var l=this.explicitFocus?"\x26focus\x3d".concat(this.explicitFocus):"",c=this.getExplicitQueryParameters(!0),d="relevance"!==this.gallery.sortField?"\x26sortField\x3d".concat(this.gallery.sortField):"",w="\x26sortOrder\x3d".concat(this.gallery.sortAsc?"asc":"desc");l="".concat(b.default.baseUrl,
"group.html?id\x3d").concat(this.gallery.groupId,"\x26view\x3dgrid\x26showFilters\x3dfalse").concat(d).concat(w).concat(c).concat(l,"#content");window.open(l,"_blank")};q.prototype.searchItems=function(){var l=this,c,d=new e.default,w="".concat(b.default.restBaseUrl,"search"),t=null!==(c=this.explicitQueryFilter)&&void 0!==c?c:"",z={start:1,num:this.gallery.numItems,q:"".concat(this.explicitQuery).concat(t),sortField:this.gallery.sortField,sortOrder:this.gallery.sortAsc?"asc":"desc"};this.explicitQueryParams&&
Object.keys(this.explicitQueryParams).forEach(function(x){return z[x]=l.explicitQueryParams[x]});u.default.request({url:w,content:z}).then(function(x){var y;null===x||void 0===x?void 0:x.results.forEach(function(A){A=new n.default(a.__assign(a.__assign({},A),{portal:l.portal}));l.renderItem(A)});x&&0!==(null===(y=x.results)||void 0===y?void 0:y.length)||k.default.hideNode(l.domNode)});return d};q.prototype.getExplicitQueryParameters=function(l){var c=this;if(this.explicitQueryParams){var d="";Object.keys(this.explicitQueryParams).forEach(function(w){var t;
if("categories"===w){var z=null===(t=c.explicitQueryParams[w])||void 0===t?void 0:t.split(",");null===z||void 0===z?void 0:z.forEach(function(x){d=l&&-1<x.indexOf("/Region/")?"".concat(d,"\x26regions\x3d").concat(encodeURIComponent(x)):"".concat(d,"\x26").concat(w,"\x3d").concat(encodeURIComponent(x))})}else d="".concat(d,"\x26").concat(w,"\x3d").concat(c.explicitQueryParams[w])});return d}return""};q.prototype.fetchItems=function(l,c){var d=this,w,t,z,x,y=new e.default,A=null===(w=l.properties)||
void 0===w?void 0:w.isFeatured,B=(null===(t=l.properties)||void 0===t?void 0:t.featuredItemIds)||[];w=this.gallery.sortAsc?"asc":"desc";l=this.getExplicitQueryParameters();t=(null===(x=h.default[null===(z=this.gallery.itemType)||void 0===z?void 0:z.replace("Apps","applications").toLowerCase()])||void 0===x?void 0:x.q)||"";z="\x26q\x3d".concat(this.explicitQuery||t," ").concat(this.explicitQueryFilter||"",' -(type:"Code Attachment" OR type:"Windows Viewer Add In" OR type:"Windows Viewer Configuration" OR type:"Map Area") -typekeywords:"MapAreaPackage"');
"featured"===this.gallery.sortField&&A&&B.length&&(B=B.splice(0,this.gallery.numItems),z=z.replace("\x26q\x3d","\x26q\x3did:(".concat(B.join(" OR "),") \x26")));x="";"featured"!==this.gallery.sortField&&(x="\x26sortField\x3d".concat(this.gallery.sortField,"\x26sortOrder\x3d").concat(w));w="\x26num\x3d".concat(this.gallery.numItems);z="?f\x3djson".concat(z,"\x26start\x3d1").concat(x).concat(w).concat(l);z="".concat(b.default.restBaseUrl,"content/groups/").concat(this.gallery.groupId,"/search").concat(z);
u.default.request({url:z}).then(function(D){var C,E;d.itemContainer&&(d.itemContainer.innerHTML="");"featured"===d.gallery.sortField&&A&&B.length&&(null===D||void 0===D?0:D.results)&&(D.results=d.sortByFeatured(D.results,B));null===D||void 0===D?void 0:D.results.forEach(function(H,G){G<d.gallery.numItems&&(H=new n.default(a.__assign(a.__assign({},H),{portal:d.portal})),d.renderItem(H))});k.default.showHide(d.domNode,0<(null===(C=null===D||void 0===D?void 0:D.results)||void 0===C?void 0:C.length));
!c||(null===(E=null===D||void 0===D?void 0:D.results)||void 0===E?0:E.length)||c()});return y};q.prototype.sortByFeatured=function(l,c){var d=[],w={};l.forEach(function(t){w[t.id]=t});c.forEach(function(t){w[t]&&d.push(w[t])});return d};q.prototype.fetchGroup=function(){var l=new e.default,c="".concat(b.default.restBaseUrl,"community/groups"),d={q:"id:".concat(this.gallery.groupId)};u.default.request({url:c,content:d}).then(function(w){var t;0<(null===(t=null===w||void 0===w?void 0:w.results)||void 0===
t?void 0:t.length)?l.resolve(w.results[0]):l.resolve(void 0)},function(w){l.resolve(void 0)});return l};q.prototype.renderItem=function(l){var c,d=document.createElement("div");null===(c=this.itemContainer)||void 0===c?void 0:c.appendChild(d);l=this.createGalleryItem(l,d);this.galleryItems.push(l)};q.prototype.createGalleryItem=function(l,c){l=new m.default({gallery:this.gallery,item:l,portal:this.portal,sanitizer:this.sanitizer,preview:this.preview,linkToItemUrl:this.explicitItems&&this.linkToItemUrls?
!0:void 0},c);l.startup();return l};return q=a.__decorate([(0,r.default)(f.default,v.default)],q)}()})},"arcgisonline/pages/home/widgets/HomePageGalleryItem":function(){define("require exports tslib ./HomePageComponent ../../utils/dom ../../utils/item ../../utils/icons ../../utils/setItemUrls ../../../sharing/util ../../../tsutils/declareDecorator dijit/a11yclick dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/HomePageGalleryItem.html".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=g.default;this.icons=m.default}p.prototype.startup=function(){this.inherited(arguments);this.preview&&(this.domNode.tabIndex=-1);this.addEventListeners();this.render()};p.prototype.setThumbnail=function(n){n=n?"".concat(n).concat(-1<n.search("\\?token\x3d")?
"\x26":"?","w\x3d400"):n;this.itemThumbnail.style.backgroundColor="#fff";this.itemThumbnail.style.backgroundImage="url(".concat(n,")");this.setThumbnailAlt()};p.prototype.showThumbnail=function(n){k.default.showHide(this.itemThumbnail,n);this.computeLaunchVisibility();this.setThumbnailAlt()};p.prototype.setType=function(n){this.itemType.innerText=this.sanitize(n)};p.prototype.showType=function(n){k.default.showHide(this.itemTypeContainer,n);this.computeLaunchVisibility()};p.prototype.setTitle=function(n){this.itemTitle.innerText=
this.sanitize(n);this.itemTitle.setAttribute("aria-label","".concat(this.sanitize(n),": ").concat(v.default.common.opensNewTab));this.itemTitle.title=this.sanitize(n);this.setThumbnailAlt()};p.prototype.showTitle=function(n){k.default.showHide(this.itemTitle,n);this.computeLaunchVisibility();this.setThumbnailAlt()};p.prototype.setSummary=function(n){this.itemSummary.innerText=this.sanitize(n)};p.prototype.showSummary=function(n){k.default.showHide(this.itemSummary,n);this.computeLaunchVisibility()};
p.prototype.setThumbnailAlt=function(){this.itemThumbnail.alt=this.gallery.showItemThumb&&!this.gallery.showItemTitle?this.item.title:""};p.prototype.computeLaunchVisibility=function(){var n=this.gallery.showItemThumb&&!this.gallery.showItemTitle&&!this.gallery.showItemSummary&&!this.gallery.showItemType;k.default.showHide(this.itemLaunch,n);k.default.showHide(this.itemContent,!n)};p.prototype.addEventListeners=function(){var n=this,q,l,c;if(!this.preview)if(this.linkToItemUrl){var d=this.itemTitle.getAttribute("aria-label");
this.itemTitle.setAttribute("aria-label","".concat(d,": ").concat(v.default.common.opensNewTab));this.own((0,e.default)(this.domNode,function(){return window.open(n.item.url,"_blank")}))}else{var w=!1;"Web Experience"===this.item.type&&h.default.webExperienceViewer(this.item);var t=u.default.getHomePageGalleryLinkInfo(this.item),z=-1<(null===(q=null===(d=null===t||void 0===t?void 0:t.href)||void 0===d?void 0:d.toLowerCase)||void 0===q?void 0:q.call(d).indexOf("javascript"));z&&this.item.url&&f.default.shouldOpenToItemURLInNewTab(this.item)&&
(t.href=this.item.url,w=!0);f.default.shouldOpenInNewTab(this.item)&&(w=!0);z=-1<(null===(c=null===(l=null===t||void 0===t?void 0:t.href)||void 0===l?void 0:l.toLowerCase)||void 0===c?void 0:c.call(l).indexOf("javascript"));w&&(d=this.itemTitle.getAttribute("aria-label"),this.itemTitle.setAttribute("aria-label","".concat(d,": ").concat(v.default.common.opensNewTab)));this.own((0,e.default)(this.domNode,z&&t.onclick?t.onclick:function(){window.open(t.href,w?"_blank":"")}))}};p.prototype.render=function(){this.renderThumbnail();
this.renderType();this.renderTitle();this.renderSummary();this.setAlignment()};p.prototype.renderThumbnail=function(){var n=this;this.gallery.showItemThumb&&(this.item.getThumbnail?this.item.getThumbnail(!1).then(function(){n.setThumbnail(n.item.thumbnailUrl)}):this.item.thumbnailUrl&&this.setThumbnail(this.item.thumbnailUrl));this.showThumbnail(this.gallery.showItemThumb);this.setThumbnailAlt()};p.prototype.renderType=function(){this.gallery.showItemType&&this.setType(this.item.displayName||this.item.type);
this.showType(this.gallery.showItemType)};p.prototype.renderTitle=function(){var n;this.setTitle(null!==(n=this.item.title)&&void 0!==n?n:"");this.showTitle(this.gallery.showItemTitle)};p.prototype.renderSummary=function(){var n;this.setSummary(null!==(n=this.item.snippet)&&void 0!==n?n:"");this.showSummary(this.gallery.showItemSummary)};p.prototype.setAlignment=function(){this.gallery.showItemSummary?this.itemTextContent.classList.add("text-left"):this.itemTextContent.classList.add("text-center")};
return p=a.__decorate([(0,r.default)(b.default)],p)}()})},"arcgisonline/pages/utils/setItemUrls":function(){define("require exports tslib ../../esriGeowConfig ../../sharing/util ./arrays dojo/_base/lang dojo/query esri/geometry/Extent ./url ./queryHandler".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);e=a.__importStar(e);return function(){function v(){}v.sceneViewer=
function(g){var p="./webscene/viewer.html?";switch(g.classification){case "layer":p+="layers\x3d"+g.id;break;default:p+="webscene\x3d"+g.id}g.sceneViewerUrl=p};v.mapViewer=function(g){var p="".concat(b.default.baseUrl,"webmap/viewer.html?"),n="".concat(b.default.newMapViewerUrl||"","?"),q="map"===g.classification,l=g.sourceData||{},c=g.type,d={},w=g.portal;w=!(w&&w.getPortalUser())&&g.isPremiumContent&&!w.isPortal;var t={};g.numViews||f.default.includes(g.typeKeywords,"Layer Template")||!g.isHostedService||
"Feature Service"!==c&&"Feature Collection"!==c||"Feature Service"===c&&("Feature Service"!==c||"Feature Collection"===l.type||"Service Definition"===l.type||f.default.includes(g.typeKeywords,"View Service"))||(d=m.default.mixin(t,{panel:"gallery",suggestField:!0}));!g.numViews&&g.isHostedService&&"Map Service"===c&&g.serviceInfo&&g.adminServiceInfo&&(d=m.default.mixin(t,this._getLevelCenter(g)));switch(g.classification){case "map":t.webmap=g.id;break;default:t.layers=g.id}g.mapViewerWithReviewUrl=
p+e.objectToQuery(m.default.mixin({},t,q?{}:{review:!0}));g.mapViewerWithEditUrl=p+e.objectToQuery(m.default.mixin({},t,q?{}:{isAdmin:!0}));g.mapViewerUrl=p+e.objectToQuery(m.default.mixin(q?{}:{useExisting:1},t,d));g.mapNewViewerUrl=p+e.objectToQuery(m.default.mixin({},t,d));g.newMapViewerUrl=b.default.newMapViewerEnabled?n+e.objectToQuery(m.default.mixin({},t,d)):"";w&&(g.mapViewerUrl="signin.html?returnUrl\x3d"+encodeURIComponent(g.mapViewerUrl),g.mapNewViewerUrl="signin.html?returnUrl\x3d"+encodeURIComponent(g.mapNewViewerUrl),
g.newMapViewerUrl="signin.html?returnUrl\x3d"+encodeURIComponent(g.newMapViewerUrl));(0,h.default)(".js-open-mapViewer.js-open-btn.js-action-newWebMapViewer").attr("data-href",g.mapViewerUrl);(0,h.default)(".add-to-new-viewer").attr("data-href",g.mapNewViewerUrl)};v.cityEngineViewer=function(g){var p=g.portal.isPortal,n="/apps/CEWebViewer/viewer.html?3dWebScene\x3d".concat(g.id);g.cityEngineViewerUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0)};v.appViewer=function(g){var p,n,q=f.default.includes(g.typeKeywords,
"Web AppBuilder");g.appViewerUrl=g.url;q&&(q=-1<(null===(p=g.url)||void 0===p?void 0:p.indexOf("/webappviewer3d/")),g.wabEditUrl=null===(n=g.url)||void 0===n?void 0:n.replace(q?"/webappviewer3d/":"/webappviewer/","/webappbuilder/"))};v.fieldMaps=function(g){g.fieldMapsUrl="".concat(g.portal.isPortal?"..":"","/apps/fieldmaps/maps/").concat(g.id)};v.instantApps=function(g){var p="../apps/instantgallery/index.html?".concat("Web Scene"===g.type?"webscene":"webmap","\x3d").concat(g.id);g.instantAppsUrl=
(0,r.redirectExternalAppURL)(g,p,!0)};v.experienceBuilderBaseUrl=function(g){return g.isPortal?"../apps/experiencebuilder":b.default.webExperienceUrl||"https://experience.arcgis.com"};v.experienceBuilderPath=function(g,p){var n,q="Web Scene"===g.type?"webscene":"webmap";return(null===(n=g.portal)||void 0===n?0:n.isPortal)?"builder/?page\x3d".concat(p,"\x26").concat(q,"\x3d").concat(g.id):"builder/page/".concat(p,"/?").concat(q,"\x3d").concat(g.id)};v.webExperienceViewer=function(g){var p=g.portal,
n=this.experienceBuilderBaseUrl(p),q=g&&"Web Experience Template"===g.type;g.webExperienceUrl=n+(q?"/template/":"/experience/")+(p.isPortal?"?id\x3d":"")+g.id;g.webExperienceCreateUrl=q?n+"/builder/?template\x3d"+g.id:"";g.canUpdate&&(g.webExperienceEditUrl="".concat(n,"/builder/?id\x3d").concat(g.id))};v.canonicalUrl=function(g){switch(g.type){case "Web Experience":return this.experienceBuilderCanonical(g);case "StoryMap":var p=g.typeKeywords.includes("storymapcollection")?"collections":g.typeKeywords.includes("storymapbriefing")?
"briefings":"stories";return"".concat(b.default.storymapsUrl,"/").concat(p,"/").concat(g.id);default:return""}};v.experienceBuilderCanonical=function(g){var p=this.experienceBuilderBaseUrl(g.portal);return"".concat(p,"/").concat(g.id)};v.experienceBuilder=function(g){var p=this.experienceBuilderBaseUrl(g.portal);g.experienceBuilderUrl="".concat(p,"/").concat(this.experienceBuilderPath(g,"template"))};v.vrExperienceViewer=function(g){g.vrExperienceUrl="/apps/360vr/index.html?id\x3d".concat(g.id)};
v.workforceViewer=function(g){var p=g.portal.isPortal,n="".concat(p?"..":"","/apps/workforce").concat(p?"/#":"","/projects/").concat(g.id,"/dispatch/assignments");p=p?n:(0,r.redirectExternalAppURL)(g,n,!0);g.workforceViewerUrl=p};v.workflowViewer=function(g){var p=g.portal.isPortal,n="/apps/workflowmanager/".concat(g.id);p=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0);g.workflowViewerUrl=p};v.storyMapViewer=function(g){g.storyMapViewerUrl=g.url};v.excaliburViewer=function(g){var p=g.portal.isPortal,
n="".concat(p?"..":"","/apps/excalibur/app.html#/canvas/project?id\x3d").concat(g.id);n=p?n:(0,r.redirectExternalAppURL)(g,"/apps/excalibur/app.html#/canvas/project?id\x3d".concat(g.id),!0);p="".concat(p?"..":"","/apps/excalibur/app.html#/projects/").concat(g.id);g.excaliburViewerUrl=n;g.excaliburProjectUrl=p};v.excaliburMediaViewer=function(g){var p=g.portal.isPortal,n="/apps/excalibur/app.html#/canvas/service/".concat(g.id),q="".concat(p?"..":"").concat(n);p=p?q:(0,r.redirectExternalAppURL)(g,n,
!0);g.excaliburMediaUrl=p};v.surveyViewer=function(g){var p=g.portal||{};p=location.protocol+"//"+(p.urlKey?p.urlKey+"."+p.customBaseUrl:p.portalHostname);var n=b.default.surveyUrl||"https://survey123.arcgis.com";g.surveyViewerUrl=n+"/share/"+g.id+"?portalUrl\x3d"+p;g.surveyAppUrl=n+"/share/"+g.id+"?portalUrl\x3d"+p+"\x26open\x3dnative";g.surveyEditUrl="arcgis-survey123connect://?itemID\x3d"+g.id+"\x26portalUrl\x3d"+p;g.surveyManageUrl=n+"/surveys/"+g.id+"?portalUrl\x3d"+p};v.geoBIM=function(g){g.geoBIMUrl=
"../apps/geobim?id\x3d".concat(g.id);return"../apps/geobim?id\x3d".concat(g.id)};v.dataPipeline=function(g,p){var n;p="".concat((null===(n=g.portal)||void 0===n?0:n.isPortal)?"../apps":"/apps","/datapipelines/editor?item\x3d").concat(g.id);return g.dataPipelineUrl=p};v.insightsViewer=function(g){var p=b.default.insightsUrl||"https://insights.arcgis.com",n=f.default.includes(g.types,"is-insightsModel"),q=f.default.includes(g.types,"is-insightsTheme");f.default.includes(g.types,"is-insightsPage")?g.insightsViewerUrl=
p+"/#/view/"+g.id:g.insightsViewerUrl=n?p+"/#/?model\x3d"+g.id:q?p+"/index.html#/?theme\x3d"+g.id:p+"/#/"+g.id};v.urbanViewer=function(g){g.urbanViewerUrl=(b.default.urbanUrl||"https://urban.arcgis.com")+"?id\x3d"+g.id};v.orthoMaker=function(g){var p=g.portal.isPortal,n="/apps/orthomaker/#/projects/".concat(g.id);g.orthoMakerUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0)};v.notebookViewer=function(g){g.notebookViewerUrl=b.default.baseUrl+"notebook/notebook.html?id\x3d"+g.id};v.geoAIStudioUrlViewer=
function(g){var p=g.portal.isPortal,n="/apps/deeplearningstudio/#/projects/".concat(g.id);g.geoAIStudioUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0)};v.missionViewer=function(g){var p=g.portal.isPortal,n="/apps/mission/app.html#missiondetails/".concat(g.id);g.missionViewerUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0)};v.knowledgeStudio=function(g){var p=g.portal.isPortal,n="/apps/knowledge-studio/main?id\x3d".concat(g.id);g.knowledgeStudioUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,
n,!0)};v.iotViewer=function(g){g.iotViewerUrl=(b.default.iotViewerUrl||"https://velocity.arcgis.com")+"/"+(g&&"Big Data Analytic"===g.type?"bigdata":"realtime")+"/"+g.id};v.iotFeed=function(g){g.iotFeedUrl=(b.default.iotViewerUrl||"https://velocity.arcgis.com")+"/feeds/"+g.id};v.createPresentation=function(g){g.createPresentationUrl="../apps/presentation/index.html?builder\x3dtrue\x26webmap\x3d"+g.id};v.openPresentation=function(g){var p=g.portal.isPortal,n="/apps/presentation/index.html?webmap\x3d".concat(g.id);
g.openPresentationUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0)};v.dashboard=function(g){var p=g.portal.isPortal,n="".concat(p?"..":"","/apps/dashboards/").concat(g.id),q="".concat(n,"#mode\x3dedit");g.dashboardUrl=p?n:(0,r.redirectExternalAppURL)(g,n);g.dashboardEditUrl=q};v.setVectorTileStyleEditorUrl=function(g){var p,n=document.documentElement.lang;n=null!==(p=(null===n||void 0===n?0:n.match(/(zh-)|(pt-)/))?n.toLowerCase():null===n||void 0===n?void 0:n.split("-")[0])&&void 0!==p?p:
"en";p=g.portal.isPortal;n="/apps/vtseditor/".concat(n,"/#/").concat(g.id,"/layers");g.vtseEditUrl=p?"..".concat(n):(0,r.redirectExternalAppURL)(g,n,!0)};v.createDashboard=function(g){g.createDashboardUrl="".concat(g.portal.isPortal?"..":"","/apps/dashboards/new#id\x3d").concat(g.id)};v.hubInitiative=function(g){var p=g.portal,n=g.id,q=p.urlKey;p=(null===p||void 0===p?void 0:p.getEnvironment())||"";n="https://".concat(q,".hub").concat(p,".arcgis.com/edit/new/browse?name\x3d").concat(n);g.hubInitiativeUrl=
n};v.hubProject=function(g){var p=g.portal,n=g.id,q=p.urlKey;p=(null===p||void 0===p?void 0:p.getEnvironment())||"";n="https://".concat(q,".hub").concat(p,".arcgis.com/projects/").concat(n);g.hubProjectUrl=n;g.hubProjectEditUrl="".concat(n,"/edit")};v.hubEventViewer=function(g){var p=g.portal,n=g.id;p=(null===p||void 0===p?void 0:p.getEnvironment())||"";n="https://hub".concat(p,".arcgis.com/events/").concat(n,"?open\x3dhome");g.hubEventUrl=n};v.configureApp=function(g){var p=g.typeKeywords||[],n=
[],q="appid\x3d"+g.id,l=g.folderId&&"/"!==g.folderId?"folderid\x3d"+g.folderId:"",c="./webmap/configureApp.html";if("Hub Site Application"===g.type)c="".concat(g.url,"/edit");else if(-1<p.indexOf("selfConfigured")||"Hub Initiative"===g.type){if(c=g.url)n.push("edit\x3dtrue"),-1===c.indexOf("appid\x3d")&&n.push(q),-1===c.indexOf("folderId")&&l&&n.push(l)}else{if("Site Application"===g.type){g.configureUrl="../apps/sites/admin/#/layout/"+g.id;return}if(-1<p.indexOf("configurableApp")){g.configureUrl=
"../apps/configure-template/index.html?appid\x3d"+g.id;return}l&&n.push(l);n.push(q)}g.configureUrl=c?c+(-1<c.indexOf("?")?"\x26":"?")+n.join("\x26"):""};v.configureStoryMap=function(g){var p=g.typeKeywords.includes("storymapcollection")?"collections":g.typeKeywords.includes("storymapbriefing")?"briefings":"stories";p="".concat(b.default.storymapsUrl,"/").concat(p,"/").concat(g.id,"/edit");g.configureStoryMapUrl=p};v.configureStoryMapTheme=function(g){g.configureStoryMapThemeUrl="".concat(b.default.storymapsUrl,
"/themes/").concat(g.id,"/edit");g.newStoryMapFromThemeUrl="".concat(b.default.storymapsUrl,"/stories/new?theme\x3d").concat(g.id);g.newStoryMapCollectionFromThemeUrl="".concat(b.default.storymapsUrl,"/collections/new?theme\x3d").concat(g.id)};v.createListing=function(g){var p=b.default.marketplaceUrl+"/listing.html?itemId\x3d"+g.id;"private"===g.access&&(g.createListingUrl=p)};v.downloadAttachment=function(g){var p=g.portal.getPortalUser();p=null===p||void 0===p?void 0:p.getToken();var n=f.default.includes(g.typeKeywords,
"Web AppBuilder");p="public"!==g.access&&p||n&&g.isAdmin?"?token\x3d".concat(p):"";var q=(n=g.codeAttachment)&&(n.url||this.getItemDataUrl(m.default.mixin(n,{portal:g.portal})));try{q=k.default.getAbsoluteUrl(q)||q}catch(l){}g.downloadAttachmentUrl=n&&n.url?q+p:q};v.viewStyle=function(g){var p,n=null===(p=g.portal)||void 0===p?void 0:p.isPortal;p=g.portal.getPortalUser();p=null===p||void 0===p?void 0:p.getToken();p="public"!==g.access&&p?"\x26token\x3d".concat(p):"";var q="".concat(g.hasResources?
g.itemUrl:g.url,"/resources/styles/root.json?f\x3dpjson"),l=g.portal.portalHostname.toLowerCase();n=n&&"esri_livingatlas"===g.owner&&-1===q.indexOf(l);if((g.isAdmin||g.isOwner)&&g.hasResources||g.hasViewStyle)g.viewStyleUrl="".concat(q).concat(n?"":p)};v.downloadStyle=function(g){var p=g.portal.getPortalUser();p=null===p||void 0===p?void 0:p.getToken();p="public"!==g.access&&p?"\x26token\x3d".concat(p):"";var n="".concat(g.hasResources?g.itemUrl:g.url,"/resources/styles/root.json?f\x3dpjson");(g.isAdmin||
g.isOwner)&&g.hasResources&&(g.downloadStyleUrl="".concat(n,"\x26download\x3dtrue").concat(p))};v.wmtsUrl=function(g){g.wmtsUrl="".concat(g.url,"/WMTS/1.0.0/WMTSCapabilities.xml");return g.wmtsUrl};v.getItemDataUrl=function(g){var p,n=null===(p=g.portal)||void 0===p?void 0:p.getPortalUser();p=null===n||void 0===n?void 0:n.getToken();p="public"!==g.access&&p?"?token\x3d".concat(p):"";n="".concat(b.default.restBaseUrl,"content/items/").concat(g.id,"/data");return"KML"!==g.type?g.itemDataUrl||n+p:(g.url!==
g.itemDataUrl&&""===p?g.url:g.itemDataUrl)||n+p};v.viewUrl=function(g){var p,n;if(g.url){var q=new URL(g.url,document.baseURI),l=-1<(null===(p=g.typeKeywords)||void 0===p?void 0:p.indexOf("Service Proxy"));p="WFS"===g.type&&-1===(null===(n=g.url)||void 0===n?void 0:n.toLowerCase().indexOf("getcapabilities"));l&&q.searchParams.append("f","pjson");p&&q.searchParams.append("request","getcapabilities");g.portal.isPortal||"public"===g.access||v.addTokenIfNeeded(g,q);g.viewUrl=encodeURI(q.href||g.itemDataUrl)}else g.itemDataUrl&&
(g.viewUrl=encodeURI(g.itemDataUrl))};v.addTokenIfNeeded=function(g,p){var n,q=null===(n=g.portal)||void 0===n?void 0:n.getPortalUser();n=g.serverToken||(null===q||void 0===q?void 0:q.getToken());"WFS"!==g.type&&"OGCFeatureServer"!==g.type&&q&&((g.isServiceProxy||g.hasKMLItemData)&&"public"!==g.access||g.isHostedService&&(g.isAdmin||"public"!==g.access)||g.isFeatureCollection&&"public"!==g.access)&&p.searchParams.append("token",n)};v.swivelToken=function(g,p,n){return n&&p&&n!==p&&-1<g.indexOf("token\x3d".concat(p))?
g.replace("token\x3d".concat(p),"token\x3d".concat(n)):g};v.removeToken=function(g){if(-1<(null===g||void 0===g?void 0:g.indexOf("?"))){g=g.split("?");var p=1<g.length?e.queryToObject(g[1]):{};delete p.token;return"".concat(g[0],"?").concat(e.objectToQuery(p))}return g};v._getLevelCenter=function(g){var p=-1,n=(null===g||void 0===g?void 0:g.serviceInfo)||{};g=(null===g||void 0===g?void 0:g.adminServiceInfo)||{};if(n.tileInfo&&n.tileInfo.lods&&g.cacheOnDemand&&g.cacheOnDemandMinScale){var q=g.cacheOnDemandMinScale;
n.tileInfo.lods.forEach(function(l,c){-1===p&&q>=l.scale&&(p=c)});n=(new u.default(n.fullExtent)).getCenter();return{level:p,center:[n.x,n.y,n.spatialReference.wkid].join()}}return{}};return v}()})},"arcgisonline/pages/dijit/FilterItemType/_itemTypes":function(){define(["require","exports"],function(U,M){return{maps:{q:'type:("Project Package" OR "Windows Mobile Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Web Map" OR "CityEngine Web Scene" OR "Map Document" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Template") -type:("Web Mapping Application" OR "Layer Package")',
label:"Maps"},"maps-webmaps":{q:'type:("Web Map" OR "CityEngine Web Scene") -type:"Web Mapping Application"',label:"Web maps"},"maps-mapfiles":{q:'type:("Map Document" OR "Windows Mobile Package" OR "Globe Document" OR "Scene Document" OR "Published Map" OR "Explorer Map" OR "ArcPad Package" OR "Map Package" OR "Basemap Package" OR "Mobile Basemap Package" OR "Mobile Map Package" OR "Pro Map" OR "Project Package" OR "Map Template")',label:"Map files"},layers:{q:'(type:"Scene Service" OR type:"Feature Collection" OR type:"Group Layer" OR type:"Route Layer" OR type:"Layer" OR type:"Explorer Layer" OR type:"Tile Package" OR type:"Compact Tile Package" OR type:"Vector Tile Package" OR type:"Scene Package" OR type:"Layer Package" OR type:"Feature Service" OR type:"Stream Service" OR type:"Feed" OR type:"Map Service" OR type:"Vector Tile Service" OR type:"Image Service" OR type:"WMS" OR type:"WFS" OR type:"WMTS" OR type:"KML" OR typekeywords:"OGC" OR typekeywords:"Geodata Service" OR type:"Globe Service" OR type:"CSV" OR type:"Shapefile" OR type:"GeoJson" OR type:"Service Definition" OR type:"File Geodatabase" OR type:"CAD Drawing" OR type:"Relational Database Connection" OR type:"GeoPackage" OR "3DTiles Service") -type:("Web Mapping Application" OR "Geodata Service" OR "3DTiles Package")',
label:"Layers"},"layers-weblayers":{q:'type:("Feature Collection" OR "Feature Service" OR "Image Service" OR "Map Service" OR "Vector Tile Service" OR "Scene Service" OR "Stream Service" OR "WMS" OR "WMTS" OR "WFS" OR "KML" OR "OGCFeatureServer") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Web layers"},"layers-weblayers-features":{q:'type:("Feature Collection" OR "Feature Service" OR "Stream Service" OR "WFS" OR "Feed" OR "OGCFeatureServer") -typekeywords:"Table"',label:"Feature layers"},
"layers-weblayers-features-catalog":{q:'type:"Feature Service" typekeywords:"CatalogLayer"',label:"Catalog layer"},"layers-weblayers-features-oriented":{q:'type:"Feature Service" typekeywords:"OrientedImageryLayer"',label:"Oriented imagery layers"},"layers-weblayers-tiles":{q:'type:("WMTS" OR "Map Service" OR "Vector Tile Service") typekeywords:("Hosted" OR "Tiled")',label:"Tile layers"},"layers-weblayers-3dtiles":{q:'type:"3DTiles Service" typekeywords: ("Hosted" OR "Tiled")',label:"3D Tiles layers"},
"layers-weblayers-mapimage":{q:'type:("Map Service" OR "WMS") -typekeywords:("Hosted" OR "Tiled") -type:("Web Map" OR "Web Mapping Application" OR "Shapefile")',label:"Map Image layers"},"layers-weblayers-imagery":{q:'type:"Image Service" -typekeywords: "Elevation 3D Layer" -typekeywords: "Tiled Imagery"',label:"Imagery layers"},"layers-weblayers-scenelayers":{q:'type:"Scene Service"',label:"Scene layers"},"layers-weblayers-videolayers":{q:'type:"Video Service"',label:"Video layers"},"layers-weblayers-tiledimagelayers":{q:'type: "Image Service" typekeywords: "Tiled Imagery"',
label:"Tiled Imagery layers"},"layers-weblayers-grouplayers":{q:'type: "Group Layer"',label:"Group layers"},"layers-weblayers-medialayers":{q:'type: "Media Layer"',label:"Media layers"},"layers-weblayers-elevationlayers":{q:'type: "Image Service" typekeywords: "Elevation 3D Layer"',label:"Elevation layers"},"layers-weblayers-feeds":{q:'type:"Feed"',label:"Feeds"},"layers-weblayers-tables":{q:"typekeywords:Table",label:"Tables"},"layers-layerfiles":{q:'type:("Layer" OR "Explorer Layer" OR "Tile Package" OR "Compact Tile Package" OR "Vector Tile Package" OR "Scene Package" OR "Layer Package" OR "CSV" OR "Shapefile" OR "GeoJson" OR "Service Definition" OR "File Geodatabase" OR "CAD Drawing" OR "Microsoft Excel" OR "GeoPackage") -type:("Explorer Maps" OR "Map Documents")',
label:"Layer files"},scenes:{q:'-type:"CityEngine Web Scene" type:"Web Scene"',label:"Scenes"},applications:{q:'type:("Code Sample" OR "Web Mapping Application" OR "Mobile Application" OR "Application" OR "Desktop Application Template" OR "Desktop Application" OR "Operation View" OR "Dashboard" OR "Operations Dashboard Extension" OR "Workforce Project" OR "Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Hub Page" OR "Hub Initiative" OR "Hub Site Application" OR "StoryMap" OR "Web Experience" OR "Web Experience Template" OR "Form")',
label:"Apps"},"applications-web":{q:'type:("Web Mapping Application") NOT (typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT")',label:"Web apps"},"applications-dashboards":{q:'type:("Dashboard") typekeywords:("Dashboard" NOT "ArcGIS Operation View" NOT "Add In" NOT "Extension")',label:"Dashboards"},"applications-sites":{q:'type:("Hub Site Application" OR "Site Application")',label:"Sites"},"applications-pages":{q:'type:("Hub Page" OR "Site Page")',label:"Pages"},"applications-geobim-projects":{q:'type:("GeoBIM Project")',
label:"GeoBIM projects"},"applications-geobim-apps":{q:'type:("GeoBIM Application")',label:"GeoBIM applications"},"applications-instant-apps":{q:'typekeywords:"configurableApp"',label:"Instant Apps"},"applications-storymap":{q:'type:("StoryMap")',label:"StoryMaps"},"applications-data-pipelines":{q:'type:("Data Pipeline")',label:"Data Pipelines"},"applications-experience":{q:'type:("Web Experience" OR "Web Experience Template")',label:"Experience Builder"},"applications-wab":{q:'typekeywords:"Web AppBuilder" OR "WABTemplateFromAGOL" OR "WABTemplateFromXT"',
label:"Web AppBuilder"},"applications-mobile":{q:'type:"Mobile Application"',label:"Mobile apps"},"applications-desktop":{q:'type:"Desktop Application" -type:"Desktop Application Template"',label:"Desktop apps"},"developer-credentials":{q:'(typekeywords:"Registered App" -type:"API Key") OR type:("API Key")',label:"Developer credentials"},"developer-credentials-oauth":{q:'typekeywords:"Registered App" -type:"API Key"',label:"OAuth 2.0 applications"},tools:{q:'(typekeywords:"tool" OR type:"Raster function template" OR type:"Geodata Service" OR type:"Workflow Manager Package" OR type:"Rule Package" OR type:"Operations Dashboard Add In" OR type:"Workflow Manager Service" OR type:"ArcGIS Pro Configuration" OR type:"Big Data Analytic" OR type:"Real Time Analytic") -type:"KML"',
label:"Tools"},"tools-locators":{q:'type:("Geocoding Service" OR "Locator Package")',label:"Locators"},"tools-geodatabase":{q:'type:"Geodata Service"',label:"Geodatabase access"},"tools-geometric":{q:'type:"Geometry Service"',label:"Geometric operations"},"tools-geoprocessing":{q:'type:("Geoprocessing Service" OR "Geoprocessing Package" OR "Geoprocessing Sample")',label:"Geoprocessing tasks"},"tools-network":{q:'type:"Network Analysis Service"',label:"Network analysis"},"tools-analytics":{q:'type:("Big Data Analytic" OR "Real Time Analytic")',
label:"Analytics"},files:{q:'(typekeywords:"Document" OR type:"Image" OR type:"Layout" OR type:"Desktop Style" OR type:"Project Template" OR type:"Report Template" OR type:"Pro Report" OR type:"Statistical Data Collection" OR type:"360 VR Experience" OR type:"netCDF" OR type:"PDF" OR type:"CSV" OR type:"Administrative Report" OR type: "Raster function template") -type:("Image Service" OR "Explorer Document" OR "Explorer Map" OR "Globe Document" OR "Scene Document")',label:"Files"},"files-document":{q:'typekeywords:"Document" -type:"PDF"',
label:"Documents"},"files-image":{q:'type:("Image" OR "360 VR Experience") -type:"Image Service"',label:"Images"},"files-pdf":{q:'type:"PDF"',label:"PDFs"},"files-csv":{q:'type:"CSV"',label:"CSVs"},"files-report":{q:'type:"Administrative Report"',label:"Administrative reports"},"files-raster":{q:'type: "Raster function template"',label:"Raster function templates"},styles:{q:'type:("Desktop Style" OR "Style")',label:"Styles"},"styles-web":{label:"Web Styles",q:'type:"Style"'},"styles-desktop":{label:"Desktop Styles",
q:'type:"Desktop Style"'},notebooks:{q:'type:("Notebook") OR typekeywords:("Notebook" OR "Jupyter Notebook")',label:"Notebooks"},insights:{q:'type:("Insights Workbook" OR "Insights Page" OR "Insights Model" OR "Insights Theme" OR "Insights Script")',label:"Insights"},"insights-workbooks":{q:'type:"Insights Workbook"',label:"Workbooks"},"insights-pages":{q:'type:"Insights Page"',label:"Reports"},"insights-models":{q:'type:"Insights Model" (-tags: "insights-theme") AND (-tags: "insights-script") AND (-tags: "insights-one-drive") AND (-tags: "insights-sharepoint")',
label:"Models"},"insights-themes":{q:'type:"Insights Theme" OR (type:"Insights Model" AND tags:"insights-theme")',label:"Themes"},"data-stores":{q:'type:("Data Store")',label:"Data stores"},knowledgeGraphs:{q:'type:"Knowledge Graph"',label:"Knowledge graphs"}}})},"arcgisonline/pages/home/widgets/HomePageText":function(){define("require exports tslib ../../utils/dom ./HomePageComponent ../../../tsutils/declareDecorator dojo/text!./templates/HomePageText.html".split(" "),function(U,M,a,b,k,f,m){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.templateString=m.default}h.prototype.startup=function(){this.inherited(arguments);this.render()};h.prototype.setAlignment=function(u){b.default.removeClasses(this.domNode,["text-center","text-left"]);this.domNode.classList.add("text-".concat(u))};h.prototype.setBackgroundColor=function(u){u=u.replace("ramp",this.baseColor);b.default.setModifierClass(this.domNode,"home-page__text-color--",u)};
h.prototype.setTitle=function(u){this.headline.innerHTML=this.sanitize(u)};h.prototype.showTitle=function(u){b.default.showHide(this.headline,u)};h.prototype.setBody=function(u){this.body.innerHTML=this.renderAndSanitizeMarkdown(u);this.processLinks(this.body)};h.prototype.showBody=function(u){b.default.showHide(this.body,u)};h.prototype.render=function(){this.renderAlignment();this.renderBackgroundColor();this.renderTitle();this.renderBody()};h.prototype.renderBody=function(){this.text.showBody&&
this.setBody(this.text.body);this.showBody(this.text.showBody)};h.prototype.renderTitle=function(){this.text.showTitle&&this.setTitle(this.text.title);this.showTitle(this.text.showTitle)};h.prototype.renderBackgroundColor=function(){this.useCustomStyles?(this.text.bgCustom=this.text.bgCustom||"white",this.setBackgroundColor(this.text.bgCustom)):this.setBackgroundColor(this.text.bgColor)};h.prototype.renderAlignment=function(){this.text.alignment&&this.setAlignment(this.text.alignment||"center")};
return h=a.__decorate([(0,f.default)(k.default)],h)}()})},"arcgisonline/pages/utils/markdown":function(){define(["require","exports","tslib","markdown-it/markdown-it"],function(U,M,a,b){b=a.__importDefault(b);var k;(function(m){m.Commonmark="commonmark";m.Default="default";m.Zero="zero"})(k||(k={}));var f;(function(m){m.Table="table";m.Code="code";m.Fence="fence";m.Blockquote="blockquote";m.HorizontalRule="hr";m.List="list";m.Reference="reference";m.Heading="heading";m.LeftHeading="lheading";m.HtmlBlock=
"html_block";m.Newline="newline";m.Escape="escape";m.Backticks="backticks";m.Strikethrough="strikethrough";m.Emphasis="emphasis";m.Image="image";m.Autolink="autolink";m.HtmlInline="html_inline";m.Entity="entity";m.BalancePairs="balance_pairs"})(f||(f={}));return function(){function m(){}m.getLinksOnlyMarkdownInstance=function(){var h=new b.default({html:!1,xhtmlOut:!1,linkify:!0,typographer:!1,breaks:!0});h.disable([f.Table,f.Code,f.Fence,f.Blockquote,f.HorizontalRule,f.List,f.Reference,f.Heading,
f.LeftHeading,f.HtmlBlock,f.Escape,f.Backticks,f.Strikethrough,f.Emphasis,f.Image,f.Autolink,f.HtmlInline,f.Entity,f.BalancePairs]);return h};return m}()})},"arcgisonline/pages/home/widgets/HomePageLinks":function(){define("require exports tslib ../../utils/dom ./HomePageComponent ../../utils/icons ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/HomePageLinks.html".split(" "),function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=u.default}r.prototype.startup=function(){this.inherited(arguments);this.render()};r.prototype.setBackgroundColor=function(e){e=e.replace("ramp",this.baseColor);b.default.setModifierClass(this.domNode,"home-page__link-color--",e)};r.prototype.render=function(){this.renderLinks();this.renderBackgroundColor()};r.prototype.renderLinks=function(){var e=this;this.link.links.forEach(function(v,
g){var p=document.createElement("a"),n=document.createElement("div");p.append(n);var q=e.sanitize(v.title);n.classList.add("link-dsp-button-cont");n.setAttribute("aria-label","".concat(q,": ").concat(h.default.common.opensNewTab));p.href=v.href;p.target="_blank";p.id="link_".concat(g);e.link.images&&(g=document.createElement("div"),g.classList.add("link-image-button"),g.title=q,g.setAttribute("aria-label",q),v.image?(v=v.image.split(" ^ "),v=2===v.length?v[1]:v[0],v=e.useExplicitImgPath||v.match(/data:image/i)?
v:e.fetchResourceUrl(v),g.style.backgroundImage="url(".concat(v,")"),g.style.backgroundSize="cover"):g.innerHTML=f.default.image["32"],n.append(g));g=document.createElement("div");g.classList.add("link-dsp-button");!1===e.link.showOutline&&g.classList.add("no-outline");g.innerHTML=q;n.append(g);e.preview&&(p.tabIndex=-1,n.tabIndex=-1,n.addEventListener("click",e.preventClick),p.addEventListener("click",e.preventClick));e.domNode.querySelector(".links-container").append(p)})};r.prototype.renderBackgroundColor=
function(){this.useCustomStyles?(this.link.bgCustom=this.link.bgCustom||"white",this.setBackgroundColor(this.link.bgCustom)):this.setBackgroundColor(this.link.bgColor)};return r=a.__decorate([(0,m.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/LegacyHomePageOverlay":function(){define("require exports tslib ../../../pageUtil ../../../dijit/Overlay ./cards/SettingsCard ./settings-shared ./rows/BackgroundImageRow ./rows/BannerImageRow ./rows/DescriptionRow ./rows/FeaturedContentRow ../../../utils/dom ../../../utils/icons ../../../utils/organization arcgisonline/tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick dojo/string dojo/on dojo/topic dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!./templates/LegacyHomePageOverlay.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);
return function(){function A(B,D){this.constrain=!0;this.maxWidth=1440;this.homePageFeedbackUrl="https://arcg.is/1Gzefy0";this.cards=[];this.i18n=a.__assign(a.__assign({},z.default),{common:a.__assign(a.__assign({},z.default.common),x.default.common),homePageTab:x.default.homePageTab});this.overlayContents=d.default.substitute(y.default,{i18n:x.default.homePageTab.legacyOverlay});this.title=x.default.tabs.homePage}A.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n.overlay=
x.default.homePageTab.legacyOverlay};A.prototype.open=function(){this.warningIcon=this._overlayContentWrapper.querySelector(".js-warning-icon");this.warningText=this._overlayContentWrapper.querySelector(".js-warning-text");this.cardsContainer=this._overlayContentWrapper.querySelector(".legacy-homepage-overlay__content");this._primaryBtn.textContent=this.i18n.common.done;v.default.hideNode(this._cancelBtn);this.warningIcon.innerHTML=g.default.inline["exclamation-mark-triangle"]["16"];p.default.hasModernHomePageEnabled(this.portal)||
p.default.hasTransitionalHomePageEnabled(this.portal)?this.configureModernWarning():this.configureLegacyWarning();this.addListeners();this.createAppearanceCard();this.createFeaturedContentCard();this.createDescriptionCard();this.inherited(arguments)};A.prototype.render=function(){v.default.appendChildren(this.cards.map(function(B){return B.domNode}),this.cardsContainer);this.cards.forEach(function(B){B.startup();B.show()})};A.prototype.close=function(){this.inherited(arguments)};A.prototype.handlePrimary=
function(B){this.domNode.classList.add("hide")};A.prototype._destroy=function(){this.inherited(arguments);this.cards.forEach(function(B){B.destroy()});this.cards=void 0};A.prototype.configureModernWarning=function(){var B=this,D=this.portal.isPortal,C=p.default.hasForcedLegacyHomePageExtension(this.portal);this.warningText.innerHTML="".concat(D?this.i18n.overlay.expiringPortal:C?this.i18n.overlay.expiringExtended:this.i18n.overlay.expiring," ").concat(d.default.substitute(this.i18n.overlay.revertToLegacy,
{linkStart:'\x3ca class\x3d"org-settings__clickable-link js-revert-to-legacy" tabindex\x3d"0"\x3e',linkEnd:"\x3c/a\x3e"}));this.revertLink=this.warningText.querySelector(".js-revert-to-legacy");this.own((0,c.default)(this.revertLink,function(){b.default.createConfirmationDialog({strings:{title:"".concat(g.default.inline["exclamation-mark-triangle"]["16"]," ").concat(B.i18n.overlay.switchWarning.title),description:D?B.i18n.overlay.switchWarning.descriptionPortal:C?B.i18n.overlay.switchWarning.descriptionExtended:
B.i18n.overlay.switchWarning.description,ok:D?x.default.homePageTab.activeHomeOverlay.switchActive:B.i18n.overlay.switchWarning.switch},okColor:"red",hideClose:!0,onOk:function(){t.default.publish("activate-homepage/legacy");B.configureLegacyWarning();B.closeBtn.focus()}})}))};A.prototype.configureLegacyWarning=function(){var B=this,D=p.default.hasForcedLegacyHomePageExtension(this.portal);this.warningText.innerHTML=d.default.substitute(this.portal.isPortal?this.i18n.overlay.expirationPortal:D?this.i18n.overlay.expirationExtended:
this.i18n.overlay.expiration,{linkStart:'\x3ca class\x3d"org-settings__clickable-link js-launch-editor" tabindex\x3d"0"\x3e',linkEnd:"\x3c/a\x3e"});this.launchLink=this.warningText.querySelector(".js-launch-editor");this.own((0,c.default)(this.launchLink,function(){t.default.publish("home-page-editor/launch",{opener:B.opener});B.close()}))};A.prototype.addListeners=function(){var B=this;this.own((0,w.default)(this._primaryBtn,"click",function(){return B.close()}))};A.prototype.getDefaultRowParams=
function(){return{portal:this.portal,tab:m.SettingsTabKeys.HomePage,telemetry:this.telemetry}};A.prototype.createCard=function(B){var D=B.keywords;B=a.__assign({name:B.name,description:B.description,rows:B.rows,infoTooltipConfig:B.infoTooltipConfig},this.getDefaultRowParams());D&&(B.keywords=D);D=new f.default(B);this.cards.push(D);return D};A.prototype.createAppearanceCard=function(){var B=this.getDefaultRowParams(),D=this.i18n.homePageTab,C=D.backgroundImage;D=D.bannerImage;this.createCard({id:"org-home-page-card",
name:this.i18n.homePageTab.appearance,rows:[new h.default(a.__assign(a.__assign({},B),{id:"org-bg-img-row",label:C.name,description:this.portal.isPortal?C.descriptionPortal:C.description,value:this.portal.backgroundImage,keywords:["backdrop","framework","display"]})),new u.default(a.__assign(a.__assign({},B),{id:"org-banner-img-row",label:D.name,description:D.description,value:this.portal.rotatorPanels,keywords:["ribbon","graphic","emblem","heading"]}))]})};A.prototype.createFeaturedContentCard=function(){var B=
this.i18n.homePageTab.featuredContent,D=B.description;this.createCard({id:"org-featured-content-card",name:B.name,rows:[new e.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:this.i18n.homePageTab.group,description:D,value:"",keywords:"advertised highlighted recommended promoted carousel showcase".split(" ")}))]})};A.prototype.createDescriptionCard=function(){var B=this.i18n.homePageTab.orgDescription,D=B.editLabel;this.createCard({id:"org-desc-card",name:B.name,description:B.description,
rows:[new r.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:"",editA11yLabel:D,value:this.portal.description,keywords:["explanation","narrative","information","about"]}))]})};return A=a.__decorate([(0,n.default)(l.default,q.default,k.default)],A)}()})},"arcgisonline/pages/organization/widgets/settings/rows/BackgroundImageRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/BackgroundImageRow.html dojo/query dojo/on ./SettingsRow ../../../../pageUtil ../UploadImageDlg ../../../../../sharing/util ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){var q=this;this.settingsProps=["backgroundImage"];this.PREDEFINED_BACKGROUND1="none";this.PREDEFINED_BACKGROUND2="images/arcgis_background.jpg";this.handleRadioChange=function(){if(q.noBackgroundRadio.checked)var l=q.PREDEFINED_BACKGROUND1;
else q.defaultImageRadio.checked?l=q.PREDEFINED_BACKGROUND2:(q.customImageKey&&(l=q.customImageKey),q.handleUploadClick());l&&q.updateSetting({backgroundImage:l},q.i18n.backgroundImageError,q.i18n.backgroundImageSuccess).then(function(){q.value=l})};this.handleUploadClick=function(){var l=q.i18n.backgroundImage.uploadBackground;q.dialog=u.default.createSpecifiedDialog(r.default,{name:l.name,description:l.description});q.dialog.show();q.own((0,m.default)(q.dialog,"save",q.handleDialogSave.bind(q)),
(0,m.default)(q.dialog,"cancel",q.handleDialogCancel.bind(q)));q.customImageRadio.checked=!0}}g.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.homePageTab);this.templateString=k.default;this.inherited(arguments)};g.prototype.render=function(){this._label.textContent=this.label;this._description.innerHTML=this.description;this.defaultImage.src=e.default.relativeToExplicitUrl(this.PREDEFINED_BACKGROUND2);this.value&&this.value!==this.PREDEFINED_BACKGROUND1?
this.value===this.PREDEFINED_BACKGROUND2?this.defaultImageRadio.checked=!0:this.customImageRadio.checked=!0:this.noBackgroundRadio.checked=!0};g.prototype.addEventListeners=function(){this.own((0,f.default)("[name\x3dbackgroundRadio]",this.domNode).on("change",this.handleRadioChange),(0,m.default)(this.customImageUpload,"click",this.handleUploadClick))};g.prototype.handleDialogSave=function(p){var n=this,q=p.formData,l="background.".concat(p.ext);q.append("key",l);this.addResource(q,void 0,this.i18n.customImageError).then(function(){n.updateSetting({backgroundImage:l},
n.i18n.backgroundImageError,n.i18n.backgroundImageSuccess).then(function(){n.value=l;n.dialog.hide()})})};g.prototype.handleDialogCancel=function(){this.value&&this.value!==this.PREDEFINED_BACKGROUND1?this.value===this.PREDEFINED_BACKGROUND2?this.defaultImageRadio.checked=!0:this.customImageRadio.checked=!0:this.noBackgroundRadio.checked=!0};return g=a.__decorate([(0,v.default)(h.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/DescriptionRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/dom-construct esri/lang esri/libs/sanitizer/Sanitizer ./SettingsRow ../../../../utils/dom ../../../../utils/organization ../../../../utils/alerts ../../../../../sharing/dijit/Editor ../../../../../tsutils/declareDecorator ../../../../../sharing/dijit/LinkDialog ../../../../dijit/InlineEdit/OrgViewSource".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.settingsProps=["description","showHomePageDescription"];this.sanitizer=new m.default(r.default.orgSettingsSanitizerParams,!0);this.sanitizer.sanitizeUrl=r.default.sanitizeUrlOrgOverride;r.default.adjustSanitizerForOrgSettingsUse(this.sanitizer)}
p.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.generalTab);this.inherited(arguments)};p.prototype.render=function(){this._editBtn.className="btn btn-clear";this._editor=new v.default({height:"150px",plugins:["bold","italic","underline","foreColor","hiliteColor","|","justifyLeft","justifyCenter","justifyRight","justifyFull","|","insertOrderedList","insertUnorderedList","indent","outdent","|","createEsriLink","unlink","insertEsriImage","|","undo",
"redo","|","orgviewsourcesanitize",{name:"dijit/_editor/plugins/FontChoice",command:"fontName",custom:"Arial;Courier New;Garamond;Tahoma;Times New Roman;Verdana".split(";")},{name:"dijit/_editor/plugins/FontChoice",command:"fontSize",custom:["2","3","4","5","6"]}],style:"font-family:Verdana; font-size:13px;"});this._formContent.appendChild(this._editor.domNode);this._editor.startup();var n=k.default.create("label",{innerHTML:'\x3cinput type\x3d"checkbox"\x3e '.concat(this.i18n.showDescription),class:"leader-half trailer-0"});
this._formContent.appendChild(n);this._showDescriptionCheckbox=n.querySelector("input[type\x3dcheckbox]");this.resetFormValues();this._label.textContent=this.label;this._description&&(this._description.innerHTML=this.sanitizer.sanitize(this.description));u.default.addClasses(this._valueContainer,["full-width","position-relative"]);this.overflowMask=document.createElement("div");u.default.addClasses(this.overflowMask,["org-settings__description-mask","hide"]);this._valueContainer.appendChild(this.overflowMask);
this._displayValue.classList.add("org-settings__description-display-value");this.updateDisplayValue(this.value?this.i18n.edit:this.i18n.addItem2,!1)};p.prototype.save=function(){var n=this,q=this._editor.get("value"),l=this._showDescriptionCheckbox.checked;q!==this.value||l!==this.portal.showHomePageDescription?this.updateSetting({description:q,showHomePageDescription:l,clearEmptyFields:!0},this.i18n.descriptionError,this.i18n.descriptionSuccess).then(function(){n.toggleEdit(!1);n.value=q;n.setEditorValue();
n._displayValue.textContent=q?n.i18n.edit:n.i18n.addItem2;!n.portal.isPortal&&-1<q.indexOf("http://")&&e.default.showAlert("error",b.default.common.httpWarning)},function(){n.cancel()}):this.cancel()};p.prototype.resetFormValues=function(){var n=this.portal.showHomePageDescription;this.setEditorValue();this._showDescriptionCheckbox.checked=f.default.isDefined(n)&&!0===n};p.prototype.updateDisplayValue=function(n,q){this.inherited(arguments);u.default.showHide(this.overflowMask,this._displayValue.scrollHeight>
this._displayValue.clientHeight)};p.prototype.setEditorValue=function(){this._editor.set("value",this.sanitizer.sanitize(this.value||""))};return p=a.__decorate([(0,g.default)(h.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/rows/FeaturedContentRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/FeaturedContentRow.html dojo/on ./GroupSelectRow ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,
h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.homePageTab.featuredContent);this.templateString=k.default;this.queryKey="homePageFeaturedContent";this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="home-featured-content-";this.settingsProps=[this.queryKey,"homePageFeaturedContentCount"];this.editBtnId=
"featured-content-edit-btn"}u.prototype.defaultText=function(){return this.i18n.noFeaturedContent};u.prototype.render=function(){this.inherited(arguments);this.numOfItemsSelect.value=this.portal.homePageFeaturedContentCount?"".concat(this.portal.homePageFeaturedContentCount):"0"};u.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,f.default)(this.numOfItemsSelect,"change",this.handleNumOfItemsChange.bind(this)))};u.prototype.handleNumOfItemsChange=function(){this.updateSetting({homePageFeaturedContentCount:this.numOfItemsSelect.value},
this.i18n.numError,this.i18n.numSuccess)};return u=a.__decorate([(0,h.default)(m.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/GroupSelectRow":function(){define("require exports tslib dojo/on dojo/topic dojo/promise/all dojo/text!./templates/GroupSelectRow.html dojo/i18n!../../../../../nls/org-settings ../../../../utils/alerts ../../../../utils/dom ./SettingsRow ./GroupEditButton ../GroupPicker ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../esriOwnerLookup ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(){this.i18n=a.__assign(a.__assign({},this.i18n),h.default.groupSelect);this.templateString=m.default;this.disableEditPopup=
!0;this.queryKey="";this.successMessage=h.default.saveSuccess;this.errorMessage=h.default.saveError;this.shareErrorText=this.shareSuccessText=this.checkboxLabelText=this.topicPrefix="";this.noSort=!1;this.includeTypes=["Web Mapping Application"]}c.prototype.render=function(){var d=this;this._description&&(this._description.innerHTML=this.description);this.sortById&&(this.sortBySelect.id=this.sortById);this.sortDirId&&(this.sortDirSelect.id=this.sortDirId);this.groupBtn=new v.default({id:this.editBtnId,
portal:this.portal,groups:this.portal.orgGroups,query:this.portal[this.queryKey],defaultText:this.defaultText()},this.domNode.querySelector(".js-group-edit-btn"));this.groupPicker=new g.default({portal:this.portal,defaultText:this.defaultText(),defaultIcon:this.defaultIcon},this.domNode.querySelector(".js-group-picker"));this.own((0,b.default)(this.groupPicker,"clear",function(){d.handleGroupChange(void 0)}),(0,b.default)(this.groupPicker,"cancel",this.showEditBtn.bind(this)),(0,b.default)(this.groupPicker,
"selectUpdate",function(w){d.handleGroupChange(w)}));this.selectedGroup=this.getGroupFromQuery(this.portal[this.queryKey],this.portal.orgGroups);this.checkboxLabelText&&(this.checkboxLabel.innerHTML=this.checkboxLabelText,this.own((0,b.default)(this.checkbox,"change",this.handleCheckboxChange.bind(this))));this.updateView(this.selectedGroup)};c.prototype.defaultText=function(){return this.getDefaultSelectionText()};c.prototype.addEventListeners=function(){var d=this;this.own((0,b.default)(this.groupBtn,
"edit",this.handleGroupBtnEdit.bind(this)),(0,b.default)(this.sortBySelect,"change",this.handleSortChange.bind(this)),(0,b.default)(this.sortDirSelect,"change",this.handleSortChange.bind(this)),k.default.subscribe("group-sort/update",function(w){d.selectedGroup&&d.selectedGroup.id===w.id&&(d.selectedGroup.sortField=w.sortField,d.selectedGroup.sortOrder=w.sortOrder,d.updateView(d.selectedGroup))}))};c.prototype.handleCheckboxChange=function(){var d=this;if(this.selectedGroup&&this.checkbox.checked){var w=
this.selectedGroup;w&&w.capabilities&&-1<w.capabilities.indexOf("updateitemcontrol")?(u.default.showAlert("error",this.i18n.cantShareUpdateGroup),this.checkbox.checked=!1):(w=this.getDefaultQuery())&&this.findGroup(w).then(function(t){t&&t.results&&1===t.results.length&&t.results[0]&&d.shareGroupContentsWithGroup(t.results[0].id,d.selectedGroup.id,d.includeTypes).then(function(){u.default.showAlert("success",d.shareSuccessText)},function(){u.default.showAlert("error",d.shareErrorText)})})}};c.prototype.canShare=
function(){var d=this.selectedGroup,w=!0;d&&d.capabilities&&-1<d.capabilities.indexOf("updateitemcontrol")&&(w=!1,u.default.showAlert("error",this.i18n.cantShareUpdateGroup));return w};c.prototype.findAndShareWithGroup=function(d,w){var t=this;return this.findGroup(d).then(function(z){if(z&&z.results&&1===z.results.length&&z.results[0])return t.shareGroupContentsWithGroup(z.results[0].id,t.selectedGroup.id,t.includeTypes,w).then(function(){u.default.showAlert("success",t.shareSuccessText)},function(){u.default.showAlert("error",
t.shareErrorText)})})};c.prototype.shareGroupContentsWithGroup=function(d,w,t,z){return p.default.request({url:"".concat(n.default.restBaseUrl,"content/groups/").concat(d)}).then(function(x){if(x&&x.items&&0<x.items.length){var y=[];x.items.forEach(function(A){var B=!t||0===t.length||-1<t.indexOf(A.type),D=!z||0===z.length||-1===z.indexOf(A.contentStatus);B&&D&&y.push(p.default.request({url:"".concat(n.default.restBaseUrl,"content/items/").concat(A.id,"/share"),content:{groups:w}},{usePost:!0}))});
if(0<y.length)return(0,f.default)(y)}})};c.prototype.getDefaultQuery=function(){return""};c.prototype.getEsriOwner=function(){return q.default.forLocale(this.portal.culture)};c.prototype.findGroup=function(d){return p.default.request({url:"".concat(n.default.restBaseUrl,"community/groups?q\x3d").concat(encodeURIComponent(d))})};c.prototype.handleGroupChange=function(d){var w=this;this.selectedGroup=d;var t=this.getGroupQuery(d);this.updateView(d);this.updateSetting(this.getSaveParams(t),this.errorMessage,
this.successMessage).then(function(){w.portal[w.queryKey]=t;w.groupBtn.update(d);w.showEditBtn()})};c.prototype.getSaveParams=function(d){var w;return w={},w[this.queryKey]=d,w.clearEmptyFields=!0,w};c.prototype.updateView=function(d){if(d&&!this.noSort){"avgrating"===d.sortField&&(d.sortField="numviews");for(var w={owner:{asc:this.i18n.sortDir.alphabetical,desc:this.i18n.sortDir.reverseAlphabetical},modified:{asc:this.i18n.sortDir.leastRecent,desc:this.i18n.sortDir.mostRecent},title:{asc:this.i18n.sortDir.alphabetical,
desc:this.i18n.sortDir.reverseAlphabetical},numviews:{asc:this.i18n.sortDir.leastToMost,desc:this.i18n.sortDir.mostToLeast}},t=0;t<this.sortDirSelect.options.length;t++){var z=w[d.sortField],x=this.sortDirSelect.options[t];x.text=(null===z||void 0===z?void 0:z[x.value])||this.i18n.sortDir[x.value]}this.sortBySelect.value=d.sortField||"title";this.sortDirSelect.value=d.sortOrder||"asc";r.default.showNode(this.sortContainer)}else r.default.hideNode(this.sortContainer);this.checkboxLabelText&&(this.checkbox.checked=
!1,r.default.showHide(this.checkboxContainer,!!d))};c.prototype.getGroupQuery=function(d){var w="";d?d.id?w="id:".concat(d.id):d.title&&d.owner&&(w='title:"'.concat(d.title,'" AND owner:').concat(d.owner)):w="";return w};c.prototype.handleSortChange=function(){if(this.groupBtn.selectedGroup){var d=this.sortBySelect.value,w=this.sortDirSelect.value;d=a.__assign(a.__assign({},this.groupBtn.selectedGroup),{sortField:d,sortOrder:w});this.updateGroupSortProperties(d)}};c.prototype.handleGroupBtnEdit=function(){this.groupBtn.hide();
this.groupPicker.show();this.groupPicker.focus()};c.prototype.showEditBtn=function(){this.groupPicker.hide();this.groupBtn.show();this.groupBtn.domNode.focus()};c.prototype.getGroupSettings=function(){var d=this,w={};"basemapGalleryGroupQuery homePageFeaturedContent templatesGroupQuery stylesGroupQuery analysisLayersGroupQuery galleryTemplatesGroupQuery featuredItemsGroupQuery".split(" ").forEach(function(t){w[t]=d.getGroupFromQuery(d.portal[t],d.portal.orgGroups)});return w};c.prototype.validateGroupSort=
function(d){var w=this,t=this.getGroupSettings(),z=Object.keys(t).some(function(x){var y=!1;x!==w.queryKey&&t[x]&&(x=t[x],d.id&&d.id===x.id||d.title&&d.title===x.title&&d.owner===x.owner)&&(y=d.sortField!==x.sortField||d.sortOrder!==x.sortOrder);return y});z&&u.default.showAlert("error",h.default.errors.oneGroupMultipleSortProperties);return!z};c.prototype.getGroupFromQuery=function(d,w){if(d&&w){var t=d.indexOf('title:"'),z=d.indexOf("id:");if(-1<t){var x=d.substring(t+7),y;t=d.indexOf("owner:");
x=x.substring(0,x.lastIndexOf('"'));-1<t&&(y=d.substring(t+6));if(x&&y&&(w=w.filter(function(D){return D.title===x&&D.owner===y})[0])){x=w.altTitle||w.title;var A=w}!this.portal.isPortal&&d.indexOf("owner:esri")&&(A=void 0)}else if(-1<z){var B=d.substring(z+3);(w=w.filter(function(D){return D.id===B})[0])&&(A=w)}}return A};c.prototype.updateGroupSortProperties=function(d){var w=this,t=d.id,z=d.sortField,x=d.sortOrder;return p.default.request({url:"".concat(n.default.restBaseUrl,"community/groups/").concat(t,
"/update"),content:{sortField:z,sortOrder:x}},{usePost:!0}).then(function(){w.portal.orgGroups.forEach(function(y){if(y.id&&y.id===d.id||y.title&&y.title===d.title&&y.owner===d.owner)y.sortField=z,y.sortOrder=x,k.default.publish("group-sort/update",d)});u.default.showAlert("success",w.successMessage)},function(){u.default.showAlert("error",w.errorMessage)})};return c=a.__decorate([(0,l.default)(e.default)],c)}()})},"arcgisonline/pages/organization/widgets/settings/rows/GroupEditButton":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/GroupEditButton.html dijit/_TemplatedMixin dijit/_WidgetBase ../../GroupIcon ../../../../utils/icons ../../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=f.default;this.icons=r.default}g.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};g.prototype.hide=function(){e.default.hideNode(this.domNode)};g.prototype.show=
function(){e.default.showNode(this.domNode)};g.prototype.addEventListeners=function(){var p=this;this.own((0,k.default)(this.domNode,"click",function(n){n.stopPropagation();p.emit("edit")}))};g.prototype.render=function(){if(this.selectedGroup)this.createIcon(),this.groupTitle.textContent=this.selectedGroup.altTitle||this.selectedGroup.title;else{var p=this.query,n=this.groups;if(p){var q=p.indexOf('title:"'),l=p.indexOf("id:");if(-1<q){var c=p.substring(q+7),d;q=p.indexOf("owner:");c=c.substring(0,
c.lastIndexOf('"'));-1<q&&(d=p.substring(q+6));if(c&&d&&(n=n.filter(function(z){return z.title===c&&z.owner===d})[0])){c=n.altTitle||n.title;var w=n}p=!this.portal.isPortal&&p.indexOf("owner:esri")||this.portal.isPortal&&!w?this.defaultText:c}else if(-1<l){var t=p.substring(l+3);(n=n.filter(function(z){return z.id===t})[0])?(p=n.altTitle||n.title,w=n):p=this.defaultText}else p=this.defaultText}else p=this.defaultText;w&&(this.selectedGroup=w,this.createIcon());this.groupTitle.textContent=p}};g.prototype.createIcon=
function(){this.groupIcon=new u.default({portal:this.portal,group:this.selectedGroup,scale:"m",cssClasses:"margin-right-1"});this.iconContainer.appendChild(this.groupIcon.domNode)};g.prototype.update=function(p){this.selectedGroup=p;this.groupIcon&&this.groupIcon.destroy();p?(this.createIcon(),this.groupTitle.textContent=p.altTitle||p.title):this.groupTitle.textContent=this.defaultText};return g=a.__decorate([(0,v.default)(h.default,m.default,b.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/GroupPicker":function(){define("require exports tslib esri/Evented dojo/debounce dojo/on dojo/text!./templates/GroupPicker.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/dom ../../../pageUtil ../../../utils/keys ./GroupPickerRow ../../../../sharing/util ../../../../esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.templateString=m.default;this.i18n=a.__assign(a.__assign({},h.default.groupSelect),h.default.common);this.fetchAll=this.hideCancel=
!1;this.rows=[];this.pageSize=100;this.selectedIndex=0}c.prototype.postMixInProperties=function(){this.inherited(arguments);this.listId="group-results-list-".concat(Date.now())};c.prototype.postCreate=function(){this.inherited(arguments);this.hideCancel&&e.default.hideNode(this.cancelWrapper);this.addEventListeners()};c.prototype.hide=function(){e.default.hideNode(this.domNode)};c.prototype.show=function(){this.reset();e.default.showNode(this.domNode)};c.prototype.focus=function(){this.searchInput.focus()};
c.prototype.reset=function(){this.rows.forEach(function(d){return d.destroy()});this.rows=[];this.searchInput.value="";e.default.hideNode(this.noResults);this.getGroups("").then(this.updateList.bind(this))};c.prototype.addEventListeners=function(){var d=this;this.own((0,f.default)(this.searchInput,"input",(0,k.default)(this.updateResults.bind(this),300)),(0,f.default)(this.cancelBtn,"click",function(){d.emit("cancel")}),(0,f.default)(this.domNode,"keydown",this.handleKeys.bind(this)));this.hideCancel&&
this.own((0,f.default)(document.documentElement,"click",this.handleDocClick.bind(this)))};c.prototype.handleDocClick=function(d){this.domNode.contains(d.target)||this.emit("cancel")};c.prototype.handleKeys=function(d){switch(d.keyCode){case g.ESCAPE:this.emit("cancel");break;case g.ENTER:d.preventDefault();d=this.rows[this.selectedIndex];var w=this.defaultText&&0===this.selectedIndex;d&&!w?this.emit("selectUpdate",d.group):this.emit("clear");break;case g.UP:d.preventDefault();this.select(this.selectedIndex-
1);break;case g.DOWN:d.preventDefault(),this.select(this.selectedIndex+1)}};c.prototype.getParams=function(d,w){return{q:"orgid:".concat(this.portal.id,' AND (-owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas") AND (access:org OR access:public) ').concat(d),num:w||this.pageSize,sortField:"title",sortOrder:"asc"}};c.prototype.getGroups=function(d){var w="".concat(q.default.restBaseUrl,"community/groups");d=this.getParams(d);return this.fetchAll?v.default.fetchAllResources(w,
d):n.default.request({url:w,content:d})};c.prototype.updateResults=function(){var d=this.searchInput.value;d&&0<d.length?this.getGroups(d).then(this.updateList.bind(this)):(e.default.hideNode(this.noResults),this.getGroups("").then(this.updateList.bind(this)))};c.prototype.updateList=function(d){var w=this;d=this.fetchAll?d:d.results;this.rows.forEach(function(t){return t.destroy()});d&&0!==d.length?(e.default.hideNode(this.noResults),this.defaultText&&(d=a.__spreadArray([{id:"0",title:this.defaultText,
owner:""}],d,!0)),this.rows=d.map(function(t,z){var x=w.defaultText&&0===z,y=new p.default({portal:w.portal,group:t,isNonGroup:x,defaultIcon:w.defaultIcon});w.own((0,f.default)(y,"focus",function(){return w.select(z,!0)}),(0,f.default)(y,"select",function(){x?w.emit("clear"):w.emit("selectUpdate",t)}),(0,f.default)(y,"hover",function(){return w.select(z,!0)}));return y}),e.default.appendChildren(this.rows.map(function(t){return t.domNode}),this.resultsDropdown),e.default.showNode(this.resultsDropdown),
this.resultsDropdown.setAttribute("aria-expanded","true"),0<this.rows.length&&this.select(0)):(e.default.hideNode(this.resultsDropdown),this.searchInput.value&&e.default.showNode(this.noResults),this.resultsDropdown.removeAttribute("aria-expanded"),this.resultsDropdown.removeAttribute("aria-activedescendant"))};c.prototype.select=function(d,w){var t=this.rows.length-1;d>t&&(d=0);0>d&&(d=t);this.selectedIndex=d;if(t=this.rows[d])if(t.select(),this.resultsDropdown.setAttribute("aria-activedescendant",
t.group.id),!w){w=t.domNode;t=w.parentElement;var z=w.offsetTop;z+w.clientHeight>t.scrollTop+t.clientHeight?t.scrollTop=z-t.clientHeight+w.clientHeight:t.scrollTop>z&&(t.scrollTop=z)}this.rows.filter(function(x,y){return y!==d}).forEach(function(x){return x.deselect()})};return c=a.__decorate([(0,l.default)(r.default,u.default,b.default)],c)}()})},"arcgisonline/pages/utils/keys":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M.DOWN=M.RIGHT=M.UP=
M.LEFT=M.TAB=M.SPACEBAR=M.ENTER=M.ESCAPE=void 0;M.ESCAPE=27;M.ENTER=13;M.SPACEBAR=32;M.TAB=9;M.LEFT=37;M.UP=38;M.RIGHT=39;M.DOWN=40;M.default={ESCAPE:M.ESCAPE,ENTER:M.ENTER,TAB:M.TAB,UP:M.UP,DOWN:M.DOWN,LEFT:M.LEFT,RIGHT:M.RIGHT,SPACEBAR:M.SPACEBAR}})},"arcgisonline/pages/organization/widgets/settings/GroupPickerRow":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/GroupPickerRow.html dijit/_TemplatedMixin dijit/_WidgetBase ../GroupIcon ../../../utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=f.default;this.isNonGroup=!1}v.prototype.postCreate=function(){this.inherited(arguments);if(this.isNonGroup){var g=document.createElement("div");g.className="org-settings__non-group-icon flex flex-align-center font-size-1";g.innerHTML=
this.defaultIcon?r.default[this.defaultIcon]["24"]:this.group.title[0].toUpperCase();this.defaultIcon||g.classList.add("is-abbr");this.domNode.querySelector(".js-group-icon").appendChild(g)}else new u.default({portal:this.portal,group:this.group,scale:"m",cssClasses:"org-settings__group-icon-tile"},this.domNode.querySelector(".js-group-icon"));this.addEventListeners()};v.prototype.select=function(){this.domNode.setAttribute("aria-selected","true");this.domNode.classList.add("is-active")};v.prototype.deselect=
function(){this.domNode.setAttribute("aria-selected","false");this.domNode.classList.remove("is-active")};v.prototype.addEventListeners=function(){var g=this;this.own((0,k.default)(this.domNode,"click",function(p){p.stopPropagation();g.emit("select")}),(0,k.default)(this.domNode,"mouseover",function(){return g.emit("hover")}),(0,k.default)(this.domNode,"focusin",function(){return g.emit("focus")}))};return v=a.__decorate([(0,e.default)(h.default,m.default,b.default)],v)}()})},"arcgisonline/esriOwnerLookup":function(){define(["require",
"exports"],function(U,M){return function(){function a(){}a.forLocale=function(b){var k=0<(null===b||void 0===b?void 0:b.length)?this.localeMap[b.toLowerCase()]:null;return k?k:"esri_".concat(b||"en")};a.localeMap={"de-ch":"esri_de","de-de":"esri_de","en-au":"esri_en","en-ca":"esri_en","en-gb":"esri_en","en-us":"esri_en","es-es":"esri_es","es-mx":"esri_es","fr-ch":"esri_fr","fr-fr":"esri_fr",id:"esri_ind","it-ch":"esri_it","it-it":"esri_it","pt-br":"esri_pt","pt-pt":"esri_po",uk:"esri_ukr","zh-hk":"esri_hk",
"zh-tw":"esri_tw","zh-cn":"esri_zh"};return a}()})},"arcgisonline/pages/organization/components/LegacyHomePageDisplay":function(){define(["require","exports","preact","preact/hooks"],function(U,M,a,b){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(k){var f=k.baseUrl,m=k.strings,h=k.onClose,u=(0,b.useState)(!1);k=u[0];var r=u[1],e=(0,b.useState)(!0);u=e[0];var v=e[1],g=(0,b.useRef)(null);(0,b.useEffect)(function(){g.current&&(g.current.setFocus(),r(!0))},[g.current]);e=function(){r(!1);
h()};var p=(0,b.useMemo)(function(){return"".concat(f,"legacy-preview.html")},[f]);return(0,a.h)("calcite-modal",{ref:g,open:k,role:"dialog","aria-label":m.title,"aria-modal":"true",fullscreen:!0,escapeDisabled:!0,outsideCloseDisabled:!0,oncalciteModalClose:e,"data-test":"dialog",style:{"--calcite-modal-content-background":"var(--calcite-color-background)"}},(0,a.h)("h3",{slot:"header",class:"font-size-2 trailer-0","data-test":"title"},m.title),(0,a.h)("div",{slot:"content",class:"full-height flex-column"},
(0,a.h)("div",{class:"flex-column flex-1"},(0,a.h)("calcite-loader",{hidden:!u,scale:"l",type:"indeterminate",label:m.loading,text:m.loading,"data-test":"loader"}),(0,a.h)("iframe",{class:"flex-1 legacy-preview-modal__iframe",src:p,onLoad:function(){v(!1)},"data-test":"iframe"}))),(0,a.h)("calcite-button",{slot:"primary",width:"full",kind:"brand",appearance:"solid",onClick:e,"data-test":"close"},m.close))}})},"arcgisonline/pages/organization/widgets/settings/cards/LaunchHomePageEditorCard":function(){define(["require",
"exports","tslib","./SettingsCard","../../../../../tsutils/declareDecorator"],function(U,M,a,b,k){b=a.__importDefault(b);k=a.__importDefault(k);return function(){function f(m,h){}f.prototype.render=function(){this.inherited(arguments)};return f=a.__decorate([(0,k.default)(b.default)],f)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/GalleryTab":function(){define("require exports tslib ./BaseSettingsTab ../rows/ShowInGalleryGroupRow ../settings-shared ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.i18n=h.default.galleryTab;this.TAB_KEY=f.SettingsTabKeys.Gallery}u.prototype.render=function(){this._createShowInGalleryCard();this.inherited(arguments)};u.prototype._createShowInGalleryCard=function(){this.createCard({id:"org-show-in-gallery-card",name:this.i18n.showInGallery,rows:[new k.default(a.__assign(a.__assign({},this.getDefaultRowParams()),
{label:this.i18n.group,description:this.i18n.galleryDesc,value:"",keywords:["items","content","exhibit","featuredGroup","featured"]}))]})};return u=a.__decorate([(0,m.default)(b.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ShowInGalleryGroupRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./GroupSelectRow ../../../../../tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),function(U,M,a,b,k,f,m){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.galleryTab);this.queryKey="featuredItemsGroupQuery";this.successMessage=this.i18n.gallerySuccess;this.errorMessage=this.i18n.galleryError;this.topicPrefix="show-in-gallery-";this.defaultIcon="collection";this.settingsProps=[this.queryKey];this.editBtnId="show-in-gallery-edit-btn";this.sortById="show-in-gallery-sort-by-select";this.sortDirId=
"show-in-gallery-sort-dir-select"}h.prototype.updateView=function(u){var r;this.inherited(arguments);this.useFeaturedContent=!(null===(r=null===u||void 0===u?void 0:u.properties)||void 0===r||!r.isFeatured);this.updateAppearsMessage()};h.prototype.defaultText=function(){return this.i18n.noGroup};h.prototype.updateAppearsMessage=function(){this.appearContainer||(this.appearContainer=document.createElement("div"),this.appearContainer.classList.add("leader-1"),this.domNode.appendChild(this.appearContainer));
if(this.useFeaturedContent){var u="".concat(m.default.baseUrl,"group.html?id\x3d").concat(this.selectedGroup.id);this.appearContainer.innerHTML=this.i18n.groupUsesFeatured.replace("${startLink}",'\x3ccalcite-link href\x3d"'.concat(u,'" target\x3d"_blank"\x3e')).replace("${endLink}","\x3c/calcite-link\x3e");this.sortContainer.classList.add("hide")}else this.appearContainer.textContent=this.i18n.orgNameAppear};return h=a.__decorate([(0,f.default)(k.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/MapTab":function(){define("require exports tslib ./BaseSettingsTab ../rows/BasemapGalleryGroupRow ../rows/ManageBasemapsRow ../rows/DefaultBasemapRow ../rows/DefaultExtentRow ../rows/UnitsRow ../rows/BingMapsRow ../rows/MapConfigurableAppsGroupRow ../cards/MapViewerCard ../rows/WebStylesRow ../rows/AnalysisLayersRow ../settings-shared ../../../../utils/dom ../../../../../tsutils/declareDecorator dojo/on dojo/i18n!../../../../../nls/org-settings ../../../../../esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.i18n=d.default.mapTab;this.TAB_KEY=n.SettingsTabKeys.Map}
t.prototype.render=function(){w.default.newMapViewerEnabled&&this.createMapViewerCard();this.createBasemapGalleryCard();var z=this.basemapGalleryGroupRow.getSelectedGroup();this.createMapDefaultsCard(z);this.createBingMapsCard();this.createConfigurableAppsCard();this.createWebStylesCard();this.createAnalysisLayersCard();q.default.appendChildren(this._cards.map(function(x){return x.domNode}),this._cardsContainer)};t.prototype.createMapViewerCard=function(){var z=this.i18n.mapViewer,x=z.name,y=z.description;
z=z.learnMore;var A=this.portal.getHelpUrl("120002710");y="".concat(y,' \x3ccalcite-link href\x3d"').concat(A,'" target\x3d"_blank"\x3e').concat(z,"\x3c/calcite-link\x3e");this.createCustomCard(v.default,{name:x,description:y,keywords:["mapViewer"]})};t.prototype.createBasemapGalleryCard=function(){var z=this,x=this.i18n.basemapGallery,y=x.name,A=x.row;x=x.deprecatedRow;this.basemapGalleryGroupRow=new k.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:A.description,value:this.portal.basemapGalleryGroupQuery,
keywords:"featuredBasemap basemap content customBasemapList vectorBasemaps rasterBasemaps".split(" ")}));A=[this.basemapGalleryGroupRow];this.portal.isPortal||(this.manageBasemapsRow=new f.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:x.title,description:x.description,value:this.portal.basemapGalleryGroupQuery,keywords:"featuredBasemap basemap content customBasemapList vectorBasemaps rasterBasemaps".split(" ")})),A.push(this.manageBasemapsRow));y=this.createCard({id:"org-basemap-gallery-card",
name:y,rows:A});this.own((0,c.default)(y,"hide",function(){z.basemapGalleryGroupRow.hideRasterWarning()}),(0,c.default)(y,"show",function(){z.basemapGalleryGroupRow.showRasterWarning()}))};t.prototype.createMapDefaultsCard=function(z){var x=this.getDefaultRowParams();this.createCard({id:"org-map-defaults-card",name:this.i18n.mapDefaults,rows:[new m.default(a.__assign(a.__assign({},x),{label:this.i18n.defaultBasemap.name,description:this.i18n.defaultBasemap.description,selectedGroup:z,keywords:["newMap",
"authorMaps"]})),new h.default(a.__assign(a.__assign({},x),{label:this.i18n.defaultExtent.name,description:this.i18n.defaultExtent.description,keywords:["scale","mapArea","mapView"]})),new u.default(a.__assign(a.__assign({},x),{label:this.i18n.units,description:this.i18n.unitsDesc,keywords:["metric","measurement","standard","digits"]}))]})};t.prototype.createBingMapsCard=function(){this.createCard({id:"org-bing-maps-card",name:this.i18n.bingMaps,rows:[new r.default(a.__assign(a.__assign({},this.getDefaultRowParams()),
{keywords:["microsoft","alternateMaps"]}))]})};t.prototype.createConfigurableAppsCard=function(){var z=this.i18n.configurableApps,x=z.row;this.createCard({id:"org-map-configurable-apps-card",name:z.name,description:z.description,rows:[new e.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:x.description,keywords:["templates","webApplications"]}))]})};t.prototype.createWebStylesCard=function(){var z=this.i18n.webStyles;this.createCard({id:"org-web-styles-card",name:z.name,description:z.description,
rows:[new g.default(a.__assign(a.__assign({styleType:"2D"},this.getDefaultRowParams()),{portalUser:this.portalUser,keywords:["custom","model","marker","twoD","point"]})),new g.default(a.__assign(a.__assign({styleType:"3D"},this.getDefaultRowParams()),{portalUser:this.portalUser,keywords:["custom","model","marker","threeD","point"]}))]})};t.prototype.createAnalysisLayersCard=function(){var z=this.i18n.analysisLayers,x=z.row;this.createCard({id:"org-analysis-layers-card",name:z.name,rows:[new p.default(a.__assign(a.__assign({},
this.getDefaultRowParams()),{description:x.description,keywords:["tools","geoprocessing"]}))]})};return t=a.__decorate([(0,l.default)(b.default)],t)}()})},"arcgisonline/pages/organization/widgets/settings/rows/BasemapGalleryGroupRow":function(){define("require exports tslib dojo/topic dojo/string dojo/on dojo/i18n!../../../../../nls/org-settings dojo/i18n!../../../../../nls/arcgisonline dojo/text!./templates/BasemapGalleryRow.html arcgisonline/esriGeowConfig arcgisonline/pages/utils/tooltips arcgisonline/pages/utils/dom arcgisonline/pages/utils/alerts ../../../../dijit/ToggleSwitch ./GroupSelectRow arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),m.default.mapTab.basemapGallery),m.default.mapTab.basemapGallery.row);
this.templateString=u.default;this.queryKey="basemapGalleryGroupQuery";this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="basemap-gallery-";this.shareSuccessText=this.i18n.includeSuccess;this.shareErrorText=this.i18n.includeError;this.includeTypes=["Web Map"];this.excludeContentStatuses=["deprecated"];this.settingsProps=[this.queryKey,"useVectorBasemaps"];this.editBtnId="basemap-gallery-edit";this.sortById="basemap-gallery-sort-by-select";this.sortDirId="basemap-gallery-sort-dir-select";
this.helpLink=""}l.prototype.destroy=function(){var c;this.inherited(arguments);this.learnMoreTooltip&&this.learnMoreTooltip.destroy();this.useVectorTooltip&&this.useVectorTooltip.destroy();null===(c=this.rasterWarning)||void 0===c?void 0:c.remove()};l.prototype.getSelectedGroup=function(){return this.selectedGroup};l.prototype.hideRasterWarning=function(){v.default.hideNode(this.rasterWarning)};l.prototype.showRasterWarning=function(){this.selectedGroup||this.portal.useVectorBasemaps||v.default.showNode(this.rasterWarning)};
l.prototype.render=function(){var c=this;this.inherited(arguments);this.helpLink="".concat(this.portal.helpBase).concat(this.portal.helpMap.m["120001235"]||"");this.useVectorLabel.innerHTML=h.default.myOrganization.mapTab.useVectorBasemaps;this.use3dBasemaps=new p.default({label:this.i18n.use3dBasemaps,labelClasses:"org-settings__toggle-switch-row",labelPosition:"left",loaderClasses:"leader-quarter inline-block",switchTrackClasses:"leader-quarter"},this.domNode.querySelector(".js-use-3d-basemaps"));
this.shareDescEl.innerHTML=k.default.substitute(this.i18n.shareDesc,{linkStart:'\x3ca id\x3d"basemaps-learn-more" class\x3d"hide" href\x3d"'.concat(this.helpLink,'" target\x3d"_blank"\x3e'),linkEnd:"\x3c/a\x3e"});this.selectedGroup?v.default.showNode(this.shareContainer):(this.useVectorCheckbox.checked=this.portal.useVectorBasemaps)||v.default.showNode(this.useVectorContainer);this.use3dBasemaps.setChecked(!!this.portal.use3dBasemaps,!0);setTimeout(function(){c.learnMoreTooltip=e.default.createTooltip("basemaps-learn-more",
c.i18n.tooltip);c.useVectorTooltip=e.default.createTooltip("use-vector-learn-more",c.i18n.tooltip);var d=document.getElementById("org-basemap-gallery-card");d&&d.parentNode.insertBefore(c.rasterWarning,d.nextSibling);c.selectedGroup||c.portal.useVectorBasemaps||v.default.showNode(c.rasterWarning)})};l.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,f.default)(this.useVectorCheckbox,"change",this.handleUseVectorChange.bind(this)),(0,f.default)(this.shareVectorBtn,"click",
this.handleShareClick.bind(this,"vector")),(0,f.default)(this.rasterWarning.querySelector(".js-update-basemap-btn"),"click",this.handleUpdateBasemapGallery.bind(this)),(0,f.default)(this.use3dBasemaps,"change",this.handle3dBasemapsChange.bind(this)))};l.prototype.handle3dBasemapsChange=function(){var c=this.use3dBasemaps.checked();this.updateUse3dBasemaps(c)};l.prototype.updateUse3dBasemaps=function(c){var d=this;this.use3dBasemaps.showLoader();this.updateSetting({use3dBasemaps:c},c?this.i18n.use3dBasemapsEnableError:
this.i18n.use3dBasemapsDisableError,c?this.i18n.use3dBasemapsEnableSuccess:this.i18n.use3dBasemapsDisableSuccess).then(function(w){d.use3dBasemaps.hideLoader();d.use3dBasemaps.setChecked(w.use3dBasemaps,!0);r.default.self.use3dBasemaps=d.portal.use3dBasemaps=w.use3dBasemaps},function(){d.use3dBasemaps.hideLoader();d.use3dBasemaps.setChecked(!c,!0)})};l.prototype.handleGroupChange=function(c){var d=this;this.useVectorCheckbox.checked=!1;v.default.showHide(this.useVectorContainer,!c&&!this.portal.useVectorBasemaps);
v.default.showHide(this.shareContainer,!!c);this.selectedGroup=c;var w=this.getGroupQuery(c);this.updateView(c);c||(this.useVectorCheckbox.checked=!0,v.default.hideNode(this.useVectorContainer));v.default.hideNode(this.rasterWarning);this.updateSetting(this.getSaveParams(w),this.errorMessage,this.successMessage).then(function(){d.portal[d.queryKey]=w;d.groupBtn.update(c);d.showEditBtn();b.default.publish("basemap-gallery-update",c)})};l.prototype.getSaveParams=function(c){return a.__assign(a.__assign({},
this.inherited(arguments)),{useVectorBasemaps:!c&&this.useVectorCheckbox.checked})};l.prototype.handleCheckboxChange=function(){v.default.showHide(this.basemapTypesContainer,this.checkbox.checked);this.inherited(arguments)};l.prototype.handleUseVectorChange=function(){this.updateSetting({useVectorBasemaps:this.useVectorCheckbox.checked},this.i18n.useVectorError,this.i18n.useVectorSuccess);v.default.showHide(this.rasterWarning,!this.useVectorCheckbox.checked)};l.prototype.handleUpdateBasemapGallery=
function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.updateSetting({useVectorBasemaps:!0},this.i18n.warning.error,this.i18n.warning.success)];case 1:return c.sent(),this.useVectorCheckbox.checked=!0,v.default.hideNode(this.rasterWarning),v.default.hideNode(this.useVectorContainer),[3,3];case 2:return c.sent(),[3,3];case 3:return[2]}})})};l.prototype.canShare=function(){var c,d=this.selectedGroup,
w=!0;-1<(null===(c=null===d||void 0===d?void 0:d.capabilities)||void 0===c?void 0:c.indexOf("updateitemcontrol"))&&(w=!1,g.default.showAlert("error",h.default.myOrganization.mapTab.cantShareBasemapsUpdateGroup));return w};l.prototype.handleShareClick=function(c){var d=this;if(this.canShare()){var w=this.getEsriOwner();(c=this.portal.isPortal?"raster"===c?'title:"ArcGIS Online Basemaps" AND owner:"'.concat(w,'"'):'title:"ArcGIS Online Vector Basemaps" AND owner:"'.concat(w,'"'):this.portal.selfNoAuth["raster"===
c?"basemapGalleryGroupQuery":"vectorBasemapGalleryGroupQuery"])&&this.findAndShareWithGroup(c,this.excludeContentStatuses).then(function(){return d.findGroup(d.getGroupQuery(d.selectedGroup))}).then(function(t){var z,x=null===(z=null===t||void 0===t?void 0:t.results)||void 0===z?void 0:z[0];setTimeout(function(){b.default.publish("basemap-gallery-update",x)},100)})}};return l=a.__decorate([(0,q.default)(n.default)],l)}()})},"arcgisonline/pages/utils/tooltips":function(){define("require exports tslib ../../esriGeowConfig dijit/Tooltip dojo/mouse dojo/on".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(){}h.oneTimeTooltip=function(u,r){k.default.show(u,r,this.TOOLTIP_POSITIONS,b.default.isRightToLeft);m.default.once(r,f.default.leave,function(){k.default.hide(r)})};h.oneTimeError=function(u,r){k.default.show(u,r,["below"],b.default.isRightToLeft);m.default.once(r,f.default.leave,function(){k.default.hide(r)});k.default._masterTT.domNode.classList.add("one-time-error-tooltip")};
h.createTooltip=function(u,r,e,v){return new k.default({label:'\x3cdiv style\x3d"max-width:'+(null!==v&&void 0!==v?v:300)+'px;"\x3e'+r+"\x3c/div\x3e",connectId:[u],id:"tooltip_"+u,showDelay:null!==e&&void 0!==e?e:200})};h.createSelectorTooltip=function(u,r,e,v,g){return new k.default({label:'\x3cdiv style\x3d"max-width:'+(null!==g&&void 0!==g?g:300)+'px;"\x3e'+e+"\x3c/div\x3e",connectId:[u],selector:r,id:"tooltip_"+u,showDelay:null!==v&&void 0!==v?v:200})};h.TOOLTIP_POSITIONS=["after","below","above",
"before"];return h}()})},"arcgisonline/pages/organization/widgets/settings/rows/ManageBasemapsRow":function(){define("require exports tslib ../../../../../esriOwnerLookup ../../../../utils/dom ../../../../components/ManageContentSummary/ManageContentSummary ../../../../components/ManageContentSummary/api ./SettingsRow ../../../../portal/PortalGroup ../../../../../tsutils/declareDecorator dojo/Deferred dojo/topic preact dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ManageBasemapsRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n.common),p.default.mapTab.basemapGallery),p.default.mapTab.basemapGallery.deprecatedRow);this.templateString=n.default;this.queryKey="basemapGalleryGroupQuery";
this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="basemap-gallery-";this.includeTypes=["Web Map"];this.settingsProps=[this.queryKey,"useVectorBasemaps"];this.handleGroupChange=this.handleGroupChange.bind(this)}q.prototype.render=function(){var l=(0,m.getGroupFromQuery)(this.portal,this.portal[this.queryKey],this.portal.orgGroups);l?(l=new u.default(a.__assign(a.__assign({},l),{portal:this.portal})),this.handleGroupChange(l)):this.handleGroupChange()};q.prototype.addEventListeners=
function(){var l=this;this.own(v.default.subscribe("basemap-gallery-update",function(c){l.handleGroupChange(new u.default(a.__assign(a.__assign({},c),{portal:l.portal})))}),v.default.subscribe("basemap-gallery-refresh",function(c){(0,g.render)(null,l.contentContainer);l.updateView(c,!0)}))};q.prototype.handleGroupChange=function(l){var c=this,d;this.selectedGroup=l;(null===(d=this.selectedGroup)||void 0===d?0:d.id)?this.loadEsriBasemapGroupItems().then(function(){k.default.showNode(c.domNode);(0,g.render)(null,
c.contentContainer);c.updateView(l)}):((0,g.render)(null,this.contentContainer),k.default.hideNode(this.domNode))};q.prototype.updateView=function(l,c){var d=this;l&&l.groupContent({num:100,sortField:"title",sortOrder:"asc"},!c).then(function(w){var t,z=w.items;c&&z.sort(d.alphabeticalAscendingTitleSort);w=(null===(t=d.esriGroupContents)||void 0===t?void 0:t.filter(function(y){return"deprecated"!==y.contentStatus}))||[];t=z.filter(function(y){return"deprecated"===y.contentStatus});w=w.filter(function(y){return 0===
z.length||!z.find(function(A){return y.id===A.id})});var x=a.__assign(a.__assign({},p.default.common),p.default.mapTab.basemapGallery.deprecatedRow);(0,g.render)((0,g.h)(f.default,{strings:x,deprecatedItems:t,newItems:w,group:l,telemetry:d.telemetry}),d.contentContainer)})};q.prototype.alphabeticalAscendingTitleSort=function(l,c){l=l.title.toLowerCase();c=c.title.toLowerCase();return l<c?-1:l>c?1:0};q.prototype.loadEsriBasemapGroupItems=function(){var l=this,c=new e.default,d=b.default.forLocale(this.portal.culture);
d=this.portal.isPortal?this.portal.useVectorBasemaps?'title:"ArcGIS Online Vector Basemaps" AND owner:"'.concat(d,'"'):'title:"ArcGIS Online Basemaps" AND owner:"'.concat(d,'"'):this.portal.selfNoAuth[this.portal.useVectorBasemaps?"vectorBasemapGalleryGroupQuery":"basemapGalleryGroupQuery"];this.esriContentLoaded||(0,m.findGroup)(d).then(function(w){var t;1===(null===(t=null===w||void 0===w?void 0:w.results)||void 0===t?void 0:t.length)&&w.results[0]?(l.esriGroup=new u.default(a.__assign(a.__assign({},
w.results[0]),{portal:l.portal})),l.esriGroup.groupContent({num:100,sortField:"title",sortOrder:"asc"},!0).then(function(z){l.esriGroupContents=z.items;c.resolve()},function(z){l.esriGroupContents=void 0;c.resolve()})):(l.esriGroup=void 0,l.esriGroupContents=void 0,c.resolve())});return c};return q=a.__decorate([(0,r.default)(h.default)],q)}()})},"arcgisonline/pages/components/ManageContentSummary/ManageContentSummary":function(){define("require exports tslib ../../../esriGeowConfig ./ManageContentModal ../../utils/culture dojo/topic preact preact/hooks".split(" "),
function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(r){var e=r.strings,v=r.group,g=r.deprecatedItems;g=void 0===g?[]:g;var p=r.newItems;p=void 0===p?[]:p;var n=r.telemetry,q=(0,u.useState)(!1);r=q[0];var l=q[1];q=a.__assign(a.__assign({},e),{title:e.update});var c="".concat(b.default.baseUrl,"group.html?id\x3d").concat(v.id,"\x26contentstatus\x3ddeprecated#content"),
d=g.length||p.length,w=f.default.currentLocaleIsRightToLeft(),t="".concat(e.deprecated.replace("${name}",v.title).replace("${num}","".concat(w?"\x26rlm;":"").concat(g.length))),z="".concat(e.available.replace("${name}",v.title).replace("${num}","".concat(w?"\x26rlm;":"").concat(p.length)));return(0,h.h)(h.Fragment,null,(0,h.h)("div",{class:"font-size--1 trailer-half"},(0,h.h)("div",null,"".concat(e.description," ")),(0,h.h)("calcite-link",{href:c,target:"_blank",role:"presentation",onClick:function(){null===
n||void 0===n?void 0:n.logEvent({category:"map",label:"view all deprecated basemaps",action:"click"})}},e.viewDeprecated)),(0,h.h)("div",{class:"leader-1 ".concat(d?"":"hide")},(0,h.h)("button",{type:"button",class:"btn btn-clear",onClick:function(){l(!0)}},e.update)),w?(0,h.h)(h.Fragment,null,(0,h.h)("div",{class:"leader-half",dangerouslySetInnerHTML:{__html:t}}),(0,h.h)("div",{class:"leader-half",dangerouslySetInnerHTML:{__html:z}})):(0,h.h)(h.Fragment,null,(0,h.h)("div",{class:"leader-half"},t),
(0,h.h)("div",{class:"leader-half"},z)),(0,h.h)(k.default,{open:r,strings:q,group:v,deprecatedItems:g,newItems:p,onClose:function(x){l(!1);x&&m.default.publish("basemap-gallery-refresh",v)},telemetry:n}))}})},"arcgisonline/pages/components/ManageContentSummary/ManageContentModal":function(){define("require exports tslib ./api ./ManageContentHeaderRow ./ManageContentRow ../../utils/alerts ../../utils/culture preact preact/hooks preact/compat xstyle/css!./ManageContentModal.css".split(" "),function(U,
M,a,b,k,f,m,h,u,r,e){function v(g,p){var n={};g.forEach(function(q){n[q.id]=f.ManageContentRowValue.Remove});p.forEach(function(q){n[q.id]=f.ManageContentRowValue.Add});return n}Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importStar(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(g){function p(){var O={};z.forEach(function(Q){O[Q.id]=f.ManageContentRowValue.Remove});x.forEach(function(Q){O[Q.id]=f.ManageContentRowValue.Add});E(O);D(!1);y(!1)}function n(O,
Q){var V;E(a.__assign(a.__assign({},C),(V={},V[O]=Q,V)))}function q(O){null===A||void 0===A?void 0:A.logEvent({category:"map",label:"update basemaps",action:"filter",attribute:O});G(O)}function l(O,Q){return O.map(function(V){return(0,u.h)(f.default,{key:V.id,row:{item:V,state:Q},strings:F,value:C[V.id],onChange:n,disabled:B})})}function c(O){return"".concat(O.replace(/\$\{name\}/g,t.title)," ").concat(d.modalDesc)}var d=g.strings,w=g.open,t=g.group,z=g.deprecatedItems,x=g.newItems,y=g.onClose,A=
g.telemetry;g=(0,r.useState)(!1);var B=g[0],D=g[1];g=(0,r.useState)(v(z,x));var C=g[0],E=g[1],H=(0,r.useState)("all");g=H[0];var G=H[1],F={remove:d.remove,leave:d.leave,add:d.add,skip:d.skip};H=0<z.length;var I=0<x.length,J=("all"===g||"deprecated"===g)&&H,K=("all"===g||"new"===g)&&I,P=l(z,"deprecated"),T=l(x,"new"),S=h.default.currentLocaleIsRightToLeft(),L="".concat(d.modalDesc);H&&I?L=c(d.deprecatedAndNewDesc):H?L=c(d.deprecatedDesc):I&&(L=c(d.newDesc));var N=d.newFilter.replace("${name}",t.title).replace("${num}",
"".concat(S?"\x26rlm;":"").concat(x.length||0));return(0,u.h)(u.Fragment,null,(0,e.createPortal)((0,u.h)("calcite-modal",{role:"dialog","aria-modal":"true","aria-labeledby":"manage-deprecated-items-modal-title",outsideCloseDisabled:!0,oncalciteModalClose:p,oncalciteModalOpen:function(O){setTimeout(function(){O.target.setFocus()},0)},width:"l",open:w,style:{"--calcite-modal-content-background":"var(--calcite-color-background)"}},(0,u.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"manage-deprecated-items-modal-title"},
d.title),(0,u.h)("div",{slot:"content"},(0,u.h)("div",{class:"manage-items__description"},(0,u.h)("div",null,L),H&&I&&(0,u.h)("div",{class:"inline-block leader-half trailer-1"},(0,u.h)("calcite-button",{class:"margin-left-quarter margin-right-quarter manage-items__filter-button ".concat("all"===g?"selected":""),kind:"neutral",appearance:"transparent",onClick:function(){return q("all")}},d.allFilter),(0,u.h)("calcite-button",{class:"margin-left-quarter margin-right-quarter manage-items__filter-button ".concat("deprecated"===
g?"selected":""),kind:"neutral",appearance:"transparent",onClick:function(){return q("deprecated")}},(0,u.h)("calcite-icon",{scale:"s",icon:"circle-disallowed",class:"margin-right-half rtl-margin-right-0 manage-items__filter-deprecated-icon"}),d.deprecatedFilter.replace("${num}","".concat(z.length||0))),(0,u.h)("calcite-button",{class:"margin-left-quarter margin-right-quarter manage-items__filter-button  ".concat("new"===g?"selected":""),kind:"neutral",appearance:"transparent",onClick:function(){return q("new")}},
(0,u.h)("calcite-icon",{scale:"s",icon:"globe",class:"margin-right-half rtl-margin-right-0"}),S?(0,u.h)("span",{dangerouslySetInnerHTML:{__html:N}}):N))),J&&(0,u.h)("div",{class:"trailer-1"},(0,u.h)("label",{class:"avenir-demi trailer-half"},d.deprecatedSection),(0,u.h)("div",{class:"manage-items__content"},(0,u.h)(k.default,{strings:d}),P)),K&&(0,u.h)("div",{class:"trailer-1"},(0,u.h)("label",{class:"avenir-demi trailer-half"},d.newSection.replace("${name}",t.title)),(0,u.h)("div",{class:"manage-items__content"},
(0,u.h)(k.default,{strings:d}),T)),!H&&!I&&(0,u.h)("div",{class:"text-center avenir-demi"},d.noUpdates)),(0,u.h)("calcite-button",{slot:"secondary",appearance:"outline",width:"full",onClick:p},d.cancel),(0,u.h)("calcite-button",{slot:"primary",appearance:"solid",width:"full",onClick:function(){D(!0);var O=[],Q=!0,V=!0;Object.keys(C).forEach(function(Z){var ca=C[Z];ca===f.ManageContentRowValue.Remove&&O.push((0,b.unshareItemFromGroup)(t.id,Z));ca===f.ManageContentRowValue.Leave&&(Q=!1);ca===f.ManageContentRowValue.Add&&
O.push((0,b.shareItemToGroup)(t.id,Z));ca===f.ManageContentRowValue.Skip&&(V=!1)});var X=function(Z){m.default.showAlert("error",d.failure.replace("${name}",t.title));D(!1)};null===A||void 0===A?void 0:A.logEvent({category:"map",label:"update basemaps",action:"save",details:Q?"deprecated unchanged":"deprecated changed",attribute:V?"new unchanged":"new changed"});Promise.all(O).then(function(){setTimeout(function(){D(!1);m.default.showAlert("success",d.success.replace("${name}",t.title));E({});y(!0)},
500)},X).catch(X)},loading:B},B?d.saving:d.save)),document.body))}})},"arcgisonline/pages/components/ManageContentSummary/api":function(){define(["require","exports","tslib","../../../esriGeowConfig","../../../sharing/util"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});M.unshareItemFromGroup=M.shareItemToGroup=M.getGroupFromQuery=M.getGroupQuery=M.findGroup=void 0;b=a.__importDefault(b);k=a.__importDefault(k);M.findGroup=function(f){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,
function(m){return[2,k.default.request({url:"".concat(b.default.restBaseUrl,"community/groups?q\x3d").concat(encodeURIComponent(f))})]})})};M.getGroupQuery=function(f){var m="";f?f.id?m="id:".concat(f.id):f.title&&f.owner&&(m='title:"'.concat(f.title,'" AND owner:').concat(f.owner)):m="";return m};M.getGroupFromQuery=function(f,m,h){if(m&&h){var u=m.indexOf('title:"'),r=m.indexOf("id:"),e=void 0;if(-1<u){var v=m.substring(u+7),g;u=m.indexOf("owner:");v=v.substring(0,v.lastIndexOf('"'));-1<u&&(g=m.substring(u+
6));if(v&&g&&(e=h.filter(function(q){return q.title===v&&q.owner===g})[0])){v=e.altTitle||e.title;var p=e}!f.isPortal&&m.indexOf("owner:esri")&&(p=void 0)}else if(-1<r){var n=m.substring(r+3);(e=h.filter(function(q){return q.id===n})[0])&&(p=e)}}return p};M.shareItemToGroup=function(f,m){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(h){return[2,k.default.request({url:"".concat(b.default.restBaseUrl,"content/items/").concat(m,"/share"),content:{groups:f}},{usePost:!0})]})})};
M.unshareItemFromGroup=function(f,m){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(h){return[2,k.default.request({url:"".concat(b.default.restBaseUrl,"content/items/").concat(m,"/unshare"),content:{groups:f}},{usePost:!0})]})})}})},"arcgisonline/pages/components/ManageContentSummary/ManageContentHeaderRow":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){b=b.strings;return(0,a.h)("div",
{class:"flex flex-align-center flex-space-between manage-items__row"},(0,a.h)("div",{class:"manage-items__title-column padding-left-2 padding-right-2 padding-leader-half padding-trailer-half avenir-demi"},b.titleCol),(0,a.h)("div",{class:"manage-items__owner-column padding-left-2 padding-right-2 padding-leader-half padding-trailer-half avenir-demi"},b.ownerCol),(0,a.h)("div",{class:"manage-items__action-column padding-left-2 padding-right-2 padding-leader-half padding-trailer-half avenir-demi"},b.actionCol))}})},
"arcgisonline/pages/components/ManageContentSummary/ManageContentRow":function(){define(["require","exports","preact","preact/hooks"],function(U,M,a,b){function k(f,m,h){return"deprecated"===f.state?(0,a.h)(a.Fragment,null,(0,a.h)("option",{value:M.ManageContentRowValue.Remove,selected:M.ManageContentRowValue.Remove===h},m.remove),(0,a.h)("option",{value:M.ManageContentRowValue.Leave,selected:M.ManageContentRowValue.Leave===h},m.leave)):"new"===f.state?(0,a.h)(a.Fragment,null,(0,a.h)("option",{value:M.ManageContentRowValue.Add,
selected:M.ManageContentRowValue.Add===h},m.add),(0,a.h)("option",{value:M.ManageContentRowValue.Skip,selected:M.ManageContentRowValue.Skip===h},m.skip)):[]}Object.defineProperty(M,"__esModule",{value:!0});M.ManageContentRowValue=void 0;M.ManageContentRowValue={Remove:"remove",Leave:"leave",Add:"add",Skip:"skip"};M.default=function(f){var m=f.row,h=f.strings,u=f.value,r=f.onChange;f=f.disabled;f=void 0===f?!1:f;var e=(0,b.useRef)(null);h=k(m,h,u);return(0,a.h)("div",{class:"flex flex-align-center flex-space-between padding-leader-1 padding-trailer-1 padding-left-2 padding-right-2 manage-items__row",
key:m.item.id},(0,a.h)("div",{class:"manage-items__title-column"},m.item.title),(0,a.h)("div",{class:"manage-items__owner-column flex-start"},(0,a.h)("arcgis-user-popup",{item:m.item,api:3,portal:m.item.portal,baseUrl:m.item.portal.portalUrl})),(0,a.h)("div",{class:"manage-items__action-column flex-start"},(0,a.h)("select",{ref:e,class:"manage-items__row-select",onChange:function(v){r(m.item.id,v.target.value)},disabled:f},h)))}})},"xstyle/css":function(){define(["require"],function(U){function M(a,
b,k){var f=document.documentElement;a=f.insertBefore(document.createElement(a),f.firstChild);a.id=b;b=(a.currentStyle||getComputedStyle(a,null)||{})[k];f.removeChild(a);return b}return{load:function(a,b,k,f){function m(e){var v=M("x-parse",null,"content"),g=e&&(e.sheet||e.styleSheet);v&&"none"!=v&&"normal"!=v?b([eval(v)],function(p){e?p.process(e,k):(p.processAll(),k(g))}):k(g)}var h=b.toUrl(a);if(h.match(/!$/)){var u={wait:!1};h=h.slice(0,-1)}var r=b.cache&&b.cache["url:"+h];if(null!=r)r.xCss&&(r=
r.cssText),"string"==typeof r?U(["./core/load-css"],function(e){m(e.insertCss(r))}):m();else{if("none"==M("div",a.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return m();U(["./core/load-css"],function(e){e(h,m,u)})}}}})},"arcgisonline/pages/organization/widgets/settings/rows/DefaultBasemapRow":function(){define("require exports tslib esri/geometry/Extent esri/SpatialReference dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/DefaultBasemapRow.html dojo/store/Memory dojo/on dijit/form/FilteringSelect ./SettingsRow ../../../../../sharing/geow/Content ../../../../../esriGeowConfig ../../../../../map/core/projectExtent ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.i18n=a.__assign(a.__assign({},this.i18n),m.default.mapTab.defaultBasemap);this.templateString=h.default;this.settingsProps=
["defaultBasemap"];this.firstLoad=!0;this.shouldOmitSuccessMsg=!1}l.prototype.render=function(){this._label.textContent=this.label;this._description.innerHTML=this.description;this.defaultText=this.getDefaultSelectionText();this.selectStore=new u.default({data:[{name:this.defaultText,id:"0"}]});this.basemapSelect=new e.default({id:"default-basemap-select",searchAtrr:"name",value:"0",store:this.selectStore},this.domNode.querySelector(".js-basemap-select"));this.basemapSelect.startup();this.selectedGroup&&
this.selectedGroup.id?this.updateBasemapSelect():this.firstLoad=!1};l.prototype.addEventListeners=function(){this.own((0,r.default)(this.basemapSelect,"change",this.handleBasemapChange.bind(this)),(0,r.default)(this.useExtentBtn,"click",this.handleUseExtentClick.bind(this)),f.default.subscribe("basemap-gallery-update",this.handleBasemapGroupChange.bind(this)))};l.prototype.handleUseExtentClick=function(){var c=this.basemapSelect.get("value"),d=this.portal.isPortal,w=this.portal.selfNoAuth,t=new k.default({wkid:4326});
"0"===c?d?(t=new b.default(-180,-90,180,90,t),f.default.publish("default-extent-updated",t)):(d=w.defaultExtent,d=new b.default(d.xmin,d.ymin,d.xmax,d.ymax,new k.default({wkid:d.spatialReference.wkid})),(0,n.default)(d,t,this.projectHandler,this.projectHandler)):(t=this.basemaps.filter(function(z){return z.id===c})[0])&&t.title&&g.default.getItem(c,this.handleItemReceived,this.handleItemReceived)};l.prototype.handleItemReceived=function(c){if(c&&!c.code&&!c.message){c=c.extent;var d=new k.default({wkid:4326});
c=new b.default(c[0][0],c[0][1],c[1][0],c[1][1],d);f.default.publish("default-extent-updated",c)}};l.prototype.projectHandler=function(c){if(c&&!c.code&&!c.message&&0<c.length&&c[0]){var d=new k.default({wkid:4326});c=c[0];d=new b.default(c.xmin,c.ymin,c.xmax,c.ymax,d);f.default.publish("default-extent-updated",d)}};l.prototype.handleBasemapGroupChange=function(c){this.selectedGroup=c;this.shouldOmitSuccessMsg=!0;this.selectedGroup&&this.selectedGroup.id?this.updateBasemapSelect():this.setToDefault()};
l.prototype.setToDefault=function(){this.basemaps=[];this.selectStore=new u.default({data:[{name:this.defaultText,id:"0"}]});this.basemapSelect.set("store",this.selectStore);this.basemapSelect.set("displayedValue",this.defaultText)};l.prototype.updateBasemapSelect=function(){var c=this;if(this.selectedGroup&&this.selectedGroup.id){var d={q:"group:".concat(this.selectedGroup.id," AND (access:public OR access:org)"),sortField:"title",sortOrder:"asc",start:1,num:100};g.default.search("".concat(p.default.restBaseUrl,
"search"),d,function(w){if(w)if(c.basemaps=w.results.filter(function(z){return"Web Map"===z.type}),0<c.basemaps.length){c.refreshSelect(c.basemaps);var t=c.portal.defaultBasemap?c.portal.defaultBasemap.title:c.basemaps[0].title;w=t&&c.basemaps.some(function(z){return z.title===t})?t:c.basemaps[0].title;c.basemapSelect.set("displayedValue",w)}else c.setToDefault()})}};l.prototype.handleBasemapChange=function(){var c=this;if(this.firstLoad)this.firstLoad=!1;else{var d=this.basemapSelect.value;"0"===
d?this.updateSetting({defaultBasemap:"",clearEmptyFields:!0},this.i18n.error,this.i18n.success,this.shouldOmitSuccessMsg).then(function(){c.shouldOmitSuccessMsg=!1;c.portal.defaultBasemap=void 0;f.default.publish("default-basemap-updated")}):g.default.getItem(d,this.handleGetItem.bind(this),function(){})}};l.prototype.handleGetItem=function(c){var d=this;c&&g.default.getItemData(c.id,function(w){d.handleGetItemData(c,w)},function(){})};l.prototype.handleGetItemData=function(c,d){var w=this;if(d&&
(!d.code||!d.message)){var t={id:c.id,title:c.title,baseMapLayers:d.baseMap&&d.baseMap.baseMapLayers||[],operationalLayers:d.operationalLayers||[]};this.updateSetting({defaultBasemap:JSON.stringify(t)},this.i18n.error,this.i18n.success,this.shouldOmitSuccessMsg).then(function(){w.shouldOmitSuccessMsg=!1;w.portal.defaultBasemap=t;f.default.publish("default-basemap-updated",d)})}};l.prototype.refreshSelect=function(c){c&&0<c.length&&(c=c.map(function(d){return{id:d.id,name:d.title}}),this.selectStore=
new u.default({data:c}),this.basemapSelect.set("store",this.selectStore))};return l=a.__decorate([(0,q.default)(v.default)],l)}()})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(U,M,a,b,k){return U("dijit.form.FilteringSelect",[b,k],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},
_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(f,m,h,u){m&&m[this.searchAttr]!==this._lastQuery||!m&&f.length&&this.store.getIdentity(f[0])!=this._lastQuery||(f.length?this.set("item",f[0],u):this.set("value","",u||void 0===u&&!this.focused,this.textbox.value,null))},_openResultList:function(f,m,h){m[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},
_getValueField:function(){return"value"},_setValueAttr:function(f,m,h,u){this._onChangeActive||(m=null);if(void 0===u){if(null===f||""===f)if(f="",!M.isString(h)){this._setDisplayedValueAttr(h||"",m);return}var r=this;this._lastQuery=f;a(this.store.get(f),function(e){r._callbackSetLabel(e?[e]:[],void 0,void 0,m)})}else this.valueNode.value=f,this.inherited(arguments,[f,m,h,u])},_setItemAttr:function(f,m,h){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(f){return f.replace(/([\\\*\?])/g,
"\\$1")},_setDisplayedValueAttr:function(f,m){null==f&&(f="");if(!this._created){if(!("displayedValue"in this.params))return;m=!1}if(this.store){this.closeDropDown();var h=M.clone(this.query),u=this._getDisplayQueryString(f);if(this.store._oldAPI)var r=u;else r=this._patternToRegExp(u),r.toString=function(){return u};this._lastQuery=h[this.searchAttr]=r;this._lastDisplayedValue=this.textbox.value=f;this._set("displayedValue",f);var e=this,v={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};M.mixin(v,
this.fetchProperties);this._fetchHandle=this.store.query(h,v);a(this._fetchHandle,function(g){e._fetchHandle=null;e._callbackSetLabel(g||[],h,v,m)},function(g){e._fetchHandle=null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"arcgisonline/pages/organization/widgets/settings/rows/DefaultExtentRow":function(){define("require exports tslib esri/SpatialReference esri/geometry/Extent esri/request dojo/Deferred dojo/on dojo/topic dojo/string dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/DefaultExtentRow.html ./SettingsRow ../../../../utils/number ../../../../../map/core/projectExtent arcgisonline/sharing/util ../../../../../sharing/dijit/ExtentPicker arcgisonline/sharing/geow/Content ../../../../../tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.i18n=a.__assign(a.__assign({},
this.i18n),e.default.mapTab.defaultExtent);this.templateString=v.default;this.settingsProps=["defaultExtent"];this.defaultBasemapChanging=!1}t.prototype.render=function(){this._label.textContent=this.label;this._description.innerHTML=this.description;var z=this.portal.defaultExtent;if(z&&z.xmin&&z.xmax&&z.ymin&&z.ymax){var x={},y=z.xmin,A=z.xmax,B=z.ymin,D=z.ymax,C=z.spatialReference;C.wkid?x.wkid=C.wkid:C.wkt&&(x.wkt=C.wkt);this.defaultExtent=new k.default(y,B,A,D,new b.default(x))}else x=this.portal.selfNoAuth.defaultExtent,
y=x.xmin,A=x.xmax,B=x.ymin,D=x.ymax,C=x.spatialReference,this.defaultExtent=new k.default(y,B,A,D,new b.default({wkid:C.wkid}));y=new b.default({wkid:4326});z.spatialReference&&4326!==z.spatialReference.wkid?(z=this.handleProjectDefaultExtent.bind(this,y),(0,n.default)(this.defaultExtent,y,z,z)):this.displayExtent(this.defaultExtent)};t.prototype.addEventListeners=function(){var z=this;this.own((0,h.default)(this.chooseExtentBtn,"click",this.handleChooseExtentClick.bind(this)),u.default.subscribe("default-extent-updated",
function(x){z.defaultExtent=x;z.displayExtent(z.defaultExtent);z.proceedToSave()}),u.default.subscribe("default-basemap-updated",this.handleDefaultBasemapUpdated.bind(this)))};t.prototype.handleDefaultBasemapUpdated=function(z){this.defaultBasemapChanging=!0;this.proceedToSave(z)};t.prototype.getOutSR=function(z){var x=this,y=new m.default,A=this.portal.defaultBasemap;if(A)if(A.baseMapLayers&&A.baseMapLayers[0]&&(A.baseMapLayers[0].url||A.baseMapLayers[0].templateUrl||"VectorTileLayer"===A.baseMapLayers[0].layerType||
"VectorTileLayer"===A.baseMapLayers[0].type))if(A=A.baseMapLayers[0],"WMS"===A.layerType||"WebTiledLayer"===A.type||"WebTiledLayer"===A.layerType||"VectorTileLayer"===A.type||"VectorTileLayer"===A.layerType)if(z&&z.spatialReference){var B=new b.default(z.spatialReference);y.resolve(B)}else A.fullExtent&&A.fullExtent.spatialReference?(B=new b.default(A.fullExtent.spatialReference),y.resolve(B)):A.url?this.getBasemapLayerInfo(A).then(function(D){B=D;y.resolve(B)}):A.itemId?q.default.request({url:"".concat(w.default.restBaseUrl,
"content/items/").concat(A.itemId)}).then(function(D){D.url?x.getBasemapLayerInfo(D.url).then(function(C){B=C;y.resolve(B)}):(B=new b.default({wkid:102100}),y.resolve(B))},function(){B=new b.default({wkid:102100});y.resolve(B)}):(B=new b.default({wkid:102100}),y.resolve(B));else this.getBasemapLayerInfo(A.url).then(function(D){B=D;y.resolve(B)});else B=new b.default({wkid:102100}),y.resolve(B);else B=new b.default({wkid:102100}),y.resolve(B);return y};t.prototype.getItemData=function(z){var x=new m.default,
y=this.portal.defaultBasemap;!z&&y&&y.id?c.default.getItemData(y.id,function(A){x.resolve(A)},function(){x.resolve(z)}):x.resolve(z);return x};t.prototype.proceedToSave=function(z){var x=this;this.getItemData(z).then(function(y){return x.getOutSR(y)}).then(function(y){x.updateDefaultExtentSetting(y)})};t.prototype.updateDefaultExtentSetting=function(z){var x=new b.default(z);this.defaultExtent&&z&&(0,n.default)(this.defaultExtent,x,this.handleProjectAndSaveExtent.bind(this),this.handleProjectAndSaveExtent.bind(this))};
t.prototype.handleProjectAndSaveExtent=function(z){var x=this;z&&!z.code&&!z.message&&0<z.length&&this.updateSetting({defaultExtent:JSON.stringify(z[0])},this.i18n.error,this.i18n.success,this.defaultBasemapChanging).then(function(){x.defaultBasemapChanging=!1;x.portal.defaultExtent=z[0]})};t.prototype.getBasemapLayerInfo=function(z){var x,y=new m.default;this.getServiceInfo(z,function(A){x=!A||A.code||A.message?new b.default({wkid:102100}):new b.default(A.spatialReference);y.resolve(x)},function(A){x=
A&&A.fullExtent?A.fullExtent.spatialReference:new b.default({wkid:102100});y.resolve(x)});return y};t.prototype.getServiceInfo=function(z,x,y){z+="".concat(-1<z.indexOf("?")?"\x26":"?","f\x3djson");!w.default.allSSL&&"https"!==location.protocol||!q.default.isHostedService(z)&&!q.default.supportsHttps(z)||(z=q.default.getSecureUrl(z));var A=q.default.getToken(),B=this.portal.isPortal;A&&(!B&&q.default.isHostedService(z)?z+="$token\x3d".concat(A):B&&q.default.onFederatedServer(z)&&(z+="\x26token\x3d".concat(A)));
A="https:"===location.protocol&&-1<z.indexOf("http:");(0,f.default)({url:z,callbackParamName:"callback",load:function(D,C){x?x(D,C):q.default.handler(D,C,z,x,y)},error:function(D,C){y?y(D,C):q.default.errorHandler(D,C,z,y)}},{useProxy:A})};t.prototype.handleChooseExtentClick=function(){var z=this.defaultExtent,x=z.xmax,y=z.ymin,A=z.ymax;z=[[this.roundExtent(z.xmin),this.roundExtent(y)],[this.roundExtent(x),this.roundExtent(A)]];new l.default({callback:this.handleExtentChanged.bind(this),initExtent:z,
closeOnSave:!0,closeOnCancel:!0,opener:this.chooseExtentBtn})};t.prototype.handleExtentChanged=function(z){z&&z[0]&&(this.defaultExtent=new k.default(z[0],z[2],z[1],z[3],new b.default({wkid:4326})),this.displayExtent(this.defaultExtent),this.proceedToSave())};t.prototype.handleProjectDefaultExtent=function(z,x){x&&!x.code&&!x.message&&0<x.length&&x[0]&&(x=x[0],this.defaultExtent=new k.default(x.xmin,x.ymin,x.xmax,x.ymax,z),this.displayExtent(this.defaultExtent))};t.prototype.displayExtent=function(z){this.renderExtentValue(this.leftExtent,
this.i18n.left,z.xmin);this.renderExtentValue(this.rightExtent,this.i18n.right,z.xmax);this.renderExtentValue(this.topExtent,this.i18n.top,z.ymax);this.renderExtentValue(this.bottomExtent,this.i18n.bottom,z.ymin)};t.prototype.renderExtentValue=function(z,x,y){z.textContent=r.default.substitute(x,{value:this.formatExtent(y)})};t.prototype.formatExtent=function(z){return p.default.format(this.roundExtent(z))};t.prototype.roundExtent=function(z){return Math.round(1E3*z)/1E3};return t=a.__decorate([(0,d.default)(g.default)],
t)}()})},"arcgisonline/sharing/dijit/ExtentPicker":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util ./ExtentPickerOverlay dijit/_AttachMixin dijit/_TemplatedMixin dijit/_WidgetBase dojo/dom-construct dojo/i18n!../../nls/arcgisonline dojo/text!./templates/ExtentPicker.html ../../tsutils/declareDecorator ../../pages/utils/queryHandler".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=
a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importStar(p);return function(){function n(q){this.telemetryEvents={coordinates:0,draw:0,search:0,orgreg:0,orgext:0,currfeat:0,currsaved:0,resize:0};this.title="";this.templateString=v.default;this.declaredClass="arcgisonline.pages.dijit.ExtentPicker";this.widgetsInTemplate=!0;this.i18n=e.default;this.args=q;"callback"in this.args&&(this.callback=
this.args.callback);var l=p.queryToObject(window.location.search.slice(1));this.qs="";l.id&&(this.qs+="webmap\x3d".concat(l.id,"\x26"));"initExtent"in this.args&&(this.initExtent=this.args.initExtent,this.qs+="extent\x3d".concat(JSON.stringify(this.initExtent).replace(/[" \[\]]+/g,"")));this.title=this.args.title||"Set Extent";this.ifurl=(b.default.isDebug?"/webviewer/dist/extentpicker.html?":"/apps/mapviewer/extentpicker.html?")+this.qs;k.default.isPortal()&&(l=b.default.self.portalHostname.replace(/^[^\/]*/,
""),this.ifurl=this.ifurl.replace("/apps/",l+"/apps/"),this.ifurl+="\x26extentService\x3d".concat(encodeURI(b.default.extentService)));l=this._onOverlayClose.bind(this);this.xpOverlay=new f.default({ifurl:this.ifurl,onClose:l,opener:q.opener},r.default.place(r.default.create("div"),document.body,"last"));this.xpOverlay.startup();this.xpOverlay.open();this._handleExtent=this._handleExtent.bind(this)}n.prototype.postCreate=function(){var q;this.inherited(arguments);this._doAttachEvents();null===(q=
this.telemetry)||void 0===q?void 0:q.logEvent({category:"set extent",action:"click"})};n.prototype.destroy=function(){var q;this.inherited(arguments);null===(q=this.xpOverlay)||void 0===q?void 0:q.destroy();window.removeEventListener("message",this._handleExtent)};n.prototype._doAttachEvents=function(){window.addEventListener("message",this._handleExtent)};n.prototype._onOverlayClose=function(){this.destroy()};n.prototype._handleExtent=function(q){var l=this,c,d,w={};try{w=JSON.parse(q.data)}catch(z){}if(!w.action||
"resize"===w.action)return!1;if("telemetry"===(null===w||void 0===w?void 0:w.action))return this.telemetryEvents[w.params.type]+=1,!1;"cancel"===w.action&&this.args.closeOnCancel&&(null===(c=this.telemetry)||void 0===c?void 0:c.logEvent({category:"set extent",action:"cancel"}),document.documentElement.classList.remove("overflow-hidden"),this.destroy());this.args.closeOnSave&&(document.documentElement.classList.remove("overflow-hidden"),this.destroy());if("save"===w.action){var t={coordinates:"coordinates",
draw:"draw",search:"search",orgreg:"region",orgext:"extent",currfeat:"features",currsaved:"saved",resize:"resize"};Object.keys(this.telemetryEvents).filter(function(z){return 0<l.telemetryEvents[z]}).forEach(function(z){var x;null===(x=l.telemetry)||void 0===x?void 0:x.logEvent({category:"extent action",action:t[z]||z})});null===(d=this.telemetry)||void 0===d?void 0:d.logEvent({category:"set extent",action:"save"});this.callback(w.extent);this.destroy()}};return n=a.__decorate([(0,g.default)(u.default,
h.default,m.default)],n)}()})},"arcgisonline/sharing/dijit/ExtentPickerOverlay":function(){define("require exports tslib ../../pages/dijit/Overlay ../../tsutils/declareDecorator dojo/i18n!../../nls/arcgisonline dojo/text!./templates/ExtentPicker.html".split(" "),function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.overlayContents=m.default;this.showActionBar=!1;this.title=f.default.itemProperties.setExtent}
h.prototype.startup=function(){this.inherited(arguments);this.domNode.classList.add("overlay--top");var u=this.domNode.querySelector(".js-iframe");u&&(u.src=this.ifurl)};return h=a.__decorate([(0,k.default)(b.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/UnitsRow":function(){define("require exports tslib dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/UnitsRow.html ./SettingsRow ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,
b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.i18n=a.__assign(a.__assign({},this.i18n),k.default.mapTab);this.templateString=f.default;this.settingsProps=["units"]}u.prototype.render=function(){this._label.textContent=this.label;this._description.innerHTML=this.description;this.portal.units&&(this.unitsSelect.value=this.portal.units)};u.prototype.addEventListeners=function(){this.own((0,b.default)(this.unitsSelect,
"change",this.handleUnitsChange.bind(this)))};u.prototype.handleUnitsChange=function(){var r=this;this.updateSetting({units:this.unitsSelect.value},this.i18n.unitsError,this.i18n.unitsSuccess).then(function(){r.portal.units=r.unitsSelect.value})};return u=a.__decorate([(0,h.default)(m.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/BingMapsRow":function(){define("require exports tslib dojo/on dojo/topic dojo/string dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/BingMapsRow.html ./SettingsRow ../../../../utils/dom ../../../../utils/organization ../../../../utils/tooltips ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.i18n=a.__assign(a.__assign({},this.i18n),m.default.mapTab);this.templateString=h.default;this.settingsProps=["bingKey","canShareBingPublic"];this.canManageSecurity=!1}p.prototype.destroy=function(){this.inherited(arguments);
this.checkboxTooltip&&this.checkboxTooltip.destroy()};p.prototype.render=function(){var n=this,q=this.portal.isPortal,l=e.default.getUserRole(this.portal.portalUser);this.canManageSecurity=l.isAdmin()||l.canManageSecurity();var c=f.default.substitute(q?this.i18n.bingKeyDescPortal:this.i18n.bingKeyDesc,{bingLinkStart:'\x3ccalcite-link href\x3d"https://www.bingmapsportal.com" target\x3d"_blank"\x3e',bingLinkEnd:"\x3c/calcite-link\x3e"});l=f.default.substitute(this.i18n.bingKeyEsriDesc,{esriLinkStart:'\x3ccalcite-link href\x3d"http://www.esri.com/about-esri/offices/" target\x3d"_blank"\x3e',
esriLinkEnd:"\x3c/calcite-link\x3e"});q||(c+=" ".concat(l));this._description.innerHTML=c;q=f.default.substitute(this.i18n.bingKeyShareDesc,{startSpan:'\x3cspan id\x3d"bingKeyTooltip" class\x3d"org-settings__tooltip" tabindex\x3d"0" \x3e',endSpan:"\x3c/span\x3e"});this.checkboxLabel.innerHTML=q;setTimeout(function(){n.checkboxTooltip=v.default.createTooltip("bingKeyTooltip",n.i18n.bingKeyShareTooltip)});this.checkbox.checked=!!this.portal.canShareBingPublic;this.adjustElements()};p.prototype.resetFormValues=
function(){this.textbox.value=this.portal.bingKey||"";this.checkbox.checked=!!this.portal.canShareBingPublic};p.prototype.addEventListeners=function(){var n=this;this.inherited(arguments);this.own(k.default.subscribe("access/change",function(){r.default.showHide(n.checkboxContainer,"public"===n.portal.access);n.checkbox.checked=!!n.portal.canShareBingPublic}),(0,b.default)(this.checkbox,"change",function(){return n.handleCheckboxChange()}))};p.prototype.save=function(){var n=this,q=this.textbox.value,
l=this.checkbox.checked;if(this.textbox.value!==this.portal.bingKey){var c={bingKey:q,canShareBingPublic:l};this.textbox.value||(c.clearEmptyFields=!0);this.updateSetting(c,this.i18n.bingError,this.i18n.bingSuccess).then(function(){n.portal.bingKey=c.bingKey;n.portal.canShareBingPublic=c.canShareBingPublic;n.adjustElements();n.toggleEdit(!1)})}};p.prototype.adjustElements=function(){this.portal.bingKey?(this.textbox.value=this.portal.bingKey,this._displayValue.textContent=this.portal.bingKey,this._valueContainer.classList.add("org-settings__display-text-value"),
r.default.showNode(this.editIcon),r.default.removeClasses(this._editBtn,["btn","btn-clear"]),r.default.addClasses(this._editBtn,["btn-link","btn-link-darker-gray"])):(this.textbox.value="",this._displayValue.textContent=this.i18n.bingEnterKey,this._valueContainer.classList.remove("org-settings__display-text-value"),r.default.hideNode(this.editIcon),r.default.addClasses(this._editBtn,["btn","btn-clear"]),r.default.removeClasses(this._editBtn,["btn-link","btn-link-darker-gray"]));r.default.showHide(this.checkboxContainer,
"public"===this.portal.access&&this.canManageSecurity&&!!this.portal.bingKey)};p.prototype.handleCheckboxChange=function(){var n=this;if("public"===this.portal.access){var q=this.checkbox.checked;this.updateSetting({canShareBingPublic:q},this.i18n.bingError,this.i18n.bingSuccess).then(function(){n.portal.canShareBingPublic=q})}};return p=a.__decorate([(0,g.default)(u.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/rows/MapConfigurableAppsGroupRow":function(){define("require exports tslib dojo/on dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings arcgisonline/pages/utils/dom arcgisonline/pages/utils/alerts ./GroupSelectRow arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.i18n=a.__assign(a.__assign({},this.i18n),f.default.mapTab.configurableApps.row);this.queryKey="templatesGroupQuery";this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="map-configurable-apps-";this.shareSuccessText=this.i18n.shareDefaultSuccess;
this.shareErrorText=this.i18n.shareDefaultError;this.settingsProps=[this.queryKey];this.editBtnId="map-config-apps-edit";this.sortById="map-config-apps-sort-by-select";this.sortDirId="map-config-apps-sort-dir-select"}e.prototype.render=function(){this.inherited(arguments);this.shareBtn=document.createElement("button");this.shareBtn.className="btn btn-clear leader-1 hide";this.shareBtn.textContent=this.i18n.shareToGroup;this.domNode.appendChild(this.shareBtn);m.default.showHide(this.shareBtn,!!this.selectedGroup)};
e.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,b.default)(this.shareBtn,"click",this.handleShareClick.bind(this)))};e.prototype.handleGroupChange=function(v){this.inherited(arguments);m.default.showHide(this.shareBtn,!!v)};e.prototype.getDefaultQuery=function(){return this.portal.isPortal?'title:"Web Application Templates" AND owner:"'.concat(this.getEsriOwner(),'"'):this.portal.selfNoAuth.templatesGroupQuery};e.prototype.handleShareClick=function(){if(this.canShare()){var v=
this.getDefaultQuery();v&&this.findAndShareWithGroup(v)}};e.prototype.canShare=function(){var v,g=this.selectedGroup,p=!0;-1<(null===(v=null===g||void 0===g?void 0:g.capabilities)||void 0===v?void 0:v.indexOf("updateitemcontrol"))&&(p=!1,h.default.showAlert("error",k.default.myOrganization.mapTab.cantShareTemplatesUpdateGroup));return p};return e=a.__decorate([(0,r.default)(u.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/MapViewerCard":function(){define("require exports tslib dojo/on dojo/topic dojo/string dojo/text!./templates/MapViewerContent.html ./SettingsCard ../../../../utils/mapViewer ../../../../utils/alerts ../../../../../tsutils/declareDecorator ../../../../../esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.settingsProps=["portalProperties.mapViewer"]}g.prototype.render=function(){this._title.textContent=this.name;this._content.innerHTML=f.default.substitute(m.default,{i18n:this.i18n.mapTab.mapViewer});this.mapViewerClassic=this._content.querySelector(".js-mapviewer-classic");
this.mapViewerModern=this._content.querySelector(".js-mapviewer-modern");this.selectCurrentOption()};g.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,b.default)(this.mapViewerClassic,"change",this.handleChange.bind(this)),(0,b.default)(this.mapViewerModern,"change",this.handleChange.bind(this)))};g.prototype.selectCurrentOption=function(){var p;(0,u.determineOrgMapViewer)({mapViewer:null===(p=this.portal.portalProperties)||void 0===p?void 0:p.mapViewer,created:this.portal.created,
subscriptionInfo:this.portal.subscriptionInfo,isPortal:this.portal.isPortal})===u.MapViewerType.Classic?this.mapViewerClassic.checked=!0:this.mapViewerModern.checked=!0};g.prototype.handleChange=function(){var p=this,n=this.portal.portalProperties||{};n.mapViewer=this.mapViewerClassic.checked?u.MapViewerType.Classic:u.MapViewerType.Modern;n.mapViewerSwitchDate=Date.now();delete n.newMapViewerEnabled;this.updateSelf({portalProperties:JSON.stringify(n)}).then(function(q){q.code?(r.default.showAlert("error",
p.i18n.mapTab.mapViewer.error),p.selectCurrentOption()):(r.default.showAlert("success",p.i18n.mapTab.mapViewer.success),p.portal.set(n,n),v.default.self.portalProperties=n,k.default.publish("mapviewer/org-update",n.mapViewer))},function(){r.default.showAlert("error",p.i18n.mapTab.mapViewer.error);p.selectCurrentOption()})};return g=a.__decorate([(0,e.default)(h.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/WebStylesRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./GroupSelectRow ../../../../utils/organization ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.styleType="3D";this.noSort=!0}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),b.default.mapTab.webStyles["2D"===this.styleType?"group2D":"group3D"]);this.queryKey="2D"===this.styleType?"2DStylesGroupQuery":"stylesGroupQuery";this.successMessage=this.i18n.success;this.errorMessage=
this.i18n.error;this.topicPrefix="".concat(this.styleType,"-web-styles-");this.settingsProps=[this.queryKey];this.editBtnId="".concat(this.styleType,"web-styles-edit")};h.prototype.render=function(){this.inherited(arguments);this._label.textContent=this.i18n.name};h.prototype.handleGroupChange=function(u){var r=this;this.inherited(arguments);if(this.selectedGroup){var e=this.getDefaultQuery();this.findGroup(e).then(function(v){v&&v.results&&1===v.results.length&&v.results[0]&&(v=v.results[0],(f.default.getUserRole(r.portalUser).isAdmin()||
v.owner===r.portalUser.username)&&r.shareGroupContentsWithGroup(v.id,r.selectedGroup.id,["Style"]))})}};h.prototype.getDefaultQuery=function(){return this.portal.isPortal?'title:"'.concat("2D"===this.styleType?"Esri 2D Styles":"Esri Styles",'" AND owner:"').concat(this.getEsriOwner(),'"'):this.portal.selfNoAuth[this.queryKey]};return h=a.__decorate([(0,m.default)(k.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/AnalysisLayersRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./GroupSelectRow ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(h,u){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.mapTab.analysisLayers.row);this.queryKey="analysisLayersGroupQuery";this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="analysis-layers-";this.settingsProps=[this.queryKey];this.editBtnId="analysis-layers-edit";this.sortById="analysis-layers-sort-by-select";this.sortDirId="analysis-layers-sort-dir-select"}
return m=a.__decorate([(0,f.default)(k.default)],m)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/ItemsTab":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./BaseSettingsTab ../cards/CommentsCard ../cards/MetadataCard ../cards/CategoriesCard ../rows/SemanticSearchRow ../rows/RecycleSettingRow ../settings-shared ../../../../utils/organization ../../../../utils/culture ../../../../../tsutils/declareDecorator ../../../../../esriGeowConfig dojo/topic".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.i18n=b.default.itemsTab;this.TAB_KEY=e.SettingsTabKeys.Items}l.prototype.render=function(){this._detectPermissions();this._canManageSecurity&&this._createCommentsCard();
this._canManageWebsite&&(this._createMetadataCard(),this._createCategoriesCard());this._canManageWebsite&&n.default.semanticSearchEnabled&&this._createSearchCard();this._isAdmin&&this.portal.recycleBinSupported&&this.portal.recycleBinEnabled&&this.createRecycleCard();this.addEventHandlers();this.inherited(arguments)};l.prototype.addEventHandlers=function(){this.own(q.default.subscribe("language/update",this.handleLanguageChange.bind(this)))};l.prototype.handleLanguageChange=function(c){this._canManageWebsite&&
n.default.semanticSearchEnabled&&(c="en"===g.default.getRootLocale(c.culture),this.searchCard.shouldBeHidden=!c)};l.prototype._detectPermissions=function(){var c=v.default.getUserRole(this.portalUser);this._canManageSecurity=(this._isAdmin=c.isAdmin())||c.canManageSecurity();this._canManageWebsite=this._isAdmin||c.canManageWebsite()};l.prototype._createCommentsCard=function(){this.createCustomCard(f.default,{id:"org-comments-card",name:this.i18n.comments,keywords:["feedback","socialInteraction","opinion",
"observation","mention"]})};l.prototype._createMetadataCard=function(){this.createCustomCard(m.default,{id:"org-metadata-card",name:this.i18n.metadata,keywords:"standardizedInfo description details information itemDetails fgdc iso inspire gml".split(" ")})};l.prototype._createCategoriesCard=function(){this.createCustomCard(h.default,{id:"org-categories-card",name:this.i18n.orgCategories,description:this.i18n.categoriesDesc,keywords:["class","grouping","order","tiers"]})};l.prototype._createSearchCard=
function(){var c="en"===g.default.getRootLocale(this.portal.culture);this.searchCard=this.createCard({name:this.portal.isPortal?this.i18n.searchPortal:this.i18n.searchOnline,rows:[new u.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{keywords:"search searchTerms relatedTerms relativeTerms associatedWords expandedSearch broadSearch semantics".split(" ")}))]});this.searchCard.shouldBeHidden=!c};l.prototype.createRecycleCard=function(){this.createCard({name:this.i18n.recycleBin,rows:[new r.default(a.__assign(a.__assign({},
this.getDefaultRowParams()),{keywords:["recycle"]}))]})};return l=a.__decorate([(0,p.default)(k.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/cards/CommentsCard":function(){define("require exports tslib dojo/on dojo/text!./templates/CommentsContent.html ./SettingsCard ../../../../dijit/ToggleSwitch ../../../../utils/dom ../../../../utils/alerts ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){}e.prototype.render=function(){this._title.textContent=this.name;h.default.hideNode(this._description);this._content.innerHTML=k.default;this._showCommentsSwitch=new m.default({label:this.i18n.itemsTab.commentsToggleLabel,labelClasses:"org-settings__toggle-switch-row",labelPosition:"left",loaderClasses:"leader-quarter inline-block",switchTrackClasses:"leader-quarter"},this._content.querySelector(".js-switch"));
this._showCommentsSwitch.setChecked(this.portal.commentsEnabled,!0)};e.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,b.default)(this._showCommentsSwitch,"change",this._handleCommentsChange.bind(this)))};e.prototype._handleCommentsChange=function(){var v=this,g=this._showCommentsSwitch.checked();this._showCommentsSwitch.showLoader();this.updateSelf({commentsEnabled:g}).then(function(p){v._showCommentsSwitch.hideLoader();p.code?u.default.showAlert("error",v.i18n.itemsTab.commentsError):
(u.default.showAlert("success",v.i18n.itemsTab.commentsSuccess),v.portal.commentsEnabled=g)},function(){v._showCommentsSwitch.hideLoader();u.default.showAlert("error",v.i18n.itemsTab.commentsError)})};return e=a.__decorate([(0,r.default)(f.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/MetadataCard":function(){define("require exports tslib dojo/on dojo/string dojo/text!./templates/MetadataContent.html ./SettingsCard ../../../../utils/dom ../../../../utils/alerts ../../../../utils/organization ../../../../dijit/ToggleSwitch ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.FGDC="fgdc";this.INSPIRE="inspire";this.ISO19139="iso19139";this.ISO1913932="iso19139-3.2";this.ISO19115="iso19115";this.ISO191153="iso19115-3"}g.prototype.render=function(){this._title.textContent=this.name;h.default.hideNode(this._description);
this._content.innerHTML=k.default.substitute(f.default,{i18n:this.i18n,FGDC:this.FGDC,INSPIRE:this.INSPIRE,ISO19139:this.ISO19139,ISO1913932:this.ISO1913932,ISO19115:this.ISO19115,ISO191153:this.ISO191153});this._styleRow=this._content.querySelector(".js-style-row");this._styleSelect=this._content.querySelector(".js-style-select");this._enableSwitch=new e.default({label:r.default.injectHelpLink(this.portal,this.i18n.itemsTab.metadataToggleLabel,"120001028","metadata-learn-more"),labelClasses:"org-settings__toggle-switch-row org-settings__toggle-switch-row--no-margin",
labelPosition:"left",switchTrackClasses:"leader-quarter"},this._content.querySelector(".js-switch"));this._updateUI()};g.prototype.addEventListeners=function(){var p=this;this.inherited(arguments);this.own((0,b.default)(this._styleSelect,"change",function(){var n,q=(n={},n[p.FGDC]="FGDC",n[p.INSPIRE]="INSPIRE",n[p.ISO19139]="ISO19139",n[p.ISO1913932]="ISO19139 GML3.2",n[p.ISO19115]="North American Profile",n[p.ISO191153]="ISO19115-3",n);p._styleSelect.value&&q[p._styleSelect.value]&&(p.logEvent(q[p._styleSelect.value],
"metadataFormats"),p._updateMetadataSettings())}),(0,b.default)(this._enableSwitch,"change",function(){p.logEvent(p._enableSwitch.checked()?"on":"off","metadataEditable");p._updateMetadataSettings()}))};g.prototype.logEvent=function(p,n){var q;null===(q=this.telemetry)||void 0===q?void 0:q.logEvent({category:"items",label:n,action:p,pageName:"org settings",pageUrl:window.location.href})};g.prototype._updateUI=function(){this._enableSwitch.setChecked(this.portal.metadataEditable,!0);h.default.showHide(this._styleRow,
this.portal.metadataEditable);var p=this.portal.metadataFormats||[];0<p.length&&(this._styleSelect.value=p[0])};g.prototype._updateMetadataSettings=function(){var p=this,n=this._enableSwitch.checked(),q=this._styleSelect.value;this.updateSelf({metadataEditable:n,metadataFormats:q},!0).then(function(l){l.code?p._metadataError():(u.default.showAlert("success",p.i18n.itemsTab.metadataSuccess),p.portal.metadataEditable=n,p.portal.metadataFormats=[q],h.default.showHide(p._styleRow,p.portal.metadataEditable))},
function(){p._metadataError()})};g.prototype._metadataError=function(){u.default.showAlert("error",this.i18n.itemsTab.metadataError);this._updateUI()};return g=a.__decorate([(0,v.default)(m.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/cards/CategoriesCard":function(){define("require exports tslib dojo/topic ./SettingsCard ../../../../dijit/CategoryEdit ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),function(U,M,
a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this._categories=[]}r.prototype.render=function(){var e=this;this._title.textContent=this.name;var v=this.portal.hasCategorySchema;this._updateTexts();v&&m.default.request({url:"".concat(h.default.restBaseUrl,"portals/").concat(this.portal.id,"/categorySchema")}).then(function(g){e._categories=g.categorySchema})};
r.prototype.addEventListeners=function(){var e=this;this.inherited(arguments);this.own(b.default.subscribe("categorySchema/updated",function(v){var g,p;e._categories=v;e.portal.hasCategorySchema=0<(null===(p=null===(g=null===v||void 0===v?void 0:v[0])||void 0===g?void 0:g.categories)||void 0===p?void 0:p.length);e._updateTexts()}),b.default.subscribe("category-edit/save-success",function(){var v;null===(v=e.telemetry)||void 0===v?void 0:v.logEvent({category:"items",label:"categorySchema",action:"Save"})}),
b.default.subscribe("category-edit/cancel",function(){var v;null===(v=e.telemetry)||void 0===v?void 0:v.logEvent({category:"items",label:"categorySchema",action:"Cancel"})}),b.default.subscribe("category-edit/close",function(){e._headerBtn.focus()}))};r.prototype.handleBtnClick=function(){var e=m.default.getToken();e&&(e="?token\x3d".concat(e));e={user:this.portal.user,portal:this.portal,token:e,closeOnScrimClick:!1};e.portal.url=h.default.restBaseUrl;e.portal.categories=this._categories;(new f.default(e)).open()};
r.prototype._updateTexts=function(){var e=this.portal.hasCategorySchema?"configureCategories":"setupCategories";this.description=this.i18n.itemsTab["".concat(e,"Desc")];this._description.textContent=this.description;this.showHeaderBtn(this.i18n.itemsTab[e])};return r=a.__decorate([(0,u.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SemanticSearchRow":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../dijit/ToggleSwitch ./SettingsRow ../../../../utils/dom ../../../../utils/icons ../../../../../tsutils/declareDecorator dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/SemanticSearchRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=v.default;this.icons=h.default;this.settingsProps=["portalProperties.semanticSearchEnabled"]}g.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),e.default.common),
e.default.itemsTab);this.inherited(arguments)};g.prototype.render=function(){var p;this.toggleSwitch=new k.default({label:this.i18n.enableSearch,labelClasses:"org-settings__toggle-switch-row org-settings__toggle-switch-row--no-x-margin",labelPosition:"left",switchTrackClasses:"leader-quarter"},this.domNode.querySelector(".js-toggle-switch"));var n=!!(b.default.semanticSearchEnabled&&(null===(p=this.portal.portalProperties)||void 0===p?0:p.semanticSearchEnabled));this.firstLoadValue=n;this.toggleSwitch.setChecked(n,
!0)};g.prototype.addEventListeners=function(){this.own((0,r.default)(this.toggleSwitch,"change",this.handleChange.bind(this)),(0,r.default)(this.submitFeedbackBtn,"click",this.handleFeedbackSubmit.bind(this)),(0,r.default)(this.dismissFeedbackBtn,"click",this.handleFeedbackDismiss.bind(this)),(0,r.default)(this.closeResponseBtn,"click",this.handleFeedbackResponseClose.bind(this)))};g.prototype.handleFeedbackSubmit=function(){var p,n=this.feedback.value;null===(p=this.telemetry)||void 0===p?void 0:
p.logEvent({category:"semantic search feedback",label:n});m.default.hideNode(this.searchFeedback);m.default.showNode(this.feedbackResponse);this.feedback.value=""};g.prototype.handleFeedbackDismiss=function(){m.default.hideNode(this.searchFeedback);this.feedback.value=""};g.prototype.handleFeedbackResponseClose=function(){m.default.hideNode(this.feedbackResponse)};g.prototype.handleChange=function(){var p=this,n=this.toggleSwitch.checked();this.portal.portalProperties||(this.portal.portalProperties=
{});var q=a.__assign({},this.portal.portalProperties);n?q.semanticSearchEnabled=n:delete q.semanticSearchEnabled;this.portal.isPortal||n||n===this.firstLoadValue||!this.portal.eueiEnabled||m.default.showNode(this.searchFeedback);this.updateSetting({portalProperties:JSON.stringify(q)},this.i18n.enableSearchError,this.i18n.enableSearchSuccess).then(function(){p.portal.portalProperties=q;n&&p.handleFeedbackDismiss()},function(){p.toggleSwitch.setChecked(!n,!0)})};return g=a.__decorate([(0,u.default)(f.default)],
g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/RecycleSettingRow":function(){define("require exports tslib dojo/on dojo/string ./SettingsRow dojo/text!./templates/RecycleSettingRow.html dojo/i18n!../../../../../nls/org-settings ../../../../utils/dom arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/components/RecycleOrgOnboardModal/recycle-setting.service arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);g=a.__importDefault(g);return function(){function p(n,q){var l=this;this.i18n=a.__assign(a.__assign({},this.i18n),h.default.itemsTab);this.templateString=m.default;this.recycleEnabled=!1;this.handleCheckboxChange=function(){l.confirmOptOutButton.disabled=!l.optOutConfirmCheckbox.checked};this.handleCloseOptInModal=function(){l.optInModal.open=
!1};this.handleOptInClick=function(){return a.__awaiter(l,void 0,void 0,function(){var c;return a.__generator(this,function(d){switch(d.label){case 0:return[4,(0,v.setRecycleSetting)(!0)];case 1:return c=d.sent(),c.success&&(this.optInModal.open=!0,this.portal.recycleBinEnabled=this.recycleEnabled=!0,this.logEvent(!0),this.updateView()),[2]}})})};this.handleOptOutClick=function(){u.default.showHide(l.reasonSection,l.portal.eueiEnabled);l.optOutModal.open=!0};this.handleCancelOptOut=function(){l.optOutModal.open=
!1};this.handleConfirmOptOut=function(){return a.__awaiter(l,void 0,void 0,function(){var c;return a.__generator(this,function(d){switch(d.label){case 0:return[4,(0,v.setRecycleSetting)(!1)];case 1:return c=d.sent(),c.success&&(this.portal.recycleBinEnabled=this.recycleEnabled=!1,this.optOutModal.open=!1,this.logEvent(!1),this.updateView()),[2]}})})}}p.prototype.render=function(){this.recycleEnabled=this.portal.recycleBinEnabled||!1;this.updateView();this.getOrgRecycleContents();this.goToListItem.innerHTML=
k.default.substitute(this.i18n.goToOrgRecycle,{linkStart:'\x3ccalcite-link href\x3d"content.html?contentType\x3drecycle#org" target\x3d"_blank"\x3e',linkEnd:"\x3c/calcite-link\x3e"})};p.prototype.updateView=function(){this.description="".concat(this.i18n.recycleDesc).concat(this.recycleEnabled?"":" ".concat(this.i18n.recycleRecommend));u.default.showHide(this.optInButton,!this.recycleEnabled);u.default.showHideAll([this.optOutButton,this.recycleStorageSection],this.recycleEnabled)};p.prototype.addEventListeners=
function(){this.own((0,b.default)(this.optInButton,"click",this.handleOptInClick),(0,b.default)(this.optOutButton,"click",this.handleOptOutClick),(0,b.default)(this.closeOptInModalButton,"click",this.handleCloseOptInModal),(0,b.default)(this.cancelOptOutModalButton,"click",this.handleCancelOptOut),(0,b.default)(this.confirmOptOutButton,"click",this.handleConfirmOptOut),(0,b.default)(this.optOutConfirmCheckbox,"calciteCheckboxChange",this.handleCheckboxChange))};p.prototype.logEvent=function(n){(0,v.logRecycleSettingEvent)(n,
this.telemetry,"org settings",n?void 0:this.reasonTextArea.value)};p.prototype.getOrgRecycleContents=function(){return a.__awaiter(this,void 0,void 0,function(){var n,q;return a.__generator(this,function(l){switch(l.label){case 0:return n="".concat(e.default.restBaseUrl,"content/portals/").concat(this.portal.id),[4,r.default.request({url:n,content:{foldersContent:!0,inRecycleBin:!0,start:1,num:0,sortField:"size",sortOrder:"desc"}})];case 1:return q=l.sent(),this.recycleCount.textContent=q.total,[2]}})})};
return p=a.__decorate([(0,g.default)(f.default)],p)}()})},"arcgisonline/pages/components/RecycleOrgOnboardModal/recycle-setting.service":function(){define("require exports tslib arcgisonline/sharing/util arcgisonline/esriGeowConfig ../../utils/strings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});M.logRecycleSettingEvent=M.setRecycleSetting=void 0;b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);M.setRecycleSetting=function(m){return a.__awaiter(this,
void 0,void 0,function(){var h;return a.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,b.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/update"),content:{recycleBinEnabled:m}},{usePost:!0})];case 1:return h=u.sent(),[2,h];case 2:return u.sent(),[2,{success:!1}];case 3:return[2]}})})};M.logRecycleSettingEvent=function(m,h,u,r){u={category:"items",label:"recycle bin",action:m?"opt in":"opt out",pageName:u,pageUrl:window.location.href};r&&!m&&
(u.details=f.default.stripHTML(r));null===h||void 0===h?void 0:h.logEvent(u)}})},"arcgisonline/pages/organization/widgets/settings/tabs/HostedLayersTab":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./BaseSettingsTab ../settings-shared ../../../../../tsutils/declareDecorator dojo/string ../rows/ToggleCacheHostedFeaturesRow".split(" "),function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);
return function(){function r(e,v){this.i18n=b.default.hostedLayersTab;this.TAB_KEY=f.SettingsTabKeys.HostedLayers}r.prototype.render=function(){this._createCachingDefaultsCard();this.inherited(arguments)};r.prototype._createCachingDefaultsCard=function(){var e="".concat(this.portal.helpBase).concat(this.portal.helpMap.m[""]||""),v=this.i18n.cachingDefaults,g=v.name,p=v.description;e=h.default.substitute(v.furtherInfo,{linkStart:'\x3ca id\x3d"caching-defaults-learn-more" href\x3d"'.concat(e,'" target\x3d"_blank"\x3e'),
linkEnd:"\x3c/a\x3e"});p="".concat(p,'\x3cdiv class\x3d"leader-half"\x3e').concat(e,"\x3c/div\x3e");this.createCard({name:g,description:p,keywords:["performance","speed","latency","stability","maxAge"],rows:[new u.default(a.__assign({},this.getDefaultRowParams()))]})};return r=a.__decorate([(0,m.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ToggleCacheHostedFeaturesRow":function(){define("require exports tslib dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ToggleCacheHostedFeaturesRow.html ../../../../dijit/ToggleSwitch ./SettingsRow ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=f.default;this.i18n=a.__assign(a.__assign({},this.i18n),k.default.hostedLayersTab.cachingDefaults.hostedFeatures);this.settingsProps=["servicesCacheMaxAge"]}r.prototype.render=function(){this.toggleSwitch=new m.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-toggle-switch"));
this.toggleSwitch.setChecked(!!this.portal.servicesCacheMaxAge,!0)};r.prototype.addEventListeners=function(){this.own((0,b.default)(this.toggleSwitch,"change",this.handleChange.bind(this)))};r.prototype.handleChange=function(){var e=this,v=this.toggleSwitch.checked(),g={featureCacheMaxAge:60},p={servicesCacheMaxAge:v?JSON.stringify(g):"",clearEmptyFields:!v};this.updateSetting(p,this.i18n.toggleError,this.i18n.toggleSuccess).then(function(){e.portal.servicesCacheMaxAge=g},function(){e.toggleSwitch.setChecked(!v,
!0)})};return r=a.__decorate([(0,u.default)(h.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/GroupsTab":function(){define("require exports tslib ./BaseSettingsTab ../cards/FeaturedGroupsCard ../rows/GroupsConfigurableAppsRow ../settings-shared ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);
return function(){function r(e,v){this.i18n=u.default.groupsTab;this.ONBOARD_COOKIE_KEY=this.TAB_KEY=m.SettingsTabKeys.Groups}r.prototype.render=function(){this.createOnboardCard(u.default.onboard.groupsDesc,"org-groups-onboard-card");this.createFeaturedGroupsCard();this.createConfigurableAppsCard();this.inherited(arguments)};r.prototype.createFeaturedGroupsCard=function(){var e=this.i18n.featuredGroups;this.createCustomCard(k.default,{id:"org-featured-groups-card",name:e.name,description:e.description,
keywords:["promotedGroups","highlightedGroups","showcase"]})};r.prototype.createConfigurableAppsCard=function(){var e=this.i18n.configurableApps,v=e.row;this.createCard({id:"org-groups-configurable-apps-card",name:e.name,description:e.description,rows:[new f.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:v.label,description:v.description,value:"",keywords:["customizable","applications","templates","webApplications","storyMaps"]}))]})};return r=a.__decorate([(0,h.default)(b.default)],
r)}()})},"arcgisonline/pages/organization/widgets/settings/cards/FeaturedGroupsCard":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/topic ../../../../../tsutils/declareDecorator ./SettingsCard ../rows/GroupRow ../../../../utils/alerts ../../../../utils/dom ../../../../pageUtil ../../UserDefaults/DefaultGroupsOverlay".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);
u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this._groupRows=[];this._featuredOrgGroups=[];this._featuredDefaultGroups=[];this.SAVE_TOPIC="featured-groups/save"}p.prototype.addEventListeners=function(){this.inherited(arguments);this.own(f.default.subscribe(this.SAVE_TOPIC,this._handleOverlaySave.bind(this)))};p.prototype.render=function(){this.showHeaderBtn(this.i18n.groupsTab.featuredGroups.manage);
this._title.textContent=this.name;this._description.textContent=this.description;this._renderGroupRows()};p.prototype.handleBtnClick=function(){(new g.default({title:this.i18n.groupsTab.featuredGroups.name,portal:this.portal,groups:this._featuredOrgGroups,saveTopic:this.SAVE_TOPIC,opener:this._headerBtn,closeOnScrimClick:!1})).open()};p.prototype._handleOverlaySave=function(n){n=n.map(function(q){return{id:q.id,title:q.title,owner:q.owner}});n=a.__spreadArray(a.__spreadArray([],this._featuredDefaultGroups,
!0),n,!0);this._updateFeaturedGroups(n,!0)};p.prototype._handleGroupRemove=function(n){var q=this,l=n.group,c=-1;this.portal.featuredGroups.some(function(w,t){w.title===l.title&&w.owner===l.owner&&(c=t);return-1!==c});if(-1<c){var d=a.__spreadArray([],this.portal.featuredGroups,!0);d.splice(c,1);this._updateFeaturedGroups(d).then(function(w){w.code||(n.showRemoved(),q._featuredOrgGroups.splice(c,1))})}};p.prototype.handleUndo=function(n){var q=a.__spreadArray(a.__spreadArray([],this.portal.featuredGroups,
!0),[n.group],!1);this._updateFeaturedGroups(q).then(function(l){l.code||n.hideRemoved()})};p.prototype._renderGroupRows=function(){var n=this;this._getGroups().then(function(q){n._content.innerHTML="";0<n._groupRows.length&&n._groupRows.forEach(function(c){c.destroy()});n._groupRows=[];n._featuredDefaultGroups=[];n._featuredOrgGroups=[];var l=n.portal.featuredGroups;l&&0<l.length&&(l.forEach(function(c){var d=q.filter(function(w){return c.id&&c.id===w.id||c.title===w.title&&c.owner===w.owner})[0];
d?n._featuredOrgGroups.push(d):n._featuredDefaultGroups.push(c);d=new u.default({portal:n.portal,group:d?d:c});n.own((0,k.default)(d,"remove",n._handleGroupRemove.bind(n)),(0,k.default)(d,"undo",n.handleUndo.bind(n)));n._groupRows.push(d)}),0<n._groupRows.length&&(e.default.appendChildren(n._groupRows.map(function(c){return c.domNode}),n._content),b.default.dropdown()))})};p.prototype._updateFeaturedGroups=function(n,q){var l=this,c={featuredGroups:JSON.stringify(n)},d=this.i18n.groupsTab.featuredGroups,
w=d.error,t=d.success;return this.updateSelf(c).then(function(z){z.code?r.default.showAlert("error",w):(l.portal.featuredGroups=n,r.default.showAlert("success",t),q&&l._renderGroupRows());return z},function(){r.default.showAlert("error",w)})};p.prototype._getGroups=function(){return v.default.fetchAllResources("".concat(this.portal.url,"community/groups"),{q:"orgid:".concat(this.portal.id)})};return p=a.__decorate([(0,m.default)(h.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/rows/GroupRow":function(){define("require exports tslib dojo/text!./templates/GroupRow.html dojo/i18n!../../../../../nls/org-settings dojo/on dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/icons ../../GroupIcon ../../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=b.default;this.icons=r.default;this.i18n=k.default.common;this.hideActions=!1}p.prototype.postCreate=function(){this.inherited(arguments);this.render()};p.prototype.showRemoved=function(){v.default.hideNode(this.removeBtn);
v.default.showNode(this.removedContainer);this.itemInfo.classList.add("card-list-row__info--disabled")};p.prototype.hideRemoved=function(){v.default.showNode(this.removeBtn);v.default.hideNode(this.removedContainer);this.itemInfo.classList.remove("card-list-row__info--disabled")};p.prototype.render=function(){var n=this;new e.default({portal:this.portal,group:this.group,scale:"m"},this.domNode.querySelector(".js-thumb"));this.hideActions?v.default.hideNode(this.removeBtn):this.own((0,f.default)(this.removeBtn,
"click",function(){n.emit("remove",n)}),(0,f.default)(this.undoBtn,"click",function(){n.emit("undo",n)}))};return p=a.__decorate([(0,g.default)(u.default,h.default,m.default)],p)}()})},"arcgisonline/pages/organization/widgets/UserDefaults/DefaultGroupsOverlay":function(){define("require exports tslib esri/request dojo/text!./templates/DefaultGroupsOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/string dojo/topic dojo/query dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/alerts arcgisonline/pages/utils/organization ../../../../sharing/dijit/_LevelAwareMixin arcgis-components/wrappers/GroupBrowser arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);l=a.__importDefault(l);return function(){function c(d,w){this.title=f.default.myOrganization.defaultsTab.defaultGroups;this.i18n=f.default;this.overlayContents=m.default.substitute(k.default,
{i18n:this.i18n});this.constrain=!0;this.saveTopic="default-groups/save";this.extraQuery="";this.shouldDisable=this.shouldDisable.bind(this)}c.prototype.open=function(){this.inherited(arguments);this._initGroupBrowser()};c.prototype.close=function(){g.default.clearAlerts();this.inherited(arguments)};c.prototype.handlePrimary=function(){h.default.publish(this.saveTopic,this._selectedGroups);this.close()};c.prototype.shouldDisable=function(d){var w=this,t,z=!1;this.defaultUserType?z=this.defaultUserType.level!==
this.LICENSE_LEVELS.TWO:this.members&&(z=this.members.some(function(y){return y.licenseType.level!==w.LICENSE_LEVELS.TWO}));var x=!1;this.defaultRole?x=-1===(null===(t=this.defaultRole.privileges)||void 0===t?void 0:t.indexOf("portal:user:createItem")):this.members&&(x=this.members.some(function(y){var A,B;return-1===(null===(B=null===(A=y.memberRole)||void 0===A?void 0:A.privileges)||void 0===B?void 0:B.indexOf("portal:user:createItem"))}));return-1<d.capabilities.indexOf("updateitemcontrol")&&(z||
x)};c.prototype._initGroupBrowser=function(){var d=this;this._groupBrowser=new q.GroupBrowserWrapper(this.domNode.querySelector(".js-group-browser"),{apiVersion:3,portal:this.portal,portalUser:this.portal.portalUser,request:b.default,initialState:a.__assign(a.__assign({},q.initialState),{config:a.__assign(a.__assign({},q.initialState.config),{baseQ:"orgid:".concat(this.portal.id,' AND (-owner:"esri_nav" -owner:"esri_boundaries" -owner:"esri_demographics" -owner:"esri_livingatlas") ').concat(this.extraQuery),
shouldDisable:this.shouldDisable,disabledText:this.i18n.myOrganization.defaultsTab.notCompatibleWithUserTypeRole,shareMode:"INVITE",enableFiltering:!0}),groups:a.__assign(a.__assign({},q.initialState.groups),{selectorItems:[this.portal.portalUser]}),parameters:a.__assign(a.__assign({},q.initialState.parameters),{filter:a.__assign(a.__assign({},q.initialState.parameters.filter),{currentUsername:this.portal.portalUser.username})}),ui:a.__assign(a.__assign({},q.initialState.ui),{filter:{expanded:!p.default.isMobile()}}),
utils:a.__assign(a.__assign({},q.initialState.utils),{portalUser:this.portal.portalUser})}),onChange:this._handleGroupChange.bind(this)});if(this.groups)if(0<this.groups.length)this._groupBrowser.selectGroups(this.groups);else{var w=this._groupBrowser.getState().groups.selectedGroups;if(w){var t=Object.keys(w).map(function(z){return w[z].group.id});this._groupBrowser.deselectGroups(t)}}this.own((0,u.default)(".js-group-browser",this.domNode).on("click",function(z){var x;if(z=(0,u.default)(z.target).closest(".gcard-gcc__container"))z=
z[0],(null===(x=null===z||void 0===z?void 0:z.classList)||void 0===x?0:x.contains("gcard-gcc__container--disabled"))&&g.default.showAlert("warning",d.i18n.myOrganization.defaultsTab["groupNotCompatibleWith".concat(d.members?"Members":"UserType")],{cssClasses:"overlay__alert"})}))};c.prototype._handleGroupChange=function(d){this._selectedGroups=d};return c=a.__decorate([(0,l.default)(e.default,r.default,v.default,n.default)],c)}()})},"arcgis-components/wrappers/GroupBrowser":function(){define(["../Component",
"../GroupBrowser/index"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&
(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=944)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=
p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&
(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}
function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],
done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,
d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});
k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};
Object.create;Object.create},125:function(a,b,k){k.d(b,"a",function(){return m});k.d(b,"b",function(){return h});var f=k(1);a=k(15);var m=function(u,r){var e;return r.thumbnail&&(e="".concat(u.restUrl,"/community/groups/").concat(r.id,"/info/").concat(r.thumbnail).concat(u.credential?"?token\x3d".concat(u.credential.token):"")),e},h=Object(a.a)(function(u,r){return Object(f.a)(Object(f.a)({},r),{thumbURI:m(u,r)})})},133:function(a,b,k){k.d(b,"a",function(){return f});k.d(b,"d",function(){return u});
k.d(b,"c",function(){return r});k.d(b,"e",function(){return e});k.d(b,"f",function(){return v});var f,m=k(1),h=k(27);!function(g){g.LOADING="loading";g.LOADED="loaded";g.FAILED="failed"}(f||(f={}));var u=function(g){var p=g.selectedGroups,n=g.selectorItems;return 0===n.length?Object.keys(p).map(function(q){return p[q].group}):Object.keys(p).filter(function(q){return e(p[q],n)}).map(function(q){return p[q].group})},r=function(g){var p=g.initialSelectedGroups,n=g.selectedGroups,q=Object.keys(n).map(function(l){return n[l].group.id});
return Object.keys(p).map(function(l){return p[l].group.id}).filter(function(l){return 0>q.indexOf(l)}).map(function(l){return p[l].group})},e=function(g,p){return!g.selectedByIds||g.selectedByIds.length===p.length},v={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:f.LOADING,total:0,hasGroups:!0};b.b=function(g,p){switch(void 0===g&&(g=v),p.type){case h.a.DESELECT_GROUPS:return Object(m.a)(Object(m.a)({},g),{selectedGroups:p.payload.reduce(function(q,l){l=l.id;
q[l];return Object(m.f)(q,["symbol"==typeof l?l:l+""])},g.selectedGroups)});case h.a.REVERT_GROUPS:return p.payload?Object(m.a)(Object(m.a)({},g),{selectedGroups:p.payload.reduce(function(q,l){var c;if(g.initialSelectedGroups[l.id])return Object(m.a)(Object(m.a)({},q),((c={})[l.id]=g.initialSelectedGroups[l.id],c));l=l.id;q[l];return Object(m.f)(q,["symbol"==typeof l?l:l+""])},g.selectedGroups)}):Object(m.a)(Object(m.a)({},g),{selectedGroups:Object(m.a)({},g.initialSelectedGroups)});case h.a.SELECT_GROUPS:var n=
g.selectorItems.map(function(q){return q.id});return Object(m.a)(Object(m.a)({},g),{selectedGroups:p.payload.reduce(function(q,l){var c;return Object(m.a)(Object(m.a)({},q),((c={})[l.group.id]=Object(m.a)({selectedByIds:n},l),c))},g.selectedGroups)});case h.a.SET_INITIAL_GROUPS:return p=p.payload.reduce(function(q,l){var c;return Object(m.a)(Object(m.a)({},q),((c={})[l.group.id]=l,c))},{}),Object(m.a)(Object(m.a)({},g),{selectedGroups:p,initialSelectedGroups:Object(m.a)({},p)});case h.a.SET_SELECTOR_ITEMS:return Object(m.a)(Object(m.a)({},
g),{selectorItems:p.payload});case h.a.CLEAR_SELECTION:return Object(m.a)(Object(m.a)({},g),{selectedGroups:{}});case h.a.LOADING_GROUPS:return Object(m.a)(Object(m.a)({},g),{status:f.LOADING});case h.a.LOAD_GROUPS_SUCCESS:return Object(m.a)(Object(m.a)({},g),{displayGroups:p.payload.results,total:p.payload.total,status:f.LOADED});case h.a.LOAD_GROUPS_FAIL:return Object(m.a)(Object(m.a)({},g),{displayGroups:[],status:f.FAILED});case h.a.SET_HAS_GROUPS:return Object(m.a)(Object(m.a)({},g),{hasGroups:p.payload});
default:return g}}},139:function(a,b,k){k.d(b,"d",function(){return r});k.d(b,"e",function(){return e});k.d(b,"b",function(){return v});k.d(b,"c",function(){return g});k.d(b,"a",function(){return p});k.d(b,"f",function(){return n});var f=k(1),m=k(184),h=k(156),u=k(69),r=function(q){return 1<q.length&&Object(h.a)(),{type:u.a.SELECT_GROUPS,payload:q.map(function(l){return{group:Object(m.c)(l)}})}},e=function(q){return{type:u.a.SET_INITIAL_GROUPS,payload:q.map(function(l){return Object(f.a)(Object(f.a)({},
l),{group:Object(m.c)(l.group)})})}},v=function(q){return 1<q.length&&Object(h.b)(),{type:u.a.DESELECT_GROUPS,payload:q}},g=function(q){return{type:u.a.REVERT_GROUPS,payload:q}},p=function(){return Object(h.c)(),{type:u.a.CLEAR_SELECTION}},n=function(q){return{type:u.a.SET_SELECTOR_ITEMS,payload:q}}},142:function(a,b,k){k.d(b,"a",function(){return m});var f=k(1);a=k(15);var m=Object(a.a)(function(h,u){var r=Object(f.a),e=Object(f.a)({},u);h=u.thumbnail?"".concat(h.restUrl,"/community/users/").concat(u.username,
"/info/").concat(u.thumbnail).concat(h.credential?"?token\x3d".concat(h.credential.token):""):void 0;return r(e,{thumbURI:h})})},15:function(a,b,k){function f(h){return function r(){for(var e=this,v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];return v.length>=h.length?h.call.apply(h,Object(m.g)([this],v,!1)):function(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];return r.call.apply(r,Object(m.g)(Object(m.g)([e],v,!1),p,!1))}}}k.d(b,"a",function(){return f});var m=k(1)},151:function(a,
b,k){k.d(b,"b",function(){return q});k.d(b,"a",function(){return c});var f=k(1),m=k(184),h=k(33),u=k(156),r=k(59),e=k(69),v=k(28),g=k(62),p=k(41),n=k(25),q=function(B,D){l(D()).then(function(C){var E=D();E=Object(r.b)(E)?E:E.gbState;var H=E.utils;E.ui.focus.focusSelectAll&&Object(u.c)();B({type:e.a.LOAD_GROUPS_SUCCESS,payload:Object(f.a)(Object(f.a)({},C),{results:C.results.map(function(G){return Object(m.b)(H.portal,G)})})})}).catch(function(C){var E=D();(Object(r.b)(E)?E:E.gbState).ui.focus.focusSelectAll&&
Object(u.c)();B({type:e.a.LOAD_GROUPS_FAIL,payload:C})})},l=function(B){B=Object(r.b)(B)?B:B.gbState;var D=B.utils,C=D.request,E=D.portal,H=B.config;D=H.groupsPerPage;var G=H.withinShare,F=(H.withinAppConfig,B.parameters);H=F.filter;F=F.sort;var I=B.ui.page.currentPageNumber,J={q:A(B),num:D,sortField:F.field,sortOrder:F.order,start:(I-1)*D+1};return G&&(J.searchUserAccess="groupMember",J.searchUserName=H.currentUsername),H.designationFilter!==p.b.orgSettings||t(E)?new v.Promise(function(K,P){Object(h.g)(C,
E,J).then(K,P)}):new v.Promise(function(K){K({query:J.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},c=function(B){var D=B.user;B=B.state;B=Object(r.b)(B)?B:B.gbState;var C=B.utils,E=C.request,H=C.portal;B=Object(f.a)(Object(f.a)({},B),{parameters:Object(f.a)(Object(f.a)({},B.parameters),{filter:Object(f.a)(Object(f.a)({},B.parameters.filter),{currentUsername:D.username})})});var G={q:A(B),num:100,searchUserAccess:"groupMember",searchUserName:D.username};return(new v.Promise(function(F,I){return Object(h.g)(E,
H,G).then(function(J){if(-1!==J.nextStart){var K=Math.ceil(J.total/100)-1,P=[J.results];J=function(S){P.push(new v.Promise(function(L,N){var O=100*(S+1)+1;Object(h.g)(E,H,Object(f.a)(Object(f.a)({},G),{start:O})).then(function(Q){L(Q.results)},N)}))};for(var T=0;T<K;T++)J(T);v.Promise.all(P).then(function(S){F(Object(g.b)(S))})}else F(J.results)},I)})).catch(function(F){throw F;})},d=function(B){var D,C,E=B.shareMode,H=B.currentUsername,G=B.portalUser,F=B.userGroups;B=B.isPrivate;var I=[];if(F){var J=
[];E===n.d.ADMIN&&(null===(D=F[H])||void 0===D?0:D.length)&&H!==G.username&&(J=Object(f.g)([],F[H],!0));E===n.d.ADMIN&&B||F[G.username].forEach(function(K){J.some(function(P){return P.id===K.id})||J.push(K)});null==J||J.forEach(function(K){var P,T=null===(P=K.userMembership)||void 0===P?void 0:P.memberType;!K.isViewOnly||"owner"!==T&&"admin"!==T||I.push(K.id)})}I.length&&(C="(isviewonly:false OR id:(".concat(I.join(" OR "),"))"));D=I.length?" OR id:(".concat(I.join(" OR "),")"):"";switch(E){case n.d.DEFAULT:return C||
"(owner:".concat(H," OR isviewonly:false)");case n.d.GROUP:return"owner:".concat(H," -capabilities:updateitemcontrol");case n.d.ADMIN:return G.username===H?"(isviewonly:false".concat(D," OR owner:").concat(G.username,") -capabilities:updateitemcontrol"):"(owner:".concat(H," OR isviewonly:false").concat(D,")");default:return""}},w=function(B,D){0!==(null==B?void 0:B.indexOf("id:"))||-1<D.indexOf(B)||D.push(B)},t=function(B){var D,C,E,H,G,F=[],I=[B.featuredItemsGroupQuery,B.basemapGalleryGroupQuery,
B.templatesGroupQuery,B["2DStylesGroupQuery"],B.stylesGroupQuery,B.analysisLayersGroupQuery,B.galleryTemplatesGroupQuery];if(B.hasModernHomePageEnabled){var J=(null===(C=null===(D=B.homePageConfig)||void 0===D?void 0:D.content)||void 0===C?void 0:C.filter(function(K){return"gallery"===K.type&&!!K.groupId}))||[];0<J.length&&J.forEach(function(K){K="id:".concat(K.groupId);w(K,F)})}else I.push(B.homePageFeaturedContent);return I.forEach(function(K){w(K,F)}),null===(E=B.featuredGroups)||void 0===E||E.forEach(function(K){if(K=
K.id)K="id:".concat(K),w(K,F)}),null===(G=null===(H=B.userDefaults)||void 0===H?void 0:H.groups)||void 0===G||G.forEach(function(K){K="id:".concat(K);w(K,F)}),0<F.length?"(".concat(F.join(" OR "),")"):""},z=function(B){var D=B.portal;switch(B.designationFilter){case p.b.openData:return"isopendata:true";case p.b.updateGroups:return"capabilities:updateitemcontrol";case p.b.distributed:return"capabilities:distributed";case p.b.administrative:return"isleavingdisallowed:true";case p.b.orgSettings:return t(D)||
"";default:return""}},x=function(B){var D=B.portal,C=B.username,E=B.currentUsername,H=B.userType,G=B.withinAppConfig;C=B.shareMode===n.d.ADMIN&&E||C;G=D.isPortal&&G?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(B.ownerFilter){case p.d.itemOwner:return"owner:".concat(C," ").concat(G);case p.d.inOrg:return"-owner:".concat(C," orgid:").concat(D.id," ").concat(G);case p.d.outsideOrg:return H===n.e.PUBLIC?"-owner:".concat(C," ").concat(G):"".concat("(orgid: [0 TO \\{])",
" -orgid:").concat(D.id," ").concat(G);default:return G}},y=function(B){return B?"".concat((D="created",E=(C=B).start,H=C.end,"".concat(D,": [").concat(E," TO ").concat(H,"]"))):"";var D,C,E,H},A=function(B){var D,C,E,H=B.utils,G=H.portal;H=H.portalUser;var F=B.config,I=F.shareMode,J=F.userType,K=F.withinAppConfig,P=F.hasIndoorsSpaces,T=F.userGroups,S=B.parameters.filter,L=S.searchString,N=S.designationFilter,O=S.membershipFilter,Q=S.dateCreatedFilter,V=S.currentUsername;S=S.ownerFilter;return["".concat(F.baseQ,
" ").concat(L),d({shareMode:I,currentUsername:V,portalUser:H,userGroups:T,isPrivate:"private"===(null===(E=null===(C=null===(D=B.groups)||void 0===D?void 0:D.selectorItems)||void 0===C?void 0:C[0])||void 0===E?void 0:E.access)}),P?"-capabilities:distributed":z({designationFilter:N,portal:G}),P?"membershipaccess:org":O?"anyOrg"===O?"-membershipaccess:org -membershipaccess:collaboration":"membershipaccess:".concat(O):"",y(Q),x({ownerFilter:S,portal:G,username:H.username,currentUsername:V,shareMode:I,
userType:J,withinAppConfig:K})].filter(function(X){return X}).join(" ").trim()}},156:function(a,b,k){function f(){u("gb__select-all-input")}function m(){u("gb__clear-selection-btn")}function h(){setTimeout(function(){var r=document.querySelector(".gcard-gcc__container");r&&(r=r.querySelector(".btn-2018check__input"))&&r.focus()},50)}function u(r){setTimeout(function(){var e=document.querySelector("#".concat(r));e&&e.focus()},50)}k.d(b,"c",function(){return f});k.d(b,"a",function(){return m});k.d(b,
"b",function(){return h})},165:function(a,b){b=function(){return this}();try{b=b||(new Function("return this"))()}catch(k){"object"==typeof window&&(b=window)}a.exports=b},17:function(a,b){a.exports=U},172:function(a,b,k){var f;k.d(b,"a",function(){return f});(f||(f={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},180:function(a,b,k){k.d(b,"a",function(){return w});var f=k(1),m=k(59),h=k(139),u=k(151),r=k(297),e=k(298),v=k(186),g=k(33),p=k(28),n=k(27),q=k(62),l=k(69),c=k(192),d=k(61),w=function(z){return function(x,
y){var A=y(),B=(Object(m.b)(A)?A:A.gbState).utils,D=B.portal;B=B.portalUser;if(!(z&&z.selectorItems&&0<z.selectorItems.length))return x(u.b),p.Promise.resolve();var C=z.selectorItems,E=z.userType;x({type:n.a.SET_SHARE_MODE,payload:z.shareMode});x({type:n.a.SET_USER_TYPE,payload:E});x(Object(h.f)(C));D=Object(d.b)({user:B,items:C,portal:D});var H=B.username===D.username?[B]:[B,D];return 1<H.length&&!z.anySelectorItemsPrivate&&x({type:n.a.ENABLE_USER_TOGGLE}),x(Object(v.c)(H)),x(Object(v.h)(D.username)),
void 0===A.config.hasTrustedOrgs&&x(r.a),Object(e.a)(y(),D).then(function(G){return G&&x({type:c.a.USER_DETAILS_LOADED,payload:G}),x(u.b),p.Promise.all(H.map(function(F){return Object(u.a)({user:F,state:y()})})).then(function(F){F=Object(q.b)(F);var I=F.map(function(J){return J.id});F=F.filter(function(J,K){return I.indexOf(J.id)===K});return x(t(F))})})}},t=function(z){return function(x,y){return new p.Promise(function(A,B){var D=y();D=Object(m.b)(D)?D:D.gbState;var C=D.utils,E=C.portal,H=C.request,
G=Object(g.b)(D.groups.selectorItems);D=Object(g.a)(z).map(function(F){return Object(g.i)({itemIds:G,groupIds:Object(g.b)(F),portal:E,request:H})});p.Promise.all(D).then(function(F){var I=F.reduce(function(K,P){return Object(f.a)(Object(f.a)({},K),P)},{}),J=Object.keys(I);F=z.filter(function(K){return 0<=J.indexOf(K.id)}).map(function(K){return{group:K,selectedByIds:I[K.id].items.map(function(P){return P.itemId})}});x({type:l.a.SET_HAS_GROUPS,payload:0<z.length});x(Object(h.e)(F));A()}).catch(B)})}}},
184:function(a,b,k){k.d(b,"b",function(){return u});k.d(b,"c",function(){return r});k.d(b,"a",function(){return e});var f=k(64);a=k(7);var m=k(97),h=k(125),u=function(v,g){return Object(f.a)(Object(h.b)(v))(g)},r=Object(f.a)(Object(a.e)("thumbURI")),e=function(v){var g=v.initialSelectedByIds;return!Object(m.a)(v.selectedBy.map(function(p){return p.id}),g)}},186:function(a,b,k){k.d(b,"b",function(){return m});k.d(b,"g",function(){return h});k.d(b,"h",function(){return u});k.d(b,"e",function(){return r});
k.d(b,"f",function(){return e});k.d(b,"d",function(){return v});k.d(b,"c",function(){return g});k.d(b,"a",function(){return p});var f=k(86),m=function(n){return{type:f.a.SET_SEARCH_STRING,payload:n}},h=function(n){return{type:f.a.UPDATE_OWNER_FILTER,payload:n}},u=function(n){return{type:f.a.UPDATE_USERNAME_FILTER,payload:n}},r=function(n){return{type:f.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:n}},e=function(n){return{type:f.a.UPDATE_MEMBERSHIP_FILTER,payload:n}},v=function(n){return{type:f.a.UPDATE_CREATED_ON_FILTER,
payload:{section:n.section,created:n.created}}},g=function(n){return{type:f.a.SET_USERS,payload:n}},p=function(n){return{type:f.a.CLEAR_FILTERS,payload:n}}},189:function(a,b){function k(){throw Error("setTimeout has not been defined");}function f(){throw Error("clearTimeout has not been defined");}function m(c){if(v===setTimeout)return setTimeout(c,0);if((v===k||!v)&&setTimeout)return v=setTimeout,setTimeout(c,0);try{return v(c,0)}catch(d){try{return v.call(null,c,0)}catch(w){return v.call(this,c,
0)}}}function h(){q&&p&&(q=!1,p.length?n=p.concat(n):l=-1,n.length&&u())}function u(){if(!q){var c=m(h);q=!0;for(var d=n.length;d;){p=n;for(n=[];++l<d;)p&&p[l].run();l=-1;d=n.length}p=null;q=!1;(function(w){if(g===clearTimeout)return clearTimeout(w);if((g===f||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(w);try{g(w)}catch(t){try{return g.call(null,w)}catch(z){return g.call(this,w)}}})(c)}}function r(c,d){this.fun=c;this.array=d}function e(){}a=a.exports={};try{var v="function"==typeof setTimeout?
setTimeout:k}catch(c){v=k}try{var g="function"==typeof clearTimeout?clearTimeout:f}catch(c){g=f}!0;var p,n=[],q=!1,l=-1;a.nextTick=function(c){var d=Array(arguments.length-1);if(1<arguments.length)for(var w=1;w<arguments.length;w++)d[w-1]=arguments[w];n.push(new r(c,d));1!==n.length||q||m(u)};r.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=e;a.addListener=e;a.once=e;a.off=e;a.removeListener=e;a.removeAllListeners=
e;a.emit=e;a.prependListener=e;a.prependOnceListener=e;a.listeners=function(c){return[]};a.binding=function(c){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(c){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},192:function(a,b,k){var f;k.d(b,"a",function(){return f});(f||(f={})).USER_DETAILS_LOADED="USER_LOADED"},202:function(a,b,k){var f;k.d(b,"a",function(){return f});(function(m){m.SET_PAGE="SET_PAGE";m.TOGGLE_SORT_DROPDOWN=
"TOGGLE_SORT_DROPDOWN";m.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(f||(f={}))},205:function(a,b,k){k.d(b,"b",function(){return h});var f=k(1),m=k(27),h={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};b.a=function(u,r){switch(void 0===u&&(u=h),r.type){case m.a.ENABLE_USER_TOGGLE:return Object(f.a)(Object(f.a)({},u),{enableUserToggle:!0});case m.a.SET_SHARE_MODE:return Object(f.a)(Object(f.a)({},
u),{shareMode:r.payload});case m.a.SET_USER_TYPE:return Object(f.a)(Object(f.a)({},u),{userType:r.payload});case m.a.TRUSTED_ORGS_LOADED:return Object(f.a)(Object(f.a)({},u),{hasTrustedOrgs:0<r.payload.length});case m.a.USER_DETAILS_LOADED:return Object(f.a)(Object(f.a)({},u),{userGroups:r.payload});case m.a.SET_SELECTOR_ITEMS:return r=!!r.payload.find(function(e){var v;return-1<(null===(v=null==e?void 0:e.typeKeywords)||void 0===v?void 0:v.indexOf("EditExtensionIndoorsSpaces"))}),Object(f.a)(Object(f.a)({},
u),{hasIndoorsSpaces:r});default:return u}}},206:function(a,b,k){k.d(b,"b",function(){return m});a=k(17);var f=k(207);k=k(41);var m={sort:f.b,filter:k.f};b.a=Object(a.combineReducers)({sort:f.a,filter:k.e})},207:function(a,b,k){k.d(b,"b",function(){return h});var f=k(1),m=k(27),h={field:"title",order:"asc"},u={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};b.a=function(r,e){switch(void 0===r&&(r=h),e.type){case m.a.CHANGE_SORT_FIELD:return Object(f.a)(Object(f.a)({},
r),{field:e.payload,order:u[e.payload]});case m.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},r),{order:e.payload});default:return r}}},208:function(a,b,k){k.d(b,"b",function(){return u});a=k(17);var f=k(209),m=k(210),h=k(211);k=k(212);var u={page:f.b,sort:m.b,focus:h.b,filter:k.b};b.a=Object(a.combineReducers)({page:f.a,sort:m.a,focus:h.a,filter:k.a})},209:function(a,b,k){k.d(b,"b",function(){return h});var f=k(1),m=k(27),h={currentPageNumber:1};b.a=function(u,r){switch(void 0===u&&(u=h),
r.type){case m.a.CLEAR_FILTERS:case m.a.UPDATE_USERNAME_FILTER:case m.a.UPDATE_OWNER_FILTER:case m.a.UPDATE_CREATED_ON_FILTER:case m.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:1});case m.a.SET_PAGE:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:r.payload});case m.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},u),{currentPageNumber:r.payload.num>r.payload.total?1:Math.ceil(r.payload.start/r.payload.num)});case m.a.LOAD_GROUPS_FAIL:return Object(f.a)(Object(f.a)({},
u),{currentPageNumber:1});default:return u}}},210:function(a,b,k){k.d(b,"b",function(){return m});var f=k(27),m=!1;b.a=function(h,u){switch(void 0===h&&(h=m),u.type){case f.a.CHANGE_SORT_FIELD:case f.a.CHANGE_SORT_ORDER:case f.a.TOGGLE_SORT_DROPDOWN:return!h;default:return h}}},211:function(a,b,k){k.d(b,"b",function(){return h});var f=k(1),m=k(27),h={focusSelectAll:!1};b.a=function(u,r){switch(r.type){case m.a.LOAD_GROUPS_FAIL:case m.a.LOAD_GROUPS_SUCCESS:return Object(f.a)(Object(f.a)({},u),{focusSelectAll:!1});
case m.a.CHANGE_SORT_FIELD:case m.a.CHANGE_SORT_ORDER:return Object(f.a)(Object(f.a)({},u),{focusSelectAll:!0});default:return u}}},212:function(a,b,k){k.d(b,"b",function(){return u});var f=k(1),m=k(27),h=k(41),u={expanded:!1};b.a=function(r,e){switch(e.type){case m.a.CLEAR_FILTERS:switch(e.payload){case void 0:case h.a.DATE_CREATED:return Object(f.a)(Object(f.a)({},r),{dateCreatedSelectedSection:void 0});default:return r}case m.a.TOGGLE_EXPANDED_FILTERS:return Object(f.a)(Object(f.a)({},r),{expanded:!r.expanded});
case m.a.UPDATE_CREATED_ON_FILTER:return Object(f.a)(Object(f.a)({},r),{dateCreatedSelectedSection:e.payload.section});default:return r}}},213:function(a,b,k){k.d(b,"b",function(){return m});var f=k(99),m={portal:{},portalUser:{},request:function(h){return null}};b.a=function(h,u){return void 0===h&&(h=m),u.type,h.portal.portalHostname&&!h.portal.baseUrl&&(h.portal.baseUrl=Object(f.a)(h.portal)),h}},25:function(a,b,k){var f,m,h,u,r;k.d(b,"b",function(){return f});k.d(b,"a",function(){return m});k.d(b,
"c",function(){return h});k.d(b,"e",function(){return u});k.d(b,"d",function(){return r});(function(e){e.org="org";e.private="private";e.public="public";e.shared="shared"})(f||(f={}));(function(e){e.LOADING="LOADING";e.SHARE="SHARE";e.GROUP_BROWSER="GROUP_BROWSER";e.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(m||(m={}));(function(e){e.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";e.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";e.REVERT_GROUPS="REVERT_GROUPS";e.EDITABLE_LAYERS="EDITABLE_LAYERS";
e.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";e.NONE="NONE";e.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";e.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(h||(h={}));(function(e){e.ORG="ORG";e.PUBLIC="PUBLIC"})(u||(u={}));(function(e){e.DEFAULT="DEFAULT";e.ADMIN="ADMIN";e.GROUP="GROUP";e.INVITE="INVITE"})(r||(r={}))},252:function(a,b){a.exports=M},27:function(a,b,k){k.d(b,"a",function(){return r});var f;a=k(1);b=k(202);var m=k(69),h=k(172),u=k(86);k=k(192);!function(e){e.ENABLE_USER_TOGGLE=
"ENABLE_USER_TOGGLE";e.SET_SHARE_MODE="SET_SHARE_MODE";e.SET_USER_TYPE="SET_USER_TYPE"}(f||(f={}));var r=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},b.a),m.a),u.a),f),h.a),k.a)},28:function(a,b,k){(function(f,m){a.exports=function(){function h(){var O=setTimeout;return function(){return O(u,1)}}function u(){for(var O=0;O<x;O+=2)(0,G[O])(G[O+1]),G[O]=void 0,G[O+1]=void 0;x=0}function r(O,Q){var V=this,X=new this.constructor(v);void 0===X[T]&&t(X);var Z=V._state;if(Z){var ca=
arguments[Z-1];B(function(){return w(Z,X,ca,V._result)})}else c(V,X,O,Q);return X}function e(O){if(O&&"object"==typeof O&&O.constructor===this)return O;var Q=new this(v);return p(Q,O),Q}function v(){}function g(O,Q,V){Q.constructor===O.constructor&&V===r&&Q.constructor.resolve===e?function(X,Z){1===Z._state?q(X,Z._result):2===Z._state?l(X,Z._result):c(Z,void 0,function(ca){return p(X,ca)},function(ca){return l(X,ca)})}(O,Q):void 0===V?q(O,Q):"function"==typeof V?function(X,Z,ca){B(function(R){var Y=
!1,ba=function(aa,W,da,ea){try{aa.call(W,da,ea)}catch(ja){return ja}}(ca,Z,function(aa){Y||(Y=!0,Z!==aa?p(R,aa):q(R,aa))},function(aa){Y||(Y=!0,l(R,aa))},R._label);!Y&&ba&&(Y=!0,l(R,ba))},X)}(O,Q,V):q(O,Q)}function p(O,Q){if(O===Q)l(O,new TypeError("You cannot resolve a promise with itself"));else if(X=typeof(V=Q),null===V||"object"!==X&&"function"!==X)q(O,Q);else{V=void 0;try{V=Q.then}catch(Z){return void l(O,Z)}g(O,Q,V)}var V,X}function n(O){O._onerror&&O._onerror(O._result);d(O)}function q(O,Q){void 0===
O._state&&(O._result=Q,O._state=1,0!==O._subscribers.length&&B(d,O))}function l(O,Q){void 0===O._state&&(O._state=2,O._result=Q,B(n,O))}function c(O,Q,V,X){var Z=O._subscribers,ca=Z.length;O._onerror=null;Z[ca]=Q;Z[ca+1]=V;Z[ca+2]=X;0===ca&&O._state&&B(d,O)}function d(O){var Q=O._subscribers,V=O._state;if(0!==Q.length){for(var X=void 0,Z=void 0,ca=O._result,R=0;R<Q.length;R+=3)X=Q[R],Z=Q[R+V],X?w(V,X,Z,ca):Z(ca);O._subscribers.length=0}}function w(O,Q,V,X){var Z="function"==typeof V,ca=void 0,R=void 0,
Y=!0;if(Z){try{ca=V(X)}catch(ba){Y=!1,R=ba}if(Q===ca)return void l(Q,new TypeError("A promises callback cannot return that same promise."))}else ca=X;void 0!==Q._state||(Z&&Y?p(Q,ca):!1===Y?l(Q,R):1===O?q(Q,ca):2===O&&l(Q,ca))}function t(O){O[T]=S++;O._state=void 0;O._result=void 0;O._subscribers=[]}var z=Array.isArray?Array.isArray:function(O){return"[object Array]"===Object.prototype.toString.call(O)},x=0,y=void 0,A=void 0,B=function(O,Q){G[x]=O;G[x+1]=Q;2===(x+=2)&&(A?A(u):P())},D="undefined"!=
typeof window?window:void 0,C=D||{};C=C.MutationObserver||C.WebKitMutationObserver;var E="undefined"==typeof self&&void 0!==f&&"[object process]"==={}.toString.call(f),H="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,G=Array(1E3),F,I,J,K,P=void 0;E?P=function(){return f.nextTick(u)}:C?(I=0,J=new C(u),K=document.createTextNode(""),J.observe(K,{characterData:!0}),P=function(){K.data=I=++I%2}):H?((F=new MessageChannel).port1.onmessage=u,P=
function(){return F.port2.postMessage(0)}):P=void 0===D?function(){try{var O=Function("return this")().require("vertx");return void 0!==(y=O.runOnLoop||O.runOnContext)?function(){y(u)}:h()}catch(Q){return h()}}():h();var T=Math.random().toString(36).substring(2),S=0,L=function(){function O(Q,V){this._instanceConstructor=Q;this.promise=new Q(v);this.promise[T]||t(this.promise);z(V)?(this.length=V.length,this._remaining=V.length,this._result=Array(this.length),0===this.length?q(this.promise,this._result):
(this.length=this.length||0,this._enumerate(V),0===this._remaining&&q(this.promise,this._result))):l(this.promise,Error("Array Methods must be provided an Array"))}return O.prototype._enumerate=function(Q){for(var V=0;void 0===this._state&&V<Q.length;V++)this._eachEntry(Q[V],V)},O.prototype._eachEntry=function(Q,V){var X=this._instanceConstructor,Z=X.resolve;if(Z===e){var ca=Z=void 0,R=!1;try{Z=Q.then}catch(Y){R=!0,ca=Y}Z===r&&void 0!==Q._state?this._settledAt(Q._state,V,Q._result):"function"!=typeof Z?
(this._remaining--,this._result[V]=Q):X===N?(X=new X(v),R?l(X,ca):g(X,Q,Z),this._willSettleAt(X,V)):this._willSettleAt(new X(function(Y){return Y(Q)}),V)}else this._willSettleAt(Z(Q),V)},O.prototype._settledAt=function(Q,V,X){var Z=this.promise;void 0===Z._state&&(this._remaining--,2===Q?l(Z,X):this._result[V]=X);0===this._remaining&&q(Z,this._result)},O.prototype._willSettleAt=function(Q,V){var X=this;c(Q,void 0,function(Z){return X._settledAt(1,V,Z)},function(Z){return X._settledAt(2,V,Z)})},O}(),
N=function(){function O(Q){this[T]=S++;this._result=this._state=void 0;this._subscribers=[];if(v!==Q){if("function"!=typeof Q)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof O)(function(V,X){try{X(function(Z){p(V,Z)},function(Z){l(V,Z)})}catch(Z){l(V,Z)}})(this,Q);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return O.prototype.catch=
function(Q){return this.then(null,Q)},O.prototype.finally=function(Q){var V=this.constructor;return"function"==typeof Q?this.then(function(X){return V.resolve(Q()).then(function(){return X})},function(X){return V.resolve(Q()).then(function(){throw X;})}):this.then(Q,Q)},O}();return N.prototype.then=r,N.all=function(O){return(new L(this,O)).promise},N.race=function(O){var Q=this;return z(O)?new Q(function(V,X){for(var Z=O.length,ca=0;ca<Z;ca++)Q.resolve(O[ca]).then(V,X)}):new Q(function(V,X){return X(new TypeError("You must pass an array to race."))})},
N.resolve=e,N.reject=function(O){var Q=new this(v);return l(Q,O),Q},N._setScheduler=function(O){A=O},N._setAsap=function(O){B=O},N._asap=B,N.polyfill=function(){var O=void 0;if(void 0!==m)O=m;else if("undefined"!=typeof self)O=self;else try{O=Function("return this")()}catch(X){throw Error("polyfill failed because global object is unavailable in this environment");}var Q=O.Promise;if(Q){var V=null;try{V=Object.prototype.toString.call(Q.resolve())}catch(X){}if("[object Promise]"===V&&!Q.cast)return}O.Promise=
N},N.Promise=N,N}()}).call(this,k(189),k(165))},297:function(a,b,k){k.d(b,"a",function(){return u});var f=k(33),m=k(59),h=k(172),u=function(r,e){e=e();e=(Object(m.b)(e)?e:e.gbState).utils;Object(f.q)(e.request,e.portal).then(function(v){var g;v=(null===(g=null==v?void 0:v.trustedOrgs)||void 0===g?void 0:g.filter(function(p){return-1<p.from.established&&-1<p.to.established}))||[];r({type:h.a.TRUSTED_ORGS_LOADED,payload:v})},function(){r({type:h.a.TRUSTED_ORGS_LOADED,payload:[]})})}},298:function(a,
b,k){function f(g,p,n){return new r.Promise(function(q,l){Object(h.r)(g,p,n).then(function(c){q(c)},function(){q()})})}k.d(b,"a",function(){return v});var m=k(1),h=k(33),u=k(59),r=k(28),e=k(25),v=function(g,p){var n=Object(u.b)(g)?g:g.gbState,q=n.utils;g=q.request;var l=q.portal,c=q.portalUser,d=n.config.shareMode;n=[f(g,l,c.username)];return d===e.d.ADMIN&&p.username!==c.username&&n.push(f(g,l,p.username)),r.Promise.all(n).then(function(w){var t,z;if(w[0])return Object(m.a)(((t={})[c.username]=w[0].groups,
t),d===e.d.ADMIN&&!!w[1]&&((z={})[p.username]=w[1].groups,z))})}},33:function(a,b,k){function f(G){return G.reduce(function(F,I){return I&&I.relatedItems?F.concat(I.relatedItems.map(function(J){return J})):F},[])}function m(G,F,I){return G(F,{query:Object(r.a)({f:"json"},I)}).then(function(J){return J.data})}function h(G,F){void 0===F&&(F=100);for(var I=[],J=0;J<Math.ceil(G.length/F);J++)I.push(G.slice(J*F,(J+1)*F));return I.filter(function(K){return 0<K.length})}function u(G){var F=G.itemIds,I=G.request,
J=G.groupIds,K="".concat(G.portal.restUrl,"/content/itemsgroups");return new e.Promise(function(P,T){I(K,{method:"get",query:{f:"json",items:F,groups:J}}).then(function(S){P(S.data)},T)})}k.d(b,"u",function(){return v});k.d(b,"n",function(){return g});k.d(b,"h",function(){return p});k.d(b,"e",function(){return n});k.d(b,"f",function(){return q});k.d(b,"j",function(){return l});k.d(b,"o",function(){return c});k.d(b,"l",function(){return d});k.d(b,"k",function(){return w});k.d(b,"m",function(){return t});
k.d(b,"c",function(){return z});k.d(b,"d",function(){return x});k.d(b,"r",function(){return y});k.d(b,"s",function(){return A});k.d(b,"t",function(){return B});k.d(b,"g",function(){return D});k.d(b,"p",function(){return C});k.d(b,"q",function(){return E});k.d(b,"v",function(){return m});k.d(b,"a",function(){return h});k.d(b,"i",function(){return u});k.d(b,"b",function(){return H});var r=k(1),e=k(28),v=function(G){return function(F,I){return G({url:F,content:I.query},{usePost:"post"===I.method}).then(function(J){return{data:J}})}},
g=function(G,F,I){return m(G,"".concat(F.restUrl,"/portals/self"),{culture:I,default:!0})},p=function(G,F,I){return m(G,"".concat(F.restUrl,"/content/items/").concat(I,"/data"))},n=function(G,F,I,J){return m(G,"".concat(F.restUrl,"/community/groups"),Object(r.a)({q:I},J))},q=function(G,F,I){return m(G,"".concat(F.restUrl,"/community/groups/").concat(I,"/categorySchema"))},l=function(G,F,I){return m(G,"".concat(F.restUrl,"/portals/").concat(I||F.id,"/categorySchema"))},c=function(G,F){return m(G,"".concat(F.restUrl,
"/portals/").concat(F.id,"/servers"))},d=function(G,F,I,J){return G("".concat(F.restUrl,"/portals/").concat(I||F.id,"/collaborationsSummary"),J)},w=function(G,F,I,J){return G("".concat(F.restUrl,"/portals/").concat(I||F.id,"/collaboratedItems"),J)},t=function(G,F,I){return m(G,"".concat(location.protocol,"//").concat(F.portalHostname,"/sharing/rest/portals/").concat(I||"self"))},z=function(G,F,I){return G("".concat(F.restUrl,"/community/groups"),{query:{f:"json",q:"orgid:".concat(F.id," AND access:public"),
num:100,start:I||1,sortField:"title",sortOrder:"asc"}}).then(function(J){return J.data.total>J.data.start+J.data.num?z(G,F,J.data.start+J.data.num).then(function(K){return Object(r.a)(Object(r.a)({},K),{data:Object(r.a)(Object(r.a)({},K.data),{results:J.data.results.concat(K.data.results)})})}):J})},x=function(G,F,I,J){return G("".concat(F.restUrl,"/community/users/").concat(I,"/provisionedListings"),{query:{f:"json",num:100,start:J||1}}).then(function(K){var P=e.Promise.all(K.data.provisionedListings.filter(function(S){return S.itemId}).map(function(S){return(new e.Promise(function(L,
N){G("".concat(F.restUrl,"/content/items/").concat(S.itemId),{method:"get",query:{f:"json"}}).then(function(O){L(O.data)},N)})).catch(function(L){return 0})})),T=K.data.provisionedListings.map(function(S){return m(G,"".concat(F.restUrl,"/content/items/").concat(S.id||S.itemId,"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward")).then(function(L){return L},function(L){})});return K.data.total>K.data.start+K.data.num?x(G,F,I,K.data.start+K.data.num).then(function(S){return e.Promise.all([P].concat(T)).then(function(L){return L[0].results.concat(f(L.slice(1))).concat(S)})}):
e.Promise.all([P].concat(T)).then(function(S){return S[0].filter(function(L){return void 0!==L}).concat(f(S.slice(1)))})})},y=function(G,F,I){return m(G,"".concat(F.restUrl,"/community/users/").concat(I||F.user.username))},A=function(G,F,I){return m(G,"".concat(F.restUrl,"/content/users/").concat(I||F.user.username),{num:1})},B=function(G,F,I){return m(G,"".concat(F.restUrl,"/content/groups/").concat(I))},D=function(G,F,I){return m(G,"".concat(F.restUrl,"/community/groups"),I)},C=function(G,F){return m(G,
"".concat(F.restUrl,"/portals/self/settings"))},E=function(G,F){return m(G,"".concat(F.restUrl,"/portals/self/trustedOrgs"),{num:100})},H=function(G,F){return void 0===F&&(F=","),G.map(function(I){return I.id}).join(F)}},41:function(a,b,k){k.d(b,"b",function(){return f});k.d(b,"d",function(){return h});k.d(b,"c",function(){return u});k.d(b,"a",function(){return r});k.d(b,"f",function(){return g});var f,m,h,u,r,e=k(1),v=k(27);!function(p){p.openData="openData";p.updateGroups="updateGroups";p.distributed=
"distributed";p.administrative="administrative";p.orgSettings="orgSettings"}(f||(f={}));(m||(m={})).owner="owner";(function(p){p.itemOwner="itemOwner";p.inOrg="inOrg";p.outsideOrg="outsideOrg"})(h||(h={}));(function(p){p.myOrg="org";p.partnered="collaboration";p.anyOrg="anyOrg"})(u||(u={}));(function(p){p.USER="USER";p.OWNER="OWNER";p.DESIGNATION="DESIGNATION";p.DATE_CREATED="DATE_CREATED";p.MEMBERSHIP="MEMBERSHIP"})(r||(r={}));var g={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};
b.e=function(p,n){switch(void 0===p&&(p=g),n.type){case v.a.CLEAR_FILTERS:switch(n.payload){case r.DESIGNATION:return Object(e.a)(Object(e.a)({},p),{designationFilter:void 0});case r.DATE_CREATED:return Object(e.a)(Object(e.a)({},p),{dateCreatedFilter:void 0});case r.OWNER:return Object(e.a)(Object(e.a)({},p),{ownerFilter:void 0});case r.USER:return p;case r.MEMBERSHIP:return Object(e.a)(Object(e.a)({},p),{membershipFilter:void 0});default:return Object(e.a)(Object(e.a)({},p),{designationFilter:void 0,
dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case v.a.UPDATE_OWNER_FILTER:return Object(e.a)(Object(e.a)({},p),{ownerFilter:n.payload===p.ownerFilter?void 0:n.payload});case v.a.UPDATE_USERNAME_FILTER:return Object(e.a)(Object(e.a)({},p),{currentUsername:n.payload});case v.a.UPDATE_CREATED_ON_FILTER:return Object(e.a)(Object(e.a)({},p),{dateCreatedFilter:n.payload.created});case v.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(e.a)(Object(e.a)({},p),{designationFilter:n.payload===
p.designationFilter?void 0:n.payload});case v.a.UPDATE_MEMBERSHIP_FILTER:return Object(e.a)(Object(e.a)({},p),{membershipFilter:n.payload===p.membershipFilter?void 0:n.payload});case v.a.SET_USERS:return Object(e.a)(Object(e.a)({},p),{allUsers:n.payload.reduce(function(q,l){var c;return Object(e.a)(Object(e.a)({},q),((c={})[l.username]=l,c))},{})});case v.a.SET_SEARCH_STRING:return Object(e.a)(Object(e.a)({},p),{searchString:n.payload});default:return p}}},47:function(a,b,k){function f(B){return!(!B.urlKey||
!B.customBaseUrl)||B.isPortal}function m(B){return B.role===c.admin||B.role===c.accountAdmin}function h(B){return Object(t.a)(B.roleId)&&0<(B.roleId||"").length}function u(B){return"Developer Subscription"===B}function r(B){return!h(B)||h(B)&&-1<(B.privileges||[]).indexOf("portal:admin:viewItems")}function e(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToOrg")}function v(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToGroup")}function g(B){return-1<(B.privileges||[]).indexOf("portal:user:shareToPublic")}
function p(B,D){return n(B)||q(B)||l(B)}function n(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToGroup")}function q(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToOrg")}function l(B){return-1<(B.privileges||[]).indexOf("portal:admin:shareToPublic")}k.d(b,"m",function(){return x});k.d(b,"h",function(){return y});k.d(b,"n",function(){return A});k.d(b,"l",function(){return f});k.d(b,"i",function(){return m});k.d(b,"j",function(){return h});k.d(b,"k",function(){return u});k.d(b,
"g",function(){return r});k.d(b,"b",function(){return e});k.d(b,"a",function(){return v});k.d(b,"c",function(){return g});k.d(b,"d",function(){return n});k.d(b,"e",function(){return q});k.d(b,"f",function(){return l});var c,d=k(64),w=k(142),t=k(7),z=k(61);!function(B){B.user="org_user";B.accountUser="account_user";B.publisher="org_publisher";B.accountPublisher="account_publisher";B.admin="org_admin";B.accountAdmin="account_admin";B.viewer="iAAAAAAAAAAAAAAA";B.dataEditor="iBBBBBBBBBBBBBBB"}(c||(c=
{}));var x=function(B){var D=B.items;return!!B.user.orgId&&D.every(function(C){return C.isOrgItem})},y=function(B){var D=B.items,C=B.user,E=B.portal;B=D[0];var H=Object(z.c)(B,C),G=h(C),F=p(C,E);if(G=Object(z.a)(B,C)&&-1<(C.privileges||[]).indexOf("portal:admin:updateItems")&&!G)G=!f(E)||v(C)||e(C)||E.canSharePublic&&g(C)||p(C,E);E=G;G=B.owner;return!(B.portal.isPortal&&G!==C.username&&G.includes("esri_")&&!["esri_livingatlas"].includes(G))&&(H||E||x({items:D,user:C})&&F)},A=function(B,D){return Object(d.a)(Object(w.a)(B))(D)}},
59:function(a,b,k){k.d(b,"b",function(){return u});k.d(b,"a",function(){return r});k.d(b,"c",function(){return e});a=k(17);b=k(213);var f=k(206),m=k(133),h=k(208);k=k(205);var u=function(v){return!v.gbState},r={config:k.b,parameters:f.b,groups:m.f,ui:h.b,utils:b.b},e=Object(a.combineReducers)({config:k.a,parameters:f.a,groups:m.b,ui:h.a,utils:b.a})},61:function(a,b,k){function f(v,g){return(null==v?void 0:v.owner)===g.username}function m(v,g){var p;if(!(p=f(v,g)))if(Object(u.a)(v.isAdmin))p=!!v.isAdmin;
else{p=v.owner;var n="admin"===v.itemControl;p=!(v.portal.isPortal&&!f(v,g)&&n&&-1<p.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(p))&&n}return p}function h(v,g){return m(v,g)||"update"===v.itemControl}k.d(b,"d",function(){return f});k.d(b,"c",function(){return m});k.d(b,"a",function(){return h});k.d(b,"b",function(){return e});var u=k(7),r=k(47),e=function(v){var g=v.user,p=v.items;v=v.portal;return Object(r.m)({items:p,user:g})&&Object(r.h)({items:p,user:g,
portal:v})&&Object(r.g)(g)&&p[0].itemOwner||g}},62:function(a,b,k){function f(A){var B=A.groupIds,D=A.shareLevelOptions,C=A.restUrl,E=A.request,H=A.unshare;return e.Promise.all(A.items.map(function(G,F){return new e.Promise(function(I,J){E("".concat(C,"/content/items/").concat(G.itemId||G.id,"/").concat(H?"unshare":"share"),{method:"post",query:Object(u.a)({f:"json",groups:B,confirmItemControl:!0},D||{})}).then(I,J)})})).catch(function(G){throw G;})}function m(A,B){return new e.Promise(function(D,
C){var E,H=null===(E=A.helpMap)||void 0===E?void 0:E.m;H?D(H):B("".concat(A.restUrl,"/portals/helpmap"),{query:{f:"json",format:"json"}}).then(function(G){var F;D(null===(F=G.data.helpMap)||void 0===F?void 0:F.m)},C)})}k.d(b,"i",function(){return g});k.d(b,"h",function(){return p});k.d(b,"b",function(){return n});k.d(b,"e",function(){return q});k.d(b,"d",function(){return l});k.d(b,"g",function(){return z});k.d(b,"f",function(){return x});k.d(b,"c",function(){return y});k.d(b,"a",function(){return m});
var h,u=k(1),r=k(33),e=k(28);a=k(25);var v=k(61),g=function(A){var B=A.items,D=A.groups,C=A.restUrl,E=A.request,H=A.portalUser;if(0===B.length)return e.Promise.resolve();var G=Object(r.b)(D);return B.every(function(F){return Object(v.d)(F,H)})?new e.Promise(function(F,I){if(!D||0===D.length)return F();var J={f:"json",items:Object(r.b)(B),groups:G};E("".concat(C,"/content/users/").concat(H.username,"/unshareItems"),{method:"post",query:J}).then(F,I)}):f({items:B,groupIds:G,restUrl:C,request:E,unshare:!0})},
p=function(A){var B=A.items,D=A.groups,C=A.restUrl,E=A.request,H=A.portalUser,G=A.selectedOptions;A=A.ignoreShareLevel;if(0===B.length)return e.Promise.resolve();if(!A&&!G)throw"Selected options must be provided unless share level is ignored.";var F=Object(r.b)(D),I=A?{}:c(G);return B.every(function(J){return Object(v.d)(J,H)})?new e.Promise(function(J,K){E("".concat(C,"/content/users/").concat(H.username,"/shareItems"),{method:"post",query:Object(u.a)({f:"json",items:Object(r.b)(B),groups:F,confirmItemControl:!0},
I)}).then(function(P){P=P.data;P.results.every(function(T){return T.success})?J():K(P)},K)}):f({items:B,groupIds:F,shareLevelOptions:I,restUrl:C,request:E})},n=function(A){return A.reduce(function(B,D){return Object(u.g)(Object(u.g)([],B,!0),D,!0)},[])},q=function(A){return 1<Object.keys(A).filter(function(B){return"total"!==B&&0<A[B]}).length},l=function(A){return Object.keys(A).filter(function(B){return"total"!==B}).reduce(function(B,D){return A[D]===A.total?D:B})},c=function(A){return q(A)?{}:
d[l(A)]},d=((h={})[a.b.public]={org:!1,everyone:!0},h[a.b.org]={org:!0,everyone:!1},h[a.b.private]={org:!1,everyone:!1},h[a.b.shared]={org:!1,everyone:!1},h),w="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces;ArcgisWorkflowJobLocation".split(";"),t=["Knowledge Graph","Pro Project"],z=function(A){var B,D,C=A.typeKeywords,E=A.type;E=w.some(function(G){return-1<
C.indexOf(G)})&&"Real Time Analytic"!==E&&"Big Data Analytic"!==E;var H=!(null===(B=null==A?void 0:A.portal)||void 0===B?0:B.isPortal)&&"Image Service"===A.type&&-1<(null===(D=A.url)||void 0===D?void 0:D.indexOf("://iservices"))&&-1<A.url.indexOf("arcgis.com");A=t.includes(A.type);return E||H||A},x=function(A){var B,D=null===(B=A.typeKeywords)||void 0===B?void 0:B.includes("Hosted Service");return["Vector Tile Service","Map Service","Scene Service","Feature Service"].includes(A.type)&&D},y=function(A,
B,D){return D&&B.public===B.total?A.filter(function(C){return-1<C.typeKeywords.indexOf("DeveloperBasemap")}):[]}},64:function(a,b,k){function f(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];return function(u){return m.reduceRight(function(r,e){return e(r)},u)}}k.d(b,"a",function(){return f})},69:function(a,b,k){var f;k.d(b,"a",function(){return f});(function(m){m.LOADING_GROUPS="LOADING_GROUPS";m.LOAD_GROUPS_SUCCESS="LOAD_GROUPS_SUCCESS";m.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";m.SELECT_GROUPS=
"SELECT_GROUPS";m.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";m.DESELECT_GROUPS="DESELECT_GROUPS";m.REVERT_GROUPS="REVERT_GROUPS";m.CLEAR_SELECTION="CLEAR_SELECTION";m.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";m.SET_HAS_GROUPS="SET_HAS_GROUPS"})(f||(f={}))},7:function(a,b,k){function f(p){return 0===Object.keys(p).length&&p.constructor===Object}function m(p){return null!=p}function h(p,n){return v.apply(null,arguments)}function u(p,n){return g.apply(null,arguments)}k.d(b,"b",function(){return f});k.d(b,
"a",function(){return m});k.d(b,"e",function(){return e});k.d(b,"c",function(){return h});k.d(b,"d",function(){return u});var r=k(1);a=k(15);var e=Object(a.a)(function(p,n){n=Object(r.a)({},n);return delete n[p],n}),v=Object(a.a)(function(p,n){return Object.keys(n).reduce(function(q,l){return q[l]=p(n[l],l,n),q},{})}),g=Object(a.a)(function(p,n){return Object.keys(n).reduce(function(q,l){return p(n[l],l,n)&&(q[l]=n[l]),q},{})})},86:function(a,b,k){var f;k.d(b,"a",function(){return f});(function(m){m.SET_SEARCH_STRING=
"SET_SEARCH_STRING";m.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";m.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";m.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";m.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";m.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";m.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";m.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";m.SET_USERS="SET_USERS";m.CLEAR_FILTERS="CLEAR_FILTERS"})(f||(f={}))},944:function(a,b,k){k.r(b);k.d(b,"GroupBrowserWrapper",function(){return g});
var f=k(1),m=k(17),h=k(252),u=k.n(h),r=k(27),e=k(33),v=k(180);k.d(b,"initialState",function(){return h.initialState});var g=function(){function p(n,q){this.options=q;this.listener=this.listener.bind(this);this.renderContainer=document.createElement("div");this.renderContainer.style.width="100%";this.renderContainer.style.height="100%";this.renderContainer.id="group-browser-wrapper";n.appendChild(this.renderContainer);n=q.initialState?q.initialState:h.initialState;this.initialState=Object(f.a)(Object(f.a)({},
n),{config:n.config,utils:{portalUser:q.portalUser,request:4===q.apiVersion?q.request:Object(e.u)(q.request),portal:4===q.apiVersion?q.portal:Object(f.a)(Object(f.a)({},q.portal),{restUrl:q.portal.portalUrl.slice(0,-1),credential:q.portalUser&&q.portalUser.credential?q.portal.user.credential:void 0})}});this.store=Object(m.applyMiddleware)(m.thunk,Object(m.addListener)(this.listener))(m.createStore)(h.reducers,this.initialState);this.projector=Object(m.createProjector)(this.store,function(l){return l(u.a,
{key:"gb"})},this.renderContainer);this.store.dispatch(Object(v.a)())}return p.prototype.getState=function(){return this.store?this.store.getState():this.initialState},p.prototype.deselectGroups=function(n){if(this.store){var q=this.store.getState();n=n.filter(function(l){return q.groups.selectedGroups[l]}).map(function(l){return q.groups.selectedGroups[l].group});this.store.dispatch(Object(h.deselectGroups)(n))}},p.prototype.selectGroups=function(n){this.store&&this.store.dispatch(Object(h.selectGroups)(n))},
p.prototype.emitSelectedGroups=function(n){this.options.onChange&&this.options.onChange(Object.keys(n).map(function(q){return n[q].group}))},p.prototype.listener=function(n,q){var l=q.groups.selectedGroups;switch(n.type){case r.a.DESELECT_GROUPS:case r.a.SELECT_GROUPS:case r.a.CLEAR_SELECTION:this.emitSelectedGroups(l)}this.options.listener&&this.options.listener(n,q)},p}()},97:function(a,b,k){function f(v,g){if(null==v?0:v.length)for(var p=void 0,n=0;n<v.length;n++)if(g(p=v[n]))return p}function m(v){return v.filter(function(g){return 0<
g.length})}function h(v,g,p){var n=[];return g.forEach(function(q){(p?q[p].toLowerCase()===v.toLowerCase():q.toLowerCase()===v.toLowerCase())?n.unshift(q):n.push(q)}),n}k.d(b,"e",function(){return u});k.d(b,"f",function(){return r});k.d(b,"c",function(){return f});k.d(b,"b",function(){return m});k.d(b,"a",function(){return e});k.d(b,"d",function(){return h});a=k(15);var u=function(v,g,p){return p.indexOf(v)===g},r=Object(a.a)(function(v,g){var p={};return g.filter(function(n){return!p[n[v]]&&(p[n[v]]=
!0,!0)})}),e=function(v,g){return v.length===g.length&&v.reduce(function(p,n){return p&&-1<g.indexOf(n)},!0)}},99:function(a,b,k){k.d(b,"a",function(){return m});k.d(b,"b",function(){return h});var f=k(1),m=function(u){return u?u.urlKey?"".concat(location.protocol,"//").concat(u.urlKey,".").concat(u.customBaseUrl):"".concat(location.protocol,"//").concat(u.portalHostname):""},h=function(u){return Object(f.a)(Object(f.a)({},u),{baseUrl:m(u)})}}})})},"arcgis-components/GroupBrowser/index":function(){define("../Component dojo/i18n!../GroupBrowser/nls/resources dojo/_base/kernel ../Loaders/LoaderBars ../Buttons/Toggle dojo/debounce ../Dropdowns/AccordionDropdown/index dojo/string ../Buttons/IconButton ../Navigation/Pager/index ../Modals/MobileWrap ../Dropdowns/SortDropdown/index ../Filters/CreatedFilter/index ../Buttons/FilterChip/index ../GroupCards/GroupCheckCard/index ../GroupCards/MultiselectableGroupCard/index".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){return function(l){function c(w){if(d[w])return d[w].exports;var t=d[w]={i:w,l:!1,exports:{}};return l[w].call(t.exports,t,t.exports,c),t.l=!0,t.exports}var d={};return c.m=l,c.c=d,c.d=function(w,t,z){c.o(w,t)||Object.defineProperty(w,t,{enumerable:!0,get:z})},c.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},c.t=function(w,t){if((1&
t&&(w=c(w)),8&t)||4&t&&"object"==typeof w&&w&&w.__esModule)return w;var z=Object.create(null);if(c.r(z),Object.defineProperty(z,"default",{enumerable:!0,value:w}),2&t&&"string"!=typeof w)for(var x in w)c.d(z,x,function(y){return w[y]}.bind(null,x));return z},c.n=function(w){var t=w&&w.__esModule?function(){return w.default}:function(){return w};return c.d(t,"a",t),t},c.o=function(w,t){return Object.prototype.hasOwnProperty.call(w,t)},c.p="",c(c.s=818)}({1:function(l,c,d){function w(C,E){function H(){this.constructor=
C}if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");B(C,E);C.prototype=null===E?Object.create(E):(H.prototype=E.prototype,new H)}function t(C,E){var H={},G;for(G in C)Object.prototype.hasOwnProperty.call(C,G)&&0>E.indexOf(G)&&(H[G]=C[G]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var F=0;for(G=Object.getOwnPropertySymbols(C);F<G.length;F++)0>E.indexOf(G[F])&&Object.prototype.propertyIsEnumerable.call(C,G[F])&&
(H[G[F]]=C[G[F]])}return H}function z(C,E,H,G){var F,I=arguments.length,J=3>I?E:null===G?G=Object.getOwnPropertyDescriptor(E,H):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(C,E,H,G);else for(var K=C.length-1;0<=K;K--)(F=C[K])&&(J=(3>I?F(J):3<I?F(E,H,J):F(E,H))||J);return 3<I&&J&&Object.defineProperty(E,H,J),J}function x(C,E,H,G){return new (H||(H=Promise))(function(F,I){function J(T){try{P(G.next(T))}catch(S){I(S)}}function K(T){try{P(G.throw(T))}catch(S){I(S)}}
function P(T){var S;T.done?F(T.value):(S=T.value,S instanceof H?S:new H(function(L){L(S)})).then(J,K)}P((G=G.apply(C,E||[])).next())})}function y(C,E){function H(P){return function(T){return function(S){if(G)throw new TypeError("Generator is already executing.");for(;J&&(J=0,S[0]&&(K=0)),K;)try{if(G=1,F&&(I=2&S[0]?F.return:S[0]?F.throw||((I=F.return)&&I.call(F),0):F.next)&&!(I=I.call(F,S[1])).done)return I;switch(F=0,I&&(S=[2&S[0],I.value]),S[0]){case 0:case 1:I=S;break;case 4:return K.label++,{value:S[1],
done:!1};case 5:K.label++;F=S[1];S=[0];continue;case 7:S=K.ops.pop();K.trys.pop();continue;default:if(!(I=K.trys,(I=0<I.length&&I[I.length-1])||6!==S[0]&&2!==S[0])){K=0;continue}if(3===S[0]&&(!I||S[1]>I[0]&&S[1]<I[3]))K.label=S[1];else if(6===S[0]&&K.label<I[1])K.label=I[1],I=S;else if(I&&K.label<I[2])K.label=I[2],K.ops.push(S);else{I[2]&&K.ops.pop();K.trys.pop();continue}}S=E.call(C,K)}catch(L){S=[6,L],F=0}finally{G=I=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([P,T])}}var G,F,
I,J,K={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return J={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(J[Symbol.iterator]=function(){return this}),J}function A(C,E,H){if(H||2===arguments.length)for(var G,F=0,I=E.length;F<I;F++)!G&&F in E||(G||(G=Array.prototype.slice.call(E,0,F)),G[F]=E[F]);return C.concat(G||Array.prototype.slice.call(E))}d.d(c,"d",function(){return w});d.d(c,"a",function(){return D});d.d(c,"f",function(){return t});d.d(c,"c",function(){return z});
d.d(c,"b",function(){return x});d.d(c,"e",function(){return y});d.d(c,"g",function(){return A});var B=function(C,E){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,G){H.__proto__=G}||function(H,G){for(var F in G)Object.prototype.hasOwnProperty.call(G,F)&&(H[F]=G[F])})(C,E)},D=function(){return(D=Object.assign||function(C){for(var E,H=1,G=arguments.length;H<G;H++)for(var F in E=arguments[H])Object.prototype.hasOwnProperty.call(E,F)&&(C[F]=E[F]);return C}).apply(this,arguments)};
Object.create;Object.create},125:function(l,c,d){d.d(c,"a",function(){return t});d.d(c,"b",function(){return z});var w=d(1);l=d(15);var t=function(x,y){var A;return y.thumbnail&&(A="".concat(x.restUrl,"/community/groups/").concat(y.id,"/info/").concat(y.thumbnail).concat(x.credential?"?token\x3d".concat(x.credential.token):"")),A},z=Object(l.a)(function(x,y){return Object(w.a)(Object(w.a)({},y),{thumbURI:t(x,y)})})},133:function(l,c,d){d.d(c,"a",function(){return w});d.d(c,"d",function(){return x});
d.d(c,"c",function(){return y});d.d(c,"e",function(){return A});d.d(c,"f",function(){return B});var w,t=d(1),z=d(27);!function(D){D.LOADING="loading";D.LOADED="loaded";D.FAILED="failed"}(w||(w={}));var x=function(D){var C=D.selectedGroups,E=D.selectorItems;return 0===E.length?Object.keys(C).map(function(H){return C[H].group}):Object.keys(C).filter(function(H){return A(C[H],E)}).map(function(H){return C[H].group})},y=function(D){var C=D.initialSelectedGroups,E=D.selectedGroups,H=Object.keys(E).map(function(G){return E[G].group.id});
return Object.keys(C).map(function(G){return C[G].group.id}).filter(function(G){return 0>H.indexOf(G)}).map(function(G){return C[G].group})},A=function(D,C){return!D.selectedByIds||D.selectedByIds.length===C.length},B={selectorItems:[],displayGroups:[],selectedGroups:{},initialSelectedGroups:{},status:w.LOADING,total:0,hasGroups:!0};c.b=function(D,C){switch(void 0===D&&(D=B),C.type){case z.a.DESELECT_GROUPS:return Object(t.a)(Object(t.a)({},D),{selectedGroups:C.payload.reduce(function(H,G){G=G.id;
H[G];return Object(t.f)(H,["symbol"==typeof G?G:G+""])},D.selectedGroups)});case z.a.REVERT_GROUPS:return C.payload?Object(t.a)(Object(t.a)({},D),{selectedGroups:C.payload.reduce(function(H,G){var F;if(D.initialSelectedGroups[G.id])return Object(t.a)(Object(t.a)({},H),((F={})[G.id]=D.initialSelectedGroups[G.id],F));G=G.id;H[G];return Object(t.f)(H,["symbol"==typeof G?G:G+""])},D.selectedGroups)}):Object(t.a)(Object(t.a)({},D),{selectedGroups:Object(t.a)({},D.initialSelectedGroups)});case z.a.SELECT_GROUPS:var E=
D.selectorItems.map(function(H){return H.id});return Object(t.a)(Object(t.a)({},D),{selectedGroups:C.payload.reduce(function(H,G){var F;return Object(t.a)(Object(t.a)({},H),((F={})[G.group.id]=Object(t.a)({selectedByIds:E},G),F))},D.selectedGroups)});case z.a.SET_INITIAL_GROUPS:return C=C.payload.reduce(function(H,G){var F;return Object(t.a)(Object(t.a)({},H),((F={})[G.group.id]=G,F))},{}),Object(t.a)(Object(t.a)({},D),{selectedGroups:C,initialSelectedGroups:Object(t.a)({},C)});case z.a.SET_SELECTOR_ITEMS:return Object(t.a)(Object(t.a)({},
D),{selectorItems:C.payload});case z.a.CLEAR_SELECTION:return Object(t.a)(Object(t.a)({},D),{selectedGroups:{}});case z.a.LOADING_GROUPS:return Object(t.a)(Object(t.a)({},D),{status:w.LOADING});case z.a.LOAD_GROUPS_SUCCESS:return Object(t.a)(Object(t.a)({},D),{displayGroups:C.payload.results,total:C.payload.total,status:w.LOADED});case z.a.LOAD_GROUPS_FAIL:return Object(t.a)(Object(t.a)({},D),{displayGroups:[],status:w.FAILED});case z.a.SET_HAS_GROUPS:return Object(t.a)(Object(t.a)({},D),{hasGroups:C.payload});
default:return D}}},139:function(l,c,d){d.d(c,"d",function(){return y});d.d(c,"e",function(){return A});d.d(c,"b",function(){return B});d.d(c,"c",function(){return D});d.d(c,"a",function(){return C});d.d(c,"f",function(){return E});var w=d(1),t=d(184),z=d(156),x=d(69),y=function(H){return 1<H.length&&Object(z.a)(),{type:x.a.SELECT_GROUPS,payload:H.map(function(G){return{group:Object(t.c)(G)}})}},A=function(H){return{type:x.a.SET_INITIAL_GROUPS,payload:H.map(function(G){return Object(w.a)(Object(w.a)({},
G),{group:Object(t.c)(G.group)})})}},B=function(H){return 1<H.length&&Object(z.b)(),{type:x.a.DESELECT_GROUPS,payload:H}},D=function(H){return{type:x.a.REVERT_GROUPS,payload:H}},C=function(){return Object(z.c)(),{type:x.a.CLEAR_SELECTION}},E=function(H){return{type:x.a.SET_SELECTOR_ITEMS,payload:H}}},142:function(l,c,d){d.d(c,"a",function(){return t});var w=d(1);l=d(15);var t=Object(l.a)(function(z,x){var y=Object(w.a),A=Object(w.a)({},x);z=x.thumbnail?"".concat(z.restUrl,"/community/users/").concat(x.username,
"/info/").concat(x.thumbnail).concat(z.credential?"?token\x3d".concat(z.credential.token):""):void 0;return y(A,{thumbURI:z})})},143:function(l,c){l.exports=a},15:function(l,c,d){function w(z){return function y(){for(var A=this,B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];return B.length>=z.length?z.call.apply(z,Object(t.g)([this],B,!1)):function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];return y.call.apply(y,Object(t.g)(Object(t.g)([A],B,!1),C,!1))}}}d.d(c,"a",function(){return w});
var t=d(1)},151:function(l,c,d){d.d(c,"b",function(){return H});d.d(c,"a",function(){return F});var w=d(1),t=d(184),z=d(33),x=d(156),y=d(59),A=d(69),B=d(28),D=d(62),C=d(41),E=d(25),H=function(N,O){G(O()).then(function(Q){var V=O();V=Object(y.b)(V)?V:V.gbState;var X=V.utils;V.ui.focus.focusSelectAll&&Object(x.c)();N({type:A.a.LOAD_GROUPS_SUCCESS,payload:Object(w.a)(Object(w.a)({},Q),{results:Q.results.map(function(Z){return Object(t.b)(X.portal,Z)})})})}).catch(function(Q){var V=O();(Object(y.b)(V)?
V:V.gbState).ui.focus.focusSelectAll&&Object(x.c)();N({type:A.a.LOAD_GROUPS_FAIL,payload:Q})})},G=function(N){N=Object(y.b)(N)?N:N.gbState;var O=N.utils,Q=O.request,V=O.portal,X=N.config;O=X.groupsPerPage;var Z=X.withinShare,ca=(X.withinAppConfig,N.parameters);X=ca.filter;ca=ca.sort;var R=N.ui.page.currentPageNumber,Y={q:L(N),num:O,sortField:ca.field,sortOrder:ca.order,start:(R-1)*O+1};return Z&&(Y.searchUserAccess="groupMember",Y.searchUserName=X.currentUsername),X.designationFilter!==C.b.orgSettings||
K(V)?new B.Promise(function(ba,aa){Object(z.g)(Q,V,Y).then(ba,aa)}):new B.Promise(function(ba){ba({query:Y.q,total:0,start:1,num:100,nextStart:-1,results:[]})})},F=function(N){var O=N.user;N=N.state;N=Object(y.b)(N)?N:N.gbState;var Q=N.utils,V=Q.request,X=Q.portal;N=Object(w.a)(Object(w.a)({},N),{parameters:Object(w.a)(Object(w.a)({},N.parameters),{filter:Object(w.a)(Object(w.a)({},N.parameters.filter),{currentUsername:O.username})})});var Z={q:L(N),num:100,searchUserAccess:"groupMember",searchUserName:O.username};
return(new B.Promise(function(ca,R){return Object(z.g)(V,X,Z).then(function(Y){if(-1!==Y.nextStart){var ba=Math.ceil(Y.total/100)-1,aa=[Y.results];Y=function(da){aa.push(new B.Promise(function(ea,ja){var fa=100*(da+1)+1;Object(z.g)(V,X,Object(w.a)(Object(w.a)({},Z),{start:fa})).then(function(ha){ea(ha.results)},ja)}))};for(var W=0;W<ba;W++)Y(W);B.Promise.all(aa).then(function(da){ca(Object(D.b)(da))})}else ca(Y.results)},R)})).catch(function(ca){throw ca;})},I=function(N){var O,Q,V=N.shareMode,X=
N.currentUsername,Z=N.portalUser,ca=N.userGroups;N=N.isPrivate;var R=[];if(ca){var Y=[];V===E.d.ADMIN&&(null===(O=ca[X])||void 0===O?0:O.length)&&X!==Z.username&&(Y=Object(w.g)([],ca[X],!0));V===E.d.ADMIN&&N||ca[Z.username].forEach(function(ba){Y.some(function(aa){return aa.id===ba.id})||Y.push(ba)});null==Y||Y.forEach(function(ba){var aa,W=null===(aa=ba.userMembership)||void 0===aa?void 0:aa.memberType;!ba.isViewOnly||"owner"!==W&&"admin"!==W||R.push(ba.id)})}R.length&&(Q="(isviewonly:false OR id:(".concat(R.join(" OR "),
"))"));O=R.length?" OR id:(".concat(R.join(" OR "),")"):"";switch(V){case E.d.DEFAULT:return Q||"(owner:".concat(X," OR isviewonly:false)");case E.d.GROUP:return"owner:".concat(X," -capabilities:updateitemcontrol");case E.d.ADMIN:return Z.username===X?"(isviewonly:false".concat(O," OR owner:").concat(Z.username,") -capabilities:updateitemcontrol"):"(owner:".concat(X," OR isviewonly:false").concat(O,")");default:return""}},J=function(N,O){0!==(null==N?void 0:N.indexOf("id:"))||-1<O.indexOf(N)||O.push(N)},
K=function(N){var O,Q,V,X,Z,ca=[],R=[N.featuredItemsGroupQuery,N.basemapGalleryGroupQuery,N.templatesGroupQuery,N["2DStylesGroupQuery"],N.stylesGroupQuery,N.analysisLayersGroupQuery,N.galleryTemplatesGroupQuery];if(N.hasModernHomePageEnabled){var Y=(null===(Q=null===(O=N.homePageConfig)||void 0===O?void 0:O.content)||void 0===Q?void 0:Q.filter(function(ba){return"gallery"===ba.type&&!!ba.groupId}))||[];0<Y.length&&Y.forEach(function(ba){ba="id:".concat(ba.groupId);J(ba,ca)})}else R.push(N.homePageFeaturedContent);
return R.forEach(function(ba){J(ba,ca)}),null===(V=N.featuredGroups)||void 0===V||V.forEach(function(ba){if(ba=ba.id)ba="id:".concat(ba),J(ba,ca)}),null===(Z=null===(X=N.userDefaults)||void 0===X?void 0:X.groups)||void 0===Z||Z.forEach(function(ba){ba="id:".concat(ba);J(ba,ca)}),0<ca.length?"(".concat(ca.join(" OR "),")"):""},P=function(N){var O=N.portal;switch(N.designationFilter){case C.b.openData:return"isopendata:true";case C.b.updateGroups:return"capabilities:updateitemcontrol";case C.b.distributed:return"capabilities:distributed";
case C.b.administrative:return"isleavingdisallowed:true";case C.b.orgSettings:return K(O)||"";default:return""}},T=function(N){var O=N.portal,Q=N.username,V=N.currentUsername,X=N.userType,Z=N.withinAppConfig;Q=N.shareMode===E.d.ADMIN&&V||Q;Z=O.isPortal&&Z?"-owner:esri_livingatlas -owner:esri_boundaries -owner:esri_demographics":"";switch(N.ownerFilter){case C.d.itemOwner:return"owner:".concat(Q," ").concat(Z);case C.d.inOrg:return"-owner:".concat(Q," orgid:").concat(O.id," ").concat(Z);case C.d.outsideOrg:return X===
E.e.PUBLIC?"-owner:".concat(Q," ").concat(Z):"".concat("(orgid: [0 TO \\{])"," -orgid:").concat(O.id," ").concat(Z);default:return Z}},S=function(N){return N?"".concat((O="created",V=(Q=N).start,X=Q.end,"".concat(O,": [").concat(V," TO ").concat(X,"]"))):"";var O,Q,V,X},L=function(N){var O,Q,V,X=N.utils,Z=X.portal;X=X.portalUser;var ca=N.config,R=ca.shareMode,Y=ca.userType,ba=ca.withinAppConfig,aa=ca.hasIndoorsSpaces,W=ca.userGroups,da=N.parameters.filter,ea=da.searchString,ja=da.designationFilter,
fa=da.membershipFilter,ha=da.dateCreatedFilter,la=da.currentUsername;da=da.ownerFilter;return["".concat(ca.baseQ," ").concat(ea),I({shareMode:R,currentUsername:la,portalUser:X,userGroups:W,isPrivate:"private"===(null===(V=null===(Q=null===(O=N.groups)||void 0===O?void 0:O.selectorItems)||void 0===Q?void 0:Q[0])||void 0===V?void 0:V.access)}),aa?"-capabilities:distributed":P({designationFilter:ja,portal:Z}),aa?"membershipaccess:org":fa?"anyOrg"===fa?"-membershipaccess:org -membershipaccess:collaboration":
"membershipaccess:".concat(fa):"",S(ha),T({ownerFilter:da,portal:Z,username:X.username,currentUsername:la,shareMode:R,userType:Y,withinAppConfig:ba})].filter(function(ka){return ka}).join(" ").trim()}},156:function(l,c,d){function w(){x("gb__select-all-input")}function t(){x("gb__clear-selection-btn")}function z(){setTimeout(function(){var y=document.querySelector(".gcard-gcc__container");y&&(y=y.querySelector(".btn-2018check__input"))&&y.focus()},50)}function x(y){setTimeout(function(){var A=document.querySelector("#".concat(y));
A&&A.focus()},50)}d.d(c,"c",function(){return w});d.d(c,"a",function(){return t});d.d(c,"b",function(){return z})},165:function(l,c){c=function(){return this}();try{c=c||(new Function("return this"))()}catch(d){"object"==typeof window&&(c=window)}l.exports=c},17:function(l,c){l.exports=U},172:function(l,c,d){var w;d.d(c,"a",function(){return w});(w||(w={})).TRUSTED_ORGS_LOADED="TRUSTED_ORGS_LOADED"},184:function(l,c,d){d.d(c,"b",function(){return x});d.d(c,"c",function(){return y});d.d(c,"a",function(){return A});
var w=d(64);l=d(7);var t=d(97),z=d(125),x=function(B,D){return Object(w.a)(Object(z.b)(B))(D)},y=Object(w.a)(Object(l.e)("thumbURI")),A=function(B){var D=B.initialSelectedByIds;return!Object(t.a)(B.selectedBy.map(function(C){return C.id}),D)}},186:function(l,c,d){d.d(c,"b",function(){return t});d.d(c,"g",function(){return z});d.d(c,"h",function(){return x});d.d(c,"e",function(){return y});d.d(c,"f",function(){return A});d.d(c,"d",function(){return B});d.d(c,"c",function(){return D});d.d(c,"a",function(){return C});
var w=d(86),t=function(E){return{type:w.a.SET_SEARCH_STRING,payload:E}},z=function(E){return{type:w.a.UPDATE_OWNER_FILTER,payload:E}},x=function(E){return{type:w.a.UPDATE_USERNAME_FILTER,payload:E}},y=function(E){return{type:w.a.UPDATE_GROUP_DESIGNATION_FILTER,payload:E}},A=function(E){return{type:w.a.UPDATE_MEMBERSHIP_FILTER,payload:E}},B=function(E){return{type:w.a.UPDATE_CREATED_ON_FILTER,payload:{section:E.section,created:E.created}}},D=function(E){return{type:w.a.SET_USERS,payload:E}},C=function(E){return{type:w.a.CLEAR_FILTERS,
payload:E}}},189:function(l,c){function d(){throw Error("setTimeout has not been defined");}function w(){throw Error("clearTimeout has not been defined");}function t(F){if(B===setTimeout)return setTimeout(F,0);if((B===d||!B)&&setTimeout)return B=setTimeout,setTimeout(F,0);try{return B(F,0)}catch(I){try{return B.call(null,F,0)}catch(J){return B.call(this,F,0)}}}function z(){H&&C&&(H=!1,C.length?E=C.concat(E):G=-1,E.length&&x())}function x(){if(!H){var F=t(z);H=!0;for(var I=E.length;I;){C=E;for(E=[];++G<
I;)C&&C[G].run();G=-1;I=E.length}C=null;H=!1;(function(J){if(D===clearTimeout)return clearTimeout(J);if((D===w||!D)&&clearTimeout)return D=clearTimeout,clearTimeout(J);try{D(J)}catch(K){try{return D.call(null,J)}catch(P){return D.call(this,J)}}})(F)}}function y(F,I){this.fun=F;this.array=I}function A(){}l=l.exports={};try{var B="function"==typeof setTimeout?setTimeout:d}catch(F){B=d}try{var D="function"==typeof clearTimeout?clearTimeout:w}catch(F){D=w}!0;var C,E=[],H=!1,G=-1;l.nextTick=function(F){var I=
Array(arguments.length-1);if(1<arguments.length)for(var J=1;J<arguments.length;J++)I[J-1]=arguments[J];E.push(new y(F,I));1!==E.length||H||t(x)};y.prototype.run=function(){this.fun.apply(null,this.array)};l.title="browser";l.browser=!0;l.env={};l.argv=[];l.version="";l.versions={};l.on=A;l.addListener=A;l.once=A;l.off=A;l.removeListener=A;l.removeAllListeners=A;l.emit=A;l.prependListener=A;l.prependOnceListener=A;l.listeners=function(F){return[]};l.binding=function(F){throw Error("process.binding is not supported");
};l.cwd=function(){return"/"};l.chdir=function(F){throw Error("process.chdir is not supported");};l.umask=function(){return 0}},192:function(l,c,d){var w;d.d(c,"a",function(){return w});(w||(w={})).USER_DETAILS_LOADED="USER_LOADED"},202:function(l,c,d){var w;d.d(c,"a",function(){return w});(function(t){t.SET_PAGE="SET_PAGE";t.TOGGLE_SORT_DROPDOWN="TOGGLE_SORT_DROPDOWN";t.TOGGLE_EXPANDED_FILTERS="TOGGLE_EXPANDED_FILTERS"})(w||(w={}))},203:function(l,c){l.exports=b},205:function(l,c,d){d.d(c,"b",function(){return z});
var w=d(1),t=d(27),z={groupsPerPage:100,baseQ:"",withinShare:!1,withinAppConfig:!1,enableFiltering:!1,enableUserToggle:!1,enableSingleSelection:!1,hasIndoorsSpaces:!1};c.a=function(x,y){switch(void 0===x&&(x=z),y.type){case t.a.ENABLE_USER_TOGGLE:return Object(w.a)(Object(w.a)({},x),{enableUserToggle:!0});case t.a.SET_SHARE_MODE:return Object(w.a)(Object(w.a)({},x),{shareMode:y.payload});case t.a.SET_USER_TYPE:return Object(w.a)(Object(w.a)({},x),{userType:y.payload});case t.a.TRUSTED_ORGS_LOADED:return Object(w.a)(Object(w.a)({},
x),{hasTrustedOrgs:0<y.payload.length});case t.a.USER_DETAILS_LOADED:return Object(w.a)(Object(w.a)({},x),{userGroups:y.payload});case t.a.SET_SELECTOR_ITEMS:return y=!!y.payload.find(function(A){var B;return-1<(null===(B=null==A?void 0:A.typeKeywords)||void 0===B?void 0:B.indexOf("EditExtensionIndoorsSpaces"))}),Object(w.a)(Object(w.a)({},x),{hasIndoorsSpaces:y});default:return x}}},206:function(l,c,d){d.d(c,"b",function(){return t});l=d(17);var w=d(207);d=d(41);var t={sort:w.b,filter:d.f};c.a=Object(l.combineReducers)({sort:w.a,
filter:d.e})},207:function(l,c,d){d.d(c,"b",function(){return z});var w=d(1),t=d(27),z={field:"title",order:"asc"},x={relevance:"desc",title:"asc",created:"desc",owner:"asc",modified:"desc",numviews:"desc",avgrating:"desc"};c.a=function(y,A){switch(void 0===y&&(y=z),A.type){case t.a.CHANGE_SORT_FIELD:return Object(w.a)(Object(w.a)({},y),{field:A.payload,order:x[A.payload]});case t.a.CHANGE_SORT_ORDER:return Object(w.a)(Object(w.a)({},y),{order:A.payload});default:return y}}},208:function(l,c,d){d.d(c,
"b",function(){return x});l=d(17);var w=d(209),t=d(210),z=d(211);d=d(212);var x={page:w.b,sort:t.b,focus:z.b,filter:d.b};c.a=Object(l.combineReducers)({page:w.a,sort:t.a,focus:z.a,filter:d.a})},209:function(l,c,d){d.d(c,"b",function(){return z});var w=d(1),t=d(27),z={currentPageNumber:1};c.a=function(x,y){switch(void 0===x&&(x=z),y.type){case t.a.CLEAR_FILTERS:case t.a.UPDATE_USERNAME_FILTER:case t.a.UPDATE_OWNER_FILTER:case t.a.UPDATE_CREATED_ON_FILTER:case t.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(w.a)(Object(w.a)({},
x),{currentPageNumber:1});case t.a.SET_PAGE:return Object(w.a)(Object(w.a)({},x),{currentPageNumber:y.payload});case t.a.LOAD_GROUPS_SUCCESS:return Object(w.a)(Object(w.a)({},x),{currentPageNumber:y.payload.num>y.payload.total?1:Math.ceil(y.payload.start/y.payload.num)});case t.a.LOAD_GROUPS_FAIL:return Object(w.a)(Object(w.a)({},x),{currentPageNumber:1});default:return x}}},210:function(l,c,d){d.d(c,"b",function(){return t});var w=d(27),t=!1;c.a=function(z,x){switch(void 0===z&&(z=t),x.type){case w.a.CHANGE_SORT_FIELD:case w.a.CHANGE_SORT_ORDER:case w.a.TOGGLE_SORT_DROPDOWN:return!z;
default:return z}}},211:function(l,c,d){d.d(c,"b",function(){return z});var w=d(1),t=d(27),z={focusSelectAll:!1};c.a=function(x,y){switch(y.type){case t.a.LOAD_GROUPS_FAIL:case t.a.LOAD_GROUPS_SUCCESS:return Object(w.a)(Object(w.a)({},x),{focusSelectAll:!1});case t.a.CHANGE_SORT_FIELD:case t.a.CHANGE_SORT_ORDER:return Object(w.a)(Object(w.a)({},x),{focusSelectAll:!0});default:return x}}},212:function(l,c,d){d.d(c,"b",function(){return x});var w=d(1),t=d(27),z=d(41),x={expanded:!1};c.a=function(y,
A){switch(A.type){case t.a.CLEAR_FILTERS:switch(A.payload){case void 0:case z.a.DATE_CREATED:return Object(w.a)(Object(w.a)({},y),{dateCreatedSelectedSection:void 0});default:return y}case t.a.TOGGLE_EXPANDED_FILTERS:return Object(w.a)(Object(w.a)({},y),{expanded:!y.expanded});case t.a.UPDATE_CREATED_ON_FILTER:return Object(w.a)(Object(w.a)({},y),{dateCreatedSelectedSection:A.payload.section});default:return y}}},213:function(l,c,d){d.d(c,"b",function(){return t});var w=d(99),t={portal:{},portalUser:{},
request:function(z){return null}};c.a=function(z,x){return void 0===z&&(z=t),x.type,z.portal.portalHostname&&!z.portal.baseUrl&&(z.portal.baseUrl=Object(w.a)(z.portal)),z}},214:function(l,c){l.exports=k},222:function(l,c,d){d.d(c,"c",function(){return w});d.d(c,"d",function(){return t});d.d(c,"e",function(){return z});d.d(c,"b",function(){return x});d.d(c,"f",function(){return y});d.d(c,"g",function(){return A});d.d(c,"a",function(){return B});d.d(c,"h",function(){return D});d.d(c,"i",function(){return C});
d.d(c,"j",function(){return E});var w="MAXIMIZE_DLG",t="MINIMIZE_DLG",z="TOGGLE_EXPANDED_FILTERS",x="CLOSE_FULLSCREEN_BROWSER",y="TOGGLE_EXPANDED_SORT",A="UPDATE_SUBLAYER_CARD_STATE",B="CLOSE_EXPANDED_SORT",D=function(){return{type:B}},C=function(){return{type:z}},E=function(){return{type:y}}},243:function(l,c,d){var w=d(125);c.a=function(t,z){var x=t.group,y=t.stacked,A=t.portal;t={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!x.thumbURI,"gcard-thumbnail--stacked":void 0!==y&&
y,"gcard-thumbnail--transparent":t.transparent};if(x.thumbnail&&!x.thumbURI&&A&&(x.thumbURI=Object(w.a)(A,x)),x.thumbURI)return z("img",{src:x.thumbURI,classes:t,alt:x.title});A=!(!x.title.charAt(0)||!x.title.charAt(0).match(/^\w+$/));return z("div",{key:"group-thumbnail-".concat(x.id),classes:t},z("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},z("path",{fill:"#".concat(x.id.substr(x.id.length-6)),d:"M0 0h65v65H0z"}),z("path",{fill:"#ccc",d:"M0 0h65v65H0z",
"fill-opacity":"0.8"}),A?z("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},x.title.slice(0,1).toUpperCase()):z("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
248:function(l,c){l.exports=f},249:function(l,c){l.exports=m},25:function(l,c,d){var w,t,z,x,y;d.d(c,"b",function(){return w});d.d(c,"a",function(){return t});d.d(c,"c",function(){return z});d.d(c,"e",function(){return x});d.d(c,"d",function(){return y});(function(A){A.org="org";A.private="private";A.public="public";A.shared="shared"})(w||(w={}));(function(A){A.LOADING="LOADING";A.SHARE="SHARE";A.GROUP_BROWSER="GROUP_BROWSER";A.DEPENDENT_ITEM_CONFIRMATION="DEPENDENT_ITEM_CONFIRMATION"})(t||(t={}));
(function(A){A.SET_SHARE_TO_PRIVATE="SET_SHARE_TO_PRIVATE";A.REVERT_SHARE_LEVEL="REVERT_SHARE_LEVEL";A.REVERT_GROUPS="REVERT_GROUPS";A.EDITABLE_LAYERS="EDITABLE_LAYERS";A.OPEN_GROUP_BROWSER="OPEN_GROUP_BROWSER";A.NONE="NONE";A.PUBLIC_DATA_COLLECTION_DISABLED="PUBLIC_DATA_COLLECTION_DISABLED";A.PUBLIC_DATA_COLLECTION_ENABLED="PUBLIC_DATA_COLLECTION_ENABLED"})(z||(z={}));(function(A){A.ORG="ORG";A.PUBLIC="PUBLIC"})(x||(x={}));(function(A){A.DEFAULT="DEFAULT";A.ADMIN="ADMIN";A.GROUP="GROUP";A.INVITE=
"INVITE"})(y||(y={}))},27:function(l,c,d){d.d(c,"a",function(){return y});var w;l=d(1);c=d(202);var t=d(69),z=d(172),x=d(86);d=d(192);!function(A){A.ENABLE_USER_TOGGLE="ENABLE_USER_TOGGLE";A.SET_SHARE_MODE="SET_SHARE_MODE";A.SET_USER_TYPE="SET_USER_TYPE"}(w||(w={}));var y=Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},c.a),t.a),x.a),w),z.a),d.a)},271:function(l,c){l.exports=h},272:function(l,c){l.exports=u},28:function(l,c,d){(function(w,t){l.exports=function(){function z(){var fa=
setTimeout;return function(){return fa(x,1)}}function x(){for(var fa=0;fa<T;fa+=2)(0,Z[fa])(Z[fa+1]),Z[fa]=void 0,Z[fa+1]=void 0;T=0}function y(fa,ha){var la=this,ka=new this.constructor(B);void 0===ka[W]&&K(ka);var ia=la._state;if(ia){var ma=arguments[ia-1];N(function(){return J(ia,ka,ma,la._result)})}else F(la,ka,fa,ha);return ka}function A(fa){if(fa&&"object"==typeof fa&&fa.constructor===this)return fa;var ha=new this(B);return C(ha,fa),ha}function B(){}function D(fa,ha,la){ha.constructor===fa.constructor&&
la===y&&ha.constructor.resolve===A?function(ka,ia){1===ia._state?H(ka,ia._result):2===ia._state?G(ka,ia._result):F(ia,void 0,function(ma){return C(ka,ma)},function(ma){return G(ka,ma)})}(fa,ha):void 0===la?H(fa,ha):"function"==typeof la?function(ka,ia,ma){N(function(na){var pa=!1,sa=function(ta,oa,qa,ua){try{ta.call(oa,qa,ua)}catch(ra){return ra}}(ma,ia,function(ta){pa||(pa=!0,ia!==ta?C(na,ta):H(na,ta))},function(ta){pa||(pa=!0,G(na,ta))},na._label);!pa&&sa&&(pa=!0,G(na,sa))},ka)}(fa,ha,la):H(fa,
ha)}function C(fa,ha){if(fa===ha)G(fa,new TypeError("You cannot resolve a promise with itself"));else if(ka=typeof(la=ha),null===la||"object"!==ka&&"function"!==ka)H(fa,ha);else{la=void 0;try{la=ha.then}catch(ia){return void G(fa,ia)}D(fa,ha,la)}var la,ka}function E(fa){fa._onerror&&fa._onerror(fa._result);I(fa)}function H(fa,ha){void 0===fa._state&&(fa._result=ha,fa._state=1,0!==fa._subscribers.length&&N(I,fa))}function G(fa,ha){void 0===fa._state&&(fa._state=2,fa._result=ha,N(E,fa))}function F(fa,
ha,la,ka){var ia=fa._subscribers,ma=ia.length;fa._onerror=null;ia[ma]=ha;ia[ma+1]=la;ia[ma+2]=ka;0===ma&&fa._state&&N(I,fa)}function I(fa){var ha=fa._subscribers,la=fa._state;if(0!==ha.length){for(var ka=void 0,ia=void 0,ma=fa._result,na=0;na<ha.length;na+=3)ka=ha[na],ia=ha[na+la],ka?J(la,ka,ia,ma):ia(ma);fa._subscribers.length=0}}function J(fa,ha,la,ka){var ia="function"==typeof la,ma=void 0,na=void 0,pa=!0;if(ia){try{ma=la(ka)}catch(sa){pa=!1,na=sa}if(ha===ma)return void G(ha,new TypeError("A promises callback cannot return that same promise."))}else ma=
ka;void 0!==ha._state||(ia&&pa?C(ha,ma):!1===pa?G(ha,na):1===fa?H(ha,ma):2===fa&&G(ha,ma))}function K(fa){fa[W]=da++;fa._state=void 0;fa._result=void 0;fa._subscribers=[]}var P=Array.isArray?Array.isArray:function(fa){return"[object Array]"===Object.prototype.toString.call(fa)},T=0,S=void 0,L=void 0,N=function(fa,ha){Z[T]=fa;Z[T+1]=ha;2===(T+=2)&&(L?L(x):aa())},O="undefined"!=typeof window?window:void 0,Q=O||{};Q=Q.MutationObserver||Q.WebKitMutationObserver;var V="undefined"==typeof self&&void 0!==
w&&"[object process]"==={}.toString.call(w),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=Array(1E3),ca,R,Y,ba,aa=void 0;V?aa=function(){return w.nextTick(x)}:Q?(R=0,Y=new Q(x),ba=document.createTextNode(""),Y.observe(ba,{characterData:!0}),aa=function(){ba.data=R=++R%2}):X?((ca=new MessageChannel).port1.onmessage=x,aa=function(){return ca.port2.postMessage(0)}):aa=void 0===O?function(){try{var fa=Function("return this")().require("vertx");
return void 0!==(S=fa.runOnLoop||fa.runOnContext)?function(){S(x)}:z()}catch(ha){return z()}}():z();var W=Math.random().toString(36).substring(2),da=0,ea=function(){function fa(ha,la){this._instanceConstructor=ha;this.promise=new ha(B);this.promise[W]||K(this.promise);P(la)?(this.length=la.length,this._remaining=la.length,this._result=Array(this.length),0===this.length?H(this.promise,this._result):(this.length=this.length||0,this._enumerate(la),0===this._remaining&&H(this.promise,this._result))):
G(this.promise,Error("Array Methods must be provided an Array"))}return fa.prototype._enumerate=function(ha){for(var la=0;void 0===this._state&&la<ha.length;la++)this._eachEntry(ha[la],la)},fa.prototype._eachEntry=function(ha,la){var ka=this._instanceConstructor,ia=ka.resolve;if(ia===A){var ma=ia=void 0,na=!1;try{ia=ha.then}catch(pa){na=!0,ma=pa}ia===y&&void 0!==ha._state?this._settledAt(ha._state,la,ha._result):"function"!=typeof ia?(this._remaining--,this._result[la]=ha):ka===ja?(ka=new ka(B),na?
G(ka,ma):D(ka,ha,ia),this._willSettleAt(ka,la)):this._willSettleAt(new ka(function(pa){return pa(ha)}),la)}else this._willSettleAt(ia(ha),la)},fa.prototype._settledAt=function(ha,la,ka){var ia=this.promise;void 0===ia._state&&(this._remaining--,2===ha?G(ia,ka):this._result[la]=ka);0===this._remaining&&H(ia,this._result)},fa.prototype._willSettleAt=function(ha,la){var ka=this;F(ha,void 0,function(ia){return ka._settledAt(1,la,ia)},function(ia){return ka._settledAt(2,la,ia)})},fa}(),ja=function(){function fa(ha){this[W]=
da++;this._result=this._state=void 0;this._subscribers=[];if(B!==ha){if("function"!=typeof ha)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof fa)(function(la,ka){try{ka(function(ia){C(la,ia)},function(ia){G(la,ia)})}catch(ia){G(la,ia)}})(this,ha);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}return fa.prototype.catch=function(ha){return this.then(null,
ha)},fa.prototype.finally=function(ha){var la=this.constructor;return"function"==typeof ha?this.then(function(ka){return la.resolve(ha()).then(function(){return ka})},function(ka){return la.resolve(ha()).then(function(){throw ka;})}):this.then(ha,ha)},fa}();return ja.prototype.then=y,ja.all=function(fa){return(new ea(this,fa)).promise},ja.race=function(fa){var ha=this;return P(fa)?new ha(function(la,ka){for(var ia=fa.length,ma=0;ma<ia;ma++)ha.resolve(fa[ma]).then(la,ka)}):new ha(function(la,ka){return ka(new TypeError("You must pass an array to race."))})},
ja.resolve=A,ja.reject=function(fa){var ha=new this(B);return G(ha,fa),ha},ja._setScheduler=function(fa){L=fa},ja._setAsap=function(fa){N=fa},ja._asap=N,ja.polyfill=function(){var fa=void 0;if(void 0!==t)fa=t;else if("undefined"!=typeof self)fa=self;else try{fa=Function("return this")()}catch(ka){throw Error("polyfill failed because global object is unavailable in this environment");}var ha=fa.Promise;if(ha){var la=null;try{la=Object.prototype.toString.call(ha.resolve())}catch(ka){}if("[object Promise]"===
la&&!ha.cast)return}fa.Promise=ja},ja.Promise=ja,ja}()}).call(this,d(189),d(165))},291:function(l,c,d){var w=d(1);l=d(17);var t=d(89);d=function(z){function x(){return null!==z&&z.apply(this,arguments)||this}return Object(w.d)(x,z),x.prototype.render=function(y){return y("div",{class:"ib-ex-results__item-list"},y("div",{class:"ib-ex-results__no-items-container"},y("div",{class:"ib-ex-results__no-items-centered"},y("svg",{role:"img",viewBox:"0 0 256 256",width:"256"},y("path",{fill:"#ccc",d:t.f})),
y("p",{class:"ib-ex-results__no-items-text"},this.props.text))))},x}(l.Component);c.a=d},33:function(l,c,d){function w(Z){return Z.reduce(function(ca,R){return R&&R.relatedItems?ca.concat(R.relatedItems.map(function(Y){return Y})):ca},[])}function t(Z,ca,R){return Z(ca,{query:Object(y.a)({f:"json"},R)}).then(function(Y){return Y.data})}function z(Z,ca){void 0===ca&&(ca=100);for(var R=[],Y=0;Y<Math.ceil(Z.length/ca);Y++)R.push(Z.slice(Y*ca,(Y+1)*ca));return R.filter(function(ba){return 0<ba.length})}
function x(Z){var ca=Z.itemIds,R=Z.request,Y=Z.groupIds,ba="".concat(Z.portal.restUrl,"/content/itemsgroups");return new A.Promise(function(aa,W){R(ba,{method:"get",query:{f:"json",items:ca,groups:Y}}).then(function(da){aa(da.data)},W)})}d.d(c,"u",function(){return B});d.d(c,"n",function(){return D});d.d(c,"h",function(){return C});d.d(c,"e",function(){return E});d.d(c,"f",function(){return H});d.d(c,"j",function(){return G});d.d(c,"o",function(){return F});d.d(c,"l",function(){return I});d.d(c,"k",
function(){return J});d.d(c,"m",function(){return K});d.d(c,"c",function(){return P});d.d(c,"d",function(){return T});d.d(c,"r",function(){return S});d.d(c,"s",function(){return L});d.d(c,"t",function(){return N});d.d(c,"g",function(){return O});d.d(c,"p",function(){return Q});d.d(c,"q",function(){return V});d.d(c,"v",function(){return t});d.d(c,"a",function(){return z});d.d(c,"i",function(){return x});d.d(c,"b",function(){return X});var y=d(1),A=d(28),B=function(Z){return function(ca,R){return Z({url:ca,
content:R.query},{usePost:"post"===R.method}).then(function(Y){return{data:Y}})}},D=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,"/portals/self"),{culture:R,default:!0})},C=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,"/content/items/").concat(R,"/data"))},E=function(Z,ca,R,Y){return t(Z,"".concat(ca.restUrl,"/community/groups"),Object(y.a)({q:R},Y))},H=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,"/community/groups/").concat(R,"/categorySchema"))},G=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,
"/portals/").concat(R||ca.id,"/categorySchema"))},F=function(Z,ca){return t(Z,"".concat(ca.restUrl,"/portals/").concat(ca.id,"/servers"))},I=function(Z,ca,R,Y){return Z("".concat(ca.restUrl,"/portals/").concat(R||ca.id,"/collaborationsSummary"),Y)},J=function(Z,ca,R,Y){return Z("".concat(ca.restUrl,"/portals/").concat(R||ca.id,"/collaboratedItems"),Y)},K=function(Z,ca,R){return t(Z,"".concat(location.protocol,"//").concat(ca.portalHostname,"/sharing/rest/portals/").concat(R||"self"))},P=function(Z,
ca,R){return Z("".concat(ca.restUrl,"/community/groups"),{query:{f:"json",q:"orgid:".concat(ca.id," AND access:public"),num:100,start:R||1,sortField:"title",sortOrder:"asc"}}).then(function(Y){return Y.data.total>Y.data.start+Y.data.num?P(Z,ca,Y.data.start+Y.data.num).then(function(ba){return Object(y.a)(Object(y.a)({},ba),{data:Object(y.a)(Object(y.a)({},ba.data),{results:Y.data.results.concat(ba.data.results)})})}):Y})},T=function(Z,ca,R,Y){return Z("".concat(ca.restUrl,"/community/users/").concat(R,
"/provisionedListings"),{query:{f:"json",num:100,start:Y||1}}).then(function(ba){var aa=A.Promise.all(ba.data.provisionedListings.filter(function(da){return da.itemId}).map(function(da){return(new A.Promise(function(ea,ja){Z("".concat(ca.restUrl,"/content/items/").concat(da.itemId),{method:"get",query:{f:"json"}}).then(function(fa){ea(fa.data)},ja)})).catch(function(ea){return 0})})),W=ba.data.provisionedListings.map(function(da){return t(Z,"".concat(ca.restUrl,"/content/items/").concat(da.id||da.itemId,
"/relatedItems?relationshipType\x3dListed2ImplicitlyListed\x26direction\x3dforward")).then(function(ea){return ea},function(ea){})});return ba.data.total>ba.data.start+ba.data.num?T(Z,ca,R,ba.data.start+ba.data.num).then(function(da){return A.Promise.all([aa].concat(W)).then(function(ea){return ea[0].results.concat(w(ea.slice(1))).concat(da)})}):A.Promise.all([aa].concat(W)).then(function(da){return da[0].filter(function(ea){return void 0!==ea}).concat(w(da.slice(1)))})})},S=function(Z,ca,R){return t(Z,
"".concat(ca.restUrl,"/community/users/").concat(R||ca.user.username))},L=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,"/content/users/").concat(R||ca.user.username),{num:1})},N=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,"/content/groups/").concat(R))},O=function(Z,ca,R){return t(Z,"".concat(ca.restUrl,"/community/groups"),R)},Q=function(Z,ca){return t(Z,"".concat(ca.restUrl,"/portals/self/settings"))},V=function(Z,ca){return t(Z,"".concat(ca.restUrl,"/portals/self/trustedOrgs"),{num:100})},
X=function(Z,ca){return void 0===ca&&(ca=","),Z.map(function(R){return R.id}).join(ca)}},357:function(l,c){l.exports=r},358:function(l,c){l.exports=e},359:function(l,c){l.exports=v},360:function(l,c,d){d.d(c,"a",function(){return y});var w=d(1),t=d(71);l=d(248);var z=d.n(l);l=d(17);var x=d(89),y=function(A){function B(D){var C=A.call(this,D)||this;return C.state.searchTerm=C.props.currentSearchString||"",C.debouncedInput=z()(function(){C.props.changeSearchString.apply(C,[C.state.searchTerm])},400),
C.handleInputChange=C.handleInputChange.bind(C),C.handleClear=C.handleClear.bind(C),C}return Object(w.d)(B,A),B.prototype.componentWillReceiveProps=function(D){D.currentSearchString!==this.props.currentSearchString&&this.setState({searchTerm:D.currentSearchString})},B.prototype.render=function(D){var C=this.props,E=C.title,H=C.placeholder;C=C.controls;var G=this.state.searchTerm||"";return D("div",{class:"ac-search-area"},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 20 20",key:"search-input-icon"},
D("path",{d:"M19.205 18.295l-7.036-7.035A6.874 6.874 0 0 0 6.875 0 6.874 6.874 0 0 0 0 6.875a6.874 6.874 0 0 0 11.286 5.27l7.035 7.034.884-.884zM1.25 6.875A5.632 5.632 0 0 1 6.875 1.25 5.632 5.632 0 0 1 12.5 6.875 5.632 5.632 0 0 1 6.875 12.5 5.632 5.632 0 0 1 1.25 6.875z",fill:"currentColor"})),D("input",{class:"ac-search-area__input",key:"search-input",title:E,"aria-label":E,type:"search",oninput:this.handleInputChange,value:G,placeholder:H,"aria-controls":C}),G&&D("button",{class:"ac-search-area__clear",
onclick:this.handleClear,key:"search-input-button","aria-label":t.clearSearch},D("svg",{role:"img",width:"20",height:"20",viewBox:"0 0 24 24"},D("path",{d:x.k,fill:"currentColor"}))))},B.prototype.handleInputChange=function(D){this.setState({searchTerm:D.target.value});this.debouncedInput()},B.prototype.handleClear=function(){this.setState({searchTerm:""});this.props.changeSearchString("")},B}(l.Component)},361:function(l,c){l.exports=g},399:function(l,c,d){var w,t=d(1);l=d(17);var z=d(59),x=d(508),
y=d(41),A=d(505),B=d(507),D=d(506),C=d(509),E=d(25);d=function(G){function F(){return null!==G&&G.apply(this,arguments)||this}return Object(t.d)(F,G),F.prototype.render=function(I){return this.props.availableFilters.map(function(J){return I(H[J],{key:"gb-filter-".concat(J)})})},F}(l.Component);var H=((w={})[y.a.DATE_CREATED]=A.a,w[y.a.OWNER]=D.a,w[y.a.DESIGNATION]=B.a,w[y.a.USER]=x.a,w[y.a.MEMBERSHIP]=C.a,w);c.a=Object(l.connect)(function(G){G=Object(z.b)(G)?G:G.gbState;var F=G.utils,I=(F.portalUser.username,
F.portal),J=G.config,K=J.shareMode;F=J.enableUserToggle;var P=J.userType;J=J.withinAppConfig;G.parameters.filter.currentUsername;if(J)return{availableFilters:[y.a.OWNER]};if(P===E.e.PUBLIC)switch(K){case E.d.DEFAULT:return{availableFilters:[y.a.OWNER,y.a.DATE_CREATED]};case E.d.GROUP:return{availableFilters:[y.a.DATE_CREATED]}}switch(K){case E.d.DEFAULT:case E.d.INVITE:return{availableFilters:Object(t.g)(Object(t.g)([y.a.OWNER],I.isPortal?[]:[y.a.MEMBERSHIP],!0),[y.a.DESIGNATION,y.a.DATE_CREATED],
!1)};case E.d.GROUP:return{availableFilters:[y.a.DESIGNATION,y.a.DATE_CREATED]};case E.d.ADMIN:return G=[y.a.OWNER],{availableFilters:Object(t.g)(Object(t.g)(Object(t.g)([],F?[y.a.USER]:[],!0),G,!0),[y.a.DESIGNATION,y.a.DATE_CREATED],!1)};default:return{availableFilters:[]}}},function(G){return{}})(d)},41:function(l,c,d){d.d(c,"b",function(){return w});d.d(c,"d",function(){return z});d.d(c,"c",function(){return x});d.d(c,"a",function(){return y});d.d(c,"f",function(){return D});var w,t,z,x,y,A=d(1),
B=d(27);!function(C){C.openData="openData";C.updateGroups="updateGroups";C.distributed="distributed";C.administrative="administrative";C.orgSettings="orgSettings"}(w||(w={}));(t||(t={})).owner="owner";(function(C){C.itemOwner="itemOwner";C.inOrg="inOrg";C.outsideOrg="outsideOrg"})(z||(z={}));(function(C){C.myOrg="org";C.partnered="collaboration";C.anyOrg="anyOrg"})(x||(x={}));(function(C){C.USER="USER";C.OWNER="OWNER";C.DESIGNATION="DESIGNATION";C.DATE_CREATED="DATE_CREATED";C.MEMBERSHIP="MEMBERSHIP"})(y||
(y={}));var D={currentUsername:"",allUsers:{},searchString:"",availableFilters:[]};c.e=function(C,E){switch(void 0===C&&(C=D),E.type){case B.a.CLEAR_FILTERS:switch(E.payload){case y.DESIGNATION:return Object(A.a)(Object(A.a)({},C),{designationFilter:void 0});case y.DATE_CREATED:return Object(A.a)(Object(A.a)({},C),{dateCreatedFilter:void 0});case y.OWNER:return Object(A.a)(Object(A.a)({},C),{ownerFilter:void 0});case y.USER:return C;case y.MEMBERSHIP:return Object(A.a)(Object(A.a)({},C),{membershipFilter:void 0});
default:return Object(A.a)(Object(A.a)({},C),{designationFilter:void 0,dateCreatedFilter:void 0,membershipFilter:void 0,ownerFilter:void 0})}case B.a.UPDATE_OWNER_FILTER:return Object(A.a)(Object(A.a)({},C),{ownerFilter:E.payload===C.ownerFilter?void 0:E.payload});case B.a.UPDATE_USERNAME_FILTER:return Object(A.a)(Object(A.a)({},C),{currentUsername:E.payload});case B.a.UPDATE_CREATED_ON_FILTER:return Object(A.a)(Object(A.a)({},C),{dateCreatedFilter:E.payload.created});case B.a.UPDATE_GROUP_DESIGNATION_FILTER:return Object(A.a)(Object(A.a)({},
C),{designationFilter:E.payload===C.designationFilter?void 0:E.payload});case B.a.UPDATE_MEMBERSHIP_FILTER:return Object(A.a)(Object(A.a)({},C),{membershipFilter:E.payload===C.membershipFilter?void 0:E.payload});case B.a.SET_USERS:return Object(A.a)(Object(A.a)({},C),{allUsers:E.payload.reduce(function(H,G){var F;return Object(A.a)(Object(A.a)({},H),((F={})[G.username]=G,F))},{})});case B.a.SET_SEARCH_STRING:return Object(A.a)(Object(A.a)({},C),{searchString:E.payload});default:return C}}},429:function(l,
c){l.exports=p},47:function(l,c,d){function w(N){return!(!N.urlKey||!N.customBaseUrl)||N.isPortal}function t(N){return N.role===F.admin||N.role===F.accountAdmin}function z(N){return Object(K.a)(N.roleId)&&0<(N.roleId||"").length}function x(N){return"Developer Subscription"===N}function y(N){return!z(N)||z(N)&&-1<(N.privileges||[]).indexOf("portal:admin:viewItems")}function A(N){return-1<(N.privileges||[]).indexOf("portal:user:shareToOrg")}function B(N){return-1<(N.privileges||[]).indexOf("portal:user:shareToGroup")}
function D(N){return-1<(N.privileges||[]).indexOf("portal:user:shareToPublic")}function C(N,O){return E(N)||H(N)||G(N)}function E(N){return-1<(N.privileges||[]).indexOf("portal:admin:shareToGroup")}function H(N){return-1<(N.privileges||[]).indexOf("portal:admin:shareToOrg")}function G(N){return-1<(N.privileges||[]).indexOf("portal:admin:shareToPublic")}d.d(c,"m",function(){return T});d.d(c,"h",function(){return S});d.d(c,"n",function(){return L});d.d(c,"l",function(){return w});d.d(c,"i",function(){return t});
d.d(c,"j",function(){return z});d.d(c,"k",function(){return x});d.d(c,"g",function(){return y});d.d(c,"b",function(){return A});d.d(c,"a",function(){return B});d.d(c,"c",function(){return D});d.d(c,"d",function(){return E});d.d(c,"e",function(){return H});d.d(c,"f",function(){return G});var F,I=d(64),J=d(142),K=d(7),P=d(61);!function(N){N.user="org_user";N.accountUser="account_user";N.publisher="org_publisher";N.accountPublisher="account_publisher";N.admin="org_admin";N.accountAdmin="account_admin";
N.viewer="iAAAAAAAAAAAAAAA";N.dataEditor="iBBBBBBBBBBBBBBB"}(F||(F={}));var T=function(N){var O=N.items;return!!N.user.orgId&&O.every(function(Q){return Q.isOrgItem})},S=function(N){var O=N.items,Q=N.user,V=N.portal;N=O[0];var X=Object(P.c)(N,Q),Z=z(Q),ca=C(Q,V);if(Z=Object(P.a)(N,Q)&&-1<(Q.privileges||[]).indexOf("portal:admin:updateItems")&&!Z)Z=!w(V)||B(Q)||A(Q)||V.canSharePublic&&D(Q)||C(Q,V);V=Z;Z=N.owner;return!(N.portal.isPortal&&Z!==Q.username&&Z.includes("esri_")&&!["esri_livingatlas"].includes(Z))&&
(X||V||T({items:O,user:Q})&&ca)},L=function(N,O){return Object(I.a)(Object(J.a)(N))(O)}},503:function(l,c,d){var w=d(1),t=d(71),z=d(271);l=d(17);var x=d(186),y=d(765),A=d(766),B=d(980),D=d(59),C=d(359),E=d.n(C),H=d(27);C=d(272);var G=d.n(C),F=d(360);d=function(I){function J(K){K=I.call(this,K)||this;return K.handleInputChange=K.handleInputChange.bind(K),K.handleSortFieldChange=K.handleSortFieldChange.bind(K),K.handleSortOrderChange=K.handleSortOrderChange.bind(K),K.handleSortClick=K.handleSortClick.bind(K),
K}return Object(w.d)(J,I),J.prototype.render=function(K){var P=z.substitute(this.props.userFileringEnabled?t.searchGroupsForUser:t.searchGroups,{user:this.props.currentUser});return K("div",{classes:{"gb-search-area__container":!0,"gb-search-area__container--offset-top":this.props.isWithinShare}},K(F.a,{key:"groupbrowser-search-area-input",title:P,placeholder:P,currentSearchString:this.props.currentSearchString,changeSearchString:this.handleInputChange,controls:"group-browser-results-region"}),!this.props.isWithinShare&&
K("div",{class:"gb-search-area__btn-section"},K(E.a,{active:this.props.sortActive,key:"gb-sort-dropdown",field:this.props.sortField,order:this.props.sortOrder,availableFields:["title","owner","created","modified"],onFieldChange:this.handleSortFieldChange,onOrderChange:this.handleSortOrderChange,onClick:this.handleSortClick})),this.props.filteringEnabled&&K(G.a,{key:"ib-ex-filter-btn",active:this.props.filtersOpen,center:!0,handleClick:this.props.toggleFilterSidebar,ariaControls:"filter-pane-container"},
K("div",{class:"drp-sort__btn-body"},K("svg",{role:"img",viewBox:"0 0 16 16",width:"16px",height:"16px"},K("path",{d:"M3 8h1v1H3v7H2V9H1V8h1V0h1zm6-8H8v4H7v1h1v11h1V5h1V4H9zm6 12V0h-1v12h-1v1h1v3h1v-3h1v-1z"})),K("span",{class:"drp-sort__btn-label"},t.filter))))},J.prototype.handleInputChange=function(K){this.props.changeSearchString(K);this.props.updateDisplayGroups()},J.prototype.handleSortFieldChange=function(K){this.props.changeSortField(K);this.props.updateDisplayGroups()},J.prototype.handleSortOrderChange=
function(K){this.props.changeSortOrder(K);this.props.updateDisplayGroups()},J.prototype.handleSortClick=function(){this.props.toggleSortDropdown()},J}(l.Component);c.a=Object(l.connect)(function(I){var J=Object(D.b)(I)?I:I.gbState,K=J.ui,P=J.parameters;J=J.config;return{currentSearchString:P.filter.searchString,sortActive:K.sort,sortField:P.sort.field,sortOrder:P.sort.order,filteringEnabled:J.enableFiltering,filtersOpen:K.filter.expanded,isWithinShare:!Object(D.b)(I),userFileringEnabled:J.enableUserToggle,
currentUser:P.filter.currentUsername}},function(I){return{changeSearchString:function(J){return I(Object(x.b)(J))},changeSortField:function(J){return I(Object(y.a)(J))},changeSortOrder:function(J){return I(Object(y.b)(J))},updateDisplayGroups:function(){I(Object(A.a)(1))},toggleSortDropdown:function(){return I(Object(B.a)())},toggleFilterSidebar:function(){I({type:H.a.TOGGLE_EXPANDED_FILTERS})}}})(d)},504:function(l,c,d){var w=d(1),t=d(71);l=d(17);var z=d(59),x=d(399);d=function(y){function A(){return null!==
y&&y.apply(this,arguments)||this}return Object(w.d)(A,y),A.prototype.render=function(B){var D=this.props.filterOpen;return B("div",{classes:{"ib__big-section":!0,"ib__big-filters":!0,"ib__big-filters--narrow":!0,"ib__big-filters--visible":D,"ib__big-filters--hidden":!D}},B("div",{id:"filter-pane-container",key:"filter-pane-container",classes:{"ib-filter-pane__container":!0,hide:!D}},B("h3",{class:"ib__big-filter-label"},t.filters),B(x.a,{key:"group-browser-filters"})))},A}(l.Component);c.a=Object(l.connect)(function(y){return{filterOpen:(Object(z.b)(y)?
y:y.gbState).ui.filter.expanded}},function(y){return{}})(d)},505:function(l,c,d){l=d(17);var w=d(361);w=d.n(w);var t=d(59),z=d(186),x=d(151);c.a=Object(l.connect)(function(y){y=Object(t.b)(y)?y:y.gbState;return{dateCreatedFilter:y.parameters.filter.dateCreatedFilter,dateCreatedSection:y.ui.filter.dateCreatedSelectedSection}},function(y){return{onDateCreatedSelect:function(A,B){y(Object(z.d)({section:A,created:B}));y(x.b)}}})(w.a)},506:function(l,c,d){var w=d(1),t=d(71);l=d(17);var z=d(59),x=d(186),
y=d(151),A=d(41),B=d(249),D=d.n(B);B=d(214);var C=d.n(B),E=d(25);d=function(H){function G(){return null!==H&&H.apply(this,arguments)||this}return Object(w.d)(G,H),G.prototype.render=function(F){var I=this.props,J=I.currentFilter,K=I.handleOwnerClick,P=I.username,T=I.userType,S=I.portal,L=I.hasIndoorsSpaces;return F(D.a,{key:"group-owner-filter-accordion",title:t.owner,clearable:!!J,onClear:function(){K(J)},startActive:!0},F("ul",{class:"ib-filter-pane__list"},Object.keys(A.d).map(function(N){if(!(N===
A.d.inOrg&&T===E.e.PUBLIC||N===A.d.outsideOrg&&(S.isPortal||L))){var O=t.ownerTitles[N];N===A.d.itemOwner?O=P:N===A.d.outsideOrg&&T===E.e.PUBLIC&&(O=t.ownerTitles.someOneElse);var Q=A.d[N];return F(C.a,{key:Q,name:O,value:Q,selectedToggle:J,onToggleClick:function(){K(Q)}})}})))},G}(l.Component);c.a=Object(l.connect)(function(H){var G=Object(z.b)(H)?H:H.gbState;H=G.utils;var F=H.portalUser.username,I=G.parameters.filter,J=I.currentUsername;G=G.config;return{currentFilter:I.ownerFilter,portal:H.portal,
username:G.shareMode===E.d.ADMIN?J:F,userType:G.userType,hasIndoorsSpaces:G.hasIndoorsSpaces}},function(H){return{handleOwnerClick:function(G){H(Object(x.g)(G));H(y.b)}}})(d)},507:function(l,c,d){var w=d(1),t=d(71);l=d(17);var z=d(59),x=d(186),y=d(151),A=d(41),B=d(249),D=d.n(B);B=d(214);var C=d.n(B),E=d(25);d=function(H){function G(){return null!==H&&H.apply(this,arguments)||this}return Object(w.d)(G,H),G.prototype.render=function(F){var I=this.props,J=I.currentFilter,K=I.handleDesignationClick,P=
I.showSharedUpdate,T=I.portal,S=I.hasIndoorsSpaces;return F(D.a,{key:"group-designation-filter-accordion",title:t.designation,clearable:!!J,onClear:function(){K(J)}},F("ul",{class:"ib-filter-pane__list"},Object.keys(A.b).filter(function(L){return!(L===A.b.updateGroups&&!P)&&(L!==A.b.openData||!T.isPortal)&&(L!==A.b.distributed||!S)}).map(function(L){var N=A.b[L];return F(C.a,{key:N,name:t.designationFilterTitles[L],value:N,selectedToggle:J,onToggleClick:function(){K(N)},infoTooltip:"orgSettings"===
N?t.orgSettingsTooltip:void 0})})))},G}(l.Component);c.a=Object(l.connect)(function(H){var G=Object(z.b)(H)?H:H.gbState;H=G.utils;var F=H.portalUser.username,I=G.config,J=I.shareMode;G=G.parameters.filter;var K=G.currentUsername;return{currentFilter:G.designationFilter,portal:H.portal,hasIndoorsSpaces:I.hasIndoorsSpaces,showSharedUpdate:(!I.enableUserToggle||F!==K)&&J!==E.d.GROUP}},function(H){return{handleDesignationClick:function(G){H(Object(x.e)(G));H(y.b)}}})(d)},508:function(l,c,d){var w=d(1),
t=d(71);l=d(17);var z=d(59),x=d(186),y=d(151),A=d(249),B=d.n(A);A=d(214);var D=d.n(A);d=function(C){function E(){return null!==C&&C.apply(this,arguments)||this}return Object(w.d)(E,C),E.prototype.render=function(H){var G=this.props,F=G.currentUsername,I=G.portalUsername,J=G.handleUserClick;return H(B.a,{key:"user-toggle-filter-accordion",title:t.viewGroupsFor,clearable:!1,startActive:!0},H("ul",{class:"ib-filter-pane__list"},G.allUsernames.map(function(K){var P=K===F,T=I===K?"".concat(K," ").concat(t.me):
K;return H(D.a,{key:K,name:T,value:K,selectedToggle:F,onToggleClick:function(){P||J(K)}})})))},E}(l.Component);c.a=Object(l.connect)(function(C){C=Object(z.b)(C)?C:C.gbState;var E=C.parameters.filter,H=C.utils.portal.portalUser.username;return{currentUsername:E.currentUsername,portalUsername:H,allUsernames:Object.keys(E.allUsers).sort(function(G){return G===H?1:-1})}},function(C){return{handleUserClick:function(E){C(Object(x.a)());C(Object(x.h)(E));C(y.b)}}})(d)},509:function(l,c,d){var w=d(1),t=
d(71);l=d(17);var z=d(59),x=d(186),y=d(151),A=d(249),B=d.n(A);A=d(214);var D=d.n(A),C=d(41);d=function(E){function H(){return null!==E&&E.apply(this,arguments)||this}return Object(w.d)(H,E),H.prototype.render=function(G){var F=this.props,I=F.currentFilter,J=F.hasTrustedOrgs,K=F.handleMembershipClick;if(!F.hasIndoorsSpaces)return G(B.a,{key:"group-membership-filter-accordion",title:t.membership,clearable:!!I,onClear:function(){K(I)},flex:!0},G("ul",{class:"ib-filter-pane__list"},Object.keys(C.c).filter(function(P){return J||
"partnered"!==P}).map(function(P){var T=C.c[P];return G(D.a,{key:T,name:t.membershipFilterTitles[P],value:T,selectedToggle:I,onToggleClick:function(){K(T)}})})))},H}(l.Component);c.a=Object(l.connect)(function(E){E=Object(z.b)(E)?E:E.gbState;var H=E.config;return{currentFilter:E.parameters.filter.membershipFilter,hasTrustedOrgs:H.hasTrustedOrgs,hasIndoorsSpaces:H.hasIndoorsSpaces}},function(E){return{handleMembershipClick:function(H){E(Object(x.f)(H));E(y.b)}}})(d)},510:function(l,c,d){var w=d(1);
l=d(17);var t=d(203),z=d.n(t),x=d(515),y=d(511),A=d(139),B=d(59),D=d(133);d=function(C){function E(){var H=null!==C&&C.apply(this,arguments)||this;return H.handleGroupCheck=function(G){if(H.props.enableSingleSelection){var F=Object.keys(H.props.selectedGroups).map(function(I){return H.props.selectedGroups[I].group});H.props.deselectGroups(F)}H.props.selectGroups([G])},H.handleGroupUncheck=function(G){H.props.deselectGroups([G])},H.handleGroupRevert=function(G){H.props.revertGroups([G])},H}return Object(w.d)(E,
C),E.prototype.render=function(H){var G=this.props,F=G.selectorItems,I=G.displayGroups,J=G.selectedGroups,K=G.sortField,P=G.initialSelectedGroups,T=G.portal,S=G.shouldDisable,L=G.disabledText,N=G.noFilters;G=G.status===D.a.LOADING;var O={"gb-results-panel__section-container":!0,"gb-results-panel__section-container--loading":G};return H("div",{classes:{"gb-results-panel__container":!0,"ib__big-section":!0,"ib__big-results":!0}},G?H(z.a,{key:"group-browser-loader-bars"}):null,H("section",{classes:O,
key:"group-browser-section-totals"},H(y.a,{key:"group-browser-totals"})),H("section",{classes:O,key:"group-browser-section-groups"},H(x.a,{key:"groups-area",selectorItems:F,displayGroups:I,selectedGroups:J,sortField:K,handleGroupCheck:this.handleGroupCheck,handleGroupUncheck:this.handleGroupUncheck,handleGroupRevert:this.handleGroupRevert,initialSelectedGroups:P,portal:T,noFilters:N,shouldDisable:S,disabledText:L})))},E}(l.Component);c.a=Object(l.connect)(function(C){C=Object(B.b)(C)?C:C.gbState;
var E=C.groups,H=C.config,G=C.parameters,F=G.filter,I=F.ownerFilter,J=F.designationFilter,K=F.dateCreatedFilter;return{status:E.status,displayGroups:E.displayGroups,selectedGroups:E.selectedGroups,sortField:G.sort.field,noFilters:!(F.searchString||J||K||I),portal:C.utils.portal,selectorItems:E.selectorItems,initialSelectedGroups:E.initialSelectedGroups,shouldDisable:H.shouldDisable,disabledText:H.disabledText,enableSingleSelection:H.enableSingleSelection}},function(C){return{selectGroups:function(E){return C(Object(A.d)(E))},
deselectGroups:function(E){return C(Object(A.b)(E))},revertGroups:function(E){return C(Object(A.c)(E))}}})(d)},511:function(l,c,d){var w=d(1),t=d(71),z=d(143);l=d(17);var x=d(139),y=d(512),A=d(59),B=d(133),D=d(514);d=function(C){function E(){var H=null!==C&&C.apply(this,arguments)||this;return H.handleSelectAll=function(){H.props.selectGroups(H.props.displayGroups)},H.handleDeselectAll=function(){H.props.deselectGroups(H.props.displayGroups)},H.handleClearSelection=function(){H.props.clearAll()},
H}return Object(w.d)(E,C),E.prototype.render=function(H){var G=this,F=this.props,I=F.displayGroups,J=F.selectedGroups,K=F.selectorItems,P=F.portal,T=F.isWithinShare,S=F.enableSingleSelection;F=function(O){var Q=O.fullySelectedGroups,V=O.displayGroups.map(function(X){return X.id});return Q.filter(function(X){return 0<=V.indexOf(X.id)})}({fullySelectedGroups:F.fullySelectedGroups,displayGroups:I});I=I.length===F.length;F=Object.keys(J).map(function(O){return J[O]});var L="en"===z.locale.slice(0,2),
N=(L?t.pageRange.en:t.pageRange.other).replace("${start}",this.props.startNum).replace("${end}",this.props.endNum).replace("${total}",this.props.totalItems);L=(L?t.total.en:t.total.other).replace("${total}",this.props.totalItems);return H("div",{class:"gb-total-area__wrap",key:"gb-total-area__wrap"},H("div",{class:"gb-total-area__container",key:"gb-total-area-checked"},0<F.length&&H(y.a,{key:"selected-groups-dropdown",groups:F,items:K,handleGroupClick:function(O){G.props.deselectGroups([O])},portal:P}),
0<F.length&&H("button",{key:"gb-clear-selection-btn",id:"gb__clear-selection-btn",class:"gb-total-area__btn-link",onclick:this.handleClearSelection},t.clearSelection),0===F.length&&H("span",{class:"gb-total-area__description"},N,H("span",{class:"gb-total-area__screen-reader-total","aria-live":"polite",id:"group-browser-results-region"},L)),T||S?null:I?H("button",{key:"gb-select-all-btn",id:"gb__select-all-input",class:"gb-total-area__clear-btn",onclick:this.handleDeselectAll},t.deselectAllOnPage):
H("button",{key:"gb-select-all-btn",id:"gb__select-all-input",class:"gb-total-area__clear-btn",onclick:this.handleSelectAll},t.selectAllOnPage)),H(D.a,{key:"gb-filter-chips"}))},E}(l.Component);c.a=Object(l.connect)(function(C){var E=Object(A.b)(C)?C:C.gbState,H=E.groups,G=H.total,F=H.selectedGroups,I=H.selectorItems,J=E.config,K=J.groupsPerPage;J=J.enableSingleSelection;var P=E.utils.portal,T=E.ui.page.currentPageNumber,S=0===G?0:K*(T-1)+1;K=G<K*T?G:K*T;return{displayGroups:H.displayGroups,fullySelectedGroups:Object(B.d)(E.groups),
selectedGroups:F,selectorItems:I,startNum:S,endNum:K,totalItems:G,portal:P,isWithinShare:!Object(A.b)(C),enableSingleSelection:J}},function(C){return{selectGroups:function(E){return C(Object(x.d)(E))},deselectGroups:function(E){return C(Object(x.b)(E))},clearAll:function(){return C(Object(x.a)())}}})(d)},512:function(l,c,d){var w=d(1),t=d(71),z=d(143);l=d(17);var x=d(89),y=d(513),A={open:!1};d=function(B){function D(){var C=null!==B&&B.apply(this,arguments)||this;return C.state=A,C.handleClick=function(E){E=
E.target;C.dropdown&&C.dropdown.contains(E)||((E=C.toggleButton&&C.toggleButton.contains(E))?C.setState({open:!C.state.open}):C.state.open&&!E&&C.setState({open:!1}))},C}return Object(w.d)(D,B),D.prototype.render=function(C){var E=this,H=this.props,G=H.groups,F=H.handleGroupClick,I=H.items,J=H.portal;H=1<G.length?t.groupsSelected.enPlural:t.groupsSelected.en;"en"!==z.locale.slice(0,2)&&(H=t.groupsSelected.other);H=H.replace("${num}",G.length);var K=I.some(function(P){return!!P.username});return C("div",
{key:"selected-dropdown",class:"selected-dropdown",afterCreate:function(){document.addEventListener("click",E.handleClick)},afterRemoved:function(){document.removeEventListener("click",E.handleClick);E.setState(A)}},C("button",{class:"selected-dropdown__toggle-button",key:"selected-dropdown__toggle-button","aria-haspopup":"true",afterCreate:function(P){E.toggleButton=P},afterRemoved:function(){E.toggleButton=void 0}},C("span",{class:"selected-dropdown__toggle-button__text"},H),C("svg",{role:"img",
style:"\n              padding: 0 9px;\n              width: 16px;\n              height: 16px;\n              fill: white;"},C("path",{d:x.a}))),this.state.open&&C("div",{class:"selected-dropdown__list__container",key:"selected-dropdown__list__container",afterCreate:function(P){E.dropdown=P},afterRemoved:function(){E.dropdown=void 0}},C("h3",{class:"selected-dropdown__list__title"},t.selectedGroups),C("ul",{id:"selected-dropdown__list",class:"selected-dropdown__list",key:"selected-dropdown__list",
role:"menu"},G.map(function(P){return C(y.a,{selectedGroupData:P,itemTotal:I.length,handleCloseClick:F,key:P.group.id,portal:J,isMemberSelector:K})}))))},D}(l.Component);c.a=d},513:function(l,c,d){var w=d(1),t=d(71),z=d(143);l=d(17);var x=d(243),y=d(89);d=function(A){function B(){return null!==A&&A.apply(this,arguments)||this}return Object(w.d)(B,A),B.prototype.render=function(D){var C=this.props,E=C.selectedGroupData,H=C.handleCloseClick,G=C.itemTotal,F=C.portal,I=E.group;E=E.selectedByIds&&E.selectedByIds.length;
C=C.isMemberSelector?t.membersSelected:t.itemsSelected;C="en"===z.locale.slice(0,2)?C.en.replace("${num}",E).replace("${total}",G):C.other.replace("${num}",E).replace("${total}",G);var J=t.deselectGroup.replace("${name}",I.title);return D("li",{class:"selected-dropdown__list-item",role:"menuitem",key:I.id},D(x.a,{group:I,stacked:!0,portal:F}),D("span",{class:"selected-dropdown__list-item__description"},I.title,E!==G&&D("span",{class:"selected-dropdown__list-item__count"},C)),D("button",{class:"selected-dropdown__list-item__button",
onclick:function(){H(I)},"aria-label":J},D("svg",null,D("path",{d:y.j}))))},B}(l.Component);c.a=d},514:function(l,c,d){var w=d(1),t=d(71),z=d(271);l=d(17);var x=d(59),y=d(41),A=d(429),B=d.n(A),D=d(186),C=d(151),E=d(25);d=function(G){function F(){var I=null!==G&&G.apply(this,arguments)||this;return I.state={filterOpen:!1},I}return Object(w.d)(F,G),F.prototype.render=function(I){var J=this,K=this.props,P=K.activeFilters,T=K.handleClearAllFilters,S=K.handleClearFilter,L=this.state.filterOpen;if(0!==
P.length)return I("div",{class:"ib__active-filters gb-filter-chip-wrap",key:"filter-chip-wrap"},I("div",{class:"filter-controller__container",key:"filter-controller__container"},I("span",{class:"filter-controller__label"},t.filters,":"),I("div",{class:"filter-controller__chip-container margin-right-half filter-controller__chip-container--full-width"},L?P.map(function(N){return I(B.a,{filterId:N.type,handleRemoveFilter:function(O){S(N.type)},key:N.type,text:N.text})}):I(B.a,{filterId:P[0].type,handleRemoveFilter:function(N){S(P[0].type)},
key:P[0].type,text:P[0].text}),1<P.length&&I("button",{onclick:function(){return J.setState({filterOpen:!L})},key:"filter-controller-more-button",classes:{"filter-controller__expand-btn":!0,"filter-controller__expand-btn--dark":L}},"".concat(L?"- ":"+ ").concat(P.length-1)),I("button",{class:"filter-controller__clear-btn",onclick:T},t.clearAll))))},F}(l.Component);c.a=Object(l.connect)(function(G){var F=Object(x.b)(G)?G:G.gbState;G=F.utils.portalUser.username;var I=F.config;F=F.parameters.filter;
return{activeFilters:H({filterState:F,username:I.shareMode===E.d.ADMIN?F.currentUsername:G,isPublic:I.userType===E.e.PUBLIC})}},function(G){return{handleClearAllFilters:function(){G(Object(D.a)());G(C.b)},handleClearFilter:function(F){G(Object(D.a)(F));G(C.b)}}})(d);var H=function(G){var F=G.filterState,I=F.designationFilter,J=F.ownerFilter,K=F.dateCreatedFilter,P=F.membershipFilter;F=G.username;G=G.isPublic;var T=[];I&&T.push({text:z.substitute(t.filterChips.designation,{designation:t.designationFilterTitles[I]}),
type:y.a.DESIGNATION});J&&(I=J===y.d.itemOwner&&F||t.ownerTitles[J],J===y.d.outsideOrg&&G&&(I=t.ownerTitles.someOneElse),T.push({text:z.substitute(t.filterChips.owner,{owner:I}),type:y.a.OWNER}));if(K&&T.push({text:z.substitute(t.filterChips.created,{created:K.label}),type:y.a.DATE_CREATED}),P){var S="";Object.keys(y.c).some(function(L){return y.c[L]===P&&(S=L),S});T.push({text:z.substitute(t.filterChips.membership,{membership:t.membershipFilterTitles[S]}),type:y.a.MEMBERSHIP})}return T}},515:function(l,
c,d){var w=d(71);l=d(516);var t=d.n(l);l=d(517);var z=d.n(l),x=d(291),y=d(133);c.a=function(A,B){var D=A.displayGroups,C=A.handleGroupCheck,E=A.handleGroupUncheck,H=A.selectedGroups,G=A.sortField,F=A.portal,I=A.selectorItems,J=A.initialSelectedGroups,K=A.handleGroupRevert,P=A.shouldDisable,T=A.noFilters,S=A.disabledText;return 0===D.length?B(x.a,{key:"no-group-results",text:T?w.noGroupsAvailable:w.noGroupsFound}):D.map(function(L){var N=H[L.id],O=N&&Object(y.e)(N,I);if(0===I.length)return B(t.a,{checked:O,
group:L,key:L.id,sortField:G,onCheckGroup:C,onUncheckGroup:E,portal:F,shouldDisable:P,disabledText:S});var Q=J[L.id],V=!!(N&&!O&&N.selectedByIds&&0<N.selectedByIds.length);Q=Q&&Q.selectedByIds||[];var X=N&&N.selectedByIds||[];N=I.filter(function(Z){return-1<X.indexOf(Z.id)});return B(z.a,{group:L,checked:O,indeterminate:V,initialSelectedByIds:Q,selectedBy:N,allSelectorItemIds:I.map(function(Z){return Z.id}),key:L.id,sortField:G,onCheckGroup:C,onUncheckGroup:E,onRevertGroup:K,portal:F,shouldDisable:P,
disabledText:S||"",selectors:I})})}},516:function(l,c){l.exports=n},517:function(l,c){l.exports=q},59:function(l,c,d){d.d(c,"b",function(){return x});d.d(c,"a",function(){return y});d.d(c,"c",function(){return A});l=d(17);c=d(213);var w=d(206),t=d(133),z=d(208);d=d(205);var x=function(B){return!B.gbState},y={config:d.b,parameters:w.b,groups:t.f,ui:z.b,utils:c.b},A=Object(l.combineReducers)({config:d.a,parameters:w.a,groups:t.b,ui:z.a,utils:c.a})},61:function(l,c,d){function w(B,D){return(null==B?
void 0:B.owner)===D.username}function t(B,D){var C;if(!(C=w(B,D)))if(Object(x.a)(B.isAdmin))C=!!B.isAdmin;else{C=B.owner;var E="admin"===B.itemControl;C=!(B.portal.isPortal&&!w(B,D)&&E&&-1<C.indexOf("esri_")&&0>["esri_livingatlas","esri_demographics","esri_boundaries"].indexOf(C))&&E}return C}function z(B,D){return t(B,D)||"update"===B.itemControl}d.d(c,"d",function(){return w});d.d(c,"c",function(){return t});d.d(c,"a",function(){return z});d.d(c,"b",function(){return A});var x=d(7),y=d(47),A=function(B){var D=
B.user,C=B.items;B=B.portal;return Object(y.m)({items:C,user:D})&&Object(y.h)({items:C,user:D,portal:B})&&Object(y.g)(D)&&C[0].itemOwner||D}},62:function(l,c,d){function w(L){var N=L.groupIds,O=L.shareLevelOptions,Q=L.restUrl,V=L.request,X=L.unshare;return A.Promise.all(L.items.map(function(Z,ca){return new A.Promise(function(R,Y){V("".concat(Q,"/content/items/").concat(Z.itemId||Z.id,"/").concat(X?"unshare":"share"),{method:"post",query:Object(x.a)({f:"json",groups:N,confirmItemControl:!0},O||{})}).then(R,
Y)})})).catch(function(Z){throw Z;})}function t(L,N){return new A.Promise(function(O,Q){var V,X=null===(V=L.helpMap)||void 0===V?void 0:V.m;X?O(X):N("".concat(L.restUrl,"/portals/helpmap"),{query:{f:"json",format:"json"}}).then(function(Z){var ca;O(null===(ca=Z.data.helpMap)||void 0===ca?void 0:ca.m)},Q)})}d.d(c,"i",function(){return D});d.d(c,"h",function(){return C});d.d(c,"b",function(){return E});d.d(c,"e",function(){return H});d.d(c,"d",function(){return G});d.d(c,"g",function(){return P});d.d(c,
"f",function(){return T});d.d(c,"c",function(){return S});d.d(c,"a",function(){return t});var z,x=d(1),y=d(33),A=d(28);l=d(25);var B=d(61),D=function(L){var N=L.items,O=L.groups,Q=L.restUrl,V=L.request,X=L.portalUser;if(0===N.length)return A.Promise.resolve();var Z=Object(y.b)(O);return N.every(function(ca){return Object(B.d)(ca,X)})?new A.Promise(function(ca,R){if(!O||0===O.length)return ca();var Y={f:"json",items:Object(y.b)(N),groups:Z};V("".concat(Q,"/content/users/").concat(X.username,"/unshareItems"),
{method:"post",query:Y}).then(ca,R)}):w({items:N,groupIds:Z,restUrl:Q,request:V,unshare:!0})},C=function(L){var N=L.items,O=L.groups,Q=L.restUrl,V=L.request,X=L.portalUser,Z=L.selectedOptions;L=L.ignoreShareLevel;if(0===N.length)return A.Promise.resolve();if(!L&&!Z)throw"Selected options must be provided unless share level is ignored.";var ca=Object(y.b)(O),R=L?{}:F(Z);return N.every(function(Y){return Object(B.d)(Y,X)})?new A.Promise(function(Y,ba){V("".concat(Q,"/content/users/").concat(X.username,
"/shareItems"),{method:"post",query:Object(x.a)({f:"json",items:Object(y.b)(N),groups:ca,confirmItemControl:!0},R)}).then(function(aa){aa=aa.data;aa.results.every(function(W){return W.success})?Y():ba(aa)},ba)}):w({items:N,groupIds:ca,shareLevelOptions:R,restUrl:Q,request:V})},E=function(L){return L.reduce(function(N,O){return Object(x.g)(Object(x.g)([],N,!0),O,!0)},[])},H=function(L){return 1<Object.keys(L).filter(function(N){return"total"!==N&&0<L[N]}).length},G=function(L){return Object.keys(L).filter(function(N){return"total"!==
N}).reduce(function(N,O){return L[O]===L.total?O:N})},F=function(L){return H(L)?{}:I[G(L)]},I=((z={})[l.b.public]={org:!1,everyone:!0},z[l.b.org]={org:!0,everyone:!1},z[l.b.private]={org:!1,everyone:!1},z[l.b.shared]={org:!1,everyone:!1},z),J="Location Tracking Service;Location Tracking View;IoTFeed;IoTRealTimeAnalytic;IoTBigDataAnalytic;IoTFeatureLayer;IoTMapImageLayer;IoTStreamLayer;Administrative Report;EditExtensionIndoorsSpaces;ArcgisWorkflowJobLocation".split(";"),K=["Knowledge Graph","Pro Project"],
P=function(L){var N,O,Q=L.typeKeywords,V=L.type;V=J.some(function(Z){return-1<Q.indexOf(Z)})&&"Real Time Analytic"!==V&&"Big Data Analytic"!==V;var X=!(null===(N=null==L?void 0:L.portal)||void 0===N?0:N.isPortal)&&"Image Service"===L.type&&-1<(null===(O=L.url)||void 0===O?void 0:O.indexOf("://iservices"))&&-1<L.url.indexOf("arcgis.com");L=K.includes(L.type);return V||X||L},T=function(L){var N,O=null===(N=L.typeKeywords)||void 0===N?void 0:N.includes("Hosted Service");return["Vector Tile Service",
"Map Service","Scene Service","Feature Service"].includes(L.type)&&O},S=function(L,N,O){return O&&N.public===N.total?L.filter(function(Q){return-1<Q.typeKeywords.indexOf("DeveloperBasemap")}):[]}},64:function(l,c,d){function w(){for(var t=[],z=0;z<arguments.length;z++)t[z]=arguments[z];return function(x){return t.reduceRight(function(y,A){return A(y)},x)}}d.d(c,"a",function(){return w})},69:function(l,c,d){var w;d.d(c,"a",function(){return w});(function(t){t.LOADING_GROUPS="LOADING_GROUPS";t.LOAD_GROUPS_SUCCESS=
"LOAD_GROUPS_SUCCESS";t.LOAD_GROUPS_FAIL="LOAD_GROUPS_FAIL";t.SELECT_GROUPS="SELECT_GROUPS";t.SET_INITIAL_GROUPS="SET_INITIAL_GROUPS";t.DESELECT_GROUPS="DESELECT_GROUPS";t.REVERT_GROUPS="REVERT_GROUPS";t.CLEAR_SELECTION="CLEAR_SELECTION";t.SET_SELECTOR_ITEMS="SET_SELECTOR_ITEMS";t.SET_HAS_GROUPS="SET_HAS_GROUPS"})(w||(w={}))},7:function(l,c,d){function w(C){return 0===Object.keys(C).length&&C.constructor===Object}function t(C){return null!=C}function z(C,E){return B.apply(null,arguments)}function x(C,
E){return D.apply(null,arguments)}d.d(c,"b",function(){return w});d.d(c,"a",function(){return t});d.d(c,"e",function(){return A});d.d(c,"c",function(){return z});d.d(c,"d",function(){return x});var y=d(1);l=d(15);var A=Object(l.a)(function(C,E){E=Object(y.a)({},E);return delete E[C],E}),B=Object(l.a)(function(C,E){return Object.keys(E).reduce(function(H,G){return H[G]=C(E[G],G,E),H},{})}),D=Object(l.a)(function(C,E){return Object.keys(E).reduce(function(H,G){return C(E[G],G,E)&&(H[G]=E[G]),H},{})})},
71:function(l,c){l.exports=M},765:function(l,c,d){d.d(c,"a",function(){return t});d.d(c,"b",function(){return z});var w=d(86),t=function(x){return{type:w.a.CHANGE_SORT_FIELD,payload:x}},z=function(x){return{type:w.a.CHANGE_SORT_ORDER,payload:x}}},766:function(l,c,d){d.d(c,"a",function(){return z});var w=d(151),t=d(202),z=function(x){return function(y,A){y({type:t.a.SET_PAGE,payload:x});y(w.b)}}},818:function(l,c,d){d.r(c);var w=d(1),t=d(71);l=d(17);var z=d(59);d.d(c,"reducers",function(){return z.c});
d.d(c,"initialState",function(){return z.a});var x=d(139);d.d(c,"deselectGroups",function(){return x.b});d.d(c,"selectGroups",function(){return x.d});var y=d(151);d.d(c,"search",function(){return y.b});var A=d(766),B=d(357),D=d.n(B),C=d(503),E=d(504),H=d(510);B=d(358);var G=d.n(B),F=d(399),I=d(222);d=function(J){function K(){var P=null!==J&&J.apply(this,arguments)||this;return P.handlePageChange=function(T){var S;P.props.setPageAndUpdateGroups(T);(null===(S=P.el)||void 0===S?0:S.parentElement)&&(P.el.parentElement.scrollTop=
0)},P}return Object(w.d)(K,J),K.prototype.render=function(P){var T=this,S=this.props,L=S.currentTotal,N=S.groupsPerPage,O=S.currentPage,Q=S.filtersOpen;S=S.toggleFilters;return P("div",{class:"group-browser__container",afterCreate:function(V){V&&!T.el&&(T.el=V)}},P(C.a,{key:"group-browser-search-area"}),P("div",{class:"ib__big-row"},P(E.a,{key:"group-browser-filter-sidebar"}),P(H.a,{key:"group-browser-results-panel"})),P(D.a,{key:"group-browse-pager",numPages:N>L?1:Math.ceil(L/N),currentPage:O,onPageChange:this.handlePageChange}),
P("div",{class:"ib__big-overlay-filters"},P(G.a,{key:"mobile-filter-wrap",maxHeight:!0,open:Q,onClose:S,title:t.filters},P(F.a,{key:"mobile-filters"}))))},K}(l.Component);c.default=Object(l.connect)(function(J){J=Object(z.b)(J)?J:J.gbState;var K=J.ui;return{currentPage:K.page.currentPageNumber,groupsPerPage:J.config.groupsPerPage,currentTotal:J.groups.total,filtersOpen:K.filter.expanded}},function(J){return{setPageAndUpdateGroups:function(K){J(Object(A.a)(K))},toggleFilters:function(){J(Object(I.i)())}}})(d)},
86:function(l,c,d){var w;d.d(c,"a",function(){return w});(function(t){t.SET_SEARCH_STRING="SET_SEARCH_STRING";t.CHANGE_SORT_ORDER="CHANGE_SORT_ORDER";t.CHANGE_SORT_FIELD="CHANGE_SORT_FIELD";t.UPDATE_USERNAME_FILTER="UPDATE_USERNAME_FILTER";t.UPDATE_OWNER_FILTER="UPDATE_OWNER_FILTER";t.UPDATE_GROUP_DESIGNATION_FILTER="UPDATE_GROUP_DESIGNATION_FILTER";t.UPDATE_CREATED_ON_FILTER="UPDATE_CREATED_ON_FILTER";t.UPDATE_MEMBERSHIP_FILTER="UPDATE_MEMBERSHIP_ON_FILTER";t.SET_USERS="SET_USERS";t.CLEAR_FILTERS=
"CLEAR_FILTERS"})(w||(w={}))},89:function(l,c,d){d.d(c,"a",function(){return w});d.d(c,"b",function(){return t});d.d(c,"c",function(){return z});d.d(c,"d",function(){return x});d.d(c,"e",function(){return y});d.d(c,"h",function(){return A});d.d(c,"i",function(){return B});d.d(c,"j",function(){return D});d.d(c,"k",function(){return C});d.d(c,"g",function(){return E});d.d(c,"f",function(){return H});var w="M15.5 5l-7 7-7-7zM3.914 6L8.5 10.586 13.086 6z",t="M15.707 20h-1.414l-7.5-7.5 7.5-7.5h1.414l-7.5 7.5z",
z="M13.802 4.306a.683.683 0 0 1 .708.76.528.528 0 0 1 .357.467c.055.888-1.127.8-1.014-.09l-.005-.002a.575.575 0 0 1-.046-1.135zM11.5 23A11.5 11.5 0 0 1 0 11.5v-.021a11.738 11.738 0 0 1 2.057-6.534 12.15 12.15 0 0 1 4.12-3.637h.005A11.595 11.595 0 0 1 13.618.202l.002.002a11.525 11.525 0 0 1 9.325 10.188v.004A11.497 11.497 0 0 1 11.5 23zm9.795-7.748a7.604 7.604 0 0 1-.666-1.746 4.55 4.55 0 0 1-.651-1.655 1.383 1.383 0 0 1-.857-.063l-.332.46c-1.962 0-2.952-.953-3.048-1.636a2.144 2.144 0 0 0-.992.133l-.113.177-.794.021a2.538 2.538 0 0 1-.483-.213 7.396 7.396 0 0 0-.628.541 1.463 1.463 0 0 1-.941.97 1.544 1.544 0 0 0-.961 1.24 2.264 2.264 0 0 1-.449 1.34 2.446 2.446 0 0 1 .811 1.108c.406 1.373 1.703.122 3.24.622.843.277 1.569.18 1.832 1.177a1.695 1.695 0 0 1 .028.937 1.452 1.452 0 0 1-.025.098 2.11 2.11 0 0 1 .327 1.883 10.447 10.447 0 0 0 4.702-5.394zm-1.709-7.096l.25.15c.058.072.16.194.208.265a1.699 1.699 0 0 1 1.517 2.251 3.648 3.648 0 0 1 .435.592 10.477 10.477 0 0 0-3.824-8.016h-.103a1.768 1.768 0 0 1-1.938 2.838 4.716 4.716 0 0 1-.723.7 1.525 1.525 0 0 1 .97.078l.183-.654a6.478 6.478 0 0 1 2.115 1.527c.295.369-.659 1.364.91.27zm2.17 5.578q.026-.121.049-.243a5.462 5.462 0 0 0-.843-1.825 18.554 18.554 0 0 0 .793 2.068zM11.405 1.147c.155.004.424.03.574.029l.093-.147c-.189-.01-.375-.029-.566-.029a1.863 1.863 0 0 1-.102.147zm-8.209 16.74a1.557 1.557 0 0 1 .244-.252c-.26-.196-.54-.372-.808-.545q.263.41.564.797zm11.737 3.525c.434-.81.812-.526.724-1.629a.802.802 0 0 0-.327-.551c-.2-.205-.155-.428-.051-.682.254-.64-.126-.81-.608-.914a3.809 3.809 0 0 0-2.22-.08 1.602 1.602 0 0 1-1.633-.391c-.608-.489-.383-.895-.91-1.416-1.3-1.218-.08-1.268-.08-2.268a2.63 2.63 0 0 1 1.416-2.11c.302-.106.437-.127.541-.427.236-.604.565-.578.988-1.055.145-.164.257-.285.48-.285a.723.723 0 0 1 .384.135s.282.166.372.2l.074-.002a3.411 3.411 0 0 1 2.208-.269.557.557 0 0 1 .432.7c.017.441 1.488 1.005 1.588.837a.745.745 0 0 0 .066-.184.48.48 0 0 1 .562-.362c.2.01.514.231.703.231a4.382 4.382 0 0 0 .786-.238c.332-.095.21-.532.067-.847-.078-.207-.375-.237-.595-.237-.266.003-.498-.021-.616-.307a.433.433 0 0 0-.161-.218c.007.01-.022.034-.042.068a.52.52 0 0 1-.871.07c-.272-.394-.011-.289-.317-.67a3.283 3.283 0 0 0-.72-.63.545.545 0 0 1-.525.387c-.265 0-.36-.155-.594-.303-.245-.142-.625-.1-.929.324a2.663 2.663 0 0 1-.49.436c-.211.264-.036.313-.4.628-.342.317-.623.179-1.069.059-.477-.111-.42-.747-.347-1.246.078-.5.294-.712.802-.58.729.178.762.038.579-.475-.17-.378-.042-.636.215-.748.78-.317 1.183-1.443 1.906-1.125a.766.766 0 0 0 .887-1.249.868.868 0 0 1-.316-.254.095.095 0 0 0-.07-.033c-.219 0-.155.495-.138.713a.492.492 0 0 1-.49.525c-.281 0-.753-.454-.953-.653-.385-.387-.119-.603.087-1.004a5.425 5.425 0 0 1 .34-.69 1.71 1.71 0 0 1 .588-.442 10.406 10.406 0 0 0-3.028-.996c-.332.335-.51.95-.954 1.01-.302.054-.912-.059-1.193-.006-.391.08-1.292.553-1.396.553-.57 0-.81-.74.197-1.574a10.398 10.398 0 0 0-1.884.475 7.258 7.258 0 0 1-1.042 1.57c-.299.372-.662.062-1.088.016-.565-.056-.325 1.011-1.198.915a5.775 5.775 0 0 0-.588-.039A10.467 10.467 0 0 0 1 11.5c0 .054.007.107.008.161.061.103.41.9.588 1.252.944 1.962.527 1.457.562 2.457.01.238.202.343.42.493a10.28 10.28 0 0 1 2.006 1.477.495.495 0 0 1 .111.525c-.07.264-.346.34-.568.502a.431.431 0 0 0-.21.376 10.425 10.425 0 0 0 11.017 2.669z",
x="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z",y="M15 16h4v-4h-4zm1-3h2v2h-2zM5 11h4V7H5zm1-3h2v2H6zm16 14V4H12V2H5v2H2v18H0v1h11v-5h2v5h11v-1zm-8 0v-5h-4v5H3V5h3V3h5v2h10v17zm-9-6h4v-4H5zm1-3h2v2H6zm4-2h4V7h-4zm1-3h2v2h-2zm-1 8h4v-4h-4zm1-3h2v2h-2zm4-2h4V7h-4zm1-3h2v2h-2z",A="M16 4a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-4 3a3 3 0 1 1 3-3 3.003 3.003 0 0 1-3 3zm4.75 1h-9.5A2.25 2.25 0 0 0 5 10.25v9.25A1.5 1.5 0 0 0 6.5 21H8v2.25a.75.75 0 0 0 .75.75h6.5a.75.75 0 0 0 .75-.75V21h1.5a1.5 1.5 0 0 0 1.5-1.5v-9.25A2.25 2.25 0 0 0 16.75 8zM18 19.5a.501.501 0 0 1-.5.5H16v-8h-1v11H9V12H8v8H6.5a.501.501 0 0 1-.5-.5v-9.25A1.251 1.251 0 0 1 7.25 9h9.5A1.251 1.251 0 0 1 18 10.25z",
B="M11 4a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8.001 6A2 2 0 1 1 10 4a2 2 0 0 1-1.999 2zM10 10h1v.921a3.23 3.23 0 0 0-1 2.329zm0 8.5a2.487 2.487 0 0 0 .055.5H5.75a.75.75 0 0 1-.75-.75V16h-.5A1.5 1.5 0 0 1 3 14.5V9.25A2.25 2.25 0 0 1 5.25 7h5.5a2.232 2.232 0 0 1 1.308.426A3.95 3.95 0 0 0 12 8a3.96 3.96 0 0 0 .593 2.067 3.21 3.21 0 0 0-.593.189V9.25A1.251 1.251 0 0 0 10.75 8h-5.5A1.251 1.251 0 0 0 4 9.25v5.25a.5.5 0 0 0 .5.5H5v-5h1v8h4zM19 8a3 3 0 1 0-3 3 3 3 0 0 0 3-3zm-2.999 2A2 2 0 1 1 18 8a2 2 0 0 1-1.999 2zm2.749 1h-5.5A2.25 2.25 0 0 0 11 13.25v5.25a1.5 1.5 0 0 0 1.5 1.5h.5v2.25a.75.75 0 0 0 .75.75h4.5a.75.75 0 0 0 .75-.75V20h.5a1.5 1.5 0 0 0 1.5-1.5v-5.25A2.25 2.25 0 0 0 18.75 11zM20 18.5a.5.5 0 0 1-.5.5H19v-5h-1v8h-4v-8h-1v5h-.5a.5.5 0 0 1-.5-.5v-5.25A1.251 1.251 0 0 1 13.25 12h5.5A1.251 1.251 0 0 1 20 13.25z",
D="M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z",C="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z",E="M21 10v7a3.003 3.003 0 0 1-3 3H4v-1h14a2.003 2.003 0 0 0 2-2v-7a2.003 2.003 0 0 0-2-2H6.691l2.649 2.648-.707.707-3.89-3.89 3.832-3.833.707.707L6.622 7H18a3.003 3.003 0 0 1 3 3z",H="M149.375 182.444l56.463-56.471-25.376-25.376 5.523-14.541-59.827-22.726L110.828 48H56v124h18.365l12.437 4.724 34.182 34.101 15.33-15.294 7.07 2.686 5.164-13.597zm50.806-56.472l-47.34 47.35 26.064-68.626zM112 54.828L141.172 84H112zM60 52h48v36h36v80H60zm60.984 153.17L95.95 180.199l36.263 13.775zm20.081-12.113L85.632 172H148V85.172L133.059 70.23l47.766 18.144-34.628 91.171z"},
97:function(l,c,d){function w(B,D){if(null==B?0:B.length)for(var C=void 0,E=0;E<B.length;E++)if(D(C=B[E]))return C}function t(B){return B.filter(function(D){return 0<D.length})}function z(B,D,C){var E=[];return D.forEach(function(H){(C?H[C].toLowerCase()===B.toLowerCase():H.toLowerCase()===B.toLowerCase())?E.unshift(H):E.push(H)}),E}d.d(c,"e",function(){return x});d.d(c,"f",function(){return y});d.d(c,"c",function(){return w});d.d(c,"b",function(){return t});d.d(c,"a",function(){return A});d.d(c,
"d",function(){return z});l=d(15);var x=function(B,D,C){return C.indexOf(B)===D},y=Object(l.a)(function(B,D){var C={};return D.filter(function(E){return!C[E[B]]&&(C[E[B]]=!0,!0)})}),A=function(B,D){return B.length===D.length&&B.reduce(function(C,E){return C&&-1<D.indexOf(E)},!0)}},980:function(l,c,d){d.d(c,"a",function(){return t});var w=d(202),t=function(){return{type:w.a.TOGGLE_SORT_DROPDOWN}}},99:function(l,c,d){d.d(c,"a",function(){return t});d.d(c,"b",function(){return z});var w=d(1),t=function(x){return x?
x.urlKey?"".concat(location.protocol,"//").concat(x.urlKey,".").concat(x.customBaseUrl):"".concat(location.protocol,"//").concat(x.portalHostname):""},z=function(x){return Object(w.a)(Object(w.a)({},x),{baseUrl:t(x)})}}})})},"arcgis-components/Loaders/LoaderBars":function(){define(function(){return function(U){function M(b){if(a[b])return a[b].exports;var k=a[b]={i:b,l:!1,exports:{}};return U[b].call(k.exports,k,k.exports,M),k.l=!0,k.exports}var a={};return M.m=U,M.c=a,M.d=function(b,k,f){M.o(b,k)||
Object.defineProperty(b,k,{enumerable:!0,get:f})},M.r=function(b){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})},M.t=function(b,k){if((1&k&&(b=M(b)),8&k)||4&k&&"object"==typeof b&&b&&b.__esModule)return b;var f=Object.create(null);if(M.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:b}),2&k&&"string"!=typeof b)for(var m in b)M.d(f,m,function(h){return b[h]}.bind(null,m));return f},
M.n=function(b){var k=b&&b.__esModule?function(){return b.default}:function(){return b};return M.d(k,"a",k),k},M.o=function(b,k){return Object.prototype.hasOwnProperty.call(b,k)},M.p="",M(M.s=831)}({831:function(U,M,a){a.r(M);M.default=function(b,k){var f=b.text;return k("div",{class:"load-bars__container",key:b.key},k("div",{class:"load-bars__bars"}),f?k("span",{class:"load-bars__text"},f):null)}}})})},"arcgis-components/Buttons/Toggle":function(){define(["../Component"],function(U){return function(M){function a(k){if(b[k])return b[k].exports;
var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,get:m})},a.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),
Object.defineProperty(m,"default",{enumerable:!0,value:k}),2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=795)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+
" is not a constructor or null");e(g,p);g.prototype=null===p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?
q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,
w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;
default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<c[1])w.label=c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d=
{next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=0,c=p.length;l<c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});b.d(a,"e",function(){return u});b.d(a,"g",
function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},17:function(M,a){M.exports=U},795:function(M,
a,b){b.r(a);var k=b(1);M=function(f){function m(h){h=f.call(this,h)||this;return h.handleToggleClick=h.handleToggleClick.bind(h),h}return Object(k.d)(m,f),m.prototype.render=function(h){var u=this.props,r=u.name,e=u.selectedToggle,v=u.childOptions,g=u.prependValue;u=u.infoTooltip;g=g?"".concat(g).concat(this.props.value):this.props.value;e=!!(e===g||v&&this.childSelectedRecursive(v,g));var p={"btn-toggle__item":!0,"btn-toggle__item--active":e,"btn-toggle__item--flex":!!u},n={"btn-toggle__button":!0,
"btn-toggle__button--active":e},q=null;return v&&(q=h("ul",{class:"btn-toggle__sub-list",role:"group"},this.mapChildrenToToggles(h))),h("li",{key:g,classes:p,"aria-selected":e?"true":void 0,"aria-expanded":v?e?"true":"false":void 0},h("button",{key:g,classes:n,value:g,onmousedown:this.preventDefault,onclick:this.handleToggleClick,title:this.props.tooltip,role:"checkbox","aria-checked":e?"true":void 0,"aria-label":r,onblur:this.props.handleBlur,tabindex:"0"},h("span",{class:"btn-toggle__text",key:"text"},
r),this.props.count?h("span",{class:"btn-toggle__count",key:"count"},"\u00a0","(".concat(this.props.count,")")):null),!!u&&h("div",{class:"btn-toggle__item-tooltip"},h("calcite-button",{id:"share-org-settings-filter-tooltip",appearance:"transparent",kind:"neutral",scale:"s",round:!0,"icon-start":"information"}),h("calcite-tooltip",{"reference-element":"share-org-settings-filter-tooltip","overlay-positioning":"fixed"},u)),e?q:null)},m.prototype.preventDefault=function(h){h.preventDefault()},m.prototype.mapChildrenToToggles=
function(h){var u=this,r=this.props,e=r.childOptions,v=r.selectedToggle,g=r.onToggleClick,p=r.useFullPathAsValue,n=(r=r.prependValue)?"".concat(r).concat(this.props.value):this.props.value;return e?e.map(function(q){return h(m,{count:q.count,key:q.value,name:q.displayName,value:p?"".concat(n,"/").concat(q.value):q.value,showTooltip:u.props.showTooltip,tooltip:q.tooltip,selectedToggle:v,childOptions:q.children,onToggleClick:g,useFullPathAsValue:p})}):null},m.prototype.childSelectedRecursive=function(h,
u){var r=this,e=this.props,v=e.selectedToggle;return e.useFullPathAsValue?h.reduce(function(g,p){return!!(v==="".concat(u,"/").concat(p.value)||p.children&&r.childSelectedRecursive(p.children,"".concat(u,"/").concat(p.value)))||g},!1):h.reduce(function(g,p){return!!(v===p.value||p.children&&r.childSelectedRecursive(p.children,r.props.value))||g},!1)},m.prototype.handleToggleClick=function(h){h.preventDefault();this.props.onToggleClick(this.props.prependValue?"".concat(this.props.prependValue).concat(this.props.value):
this.props.value,this.props.name)},m}(b(17).Component);a.default=M}})})},"arcgis-components/Dropdowns/AccordionDropdown/index":function(){define(["../../Component","dojo/i18n!../../Dropdowns/AccordionDropdown/nls/resources"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=
function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:
function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=799)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);
if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<
d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=
2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=
d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,
0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=
Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},18:function(a,b){a.exports=U},321:function(a,b,k){k.d(b,"a",function(){return f});var f=function(m){return function(h){13===h.keyCode&&m(h)}}},500:function(a,b){a.exports=M},799:function(a,b,k){k.r(b);var f=k(1),m=k(500);a=k(18);var h=k(321);k=function(u){function r(e){var v=u.call(this,
e)||this;return v.handleDropdownKeyDown=Object(h.a)(v.handleDropdownClick.bind(v)),v.state={active:!!e.startActive},v.handleDropdownClick=v.handleDropdownClick.bind(v),v.handleClear=v.handleClear.bind(v),v}return Object(f.d)(r,u),r.prototype.render=function(e){var v={"drp-accordion__content":!0,"drp-accordion__content--no-padding":!1===this.props.padding},g={"drp-accordion__icon":!0,"drp-accordion__icon--active":this.state.active},p=null;return this.props.clearable&&(p=e("button",{class:"drp-accordion__clear-btn",
onclick:this.handleClear},m.clear)),e("div",{key:this.props.key,classes:{"drp-accordion__section":!0},role:"tablist"},e("h4",{classes:{"drp-accordion__title":!0,clearfix:!0,"drp-accordion__title--flex":this.props.flex,"drp-accordion__title--active":this.state.active},value:"itemType",onclick:this.handleDropdownClick,onkeydown:this.handleDropdownKeyDown,role:"tab",tabindex:"0","aria-expanded":"".concat(this.state.active)},e("div",{class:"drp-accordion__wrapper"},e("span",{classes:g},e("svg",{xmlns:"http://www.w3.org/2000/svg",
width:"12",height:"12",viewBox:"0 0 32 32",role:"img"},e("path",{d:"M28 9v5L16 26 4 14V9l12 12L28 9z"}))),e("span",null,this.props.title)),p),this.state.active?e("div",{classes:v},this.props.children):null)},r.prototype.handleDropdownClick=function(){this.setState({active:!this.state.active})},r.prototype.handleClear=function(e){if(!this.props.onClear)throw"no onClear callback has been provided to AccordionDropdown";e.stopPropagation();this.props.onClear()},r}(a.Component);b.default=k}})})},"arcgis-components/Buttons/IconButton":function(){define(["../Component"],
function(U){return function(M){function a(k){if(b[k])return b[k].exports;var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,get:m})},a.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==
typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:k}),2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=793)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=
typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");e(g,p);g.prototype=null===p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}
function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?
l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;
l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<c[1])w.label=c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&
c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=0,c=p.length;l<c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});
b.d(a,"e",function(){return u});b.d(a,"g",function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},
17:function(M,a){M.exports=U},793:function(M,a,b){b.r(a);var k=b(1);M=function(f){function m(){return null!==f&&f.apply(this,arguments)||this}return Object(k.d)(m,f),m.prototype.render=function(h){var u=this.props,r=u.active,e=u.label,v=u.labelDirection,g=u.key,p=u.title,n=u.ariaControls;u={"btn-icon__button":!0,"btn-icon__button--center":u.center,"btn-icon__button--tooltip":e,"btn-icon__button--tooltip-left":"left"===v,"btn-icon__button--tooltip-right":"right"===v,"btn-icon__button--tooltip-top":"top"===
v,"btn-icon__button--active":r};r=n?{"aria-controls":n,"aria-expanded":r?"true":"false"}:{"aria-checked":r};return h("button",Object(k.a)({id:g,key:"".concat(g,"-container"),classes:u,"aria-label":e,onmousedown:this.preventFocus,onclick:this.props.handleClick,tabindex:this.props.tabindex?"".concat(this.props.tabindex):"0"},r,{title:p}),this.props.children)},m.prototype.preventFocus=function(h){h.preventDefault()},m}(b(17).Component);a.default=M}})})},"arcgis-components/Navigation/Pager/index":function(){define(["../../Component",
"dojo/i18n!../../Navigation/Pager/nls/resources"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=
function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=838)}({1:function(a,b,k){function f(p,
n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,
l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}
function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],
done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,
d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});
k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};
Object.create;Object.create},18:function(a,b){a.exports=U},326:function(a,b){a.exports=M},838:function(a,b,k){k.r(b);var f=k(1),m=k(326);a=function(h){function u(r){r=h.call(this,r)||this;return r.handleNext=r.handleNext.bind(r),r.handlePrevious=r.handlePrevious.bind(r),r.handlePageBtn=r.handlePageBtn.bind(r),r}return Object(f.d)(u,h),u.prototype.render=function(r){var e=this,v=this.props,g=v.numPages,p=v.currentPage;v=v.paginationLimitReached;var n=Array.apply(null,{length:g}).map(function(c,d){c=
p===d+1;return r("button",{classes:{"nav-pager__btn":!0,"nav-pager__page-btn--active":c,"nav-pager__page-btn--inactive":!c},id:"page-".concat(d+1,"-button"),title:"".concat(m.page," ").concat(d+1),onclick:function(){e.handlePageBtn(d+1)},role:"link",tabindex:"0",key:"page-".concat(d+1,"-button")},"".concat(d+1))}).reduce(function(c,d,w,t){return 0===w||w===g-1||w===p-1||w===p-2||w===p||1===w&&4===p||w===g-2&&p===g-3||4>=w&&5>p?c.push(d):(w===p-3||w===p+1||5===w&&5>p)&&c.push(r("span",{class:"nav-pager__dots",
key:"dots-".concat(w)},"...")),c},[]),q={"nav-pager__btn":!0,"nav-pager__btn--disabled":1>=p},l={"nav-pager__btn":!0,"nav-pager__btn--disabled":p>=g};return 1<g?r("nav",{class:"nav-pager__container",key:"pager"},p===g&&v&&r("div",{class:"nav-pager__limit-container",key:"pagination-limit-container"},r("div",{class:"nav-pager__limit-inner"},r("p",{class:"nav-pager__limit-text"},m.paginationLimit))),r("button",{classes:q,id:"previous",title:m.previous,role:"link",key:"previous-btn",onclick:this.handlePrevious,
tabindex:1>=p?"-1":"0"},m.previous),r("div",{class:"nav-pager__page-btn-container"},n),r("button",{classes:l,id:"next",title:m.next,role:"link",key:"next-btn",onclick:this.handleNext,tabindex:p>=g?"-1":"0"},m.next)):r("span",null)},u.prototype.handleNext=function(){this.props.onPageChange(this.props.currentPage+1)},u.prototype.handlePrevious=function(){this.props.onPageChange(this.props.currentPage-1)},u.prototype.handlePageBtn=function(r){this.props.onPageChange(r)},u}(k(18).Component);b.default=
a}})})},"arcgis-components/Modals/MobileWrap":function(){define(["../Component","../Buttons/SvgButton"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});
Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,
m)},b.p="",b(b.s=836)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<
l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}
function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=
y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?
y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",
function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,
c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},17:function(a,b){a.exports=U},204:function(a,b){a.exports=M},296:function(a,b,k){function f(u){return h[u.vnodeSelector]&&(!u.properties||!u.properties.disabled&&-1!==u.properties.tabindex)||u.properties&&u.properties.tabindex&&-1<parseInt(u.properties.tabindex,10)}var m=k(1),h={a:!0,area:!0,input:!0,select:!0,textarea:!0,button:!0,iframe:!0};a=function(u){function r(e){e=u.call(this,e)||this;return e.registerFirstFocusable=
e.registerFirstFocusable.bind(e),e.registerLastFocusable=e.registerLastFocusable.bind(e),e.handleFocusChange=e.handleFocusChange.bind(e),e}return Object(m.d)(r,u),r.prototype.render=function(){var e=this.findFirstFocusable(this.props.children),v=this.findLastFocusable(this.props.children);return e&&v&&(e.properties?e.properties.afterCreate=this.registerFirstFocusable:e.properties={afterCreate:this.registerFirstFocusable},v.properties?v.properties.afterCreate=this.registerLastFocusable:v.properties=
{afterCreate:this.registerLastFocusable}),this.props.children},r.prototype.findFirstFocusable=function(e){if(e)for(var v=0;v<e.length;v++){var g=e[v];if(f(g)||g.children&&(g=this.findFirstFocusable(g.children)))return g}},r.prototype.findLastFocusable=function(e){if(e)for(var v=e.length-1;0<=v;v--){var g=e[v];if(f(g)||g.children&&(g=this.findLastFocusable(g.children)))return g}},r.prototype.registerFirstFocusable=function(e){this.firstFocusableElement&&this.firstFocusableElement!==e&&this.firstFocusableElement.removeEventListener("keydown",
this.handleFocusChange);e.addEventListener("keydown",this.handleFocusChange);this.firstFocusableElement=e;setTimeout(function(){e&&e.focus()},10)},r.prototype.registerLastFocusable=function(e){this.lastFocusableElement&&this.lastFocusableElement!==e&&this.lastFocusableElement.removeEventListener("keydown",this.handleFocusChange);this.lastFocusableElement=e;this.lastFocusableElement.addEventListener("keydown",this.handleFocusChange)},r.prototype.handleFocusChange=function(e){"Tab"!==e.key&&9!==e.keyCode||
(e.shiftKey?document.activeElement===this.firstFocusableElement&&this.lastFocusableElement&&(this.lastFocusableElement.focus(),e.preventDefault()):document.activeElement===this.lastFocusableElement&&this.firstFocusableElement&&(this.firstFocusableElement.focus(),e.preventDefault()))},r}(k(17).Component);b.a=a},836:function(a,b,k){k.r(b);var f=k(1);a=k(17);var m=k(204),h=k.n(m),u=k(296);k=function(r){function e(v){v=r.call(this,v)||this;return v.state={closing:!1,open:v.props.open},v.handleClose=v.handleClose.bind(v),
v}return Object(f.d)(e,r),e.prototype.componentWillReceiveProps=function(v){var g=this;this.props.open===v.open||this.state.closing||(v.open?(this.setState({open:v.open}),setTimeout(function(){var p=document.getElementById(g.props.key+"close");p&&p.focus()},100)):(this.setState({closing:!0}),setTimeout(function(){g.setState({open:!1,closing:!1})},200)))},e.prototype.render=function(v){return v(u.a,{key:"mobile-wrap-focus-trap"},v("div",{classes:{"mod__mob-wrap-container":!0,"mod__mob-wrap-container--closed":!this.state.open,
"mod__mob-wrap-container--closing":this.state.closing},key:this.props.key},v("div",{classes:{"mod__mob-wrap-body":!0,"mod__mob-wrap-body--max-height":this.props.maxHeight,"mod__mob-wrap-body--closing":this.state.closing}},v("div",{class:"mod__mob-wrap-header"},v("span",{class:"mod__mob-wrap-title"},this.props.title),v(h.a,{key:this.props.key+"close",focusable:!0,handleClick:this.handleClose},v("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",width:"24",height:"24"},v("path",
{fill:"currentColor",d:"M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z"})))),v("div",{class:"mod__mob-wrap-content"},this.props.children),this.props.footer?v("div",{class:"mod__mob-wrap-footer"},this.props.footer):null)))},e.prototype.handleClose=function(){this.props.onClose&&this.props.onClose()},e}(a.Component);b.default=k}})})},"arcgis-components/Buttons/SvgButton":function(){define(["../Component"],function(U){return function(M){function a(k){if(b[k])return b[k].exports;
var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,get:m})},a.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),
Object.defineProperty(m,"default",{enumerable:!0,value:k}),2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=794)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+
" is not a constructor or null");e(g,p);g.prototype=null===p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?
q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,
w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;
default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<c[1])w.label=c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d=
{next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=0,c=p.length;l<c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});b.d(a,"e",function(){return u});b.d(a,"g",
function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},17:function(M,a){M.exports=U},794:function(M,
a,b){b.r(a);var k=b(1);M=function(f){function m(h){h=f.call(this,h)||this;return h.handleClick=h.handleClick.bind(h),h}return Object(k.d)(m,f),m.prototype.render=function(h){var u=this.props,r=u.label,e=u.labelDirection,v=u.key,g=u.title;return h("button",Object(k.a)({afterCreate:u.afterCreate,key:v,id:v,classes:{"btn-svg__button":!0,"btn-svg__button--tooltip":r,"btn-svg__button--tooltip-left":"left"===e,"btn-svg__button--tooltip-right":"right"===e,"btn-svg__button--tooltip-top":"top"===e},onmousedown:this.preventFocus,
onclick:this.handleClick},r?{"aria-label":r}:{title:g},{tabindex:!u.focusable&&"-1",value:u.value}),h("div",{class:"btn-svg__button-content"},this.props.children))},m.prototype.preventFocus=function(h){h.preventDefault()},m.prototype.handleClick=function(h){this.props.handleClick&&h.target&&(h.target.value=this.props.value,this.props.handleClick(h))},m}(b(17).Component);a.default=M}})})},"arcgis-components/Dropdowns/SortDropdown/index":function(){define("../../Component ../../Buttons/Toggle ../../Dropdowns/Ago2018Dropdown dojo/i18n!../../Dropdowns/SortDropdown/nls/resources ../../Buttons/IconButton ../../Modals/MobileWrap".split(" "),
function(U,M,a,b,k,f){return function(m){function h(r){if(u[r])return u[r].exports;var e=u[r]={i:r,l:!1,exports:{}};return m[r].call(e.exports,e,e.exports,h),e.l=!0,e.exports}var u={};return h.m=m,h.c=u,h.d=function(r,e,v){h.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:v})},h.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});Object.defineProperty(r,"__esModule",{value:!0})},h.t=function(r,e){if((1&e&&(r=h(r)),8&e)||4&
e&&"object"==typeof r&&r&&r.__esModule)return r;var v=Object.create(null);if(h.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var g in r)h.d(v,g,function(p){return r[p]}.bind(null,g));return v},h.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return h.d(e,"a",e),e},h.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},h.p="",h(h.s=803)}({1:function(m,h,u){function r(c,d){function w(){this.constructor=
c}if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");q(c,d);c.prototype=null===d?Object.create(d):(w.prototype=d.prototype,new w)}function e(c,d){var w={},t;for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&0>d.indexOf(t)&&(w[t]=c[t]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var z=0;for(t=Object.getOwnPropertySymbols(c);z<t.length;z++)0>d.indexOf(t[z])&&Object.prototype.propertyIsEnumerable.call(c,t[z])&&
(w[t[z]]=c[t[z]])}return w}function v(c,d,w,t){var z,x=arguments.length,y=3>x?d:null===t?t=Object.getOwnPropertyDescriptor(d,w):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(c,d,w,t);else for(var A=c.length-1;0<=A;A--)(z=c[A])&&(y=(3>x?z(y):3<x?z(d,w,y):z(d,w))||y);return 3<x&&y&&Object.defineProperty(d,w,y),y}function g(c,d,w,t){return new (w||(w=Promise))(function(z,x){function y(D){try{B(t.next(D))}catch(C){x(C)}}function A(D){try{B(t.throw(D))}catch(C){x(C)}}
function B(D){var C;D.done?z(D.value):(C=D.value,C instanceof w?C:new w(function(E){E(C)})).then(y,A)}B((t=t.apply(c,d||[])).next())})}function p(c,d){function w(B){return function(D){return function(C){if(t)throw new TypeError("Generator is already executing.");for(;y&&(y=0,C[0]&&(A=0)),A;)try{if(t=1,z&&(x=2&C[0]?z.return:C[0]?z.throw||((x=z.return)&&x.call(z),0):z.next)&&!(x=x.call(z,C[1])).done)return x;switch(z=0,x&&(C=[2&C[0],x.value]),C[0]){case 0:case 1:x=C;break;case 4:return A.label++,{value:C[1],
done:!1};case 5:A.label++;z=C[1];C=[0];continue;case 7:C=A.ops.pop();A.trys.pop();continue;default:if(!(x=A.trys,(x=0<x.length&&x[x.length-1])||6!==C[0]&&2!==C[0])){A=0;continue}if(3===C[0]&&(!x||C[1]>x[0]&&C[1]<x[3]))A.label=C[1];else if(6===C[0]&&A.label<x[1])A.label=x[1],x=C;else if(x&&A.label<x[2])A.label=x[2],A.ops.push(C);else{x[2]&&A.ops.pop();A.trys.pop();continue}}C=d.call(c,A)}catch(E){C=[6,E],z=0}finally{t=x=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([B,D])}}var t,z,
x,y,A={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return y={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(y[Symbol.iterator]=function(){return this}),y}function n(c,d,w){if(w||2===arguments.length)for(var t,z=0,x=d.length;z<x;z++)!t&&z in d||(t||(t=Array.prototype.slice.call(d,0,z)),t[z]=d[z]);return c.concat(t||Array.prototype.slice.call(d))}u.d(h,"d",function(){return r});u.d(h,"a",function(){return l});u.d(h,"f",function(){return e});u.d(h,"c",function(){return v});
u.d(h,"b",function(){return g});u.d(h,"e",function(){return p});u.d(h,"g",function(){return n});var q=function(c,d){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,t){w.__proto__=t}||function(w,t){for(var z in t)Object.prototype.hasOwnProperty.call(t,z)&&(w[z]=t[z])})(c,d)},l=function(){return(l=Object.assign||function(c){for(var d,w=1,t=arguments.length;w<t;w++)for(var z in d=arguments[w])Object.prototype.hasOwnProperty.call(d,z)&&(c[z]=d[z]);return c}).apply(this,arguments)};
Object.create;Object.create},160:function(m,h){m.exports=M},18:function(m,h){m.exports=U},261:function(m,h){m.exports=a},285:function(m,h){m.exports=b},332:function(m,h){m.exports=k},354:function(m,h){m.exports=f},803:function(m,h,u){u.r(h);var r=u(1),e=u(285);m=u(18);var v=u(332),g=u.n(v);v=u(160);var p=u.n(v);v=u(261);var n=u.n(v);v=u(354);var q=u.n(v);u=function(l){function c(d){var w=l.call(this,d)||this;return w.handleToggleBlur=function(t){var z,x,y;(null===(z=document.querySelector("#dropdown-sort-menu-container"))||
void 0===z?0:z.contains(t.relatedTarget))||null===(y=(x=w.props).handleMenuBlur)||void 0===y||y.call(x)},w.handleSortClick=w.handleSortClick.bind(w),w.handleFieldChange=w.handleFieldChange.bind(w),w.handleOrderChange=w.handleOrderChange.bind(w),w.handleMobileWrapClose=w.handleMobileWrapClose.bind(w),w}return Object(r.d)(c,l),c.prototype.render=function(d){var w=this,t=[d("div",{class:"drp-sort__menu-section",role:"tree"},d("h3",{class:"drp-sort__menu-title"},e.sortBy),this.props.availableFields.map(function(z){return d(p.a,
{key:z,name:e[z],value:z,onToggleClick:w.handleFieldChange,selectedToggle:w.props.field,handleBlur:w.handleToggleBlur})})),"relevance"!==this.props.field?d("div",{key:this.props.field,class:"drp-sort__menu-section",role:"tree"},d("h3",{class:"drp-sort__menu-title drp-sort__menu-direction"},e.sortDir),d(p.a,{key:"ascending-toggle",name:e.ascending[this.props.field],value:"asc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur}),d(p.a,{key:"descending-toggle",
name:e.descending[this.props.field],value:"desc",onToggleClick:this.handleOrderChange,selectedToggle:this.props.order,handleBlur:this.handleToggleBlur})):null];return window.matchMedia("(max-width: 860px)").matches?[d(g.a,{key:"gb-sort-btn-mobile",active:this.props.active,handleClick:this.handleSortClick},d("div",{class:"drp-sort__btn-body"},d("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},d("g",{stroke:"none","stroke-width":"1"},d("g",null,d("path",{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),
d("span",{class:"drp-sort__btn-label"},e[this.props.field]))),d(q.a,{key:"sort-mobile-wrap",title:e.sort,open:this.props.active,onClose:this.handleMobileWrapClose},t)]:d(n.a,{key:"sort-dropdown",active:this.props.active,onToggle:this.handleSortClick},d(g.a,{key:"gb-sort-btn",active:this.props.active,handleClick:this.stub,tabindex:-1},d("div",{class:"drp-sort__btn-body"},d("svg",{role:"img",width:"16px",height:"16px",viewBox:"0 0 16 16"},d("g",{stroke:"none","stroke-width":"1"},d("g",null,d("path",
{d:"M1,1 L15,1 L15,2 L1,2 L1,1 Z M4,5 L15,5 L15,6 L4,6 L4,5 Z M7,9 L15,9 L15,10 L7,10 L7,9 Z M11,13 L15,13 L15,14 L11,14 L11,13 Z"})))),d("span",{class:"drp-sort__btn-label"},e[this.props.field]))),d("div",{class:"drp-sort__menu-container",id:"dropdown-sort-menu-container"},t))},c.prototype.stub=function(){},c.prototype.handleSortClick=function(){var d,w;null===(w=null===(d=this.props)||void 0===d?void 0:d.onClick)||void 0===w||w.call(d)},c.prototype.handleFieldChange=function(d){var w,t;d===this.props.field||
null!==(t=null===(w=this.props)||void 0===w?void 0:w.onFieldChange)&&void 0!==t&&t.call(w,d)},c.prototype.handleOrderChange=function(d){var w,t;d===this.props.order||null!==(t=null===(w=this.props)||void 0===w?void 0:w.onOrderChange)&&void 0!==t&&t.call(w,d)},c.prototype.handleMobileWrapClose=function(){var d,w;null===(w=null===(d=this.props)||void 0===d?void 0:d.onClick)||void 0===w||w.call(d)},c}(m.Component);h.default=u}})})},"arcgis-components/Dropdowns/Ago2018Dropdown":function(){define(["../Component",
"../Dropdowns/BasicDropdown"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&
m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=800)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=
p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&
(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}
function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],
done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,
d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});
k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};
Object.create;Object.create},17:function(a,b){a.exports=U},353:function(a,b){a.exports=M},800:function(a,b,k){k.r(b);var f=k(1);a=k(17);var m=k(353),h=k.n(m);k=function(u){function r(e){e=u.call(this,e)||this;return e.state={active:!!e.props.active&&e.props.active,closing:!1},e.handleDrpClick=e.handleDrpClick.bind(e),e}return Object(f.d)(r,u),r.prototype.render=function(e){var v={"drp-ago2018__menu":!0,"drp-ago2018__menu--active":this.state.active&&!this.state.closing};if(this.props.children&&this.props.children[0]&&
this.props.children[1])return e(h.a,{key:this.props.key,active:this.state.active,onToggle:this.handleDrpClick,tabindex:this.props.tabindex},this.props.children[0],e("div",{classes:v},this.props.children[1]))},r.prototype.componentWillReceiveProps=function(e){!1===e.active&&!0===this.props.active&&this.close()},r.prototype.close=function(e){var v=this;this.setState({closing:!0});setTimeout(function(){v.setState({active:!1,closing:!1});v.props.onToggle&&e&&v.props.onToggle()},200)},r.prototype.handleDrpClick=
function(){this.state.active?this.close(!0):this.state.closing||(this.setState({active:!0}),this.props.onToggle&&this.props.onToggle())},r}(a.Component);b.default=k}})})},"arcgis-components/Dropdowns/BasicDropdown":function(){define(["../Component"],function(U){return function(M){function a(k){if(b[k])return b[k].exports;var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,
get:m})},a.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:k}),2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?
function(){return k.default}:function(){return k};return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=801)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");e(g,p);g.prototype=null===p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,
q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?
l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");for(;d&&
(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<c[1])w.label=
c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=0,c=p.length;l<
c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});b.d(a,"e",function(){return u});b.d(a,"g",function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,
l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},17:function(M,a){M.exports=U},801:function(M,a,b){b.r(a);var k=b(1);M=function(f){function m(h){h=f.call(this,h)||this;return h.state={active:!1},h.handleBtnClick=h.handleBtnClick.bind(h),h.handleDropdownClick=h.handleDropdownClick.bind(h),h.handleButtonKeyDown=
h.handleButtonKeyDown.bind(h),h.registerCloseHandler=h.registerCloseHandler.bind(h),h.close=h.close.bind(h),h}return Object(k.d)(m,f),m.prototype.render=function(h){var u=void 0===this.props.active?this.state.active:this.props.active;if(this.props.children&&this.props.children[0]&&this.props.children[1]){var r=this.props.children[0],e=u?this.props.children[1]:null;u=u?h("div",{key:"open-dropdown-hook",id:"".concat(this.props.key,"-hook"),afterCreate:this.registerCloseHandler,style:"display: none;"}):
null;return h("div",{class:"drp-basic__container",onclick:this.handleDropdownClick},u,h("span",{id:this.props.key,class:"drp-basic__button",onclick:this.handleBtnClick,onkeydown:this.handleButtonKeyDown,role:"button",tabindex:this.props.tabindex?this.props.tabindex:"0"},r),e)}},m.prototype.componentWillReceiveProps=function(h){!0===this.props.active&&!1===h.active&&document.body.removeEventListener("click",this.close)},m.prototype.close=function(){void 0===this.props.active?this.setState({active:!1}):
this.props.onToggle&&this.props.onToggle();document.body.removeEventListener("click",this.close)},m.prototype.handleBtnClick=function(h){h.stopPropagation();void 0===this.props.active?this.setState({active:!this.state.active}):this.props.onToggle?this.props.onToggle():this.setState({active:!this.state.active})},m.prototype.handleDropdownClick=function(h){h.stopPropagation();this.setState({active:!this.state.active})},m.prototype.handleButtonKeyDown=function(h){13===h.keyCode||32===h.keyCode?(h.preventDefault(),
this.handleBtnClick(h)):this.props.handleButtonKeyDown&&this.props.handleButtonKeyDown(h)},m.prototype.registerCloseHandler=function(){document.body.addEventListener("click",this.close)},m}(b(17).Component);a.default=M}})})},"arcgis-components/Filters/CreatedFilter/index":function(){define(["../../Component","../../Dropdowns/AccordionDropdown/index","../../DateSelection/DateRangeSelector/index","dojo/i18n!../../Filters/CreatedFilter/nls/resources"],function(U,M,a,b){return function(k){function f(h){if(m[h])return m[h].exports;
var u=m[h]={i:h,l:!1,exports:{}};return k[h].call(u.exports,u,u.exports,f),u.l=!0,u.exports}var m={};return f.m=k,f.c=m,f.d=function(h,u,r){f.o(h,u)||Object.defineProperty(h,u,{enumerable:!0,get:r})},f.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"});Object.defineProperty(h,"__esModule",{value:!0})},f.t=function(h,u){if((1&u&&(h=f(h)),8&u)||4&u&&"object"==typeof h&&h&&h.__esModule)return h;var r=Object.create(null);if(f.r(r),
Object.defineProperty(r,"default",{enumerable:!0,value:h}),2&u&&"string"!=typeof h)for(var e in h)f.d(r,e,function(v){return h[v]}.bind(null,e));return r},f.n=function(h){var u=h&&h.__esModule?function(){return h.default}:function(){return h};return f.d(u,"a",u),u},f.o=function(h,u){return Object.prototype.hasOwnProperty.call(h,u)},f.p="",f(f.s=806)}({1:function(k,f,m){function h(q,l){function c(){this.constructor=q}if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+
" is not a constructor or null");p(q,l);q.prototype=null===l?Object.create(l):(c.prototype=l.prototype,new c)}function u(q,l){var c={},d;for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&0>l.indexOf(d)&&(c[d]=q[d]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var w=0;for(d=Object.getOwnPropertySymbols(q);w<d.length;w++)0>l.indexOf(d[w])&&Object.prototype.propertyIsEnumerable.call(q,d[w])&&(c[d[w]]=q[d[w]])}return c}function r(q,l,c,d){var w,t=arguments.length,z=3>t?l:null===d?
d=Object.getOwnPropertyDescriptor(l,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(q,l,c,d);else for(var x=q.length-1;0<=x;x--)(w=q[x])&&(z=(3>t?w(z):3<t?w(l,c,z):w(l,c))||z);return 3<t&&z&&Object.defineProperty(l,c,z),z}function e(q,l,c,d){return new (c||(c=Promise))(function(w,t){function z(A){try{y(d.next(A))}catch(B){t(B)}}function x(A){try{y(d.throw(A))}catch(B){t(B)}}function y(A){var B;A.done?w(A.value):(B=A.value,B instanceof c?B:new c(function(D){D(B)})).then(z,
x)}y((d=d.apply(q,l||[])).next())})}function v(q,l){function c(y){return function(A){return function(B){if(d)throw new TypeError("Generator is already executing.");for(;z&&(z=0,B[0]&&(x=0)),x;)try{if(d=1,w&&(t=2&B[0]?w.return:B[0]?w.throw||((t=w.return)&&t.call(w),0):w.next)&&!(t=t.call(w,B[1])).done)return t;switch(w=0,t&&(B=[2&B[0],t.value]),B[0]){case 0:case 1:t=B;break;case 4:return x.label++,{value:B[1],done:!1};case 5:x.label++;w=B[1];B=[0];continue;case 7:B=x.ops.pop();x.trys.pop();continue;
default:if(!(t=x.trys,(t=0<t.length&&t[t.length-1])||6!==B[0]&&2!==B[0])){x=0;continue}if(3===B[0]&&(!t||B[1]>t[0]&&B[1]<t[3]))x.label=B[1];else if(6===B[0]&&x.label<t[1])x.label=t[1],t=B;else if(t&&x.label<t[2])x.label=t[2],x.ops.push(B);else{t[2]&&x.ops.pop();x.trys.pop();continue}}B=l.call(q,x)}catch(D){B=[6,D],w=0}finally{d=t=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([y,A])}}var d,w,t,z,x={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return z=
{next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(z[Symbol.iterator]=function(){return this}),z}function g(q,l,c){if(c||2===arguments.length)for(var d,w=0,t=l.length;w<t;w++)!d&&w in l||(d||(d=Array.prototype.slice.call(l,0,w)),d[w]=l[w]);return q.concat(d||Array.prototype.slice.call(l))}m.d(f,"d",function(){return h});m.d(f,"a",function(){return n});m.d(f,"f",function(){return u});m.d(f,"c",function(){return r});m.d(f,"b",function(){return e});m.d(f,"e",function(){return v});m.d(f,"g",
function(){return g});var p=function(q,l){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(c[w]=d[w])})(q,l)},n=function(){return(n=Object.assign||function(q){for(var l,c=1,d=arguments.length;c<d;c++)for(var w in l=arguments[c])Object.prototype.hasOwnProperty.call(l,w)&&(q[w]=l[w]);return q}).apply(this,arguments)};Object.create;Object.create},130:function(k,f){k.exports=M},18:function(k,
f){k.exports=U},355:function(k,f){k.exports=a},426:function(k,f){k.exports=b},806:function(k,f,m){m.r(f);var h=m(1),u=m(426);k=m(18);var r=m(130),e=m.n(r);r=m(355);var v=m.n(r);m=function(g){function p(n){n=g.call(this,n)||this;return n.handleDateRangeSelect=n.handleDateRangeSelect.bind(n),n.handleClearFilter=n.handleClearFilter.bind(n),n}return Object(h.d)(p,g),p.prototype.render=function(n){return n(e.a,{key:"created-filter-accordion",title:u.dateCreated,clearable:!!this.props.dateCreatedFilter,
onClear:this.handleClearFilter},n("ul",{"aria-label":u.dateCreated,class:"ftr-created__tree",role:"tree"},n(v.a,{key:"date-range-selector",selectedOption:this.props.dateCreatedSection,range:this.props.dateCreatedFilter,onDateRangeSelect:this.handleDateRangeSelect,preventFutureDate:!0,minDateConstraint:12334752E5})))},p.prototype.handleDateRangeSelect=function(n,q){this.props.onDateCreatedSelect(n,q)},p.prototype.handleClearFilter=function(){this.props.onDateCreatedSelect()},p}(k.Component);f.default=
m}})})},"arcgis-components/DateSelection/DateRangeSelector/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Toggle","dojo/i18n!../../DateSelection/DateRangeSelector/nls/resources","../../DateSelection/DatePicker"],function(U,M,a,b,k){return function(f){function m(u){if(h[u])return h[u].exports;var r=h[u]={i:u,l:!1,exports:{}};return f[u].call(r.exports,r,r.exports,m),r.l=!0,r.exports}var h={};return m.m=f,m.c=h,m.d=function(u,r,e){m.o(u,r)||Object.defineProperty(u,r,{enumerable:!0,
get:e})},m.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},m.t=function(u,r){if((1&r&&(u=m(u)),8&r)||4&r&&"object"==typeof u&&u&&u.__esModule)return u;var e=Object.create(null);if(m.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:u}),2&r&&"string"!=typeof u)for(var v in u)m.d(e,v,function(g){return u[g]}.bind(null,v));return e},m.n=function(u){var r=u&&u.__esModule?
function(){return u.default}:function(){return u};return m.d(r,"a",r),r},m.o=function(u,r){return Object.prototype.hasOwnProperty.call(u,r)},m.p="",m(m.s=797)}({1:function(f,m,h){function u(l,c){function d(){this.constructor=l}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(l,c);l.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}function r(l,c){var d={},w;for(w in l)Object.prototype.hasOwnProperty.call(l,
w)&&0>c.indexOf(w)&&(d[w]=l[w]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(w=Object.getOwnPropertySymbols(l);t<w.length;t++)0>c.indexOf(w[t])&&Object.prototype.propertyIsEnumerable.call(l,w[t])&&(d[w[t]]=l[w[t]])}return d}function e(l,c,d,w){var t,z=arguments.length,x=3>z?c:null===w?w=Object.getOwnPropertyDescriptor(c,d):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(l,c,d,w);else for(var y=l.length-1;0<=y;y--)(t=l[y])&&(x=(3>z?
t(x):3<z?t(c,d,x):t(c,d))||x);return 3<z&&x&&Object.defineProperty(c,d,x),x}function v(l,c,d,w){return new (d||(d=Promise))(function(t,z){function x(B){try{A(w.next(B))}catch(D){z(D)}}function y(B){try{A(w.throw(B))}catch(D){z(D)}}function A(B){var D;B.done?t(B.value):(D=B.value,D instanceof d?D:new d(function(C){C(D)})).then(x,y)}A((w=w.apply(l,c||[])).next())})}function g(l,c){function d(A){return function(B){return function(D){if(w)throw new TypeError("Generator is already executing.");for(;x&&
(x=0,D[0]&&(y=0)),y;)try{if(w=1,t&&(z=2&D[0]?t.return:D[0]?t.throw||((z=t.return)&&z.call(t),0):t.next)&&!(z=z.call(t,D[1])).done)return z;switch(t=0,z&&(D=[2&D[0],z.value]),D[0]){case 0:case 1:z=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;t=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(z=y.trys,(z=0<z.length&&z[z.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!z||D[1]>z[0]&&D[1]<z[3]))y.label=D[1];else if(6===D[0]&&y.label<z[1])y.label=
z[1],z=D;else if(z&&y.label<z[2])y.label=z[2],y.ops.push(D);else{z[2]&&y.ops.pop();y.trys.pop();continue}}D=c.call(l,y)}catch(C){D=[6,C],t=0}finally{w=z=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([A,B])}}var w,t,z,x,y={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return x={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x}function p(l,c,d){if(d||2===arguments.length)for(var w,t=0,z=c.length;t<
z;t++)!w&&t in c||(w||(w=Array.prototype.slice.call(c,0,t)),w[t]=c[t]);return l.concat(w||Array.prototype.slice.call(c))}h.d(m,"d",function(){return u});h.d(m,"a",function(){return q});h.d(m,"f",function(){return r});h.d(m,"c",function(){return e});h.d(m,"b",function(){return v});h.d(m,"e",function(){return g});h.d(m,"g",function(){return p});var n=function(l,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,w){d.__proto__=w}||function(d,w){for(var t in w)Object.prototype.hasOwnProperty.call(w,
t)&&(d[t]=w[t])})(l,c)},q=function(){return(q=Object.assign||function(l){for(var c,d=1,w=arguments.length;d<w;d++)for(var t in c=arguments[d])Object.prototype.hasOwnProperty.call(c,t)&&(l[t]=c[t]);return l}).apply(this,arguments)};Object.create;Object.create},144:function(f,m){f.exports=M},160:function(f,m){f.exports=a},18:function(f,m){f.exports=U},221:function(f,m){f.exports=b},408:function(f,m,h){var u=h(1),r=h(221),e=h(144);m.a=function(v,g){var p=new Date,n=p.getTime();p.setHours(0,0,0,0);p=
p.getTime();switch(v){case "today":return{start:p,end:n,label:r.today};case "yesterday":return{start:p-864E5,end:p,label:r.yesterday};case "last7Days":return{start:n-6048E5,end:n,label:r.last7Days};case "last30Days":return{start:n-2592E6,end:n,label:r.last30Days};case "custom":if(g)return v=e.format(new Date(g.start),{selector:"date",formatLength:"short"}),n=e.format(new Date(g.end),{selector:"date",formatLength:"short"}),Object(u.a)(Object(u.a)({},g),{label:"".concat(v,"\u2014").concat(n)})}}},424:function(f,
m){f.exports=k},498:function(f,m,h){var u=h(1);f=h(18);var r=h(160),e=h.n(r);h=function(v){function g(p){return v.call(this,p)||this}return Object(u.d)(g,v),g.prototype.render=function(p){var n=this;return this.props.options.map(function(q){return p(e.a,{key:q.value,name:q.displayName,value:q.value,selectedToggle:n.props.selectedOption,childOptions:q.childOptions,onToggleClick:n.props.handleOptionClick})})},g}(f.Component);m.a=h},797:function(f,m,h){h.r(m);var u=h(1),r=h(221);f=h(18);var e=h(424),
v=h.n(e),g=h(498),p=h(408);h=function(n){function q(l){var c=n.call(this,l)||this;return c.state={uid:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),customStart:"custom"===l.selectedOption&&l.range?new Date(l.range.start):void 0,customEnd:"custom"===l.selectedOption&&l.range?new Date(l.range.end):void 0,customRange:"custom"===l.selectedOption&&l.range?l.range:void 0,options:[{value:"today",displayName:r.today},{value:"yesterday",displayName:r.yesterday},{value:"last7Days",displayName:r.last7Days},
{value:"last30Days",displayName:r.last30Days},{value:"custom",displayName:r.custom}]},c.handleFromDateChange=c.handleFromDateChange.bind(c),c.handleToDateChange=c.handleToDateChange.bind(c),c.handleOptionClick=c.handleOptionClick.bind(c),c}return Object(u.d)(q,n),q.prototype.render=function(l){var c,d={hide:"custom"!==this.props.selectedOption,"margin-left-1":!0,"margin-right-0":!0,date__selector:!0,"date__selector--hide":"custom"!==this.props.selectedOption},w=new Date;if(this.props.preventFutureDate){var t=
this.state.customEnd;(!t||t>w)&&(t=w);t={max:t}}else this.state.customEnd&&(t={max:this.state.customEnd});(this.state.customStart||this.props.preventFutureDate)&&(c=Object(u.a)(Object(u.a)({},this.state.customStart&&{min:this.state.customStart}),this.props.preventFutureDate&&{max:w}));if(w=this.props.minDateConstraint)w=new Date(w),t=Object(u.a)(Object(u.a)({},t),{min:w}),c=Object(u.a)({min:w},c);return l("div",null,l(g.a,{key:"date-range-static-toggles",options:this.state.options,selectedOption:this.props.selectedOption,
customRange:this.state.customRange,handleOptionClick:this.handleOptionClick}),l("div",{classes:d},l("label",{"aria-label":r.from},r.from,l("div",{class:"date-selector__pick-wrapper"},l(v.a,{key:"from-picker-".concat(this.state.uid),onDateChange:this.handleFromDateChange,value:this.state.customStart,constraints:t}))),l("label",{"aria-label":r.to},r.to,l("div",{class:"date-selector__pick-wrapper"},l(v.a,{key:"to-picker-".concat(this.state.uid),onDateChange:this.handleToDateChange,value:this.state.customEnd,
constraints:c})))))},q.prototype.handleFromDateChange=function(l){this.state.customEnd?(this.setState({customStart:l,customRange:{start:l.getTime(),end:this.state.customEnd.getTime()+86399999}}),this.props.onDateRangeSelect("custom",Object(p.a)("custom",this.state.customRange))):this.setState({customStart:l})},q.prototype.handleToDateChange=function(l){this.state.customStart?(this.setState({customEnd:l,customRange:{start:this.state.customStart.getTime(),end:l.getTime()+86399999}}),this.props.onDateRangeSelect("custom",
Object(p.a)("custom",this.state.customRange))):this.setState({customEnd:l})},q.prototype.handleOptionClick=function(l){this.props.selectedOption===l?this.props.onDateRangeSelect():this.props.onDateRangeSelect(l,Object(p.a)(l,this.state.customRange))},q}(f.Component);m.default=h}})})},"arcgis-components/DateSelection/DatePicker":function(){define(["../Component","dijit/form/DateTextBox"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,
m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),
2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=798)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===
n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&
"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");
for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<
d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=
0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,
c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},17:function(a,b){a.exports=U},499:function(a,b){a.exports=M},798:function(a,b,k){k.r(b);var f=k(1);a=k(17);var m=k(499),h=k.n(m);k=function(u){function r(e){e=u.call(this,e)||this;return e.processDijit=e.processDijit.bind(e),e.createDijit=e.createDijit.bind(e),
e.handleDateChange=e.handleDateChange.bind(e),e}return Object(f.d)(r,u),r.prototype.render=function(e){return e("div",{key:this.props.key,id:this.props.key,class:"margin-right-1",afterCreate:this.processDijit})},r.prototype.componentWillReceiveProps=function(e){e.constraints!==this.props.constraints&&this.state.dijit&&this.state.dijit.textbox&&this.state.dijit.set("constraints",Object(f.a)({},e.constraints))},r.prototype.processDijit=function(e){this.state.dijit&&this.state.dijit.destroy();e=this.createDijit(e);
e.on("change",this.handleDateChange);this.setState({dijit:e})},r.prototype.createDijit=function(e){return new h.a({value:this.props.value,constraints:Object(f.a)({},this.props.constraints)},e)},r.prototype.handleDateChange=function(e){this.props.onDateChange(e)},r}(a.Component);b.default=k}})})},"arcgis-components/Buttons/FilterChip/index":function(){define(["../../Component","dojo/i18n!../../Buttons/FilterChip/nls/resources"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;
var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),
Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=792)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+
" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?
l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,
t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;
default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w=
{next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",
function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},18:function(a,b){a.exports=U},497:function(a,
b){a.exports=M},792:function(a,b,k){k.r(b);var f=k(1),m=k(497);a=function(h){function u(){return null!==h&&h.apply(this,arguments)||this}return Object(f.d)(u,h),u.prototype.render=function(r){var e=this.props,v=e.filterId,g=e.handleRemoveFilter;e=e.text;var p={"btn-ftr-chip__label":!0,"btn-ftr-chip__label--dark":"dark"===this.props.theme};return r("span",{id:"filter-chip-".concat(e),classes:p,key:e},e,this.props.static?null:r("button",{"aria-label":"".concat(m.clear,": ").concat(e),value:v,id:"filter-chip-x-".concat(e),
class:"btn-ftr-chip__remove",onclick:g},r("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",style:"\n                                    fill: currentColor;\n                                    pointer-events: none;\n                                    display: block;\n                                    width: 16px;\n                                    height: 16px;\n                                    vertical-align: middle;\n                                    padding-right: .15em;\n                                    transform: rotate(360deg);\n                                "},
r("path",{d:"M8.718 8l5.303 5.303-.707.707L8.01 8.707 2.707 14.01 2 13.303 7.303 8 2 2.697l.707-.707L8.01 7.293l5.304-5.303.707.707z"}))))},u}(k(18).Component);b.default=a}})})},"arcgis-components/GroupCards/GroupCheckCard/index":function(){define(["../../Component","dojo/date/locale","../../Buttons/Ago2018Checkbox","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/GroupCheckCard/nls/resources"],function(U,M,a,b,k){return function(f){function m(u){if(h[u])return h[u].exports;var r=h[u]={i:u,
l:!1,exports:{}};return f[u].call(r.exports,r,r.exports,m),r.l=!0,r.exports}var h={};return m.m=f,m.c=h,m.d=function(u,r,e){m.o(u,r)||Object.defineProperty(u,r,{enumerable:!0,get:e})},m.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},m.t=function(u,r){if((1&r&&(u=m(u)),8&r)||4&r&&"object"==typeof u&&u&&u.__esModule)return u;var e=Object.create(null);if(m.r(e),Object.defineProperty(e,
"default",{enumerable:!0,value:u}),2&r&&"string"!=typeof u)for(var v in u)m.d(e,v,function(g){return u[g]}.bind(null,v));return e},m.n=function(u){var r=u&&u.__esModule?function(){return u.default}:function(){return u};return m.d(r,"a",r),r},m.o=function(u,r){return Object.prototype.hasOwnProperty.call(u,r)},m.p="",m(m.s=819)}({1:function(f,m,h){function u(l,c){function d(){this.constructor=l}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");
n(l,c);l.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}function r(l,c){var d={},w;for(w in l)Object.prototype.hasOwnProperty.call(l,w)&&0>c.indexOf(w)&&(d[w]=l[w]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(w=Object.getOwnPropertySymbols(l);t<w.length;t++)0>c.indexOf(w[t])&&Object.prototype.propertyIsEnumerable.call(l,w[t])&&(d[w[t]]=l[w[t]])}return d}function e(l,c,d,w){var t,z=arguments.length,x=3>z?c:null===w?w=Object.getOwnPropertyDescriptor(c,
d):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(l,c,d,w);else for(var y=l.length-1;0<=y;y--)(t=l[y])&&(x=(3>z?t(x):3<z?t(c,d,x):t(c,d))||x);return 3<z&&x&&Object.defineProperty(c,d,x),x}function v(l,c,d,w){return new (d||(d=Promise))(function(t,z){function x(B){try{A(w.next(B))}catch(D){z(D)}}function y(B){try{A(w.throw(B))}catch(D){z(D)}}function A(B){var D;B.done?t(B.value):(D=B.value,D instanceof d?D:new d(function(C){C(D)})).then(x,y)}A((w=w.apply(l,c||
[])).next())})}function g(l,c){function d(A){return function(B){return function(D){if(w)throw new TypeError("Generator is already executing.");for(;x&&(x=0,D[0]&&(y=0)),y;)try{if(w=1,t&&(z=2&D[0]?t.return:D[0]?t.throw||((z=t.return)&&z.call(t),0):t.next)&&!(z=z.call(t,D[1])).done)return z;switch(t=0,z&&(D=[2&D[0],z.value]),D[0]){case 0:case 1:z=D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;t=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(z=y.trys,
(z=0<z.length&&z[z.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!z||D[1]>z[0]&&D[1]<z[3]))y.label=D[1];else if(6===D[0]&&y.label<z[1])y.label=z[1],z=D;else if(z&&y.label<z[2])y.label=z[2],y.ops.push(D);else{z[2]&&y.ops.pop();y.trys.pop();continue}}D=c.call(l,y)}catch(C){D=[6,C],t=0}finally{w=z=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([A,B])}}var w,t,z,x,y={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return x={next:d(0),throw:d(1),
return:d(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x}function p(l,c,d){if(d||2===arguments.length)for(var w,t=0,z=c.length;t<z;t++)!w&&t in c||(w||(w=Array.prototype.slice.call(c,0,t)),w[t]=c[t]);return l.concat(w||Array.prototype.slice.call(c))}h.d(m,"d",function(){return u});h.d(m,"a",function(){return q});h.d(m,"f",function(){return r});h.d(m,"c",function(){return e});h.d(m,"b",function(){return v});h.d(m,"e",function(){return g});h.d(m,"g",function(){return p});
var n=function(l,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,w){d.__proto__=w}||function(d,w){for(var t in w)Object.prototype.hasOwnProperty.call(w,t)&&(d[t]=w[t])})(l,c)},q=function(){return(q=Object.assign||function(l){for(var c,d=1,w=arguments.length;d<w;d++)for(var t in c=arguments[d])Object.prototype.hasOwnProperty.call(c,t)&&(l[t]=c[t]);return l}).apply(this,arguments)};Object.create;Object.create},125:function(f,m,h){h.d(m,"a",function(){return r});h.d(m,"b",
function(){return e});var u=h(1);f=h(15);var r=function(v,g){var p;return g.thumbnail&&(p="".concat(v.restUrl,"/community/groups/").concat(g.id,"/info/").concat(g.thumbnail).concat(v.credential?"?token\x3d".concat(v.credential.token):"")),p},e=Object(f.a)(function(v,g){return Object(u.a)(Object(u.a)({},g),{thumbURI:r(v,g)})})},144:function(f,m){f.exports=M},15:function(f,m,h){function u(e){return function g(){for(var p=this,n=[],q=0;q<arguments.length;q++)n[q]=arguments[q];return n.length>=e.length?
e.call.apply(e,Object(r.g)([this],n,!1)):function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return g.call.apply(g,Object(r.g)(Object(r.g)([p],n,!1),l,!1))}}}h.d(m,"a",function(){return u});var r=h(1)},18:function(f,m){f.exports=U},243:function(f,m,h){var u=h(125);m.a=function(r,e){var v=r.group,g=r.stacked,p=r.portal;r={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!v.thumbURI,"gcard-thumbnail--stacked":void 0!==g&&g,"gcard-thumbnail--transparent":r.transparent};
if(v.thumbnail&&!v.thumbURI&&p&&(v.thumbURI=Object(u.a)(p,v)),v.thumbURI)return e("img",{src:v.thumbURI,classes:r,alt:v.title});p=!(!v.title.charAt(0)||!v.title.charAt(0).match(/^\w+$/));return e("div",{key:"group-thumbnail-".concat(v.id),classes:r},e("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},e("path",{fill:"#".concat(v.id.substr(v.id.length-6)),d:"M0 0h65v65H0z"}),e("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),p?e("text",{x:"50%",
y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central","text-anchor":"middle"},v.title.slice(0,1).toUpperCase()):e("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
292:function(f,m){f.exports=a},362:function(f,m){f.exports=b},430:function(f,m){f.exports=k},819:function(f,m,h){h.r(m);var u=h(1),r=h(430),e=h(144);f=h(18);var v=h(243),g=h(292),p=h.n(g);g=h(362);var n=h.n(g);h=function(q){function l(){var c=null!==q&&q.apply(this,arguments)||this;return c.handleCheckClick=function(){var d,w;null!==(w=(d=c.props).shouldDisable)&&void 0!==w&&w.call(d,c.props.group)||(d=c.props.checked?c.props.onUncheckGroup:c.props.onCheckGroup)&&d(c.props.group)},c}return Object(u.d)(l,
q),l.prototype.render=function(c){var d=this.props,w=d.checked,t=d.group,z=d.portal,x=d.key,y=d.shouldDisable;d=t.owner;var A=t.title,B=this.props,D=B.group;var C=D.created;D=D.modified;C=(B=B.sortField)&&"created"===B?"".concat(r.created,": ").concat(e.format(new Date(C),{selector:"date",formatLength:"medium"})):"".concat(r.modified,": ").concat(e.format(new Date(0<D?D:C),{selector:"date",formatLength:"medium"}));B=(y=!(null==y||!y(this.props.group)))&&this.props.disabledText;return c("div",{classes:{"gcard-gcc__container":!0,
"gcard-gcc__container--active":this.props.checked,"gcard-gcc__container--disabled":y},key:x,onclick:this.handleCheckClick},c(p.a,{key:"gcard-gcc__checkbox-".concat(t.id),checked:w,onChange:this.handleCheckClick,title:A}),c(v.a,{group:this.props.group,portal:this.props.portal}),c("div",{class:"gcard-gcc__flex"},c("div",{class:"gcard-gcc__title-owner"},c("span",{class:"gcard-gcc__title"},A),c("a",{href:"".concat(z.baseUrl,"/home/user.html?user\x3d").concat(d),class:"gcard-gcc__owner",target:"_blank"},
d),c("span",{class:"gcard-gcc__small-info"},C),B?c("div",{class:"gcard-gcc__disabled-text"},c("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},c("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),c("span",{class:"margin-left-quarter font-size--2"},this.props.disabledText)):null),c("div",{class:"gcard-gcc__info"},c("span",null,C))),c(n.a,{key:"gcard-gcc__toggle-".concat(t.id),
id:"gcard-toggle-".concat(t.id),value:w,handleToggleClick:this.handleCheckClick,label:""}))},l}(f.Component);m.default=h}})})},"arcgis-components/Buttons/Ago2018Checkbox":function(){define(["../Component"],function(U){return function(M){function a(k){if(b[k])return b[k].exports;var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,get:m})},a.r=function(k){"undefined"!=
typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:k}),2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};
return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=789)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");e(g,p);g.prototype=null===p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==
typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,
n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||
((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<c[1])w.label=c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);
else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=0,c=p.length;l<c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),
q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});b.d(a,"e",function(){return u});b.d(a,"g",function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=
Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},17:function(M,a){M.exports=U},789:function(M,a,b){b.r(a);var k=b(1);M=function(f){function m(h){h=f.call(this,h)||this;return h.handleCheckChange=h.handleCheckChange.bind(h),h}return Object(k.d)(m,f),m.prototype.render=function(h){var u=Object(k.a)({"btn-2018check__wrap":!0},this.props.wrapperClasses),
r={"btn-2018check__input":!0,"btn-2018check__input--disabled":this.props.disabled},e={"btn-2018check__custom":!0,"btn-2018check__custom--large":this.props.large,"btn-2018check__custom--active":this.props.checked||this.props.indeterminate,"btn-2018check__custom--disabled":this.props.disabled},v=this.props.large?"20":"16";return h("label",{classes:u,key:this.props.key},h("span",{class:"btn-2018check__label"},this.props.title),h("input",{type:"checkbox",checked:this.props.checked,classes:r,indeterminate:this.props.indeterminate,
onclick:this.handleCheckChange,title:this.props.title,id:this.props.id,disabled:this.props.disabled,"aria-describedby":this.props.describedBy}),h("span",{classes:e},this.props.checked?h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:v,height:v,viewBox:"0 0 16 16"},h("path",{d:"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"})):this.props.indeterminate?h("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:v,height:v,viewBox:"0 0 16 16"},h("path",{"fill-rule":"evenodd",
"clip-rule":"evenodd",d:"M4 7h8v2H4z"})):null))},m.prototype.handleCheckChange=function(h){var u,r;h.stopPropagation();h.preventDefault();this.props.disabled||null!==(r=null===(u=this.props)||void 0===u?void 0:u.onChange)&&void 0!==r&&r.call(u,!this.props.checked)},m}(b(17).Component);a.default=M}})})},"arcgis-components/Buttons/ToggleSwitch":function(){define(["../Component"],function(U){return function(M){function a(k){if(b[k])return b[k].exports;var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,
f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,get:m})},a.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:k}),
2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=796)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");e(g,p);g.prototype=null===
p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&
"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");
for(;d&&(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<
c[1])w.label=c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=
0,c=p.length;l<c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});b.d(a,"e",function(){return u});b.d(a,"g",function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,
l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},17:function(M,a){M.exports=U},796:function(M,a,b){b.r(a);var k=b(1);M=function(f){function m(){return null!==f&&f.apply(this,arguments)||this}return Object(k.d)(m,f),m.prototype.render=function(h){var u=this.props,r=u.handleToggleClick,e=u.handleKeyUp,
v=u.value,g=u.id;return h("label",{class:"btn-toggle-switch__toggle",key:g||"toggle-switch"},h("span",{class:"btn-toggle-switch__label"},u.label),h("input",{id:"".concat(g,"-input"),type:"checkbox",class:"btn-toggle-switch__input",onchange:r,onkeyup:e,checked:v}),h("span",{id:"".concat(g,"-switch"),class:"btn-toggle-switch__switch"}))},m}(b(17).Component);a.default=M}})})},"arcgis-components/GroupCards/MultiselectableGroupCard/index":function(){define(["../../Component","../../Buttons/Ago2018Checkbox",
"../../GroupBadges/index","../../Buttons/ToggleSwitch","dojo/i18n!../../GroupCards/MultiselectableGroupCard/nls/resources"],function(U,M,a,b,k){return function(f){function m(u){if(h[u])return h[u].exports;var r=h[u]={i:u,l:!1,exports:{}};return f[u].call(r.exports,r,r.exports,m),r.l=!0,r.exports}var h={};return m.m=f,m.c=h,m.d=function(u,r,e){m.o(u,r)||Object.defineProperty(u,r,{enumerable:!0,get:e})},m.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,
{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},m.t=function(u,r){if((1&r&&(u=m(u)),8&r)||4&r&&"object"==typeof u&&u&&u.__esModule)return u;var e=Object.create(null);if(m.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:u}),2&r&&"string"!=typeof u)for(var v in u)m.d(e,v,function(g){return u[g]}.bind(null,v));return e},m.n=function(u){var r=u&&u.__esModule?function(){return u.default}:function(){return u};return m.d(r,"a",r),r},m.o=function(u,r){return Object.prototype.hasOwnProperty.call(u,
r)},m.p="",m(m.s=820)}({1:function(f,m,h){function u(l,c){function d(){this.constructor=l}if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(l,c);l.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}function r(l,c){var d={},w;for(w in l)Object.prototype.hasOwnProperty.call(l,w)&&0>c.indexOf(w)&&(d[w]=l[w]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(w=Object.getOwnPropertySymbols(l);t<
w.length;t++)0>c.indexOf(w[t])&&Object.prototype.propertyIsEnumerable.call(l,w[t])&&(d[w[t]]=l[w[t]])}return d}function e(l,c,d,w){var t,z=arguments.length,x=3>z?c:null===w?w=Object.getOwnPropertyDescriptor(c,d):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(l,c,d,w);else for(var y=l.length-1;0<=y;y--)(t=l[y])&&(x=(3>z?t(x):3<z?t(c,d,x):t(c,d))||x);return 3<z&&x&&Object.defineProperty(c,d,x),x}function v(l,c,d,w){return new (d||(d=Promise))(function(t,z){function x(B){try{A(w.next(B))}catch(D){z(D)}}
function y(B){try{A(w.throw(B))}catch(D){z(D)}}function A(B){var D;B.done?t(B.value):(D=B.value,D instanceof d?D:new d(function(C){C(D)})).then(x,y)}A((w=w.apply(l,c||[])).next())})}function g(l,c){function d(A){return function(B){return function(D){if(w)throw new TypeError("Generator is already executing.");for(;x&&(x=0,D[0]&&(y=0)),y;)try{if(w=1,t&&(z=2&D[0]?t.return:D[0]?t.throw||((z=t.return)&&z.call(t),0):t.next)&&!(z=z.call(t,D[1])).done)return z;switch(t=0,z&&(D=[2&D[0],z.value]),D[0]){case 0:case 1:z=
D;break;case 4:return y.label++,{value:D[1],done:!1};case 5:y.label++;t=D[1];D=[0];continue;case 7:D=y.ops.pop();y.trys.pop();continue;default:if(!(z=y.trys,(z=0<z.length&&z[z.length-1])||6!==D[0]&&2!==D[0])){y=0;continue}if(3===D[0]&&(!z||D[1]>z[0]&&D[1]<z[3]))y.label=D[1];else if(6===D[0]&&y.label<z[1])y.label=z[1],z=D;else if(z&&y.label<z[2])y.label=z[2],y.ops.push(D);else{z[2]&&y.ops.pop();y.trys.pop();continue}}D=c.call(l,y)}catch(C){D=[6,C],t=0}finally{w=z=0}if(5&D[0])throw D[1];return{value:D[0]?
D[1]:void 0,done:!0}}([A,B])}}var w,t,z,x,y={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return x={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x}function p(l,c,d){if(d||2===arguments.length)for(var w,t=0,z=c.length;t<z;t++)!w&&t in c||(w||(w=Array.prototype.slice.call(c,0,t)),w[t]=c[t]);return l.concat(w||Array.prototype.slice.call(c))}h.d(m,"d",function(){return u});h.d(m,"a",function(){return q});h.d(m,"f",
function(){return r});h.d(m,"c",function(){return e});h.d(m,"b",function(){return v});h.d(m,"e",function(){return g});h.d(m,"g",function(){return p});var n=function(l,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,w){d.__proto__=w}||function(d,w){for(var t in w)Object.prototype.hasOwnProperty.call(w,t)&&(d[t]=w[t])})(l,c)},q=function(){return(q=Object.assign||function(l){for(var c,d=1,w=arguments.length;d<w;d++)for(var t in c=arguments[d])Object.prototype.hasOwnProperty.call(c,
t)&&(l[t]=c[t]);return l}).apply(this,arguments)};Object.create;Object.create},125:function(f,m,h){h.d(m,"a",function(){return r});h.d(m,"b",function(){return e});var u=h(1);f=h(15);var r=function(v,g){var p;return g.thumbnail&&(p="".concat(v.restUrl,"/community/groups/").concat(g.id,"/info/").concat(g.thumbnail).concat(v.credential?"?token\x3d".concat(v.credential.token):"")),p},e=Object(f.a)(function(v,g){return Object(u.a)(Object(u.a)({},g),{thumbURI:r(v,g)})})},15:function(f,m,h){function u(e){return function g(){for(var p=
this,n=[],q=0;q<arguments.length;q++)n[q]=arguments[q];return n.length>=e.length?e.call.apply(e,Object(r.g)([this],n,!1)):function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return g.call.apply(g,Object(r.g)(Object(r.g)([p],n,!1),l,!1))}}}h.d(m,"a",function(){return u});var r=h(1)},18:function(f,m){f.exports=U},184:function(f,m,h){h.d(m,"b",function(){return v});h.d(m,"c",function(){return g});h.d(m,"a",function(){return p});var u=h(64);f=h(7);var r=h(97),e=h(125),v=function(n,q){return Object(u.a)(Object(e.b)(n))(q)},
g=Object(u.a)(Object(f.e)("thumbURI")),p=function(n){var q=n.initialSelectedByIds;return!Object(r.a)(n.selectedBy.map(function(l){return l.id}),q)}},243:function(f,m,h){var u=h(125);m.a=function(r,e){var v=r.group,g=r.stacked,p=r.portal;r={"gcard-thumbnail__container":!0,"gcard-thumbnail__svg-container":!v.thumbURI,"gcard-thumbnail--stacked":void 0!==g&&g,"gcard-thumbnail--transparent":r.transparent};if(v.thumbnail&&!v.thumbURI&&p&&(v.thumbURI=Object(u.a)(p,v)),v.thumbURI)return e("img",{src:v.thumbURI,
classes:r,alt:v.title});p=!(!v.title.charAt(0)||!v.title.charAt(0).match(/^\w+$/));return e("div",{key:"group-thumbnail-".concat(v.id),classes:r},e("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"65",height:"65",viewBox:"0 0 65 65"},e("path",{fill:"#".concat(v.id.substr(v.id.length-6)),d:"M0 0h65v65H0z"}),e("path",{fill:"#ccc",d:"M0 0h65v65H0z","fill-opacity":"0.8"}),p?e("text",{x:"50%",y:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)?"70%":"50%",fill:"white","dominant-baseline":"central",
"text-anchor":"middle"},v.title.slice(0,1).toUpperCase()):e("path",{fill:"#FFF",d:"M24.25 15.625a6.875 6.875 0 1 0-.008 13.75 6.875 6.875 0 0 0 .008-13.75zm0 11c-2.272 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125c2.279 0 4.125 1.846 4.125 4.125s-1.846 4.125-4.125 4.125zm3.118 16.5H14.774c.596-4.641 4.647-8.25 9.473-8.25 2.855 0 5.426 1.283 7.188 3.316a15.168 15.168 0 0 1 2.311-1.518 12.22 12.22 0 0 0-9.496-4.549c-6.369 0-11.551 4.82-12.238 11l-.137 2.75h14.424a15.49 15.49 0 0 1 1.066-2.75h.003zm25.62 5.5c-.693-6.18-5.873-11-12.238-11s-11.545 4.82-12.238 11l-.137 2.75h24.75l-.137-2.75zm-21.711 0c.596-4.641 4.647-8.25 9.473-8.25a9.578 9.578 0 0 1 9.464 8.25H31.277zm9.473-27.5a6.875 6.875 0 1 0-.008 13.75c3.797.003 6.877-3.072 6.88-6.87s-3.072-6.877-6.869-6.88h-.003zm0 11c-2.271 0-4.125-1.851-4.125-4.125s1.848-4.125 4.125-4.125a4.125 4.125 0 0 1 0 8.25z"})))}},
292:function(f,m){f.exports=M},333:function(f,m){f.exports=a},362:function(f,m){f.exports=b},391:function(f,m){f.exports=k},64:function(f,m,h){function u(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(v){return r.reduceRight(function(g,p){return p(g)},v)}}h.d(m,"a",function(){return u})},7:function(f,m,h){function u(l){return 0===Object.keys(l).length&&l.constructor===Object}function r(l){return null!=l}function e(l,c){return n.apply(null,arguments)}function v(l,c){return q.apply(null,
arguments)}h.d(m,"b",function(){return u});h.d(m,"a",function(){return r});h.d(m,"e",function(){return p});h.d(m,"c",function(){return e});h.d(m,"d",function(){return v});var g=h(1);f=h(15);var p=Object(f.a)(function(l,c){c=Object(g.a)({},c);return delete c[l],c}),n=Object(f.a)(function(l,c){return Object.keys(c).reduce(function(d,w){return d[w]=l(c[w],w,c),d},{})}),q=Object(f.a)(function(l,c){return Object.keys(c).reduce(function(d,w){return l(c[w],w,c)&&(d[w]=c[w]),d},{})})},820:function(f,m,h){h.r(m);
var u=h(1),r=h(391);f=h(18);var e=h(243),v=h(292),g=h.n(v);v=h(362);var p=h.n(v),n=h(333),q=h.n(n),l=h(184);h=function(d){function w(){var t=null!==d&&d.apply(this,arguments)||this;return t.handleAssignedLinkClick=function(z){z.stopPropagation()},t.handleCheckClick=function(){var z,x;null!==(x=(z=t.props).shouldDisable)&&void 0!==x&&x.call(z,t.props.group)||(z=t.props.checked?t.props.onUncheckGroup:t.props.onCheckGroup,null==z||z(t.props.group))},t}return Object(u.d)(w,d),w.prototype.render=function(t){var z=
this,x=this.props,y=x.checked,A=x.group,B=x.indeterminate,D=x.key,C=x.selectedBy,E=x.initialSelectedByIds,H=x.portal,G=x.shouldDisable,F=x.disabledText;x=x.selectors;var I=A.title,J="".concat(A.id,"-badge"),K=c(this.props,t);G=!(null==G||!G(A));var P=Object(n.getBadgeTypes)(A,H).map(function(S){return"".concat(J,"-").concat(S)}).join(" "),T=null==x?void 0:x.some(function(S){return!!S.username});return t("div",{classes:{"gcard-gcc__container":!0,"gcard-gcc__container--active":y,"gcard-gcc__container--disabled":G,
"gcard-gcc__container--compact":!0},key:D,onclick:this.handleCheckClick},t(g.a,{key:"gcard-gcc__checkbox-".concat(A.id),checked:y,indeterminate:B,onChange:this.handleCheckClick,title:I,describedBy:P}),t(e.a,{group:A,portal:H}),t("span",{key:"gcard-gcc__title",class:"gcard-gcc__title"},t("div",null,I),!!x&&T&&B&&t("div",{id:"partial-assigned-container-".concat(A.id)},t("calcite-popover-manager",null,t("calcite-link",{id:"partial-assigned-".concat(A.id),onclick:this.handleAssignedLinkClick},r.membersAssigned.replace("${num}",
C.length).replace("${total}",x.length))),t("calcite-popover",{"reference-element":"partial-assigned-".concat(A.id)},t("ul",{class:"padding-right-1"},C.map(function(S){return t("li",{key:S.username},S.username)}))))),t(q.a,{group:A,portal:H,key:"group-badges",id:J}),t("div",{key:"gcard-gcc__details",class:"gcard-gcc__details"},K,Object(l.a)({selectedBy:C,initialSelectedByIds:E})?t("button",{key:"gcard-gcc__revert-button",class:"gcard-gcc__revert-button",onclick:function(S){var L,N;S.stopPropagation();
null===(N=(L=z.props).onRevertGroup)||void 0===N||N.call(L,A)}},r.revert):null),G&&t("div",{class:"gcard-gcc__disabled-text",key:"disabled-text"},t("svg",{role:"img",viewBox:"0 0 16 16",width:"16",height:"16"},t("path",{d:"M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zm.994-3.576a1 1 0 0 1-2 0v-.048a1 1 0 0 1 2 0zM7.995 8h-.977V4h.977z"})),t("span",{class:"margin-left-quarter font-size--2"},F)),t(p.a,{key:"gcard-gcc__toggle-".concat(A.id),
id:"gcard-toggle-".concat(A.id),value:y,handleToggleClick:this.handleCheckClick,label:""}))},w}(f.Component);m.default=h;var c=function(d,w){var t=d.selectedBy,z=d.allSelectorItemIds;d=d.initialSelectedByIds;return 0===z.length||1===z.length||0===d.length&&0===t.length?null:w("span",{key:"gcard-gcc__share-text",class:"gcard-gcc__share-text",innerHTML:(Object(l.a)({selectedBy:t,initialSelectedByIds:d})?r.willBeShared:r.alreadyShared).replace("${num}",t.length).replace("${total}",z.length)})}},97:function(f,
m,h){function u(n,q){if(null==n?0:n.length)for(var l=void 0,c=0;c<n.length;c++)if(q(l=n[c]))return l}function r(n){return n.filter(function(q){return 0<q.length})}function e(n,q,l){var c=[];return q.forEach(function(d){(l?d[l].toLowerCase()===n.toLowerCase():d.toLowerCase()===n.toLowerCase())?c.unshift(d):c.push(d)}),c}h.d(m,"e",function(){return v});h.d(m,"f",function(){return g});h.d(m,"c",function(){return u});h.d(m,"b",function(){return r});h.d(m,"a",function(){return p});h.d(m,"d",function(){return e});
f=h(15);var v=function(n,q,l){return l.indexOf(n)===q},g=Object(f.a)(function(n,q){var l={};return q.filter(function(c){return!l[c[n]]&&(l[c[n]]=!0,!0)})}),p=function(n,q){return n.length===q.length&&n.reduce(function(l,c){return l&&-1<q.indexOf(c)},!0)}}})})},"arcgis-components/GroupBadges/index":function(){define(["../Component","../GroupBadge/index"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,
b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=
typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=816)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):
(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==
typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");
for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<
d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=
0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,
c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},17:function(a,b){a.exports=U},201:function(a,b,k){var f,m;k.d(b,"b",function(){return m});k.d(b,"a",function(){return h});(function(u){u.collaboration="collaboration";u.featuredContent="featuredContent";u.gallery="gallery";u.openData="openData";
u.sharedUpdate="sharedUpdate";u.partnered="partnered";u.anyOrg="anyOrg"})(m||(m={}));var h=((f={})[m.collaboration]="M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
f[m.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",f[m.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
f[m.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",f[m.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
f[m.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",f[m.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
f)},502:function(a,b){a.exports=M},816:function(a,b,k){function f(e,v){var g=[];return e.capabilities&&-1<e.capabilities.indexOf("updateitemcontrol")&&g.push(r.b.sharedUpdate),e.isOpenData&&g.push(r.b.openData),(e.collaborationInfo&&e.collaborationInfo.collaborationId||e.capabilities&&-1<e.capabilities.indexOf("distributed"))&&g.push(r.b.collaboration),v.homePageFeaturedContent&&v.homePageFeaturedContent==="id:".concat(e.id)&&g.push(r.b.featuredContent),v.featuredItemsGroupQuery&&v.featuredItemsGroupQuery===
"id:".concat(e.id)&&g.push(r.b.gallery),e.membershipAccess||v.isPortal||"none"===e.orgId||g.push(r.b.anyOrg),"collaboration"===e.membershipAccess&&g.push(r.b.partnered),g}k.r(b);k.d(b,"getBadgeTypes",function(){return f});var m=k(1);a=k(17);var h=k(502),u=k.n(h),r=k(201);k=function(e){function v(){return null!==e&&e.apply(this,arguments)||this}return Object(m.d)(v,e),v.prototype.render=function(g){var p=this.props,n=p.id;p=f(p.group,p.portal);return g("div",{class:"group-badges"},p.map(function(q){return g(u.a,
{badgeType:q,key:q,id:n})}))},v}(a.Component);b.default=k}})})},"arcgis-components/GroupBadge/index":function(){define(["../Component","dojo/i18n!../GroupBadge/nls/resources"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&
Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),
m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=817)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=
0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||
(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,
y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,
t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}
k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<
l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},17:function(a,b){a.exports=U},201:function(a,b,k){var f,m;k.d(b,"b",function(){return m});k.d(b,"a",function(){return h});(function(u){u.collaboration="collaboration";u.featuredContent="featuredContent";u.gallery="gallery";u.openData="openData";u.sharedUpdate="sharedUpdate";u.partnered="partnered";u.anyOrg="anyOrg"})(m||(m={}));var h=((f={})[m.collaboration]=
"M13.886 9.149a5.973 5.973 0 0 0-2.906-6.35 2.997 2.997 0 0 0-5.982.015A5.97 5.97 0 0 0 2.113 9.15a2.991 2.991 0 1 0 3.475 4.34 5.955 5.955 0 0 0 4.824 0 2.99 2.99 0 1 0 3.474-4.34zM8 1a2 2 0 1 1-2 2 2.002 2.002 0 0 1 2-2zM3 14a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2zm7-2a2.994 2.994 0 0 0 .067.623 5.027 5.027 0 0 1-2.067.45 5.083 5.083 0 0 1-2.074-.454A2.837 2.837 0 0 0 6 12a3.001 3.001 0 0 0-2.972-2.997A5.052 5.052 0 0 1 5.13 3.824a2.981 2.981 0 0 0 5.74 0 5.052 5.052 0 0 1 2.101 5.179A3.001 3.001 0 0 0 10 12zm3 2a2 2 0 1 1 2-2 2.002 2.002 0 0 1-2 2z",
f[m.featuredContent]="M8 0L6 2V0H3v5L0 8h1v8h5v-6h4v6h5V7.978h1zm6 15h-3V9H5v6H2V7.414l2-2V1h1v3.414l3.001-3L14 7.395z",f[m.gallery]="M11 5.56L9.473 4.088a.27.27 0 0 0-.37-.028l-1.224.824a.269.269 0 0 1-.35-.01L5.498 3.07a.27.27 0 0 0-.382.018L3.1 5.24a.27.27 0 0 1-.4 0 .27.27 0 0 0-.4 0l-.3.32V7h9zM10 6H3.752a1.38 1.38 0 0 0 .077-.076l1.534-1.636 1.501 1.334a1.267 1.267 0 0 0 1.64.041l.687-.458.809.78zM7.75 2.5a.75.75 0 1 1 .75.75.75.75 0 0 1-.75-.75zM11 9H2V8h9zm5-6v11H3v-2h1v1h11V4h-1V3zm-3-3H0v11h13zm-1 10H1V1h11z",
f[m.openData]="M13.5 12.5a.5.5 0 0 0-.5.5v.064C13 13.96 10.816 15 8 15s-5-1.04-5-1.936V8.85a11.936 11.936 0 0 0 5 .984.5.5 0 0 0 0-1A10.147 10.147 0 0 1 2.815 7.62a.484.484 0 0 0-.799.3c-.002.013-.006.025-.007.037C2.007 7.972 2 7.985 2 8v5.064C2 14.902 5.05 16 8 16s6-1.098 6-2.936V13a.5.5 0 0 0-.5-.5zM8 1C4.58 1 2 2.29 2 4s2.58 3 6 3a8.63 8.63 0 0 0 5-1.297v5.334a.5.5 0 0 0 1 0V4c0-1.71-2.58-3-6-3zm0 5C5.138 6 3 4.944 3 4s2.138-2 5-2c2.861 0 5 1.056 5 2s-2.139 2-5 2z",f[m.sharedUpdate]="M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z",
f[m.partnered]="M13.89,6.11a5.47,5.47,0,0,0-2.56-1.45A5.39,5.39,0,0,0,9.89,2.11,5.5,5.5,0,0,0,2.11,9.89a5.47,5.47,0,0,0,2.56,1.45,5.39,5.39,0,0,0,1.44,2.55,5.5,5.5,0,0,0,7.78-7.78Zm-.71,7.07A4.5,4.5,0,1,1,6.82,6.82l-.71-.71A5.46,5.46,0,0,0,4.5,10a2.09,2.09,0,0,0,0,.25A4.51,4.51,0,1,1,9.18,9.18l.71.71A5.46,5.46,0,0,0,11.5,6a2.09,2.09,0,0,0,0-.25,4.5,4.5,0,0,1,1.69,7.43Z",f[m.anyOrg]="M15.293 16L12 12.707V15h-1v-4h4v1h-2.293L16 15.293zm0-16L12 3.293V1h-1v4h4V4h-2.293L16 .707zM8 6a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 1a1 1 0 1 0 1 1 1 1 0 0 0-1-1zm-7 5h2.293L0 15.293.707 16 4 12.707V15h1v-4H1zm3-8.707L.707 0 0 .707 3.293 4H1v1h4V1H4z",
f)},324:function(a,b){a.exports=M},817:function(a,b,k){k.r(b);var f=k(1);a=k(17);var m=k(201),h=k(324);k=function(u){function r(){return null!==u&&u.apply(this,arguments)||this}return Object(f.d)(r,u),r.prototype.render=function(e){var v,g=this.props,p=g.badgeType;g=g.id;var n=p===m.b.sharedUpdate?"#ab3c16":"#005e95";return g&&(v="".concat(g,"-").concat(p)),e("button",{class:"group-badge","aria-label":"".concat(h[p],": ").concat(h.tooltips[p])},e("svg",{role:"img",style:"\n            width: 16px;\n            height: 16px;\n            vertical-align: -3px;\n          ",
fill:n,key:"group-badge-icon"},p!==m.b.anyOrg&&p!==m.b.collaboration&&e("path",{d:m.a[p]}),p===m.b.anyOrg&&e("g",null,e("path",{d:"M8,6.5A2.5,2.5,0,1,0,10.5,9,2.5,2.5,0,0,0,8,6.5Zm0,4A1.5,1.5,0,1,1,9.5,9,1.5,1.5,0,0,1,8,10.5Z"}),e("polygon",{points:"10.85 2.85 8 5.71 5.15 2.85 5.85 2.15 7.5 3.79 7.5 0.5 8.5 0.5 8.5 3.79 10.15 2.15 10.85 2.85"}),e("polygon",{points:"5.01 10.9 3.97 14.79 3 14.54 3.61 12.28 0.75 13.93 0.25 13.07 3.11 11.42 0.85 10.82 1.11 9.85 5.01 10.9"}),e("polygon",{points:"15.25 13.93 12.39 12.28 13 14.54 12.03 14.79 10.99 10.9 14.89 9.85 15.15 10.82 12.89 11.42 15.75 13.07 15.25 13.93"})),
p===m.b.collaboration&&e("g",null,e("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),e("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),e("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),e("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}),e("path",{d:"M5.42,11.36a2.7,2.7,0,0,0-.25-.61A2.31,2.31,0,0,1,5.42,11.36Z"}),e("path",{d:"M12.64,15.42a2.7,2.7,0,0,0,.61-.25A2.31,2.31,0,0,1,12.64,15.42Z"}),
e("path",{d:"M4.78,13.75A2.62,2.62,0,0,0,5,13.5,2.53,2.53,0,0,0,5.5,12a2.74,2.74,0,0,0-.08-.64,2.7,2.7,0,0,0-.25-.61,2.48,2.48,0,0,0-2.64-1.2A4.93,4.93,0,0,1,2.5,9,5.52,5.52,0,0,1,5.71,4a2.5,2.5,0,0,0,4.58,0A5.52,5.52,0,0,1,13.5,9a4.93,4.93,0,0,1,0,.55,2.48,2.48,0,0,0-2.64,1.2,2.7,2.7,0,0,0-.25.61,2.74,2.74,0,0,0-.08.64,2.53,2.53,0,0,0,.5,1.5,2.62,2.62,0,0,0,.22.25,2.45,2.45,0,0,0,.53.42,2.51,2.51,0,0,0,3.42-.92,2.7,2.7,0,0,0,.25-.61A2.74,2.74,0,0,0,15.5,12a2.53,2.53,0,0,0-.5-1.5,2.62,2.62,0,0,0-.22-.25,2,2,0,0,0-.35-.3A6,6,0,0,0,14.5,9a6.52,6.52,0,0,0-4-6,2.5,2.5,0,0,0-5,0,6.52,6.52,0,0,0-4,6,6,6,0,0,0,.07.95,2,2,0,0,0-.35.3A2.62,2.62,0,0,0,1,10.5,2.53,2.53,0,0,0,.5,12a2.74,2.74,0,0,0,.08.64,2.7,2.7,0,0,0,.25.61,2.51,2.51,0,0,0,3.42.92A2.45,2.45,0,0,0,4.78,13.75Zm8.5-3.22a1.66,1.66,0,0,1,.47.17,1.61,1.61,0,0,1,.42.36,1.51,1.51,0,0,1,.33.94,1.53,1.53,0,0,1-.2.75,1.46,1.46,0,0,1-.91.7A1.5,1.5,0,0,1,11.5,12a1.53,1.53,0,0,1,.2-.75,1.46,1.46,0,0,1,.91-.7A1.38,1.38,0,0,1,13.28,10.53ZM6.5,3a1.19,1.19,0,0,1,0-.33,1.5,1.5,0,0,1,2.92,0A1.19,1.19,0,0,1,9.5,3a1.39,1.39,0,0,1-.17.67,1.48,1.48,0,0,1-2.66,0A1.39,1.39,0,0,1,6.5,3ZM2.61,13.45a1.46,1.46,0,0,1-.91-.7A1.53,1.53,0,0,1,1.5,12a1.51,1.51,0,0,1,.33-.94,1.61,1.61,0,0,1,.42-.36,1.66,1.66,0,0,1,.47-.17,1.38,1.38,0,0,1,.67,0,1.46,1.46,0,0,1,.91.7,1.5,1.5,0,0,1-.55,2.05A1.51,1.51,0,0,1,2.61,13.45Z"}),
e("path",{d:"M11.36,5.42a2.31,2.31,0,0,1-.61-.25A2.7,2.7,0,0,0,11.36,5.42Z"}),e("path",{d:"M13.25.83a2.7,2.7,0,0,0-.61-.25A2.31,2.31,0,0,1,13.25.83Z"}))),e("span",{class:"group-badge__title",key:"group-badge-title"},h[p]),e("span",{class:"group-badge__description",key:"group-badge-description"},h.tooltips[p]),e("span",{class:"group-badge__description group-badge__description--small",key:"group-badge-description-small",id:v},h[p],": ",h.tooltips[p]))},r}(a.Component);b.default=k}})})},"arcgisonline/pages/organization/widgets/settings/rows/GroupsConfigurableAppsRow":function(){define("require exports tslib dojo/on dojo/i18n!../../../../../nls/org-settings arcgisonline/pages/utils/dom ./GroupSelectRow arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.i18n=a.__assign(a.__assign({},this.i18n),k.default.groupsTab.configurableApps.row);this.queryKey="galleryTemplatesGroupQuery";this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="groups-config-app-";this.shareSuccessText=this.i18n.shareSuccess;this.shareErrorText=this.i18n.shareError;
this.settingsProps=[this.queryKey]}u.prototype.render=function(){this.inherited(arguments);this.shareBtn=document.createElement("button");this.shareBtn.className="btn btn-clear leader-1 hide";this.shareBtn.textContent=this.i18n.shareToGroup;this.domNode.appendChild(this.shareBtn);f.default.showHide(this.shareBtn,!!this.selectedGroup)};u.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,b.default)(this.shareBtn,"click",this.handleShareClick.bind(this)))};u.prototype.handleGroupChange=
function(r){this.inherited(arguments);f.default.showHide(this.shareBtn,!!r)};u.prototype.getDefaultQuery=function(){return this.portal.isPortal?'title:"Gallery Templates" AND owner:"'.concat(this.getEsriOwner(),'"'):this.portal.selfNoAuth.galleryTemplatesGroupQuery};u.prototype.handleShareClick=function(){if(this.canShare()){var r=this.getDefaultQuery();r&&this.findAndShareWithGroup(r)}};return u=a.__decorate([(0,h.default)(m.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/WebhooksTab":function(){define("require exports tslib ./BaseSettingsTab ../cards/WebhooksCard ../../../../../tsutils/declareDecorator ../settings-shared ../../../../utils/organization dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=u.default.webhooksTab;this.TAB_KEY=m.SettingsTabKeys.Webhooks}r.prototype.render=function(){this._detectPermissions();this._canManageWebhooks&&this._createShowWebhooksCard();this.inherited(arguments)};r.prototype._detectPermissions=function(){var e=h.default.getUserRole(this.portalUser);this._canManageWebhooks=(this._isAdmin=
e.isAdmin())||e.canManageWebhooks()};r.prototype._createShowWebhooksCard=function(){this.createCustomCard(k.default,{id:"org-webhooks-card",name:this.i18n.webhooksTile,description:"".concat(this.i18n.webhooksConfig,"\x26nbsp;").concat(this.i18n.learnMore)})};return r=a.__decorate([(0,f.default)(b.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/cards/WebhooksCard":function(){define("require exports tslib preact ./SettingsCard ../../../components/settings/Webhooks/WebhooksApp ../../../components/settings/Webhooks/WebhookHelper/WebhooksWebRequests ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=u.default.webhooksTab;this.webhooksHelper=new m.default}r.prototype.render=function(){this._title.textContent=this.name;this._updateTexts();var e=document.createElement("div");e.id="webhooks-wrapper";this._header.insertAdjacentElement("afterend",e);var v=document.createElement("div");v.id="webhooks-app";v.className=
"font-size--1 leader-half  org-settings__card-desc";e.appendChild(v);(0,b.render)((0,b.h)(f.default,{}),this.domNode.querySelector("#webhooks-app"))};r.prototype._updateTexts=function(){var e="\x3ccalcite-link href\x3d".concat(this.webhooksHelper.getHelpLink(120003925),' target\x3d"_blank"\x3e');this.description="".concat(this.i18n.webhooksConfig,"\x26nbsp;").concat(this.i18n.learnMore.replace("${linkStart}",e).replace("${linkEnd}","\x3c/calcite-link\x3e"))};r.prototype.addEventListeners=function(){this.inherited(arguments)};
r.prototype.onSetIsHelpInfoModalActive=function(){document.querySelector("#webhooks-helptext-modal").classList.add("webhooks-helptext-modal-active")};return r=a.__decorate([(0,h.default)(k.default)],r)}()})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhooksApp":function(){define("require exports tslib preact preact/hooks ./WebhookConfiguration/WebhookList/WebhookList ./WebhookConfiguration/WebhooksConfigModal ./WebhookHelper/WebhookNotificationModal ./WebhookAdvancedSettings/WebhookAdvancedSettingsModal dojo/i18n!arcgisonline/nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(){var e=a.__assign({},r.default.webhooksTab),v=(0,k.useState)(!1),g=v[0];v=v[1];var p=(0,k.useState)(!1),n=p[0],q=p[1],l=(0,k.useState)(!1);p=l[0];var c=l[1],d=(0,k.useState)(!1);l=d[0];var w=d[1],t=(0,k.useState)({alertIndicatorActive:!1,alertIndicatorColor:"danger",alertIndicatorInfo:""});
d=t[0];var z=t[1];t=function(){q(!1)};var x=function(){c(!1)},y=function(B){z(B);w(!0)},A=function(){return w(!1)};return(0,b.h)(b.Fragment,null,function(){return(0,b.h)("div",{class:"leader-half"},(0,b.h)("button",{class:"btn btn-clear org-settings__card-header-btn",onClick:function(){q(!0)}},e.webhooksConfigBtnLabel),(0,b.h)("button",{class:"btn btn-clear webhook-advanced-webhook-settings-btn",onClick:function(){c(!0)}},e.webhooksSettingsBtnLabel))}(),(0,b.h)(f.default,{updateWebhookFlag:g}),n&&
(0,b.h)(m.default,{updateWebhookFlag:g,setUpdateWebhookFlag:v,webhooksModalActive:n,onWebhookConfigModalClose:t,onDisplayNotificationModal:y}),p&&(0,b.h)(u.default,{webhooksSettingsModalActive:p,onWebhookSettingsModalClose:x,onDisplayNotificationModal:y}),l&&(0,b.h)(h.default,{alertIndicator:d,onCloseNotificationModal:A}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookList/WebhookList":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/utils/date ./WebhookPagination ../../WebhookHelper/WebhooksWebRequests ../../WebhookHelper/WebhookHelptextModal ../../WebhookHelper/WebhookNotificationModal ../WebhooksConfigModal dojo/i18n!arcgisonline/nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){var g=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);M.default=function(p){var n=p.updateWebhookFlag,q=a.__assign({},v.default.webhooksTab.webhookListTab),l=(0,k.useState)(new h.default)[0];p=(0,k.useState)(null);var c=p[0],d=p[1];p=(0,k.useState)([]);var w=p[0],t=p[1];p=(0,k.useState)([]);var z=p[0],
x=p[1];p=(0,k.useState)();var y=p[0],A=p[1],B=(0,k.useState)(null);p=B[0];var D=B[1],C=(0,k.useState)(!1);B=C[0];var E=C[1],H={shouldDisplayPagination:!1,nextStart:26,num:25,start:1,total:0,onHandlePaginationChange:function(ka){var ia=ka.target;ka=ia.num;ia=ia.start;ka=a.__assign(a.__assign({},G),{num:ka,start:ia});R(ka)}};C=(0,k.useState)(H);var G=C[0],F=C[1];C=(0,k.useState)(null);var I=C[0],J=C[1],K=(0,k.useState)(!1);C=K[0];var P=K[1],T=(0,k.useState)(null);K=T[0];var S=T[1],L=(0,k.useState)(null);
T=L[0];var N=L[1],O=(0,k.useState)(!1);L=O[0];var Q=O[1],V=(0,k.useState)(!1);O=V[0];var X=V[1],Z=(0,k.useState)({alertIndicatorActive:!1,alertIndicatorColor:"danger",alertIndicatorInfo:""});V=Z[0];var ca=Z[1];(0,k.useEffect)(function(){R(G)},[n]);(0,k.useEffect)(function(){c&&t(Y(c.webhooks))},[c]);(0,k.useEffect)(function(){(function(){return a.__awaiter(g,void 0,void 0,function(){var ka,ia,ma;return a.__generator(this,function(na){switch(na.label){case 0:return na.trys.push([0,2,,3]),[4,l.fetchUsersById(w)];
case 1:return ka=na.sent(),x(ka),[3,3];case 2:return ia=na.sent(),ha({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:null===(ma=null===ia||void 0===ia?void 0:ia.details)||void 0===ma?void 0:ma[0]}),[3,3];case 3:return[2]}})})})()},[w]);var R=function(ka){return a.__awaiter(g,void 0,void 0,function(){var ia,ma,na,pa,sa,ta,oa;return a.__generator(this,function(qa){switch(qa.label){case 0:return qa.trys.push([0,2,,3]),[4,l.fetchWebhooks(ka)];case 1:return ia=qa.sent(),ma=ia.nextStart,
na=ia.num,pa=ia.start,sa=ia.total,F(a.__assign(a.__assign(a.__assign({},ka),{shouldDisplayPagination:25<sa}),{nextStart:ma,num:na,start:pa,total:sa})),d(0<sa?ia:null),[3,3];case 2:return ta=qa.sent(),ha({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:null===(oa=null===ta||void 0===ta?void 0:ta.details)||void 0===oa?void 0:oa[0]}),[3,3];case 3:return[2]}})})},Y=function(ka){return ka.map(function(ia){return ia.modifiedId})},ba=function(ka){var ia=z.find(function(ma){return(null===
ma||void 0===ma?void 0:ma.id)===ka});return null===ia||void 0===ia?void 0:ia.username};n=function(){return null===c||void 0===c?void 0:c.webhooks.map(function(ka){var ia=ka.id,ma=ka.isActive,na=ka.modified,pa=ka.name,sa=ka.payloadUrl,ta=ba(ka.modifiedId);na=f.default.format(new Date(na));sa=q.webhookItemDescription.replace("${userName}",ta).replace("${date}",na).replace("${payloadUrl}",sa);ta=ma?q.webhookActiveStatusLabel:q.webhookInactiveStatusLabel;return(0,b.h)("calcite-list-item",{class:"webhook-list",
key:ia,label:pa,description:sa},(0,b.h)("calcite-action",{label:"status",text:"status",slot:"actions-end",onClick:function(){A(ka);J("statusChange");S(q.webhookChangeStatusTitle);N("".concat(ka.isActive?q.webhookDeactivateAction:q.webhookActivateAction));P(!0)}},(0,b.h)("calcite-chip",{class:ma?"webhook-active":"webhook-inactive",icon:ma?"circleArea":"pause-f",scale:"m",kind:"neutral",value:ta,appearance:"solid"},(0,b.h)("span",{class:"webhook-status-text"},ta))),(0,b.h)("calcite-action-menu",{label:"menu",
slot:"actions-end",placement:"right"},(0,b.h)("calcite-action",{slot:"trigger",label:q.webhookAddBtnLabel,text:q.webhookAddBtnLabel,icon:"ellipsis",onClick:function(){var oa=W(ka),qa=da(ka,oa);D(a.__assign(a.__assign({},ka),{webhookType:oa,webhookTypeId:qa}))}}),(0,b.h)("calcite-action",{textEnabled:!0,label:q.webhookEditBtnLabel,text:q.webhookEditBtnLabel,icon:"edit-attributes",onClick:function(){E(!0)}}),(0,b.h)("calcite-action",{textEnabled:!0,label:q.webhookDeleteBtnLabel,text:q.webhookDeleteBtnLabel,
icon:"trash",onClick:function(){A(ka);J("delete");S(q.webhookDeleteTitle);N(q.webhookDeleteAction);P(!0)}})))})};Z=function(){document.querySelectorAll(".webhook-list").forEach(function(ka){ka=null===ka||void 0===ka?void 0:ka.shadowRoot;var ia=null===ka||void 0===ka?void 0:ka.querySelector(".label");ia&&(ia.style.lineHeight="1.46",ia.style.fontWeight="bold",ia.style.fontSize="0.9375rem");if(ka=null===ka||void 0===ka?void 0:ka.querySelector(".description"))ka.style.fontSize="0.9375rem"})};var aa=function(){return a.__awaiter(g,
void 0,void 0,function(){var ka,ia,ma;return a.__generator(this,function(na){switch(na.label){case 0:return na.trys.push([0,2,,3]),Q(!0),[4,l.toggleWebhookStatus(a.__assign({},y))];case 1:return ka=na.sent(),(null===ka||void 0===ka?0:ka.success)?(Q(!1),P(!1),d(a.__assign(a.__assign({},c),{webhooks:c.webhooks.map(function(pa){return pa.id!==y.id?a.__assign({},pa):a.__assign(a.__assign({},pa),{isActive:!y.isActive})})})),ha({alertIndicatorActive:!0,alertIndicatorColor:"green",alertIndicatorInfo:"".concat(y.isActive?
q.webhookDeactivateSuccess:q.webhookActivateSuccess)})):(Q(!1),P(!1),ha({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:"".concat(y.isActive?q.webhookDeactivateError:q.webhookActivateError)})),[3,3];case 2:return ia=na.sent(),Q(!1),P(!1),ha({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:null===(ma=null===ia||void 0===ia?void 0:ia.details)||void 0===ma?void 0:ma[0]}),[3,3];case 3:return[2]}})})},W=function(ka){ka=ka.events;return ka.some(function(ia){return ia.includes("items")})?
"Items":ka.some(function(ia){return ia.includes("users")})?"Users":ka.some(function(ia){return ia.includes("groups")})?"Groups":ka.some(function(ia){return ia.includes("roles")})?"Roles":"All"},da=function(ka,ia){var ma;ka=ka.events;"All"===ia?ma=null:ka.forEach(function(na){na=na.split("/");"Items"===ia?ma=["add","delete","update","move"].includes(null===na||void 0===na?void 0:na[2])?"allItems":null===na||void 0===na?void 0:na[2]:"Users"===ia?ma=["add","signin","signout","delete"].includes(null===
na||void 0===na?void 0:na[2])?"allUsers":null===na||void 0===na?void 0:na[2]:"Groups"===ia?ma=["add","update","delete","protect"].includes(null===na||void 0===na?void 0:na[2])?"allGroups":null===na||void 0===na?void 0:na[2]:"Roles"===ia&&(ma=["add","updated","deleted"].includes(null===na||void 0===na?void 0:na[2])?"allRoles":null===na||void 0===na?void 0:na[2])});return ma},ea=function(){return a.__awaiter(g,void 0,void 0,function(){var ka,ia,ma;return a.__generator(this,function(na){switch(na.label){case 0:return na.trys.push([0,
2,,3]),Q(!0),[4,l.deleteWebhook(y.id)];case 1:return ka=na.sent(),(null===ka||void 0===ka?0:ka.success)?(Q(!1),P(!1),R(H),ha({alertIndicatorActive:!0,alertIndicatorColor:"green",alertIndicatorInfo:q.webhookDeleteSuccess})):(Q(!1),P(!1),ha({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:q.webhookDeleteError})),[3,3];case 2:return ia=na.sent(),Q(!1),P(!1),ha({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:null===(ma=null===ia||void 0===ia?void 0:ia.details)||
void 0===ma?void 0:ma[0]}),[3,3];case 3:return[2]}})})},ja=function(){"statusChange"===I?aa():"delete"===I&&ea()},fa=function(){E(!1)},ha=function(ka){ca(ka);X(!0);setTimeout(function(){ca(function(ia){return a.__assign(a.__assign({},ia),{alertIndicatorActive:!1})})},8E3)},la=function(){return X(!1)};return(0,b.h)(b.Fragment,null,!(null===c||void 0===c||!c.total)&&(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"leader-1"},(0,b.h)("calcite-list",null,n(),Z())),B&&(0,b.h)(e.default,{isUpdate:!0,selectedWebhook:p,
webhooksModalActive:B,onWebhookConfigModalClose:fa,onDisplayNotificationModal:ha}),C&&(0,b.h)(u.default,{isHelpInfoModalActive:C,disableTitleAndBtn:!1,modalTitle:K,helpText:T,isInAction:L,onSetIsHelpInfoModalActive:P,onConfirmModal:ja})),G.shouldDisplayPagination&&(0,b.h)(m.default,{webhookPagination:G}),O&&(0,b.h)(r.default,{alertIndicator:V,onCloseNotificationModal:la}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookList/WebhookPagination":function(){define(["require",
"exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){b=b.webhookPagination;return(0,a.h)("div",{class:"trailer-half padding-leader-half"},(0,a.h)("calcite-pagination",{class:"webhookPagination",startItem:b.start,pageSize:b.num,totalItems:b.total,oncalcitePaginationChange:b.onHandlePaginationChange}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookHelper/WebhooksWebRequests":function(){define("require exports tslib arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/pageUtil esri/request".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){return function(){var h=this;this.orgId=b.default.getUser().orgId;this.getHelpLink=function(u){return"".concat(k.default.self.helpBase).concat(k.default.self.helpMap.m[u])};this.fetchItems=function(){return a.__awaiter(h,void 0,void 0,function(){var u,r,e,v;return a.__generator(this,function(g){u=k.default.portal.isPortal?"-owner:esri\n        -owner:esri_apps\n        -owner:esri_nav\n            ":
"";r="orgid:".concat(this.orgId," ").concat(u);e={q:r};v="".concat(k.default.restBaseUrl,"search");return[2,f.default.fetchAllResources(v,e)]})})};this.fetchUsers=function(u){return a.__awaiter(h,void 0,void 0,function(){var r,e,v,g;return a.__generator(this,function(p){r=k.default.portal.isPortal?"-username:esri_livingatlas \n        -username:esri_boundaries \n        -username:esri_demographics \n        -username:esri_nav":"";e="orgid:".concat(this.orgId," ").concat(r," username:").concat(u);
v={q:e};g="".concat(k.default.restBaseUrl,"portals/self/users/search");return[2,b.default.request({url:g,content:v},{useProxy:b.default.shouldUseProxy(g)}).promise]})})};this.fetchOrgGroups=function(){return a.__awaiter(h,void 0,void 0,function(){var u;return a.__generator(this,function(r){u=k.default.portal.isPortal?'-(owner:"esri_demographics" AND title:"Esri Demographic Layers") \n        -(owner:"esri_nav" AND title:"Navigator Maps") \n        -(owner:"esri_boundaries" AND title:"Esri Boundary Layers")':
"";return[2,f.default.fetchAllResources("".concat(k.default.restBaseUrl,"community/groups"),{q:"orgid:".concat(this.orgId," ").concat(u)}).promise]})})};this.publishWebhooks=function(u,r){return a.__awaiter(h,void 0,void 0,function(){return a.__generator(this,function(e){return[2,b.default.request({url:u,content:r},{usePost:!0,useProxy:b.default.shouldUseProxy(u)}).promise]})})};this.updateWebhooks=function(u,r){return a.__awaiter(h,void 0,void 0,function(){return a.__generator(this,function(e){return[2,
b.default.request({url:u,content:r},{usePost:!0,useProxy:b.default.shouldUseProxy(u)}).promise]})})};this.fetchWebhookSettings=function(){return a.__awaiter(h,void 0,void 0,function(){var u;return a.__generator(this,function(r){u="".concat(k.default.restBaseUrl,"portals/self/webhooks/settings");return[2,b.default.request({url:u},{useProxy:b.default.shouldUseProxy(u)}).promise]})})};this.updateWebhookSettings=function(u,r){return a.__awaiter(h,void 0,void 0,function(){return a.__generator(this,function(e){return[2,
b.default.request({url:u,content:r},{usePost:!0,useProxy:b.default.shouldUseProxy(u)}).promise]})})};this.fetchWebhooks=function(u){return a.__awaiter(h,void 0,void 0,function(){var r,e,v;return a.__generator(this,function(g){r=u.start;e=u.num;v="".concat(k.default.restBaseUrl,"portals/").concat(k.default.portal.id,"/webhooks");return[2,(0,m.default)({url:v,content:{f:"json",start:r,num:e}},{useProxy:b.default.shouldUseProxy(v)}).promise]})})};this.fetchUsersById=function(u){return a.__awaiter(h,
void 0,void 0,function(){var r,e;return a.__generator(this,function(v){r=[];for(e=0;e<u.length;e++)r.push(b.default.request({url:"".concat(k.default.restBaseUrl,"community/users/").concat(u[e])}));return[2,Promise.all(r)]})})};this.toggleWebhookStatus=function(u){return a.__awaiter(h,[u],void 0,function(r){var e,v=r.id,g=r.isActive;return a.__generator(this,function(p){e="".concat(k.default.restBaseUrl,"portals/").concat(k.default.portal.id,"/webhooks/").concat(v,"/").concat(g?"deactivate":"activate");
return[2,b.default.request({url:e},{usePost:!0,useProxy:b.default.shouldUseProxy(e)}).promise]})})};this.deleteWebhook=function(u){return a.__awaiter(h,void 0,void 0,function(){var r;return a.__generator(this,function(e){r="".concat(k.default.restBaseUrl,"portals/").concat(k.default.portal.id,"/webhooks/").concat(u,"/delete");return[2,b.default.request({url:r},{usePost:!0,useProxy:b.default.shouldUseProxy(r)}).promise]})})};this.retrieveNotebook=function(){return a.__awaiter(h,void 0,void 0,function(){var u,
r,e;return a.__generator(this,function(v){u="".concat(k.default.restBaseUrl,"search");r="owner:".concat(k.default.portal.portalUser.username,' type:("Notebook")');e={q:r,num:100};return[2,b.default.request({url:u,content:e},{useProxy:b.default.shouldUseProxy(u)}).promise]})})}}}()})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookHelper/WebhookHelptextModal":function(){define("require exports tslib preact preact/hooks dojo/i18n!arcgisonline/nls/org-settings".split(" "),function(U,
M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);M.default=function(m){var h=m.isHelpInfoModalActive,u=m.disableTitleAndBtn,r=m.modalTitle,e=m.helpText,v=m.isInAction,g=m.onSetIsHelpInfoModalActive;m=m.onConfirmModal;var p=a.__assign({},f.default.webhooksTab.webhookHelpTextModal),n=(0,k.useRef)(null);(0,k.useEffect)(function(){n.current&&n.current.focus()},[]);return(0,b.h)(b.Fragment,null,(0,b.h)("div",{id:"webhooks-popup-helper",class:"js-modal modal-overlay ".concat(h?
"is-active":""),"data-modal":"helpinfo"},(0,b.h)("div",{class:"modal-content column-12",role:"dialog","aria-labelledby":"modal"},(0,b.h)("a",{ref:n,class:"js-modal-toggle right",href:"javascript:void(0)","aria-label":p.closeBtnLabel,onClick:function(){return g(!1)}},(0,b.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 32 32",class:"svg-icon"},(0,b.h)("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"}))),
u||(0,b.h)("h3",{class:"trailer-half"},r),(0,b.h)("div",{class:"padding-right-2"},e),u||(0,b.h)("div",{class:"text-right"},(0,b.h)("button",{class:"btn js-modal-toggle margin-right-quarter",onClick:m},v?(0,b.h)("div",{class:"processIndicator"},(0,b.h)("calcite-loader",{label:"processing",scale:"s",inline:!0,hidden:!v}),(0,b.h)("span",{class:"processingIndicator"},p.confirmingBtnLabel)):p.confirmBtnLabel),(0,b.h)("button",{class:"btn btn-clear js-modal-toggle",onClick:function(){return g(!1)}},p.cancelBtnLabel)))))}})},
"arcgisonline/pages/organization/components/settings/Webhooks/WebhookHelper/WebhookNotificationModal":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.alertIndicator,f=b.onCloseNotificationModal;return(0,a.h)("calcite-alert",{class:"webhook-webrequest-handler",icon:"",label:"notificationIndicator",autoClose:!0,autoCloseDuration:"medium",open:k.alertIndicatorActive,scale:"m",kind:k.alertIndicatorColor,"aria-hidden":!k.alertIndicatorActive,
oncalciteAlertClose:function(){f(!1)}},(0,a.h)("div",{slot:"message"},k.alertIndicatorInfo))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhooksConfigModal":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/components/BodyAppender arcgisonline/esriGeowConfig arcgisonline/sharing/util ./WebhookName ./WebhookType ./WebhookUniqueType ./WebhookEvent ./WebhookPayloadURL ./WebhookSecret ../WebhookHelper/WebhooksWebRequests dojo/i18n!arcgisonline/nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){var l=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);M.default=function(c){var d,w,t=c.isUpdate,z=c.updateWebhookFlag,x=c.setUpdateWebhookFlag,y=c.selectedWebhook,A=c.webhooksModalActive,B=c.onWebhookConfigModalClose,
D=c.onDisplayNotificationModal,C=a.__assign({},q.default.webhooksTab),E=(0,k.useState)(new n.default)[0];c=(0,k.useState)({name:(null===y||void 0===y?void 0:y.name)||""});var H=c[0];c=c[1];var G=(0,k.useRef)(null),F=(0,k.useState)({webhookType:(null===y||void 0===y?void 0:y.webhookType)||"All",webhookLabel:(null===y||void 0===y?void 0:y.webhookType)||"All"}),I=F[0];F=F[1];var J=(0,k.useState)({id:"allItems",description:"All items",title:"All items",thumbnail:"",type:""}),K=J[0],P=J[1],T=(0,k.useState)({id:"allUsers",
email:"",fullName:"All users",role:"",username:"All users"});J=T[0];var S=T[1],L=(0,k.useState)({id:"allGroups",description:"All groups",title:"All groups"});T=L[0];var N=L[1],O=(0,k.useState)({id:"allRoles",description:"All roles",name:"All roles"});L=O[0];var Q=O[1];O=(0,k.useState)((null===y||void 0===y?void 0:y.events)||[]);var V=O[0];O=O[1];var X=(0,k.useState)({url:(null===y||void 0===y?void 0:y.payloadUrl)||""}),Z=X[0];X=X[1];var ca=(0,k.useRef)(null),R="notebookserver"===(null===y||void 0===
y?void 0:y.targetSystem),Y=(0,k.useState)(R),ba=Y[0];Y=Y[1];R=(0,k.useState)(R?{id:null===(w=null===(d=y.config.properties)||void 0===d?void 0:d.federatedServer)||void 0===w?void 0:w.itemId}:null);var aa=R[0];d=R[1];w=(0,k.useState)((null===y||void 0===y?void 0:y.secret)||"");var W=w[0];w=w[1];R=(0,k.useState)(!1);var da=R[0],ea=R[1];R=(0,k.useState)(!1);var ja=R[0],fa=R[1],ha=(0,k.useState)(!1);R=ha[0];var la=ha[1];(0,k.useEffect)(function(){if(y){var na=y.webhookTypeId;"Items"===I.webhookType?"allItems"!==
na?h.default.request({url:"".concat(m.default.restBaseUrl,"content/items/").concat(na)}).then(function(pa){P({id:pa.id,description:pa.description,title:pa.title,thumbnail:pa.thumbnail,type:pa.type})}):setTimeout(function(){P({id:"allItems",description:"All items",title:"All items",thumbnail:"",type:""})},1E3):"Users"===I.webhookType?"allUsers"!==na?h.default.request({url:"".concat(m.default.restBaseUrl,"community/users/").concat(na)}).then(function(pa){S({id:pa.id,email:pa.email,fullName:pa.fullName,
role:pa.role,username:pa.username})}):setTimeout(function(){S({id:"allUsers",email:"",fullName:"All users",role:"",username:"All users"})},1E3):"Groups"===I.webhookType?"allGroups"!==na?h.default.request({url:"".concat(m.default.restBaseUrl,"community/groups/").concat(na)}).then(function(pa){N({id:pa.id,description:pa.description,title:pa.title})}):setTimeout(function(){N({id:"allGroups",description:"All groups",title:"All groups"})},1E3):"Roles"===I.webhookType&&Q({id:"allRoles",description:"All roles",
name:"All roles"})}},[I]);ha=function(na){var pa=new Set;null===na||void 0===na?void 0:na.forEach(function(sa){sa.includes("items")?pa.add("items"):sa.includes("users")?pa.add("users"):sa.includes("groups")?pa.add("groups"):sa.includes("roles")&&pa.add("roles")});return pa.size}(null===y||void 0===y?void 0:y.events);var ka=function(){var na,pa=!!H.name&&100>=(null===(na=H.name)||void 0===na?void 0:na.length)&&!H.errorMessage&&("All"===I.webhookType?!0:0!==(null===V||void 0===V?void 0:V.length))&&
!Z.errorMessage;return ba?pa&&!!aa:pa&&!!Z.url},ia=function(){return a.__awaiter(l,void 0,void 0,function(){var na,pa,sa,ta,oa,qa,ua,ra,va,za,Ca,wa;return a.__generator(this,function(ya){switch(ya.label){case 0:na=ka();if(!na)return[3,5];la(!1);ea(!0);pa=H.name;sa=null===Z||void 0===Z?void 0:Z.url;ta=W;oa=ba?JSON.stringify({deactivationPolicy:{numberOfFailures:5,daysInPast:5},properties:{federatedServer:{itemId:aa.id,tokenTypeToSend:"owner",tokenExpirationTimeMinutes:10}}}):"";qa="All"===I.webhookType?
"allChanges":"manualChanges";ua="allChanges"===qa?"/":V.join();ra="".concat(m.default.restBaseUrl,"portals/").concat(m.default.portal.id,"/webhooks/createWebhook");va=ba?{name:pa,secret:ta,config:oa,changes:qa,events:ua}:{name:pa,url:sa,secret:ta,changes:qa,events:ua};ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,E.publishWebhooks(ra,va)];case 2:return za=ya.sent(),(null===za||void 0===za?0:za.success)?(x(!z),ea(!1),B(),D({alertIndicatorActive:!0,alertIndicatorColor:"green",alertIndicatorInfo:C.webhookConfigSuccess})):
(ea(!1),D({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:C.webhookConfigFailure})),[3,4];case 3:return Ca=ya.sent(),ea(!1),D({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:null===(wa=null===Ca||void 0===Ca?void 0:Ca.details)||void 0===wa?void 0:wa[0]}),[3,4];case 4:return[3,6];case 5:la(!0);ea(!1);var Fa;!H.name||100<(null===(Fa=H.name)||void 0===Fa?void 0:Fa.length)||H.errorMessage?G.current.focus():(!Z.url||Z.errorMessage)&&ca.current.focus();ya.label=
6;case 6:return[2]}})})},ma=function(){return a.__awaiter(l,void 0,void 0,function(){var na,pa,sa,ta,oa,qa,ua,ra,va,za,Ca,wa;return a.__generator(this,function(ya){switch(ya.label){case 0:na=ka();if(!na)return[3,5];la(!1);fa(!0);pa=H.name;sa=null===Z||void 0===Z?void 0:Z.url;ta=W;oa=JSON.stringify({deactivationPolicy:{numberOfFailures:5,daysInPast:5},properties:ba?{federatedServer:{itemId:aa.id,tokenTypeToSend:"owner",tokenExpirationTimeMinutes:10}}:{}});qa="All"===I.webhookType?"allChanges":"manualChanges";
ua="allChanges"===qa?"/":V.join();ra="".concat(m.default.restBaseUrl,"portals/").concat(m.default.portal.id,"/webhooks/").concat(y.id,"/update");va={name:pa,url:sa,secret:ta,config:oa,events:ua};ya.label=1;case 1:return ya.trys.push([1,3,,4]),[4,E.updateWebhooks(ra,va)];case 2:return za=ya.sent(),(null===za||void 0===za?0:za.success)?(fa(!1),B(),D({alertIndicatorActive:!0,alertIndicatorColor:"green",alertIndicatorInfo:C.webhookUpdateSuccess})):(fa(!1),D({alertIndicatorActive:!0,alertIndicatorColor:"red",
alertIndicatorInfo:C.webhookUpdateFailure})),[3,4];case 3:return Ca=ya.sent(),fa(!1),D({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:null===(wa=null===Ca||void 0===Ca?void 0:Ca.details)||void 0===wa?void 0:wa[0]}),[3,4];case 4:return[3,6];case 5:la(!0),fa(!1),ya.label=6;case 6:return[2]}})})};return(0,b.h)(f.default,{id:"webhooks-config-modal"},(0,b.h)("calcite-modal",{class:"webhooks-config-modal","aria-labelledby":"modal-title",open:A,scale:"m",width:"m",outsideCloseDisabled:!0,
oncalciteModalClose:B},(0,b.h)("h3",{slot:"header"},(null===y||void 0===y?0:y.name)?C.webhooksEditLabel:C.webhooksConfigBtnLabel),(0,b.h)(b.Fragment,null,(0,b.h)("div",{slot:"content"},(0,b.h)(b.Fragment,null,(0,b.h)(u.default,{nameRef:G,isProcessing:da||ja,isCheckingError:R,webhookName:H,onSetWebhookName:c}),(0,b.h)(r.default,{isProcessing:da||ja,webhookType:I,onSetWebhookType:F}),(0,b.h)(e.default,{isProcessing:da||ja,webhookType:I,selectedWebhookItem:K,onSetSelectedWebhookItem:P,selectedWebhookUser:J,
onSetSelectedWebhookUser:S,selectedWebhookGroup:T,onSetSelectedWebhookGroup:N,selectedWebhookRole:L}),"All"!==I.webhookType&&(0,b.h)(v.default,{eventsTotalType:ha,isProcessing:da||ja,isCheckingError:R,webhookType:I,selectedWebhookItem:K,selectedWebhookUser:J,selectedWebhookGroup:T,selectedWebhookEvents:V,onSetSelectedWebhookEvents:O}),(0,b.h)(g.default,{payloadURLRef:ca,isProcessing:da||ja,isCheckingError:R,webhookPayloadURL:Z,onSetWebhookPayloadURL:X,selectedNotebookItem:aa,onSetSelectedNotebookItem:d,
isNotebookSelect:ba,onSetIsNotebookSelect:Y}),(0,b.h)(p.default,{isProcessing:da||ja,webhookSecret:W,onSetWebhookSecret:w}))),function(){return(0,b.h)(b.Fragment,null,(0,b.h)("calcite-button",{"aria-label":C.webhooksConfigBtnLabel,scale:"l",slot:"primary",width:"full",disabled:da||ja,onClick:t?ma:ia},t?ja?(0,b.h)("div",{class:"saveIndicator"},(0,b.h)("calcite-loader",{label:"savingManifest",scale:"m",inline:!0}),(0,b.h)("span",{class:"savingIndicator"},C.webhooksUpdatingBtnLabel)):(0,b.h)("div",null,
C.webhooksUpdateBtnLabel):da?(0,b.h)("div",{class:"saveIndicator"},(0,b.h)("calcite-loader",{label:"savingManifest",scale:"m",inline:!0}),(0,b.h)("span",{class:"savingIndicator"},C.webhooksConfiguringBtnLabel)):(0,b.h)("div",null,C.webhooksConfigBtnLabel)),(0,b.h)("calcite-button",{"aria-label":C.webhooksConfigBtnCancel,scale:"l",slot:"secondary",width:"full",appearance:"outline",disabled:da||ja,onClick:function(){return B()}},C.webhooksConfigBtnCancel))}())))}})},"arcgisonline/pages/components/BodyAppender":function(){define(["require",
"exports","tslib","preact","preact/compat"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});U=function(f){function m(h){var u,r=f.call(this,h)||this;r.el=document.createElement("div");r.el.setAttribute("id",h.id);(null===(u=h.classes)||void 0===u?0:u.length)&&r.el.classList.add(h.classes.join(" "));return r}a.__extends(m,f);m.prototype.componentDidMount=function(){document.body.appendChild(this.el)};m.prototype.componentWillUnmount=function(){document.body.removeChild(this.el)};
m.prototype.render=function(){return(0,k.createPortal)(this.props.children,this.el)};return m}(b.Component);M.default=U})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookName":function(){define(["require","exports","tslib","preact","dojo/i18n!arcgisonline/nls/org-settings"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(f){var m,h,u=f.nameRef,r=f.isProcessing,e=f.isCheckingError,v=f.webhookName,
g=f.onSetWebhookName;f=a.__assign({},k.default.webhooksTab.webhookNameTab);return(0,b.h)(b.Fragment,null,(0,b.h)("label",{class:"trailer-0",for:"webhookName"},f.webhookName),(0,b.h)("input",{id:"webhookName",ref:u,class:e&&(!v.name||100<(null===(m=v.name)||void 0===m?void 0:m.length))?"input-error":"trailer-half",type:"text","aria-required":"true",value:null===v||void 0===v?void 0:v.name,onChange:function(p){g({name:p.target.value})},placeholder:f.webhookNamePlaceholder,disabled:r}),e&&!v.name&&(0,b.h)("div",
{class:"trailer-half input-error-message is-active"},f.webhookNameEmptyError),e&&100<(null===(h=v.name)||void 0===h?void 0:h.length)&&(0,b.h)("div",{class:"trailer-half input-error-message is-active"},f.webhookNameLengthError))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookType":function(){define(["require","exports","tslib","preact","dojo/i18n!arcgisonline/nls/org-settings"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);
M.default=function(f){var m=f.isProcessing,h=f.webhookType,u=f.onSetWebhookType;f=a.__assign({},k.default.webhooksTab.webhookTypeTab);var r=[{webhookType:"All",webhookLabel:f.webhookTypeAll},{webhookType:"Items",webhookLabel:f.webhookTypeItems},{webhookType:"Users",webhookLabel:f.webhookTypeUsers},{webhookType:"Groups",webhookLabel:f.webhookTypeGroups},{webhookType:"Roles",webhookLabel:f.webhookTypeRoles}],e=function(v){return r.find(function(g){return g.webhookType===v})};return(0,b.h)("div",{class:"trailer-half"},
(0,b.h)("label",{for:"webhookType",id:"webhookTypeLabel"},f.webhookType),(0,b.h)("calcite-combobox",{id:"webhookType",label:"Single selection-mode combobox",selectionMode:"single",scale:"m",disabled:m,oncalciteComboboxChange:function(v){v=v.target;v.value&&(v=e(v.value),u(v))},value:h.webhookType,placeholder:f.webhookTypePlaceholder},function(){return r.map(function(v){return(0,b.h)("calcite-combobox-item",{selected:v.webhookType===((null===h||void 0===h?void 0:h.webhookType)||"All"),key:v.webhookType,
value:v.webhookType,textLabel:v.webhookLabel})})}()))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookUniqueType":function(){define("require exports tslib preact ./WebhookUniqueType/WebhookItem ./WebhookUniqueType/WebhookUser ./WebhookUniqueType/WebhookGroup ./WebhookUniqueType/WebhookRole".split(" "),function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);
M.default=function(u){var r=u.isProcessing,e=u.webhookType,v=u.selectedWebhookItem,g=u.onSetSelectedWebhookItem,p=u.selectedWebhookUser,n=u.onSetSelectedWebhookUser,q=u.selectedWebhookGroup,l=u.onSetSelectedWebhookGroup;u=u.selectedWebhookRole;var c={allItems:"data-folder",item:"data",allUsers:"users",user:"user-to-device",allGroups:"group",group:"group-x",allRoles:"users"};return"All"!==e.webhookType&&(0,b.h)("div",{class:"trailer-half"},(0,b.h)("calcite-label",{scale:"l"},e.webhookLabel,"Items"===
e.webhookType&&(0,b.h)(k.default,{isProcessing:r,TypeIcon:c,selectedWebhookItem:v,onSetSelectedWebhookItem:g}),"Users"===e.webhookType&&(0,b.h)(f.default,{isProcessing:r,TypeIcon:c,selectedWebhookUser:p,onSetSelectedWebhookUser:n}),"Groups"===e.webhookType&&(0,b.h)(m.default,{isProcessing:r,TypeIcon:c,selectedWebhookGroup:q,onSetSelectedWebhookGroup:l}),"Roles"===e.webhookType&&(0,b.h)(h.default,{isProcessing:r,TypeIcon:c,selectedWebhookRole:u})))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookUniqueType/WebhookItem":function(){define("require exports tslib preact preact/hooks ../../WebhookHelper/WebhooksWebRequests ../../WebhookHelper/WebhookNotificationModal dojo/i18n!arcgisonline/nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){var u=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(r){var e=r.isProcessing,v=r.TypeIcon,g=r.selectedWebhookItem,p=r.onSetSelectedWebhookItem,n=a.__assign({},h.default.webhooksTab.webhookUniqueTypeTab),q=(0,k.useState)(new f.default)[0];r=(0,k.useState)([]);var l=r[0],c=r[1],d=(0,k.useState)(!1);r=d[0];var w=d[1],t=(0,k.useState)({alertIndicatorActive:!1,alertIndicatorColor:"danger",
alertIndicatorInfo:""});d=t[0];var z=t[1];(0,k.useEffect)(function(){(function(){return a.__awaiter(u,void 0,void 0,function(){var A,B,D,C;return a.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,q.fetchItems()];case 1:return A=E.sent(),B={id:"allItems",description:"All items",title:"All items",thumbnail:"",type:"",titleLabel:n.webhookAllItemsLabel},c(a.__spreadArray([B],A.map(function(H){return{id:H.id,description:H.description,title:H.title,thumbnail:H.thumbnail,
type:H.type}}),!0)),[3,3];case 2:return D=E.sent(),y({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:null===(C=null===D||void 0===D?void 0:D.details)||void 0===C?void 0:C[0]}),[3,3];case 3:return[2]}})})})()},[]);var x=function(A){return l.find(function(B){return B.title===A})},y=function(A){z(A);w(!0)};t=function(){return w(!1)};return(0,b.h)(b.Fragment,null,(0,b.h)("calcite-combobox",{label:"Single selection-mode combobox",selectionMode:"single",scale:"m",oncalciteComboboxChange:function(A){A=
A.target;A.value&&(A=x(A.value),p(A))},value:null===g||void 0===g?void 0:g.title,maxItems:5,placeholder:n.webhookItemPlaceholder,disabled:e},function(){return l.map(function(A){var B;return(0,b.h)("calcite-combobox-item",{selected:A.id===g.id,icon:"allItems"===A.id?v.allItems:v.item,key:A.id,id:A.id,value:A.title,textLabel:null!==(B=A.titleLabel)&&void 0!==B?B:A.title})})}()),r&&(0,b.h)(m.default,{alertIndicator:d,onCloseNotificationModal:t}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookUniqueType/WebhookUser":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/components/preactHooks ../../WebhookHelper/WebhooksWebRequests ../../WebhookHelper/WebhookNotificationModal dojo/i18n!arcgisonline/nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){var r=this;Object.defineProperty(M,"__esModule",{value:!0});m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(e){var v=e.isProcessing,g=e.TypeIcon,p=e.selectedWebhookUser,n=e.onSetSelectedWebhookUser,q=a.__assign({},u.default.webhooksTab.webhookUniqueTypeTab),l=(0,k.useState)(new m.default)[0];e=(0,k.useState)([]);var c=e[0],d=e[1];e=(0,k.useState)(void 0);var w=e[0],t=e[1],z=(0,f.useDebounce)(w,700),x=(0,k.useState)(!1);e=x[0];var y=
x[1],A=(0,k.useState)({alertIndicatorActive:!1,alertIndicatorColor:"danger",alertIndicatorInfo:""});x=A[0];var B=A[1],D=function(E){return a.__awaiter(r,void 0,void 0,function(){var H,G,F,I;return a.__generator(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,,3]),[4,l.fetchUsers(E)];case 1:return H=J.sent(),G={id:"allUsers",email:"",fullName:"All users",role:"",username:"All users",usernameLabel:q.webhookAllUsersLabel},d(a.__spreadArray([G],H.results,!0)),[3,3];case 2:return F=J.sent(),
J={alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:null===(I=null===F||void 0===F?void 0:F.details)||void 0===I?void 0:I[0]},B(J),y(!0),[3,3];case 3:return[2]}})})};(0,k.useEffect)(function(){D("")},[]);(0,k.useEffect)(function(){void 0!==w&&D(w)},[z]);var C=function(E){return c.find(function(H){return H.username===E})};z=function(){return y(!1)};return(0,b.h)(b.Fragment,null,(0,b.h)("calcite-combobox",{label:"Single selection-mode combobox",selectionMode:"single",scale:"m",
oncalciteComboboxChange:function(E){E=E.target;E.value&&(E=C(E.value),n(E))},oncalciteComboboxFilterChange:function(E){E=E.target.shadowRoot.querySelector("input").value;t(E)},value:null===p||void 0===p?void 0:p.username,maxItems:5,placeholder:q.webhookUserPlaceholder,disabled:v},function(){return c.map(function(E){var H;return(0,b.h)("calcite-combobox-item",{selected:E.id===p.id,icon:"allUsers"===E.id?g.allUsers:g.user,key:E.id,id:E.id,value:E.username,textLabel:null!==(H=null===E||void 0===E?void 0:
E.usernameLabel)&&void 0!==H?H:E.username})})}()),e&&(0,b.h)(h.default,{alertIndicator:x,onCloseNotificationModal:z}))}})},"arcgisonline/pages/components/preactHooks":function(){define(["require","exports","tslib","preact/hooks"],function(U,M,a,b){Object.defineProperty(M,"__esModule",{value:!0});M.useAsyncReference=M.useDebounce=M.useSetState=M.useEventListener=M.useWindowSize=void 0;M.useWindowSize=function(k){function f(){h({width:window.innerWidth,height:window.innerHeight})}k="object"!==typeof window;
k=(0,b.useState)({width:k?1200:window.innerWidth,height:k?800:window.innerHeight});var m=k[0],h=k[1];(0,b.useEffect)(function(){window.addEventListener("resize",f);return function(){window.removeEventListener("resize",f)}},[]);return m};M.useEventListener=function(k,f,m){void 0===m&&(m=window);var h=(0,b.useRef)();(0,b.useEffect)(function(){h.current=f},[f]);(0,b.useEffect)(function(){if(m&&m.addEventListener){var u=function(r){return h.current(r)};m.addEventListener(k,u);return function(){m.removeEventListener(k,
u)}}},[k,m])};M.useSetState=function(k){void 0===k&&(k={});var f=(0,b.useState)(k);k=f[0];var m=f[1];f=(0,b.useCallback)(function(h){m(function(u){return a.__assign(a.__assign({},u),h instanceof Function?h(u):h)})},[m]);return[k,f]};M.useDebounce=function(k,f){var m=(0,b.useState)(k),h=m[0],u=m[1];(0,b.useEffect)(function(){var r=setTimeout(function(){u(k)},f);return function(){clearTimeout(r)}},[k,f]);return h};M.useAsyncReference=function(k){var f=(0,b.useRef)(k),m=(0,b.useState)(!1)[1];return[f,
function(h){Object.is(f.current,h)||(f.current=h,m(function(u){return!u}))}]}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookUniqueType/WebhookGroup":function(){define("require exports tslib preact preact/hooks ../../WebhookHelper/WebhooksWebRequests ../../WebhookHelper/WebhookNotificationModal dojo/i18n!arcgisonline/nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h){var u=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(r){var e=r.isProcessing,v=r.TypeIcon,g=r.selectedWebhookGroup,p=r.onSetSelectedWebhookGroup,n=a.__assign({},h.default.webhooksTab.webhookUniqueTypeTab),q=(0,k.useState)(new f.default)[0];r=(0,k.useState)([]);var l=r[0],c=r[1],d=(0,k.useState)(!1);r=d[0];var w=d[1],t=(0,k.useState)({alertIndicatorActive:!1,alertIndicatorColor:"danger",alertIndicatorInfo:""});d=t[0];var z=t[1];(0,k.useEffect)(function(){(function(){return a.__awaiter(u,
void 0,void 0,function(){var y,A,B,D;return a.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,q.fetchOrgGroups()];case 1:return y=C.sent(),A={id:"allGroups",description:"All groups",title:"All groups",titleLabel:n.webhookAllGroupsLabel},c(a.__spreadArray([A],y,!0)),[3,3];case 2:return B=C.sent(),C={alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:null===(D=null===B||void 0===B?void 0:B.details)||void 0===D?void 0:D[0]},z(C),w(!0),[3,3];case 3:return[2]}})})})()},
[]);var x=function(y){return l.find(function(A){return A.title===y})};t=function(){return w(!1)};return(0,b.h)(b.Fragment,null,(0,b.h)("calcite-combobox",{label:"Single selection-mode combobox",selectionMode:"single",scale:"m",oncalciteComboboxChange:function(y){y=y.target;y.value&&(y=x(y.value),p(y))},value:null===g||void 0===g?void 0:g.title,maxItems:5,placeholder:n.webhookGroupPlaceholder,disabled:e},function(){return l.map(function(y){return(0,b.h)("calcite-combobox-item",{selected:y.id===g.id,
icon:"allGroups"===y.id?v.allGroups:v.group,key:y.id,id:y.id,value:y.title,textLabel:(null===y||void 0===y?void 0:y.titleLabel)||y.title})})}()),r&&(0,b.h)(m.default,{alertIndicator:d,onCloseNotificationModal:t}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookUniqueType/WebhookRole":function(){define("require exports tslib preact preact/hooks dojo/i18n!arcgisonline/nls/org-settings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",
{value:!0});f=a.__importDefault(f);M.default=function(m){var h=m.isProcessing,u=m.TypeIcon;m=m.selectedWebhookRole;var r=a.__assign({},f.default.webhooksTab.webhookUniqueTypeTab),e=(0,k.useState)([{id:"allRoles",description:"All roles",name:"All roles",nameLabel:r.webhookAllRolesLabel}])[0];return(0,b.h)("calcite-combobox",{label:"Single selection-mode combobox",selectionMode:"single",scale:"m",value:null===m||void 0===m?void 0:m.name,maxItems:5,placeholder:r.webhookRolePlaceholder,disabled:h},function(){return e.map(function(v){var g;
return(0,b.h)("calcite-combobox-item",{selected:"allRoles"===v.id,icon:u.allRoles,key:v.id,id:v.id,value:v.name,textLabel:null!==(g=null===v||void 0===v?void 0:v.nameLabel)&&void 0!==g?g:v.name})})}())}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookEvent":function(){define("require exports tslib preact preact/hooks dojo/i18n!arcgisonline/nls/org-settings ./WebhookEventBase".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});
f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(h){var u=h.eventsTotalType,r=h.isProcessing,e=h.isCheckingError,v=h.webhookType,g=h.selectedWebhookItem,p=h.selectedWebhookUser,n=h.selectedWebhookGroup,q=h.selectedWebhookEvents,l=h.onSetSelectedWebhookEvents;h=a.__assign({},f.default.webhooksTab.webhookEventTab);var c=(0,k.useState)({all:[{name:"/items",description:"All trigger events for all items"},{name:"/items/add",description:"An item is added to the portal"},{name:"/items/delete",
description:"Any item is deleted"},{name:"/items/update",description:"Any item is updated"},{name:"/items/move",description:"Any item is moved or its ownership is changed"},{name:"/items/publish",description:"Any item is published"},{name:"/items/share",description:"Any item is shared"},{name:"/items/unshare",description:"Any item is unshared"},{name:"/items/reassign",description:"The ownership of any item has been reassigned"},{name:"/items/addComment",description:"The comment of any item has been added"},
{name:"/items/deleteComment",description:"The comment of any item has been deleted"},{name:"/items/updateComment",description:"The comment of any item has been updated"}],specific:[{name:"/items/\x3citemID\x3e",description:"All trigger events for a specific item"},{name:"/items/\x3citemID\x3e/delete",description:"A specific item is deleted"},{name:"/items/\x3citemID\x3e/update",description:"A specific item's properties are updated"},{name:"/items/\x3citemID\x3e/move",description:"A specific item's ownership is changed or the item is moved"},
{name:"/items/\x3citemID\x3e/publish",description:"A specific item is published"},{name:"/items/\x3citemID\x3e/share",description:"A specific item is shared"},{name:"/items/\x3citemID\x3e/unshare",description:"A specific item is unshared"},{name:"/items/\x3citemID\x3e/reassign",description:"The ownership of a specific item has been reassigned"},{name:"/items/\x3citemID\x3e/addComment",description:"A specific item's comment has been added"},{name:"/items/\x3citemID\x3e/deleteComment",description:"A specific item's comment has been deleted"},
{name:"/items/\x3citemID\x3e/updateComment",description:"A specific item's comment has been updated"}]})[0],d=(0,k.useState)({all:[{name:"/users",description:"All trigger events for all users in the portal"},{name:"/users/add",description:"An users is added to the organization"},{name:"/users/signin",description:"Any item has signed in to the portal"},{name:"/users/signout",description:"Any item has signed out of the portal"},{name:"/users/delete",description:"Any user is deleted"},{name:"/users/update",
description:"Any user's profile is updated"},{name:"/users/disable",description:"Any user's account is disabled"},{name:"/users/enable",description:"Any user's account is enabled"},{name:"/users/updatedUserRole",description:"Any user has been assigned a new role"},{name:"/users/updateUserLicenseType",description:"Any user has been assigned to a new user type"},{name:"/users/bulkEnable",description:"A list of user accounts have been enabled"},{name:"/users/bulkDisable",description:"A list of user accounts have been disabled"}],
specific:[{name:"/users/\x3cusername\x3e",description:"All trigger events associated with a specific user"},{name:"/users/\x3cusername\x3e/signIn",description:"A specified user has signed in to the portal"},{name:"/users/\x3cusername\x3e/signOut",description:"A specified user has signed out of the portal"},{name:"/users/\x3cusername\x3e/delete",description:"A specific user is deleted"},{name:"/users/\x3cusername\x3e/update",description:"A specific user's profile is updated"},{name:"/users/\x3cusername\x3e/disable",
description:"A specific user's account is disabled"},{name:"/users/\x3cusername\x3e/enable",description:"A specific user's account is enabled"},{name:"/users/\x3cusername\x3e/updateUserRole",description:"A specific user has been assigned a new role"},{name:"/users/\x3cusername\x3e/updateUserLicenseType",description:"A specific user has been assigned a new user type"}]})[0],w=(0,k.useState)({all:[{name:"/groups",description:"All triggers events for all groups"},{name:"/groups/requestJoin",description:"All groups are requested to join"},
{name:"/groups/add",description:"A group is added"},{name:"/groups/update",description:"Any group is updated"},{name:"/groups/delete",description:"Any group is deleted"},{name:"/groups/protect",description:"Delete Protection is enabled for any group"},{name:"/groups/unprotect",description:"Delete Protection is disabled for any group"},{name:"/groups/invite",description:"A user is invited to any group"},{name:"/groups/addUsers",description:"A user is added to any group"},{name:"/groups/removeUsers",
description:"A user removed from any group"},{name:"/groups/updateUsers",description:"A user's role is updated in any group"},{name:"/groups/reassign",description:"The ownership for any group has been reassigned"},{name:"/groups/itemShare",description:"An item is shared to any group"},{name:"/groups/itemUnshare",description:"An item is unshared from any group"}],specific:[{name:"/groups/\x3cgroupID\x3e",description:"All triggers events for a specific groups"},{name:"/groups/\x3cgroupID\x3e/requestJoin",
description:"A specific group is requested to join"},{name:"/groups/\x3cgroupID\x3e/update",description:"A specific group is updated"},{name:"/groups/\x3cgroupID\x3e/delete",description:"A specific group is deleted"},{name:"/groups/\x3cgroupID\x3e/protect",description:"Delete Protection is enabled for a specific group"},{name:"/groups/\x3cgroupID\x3e/unprotect",description:"Delete Protection is disabled for a specific group"},{name:"/groups/\x3cgroupID\x3e/invite",description:"A user is invited to a specific group"},
{name:"/groups/\x3cgroupID\x3e/addUsers",description:"A user is added to a specific group"},{name:"/groups/\x3cgroupID\x3e/removeUsers",description:"A user is removed from a specific group"},{name:"/groups/\x3cgroupID\x3e/updateUsers",description:"A user's role is updated in a specific group"},{name:"/groups/\x3cgroupID\x3e/reassign",description:"The ownership for a specific group has been reassigned"},{name:"/groups/\x3cgroupID\x3e/itemShare",description:"An item is shared to a specific group"},
{name:"/groups/\x3cgroupID\x3e/itemUnshare",description:"An item is unshared from a specific group"}]})[0],t=(0,k.useState)({all:[{name:"/roles",description:"All triggers events for all roles in the portal"},{name:"/roles/add",description:"A new role is created"},{name:"/roles/update",description:"An existing role is updated"},{name:"/roles/deleted",description:"An existing role is deleted"}]})[0],z=function(x,y,A){return(0,b.h)(m.default,{selectedType:x,eventData:y,selectedDataItem:A})};return(0,b.h)("div",
{class:"trailer-half"},(0,b.h)("calcite-label",{scale:"l"},h.webhookEvents,(0,b.h)("calcite-combobox",{label:"Multi selection-mode combobox","selection-mode":"multiple",scale:"m",maxItems:5,oncalciteComboboxChange:function(x){x=x.target.value;"string"===typeof x?l(x?[x]:[]):l(a.__spreadArray([],x,!0))},value:q,placeholder:h.webhookEventsPlaceholder,disabled:r},function(){switch(v.webhookType){case "All":return(0,b.h)("calcite-combobox-item",{key:"allEvent.name",value:"/",textLabel:"/"});case "Items":return z("items",
c,g);case "Users":return z("users",d,p);case "Groups":return z("groups",w,n);case "Roles":return z("roles",t)}}())),1<u&&(0,b.h)("div",{class:"webhookEventWarning"},(0,b.h)("calcite-icon",{class:"webhooks-event-icon",icon:"exclamation-mark-triangle-f",scale:"s"}),"\u00a0",h.webhookEventWarning),"All"!==v.webhookType&&e&&0===(null===q||void 0===q?void 0:q.length)&&(0,b.h)("div",{class:"input-error-message is-active"},h.webhookEventsNoSelectionError))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookEventBase":function(){define(["require",
"exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.selectedType,f=b.eventData,m=b.selectedDataItem;return(0,a.h)(a.Fragment,null,function(){var h="roles"===k||["allItems","allUsers","allGroups"].includes(m.id);return(h?f.all:f.specific).map(function(u){h?u=u.name:(u=u.name,u="items"===k?u.replace("\x3citemID\x3e",m.id):"users"===k?u.replace("\x3cusername\x3e",m.username):"groups"===k?u.replace("\x3cgroupID\x3e",m.id):u);return(0,a.h)("calcite-combobox-item",
{key:u,value:u,textLabel:u})})}())}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookPayloadURL":function(){define("require exports tslib preact preact/hooks arcgisonline/esriGeowConfig arcgisonline/pages/utils/notebook dojo/i18n!arcgisonline/nls/org-settings ../WebhookHelper/WebhooksWebRequests ../WebhookHelper/WebhookHelptextModal".split(" "),function(U,M,a,b,k,f,m,h,u,r){var e=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(v){var g=v.payloadURLRef,p=v.isProcessing,n=v.isCheckingError,q=v.webhookPayloadURL,l=v.onSetWebhookPayloadURL,c=v.selectedNotebookItem,d=v.onSetSelectedNotebookItem,w=v.isNotebookSelect,t=v.onSetIsNotebookSelect,z=a.__assign({},h.default.webhooksTab.webhookPayloadURLTab),x=(0,k.useState)(new u.default)[0],y=m.default.notebookServerConfigured();v=f.default.userInfo.privileges;var A=v.includes("portal:admin:manageWebhooks")&&
v.includes("premium:publisher:createNotebooks"),B=(0,k.useState)(!1);v=B[0];var D=B[1];B=(0,k.useState)([]);var C=B[0],E=B[1];(0,k.useEffect)(function(){y&&A&&function(){return a.__awaiter(e,void 0,void 0,function(){var O;return a.__generator(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,,3]),[4,x.retrieveNotebook()];case 1:return O=Q.sent(),D(0<O.total),E(O.results.map(function(V){return{id:V.id,name:V.name,owner:V.owner,title:V.title,modified:V.modified,type:V.type}})),[3,3];case 2:return Q.sent(),
[3,3];case 3:return[2]}})})}()},[]);var H=(0,k.useState)(!1);B=H[0];var G=H[1];H=z.webhookNotebookHelpText;H=(0,b.h)("div",null,z.webhookURLHelpText,(0,b.h)("br",null),(0,b.h)("br",null),H);var F=function(O){var Q;t("Notebook"===(null===(Q=O.target.selectedItem)||void 0===Q?void 0:Q.value))},I=function(){G(!0)},J=function(){return(0,b.h)("button",{"aria-label":z.webhookNotebookHelpIconLabel,class:"webhook-btn-link",onClick:I},(0,b.h)("calcite-icon",{class:"webhooks-config-icon js-modal-toggle",icon:"information",
scale:"s"}))},K=function(O){O=O.target;O.value&&(O=P(O.value),d(O),t(!0))},P=function(O){return C.find(function(Q){return Q.id===O})},T=function(){var O=n&&!c;return(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:O?"":"trailer-half"},(0,b.h)("calcite-combobox",{id:"webhookNotebookLabel",class:"webhook-notebook",label:null===c||void 0===c?void 0:c.title,selectionMode:"single",disabled:p,value:null===c||void 0===c?void 0:c.id,maxItems:3,placeholder:z.webhookNotebookDropdownPlaceholder,oncalciteComboboxChange:K},
S())),O&&(0,b.h)("div",{class:"trailer-half input-error-message is-active"},z.webhookNotebookSelectionError))},S=function(){return C.map(function(O){return(0,b.h)("calcite-combobox-item",{key:O.id,id:O.id,value:O.id,textLabel:O.title})})},L=function(){return(0,b.h)(b.Fragment,null,(0,b.h)("input",{id:"webhookURL",ref:g,class:n&&(!q.url||(null===q||void 0===q?0:q.errorMessage))?"input-error":"trailer-half",type:"text","aria-required":"true",value:null===q||void 0===q?void 0:q.url,onChange:N,onBlur:function(O){(O=
O.target.value)&&0!==O.toLocaleLowerCase().indexOf("https")&&l({url:O,errorMessage:z.webhookPayloadURLValidateError})},placeholder:"https://webhookurl.com",disabled:p}),n&&!q.url&&(0,b.h)("div",{class:"input-error-message is-active"},z.webhookPayloadURLEmptyError),n&&!(null===q||void 0===q||!q.errorMessage)&&(0,b.h)("div",{class:"input-error-message is-active"},q.errorMessage))},N=function(O){l({url:O.target.value})};return(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"trailer-half"},y&&A?(0,b.h)(b.Fragment,
null,(0,b.h)("calcite-radio-button-group",{class:"webhook-notebook-radio",name:"simple",layout:"horizontal",scale:"l",oncalciteRadioButtonGroupChange:F},(0,b.h)("calcite-label",{layout:"inline",scale:"l",for:"webhookURL"},(0,b.h)("calcite-radio-button",{value:z.webhookURL,checked:!w}),z.webhookURL),(0,b.h)("calcite-label",{layout:"inline",scale:"l",for:"webhookNotebookLabel"},(0,b.h)("calcite-radio-button",{value:"Notebook",checked:w,disabled:!v}),z.webhookNotebookLabel),(0,b.h)("span",{class:"webhook-url-icon"},
J()))):(0,b.h)("label",{class:"trailer-0",for:"webhookURL"},z.webhookURL,(0,b.h)("span",{class:"webhook-url-icon"},J())),w?T():L()),B&&(0,b.h)(r.default,{isHelpInfoModalActive:B,disableTitleAndBtn:!0,helpText:H,onSetIsHelpInfoModalActive:G}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookConfiguration/WebhookSecret":function(){define("require exports tslib preact preact/hooks dojo/i18n!arcgisonline/nls/org-settings ../WebhookHelper/WebhookHelptextModal".split(" "),function(U,
M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(h){var u=h.isProcessing,r=h.webhookSecret,e=h.onSetWebhookSecret;h=a.__assign({},f.default.webhooksTab.webhookSecretTab);var v=(0,k.useState)(!1),g=v[0],p=v[1];v=h.webhookSecretHelpText;return(0,b.h)(b.Fragment,null,(0,b.h)("label",{class:"trailer-0",for:"webhookSecrets"},h.webhookSecret,(0,b.h)("button",{"aria-label":h.webhookSecretHelpIconLabel,class:"webhook-btn-link margin-right-1",
onClick:function(){p(!0)}},(0,b.h)("calcite-icon",{class:"webhooks-config-icon js-modal-toggle",icon:"information",scale:"s"}))),(0,b.h)("div",{class:"webhookSecret"},(0,b.h)("input",{id:"webhookSecrets",class:"trailer-half",type:"text","aria-required":"true",value:r,onChange:function(n){e(n.target.value)},placeholder:h.webhookSecretPlaceholder,disabled:u}),(0,b.h)("calcite-icon",{class:"webhooks-config-icon reset-btn".concat(u?" disabled":""),icon:"reset",scale:"s",onClick:function(){if(!u){var n=
(Math.random()+1).toString(36).substring(5);e(n)}}})),g&&(0,b.h)(m.default,{isHelpInfoModalActive:g,disableTitleAndBtn:!0,helpText:v,onSetIsHelpInfoModalActive:p}))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookAdvancedSettings/WebhookAdvancedSettingsModal":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/components/BodyAppender arcgisonline/esriGeowConfig ./WebhookSettingsInput ../WebhookHelper/WebhooksWebRequests dojo/i18n!arcgisonline/nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){var e=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(v){var g=v.webhooksSettingsModalActive,p=v.onWebhookSettingsModalClose,n=v.onDisplayNotificationModal,q=a.__assign({},r.default.webhooksTab.webhookAdvancedSettingsTab),l=(0,k.useState)(new u.default)[0];v=(0,k.useState)(!1);var c=v[0],d=v[1];v=(0,k.useState)(!1);var w=v[0],t=v[1];
v=(0,k.useState)({notificationAttempts:0,notificationElapsedTimeInSeconds:0,notificationTimeOutInSeconds:0});var z=v[0],x=v[1];(0,k.useEffect)(function(){(function(){return a.__awaiter(e,void 0,void 0,function(){var F;return a.__generator(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,l.fetchWebhookSettings()];case 1:return F=I.sent(),x(F),[3,3];case 2:return I.sent(),[3,3];case 3:return[2]}})})})()},[]);(0,k.useEffect)(function(){B(a.__assign(a.__assign({},A),{value:z.notificationAttempts}));
C(a.__assign(a.__assign({},D),{value:z.notificationTimeOutInSeconds}));H(a.__assign(a.__assign({},E),{value:z.notificationElapsedTimeInSeconds}))},[z]);v=function(F){var I=F.target.value;switch(F.target.id){case "advancedSettingsDeliveryAttempts":I?Number(I)<A.min||Number(I)>A.max?B(a.__assign(a.__assign({},A),{isInvalid:!0,value:I,errorMessage:q.deliveryAttemptsError})):B(a.__assign(a.__assign({},A),{isInvalid:!1,value:I})):B(a.__assign(a.__assign({},A),{isInvalid:!0,value:I,errorMessage:q.notificationEmptyValueError}));
break;case "notificationTimeout":I?Number(I)<D.min||Number(I)>D.max?C(a.__assign(a.__assign({},D),{isInvalid:!0,value:I,errorMessage:q.notificationTimeoutError})):C(a.__assign(a.__assign({},D),{isInvalid:!1,value:I})):C(a.__assign(a.__assign({},D),{isInvalid:!0,value:I,errorMessage:q.notificationEmptyValueError}));break;case "notificationElapsedTime":I?Number(I)<E.min||Number(I)>E.max?H(a.__assign(a.__assign({},E),{isInvalid:!0,value:I,errorMessage:q.notificationElapsedTimeError})):H(a.__assign(a.__assign({},
E),{isInvalid:!1,value:I})):H(a.__assign(a.__assign({},E),{isInvalid:!0,value:I,errorMessage:q.notificationEmptyValueError}))}};var y=(0,k.useState)({inputId:"advancedSettingsDeliveryAttempts",label:q.deliveryAttemptsLabel,errorMessage:"",value:z.notificationAttempts,isInvalid:!1,max:5,min:0,step:1,onInputChange:v}),A=y[0],B=y[1];y=(0,k.useState)({inputId:"notificationTimeout",label:q.notificationTimeoutLabel,errorMessage:"",value:z.notificationTimeOutInSeconds,isInvalid:!1,max:60,min:0,step:1,suffixText:q.advancedSettingsUnit,
onInputChange:v});var D=y[0],C=y[1];v=(0,k.useState)({inputId:"notificationElapsedTime",label:q.notificationElapsedTimeLabel,errorMessage:"",value:z.notificationElapsedTimeInSeconds,isInvalid:!1,max:100,min:1,step:1,suffixText:q.advancedSettingsUnit,onInputChange:v});var E=v[0],H=v[1];v=function(F){return(0,b.h)(h.default,{isCheckingError:w,isUpdating:c,inputData:F})};var G=function(){return a.__awaiter(e,void 0,void 0,function(){var F,I,J,K,P,T,S,L,N;return a.__generator(this,function(O){switch(O.label){case 0:F=
!A.isInvalid&&!D.isInvalid&&!E.isInvalid;if(!F)return[3,5];t(!1);d(!0);I=A.value;J=D.value;K=E.value;P="".concat(m.default.restBaseUrl,"portals/").concat(m.default.portal.id,"/webhooks/settings/update");T={notificationAttempts:I,notificationTimeOutInSeconds:J,notificationElapsedTimeInSeconds:K};O.label=1;case 1:return O.trys.push([1,3,,4]),[4,l.updateWebhookSettings(P,T)];case 2:return S=O.sent(),(null===S||void 0===S?0:S.success)?(d(!1),p(),n({alertIndicatorActive:!0,alertIndicatorColor:"green",
alertIndicatorInfo:q.webhookUpdateSuccess})):(d(!1),n({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:q.webhookUpdateError})),[3,4];case 3:return L=O.sent(),d(!1),n({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:null===(N=null===L||void 0===L?void 0:L.details)||void 0===N?void 0:N[0]}),[3,4];case 4:return[3,6];case 5:t(!0),d(!1),O.label=6;case 6:return[2]}})})};return(0,b.h)(f.default,{id:"webhooks-settings-config-modal"},(0,b.h)("calcite-modal",{class:"webhooks-settings-config-modal",
"aria-labelledby":"modal-title",open:g,scale:"m",outsideCloseDisabled:!0,oncalciteModalClose:p,style:{"--calcite-modal-width":"450px"}},(0,b.h)("h3",{slot:"header"},q.webhookSettingsTitle),(0,b.h)("div",{slot:"content",class:"padding-leader-quarter padding-trailer-quarter"},(0,b.h)("div",{class:"trailer-1"},q.settingsHelpText,"\u00a0",(0,b.h)("calcite-link",{href:l.getHelpLink(120004058),target:"_blank"},q.learnMore)),v(A),v(D),v(E)),function(){return(0,b.h)(b.Fragment,null,(0,b.h)("calcite-button",
{"aria-label":q.webhookUpdateSaveBtnLabel,scale:"l",slot:"primary",width:"full",disabled:c,onClick:G},c?(0,b.h)("div",{class:"saveIndicator"},(0,b.h)("calcite-loader",{label:"savingManifest",scale:"m",inline:!0,hidden:!c}),(0,b.h)("span",{class:"savingIndicator"},q.webhookUpdateSavingBtnLabel)):(0,b.h)("div",null,q.webhookUpdateSaveBtnLabel)),(0,b.h)("calcite-button",{"aria-label":q.webhookUpdateCancelBtnLabel,scale:"l",slot:"secondary",width:"full",appearance:"outline",disabled:c,onClick:function(){return p()}},
q.webhookUpdateCancelBtnLabel))}()))}})},"arcgisonline/pages/organization/components/settings/Webhooks/WebhookAdvancedSettings/WebhookSettingsInput":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.isCheckingError,f=b.isUpdating;b=b.inputData;var m=b.inputId,h=b.errorMessage,u=b.value,r=b.isInvalid,e=b.max,v=b.min,g=b.step,p=b.suffixText,n=b.onInputChange;return(0,a.h)("div",{class:"trailer-1"},(0,a.h)("label",
{class:"trailer-0 flex-1",for:m},b.label),(0,a.h)("div",{class:"webhookSettingsModal"},(0,a.h)("calcite-input",{scale:"m",id:m,class:"advanced-settings-input",type:"number",value:u,step:g,min:v,max:e,numberButtonType:"vertical",disabled:f,status:k&&r?"invalid":"idle",suffixText:p,oncalciteInputInput:n}),(0,a.h)("p",{class:"trailer-0 input-error-message advanced-settings-error-message".concat(k&&r?" is-active":"")},h)))}})},"arcgisonline/pages/organization/widgets/settings/tabs/UtilityServicesTab":function(){define("require exports tslib dojo/on dojo/string dojo/topic dojo/i18n!../../../../../nls/org-settings ./BaseSettingsTab ../rows/CachedElevationRow ../rows/ElevationServiceRow ../cards/GeocodingCard ../rows/GeoEnrichmentServiceRow ../rows/GeometryServiceRow ../rows/HydrologyServiceRow ../rows/NetworkServiceRow ../rows/OrthomappingElevationServiceRow ../rows/PrintingRow ../rows/LayoutGroupRow ../rows/RouteServiceRow ../rows/SymbolsServiceRow ../rows/TravelModesRow ../settings-shared ../../../../../tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);x=a.__importDefault(x);y=a.__importDefault(y);
return function(){function A(B,D){this.i18n=m.default.utilityServicesTab;this.TAB_KEY=z.SettingsTabKeys.UtilityServices}A.prototype.render=function(){var B=this.portal.isPortal,D=!this.portal.isPortal;this.createPrintingCard();B?(this.createGeometryCard(),this.createGeoEnrichmentCard(),this.createHydrologyCard(),this.createOrthomappingElevationCard(),this.createElevationCard(),this.createNetworkCard(),this.createCachedElevationCard(),this.createSymbolsCard()):this.createGeoEnrichmentCard();this.createGeocodingCard();
D&&this.createDirectionsAndRoutingCard();this.inherited(arguments)};A.prototype.createPrintingCard=function(){var B,D=this.i18n.printing,C=D.name,E=D.description,H=D.editLabel,G=this.i18n.layoutGroup;D=G.name;G=G.description;H=[new l.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:"",editA11yLabel:H,value:(null===(B=this.portal.helperServices)||void 0===B?void 0:B.printTask)||void 0,keywords:["printService","export","hardCopy","paperMap"]}))];this.portal.isPortal&&H.push(new c.default(a.__assign(a.__assign({},
this.getDefaultRowParams()),{label:D,description:G,value:this.portal.layoutGroupQuery,keywords:"printService export hardCopy paperMap templates layout".split(" ")})));this.createCard({id:"org-printing-card",name:C,description:E,rows:H})};A.prototype.createGeocodingCard=function(){var B=this.i18n.geocoding;this.createCustomCard(e.default,{id:"org-geocoding-card",name:B.name,description:B.description,keywords:"addressMatching addresses locations streets places geosearch addressLocator search".split(" ")})};
A.prototype.createGeometryCard=function(){var B=this.i18n.geometry,D=B.name;B=B.description;var C="".concat(this.portal.isPortal?this.i18n.geometry.tooltip1Portal:this.i18n.geometry.tooltip1," ").concat(this.i18n.geometry.tooltip2);C='\x3cspan class\x3d"tooltip tooltip-multiline org-settings__tooltip" aria-label\x3d"'.concat(C,'" tabindex\x3d"0"\x3e');this.createCard({name:D,keywords:["geometry"],rows:[new g.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:k.default.substitute(B,
{startSpan:C,endSpan:"\x3c/span\x3e"}),value:this.portal.helperServices&&this.portal.helperServices.geometry||void 0}))]})};A.prototype.createGeoEnrichmentCard=function(){var B=this.i18n.geoenrichment,D=B.description;this.createCard({name:B.name,keywords:["geoenrichment"],rows:[new v.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:D,value:this.portal.helperServices&&this.portal.helperServices.geoenrichment||void 0}))]})};A.prototype.createHydrologyCard=function(){var B=this.i18n.hydrology,
D=B.description;this.createCard({name:B.name,keywords:["hydrology"],rows:[new p.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:D,value:this.portal.helperServices&&this.portal.helperServices.hydrology||void 0}))]})};A.prototype.createOrthomappingElevationCard=function(){var B=this.i18n.orthomappingElevation,D=B.description;this.createCard({name:B.name,keywords:["orthomapping","elevation","threeD"],rows:[new q.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:D,
value:this.portal.helperServices&&this.portal.helperServices.orthomappingElevation||void 0}))]})};A.prototype.createElevationCard=function(){var B=this.i18n.elevation,D=B.description,C={elevation:this.portal.helperServices.elevation||void 0,elevationSync:this.portal.helperServices.elevationSync||void 0};this.createCard({name:B.name,keywords:["elevation"],rows:[new r.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:D,value:C}))]})};A.prototype.createNetworkCard=function(){var B=
this.i18n.network.name,D=this.i18n.network.description,C='\x3ccalcite-link href\x3d"'.concat(y.default.self.helpBase).concat(y.default.self.helpMap.m["120003688"],'" target\x3d"_blank"\x3e');D=D.replace("${linkStart}",C).replace("${linkEnd}","\x3c/calcite-link\x3e");C=this.i18n.travelModes;var E={route:this.portal.helperServices.route||void 0,asyncRoute:this.portal.helperServices.asyncRoute||void 0,closestFacility:this.portal.helperServices.closestFacility||void 0,asyncClosestFacility:this.portal.helperServices.asyncClosestFacility||
void 0,serviceArea:this.portal.helperServices.serviceArea||void 0,asyncServiceArea:this.portal.helperServices.asyncServiceArea||void 0,syncVRP:this.portal.helperServices.syncVRP||void 0,asyncVRP:this.portal.helperServices.asyncVRP||void 0,asyncLocationAllocation:this.portal.helperServices.asyncLocationAllocation||void 0,routingUtilities:this.portal.helperServices.routingUtilities||void 0,traffic:this.portal.helperServices.traffic||void 0,asyncODCostMatrix:this.portal.helperServices.asyncODCostMatrix||
void 0,odCostMatrix:this.portal.helperServices.odCostMatrix||void 0,trafficData:this.portal.helperServices.trafficData||void 0},H=new n.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:D,value:E,keywords:"addresses locations places travel route trucking distance time walking driving".split(" ")}));D=new t.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:C.name,description:C.description,keywords:"transit transport impedance wayfinding restrictions pedestrian".split(" ")}));
this.own((0,b.default)(D,"hide",function(){H.domNode.classList.add("no-border")}));var G=this.createCard({name:B,rows:[H,D]}),F=!1;this.own((0,b.default)(G,"show",function(){F||(H.startOnPremiseStatusCheck(),F=!0)}),f.default.subscribe("scroll-to/network-service",function(){G.domNode.scrollIntoView({behavior:"smooth"})}))};A.prototype.createCachedElevationCard=function(){var B=this.i18n.cachedElevation;this.createCard({name:B.name,description:B.description,keywords:["cached","elevation","threeD"],
rows:[new u.default(a.__assign({},this.getDefaultRowParams()))]})};A.prototype.createSymbolsCard=function(){var B,D=this.i18n.symbols,C=D.description;this.createCard({name:D.name,keywords:["symbol","symbols"],rows:[new w.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{description:C,value:(null===(B=this.portal.helperServices)||void 0===B?void 0:B.symbols)||void 0}))]})};A.prototype.createDirectionsAndRoutingCard=function(){var B=this.getDefaultRowParams(),D=this.i18n.travelModes;this.createCard({id:"org-directions-routing-card",
name:this.i18n.directionsAndRouting,rows:[new d.default(a.__assign(a.__assign({},B),{label:this.i18n.routeService,description:this.i18n.routeServiceDesc,editA11yLabel:this.i18n.routeServiceEditLabel,value:this.portal.helperServices&&this.portal.helperServices.route||void 0,keywords:"addresses locations places travel route trucking distance time walking driving".split(" ")})),new t.default(a.__assign(a.__assign({},B),{label:D.name,description:D.description,keywords:"transit transport impedance wayfinding restrictions pedestrian".split(" ")}))]})};
return A=a.__decorate([(0,x.default)(h.default)],A)}()})},"arcgisonline/pages/organization/widgets/settings/rows/CachedElevationRow":function(){define("require exports tslib calcite-web/js/calcite-web dojo/Deferred dojo/string dojo/on dojo/_base/lang dragula/dragula esri/lang esri/request ../../../../pageUtil ./CachedElevationItem ./SettingsRow ../../../../utils/alerts ../../../../utils/arrays ../../../../utils/dom ../../../../utils/keys ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/CachedElevationRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);return function(){function z(x,y){this.templateString=
t.default;this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),w.default.common),w.default.utilityServicesTab.cachedElevation);this.disableEditPopup=!0;this.settingsProps=["defaultElevationLayers"];this.services=[];this.serviceItems=[];this.CACHED_ELEVATION_IMAGE_SERVICE="ArcGISTiledElevationServiceLayer";this.CACHED_ELEVATION_LAYER="Elevation"}z.prototype.render=function(){var x=this;this.services=(this.portal.helperServices&&this.portal.helperServices.defaultElevationLayers&&h.default.clone(this.portal.helperServices.defaultElevationLayers).reverse()||
[]).map(function(y,A){return a.__assign({ordinal:A,name:y.name||x.extractServiceName(y.url)},y)});this.list.innerHTML="";0<this.serviceItems.length&&(this.serviceItems.forEach(function(y){return y.destroy()}),this.serviceItems=[]);this.services.forEach(function(y){y=x.createItem(y);x.serviceItems.push(y)});this.serviceItems.length&&(l.default.appendChildren(this.serviceItems.map(function(y){return y.domNode}),this.list),this.setupDrag(),b.default.dropdown())};z.prototype.addEventListeners=function(){this.own((0,m.default)(this.addBtn,
"click",this.handleAdd.bind(this)),(0,m.default)(this.cancelBtn,"click",this.handleCancel.bind(this)),(0,m.default)(this.saveBtn,"click",this.handleSave.bind(this)),(0,m.default)(this.textbox,"keyup",this.handleKeyup.bind(this)))};z.prototype.createItem=function(x){var y=this;x=new g.default({service:x});this.own((0,m.default)(x,"view",function(A){return y.handleItemView(A)}),(0,m.default)(x,"delete",function(A){return y.handleItemRemove(A)}),(0,m.default)(x,"move-down",this.handleMoveDown),(0,m.default)(x,
"move-up",this.handleMoveUp),(0,m.default)(x,"sort-activate",function(A){y.sortingItem=A.item}),(0,m.default)(x,"sort-deactivate",function(A){var B=y.sortingItem.domNode.nextSibling;A=y.sortingItem.getIndex();B=y.getNewIndex(B,A);A!==B?y.sortItems(A,B).then(function(){y.sortingItem.focusDragHandle();y.sortingItem=void 0}):y.sortingItem=void 0}));return x};z.prototype.addToList=function(x){x=this.createItem(x);this.serviceItems.push(x);this.list.appendChild(x.domNode);this.setupDrag();b.default.dropdown()};
z.prototype.removeFromList=function(x){var y=q.default.findIndex(this.serviceItems,function(A,B){return!(A.service.url!==x.service.url||x.getIndex()!==A.getIndex())});-1<y&&this.serviceItems.splice(y,1).shift().destroy()};z.prototype.handleKeyup=function(x){x.keyCode===c.default.ENTER?this.handleSave():(this.textbox.classList.remove("input-error"),this.inputError.classList.remove("is-active"))};z.prototype.handleItemView=function(x){var y=f.default.substitute(this.i18n.serviceTitle,{serviceName:x.service.name||
this.extractServiceName(x.service.url)});v.default.createConfirmationDialog({strings:{title:y,description:x.service.url},hideCancel:!0,autoCloseOnOk:!0})};z.prototype.handleItemRemove=function(x){var y=this,A=x.service,B=q.default.findIndex(this.services,function(C){return C.url===A.url});if(-1<B){this.services.splice(B,1);var D=a.__spreadArray([],this.services,!0);D.forEach(function(C){return C.ordinal=void 0});D.reverse();this.updateSetting({elevation3DService:this.formatParams(D),clearEmptyFields:!0},
this.i18n.error,this.i18n.success).then(function(){y.portal.helperServices.defaultElevationLayers=D;y.services=a.__spreadArray([],D,!0);y.services.reverse();y.removeFromList(x);y.updateServiceIndexes()})}};z.prototype.handleAdd=function(){l.default.showNode(this.addForm)};z.prototype.handleCancel=function(){l.default.hideNode(this.addForm);this.textbox.value=""};z.prototype.handleSave=function(){var x=this;this.isValid().then(function(y){if(y.isValid){y=y.url;var A={name:x.extractServiceName(y),url:y,
layerType:x.CACHED_ELEVATION_IMAGE_SERVICE,ordinal:x.services.length};if(-1<q.default.findIndex(x.services,function(D){return D.url===A.url}))x.textbox.classList.add("input-error"),x.inputError.classList.add("is-active");else{l.default.hideNode(x.addForm);x.textbox.value="";var B=a.__spreadArray(a.__spreadArray([],x.services,!0),[A],!1);B.forEach(function(D){return D.ordinal=void 0});B.reverse();x.updateSetting({elevation3DService:x.formatParams(B)},x.i18n.error,x.i18n.success).then(function(){x.portal.helperServices.defaultElevationLayers=
B;x.services=a.__spreadArray([],B,!0);x.services.reverse();x.addToList(A);x.updateServiceIndexes()})}}})};z.prototype.formatParams=function(x){return JSON.stringify(x)};z.prototype.showInputError=function(x){this.inputError.textContent=x;this.textbox.classList.add("input-error");this.inputError.classList.add("is-active")};z.prototype.isValid=function(){var x=this,y=new k.default,A=this.textbox.value;(0,e.default)({url:A,content:{f:"json"},timeout:5E3,callbackParamName:"callback"},{useProxy:!1}).then(function(B){(B=
x.isValidService(B))||n.default.showAlert("error",x.i18n.cachedElevationServiceError);y.resolve({isValid:B,url:A})},function(){n.default.showAlert("error",x.i18n.invalidServerUrl);y.resolve({isValid:!1,url:A})});return y};z.prototype.isValidService=function(x){return!(!x||!r.default.isDefined(x.cacheType)||x.cacheType!==this.CACHED_ELEVATION_LAYER)};z.prototype.extractServiceName=function(x){if(!x)return x;var y=x.indexOf("/ImageServer");if(y){var A=x.substring(0,y).lastIndexOf("/");return x.substring(A+
1,y)}return x};z.prototype.setupDrag=function(){this.dragulaInstance||(this.dragulaInstance=(0,u.default)([this.list]),this.dragulaInstance.on("drop",this.handleDrop.bind(this)))};z.prototype.getNewIndex=function(x,y){var A=-1;x&&-1<+x.dataset.ordinal?(A=+x.dataset.ordinal,A>y&&--A):(x=l.default.querySelectorAllAsArray(".org-settings__card-list-row",this.list),A=+x[x.length-2].dataset.ordinal,A<y&&(A+=1));return A};z.prototype.handleMoveDown=function(x){x=x.item;var y=x.domNode.nextSibling;y&&-1<
+y.dataset.ordinal&&y.insertAdjacentElement("afterend",x.domNode);x.focusDragHandle()};z.prototype.handleMoveUp=function(x){x=x.item;var y=x.domNode.previousSibling;y&&y.insertAdjacentElement("beforebegin",x.domNode);x.focusDragHandle()};z.prototype.handleDrop=function(x,y,A,B){x=+x.dataset.ordinal;B=this.getNewIndex(B,x);x!==B&&this.sortItems(x,B)};z.prototype.sortItems=function(x,y){var A=y>x,B=this.services.map(function(C){var E=C.ordinal;A&&C.ordinal>x&&C.ordinal<=y?E=C.ordinal-1:!A&&C.ordinal>=
y&&C.ordinal<x?E=C.ordinal+1:C.ordinal===x&&(E=y);return a.__assign(a.__assign({},C),{ordinal:E})});B.sort(function(C,E){return C.ordinal>E.ordinal?1:C.ordinal<E.ordinal?-1:0});var D=this.serviceItems.map(function(C){var E=C.getIndex(),H=E;A&&E>x&&E<=y?H=E-1:!A&&E>=y&&E<x?H=E+1:E===x&&(H=y);C.setIndex(H);return C});D.sort(function(C,E){return C.getIndex()>E.getIndex()?1:C.getIndex()<E.getIndex()?-1:0});return this.saveNewServicesOrder(B,D)};z.prototype.updateServiceIndexes=function(){this.services.forEach(function(x,
y){return x.ordinal=y});this.serviceItems.forEach(function(x,y){return x.setIndex(y)})};z.prototype.saveNewServicesOrder=function(x,y){var A=this,B=new k.default,D=a.__spreadArray([],x,!0);D.forEach(function(C){return C.ordinal=void 0});D.reverse();this.updateSetting({elevation3DService:this.formatParams(D)},this.i18n.error,this.i18n.success).then(function(){A.portal.helperServices.defaultElevationLayers=D;A.services=a.__spreadArray([],D,!0);A.services.reverse();A.serviceItems=y;A.updateServiceIndexes();
B.resolve()});return B};return z=a.__decorate([(0,d.default)(p.default)],z)}()})},"arcgisonline/pages/organization/widgets/settings/rows/CachedElevationItem":function(){define("require exports tslib dojo/text!./templates/CachedElevationItem.html dojo/i18n!../../../../../nls/org-settings dojo/on dijit/_TemplatedMixin dijit/_WidgetBase esri/Evented ../../../../utils/dom ../../../../utils/icons ../../../../utils/keys arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,
g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=b.default;this.i18n=a.__assign({},k.default.utilityServicesTab.cachedElevation);this.icons=e.default}p.prototype.postCreate=function(){this.inherited(arguments);this.domNode.dataset.ordinal="".concat(this.service.ordinal);
this.domNode.dataset.name=this.service.name;this.domNode.dataset.url=this.service.url;this.addEventListeners()};p.prototype.update=function(n){this.service=n;this.nameEl.textContent=n.name;this.domNode.dataset.ordinal="".concat(n.ordinal);this.domNode.dataset.name=n.name;this.domNode.dataset.url=n.url};p.prototype.focusDragHandle=function(){this.dragHandle.focus()};p.prototype.getIndex=function(){return parseInt(this.domNode.dataset.ordinal,10)};p.prototype.setIndex=function(n){this.domNode.dataset.ordinal=
"".concat(n)};p.prototype.addEventListeners=function(){var n=this;this.own((0,f.default)(this.viewBtn,"click",function(){return n.emit("view",n)}),(0,f.default)(this.deleteBtn,"click",function(){return n.emit("delete",n)}),(0,f.default)(this.dragHandle,"keydown",function(q){var l=!1;q.keyCode===v.default.SPACEBAR||q.keyCode===v.default.ENTER?(n.sorting=!n.sorting,r.default.addRemoveClass(n.domNode,"org-settings__card-list-row--sorting",n.sorting),n.emit("sort-".concat(n.sorting?"activate":"deactivate"),
{item:n}),l=!0):n.sorting&&q.keyCode===v.default.DOWN?(n.emit("move-down",{item:n}),l=!0):n.sorting&&q.keyCode===v.default.UP&&(n.emit("move-up",{item:n}),l=!0);l&&(q.preventDefault(),q.stopPropagation())}))};return p=a.__decorate([(0,g.default)(h.default,m.default,u.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ElevationServiceRow":function(){define("require exports tslib ./MultiUtilityServiceRow ../../../../utils/arrays ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.SERVICE_KEYS=["elevation","elevationSync"];this.elevationUpdateKeys={elevation:"elevationService",elevationSync:"elevationSyncService"};this.serviceDefinitions={elevation:{executionType:"esriExecutionTypeAsynchronous",tasks:["Viewshed","Profile","SummarizeElevation"],maximumRecords:1E3},elevationSync:{executionType:"esriExecutionTypeSynchronous",
tasks:["Profile"],maximumRecords:1E3}}}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),h.default.utilityServicesTab.elevation)};u.prototype.getUpdatePayload=function(r,e){var v;r=this.elevationUpdateKeys[r];var g=f.default.getClearEmptyFieldsStateForHelperService(e);return v={},v[r]=JSON.stringify(e),v.clearEmptyFields=g,v};u.prototype.serviceValidates=function(r,e){r=this.serviceDefinitions[r];return!(!r||!this.isValidElevationService(r,
e))};u.prototype.checkTask=function(r,e){return k.default.includes(r||[],e)};u.prototype.isValidElevationService=function(r,e){var v=this;return!!(e.executionType===r.executionType&&e.maximumRecords>=r.maximumRecords&&e.tasks&&0<e.tasks.length&&e.tasks.every(function(g){return v.checkTask(r.tasks,g)}))};return u=a.__decorate([(0,m.default)(b.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/MultiUtilityServiceRow":function(){define("require exports tslib ../../../../serviceUtil ./SettingsRow ../../../../utils/keys ../../../../utils/alerts ../../../../utils/strings ../../../../utils/validation ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/Deferred dojo/dom-construct dojo/on dojo/topic esri/lang esri/request dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),c.default.common),c.default.utilityServicesTab);
this.valueType="text";this.hasError=!1}d.prototype.render=function(){var w=this;this.select=document.createElement("select");this.select.className="trailer-half";Object.keys(this.value).forEach(function(t,z){var x=document.createElement("option");x.value=t;0===z&&(w.selectedKey=t,x.selected=!0);x.textContent=w.i18n[t].name;w.select.appendChild(x)});g.default.place(this.select,this._valueContainer,"before");this.textbox=document.createElement("input");this.textbox.type="text";this.textbox.placeholder=
"";this._formContent.appendChild(this.textbox);this.inputError=document.createElement("div");this.inputError.classList.add("input-error-message");this._formContent.appendChild(this.inputError);this.exampleEl=document.createElement("label");this.exampleEl.className="org-settings__example";this._formContent.appendChild(this.exampleEl);this.inherited(arguments);this.updateSelectedService()};d.prototype.addEventListeners=function(){var w=this;this.inherited(arguments);this.own((0,p.default)(this.select,
"change",function(t){w.updateSelectedService()}),(0,p.default)(this.textbox,"blur",function(){w.validates()}),(0,p.default)(this.textbox,"keyup",function(t){t.keyCode===f.default.ENTER&&w.validates()&&w.save()}),(0,p.default)(this.textbox,"change",this.handleTextboxChange.bind(this)),n.default.subscribe("configure-helperServices",this.servicesUpdated.bind(this)))};d.prototype.updateSelectedService=function(){this.selectedKey=this.select.value;var w=this.i18n[this.selectedKey];w=this.selectedKey&&
w&&w.exampleService&&"".concat(this.i18n.exampleLabel," ").concat(w.exampleService)||"";this.service=this.value[this.selectedKey];this.updateDisplayValue(this.service);this.exampleEl.textContent=w};d.prototype.updateDisplayValue=function(w,t){var z=this.value[this.selectedKey];this.inherited(arguments);this.textbox.value=z?this._displayValue.textContent=z.url:this._displayValue.textContent=""};d.prototype.save=function(){var w=this;this.changeRequest?this.changeRequest.then(function(){w.proceedToSave()}):
this.proceedToSave()};d.prototype.cancel=function(){this.toggleEdit(!1);this.resetFormValues();this.logSettingsCanceled([this.selectedKey])};d.prototype.resetFormValues=function(){this.inherited(arguments);u.default.clearState([this.textbox,this.inputError])};d.prototype.validates=function(){var w=this.textbox.value;if(!this.portal.isPortal&&-1<w.indexOf("http:"))return u.default.setInvalidState(this.textbox,this.inputError,this.i18n.httpWarning),!1;u.default.clearState([this.textbox,this.inputError]);
return!0};d.prototype.servicesUpdated=function(w){var t=this,z=!1;w&&this.SERVICE_KEYS.forEach(function(x){w[x]&&(t.portal.helperServices[x]=w[x],t.value[x]=w[x],z=!0)});z&&this.updateSelectedService()};d.prototype.proceedToSave=function(){var w=this;if(!this.hasError){var t=this.service?this.service:"";q.default.isDefined(t)?this.updateSetting(this.getUpdatePayload(this.selectedKey,t),this.i18n.error,this.i18n.success).then(function(){n.default.publish("helper-services/update");w.value[w.selectedKey]=
t;w.updateDisplayValue(w.value);w.toggleEdit(!1)}):this.toggleEdit(!1)}};d.prototype.getValidationUrl=function(w){return w};d.prototype.handleTextboxChange=function(){var w=this;this.changeRequest=new v.default;var t=this.getValidationUrl(this.textbox.value);if(t&&this.validates()){var z=this.i18n.invalidServerUrl;try{var x={f:"json"};b.default.isServiceProxy(t)&&(x.token=r.default.getToken());(0,l.default)({url:t,content:x,timeout:5E3,callbackParamName:"callback"},{useProxy:!1}).then(function(y){w.serviceValidates(w.selectedKey,
y)?(w.service={url:h.default.encodeWhitespace(t)},w.hasError=!1):(m.default.showAlert("error",z),w.service=null,w.hasError=!0);w.changeRequest.resolve()},function(){m.default.showAlert("error",z);w.service=null;w.hasError=!0;w.changeRequest.resolve()})}catch(y){m.default.showAlert("error",z),this.service=null,this.hasError=!0,this.changeRequest.resolve()}}else this.service=null,this.hasError=!1,this.changeRequest.resolve()};return d=a.__decorate([(0,e.default)(k.default)],d)}()})},"arcgisonline/pages/serviceUtil":function(){define("require exports tslib dojo/Deferred dojo/json dojo/promise/all dojo/sniff esri/lang esri/layers/FeatureLayer esri/request esri/tasks/Geoprocessor ./pageUtil ./utils/arrays arcgisonline/sharing/dijit/Role ../sharing/util ../esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(){}l.getDateFields=function(c){var d=["esriFieldTypeDate","esriFieldTypeDateOnly","esriFieldTypeTimestampOffset"];return((null===c||
void 0===c?void 0:c.fields)||[]).filter(function(w){return d.includes(null===w||void 0===w?void 0:w.type)})};l.fetchServerToken=function(c,d){var w=c.portal;return(c=d||c.url)?n.default.request({url:n.default.getSecureUrl("".concat(w.portalUrl,"generateToken")),content:{serverUrl:c}},{usePost:!0}).then(function(t){return t.token}):null};l.fetchItemAdminUrl=function(c,d){var w;return c.portal.isPortal?(null===d||void 0===d?0:d.adminUrl)&&d.url?this.getAdminUrl(c,d):c.url:(null===(w=c.url)||void 0===
w?void 0:w.replace("/rest/","/rest/admin/"))||null};l.getAdminUrl=function(c,d){var w=c.url;d=w.replace(w.split("/rest/")[0],d.adminUrl);return c.isSDS||"Knowledge Graph"===c.type?d.replace("/rest/","/rest/admin/"):d.replace("/rest/","/admin/").replace("/FeatureServer",".MapServer").replace("/MapServer",".MapServer").replace("/VectorTileServer",".VectorTileServer").replace("/SceneServer",".SceneServer").replace("/ImageServer",".ImageServer")};l.fetchServiceLayers=function(c){return n.default.request({url:"".concat(c,
"/layers")}).then(function(d){return(null===d||void 0===d?void 0:d.layers)||[]})};l.renameServiceLayers=function(c,d){var w=new b.default,t="".concat(d.adminUrl,"/").concat(c.layerId);c={name:c.layerRename};"Map Service"===d.type?(t+="/edit",d={layerDefinition:JSON.stringify(c)}):(t+="/updateDefinition",d={updateDefinition:JSON.stringify(c),async:!1});n.default.request({url:t,content:d},{usePost:!0}).then(function(){return w.resolve()},function(z){return w.reject(z)});return w};l.updateServiceDefinition=
function(c){var d=c.layerId,w=c.item;c=c.definition;var t=new b.default;n.default.request({url:"".concat(w.adminUrl,"/").concat(d,"/updateDefinition"),content:{updateDefinition:JSON.stringify(c),async:!1}},{usePost:!0}).then(function(){return t.resolve()},function(z){return t.reject(z)});return t};l.queryGeocodeCounts=function(c){var d=[],w=c.url,t={where:"1\x3d1",returnCountOnly:!0},z=c.layers||[],x=c.reviewTable;z="".concat(w,"/").concat(z[0].id,"/query");var y=new b.default;c.canUpdate&&c.isHostedService&&
c.hasGeocodeReviewTable?(d.push(n.default.request({url:z,content:t})),x&&(c="".concat(w,"/").concat(x.id,"/query"),d.push(n.default.request({url:c,content:t}))),(0,f.default)(d).then(function(A){var B=(null===A||void 0===A?void 0:A.length)&&A[0].count||0;y.resolve({successful:B,total:B+(1<(null===A||void 0===A?void 0:A.length)&&A[1].count||0)})},function(A){y.resolve(null)})):y.resolve(null);return y};l.adjustHostedServerForProtocol=function(c){return"https:"===location.protocol?c.replace("http:",
"https:").replace(":6080",":6443"):c.replace("https:","http:").replace(":6443",":6080")};l.checkForResources=function(c){var d="".concat(c.itemUrl,"/resources/styles/root.json");"Vector Tile Service"!==c.type||h.default.isDefined(c.hasResources)?(d=new b.default,d.resolve(!!c.hasResources)):d=n.default.request({url:d}).then(function(){return!0},function(){return!1});return d};l.setFeatureServiceScaleRanges=function(c){var d=this,w=new b.default,t=c.url,z=c.sourceData||{},x=c.featureLayers||[];!c.numViews&&
c.isHostedService&&"Feature Service"===c.type&&"Service Definition"!==z.type?(0,f.default)(x.map(function(y){return d.setScaleRange("".concat(t,"/").concat(y.id),c,y.id)})).then(function(){return w.resolve(!0)}):w.resolve(!0);return w};l.setScaleRange=function(c,d,w){var t=new b.default,z=new u.default(c);c=d.adminUrl;w=h.default.isDefined(w)?"/".concat(w):"";var x="".concat(c).concat(w,"/updateDefinition");z.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){z.statisticsPlugin.getSuggestedScaleRange().then(function(y){y=
{updateDefinition:k.default.stringify({maxScale:y.maxScale||0,minScale:y.relaxedMinScale||0})};n.default.request({url:x,content:y},{usePost:!0}).then(function(){return t.resolve(d)},function(){return t.resolve(d)})},function(y){t.resolve(d)})});return t};l.getSuggestedScaleRange=function(c){var d=new b.default,w=new u.default(c);w.addPlugin("esri/plugins/FeatureLayerStatistics").then(function(){w.statisticsPlugin.getSuggestedScaleRange({sampleSize:100,forPublishingTiles:!0}).then(function(t){return d.resolve(t)},
function(t){d.resolve(null)})},function(t){d.resolve(null)});return d};l.encodeServiceName=function(c,d){if((0,m.default)("ie")||(0,m.default)("trident")||(0,m.default)("edge")){var w=c.indexOf("admin/services/Hosted/");d=n.default.isPortal()&&!d?-1<c.indexOf(".MapServer")?c.indexOf(".MapServer"):-1<c.indexOf(".VectorTileServer")?c.indexOf(".VectorTileServer"):c.indexOf("/SceneServer"):c.indexOf("/FeatureServer");0<w&&(c=c.substring(0,w+22)+encodeURIComponent(c.substring(w+22,d))+c.substring(d))}return c};
l.getImageryToTilePackageParams=function(c,d){var w=c.id,t=c.itemUrl||"".concat(c.portal.portalUrl,"content/items/").concat(w);c=c.portal.getPortalUser();c=null===c||void 0===c?void 0:c.getToken();return{inputImageryLayer:JSON.stringify({itemId:w,url:"".concat(t,"?token\x3d").concat(c)}),outputTilePackage:d||"tpk".concat(w),context:"{}"}};l.exportImageryToTilePackage=function(c,d,w){c=l.getImageryToTilePackageParams(c,d);c=a.__assign(a.__assign({},c),{f:"json"});return l.createImageryTask({taskName:"ExportToTilePackage",
inputParameters:c,updateDelay:2E4,statusCallback:w,outputParameterName:"outTilePackage"})};l.fetchExportImageryCredits=function(c){c=l.getImageryToTilePackageParams(c);c={inputAnalysisTask:JSON.stringify({name:"ExportToTilePackage",parameters:c}),f:"json",context:"{}"};return l.createImageryTask({taskName:"EstimateRasterAnalysisCost",inputParameters:c,updateDelay:2E3,outputParameterName:"outCost"})};l.createImageryTask=function(c){var d=c.taskName,w=c.updateDelay,t=c.inputParameters,z=c.outputParameterName,
x=c.statusCallback,y=new b.default;c="".concat(q.default.self.helperServices.rasterAnalytics.url,"/").concat(d);var A=new e.default(c);w&&A.setUpdateDelay(w);var B,D=!1,C=function(E){return!D&&y.reject(E)};A.on("error",C);A.submitJob(t,function(E){if(!D)if("esriJobSucceeded"===E.jobStatus){if(!z)return y.resolve({success:!0});A.getResultData(E.jobId,z).then(function(H){y.resolve({success:null!=(null===H||void 0===H?void 0:H.value),outputValue:null===H||void 0===H?void 0:H.value})},C)}else y.resolve({success:!1})},
function(E){B=E.jobId;null===x||void 0===x?void 0:x(E)},C);return{canceller:function(){B&&(D=!0,A.cancelJobStatusUpdates(B),A.cancelJob(B,null,null))},dfd:y}};l.fetchBuildingSceneSubLayer=function(c,d,w){return new Promise(function(t){var z="".concat(c,"/layers/").concat(d,"/sublayers/").concat(w);n.default.request({url:z}).then(function(x){t({layerId:d,subLayer:x})},function(){t({layerId:d,subLayer:{}})})})};l.findAll3DObjectLayers=function(c){var d=this,w,t=[];null===(w=c.sublayers)||void 0===w?
void 0:w.forEach(function(z){"group"===z.layerType?t=t.concat(d.findAll3DObjectLayers(z)):"3DObject"===z.layerType&&t.push(z.id)});return t};l.fetchPartialUpdateBuildingScenePublishingCredits=function(c,d,w){var t=this,z=d.portal||{},x=d.serviceInfo||{},y=x.layers||[],A="".concat(c.url,"/extractChanges"),B={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},D={},C={textured:0,untextured:0},E="".concat(z.portalUrl,"portals/self/usageCost"),
H={name:x.name,etype:"tilegencnt",stype:"scene"},G;return new Promise(function(F){var I=[];w.forEach(function(J){var K;G=y.find(function(P){return P.id===J.id});t.findAll3DObjectLayers(G).forEach(function(P){I.push(t.fetchBuildingSceneSubLayer(d.url,J.id,P))});G.isTextured=!(null===(K=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===K||!K.hasTexture);D[J.id]=G});Promise.all(I).then(function(J){var K={};J.forEach(function(P){var T=P.subLayer,S=T.associatedLayerID;T=T.serviceUpdateTimeStamp;
T=null===T||void 0===T?void 0:T.lastUpdate;K[S]=P.layerId;B.layers.push(S);B.layerServerGens.push({id:S,serverGen:T})});n.default.request({url:A,content:a.__assign(a.__assign({},B),{layers:JSON.stringify(B.layers),layerServerGens:JSON.stringify(B.layerServerGens)})},{usePost:!0}).then(function(P){(null===P||void 0===P?0:P.edits)?(Object.keys(P.edits).forEach(function(T){T=P.edits[T];var S=T.objectIds;C[D[K[T.id]].isTextured?"textured":"untextured"]+=S.adds.length+S.updates.length+S.deletes.length}),
(0,f.default)({textured:0<C.textured?n.default.request({url:E,content:a.__assign({num:C.textured,task:"textured"},H)}):null,untextured:0<C.untextured?n.default.request({url:E,content:a.__assign({num:C.untextured,task:"nontextured"},H)}):null}).then(function(T){var S,L,N=((null===(S=null===T||void 0===T?void 0:T.textured)||void 0===S?void 0:S.credits)||0)+((null===(L=null===T||void 0===T?void 0:T.untextured)||void 0===L?void 0:L.credits)||0);F(N)},function(){F(0)})):F(0)},function(P){F(0)})},function(){F(0)})})};
l.fetchPartialUpdateScenePublishingCredits=function(c,d,w){var t=new b.default,z=d.portal||{},x=(c.adminServiceInfo||{}).layers||[];d=d.serviceInfo||{};var y=d.layers||[];c="".concat(c.url,"/extractChanges");var A={returnIdsOnly:!0,returnInserts:!0,returnUpdates:!0,returnDeletes:!0,layers:[],layerServerGens:[],async:!1,dataFormat:"json"},B={},D={textured:0,untextured:0},C="".concat(z.portalUrl,"portals/self/usageCost"),E={name:d.name,etype:"tilegencnt",stype:"scene"},H;w.forEach(function(G){var F;
A.layers.push(G.id);(H=g.default.find(x,function(J){return J.id===G.id}))||1!==x.length||(H=x[0]);if(H){var I=G.id;I!==H.id&&(I=H.id);H.isTextured=!(null===(F=null===H||void 0===H?void 0:H.multiPatchInfo)||void 0===F||!F.hasTexture);B[I]=H}});y.forEach(function(G){-1<A.layers.indexOf(G.id)&&G.serviceUpdateTimeStamp&&A.layerServerGens.push({id:G.id,serverGen:G.serviceUpdateTimeStamp.lastUpdate})});n.default.request({url:c,content:a.__assign(a.__assign({},A),{layers:JSON.stringify(A.layers),layerServerGens:JSON.stringify(A.layerServerGens)})},
{usePost:!0}).then(function(G){(null===G||void 0===G?0:G.edits)?(Object.keys(G.edits).forEach(function(F){F=G.edits[F];var I=F.objectIds;D[B[F.id].isTextured?"textured":"untextured"]+=I.adds.length+I.updates.length+I.deletes.length}),(0,f.default)({textured:0<D.textured?n.default.request({url:C,content:a.__assign({num:D.textured,task:"textured"},E)}):null,untextured:0<D.untextured?n.default.request({url:C,content:a.__assign({num:D.untextured,task:"nontextured"},E)}):null}).then(function(F){var I,
J,K=((null===(I=null===F||void 0===F?void 0:F.textured)||void 0===I?void 0:I.credits)||0)+((null===(J=null===F||void 0===F?void 0:F.untextured)||void 0===J?void 0:J.credits)||0);t.resolve(K)},function(){t.resolve(0)})):t.resolve(0)},function(G){t.resolve(0)});return t};l.fetchScenePublishingCredits=function(c,d,w){var t=new b.default,z=c.portal||{},x=c.adminServiceInfo||{},y=x.layers||[];c="".concat(c.url,"/query");var A={},B={},D={textured:0,untextured:0},C="".concat(z.portalUrl,"portals/self/usageCost"),
E={name:x.name,etype:"tilegencnt",stype:"scene"},H;d.length&&w?y.forEach(function(G){var F;G.isTextured=!(null===(F=null===G||void 0===G?void 0:G.multiPatchInfo)||void 0===F||!F.hasTexture);B[G.id]=G;A[G.id]="1\x3d1"}):d.forEach(function(G){var F;(H=g.default.find(y,function(J){return J.id===G.id}))||1!==y.length||(H=y[0]);if(H){var I=G.id;I!==H.id&&(I=H.id);H.isTextured=!(null===(F=null===H||void 0===H?void 0:H.multiPatchInfo)||void 0===F||!F.hasTexture);B[I]=H;A[I]="1\x3d1"}});n.default.request({url:c,
content:a.__assign(a.__assign({},{}),{layerDefs:JSON.stringify(A),returnCountOnly:!0})}).then(function(G){(null===G||void 0===G?0:G.layers)?(G.layers.forEach(function(F){D[B[F.id].isTextured?"textured":"untextured"]+=F.count}),(0,f.default)({textured:0<D.textured?n.default.request({url:C,content:a.__assign({num:D.textured,task:"textured"},E)}):null,untextured:0<D.untextured?n.default.request({url:C,content:a.__assign({num:D.untextured,task:"nontextured"},E)}):null}).then(function(F){var I,J,K=((null===
(I=null===F||void 0===F?void 0:F.textured)||void 0===I?void 0:I.credits)||0)+((null===(J=null===F||void 0===F?void 0:F.untextured)||void 0===J?void 0:J.credits)||0);t.resolve(K)},function(){t.resolve(0)})):t.resolve(0)},function(){t.resolve(0)});return t};l.getServerLicenseInfo=function(c){c="".concat(c,"/admin/system/licenses");return n.default.request({url:c},{useProxy:q.default.isDebug||n.default.shouldUseProxy(c)})};l.findManagedDataStoreItems=function(c){c="".concat(c,"/admin/data/findItems");
return n.default.request({url:c,content:{managed:!0}},{useProxy:q.default.isDebug||n.default.shouldUseProxy(c)})};l.findRasterStoreItems=function(c){c="".concat(c,"/admin/data/findItems");return n.default.request({url:c,content:{types:"rasterStore",decrypt:!0}},{useProxy:q.default.isDebug||n.default.shouldUseProxy(c)})};l.isBackedBySDS=function(c){var d,w=new b.default,t=(null===(d=null===q.default||void 0===q.default?void 0:q.default.self)||void 0===d?void 0:d.user)||{};d=new p.default({portalUser:t});
var z=!1,x;t&&(d.isBasedOnAdmin()||d.isBasedOnPublisher())&&c&&!v.default.isEmptyObject(c)?this.findManagedDataStoreItems(c.adminUrl).then(function(y){x=((null===y||void 0===y?void 0:y.items)||y||[]).filter(function(A){var B;return"arcgis data store"===(null===(B=null===A||void 0===A?void 0:A.provider)||void 0===B?void 0:B.toLowerCase())});z=!(null===x||void 0===x||!x.length);w.resolve(z)},function(){w.resolve(z)}):w.resolve(z);return w};l.isImageManagementTask=function(c){if(!c||-1===c.indexOf("RasterAnalysisTools")||
-1===c.indexOf("GPServer/"))return!1;c=c.slice(c.indexOf("GPServer/")+9);-1<c.indexOf("/")&&(c=c.slice(0,c.indexOf("/")));var d="buildfootprints buildoverview calculatestatistics definenodata computecolorcorrection computeseamlines".split(" ");return c&&-1<d.indexOf(c.toLowerCase())};l.getBackingDataStoreInfo=function(c){var d,w=new b.default,t=(null===(d=null===q.default||void 0===q.default?void 0:q.default.self)||void 0===d?void 0:d.user)||{};d=new p.default({portalUser:t});var z=!0,x=!1,y=!1,A=
!1,B,D,C;t&&(d.isBasedOnAdmin()||d.isBasedOnPublisher())&&c&&!v.default.isEmptyObject(c)?this.findManagedDataStoreItems(c.adminUrl).then(function(E){E=(null===E||void 0===E?void 0:E.items)||E||[];B=E.filter(function(H){var G;return"arcgis data store"===(null===(G=null===H||void 0===H?void 0:H.provider)||void 0===G?void 0:G.toLowerCase())});D=E.filter(function(H){var G,F,I;return"arcgis data store"===(null===(G=null===H||void 0===H?void 0:H.provider)||void 0===G?void 0:G.toLowerCase())&&"spatiotemporal"===
(null===(I=null===(F=H.info)||void 0===F?void 0:F.dsFeature)||void 0===I?void 0:I.toLowerCase())});C=E.filter(function(H){var G,F,I,J;return"arcgis data store"===(null===(G=null===H||void 0===H?void 0:H.provider)||void 0===G?void 0:G.toLowerCase())&&"nosql"===(null===(F=H.type)||void 0===F?void 0:F.toLowerCase())&&"graphstore"===(null===(J=null===(I=H.info)||void 0===I?void 0:I.dsFeature)||void 0===J?void 0:J.toLowerCase())});z=0===E.length;x=!(null===B||void 0===B||!B.length);y=!(null===D||void 0===
D||!D.length);A=!(null===C||void 0===C||!C.length);w.resolve({isSDS:x,isSTDS:y,isGraph:A,none:z})},function(){w.resolve({isSDS:x,isSTDS:y,isGraph:A,none:z})}):w.resolve({isSDS:x,isSTDS:y,isGraph:A,none:z});return w};l.cacheMaxAgeCheck=function(c,d){var w;if(!c.ignoreCache&&c.layers&&"Feature Service"===c.type&&c.isHostedService&&0<(null===(w=null===d||void 0===d?void 0:d.adminServiceInfo)||void 0===w?void 0:w.cacheMaxAge)&&(c.ignoreCache=function(){var z=this;this.ignoreCacheFlagTimestamp=(new Date).getTime();
var x=function(y){y.content=y.content||{};y.content._ts=z.ignoreCacheFlagTimestamp;return y};this.ignoreCacheFlag||(r.default.setRequestPreCallback(x),this.ignoreCacheFlag=!0)},c.layers)){var t=0;c.layers.forEach(function(z){var x;(null===(x=z.editingInfo)||void 0===x?0:x.lastEditDate)&&t<z.editingInfo.lastEditDate&&(t=z.editingInfo.lastEditDate)});0<t&&((new Date).getTime()-t)/1E3<d.adminServiceInfo.cacheMaxAge&&c.ignoreCache()}};l.isServiceProxy=function(c){var d=(c||"").toLowerCase();c=-1<d.indexOf("/servers/")&&
-1<d.indexOf("/rest/services/");var w=q.default.self.isPortal&&-1<d.indexOf(q.default.self.portalHostname);d=!q.default.self.isPortal&&-1<d.indexOf(".arcgis.com");return c&&(w||d)};l.ASYNC_POLL_INTERVALS=[2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,2E3,15E3,15E3,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,3E4,12E4];return l}()})},"arcgisonline/pages/organization/widgets/settings/cards/GeocodingCard":function(){define("require exports tslib calcite-web/js/calcite-web dojo/query dojo/on dojo/topic dojo/_base/lang dojo/i18n!../../../../../nls/org-settings ./SettingsCard ../rows/LocatorRow ../../../../utils/dom ../../../../pageUtil ../../../../utils/alerts ../../../../utils/arrays ../../../../utils/dragdrop ../../../../utils/a11y ../GeocodingOverlay arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);return function(){function z(x,y){this.locators=
[];this.locatorRows=[];this.handleDrop=this.handleDrop.bind(this)}z.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n.common),this.i18n.utilityServicesTab.geocoding);this.i18n.keywords=u.default.keywords};z.prototype.render=function(){this.showHeaderBtn(this.i18n.add);this._title.textContent=this.name;this._description.textContent=this.description;this.renderLocators()};z.prototype.addEventListeners=function(){var x=this;this.inherited(arguments);
this.own(m.default.subscribe("geocoder-added",this.handleGeocoderAdded.bind(this)),m.default.subscribe("geocoder-altered",this.handleGeocoderUpdated.bind(this)),m.default.subscribe("configure-helperServices",function(y){y.geocode&&(x.portal.helperServices.geocode=y.geocode,x.renderLocators())}))};z.prototype.handleBtnClick=function(){var x=this.portal,y=x.selfNoAuth;if(!x.isPortal&&y&&y.helperServices&&y.helperServices.geocode&&y.helperServices.geocode[0]){var A=h.default.clone(y.helperServices.geocode[0]);
A.name=this.i18n.esriWorldGeocoder;A.esri=!0}x=this.locators.some(function(D){return!!D.esri});var B=new c.default({hasEsriGeocoder:this.portal.isPortal?!0:x,worldGeocoder:A,portal:this.portal,opener:this._headerBtn});B.initAdd().then(function(){B.open()})};z.prototype.renderLocators=function(){var x=this;this._content.innerHTML="";this.rowsContainer=document.createElement("ul");this.rowsContainer.className="clear-list-style";this._content.appendChild(this.rowsContainer);0<this.locatorRows.length&&
(this.locatorRows.forEach(function(y){return y.destroy()}),this.locatorRows=[]);this.portal.helperServices.geocode&&(this.portal.helperServices.geocode.map(function(y,A){var B=y.name,D=y.url,C=["Esri World Geocoder",x.i18n.esriWorldGeocoder];if(!B||-1<C.indexOf(B)&&D&&-1<D.toLowerCase().indexOf("arcgis.com/arcgis/rest/services/world/geocodeserver"))y.name=x.i18n.esriWorldGeocoder,y.esri=!0;y.ordinal=A;x.addLocator(y)}),v.default.appendChildren(this.locatorRows.map(function(y){return y.domNode}),this.rowsContainer),
this.setupDrag(),b.default.dropdown())};z.prototype.setupDrag=function(){if(!this.dragulaInstance){var x=l.default.setupLiveRegion();this.dragulaInstance=q.default.init(this.rowsContainer,{itemClass:"org-settings__card-list-row",activeClass:"org-settings__card-list-row--sorting",handleClass:"locator-row__drag-handle",dragulaInstance:this.dragulaInstance,onDrop:this.handleDrop,liveRegion:x,dragElement:!0})}};z.prototype.handleDrop=function(){var x=this,y=[];(0,k.default)(".org-settings__locator-row",
this._content).forEach(function(A,B){var D=x.locators.filter(function(C){return C.name===A.dataset.locator})[0];D&&(D.ordinal=B,y.push(D))});this.locators=y;this.save(this.locators)};z.prototype.handleEditGeocoder=function(x){var y=x.locator,A=new c.default({portal:this.portal,opener:x.actionsBtn});A.initEdit(a.__assign({},y)).then(function(){A.open()})};z.prototype.handleRemoveGeocoder=function(x){var y=this,A=this.i18n.deleteConfirm;g.default.createConfirmationDialog({strings:{title:A.title,description:A.message},
autoCloseOnOk:!0,onOk:function(){y.proceedToRemove(x)},onCancel:function(){var B;null===(B=x.actionsBtn)||void 0===B?void 0:B.focus()}})};z.prototype.proceedToRemove=function(x){var y=this,A=x.locator,B=n.default.findIndex(this.locators,function(C){return C.itemId&&C.itemId===A.itemId||C.name===A.name&&C.url===A.url});if(-1<B){var D=a.__spreadArray([],this.locators,!0);D.splice(B,1);this.save(D).then(function(){y.portal.helperServices.geocode=D;y.locators.splice(B,1);var C=n.default.findIndex(y.locatorRows,
function(H){return H.id===x.id});y.locatorRows.splice(C,1);x.destroy();var E=B;E>y.locatorRows.length-1&&(E=y.locatorRows.length-1);y.locatorRows.some(function(H,G){(G=G===E)&&H.actionsBtn.focus();return G})})}};z.prototype.handleGeocoderAdded=function(x){var y=this,A=a.__spreadArray(a.__spreadArray([],this.locators,!0),[x],!1);this.save(A).then(function(){y.portal.helperServices.geocode=A;x.ordinal=0<y.locators.length?y.locators[y.locators.length-1].ordinal+1:1;var B=y.addLocator(x);y.rowsContainer.appendChild(B.domNode);
b.default.dropdown()})};z.prototype.handleGeocoderUpdated=function(x){var y=this,A,B=this.locators.map(function(D){x.ordinal===D.ordinal&&(A=D=a.__assign(a.__assign({},D),x));return D});A&&this.save(B).then(function(){y.locators=y.portal.helperServices.geocode=B;y.locatorRows.forEach(function(D){D.locator.ordinal===A.ordinal&&D.update(A)})})};z.prototype.addLocator=function(x){this.locators.push(x);x=new e.default({locator:x});this.locatorRows.push(x);this.own((0,f.default)(x,"edit",this.handleEditGeocoder.bind(this)),
(0,f.default)(x,"delete",this.handleRemoveGeocoder.bind(this)));return x};z.prototype.save=function(x){var y=this,A=JSON.stringify(this.portal.helperServices.geocode),B=JSON.stringify(x);if(A!==B)return this.updateSelf({geocodeService:JSON.stringify(0<x.length?x:""),clearEmptyFields:!0}).then(function(){m.default.publish("helper-services/update");p.default.showAlert("success",y.i18n.success);0===x.length?y.getSelf().then(function(D){y.portal.helperServices.geocode=D.helperServices.geocode;y.renderLocators()}):
y.portal.helperServices.geocode=a.__spreadArray([],x,!0)},function(){p.default.showAlert("error",y.i18n.error)})};z.prototype.getSelf=function(){return d.default.request({url:"".concat(w.default.restBaseUrl,"portals/self")})};return z=a.__decorate([(0,t.default)(r.default)],z)}()})},"arcgisonline/pages/organization/widgets/settings/rows/LocatorRow":function(){define("require exports tslib dojo/text!./templates/LocatorRow.html dojo/i18n!../../../../../nls/org-settings dojo/Evented dojo/on dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/icons ../../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=b.default;this.i18n=k.default;this.icons=r.default}g.prototype.postCreate=function(){this.inherited(arguments);this.locator.esri&&e.default.hideNode(this.editBtn);this.addEventListeners();this.domNode.dataset.locator=
this.locator.name};g.prototype.update=function(p){this.locator=p;this.nameEl.textContent=p.name;this.domNode.dataset.locator=this.locator.name};g.prototype.addEventListeners=function(){var p=this;this.own((0,m.default)(this.editBtn,"click",function(){p.emit("edit",p)}),(0,m.default)(this.deleteBtn,"click",function(){p.emit("delete",p)}))};return g=a.__decorate([(0,v.default)(u.default,h.default,f.default)],g)}()})},"arcgisonline/pages/utils/dragdrop":function(){define("require exports tslib dragula/dragula dojo/query dojo/string dojo/i18n!../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m){function h(r,e){void 0===e&&(e=m.default.reorder.current);for(var v=r.parentElement.children,g=v.length,p=-1,n=0;n<v.length;n++)v[n]===r&&(p=n+1);return f.default.substitute(e,{n:p,total:g})}function u(r,e){e&&(e.textContent=r)}Object.defineProperty(M,"__esModule",{value:!0});b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);M.default={init:function(r,e){var v=e.itemClass,g=e.activeClass,p=e.handleClass,n=e.dragElement,q=e.direction,
l=e.onDrop,c=e.onDrag,d=e.liveRegion,w=e.dragulaInstance,t=e.nextKey,z=e.prevKey;e={};q&&(e.direction=q);if(p){n||(e.moves=function(x,y,A){return A.classList.contains(p)});t||(t="ArrowDown");z||(z="ArrowUp");(0,k.default)(".".concat(p),r).attr("tabindex","0");if(d)(0,k.default)(".".concat(p),r).on("focus",function(x){x=(0,k.default)(x.target).closest(".".concat(v))[0];x.classList.contains(g)||u("".concat(m.default.reorder.focus," ").concat(h(x)),d)});(0,k.default)(".".concat(p),r).on("touchmove",
function(x){x.preventDefault()});(0,k.default)(".".concat(p),r).on("keydown",function(x){var y=!1,A=x.target,B=(0,k.default)(A).closest(".".concat(v))[0],D=B.classList.contains(g);" "===x.key||"Enter"===x.key?(D?(B.classList.remove(g),l()):(B.classList.add(g),u("".concat(m.default.reorder.started," ").concat(h(B)),d)),y=!0):D&&x.key===z?(B.previousElementSibling&&(r.insertBefore(B,B.previousElementSibling),u(h(B,m.default.reorder.new),d),setTimeout(function(){A.focus()},10)),y=!0):D&&x.key===t&&B.nextElementSibling&&
(B.nextElementSibling.insertAdjacentElement("afterend",B),u(h(B,m.default.reorder.new),d),setTimeout(function(){A.focus()},10));y&&(x.preventDefault(),x.stopPropagation())})}if(w)n=w;else{n=(0,b.default)([r],e);if(l)n.on("drop",function(){l()});if(c)n.on("drag",function(){c()})}return n}}})},"arcgisonline/pages/organization/widgets/settings/GeocodingOverlay":function(){define("require exports tslib esri/request esri/lang dojo/topic dojo/on dojo/query dojo/text!./templates/GeocodingOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/string dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/pages/dijit/Overlay arcgisonline/pages/dijit/ToggleSwitch arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);return function(){function x(y,
A){this.title=r.default.addGeocoderDlg.addGeocoderTitle;this.i18n=r.default;this.overlayContents=e.default.substitute(u.default,{i18n:a.__assign(a.__assign({},this.i18n.addGeocoderDlg),{esriWorldGeocoder:this.i18n.common.esriWorldGeocoder})});this.constrain=!0;this.maxWidth=750;this.closeOnScrimClick=!1;this.background="white";this.hasEsriGeocoder=!1;this.geocoder={};this.initializingEdit=this.isEdit=this.nameEdited=!1;this.SELECTED_CLASS="org-settings__radio-option--selected"}x.prototype.postCreate=
function(){var y;this.inherited(arguments);this.worldGeocoder&&this.worldGeocoder.url.replace("http:","https:");this.saveAttachpoints();this.geosearchToggle=new d.default({label:this.i18n.addGeocoderDlg.allowPlacefinding,labelPosition:"left",labelClasses:"padding-leader-half",isChecked:!0},this.domNode.querySelector(".js-geosearch"));this.batchGeocodeToggle=new d.default({label:this.i18n.addGeocoderDlg.allowBatchGeocode,labelPosition:"left",isChecked:!0},this.domNode.querySelector(".js-batch-geocode"));
this.hasEsriGeocoder&&q.default.hideNode(this.worldOptionContainer);this.addListeners();this.existingItems=null===(y=this.portal.helperServices.geocode)||void 0===y?void 0:y.reduce(function(A,B){B.itemId&&(A[B.itemId]=!0);return A},{})};x.prototype.open=function(){this.inherited(arguments)};x.prototype.close=function(){this.inherited(arguments)};x.prototype.initAdd=function(){var y=this;return this.getAndBuildLocatorOptions().then(function(){y.handleLocatorSelectChange();y.hasEsriGeocoder?0<y.filteredLocators.length?
(y.existingOption.parentElement.classList.remove("hide"),y.existingOption.disabled=!1,y.existingOption.click()):(y.existingOption.parentElement.classList.add("hide"),y.existingOption.disabled=!0,y.urlOption.click()):y.worldOption.click()})};x.prototype.initEdit=function(y){var A=this;this.initializingEdit=!0;this.geocoder=y;this.overlayTitle.textContent=this.i18n.addGeocoderDlg.editGeocoderTitle;this.isEdit=!0;q.default.hideNode(this.worldOptionContainer);return this.getAndBuildLocatorOptions().then(function(){A.geocoder.itemId?
(A.existingOption.parentElement.classList.remove("hide"),A.existingOption.disabled=!1,A.existingOption.click(),A.existingUrlInput.value=A.geocoder.url):0===A.filteredLocators.length&&(A.existingOption.parentElement.classList.add("hide"),A.existingOption.disabled=!0,A.urlOption.click());A.newUrlInput.value=A.geocoder.url;A.nameInput.value=A.geocoder.name;A.hintInput.value=A.geocoder.placeholder;A.geosearchToggle.setChecked(!!A.geocoder.placefinding,!0);A.batchGeocodeToggle.setChecked(!!A.geocoder.batch,
!0);A.isAgoWorldLocatorProxy=A.geocoder.isAGOWorldLocator;A.locatorSelect.value=A.geocoder.itemId;A.validate();A.portal.isPortal&&(A.batchThreadsInput.value=k.default.isDefined(A.geocoder.numBatchThreads)?A.geocoder.numBatchThreads:1,A.batchThreadsInput.disabled=!A.geocoder.batch,q.default.showHide(A.batchThreadsContainer,!A.isAgoWorldLocatorProxy));A.initializingEdit=!1})};x.prototype.handlePrimary=function(){this.isAgoWorldLocatorProxy?this.geocoder.isAGOWorldLocator=!0:delete this.geocoder.isAGOWorldLocator;
this.existingOption.checked?this.geocoder.itemId=this.locatorSelect.value:delete this.geocoder.itemId;if(this.worldOption.checked)this.geocoder=this.worldGeocoder;else if(this.geocoder.placeholder=this.hintInput.value,this.geocoder.placefinding=this.geosearchToggle.checked(),this.geocoder.batch=this.batchGeocodeToggle.checked(),this.geocoder.zoomScale||(this.geocoder.zoomScale=1E4),this.portal.isPortal&&this.batchGeocodeToggle.checked()){var y=parseInt(this.batchThreadsInput.value,10);this.geocoder.numBatchThreads=
y&&0<y?y:1}f.default.publish("geocoder-".concat(this.isEdit?"altered":"added"),this.geocoder);this.close()};x.prototype.getAndBuildLocatorOptions=function(){var y=this;return this.getFederatedServers().then(function(){return y.getLocators()}).then(function(A){y.filteredLocators=y.filterOutExisting(A.results);y.buildLocatorOptions(y.filteredLocators)})};x.prototype.getFederatedServers=function(){var y=new v.default;this.portal.isPortal?this.portal.getFederatedServers().then(function(A){var B;y.resolve(null!==
(B=null===A||void 0===A?void 0:A.servers)&&void 0!==B?B:[])}):y.resolve([]);return y};x.prototype.saveAttachpoints=function(){this.worldOptionContainer=this.domNode.querySelector(".js-world-option-container");this.worldOption=this.domNode.querySelector(".js-world-option");this.urlOption=this.domNode.querySelector(".js-url-option");this.existingOption=this.domNode.querySelector(".js-existing-option");this.locatorSelectContainer=this.domNode.querySelector(".js-locator-select-container");this.locatorSelect=
this.domNode.querySelector(".js-locator-select");this.newUrlContainer=this.domNode.querySelector(".js-new-url-container");this.newUrlInput=this.domNode.querySelector(".js-new-url-input");this.newUrlInputError=this.domNode.querySelector(".js-new-url-error");this.existingUrlContainer=this.domNode.querySelector(".js-existing-url-container");this.existingUrlInput=this.domNode.querySelector(".js-existing-url-input");this.nameInput=this.domNode.querySelector(".js-name-input");this.hintInput=this.domNode.querySelector(".js-hint-input");
this.batchThreadsContainer=this.domNode.querySelector(".js-batch-threads-container");this.batchThreadsInput=this.domNode.querySelector(".js-batch-threads-input");this.newLocatorContent=this.domNode.querySelector(".js-new-locator-content")};x.prototype.buildLocatorOptions=function(y){y=y.map(function(A){var B=document.createElement("option");B.value=A.id;B.text=A.title;return B});q.default.appendChildren(y,this.locatorSelect)};x.prototype.filterOutExisting=function(y){var A=this;return y.filter(function(B){return!A.existingItems[B.id]||
A.geocoder.itemId===B.id})};x.prototype.addListeners=function(){var y=this;this.own((0,h.default)("input[name\x3dlocatorSrc]").on("change",this.handleOptionChange.bind(this)),(0,m.default)(this.nameInput,"input",function(){y.nameEdited=!0;y.handleNameChange()}),(0,m.default)(this.newUrlInput,"input",this.handleNewUrlInput.bind(this)),(0,m.default)(this.newUrlInput,"change",this.handleNewUrlChange.bind(this)),(0,m.default)(this.locatorSelect,"change",this.handleLocatorSelectChange.bind(this)))};x.prototype.handleNewUrlInput=
function(){this._primaryBtn.disabled=!0};x.prototype.handleNewUrlChange=function(){var y=this.newUrlInput.value;!this.portal.isPortal&&-1<y.indexOf("http:")&&(l.default.setInvalidState(this.newUrlInput,this.newUrlInputError,this.i18n.common.httpNotSupported),this._primaryBtn.disabled=!0);this.checkUrl(this.newUrlInput.value)};x.prototype.showErrorAndDisableSave=function(y){n.default.showAlert("error",y);this._primaryBtn.disabled=!0};x.prototype.handleNameChange=function(){this.initializingEdit||(this.geocoder.name=
this.nameInput.value,this.validate())};x.prototype.handleOptionChange=function(){(0,h.default)(".".concat(this.SELECTED_CLASS),this.domNode).removeClass(this.SELECTED_CLASS);this.isAgoWorldLocatorProxy=!1;this.hintInput.value="";q.default.showHide(this.newLocatorContent,!this.worldOption.checked);this.existingOption.checked?(this.existingOption.parentElement.classList.add(this.SELECTED_CLASS),q.default.showNode(this.locatorSelectContainer),q.default.showNode(this.existingUrlContainer),q.default.hideNode(this.newUrlContainer),
this.handleLocatorSelectChange()):this.urlOption.checked&&(this.urlOption.parentElement.classList.add(this.SELECTED_CLASS),q.default.hideNode(this.locatorSelectContainer),q.default.hideNode(this.existingUrlContainer),q.default.showNode(this.newUrlContainer),this.nameInput.value="",this.batchGeocodeToggle.enable(),this.batchGeocodeToggle.check(),this.portal.isPortal&&(this.batchThreadsInput.disabled=!1),this.handleNameChange())};x.prototype.handleLocatorSelectChange=function(){var y=this,A=this.filteredLocators.filter(function(B){return B.id===
y.locatorSelect.value})[0];A&&(this.nameEdited||(this.nameInput.value=A.title,this.handleNameChange()),this.existingUrlInput.value=A.url,this.checkUrl(A.url),this.isAgoWorldLocatorProxy=this.isAgoWorldGeocoder(A))};x.prototype.isAgoWorldGeocoder=function(y){return w.default.isServiceProxyGeocoder(y.url)&&-1<y.typeKeywords.indexOf("Geocoding filter")};x.prototype.checkUrl=function(y){var A=this;if(y)try{this.geocoder.singleLineFieldName=null;var B=w.default.isServiceProxyGeocoder(y),D=this.portal.isPortal&&
w.default.onFederatedServer(y),C=w.default.isArcGISEnterpriseOnKubernetes(),E={f:"json"};if(B||C&&D){var H=w.default.getToken();H&&(E.token=H)}var G=C&&D?this.getHostedServiceAdminUrl(y):y;(0,b.default)({url:G,content:E,timeout:5E3,callbackParamName:"callback"},{useProxy:this.useProxyForRequest(G),disableIdentityLookup:!B&&!D}).then(function(F){var I,J;if((null===F||void 0===F?0:F.spatialReference)&&F.locatorProperties){A.geocoder.url=A.cleanUrl(y);if(null===(I=F.singleLineAddressField)||void 0===
I?0:I.name)A.geocoder.singleLineFieldName=F.singleLineAddressField.name;k.default.isDefined(F.locatorProperties.MaxBatchSize)&&0===F.locatorProperties.MaxBatchSize?(A.batchGeocodeToggle.uncheck(),A.batchGeocodeToggle.disable(),A.portal.isPortal&&(A.batchThreadsInput.disabled=!0)):(A.batchGeocodeToggle.enable(),A.portal.isPortal&&(A.batchThreadsInput.disabled=!A.batchGeocodeToggle.checked()));k.default.isDefined(F.currentVersion)&&!(10.1>F.currentVersion)&&k.default.isDefined(A.geocoder.url)&&0!==
A.geocoder.url.length&&k.default.isDefined(A.geocoder.singleLineFieldName)&&0!==A.geocoder.singleLineFieldName.length||A.showErrorAndDisableSave(A.i18n.addGeocoderDlg.incompatibleGeocoderUrl);A.geocoder.suggest=-1<(null===(J=F.capabilities)||void 0===J?void 0:J.split(",").indexOf("Suggest"));A.portal.isPortal&&(A.geocoder.isAGOWorldLocator=F.locatorProperties.isAGOWorldLocator);A.portal.isPortal&&w.default.isServiceProxyGeocoder(A.geocoder.url)?A.determineIfEsriGeocoderThroughProxy():A.validate()}else A.showErrorAndDisableSave(A.i18n.addGeocoderDlg.invalidGeocoderUrl)},
function(F){(null===F||void 0===F?0:F.code)&&(499===F.code||498===F.code)?A.showErrorAndDisableSave(A.i18n.addGeocoderDlg.securedGeocoderUrl):(0,b.default)({url:G,content:E,timeout:5E3,callbackParamName:"callback"},{useProxy:!1,disableIdentityLookup:!B&&!D}).then(function(I){var J;if((null===I||void 0===I?0:I.spatialReference)&&I.locatorProperties){A.geocoder.url=A.cleanUrl(y);if(null===(J=I.singleLineAddressField)||void 0===J?0:J.name)A.geocoder.singleLineFieldName=I.singleLineAddressField.name;
A.batchGeocodeToggle.uncheck();A.batchGeocodeToggle.disable();A.portal.isPortal&&(A.batchThreadsInput.disabled=!0);k.default.isDefined(I.currentVersion)&&!(10.1>I.currentVersion)&&k.default.isDefined(A.geocoder.url)&&0!==A.geocoder.url.length&&k.default.isDefined(A.geocoder.singleLineFieldName)&&0!==A.geocoder.singleLineFieldName.length||A.showErrorAndDisableSave(A.i18n.addGeocoderDlg.incompatibleGeocoderUrl);I.capabilities&&-1<I.capabilities.split(",").indexOf("Suggest")&&(A.geocoder.suggest=!0);
A.validate()}else A.showErrorAndDisableSave(A.i18n.addGeocoderDlg.invalidGeocoderUrl)},function(I){var J=A.i18n.addGeocoderDlg.invalidGeocoderUrl;(null===I||void 0===I?0:I.code)&&(499===I.code||498===I.code)&&(J=A.i18n.addGeocoderDlg.securedGeocoderUrl);A.showErrorAndDisableSave(J)})})}catch(F){this.showErrorAndDisableSave(this.i18n.addGeocoderDlg.invalidGeocoderUrl)}};x.prototype.determineIfEsriGeocoderThroughProxy=function(){var y=this;w.default.request({url:"".concat(t.default.restBaseUrl,"search"),
content:{q:"orgid:".concat(this.portal.id," type:'Geocode Service' typekeywords:'Geocoding Service' typekeywords:'Service Proxy'"),start:1,num:100}}).then(function(A){var B;if(null===A||void 0===A?0:A.results)for(var D=void 0,C=0;C<A.results.length;C++)if(D=A.results[C],D.url&&y.cleanUrl(D.url)===y.geocoder.url&&-1<(null===(B=D.sourceUrl)||void 0===B?void 0:B.toLowerCase().indexOf("arcgis.com/arcgis/rest/services/world/geocodeserver"))){y.geocoder.isAGOWorldLocator=!0;y.geocoder.suggest=!0;break}y.validate()},
function(){y.validate()})};x.prototype.validate=function(){var y,A,B;this.toggleForWorldLocatorProxy();this._primaryBtn.disabled=!(0<(null===(y=this.geocoder.url)||void 0===y?void 0:y.length)&&0<(null===(A=this.geocoder.name)||void 0===A?void 0:A.length)&&0<(null===(B=this.geocoder.singleLineFieldName)||void 0===B?void 0:B.length))};x.prototype.toggleForWorldLocatorProxy=function(){this.isAgoWorldLocatorProxy=this.geocoder.isAGOWorldLocator;q.default.showHide(this.batchThreadsContainer,this.portal.isPortal&&
!this.isAgoWorldLocatorProxy)};x.prototype.cleanUrl=function(y){return y?y.replace(/\s/g,"%20"):""};x.prototype.useProxyForRequest=function(y,A){var B=this.portal.isPortal,D=this.portal.isWebTierAuth;return k.default.isDefined(A)?A:B?!(D&&w.default.isServiceProxyGeocoder(y)):!0};x.prototype.getHostedServiceAdminUrl=function(y){for(var A=t.default.federatedServers||[],B=0;B<A.length;B++){var D=A[B];if(-1<y.indexOf(D.url)){A=D.url.lastIndexOf("/")===D.url.length-1;B=D.adminUrl.lastIndexOf("/")===D.adminUrl.length-
1;var C=D.url;D=D.adminUrl;B&&!A?C="".concat(C,"/"):A&&!B&&(D="".concat(D,"/"));return y.replace(C,D)}}return y};x.prototype.getLocators=function(){return w.default.request({url:"".concat(t.default.restBaseUrl,"search"),content:{q:"orgid:".concat(this.portal.id," AND type:'Geocoding Service' AND typekeywords:'Locator Service' AND (access:org OR access:public)"),start:1,num:100}})};return x=a.__decorate([(0,z.default)(p.default,g.default,c.default)],x)}()})},"arcgisonline/pages/organization/widgets/settings/rows/GeoEnrichmentServiceRow":function(){define("require exports tslib ./BasicUtilityServiceRow ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.SERVICE_KEY="geoenrichment"}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),m.default.utilityServicesTab.geoenrichment);this.mustUseProxy=!this.portal.isPortal};h.prototype.getUpdatePayload=function(u){var r=k.default.getClearEmptyFieldsStateForHelperService(u);return{geoenrichmentService:JSON.stringify(u),
clearEmptyFields:r}};h.prototype.serviceValidates=function(u,r){return!!(-1<u.toLowerCase().indexOf("/geoenrichmentserver")&&r)};return h=a.__decorate([(0,f.default)(b.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/BasicUtilityServiceRow":function(){define("require exports tslib ../../../../serviceUtil ./SettingsRow ../../../../utils/keys ../../../../utils/alerts ../../../../utils/strings ../../../../utils/validation ../../../../../tsutils/declareDecorator ../../../../../sharing/util dojo/Deferred dojo/on dojo/topic esri/lang esri/request dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),l.default.common),l.default.utilityServicesTab);
this.valueType="text";this.hasError=!1}c.prototype.render=function(){this.textbox=document.createElement("input");this.textbox.type="text";this.textbox.placeholder="";this._formContent.appendChild(this.textbox);this.inputError=document.createElement("div");this.inputError.classList.add("input-error-message");this._formContent.appendChild(this.inputError);this.exampleEl=document.createElement("label");this.exampleEl.className="org-settings__example";this.exampleEl.textContent="".concat(this.i18n.exampleLabel,
" ").concat(this.i18n.exampleService);this._formContent.appendChild(this.exampleEl);this.service=this.value;this.inherited(arguments)};c.prototype.addEventListeners=function(){var d=this;this.inherited(arguments);this.own((0,g.default)(this.textbox,"blur",function(){return d.validates()}),(0,g.default)(this.textbox,"keyup",function(w){w.keyCode===f.default.ENTER&&d.validates()&&d.save()}),(0,g.default)(this.textbox,"change",this.handleTextboxChange.bind(this)),p.default.subscribe("configure-helperServices",
this.servicesUpdated.bind(this)))};c.prototype.updateDisplayValue=function(d,w,t){this.inherited(arguments);this.service=d;var z=this.portal.selfNoAuth,x=!this.portal.isPortal;x&&(this.textbox.placeholder=this.i18n.esriDefault);if(d){var y=d;x&&y.url&&e.default.isSameUrl(y.url,z.helperServices[this.SERVICE_KEY].url,!0)?this._displayValue.textContent=this.i18n.esriDefault:(this._displayValue.textContent=y.url,this.textbox.value=y.url)}else this._displayValue.textContent=x&&t?this.i18n.esriDefault:
""};c.prototype.validates=function(){var d=this.textbox.value;if(!this.portal.isPortal&&-1<d.indexOf("http:"))return u.default.setInvalidState(this.textbox,this.inputError,this.i18n.httpWarning),!1;u.default.clearState([this.textbox,this.inputError]);return!0};c.prototype.save=function(){var d=this;this.changeRequest?this.changeRequest.then(function(){d.proceedToSave()}):this.proceedToSave()};c.prototype.resetFormValues=function(){this.inherited(arguments);u.default.clearState([this.textbox,this.inputError])};
c.prototype.servicesUpdated=function(d){var w=!1;d&&d[this.SERVICE_KEY]&&(this.portal.helperServices[this.SERVICE_KEY]=d[this.SERVICE_KEY],this.service=this.value=d[this.SERVICE_KEY],w=!0);w&&this.updateDisplayValue(this.value)};c.prototype.proceedToSave=function(){var d=this;if(this.hasError)this.toggleEdit(!1);else{var w=this.service?this.service:"";n.default.isDefined(w)?this.updateSetting(this.getUpdatePayload(w),this.i18n.error,this.i18n.success).then(function(){p.default.publish("helper-services/update");
var t=!d.portal.isPortal&&""===w;d.value=w;d.updateDisplayValue(d.value,!1,t);d.toggleEdit(!1)}):this.toggleEdit(!1)}};c.prototype.handleTextboxChange=function(){var d=this;this.changeRequest=new v.default;var w=this.textbox.value;if(w&&this.validates()){var t=this.i18n.invalidServerUrl;try{var z={f:"json"},x=this.mustUseProxy;b.default.isServiceProxy(w)&&(z.token=e.default.getToken());(0,q.default)({url:w,content:z,timeout:5E3,callbackParamName:"callback"},{useProxy:x}).then(function(y){d.serviceValidates(w,
y)?(d.service={url:h.default.encodeWhitespace(w)},d.hasError=!1):(m.default.showAlert("error",t),d.service=null,d.hasError=!0);d.changeRequest.resolve()},function(){m.default.showAlert("error",t);d.service=null;d.hasError=!0;d.changeRequest.resolve()})}catch(y){m.default.showAlert("error",t),this.service=null,this.hasError=!0,this.changeRequest.resolve()}}else this.service=null,this.hasError=!1,this.changeRequest.resolve()};return c=a.__decorate([(0,r.default)(k.default)],c)}()})},"arcgisonline/pages/organization/widgets/settings/rows/GeometryServiceRow":function(){define("require exports tslib ./BasicUtilityServiceRow ../../../../utils/organization ../../../../../tsutils/declareDecorator esri/lang dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.SERVICE_KEY="geometry"}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),h.default.utilityServicesTab.geometry)};u.prototype.getUpdatePayload=function(r){var e=k.default.getClearEmptyFieldsStateForHelperService(r);return{geometryService:JSON.stringify(r),clearEmptyFields:e}};
u.prototype.serviceValidates=function(r,e){return!!(-1<r.indexOf("/GeometryServer")&&e&&m.default.isDefined(e.serviceDescription))};return u=a.__decorate([(0,f.default)(b.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/HydrologyServiceRow":function(){define("require exports tslib ./BasicUtilityServiceRow ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.SERVICE_KEY="hydrology"}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),m.default.utilityServicesTab.hydrology)};h.prototype.getUpdatePayload=function(u){var r=k.default.getClearEmptyFieldsStateForHelperService(u);return{hydrologyService:JSON.stringify(u),clearEmptyFields:r}};h.prototype.serviceValidates=function(u,r){return!!(-1<
u.indexOf("/GPServer")&&r&&"esriExecutionTypeAsynchronous"===r.executionType&&r.tasks&&2<=r.tasks.length&&-1<r.tasks.indexOf("Watershed")&&-1<r.tasks.indexOf("TraceDownstream"))};return h=a.__decorate([(0,f.default)(b.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/NetworkServiceRow":function(){define("require exports tslib ./SettingsRow ../../../../../tsutils/declareDecorator preact arcgisonline/pages/organization/widgets/settings/rows/routingService/RoutingApp".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);m=a.__importDefault(m);return function(){function h(u,r){}h.prototype.render=function(){var u=document.createElement("div");u.id="routing-service-btn-wrapper";this._valueContainer.insertAdjacentElement("afterend",u);this.renderRoutingServiceApp(!1)};h.prototype.destroy=function(){(0,f.render)(null,this.domNode.querySelector("#routing-service-btn-wrapper"));this.inherited(arguments)};h.prototype.renderRoutingServiceApp=function(u){(0,f.render)((0,f.h)(m.default,
{portal:this.portal,startOnPremiseCheck:u}),this.domNode.querySelector("#routing-service-btn-wrapper"))};h.prototype.startOnPremiseStatusCheck=function(){this.renderRoutingServiceApp(!0)};return h=a.__decorate([(0,k.default)(b.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/RoutingApp":function(){define("require exports tslib preact preact/hooks calcite-web/js/calcite-web ./RoutingConfigModal ./RoutingDetailsModal ./NotificationModal arcgisonline/pages/components/BodyAppender arcgisonline/esriGeowConfig arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline ./RoutingServiceHelper".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){var n=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);M.default=function(q){var l,c,d=q.portal;q=q.startOnPremiseCheck;var w=void 0===q?!1:q,t=g.default.configureRoutingServices,z=new p.default,x=(0,k.useRef)(null),y=(0,k.useState)(!1);q=y[0];var A=y[1];
y=function(){A(!1);F(!1)};var B=(0,k.useState)(!1),D=B[0],C=B[1],E=function(){return C(!0)};B=function(){return C(!1)};var H=(0,k.useState)(!1),G=H[0],F=H[1],I=function(){F(!0);A(!0)},J=(0,k.useState)(!1);H=J[0];var K=J[1];J=(0,k.useState)(!1);var P=J[0],T=J[1];J=(0,k.useState)(null);var S=J[0],L=J[1],N=(0,k.useState)();J=N[0];var O=N[1],Q=(0,k.useState)();N=Q[0];var V=Q[1];Q=(0,k.useState)();var X=Q[0],Z=Q[1],ca=(0,k.useState)(null);Q=ca[0];var R=ca[1],Y=(0,k.useState)(!1);ca=Y[0];var ba=Y[1];Y=
(0,k.useState)();var aa=Y[0],W=Y[1];Y=(0,k.useState)(!1);var da=Y[0],ea=Y[1],ja=(0,k.useState)();Y=ja[0];var fa=ja[1],ha=(0,k.useState)();ja=ha[0];var la=ha[1],ka=(0,k.useState)(!1);ha=ka[0];var ia=ka[1],ma=(0,k.useState)(!1);ka=ma[0];var na=ma[1];ma=(0,k.useState)(!1);var pa=ma[0],sa=ma[1],ta=(0,k.useState)(!1);ma=ta[0];var oa=ta[1],qa=(0,k.useState)({alertIndicatorActive:!1,alertIndicatorColor:"danger",alertIndicatorInfo:""});ta=qa[0];var ua=qa[1],ra=function(xa){ua(xa);oa(!0)},va=function(){return oa(!1)};
(0,k.useEffect)(function(){var xa=e.default.self.helperServices.routingServicesSource;(null===xa||void 0===xa?0:xa.sourceName)&&K(!0);L(xa)},[]);(0,k.useEffect)(function(){w&&La()},[w]);(0,k.useEffect)(function(){return function(){aa&&clearInterval(aa)}},[aa]);(0,k.useEffect)(function(){var xa;"ArcGISEnterprise"!==(null===S||void 0===S?void 0:S.sourceName)&&null!==S&&void 0!==S&&S.sourceName||((null===(xa=null===S||void 0===S?void 0:S.networkDataset)||void 0===xa?0:xa.datastoreId)&&function(){return a.__awaiter(n,
void 0,void 0,function(){var Aa,Da;return a.__generator(this,function(Ba){switch(Ba.label){case 0:return Ba.trys.push([0,2,,3]),Aa=S.networkDataset.datastoreId,[4,z.getDatastoreItemInfo(Aa)];case 1:return Da=Ba.sent(),O(Da.title),[3,3];case 2:return Ba.sent(),[3,3];case 3:return[2]}})})}(),(null===S||void 0===S?0:S.trafficDataServiceItemId)&&function(){return a.__awaiter(n,void 0,void 0,function(){var Aa,Da,Ba,Ga;return a.__generator(this,function(Ea){switch(Ea.label){case 0:return Ea.trys.push([0,
2,,3]),Aa=S.trafficDataServiceItemId,Da="".concat(e.default.baseUrl,"item.html?id\x3d").concat(Aa),[4,z.getItemById(Aa)];case 1:return Ba=Ea.sent(),Ga=a.__assign(a.__assign({},Ba),{itemUrl:Da}),V(Ga),[3,3];case 2:return Ea.sent(),[3,3];case 3:return[2]}})})}());"ArcGISEnterprise"===(null===S||void 0===S?void 0:S.sourceName)&&function(){return a.__awaiter(n,void 0,void 0,function(){var Aa,Da,Ba,Ga,Ea,Ja,Ma,Na;return a.__generator(this,function(Oa){switch(Oa.label){case 0:return Oa.trys.push([0,2,,
3]),Aa="".concat(S.serverUrl,"/admin"),[4,v.default.request({url:Aa})];case 1:return Da=Oa.sent(),Ba=null===Da||void 0===Da?void 0:Da.fullVersion,Ga=null===S||void 0===S?void 0:S.serverVersion,Ea="10.0.0"===Ga&&"11.0.0">Ba,Ba>Ga&&!Ea&&(ba(!0),Ja='\x3ca href\x3d"'.concat(z.getHelpLink(120003722),'" target\x3d"_blank"\x3e'),Ma=d.isKubernetes()?t.routingServiceUpgradeInfoK8S:t.routingServiceUpgradeInfoWL,Na=Ma.replace("${linkStart}",Ja).replace("${linkEnd}","\x3c/a\x3e"),R((0,b.h)("div",{dangerouslySetInnerHTML:{__html:Na}}))),
[3,3];case 2:return Oa.sent(),[3,3];case 3:return[2]}})})}();f.default.dropdown()},[S]);(0,k.useEffect)(function(){pa&&x.current&&x.current.focus()},[pa]);var za=function(){return a.__awaiter(n,void 0,void 0,function(){var xa,Aa,Da,Ba,Ga,Ea,Ja,Ma,Na,Oa,Qa,Ha,Ta,Va;return a.__generator(this,function(Ka){switch(Ka.label){case 0:xa="".concat(e.default.restBaseUrl,"content/users/"),Aa="items/",Da="/delete",Ma=[],Na=[],Ka.label=1;case 1:return Ka.trys.push([1,15,,16]),Fa(),[4,z.fetchHelperServices()];
case 2:Oa=Ka.sent(),Qa=null===Oa||void 0===Oa?void 0:Oa.helperServices,Ha=z.parseHelperServices(Qa),Ka.label=3;case 3:return Ka.trys.push([3,13,,14]),[4,z.getItemsById(Ha)];case 4:Ta=Ka.sent();Qa=z.emptyHelperUrls(Qa);Ta.forEach(function(Sa){Ba=Sa.id;Ga=Sa.owner;Ea=Sa.folder;Ja="".concat(xa+Ga,"/")+(Ea?"".concat(Ea,"/"):"")+Aa;Ma.push(Ja+Ba+Da);Na.push(z.unprotectItem(Ba,Ga,Ea))});if(null===Na||void 0===Na||!Na.length)return wa(Qa),[2];Ka.label=5;case 5:return Ka.trys.push([5,11,,12]),[4,Promise.all(Na)];
case 6:Ka.sent(),Va=[],Ma.map(function(Sa){Va.push(v.default.request({url:Sa},{useProxy:v.default.shouldUseProxy(Sa),usePost:!0}))}),Ka.label=7;case 7:return Ka.trys.push([7,9,,10]),[4,Promise.all(Va)];case 8:return Ka.sent(),wa(Qa),[3,10];case 9:return Ka.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"blue",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.deleteProxyItemError}),[3,10];case 10:return[3,12];case 11:return Ka.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"blue",
alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.unprotectProxyItemError}),[3,12];case 12:return[3,14];case 13:return Ka.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"blue",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.retrieveProxyItemError}),[3,14];case 14:return[3,16];case 15:return Ka.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.fetchUpdatedRoutingServiceError}),[3,16];case 16:return[2]}})})},
Ca=function(){return a.__awaiter(n,void 0,void 0,function(){var xa,Aa;return a.__generator(this,function(Da){switch(Da.label){case 0:return Da.trys.push([0,2,,3]),Fa(),[4,z.fetchHelperServices()];case 1:return xa=Da.sent(),Aa=null===xa||void 0===xa?void 0:xa.helperServices,Aa=z.emptyHelperUrls(Aa),wa(Aa),[3,3];case 2:return Da.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.fetchUpdatedRoutingServiceError}),[3,3];case 3:return[2]}})})},
wa=function(xa){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(Aa){switch(Aa.label){case 0:va(),Aa.label=1;case 1:return Aa.trys.push([1,3,,4]),xa.routingServicesSource={},xa=z.emptyHelperUrls(xa),[4,z.updateRoutingService(xa)];case 2:return Aa.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"green",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.removedRoutingServices}),K(!1),L(xa.routingServicesSource),[3,4];case 3:return Aa.sent(),ra({alertIndicatorActive:!0,
alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.publishRoutingServiceError}),[3,4];case 4:return[2]}})})},ya=function(){return a.__awaiter(n,void 0,void 0,function(){var xa,Aa,Da,Ba,Ga,Ea,Ja,Ma,Na,Oa,Qa;return a.__generator(this,function(Ha){switch(Ha.label){case 0:return Ha.trys.push([0,26,,27]),Fa(),[4,z.fetchHelperServices()];case 1:xa=Ha.sent(),Aa=null===xa||void 0===xa?void 0:xa.helperServices,Da=z.getServiceFolder(Aa),Ha.label=2;case 2:return Ha.trys.push([2,
10,,25]),Ba="".concat(S.serverUrl,"/admin/services/").concat(Da,"/deleteFolder"),[4,v.default.request({url:Ba},{useProxy:v.default.shouldUseProxy(Ba),usePost:!0})];case 3:Ga=Ha.sent();if("success"!==Ga.status)return[3,8];wa(Aa);Z(null);Ha.label=4;case 4:return Ha.trys.push([4,6,,7]),Ea="".concat(e.default.restBaseUrl,"portals/").concat(e.default.portal.id,"/removeResource"),Ja={key:"publishroutingservices_status.json"},[4,v.default.request({url:Ea,content:Ja},{usePost:!0}).promise];case 5:return Ha.sent(),
[3,7];case 6:return Ha.sent(),[3,7];case 7:return[3,9];case 8:ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.fetchServiceFolderError}),Ha.label=9;case 9:return[3,25];case 10:Ha.sent(),Ha.label=11;case 11:return Ha.trys.push([11,23,,24]),Ba=e.default.restBaseUrl+"portals/self/servers",[4,v.default.request({url:Ba},{useProxy:v.default.shouldUseProxy(Ba)})];case 12:Ga=Ha.sent(),Ga.servers.forEach(function(Ta){Ta.url===S.serverUrl&&
(Ma=Ta.adminUrl)}),Ha.label=13;case 13:return Ha.trys.push([13,21,,22]),Na="".concat(Ma,"/admin/services/").concat(Da,"/deleteFolder"),[4,v.default.request({url:Na},{useProxy:v.default.shouldUseProxy(Na),usePost:!0})];case 14:Oa=Ha.sent();if("success"!==Oa.status)return[3,19];wa(Aa);Z(null);Ha.label=15;case 15:return Ha.trys.push([15,17,,18]),Qa="".concat(e.default.restBaseUrl,"portals/").concat(e.default.portal.id,"/removeResource"),Ja={key:"publishroutingservices_status.json"},[4,v.default.request({url:Qa,
content:Ja},{usePost:!0}).promise];case 16:return Ha.sent(),[3,18];case 17:return Ha.sent(),[3,18];case 18:return[3,20];case 19:ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.fetchServiceFolderError}),Ha.label=20;case 20:return[3,22];case 21:return Ha.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.deleteServiceFolderError}),[3,22];case 22:return[3,
24];case 23:return Ha.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.deleteServiceFolderError}),[3,24];case 24:return[3,25];case 25:return[3,27];case 26:return Ha.sent(),ra({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.fetchUpdatedRoutingServiceError}),[3,27];case 27:return[2]}})})},Fa=function(){ra({alertIndicatorActive:!0,alertIndicatorColor:"blue",
alertIndicatorInfo:t.notificationIndicator.alertIndicatorInfo.removingRoutingServices})},La=function(xa){void 0===xa&&(xa="check");var Aa=Date.now(),Da=function(){return a.__awaiter(n,void 0,void 0,function(){var Ga,Ea,Ja;return a.__generator(this,function(Ma){switch(Ma.label){case 0:return Ma.trys.push([0,2,,3]),!da&&12E4<=Date.now()-Aa&&(clearInterval(Ba),Ba=setInterval(Da,3E4),W(Ba),ea(!0)),Ga="".concat(e.default.restBaseUrl,"portals/").concat(e.default.portal.id,"/resources/publishroutingservices_status.json"),
[4,v.default.request({url:Ga},{useProxy:v.default.shouldUseProxy(Ga)})];case 1:return Ea=Ma.sent(),"esriJobExecuting"===Ea.jobStatus?(T(!0),432E5<=Date.now()-Ea.jobStartTime?(clearInterval(Ba),Z({jobStatus:"esriJobFailed",messages:[{type:"esriJobMessageTypeError",code:30206,description:"An unexpected error occurred during tool execution.",parameters:[]}]}),T(!1)):Z(Ea)):"esriJobSucceeded"===Ea.jobStatus?(K(!0),T(!1),clearInterval(Ba),Ia(Ea)):"esriJobFailed"===Ea.jobStatus&&(clearInterval(Ba),T(!1),
Z(Ea)),[3,3];case 2:return Ja=Ma.sent(),"check"===xa&&"ORG_1065"===(null===Ja||void 0===Ja?void 0:Ja.messageCode)&&clearInterval(Ba),[3,3];case 3:return[2]}})})},Ba=setInterval(Da,2E3);W(Ba)},Ia=function(xa){return a.__awaiter(n,void 0,void 0,function(){var Aa,Da,Ba,Ga;return a.__generator(this,function(Ea){switch(Ea.label){case 0:return Ea.trys.push([0,2,,3]),[4,z.fetchHelperServices()];case 1:return Aa=Ea.sent(),Da=null===(Ga=null===Aa||void 0===Aa?void 0:Aa.helperServices)||void 0===Ga?void 0:
Ga.routingServicesSource,Ba=null===Da||void 0===Da?void 0:Da.sourceName,"ArcGISEnterprise"===Ba&&(Z(xa),L(Da)),[3,3];case 2:return Ea.sent(),[3,3];case 3:return[2]}})})},Ra=function(xa){xa=xa.map(function(Aa){return(0,b.h)("li",{key:Aa},Aa)});fa(xa);ia(!0)},Pa=function(xa){return(0,b.h)("div",{class:"routing-service-warnings-wrapper flex flex-align-center"},(0,b.h)("div",{class:"padding-1"},(0,b.h)("calcite-icon",{class:"routing-service-warnings-icon",icon:"exclamationMarkTriangle",scale:"m"})),(0,b.h)("div",
{class:"padding-leader-1 padding-trailer-1 margin-right-2 margin-left-quarter"},1===xa.length&&xa[0],1<xa.length&&(0,b.h)(b.Fragment,null,xa.length," ",t.onpremise.detectedIssues," ",(0,b.h)("calcite-link",{class:"view-warning-msg",onClick:function(){return Ra(xa)}},t.onpremise.viewAllWarnings))))},Ua=function(xa){xa=xa.map(function(Aa){return(0,b.h)("li",{key:Aa},Aa)});la(xa);na(!0)},Ya=function(xa){var Aa=[];null===xa||void 0===xa?void 0:xa.messages.forEach(function(Ba){null!==Ba&&void 0!==Ba&&
Ba.code&&"esriJobMessageTypeWarning"===Ba.type&&30273!==Ba.code&&Aa.push(null===Ba||void 0===Ba?void 0:Ba.description)});var Da=[];null===xa||void 0===xa?void 0:xa.messages.forEach(function(Ba){var Ga=Ba.code;if(null!==Ba&&void 0!==Ba&&Ba.code&&"esriJobMessageTypeError"===Ba.type&&30274!==Ga){Ba=null===Ba||void 0===Ba?void 0:Ba.parameters;var Ea=Object.keys(Ba).length;Ga=t.onpremise.routingServiceErrors[Ga];var Ja=void 0;0===Ea?Ja=Ga:1===Ea?Ja=Ga.replace("${name}",Ba.argument1):2===Ea&&(Ja=Ga.replace("${name_1}",
Ba.argument1).replace("${name_2}",Ba.argument2));Da.push(Ja)}});return(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"routing-service-errors-wrapper flex flex-align-center"},(0,b.h)("div",{class:"padding-1"},(0,b.h)("calcite-icon",{class:"routing-service-errors-icon",icon:"exclamationMarkTriangle",scale:"m"})),(0,b.h)("div",{class:"padding-leader-1 padding-trailer-1 margin-right-2 margin-left-quarter"},1===(null===Da||void 0===Da?void 0:Da.length)&&Da[0],1<(null===Da||void 0===Da?void 0:Da.length)&&
(0,b.h)(b.Fragment,null,Da.length," ",t.onpremise.detectedIssues," ",(0,b.h)("a",{class:"view-error-msg",onClick:function(){return Ua(Da)}},t.onpremise.viewAllErrors)))),!Aa.length||Pa(Aa))},Xa=function(){return(0,b.h)("calcite-link",{href:"".concat(e.default.restBaseUrl,"portals/").concat(e.default.portal.id,"/resources/publishroutingservices_status.json?f\x3dpjson"),target:"_blank"},t.onpremise.orgResourceLabel)};qa=function(){if("esriJobExecuting"===(null===X||void 0===X?void 0:X.jobStatus))return(0,b.h)("div",
{class:"routing-service-status"},(0,b.h)("div",null,(0,b.h)("calcite-loader",{label:"savingManifest",scale:"l",inline:!0}),(0,b.h)("span",null,t.onpremise.publishingMessage)));if("esriJobSucceeded"===(null===X||void 0===X?void 0:X.jobStatus)){var xa=[];X.messages.forEach(function(Aa){(null===Aa||void 0===Aa?0:Aa.code)&&"esriJobMessageTypeWarning"===Aa.type&&xa.push(null===Aa||void 0===Aa?void 0:Aa.description)});return!xa.length||(0,b.h)("div",{class:"routing-service-status"},(0,b.h)("div",null,t.onpremise.publishWarningLabel,
"\u00a0",(0,b.h)("calcite-link",{href:"".concat(z.getHelpLink(120003688),"#ESRI_SECTION2_AB689F7FC8444309B956A836A4954E82"),target:"_blank"},t.onpremise.learnIssuesLink)),Pa(xa),Xa())}if("esriJobFailed"===(null===X||void 0===X?void 0:X.jobStatus))return(0,b.h)("div",{class:"routing-service-status"},(0,b.h)("div",null,t.onpremise.publishFailureLabel,"\u00a0",(0,b.h)("calcite-link",{href:"".concat(z.getHelpLink(120003688),"#ESRI_SECTION2_AB689F7FC8444309B956A836A4954E82"),target:"_blank"},t.onpremise.learnIssuesLink)),
Ya(X),Xa())};var Wa=function(xa){var Aa=g.default.configureRoutingServices;return(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("div",{class:"flex-1 font-size--1 text-ellipsis padding-trailer-quarter"},Aa.routingServicesSource,":"," ",xa&&"ArcGISEnterprise"!==xa?null===S||void 0===S?void 0:S.sourceName:null===S||void 0===S?void 0:S.serverUrl),(0,b.h)("div",{class:"dropdown js-dropdown",role:"menu"},(0,b.h)("button",{class:"btn btn-link btn-link-darker-gray dropdown-btn js-dropdown-toggle",
"aria-expanded":"false"},(0,b.h)("span",{class:"icon-ui-handle-horizontal"})),(0,b.h)("nav",{class:"dropdown-menu dropdown-right",role:"menu"},"ArcGISOnline"===xa&&(0,b.h)(b.Fragment,null,(0,b.h)("button",{class:"dropdown-link",role:"menuitem",onClick:E},Aa.viewRoutingServices),(0,b.h)("button",{class:"dropdown-link",role:"menuitem",onClick:za},Aa.deleteRoutingServices)),!xa||"ArcGISEnterprise"===xa&&(0,b.h)(b.Fragment,null,(0,b.h)("button",{class:"dropdown-link",role:"menuitem",onClick:E},Aa.viewRoutingServices),
(0,b.h)("button",{class:"dropdown-link",role:"menuitem",disabled:P,onClick:ya},Aa.deleteRoutingServices)),"Custom"===xa&&(0,b.h)(b.Fragment,null,(0,b.h)("button",{class:"dropdown-link",role:"menuitem",onClick:I},Aa.editRoutingServices),(0,b.h)("button",{class:"dropdown-link",role:"menuitem",onClick:Ca},Aa.removeRoutingServices)))))},Za=function(){var xa=t.helper;return(0,b.h)(b.Fragment,null,(0,b.h)("div",{id:"routing-service-dataset-path-helper",class:"js-modal modal-overlay ".concat(pa?"is-active":
""),"data-modal":"helpinfo"},(0,b.h)("div",{class:"modal-content column-12",role:"dialog","aria-labelledby":"modal"},(0,b.h)("a",{ref:x,class:"js-modal-toggle right",href:"javascript:void(0)","aria-label":xa.modalCloseIcon,onClick:function(){return sa(!1)}},(0,b.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 32 32",class:"svg-icon"},(0,b.h)("path",{d:"M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"}))),
(0,b.h)("div",{class:"padding-right-2"},(0,b.h)("p",null,xa.pathDescription,(0,b.h)("a",{href:"https://pro.arcgis.com/en/pro-app/latest/help/analysis/networks/what-is-network-dataset-.htm",target:"_blank"}," ".concat(xa.pathHelpLink))),(0,b.h)("p",null,(0,b.h)("b",null,xa.folderDatastoreExample),(0,b.h)("div",{class:"dataset-relative-path flex"},(0,b.h)("div",{class:"margin-right-4 padding-left-quarter padding-right-quarter padding-leader-quarter padding-trailer-quarter"},(0,b.h)("div",{class:"routing-service-helper-dataset-path margin-left-3 margin-right-3 padding-left-quarter padding-right-quarter"},
"C:\\data"),(0,b.h)("div",{class:"routing-service-vertical-separator"}),(0,b.h)("div",{class:"routing-service-helper-desc-format"},xa.datastoreServerPath)),(0,b.h)("div",{class:"margin-left-4 padding-left-quarter padding-right-quarter padding-leader-quarter padding-trailer-quarter"},(0,b.h)("div",{class:"routing-service-helper-dataset-path"},"\\street\\NorthAmerica.gdb\\Routing\\Routing_ND"),(0,b.h)("div",{class:"routing-service-vertical-separator"}),(0,b.h)("div",{class:"routing-service-helper-desc-format"},
xa.networkRelativePath)))),(0,b.h)("p",null,(0,b.h)("b",null,xa.databaseDatastoreExample),(0,b.h)("div",{class:"dataset-relative-path flex"},(0,b.h)("div",{class:"margin-right-3 padding-left-quarter padding-right-quarter padding-leader-quarter padding-trailer-quarter"},(0,b.h)("div",{class:"routing-service-helper-dataset-path margin-left-2 margin-right-2 padding-left-quarter padding-right-quarter"},xa.databaseConnection),(0,b.h)("div",{class:"routing-service-vertical-separator"}),(0,b.h)("div",{class:"routing-service-helper-desc-format"},
xa.datastoreConnection)),(0,b.h)("div",{class:"margin-left-2 padding-left-quarter padding-right-quarter padding-leader-quarter padding-trailer-quarter"},(0,b.h)("div",{class:"routing-service-helper-dataset-path margin-left-2 margin-right-2 routing-service-h"},"Routing/Routing_ND"),(0,b.h)("div",{class:"routing-service-vertical-separator"}),(0,b.h)("div",{class:"routing-service-helper-desc-format"},xa.networkRelativePath))))))))};return(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"routing-service-btn trailer-half"},
(0,b.h)("button",{"aria-label":g.default.configureRoutingServices.label.openRoutingConfigModal,class:"btn btn-clear",id:"routing-service-btn",onClick:function(){return A(!0)},disabled:P},H||ca?g.default.configureRoutingServices.updateRoutingServices:g.default.configureRoutingServices.configureRoutingServices),ca&&(0,b.h)("div",{class:"routing-service-warnings-wrapper flex flex-align-center"},(0,b.h)("div",{class:"padding-1"},(0,b.h)("calcite-icon",{class:"routing-service-warnings-icon",icon:"exclamationMarkTriangle",
scale:"m"})),(0,b.h)("div",{class:"padding-leader-1 padding-trailer-1 margin-right-2 margin-left-quarter"},Q))),!!X&&qa(),H&&(0,b.h)(b.Fragment,null,"ArcGISOnline"===(null===S||void 0===S?void 0:S.sourceName)&&(0,b.h)("div",{class:"routing-service-source-menu"},Wa("ArcGISOnline"),!(null===S||void 0===S||!S.agoUsername)&&(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("div",{class:"routing-service-member-thumb"},(0,b.h)("div",{class:"routing-service-member-initials"},z.getUserInitials(S)),(0,b.h)("div",
{class:"routing-service-member-mask"},(0,b.h)("calcite-icon",{icon:"plusCircle",scale:"l"}))),(0,b.h)("div",{class:"text-ellipsis"},(0,b.h)("div",{class:"font-size--1"},null===S||void 0===S?void 0:S.firstName," ",null===S||void 0===S?void 0:S.lastName),(0,b.h)("div",{class:"routing-service-online-username"},null===S||void 0===S?void 0:S.agoUsername)))),(!(null===S||void 0===S?0:S.sourceName)||"ArcGISEnterprise"===(null===S||void 0===S?void 0:S.sourceName))&&(0,b.h)("div",{class:"routing-service-source-menu"},
Wa(null===S||void 0===S?void 0:S.sourceName),!!J&&(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("div",{class:"font-size--1 text-ellipsis"},g.default.configureRoutingServices.routingServiceDataLocation,(0,b.h)("calcite-link",{href:z.configureDatastoreItemLink(null===(l=null===S||void 0===S?void 0:S.networkDataset)||void 0===l?void 0:l.datastoreId)}," ".concat(J," ")),"(".concat(null===(c=null===S||void 0===S?void 0:S.networkDataset)||void 0===c?void 0:c.path,")"))),!!N&&(0,b.h)("div",{class:"routing-service-traffic flex flex-align-center"},
(0,b.h)("div",{class:"font-size--1 text-ellipsis"},g.default.configureRoutingServices.routingServiceTrafficDataService,(0,b.h)("a",{href:null===N||void 0===N?void 0:N.itemUrl},null===N||void 0===N?void 0:N.title)))),"Custom"===(null===S||void 0===S?void 0:S.sourceName)&&(0,b.h)("div",{class:"routing-service-source-menu"},Wa("Custom"))),D&&(0,b.h)(h.default,{routingDetailsModalActive:D,closeRoutingDetailsModal:B,displayNotificationIndicator:ra}),q&&(0,b.h)(m.default,{portal:d,isEditModalActive:G,routingConfigModalActive:q,
closeRoutingConfigModal:y,setIsRoutingConfigured:K,setRoutingServicesSourceInfo:L,displayNotificationIndicator:ra,checkOnpremiseStatus:La,setIsHelpInfoModalActive:sa,setOnpremiseMessage:Z,setIsOnpremisePublish:T}),ma&&(0,b.h)(u.default,{alertIndicator:ta,closeNotificationModal:va}),(0,b.h)(r.default,{id:"routing-service-warnings-viewer"},(0,b.h)("calcite-modal",{"aria-labelledby":"modal-title",open:ha,oncalciteModalClose:function(){return ia(!1)}},(0,b.h)("h3",{slot:"header"},t.routingServiceWarningViewerTitle),
(0,b.h)("div",{slot:"content",class:"routing-service-viewer-content"},Y))),(0,b.h)(r.default,{id:"routing-service-errors-viewer"},(0,b.h)("calcite-modal",{"aria-labelledby":"modal-title",open:ka,oncalciteModalClose:function(){return na(!1)}},(0,b.h)("h3",{slot:"header"},t.routingServiceErrorViewerTitle),(0,b.h)("div",{slot:"content",class:"routing-service-viewer-content"},ja))),pa&&Za())}})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/RoutingConfigModal":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/components/BodyAppender ./OnlineOption ./PortalOption ./AdvancedOption dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(e){var v=e.portal,g=e.isEditModalActive,p=e.routingConfigModalActive,n=e.closeRoutingConfigModal,q=e.setIsRoutingConfigured,l=e.setRoutingServicesSourceInfo,c=e.displayNotificationIndicator,d=e.checkOnpremiseStatus,w=e.setIsHelpInfoModalActive,t=e.setOnpremiseMessage,z=e.setIsOnpremisePublish,
x=[{option:"online",value:r.default.configureRoutingServices.configureModal.online},{option:"portal",value:r.default.configureRoutingServices.configureModal.networkDataset},{option:"advanced",value:r.default.configureRoutingServices.configureModal.existingRoutingServices}],y=(0,k.useState)("default");e=y[0];var A=y[1];y=(0,k.useState)(x[0].option);var B=y[0],D=y[1];(0,k.useEffect)(function(){g&&(A("details"),D("advanced"))},[]);var C=function(P){return D(P.target.value)},E=function(P){return A(P)},
H=function(){return x.map(function(P){return(0,b.h)("label",{key:P},(0,b.h)("input",{type:"radio",name:"routingOption",value:P.option,onChange:C,checked:P.option===B}),P.value)})},G=function(){if("online"===B)return(0,b.h)(m.default,{portal:v,switchSettingPanel:E,closeRoutingConfigModal:n,setIsRoutingConfigured:q,setRoutingServicesSourceInfo:l,displayNotificationIndicator:c,setOnpremiseMessage:t});if("portal"===B)return(0,b.h)(h.default,{switchSettingPanel:E,closeRoutingConfigModal:n,displayNotificationIndicator:c,
checkOnpremiseStatus:d,setIsHelpInfoModalActive:w,setOnpremiseMessage:t,setIsOnpremisePublish:z});if("advanced"===B)return(0,b.h)(u.default,{portal:v,switchSettingPanel:E,closeRoutingConfigModal:n,setIsRoutingConfigured:q,setRoutingServicesSourceInfo:l,displayNotificationIndicator:c,setOnpremiseMessage:t})},F=function(){return(0,b.h)(b.Fragment,null,(0,b.h)("div",{slot:"content",class:"trailer-2 routing-service-content"},(0,b.h)("fieldset",{class:"routing-options"},(0,b.h)("legend",{class:"padding-leader-1 padding-trailer-half"},
(0,b.h)("b",null,r.default.configureRoutingServices.configureModal.option)),H())),(0,b.h)("calcite-button",{scale:"l",slot:"primary",width:"full",disabled:!1,onClick:function(){return A("details")}},r.default.configureRoutingServices.configureModal.nextBtn),(0,b.h)("calcite-button",{scale:"l",slot:"secondary",width:"full",appearance:"outline",disabled:!1,onClick:n},r.default.configureRoutingServices.configureModal.cancelBtn))};y=b.h;var I=f.default,J=b.h,K=(0,b.h)("h3",{slot:"header"},r.default.configureRoutingServices.configureModal.title);
e="default"===e?F():"details"===e?G():void 0;return y.call(b,I,{id:"routing-service-config-modal"},J.call(b,"calcite-modal",{class:"routing-service-modal","aria-labelledby":"modal-title",open:p,scale:"m",width:"m",fullscreen:!0,outsideCloseDisabled:!0,oncalciteModalClose:n},K,e))}})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/OnlineOption":function(){define("require exports tslib preact preact/hooks dojo/cookie arcgisonline/sharing/util arcgisonline/sharing/geow/Folder arcgisonline/esriGeowConfig esri/request dojo/i18n!arcgisonline/nls/arcgisonline ./RoutingServiceHelper".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){var g=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);M.default=function(p){var n=p.portal,q=p.switchSettingPanel,l=p.closeRoutingConfigModal,c=p.setIsRoutingConfigured,d=p.setRoutingServicesSourceInfo,w=p.displayNotificationIndicator,t=p.setOnpremiseMessage,z=new v.default;p=(0,k.useState)(null);var x=
p[0],y=p[1];p=(0,k.useState)(null);var A=p[0],B=p[1];p=(0,k.useState)(null);var D=p[0],C=p[1];p=(0,k.useState)(null);var E=p[0],H=p[1],G=(0,k.useState)(!1);p=G[0];var F=G[1];G=(0,k.useState)([]);var I=G[0],J=G[1],K=(0,k.useState)([]);G=K[0];var P=K[1],T="",S=(0,k.useState)(!1);K=S[0];var L=S[1],N=(0,k.useState)(!1);S=N[0];var O=N[1];(0,k.useEffect)(function(){R()},[]);(0,k.useEffect)(function(){Y(I)},[I]);var Q,V,X=function(){return a.__awaiter(g,void 0,void 0,function(){var aa,W,da,ea,ja;return a.__generator(this,
function(fa){switch(fa.label){case 0:return fa.trys.push([0,6,,7]),aa={username:x,password:A,client:"referer",expiration:60,format:"json",referer:window.location.origin},[4,m.default.request({url:"https://www.arcgis.com/sharing/rest/generateToken",content:aa},{usePost:!0,useProxy:m.default.shouldUseProxy("https://www.arcgis.com/sharing/rest/generateToken")}).promise];case 1:W=fa.sent(),fa.label=2;case 2:return fa.trys.push([2,4,,5]),da="https://".concat(u.default.configurePortalAGOEnv,"/sharing/rest/community/users/").concat(x),
[4,m.default.request({url:da,content:{token:W.token}})];case 3:return ea=fa.sent(),ja={firstName:ea.firstName,lastName:ea.lastName},Z(ja),[3,5];case 4:return fa.sent(),[3,5];case 5:return[3,7];case 6:return fa.sent(),L(!1),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.generateTokenError}),[3,7];case 7:return[2]}})})},Z=function(aa){V=z.createServiceProxyItems(x,A,D,I);V.promises.length?function(W){return a.__awaiter(g,
void 0,void 0,function(){var da,ea;return a.__generator(this,function(ja){switch(ja.label){case 0:return ja.trys.push([0,12,,13]),[4,Promise.all(V.promises)];case 1:da=ja.sent(),Q=z.collectItemIds(V.serviceIndex,da),ja.label=2;case 2:ja.trys.push([2,10,,11]);var fa=Q.itemIds;ja="".concat(u.default.restBaseUrl,"content/users/").concat(m.default.getUser().username,"/shareItems");fa={items:fa.join(","),everyone:!1,org:!0};return[4,m.default.request({url:ja,content:fa},{useProxy:m.default.shouldUseProxy(ja),
usePost:!0}).promise];case 3:ja.sent();ea=z.protectItems(Q.itemIds,D,I);if(null===ea||void 0===ea||!ea.length)return[3,8];ja.label=4;case 4:return ja.trys.push([4,6,,7]),[4,Promise.all(ea)];case 5:return ja.sent(),ca(W),[3,7];case 6:return ja.sent(),L(!1),ca(W),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.protectProxyItemError}),[3,7];case 7:return[3,9];case 8:L(!1),ca(W),w({alertIndicatorActive:!0,
alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.protectProxyItemError}),ja.label=9;case 9:return[3,11];case 10:return ja.sent(),L(!1),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.shareProxyItemError}),[3,11];case 11:return[3,13];case 12:return ja.sent(),L(!1),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.publishProxyItemError}),
[3,13];case 13:return[2]}})})}(aa):(L(!1),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.createProxyItemError}))},ca=function(aa){return a.__awaiter(g,void 0,void 0,function(){var W,da,ea,ja;return a.__generator(this,function(fa){switch(fa.label){case 0:return fa.trys.push([0,10,,11]),[4,z.getItemsById(Q.itemIds)];case 1:W=fa.sent(),da=z.createHelperServiceResult(Q,W),da.routingServicesSource=a.__assign({sourceName:"ArcGISOnline",
agoUsername:x},aa),fa.label=2;case 2:return fa.trys.push([2,8,,9]),[4,z.updateRoutingService(da)];case 3:fa.sent(),c(!0),d(da.routingServicesSource),L(!1),t(null),l(!1),z.publishHelperServicesChange(da,n),fa.label=4;case 4:return fa.trys.push([4,6,,7]),ea="".concat(u.default.restBaseUrl,"portals/").concat(u.default.portal.id,"/removeResource"),ja={key:"publishroutingservices_status.json"},[4,m.default.request({url:ea,content:ja},{usePost:!0}).promise];case 5:return fa.sent(),[3,7];case 6:return fa.sent(),
[3,7];case 7:return[3,9];case 8:return fa.sent(),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.publishRoutingServiceError}),[3,9];case 9:return[3,11];case 10:return fa.sent(),w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.retrieveProxyItemDescriptionError}),[3,11];case 11:return[2]}})})},R=function(){return a.__awaiter(g,
void 0,void 0,function(){var aa,W,da;return a.__generator(this,function(ea){(0,f.default)("ESRI_Content")&&(aa=m.default.getCookie("ESRI_Content"),aa.folderId&&(T=aa.folderId));W=m.default.getUser().username;da=[{username:W,id:"",title:W}];h.default.getFolders(function(ja){u.default.self._folder=ja.folders;J(a.__spreadArray(a.__spreadArray([],da,!0),ja.folders,!0))},function(ja){J(a.__spreadArray([],da,!0));w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.fetchUserFolderError})},
null,!0);return[2]})})},Y=function(aa){var W=m.default.getUser().username;aa=aa.map(function(da,ea){D?W=D:T===da.id&&(W=da.title);return(0,b.h)("calcite-combobox-item",{value:da.title,textLabel:da.title,selected:0===ea,icon:da.title===m.default.getUser().username?"home":"folder"})});P(aa);C(W)},ba=function(aa){h.default.createFolder({folderName:aa,title:aa},function(W){C(null===W||void 0===W?void 0:W.folder.title);J(a.__spreadArray([null===W||void 0===W?void 0:W.folder],I,!0));F(!1)},function(W){})};
N=function(aa){aa=aa.target.value;"create-folder"===aa?F(!0):C(aa)};return(0,b.h)(b.Fragment,null,(0,b.h)("div",{slot:"content",class:"trailer-2 routing-service-content"},(0,b.h)("div",{class:"padding-leader-1 padding-trailer-1"},e.default.configureRoutingServices.online.title),(0,b.h)("label",{for:"routing-online-username"},e.default.configureRoutingServices.online.username,(0,b.h)("input",{class:S&&!x?"input-error route-modal-input":"route-modal-input",type:"text","aria-required":"true",id:"routing-online-username",
name:"routing-online-username",value:x,onChange:function(aa){return y(aa.target.value)}}),(0,b.h)("div",{class:"dataset-path-note"},e.default.configureRoutingServices.online.userNameHint),S&&!x&&(0,b.h)("div",{class:"input-error-message is-active"},e.default.configureRoutingServices.online.usernamePlaceholder)),(0,b.h)("label",{for:"routing-online-password"},e.default.configureRoutingServices.online.password,(0,b.h)("input",{class:S&&!A?"input-error route-modal-input":"route-modal-input",type:"password",
"aria-required":"true",id:"routing-online-password",name:"routing-online-password",value:A,onChange:function(aa){return B(aa.target.value)}}),S&&!A&&(0,b.h)("div",{class:"input-error-message is-active"},e.default.configureRoutingServices.online.passwordPlaceholder)),(0,b.h)("label",{for:"routing-online-folder"},e.default.configureRoutingServices.online.folder,p?(0,b.h)("calcite-inline-editable",{scale:"m",controls:!0,editingEnabled:!0,afterConfirm:function(){return a.__awaiter(g,void 0,void 0,function(){return a.__generator(this,
function(aa){ba(E);return[2]})})},oncalciteInlineEditableEditCancel:function(){F(!1)}},(0,b.h)("calcite-input",{id:"routing-online-folder",scale:"m",maxLength:250,name:"custom-folder",placeholder:e.default.configureRoutingServices.online.folderNamePlaceholder,type:"text",value:E,status:"idle",oncalciteInputInput:function(aa){return H(aa.target.value)},onKeyDown:function(aa){aa.stopPropagation();switch(aa.key){case "Enter":ba(E);break;case "Escape":F(!1)}}})):(0,b.h)("calcite-combobox",{id:"routing-online-folder",
label:"Single selection-mode combobox",selectionMode:"single",scale:"m",oncalciteComboboxChange:N,value:D,placeholder:e.default.configureRoutingServices.online.searchFolders},(0,b.h)("calcite-combobox-item",{class:"create-folder",value:"create-folder",textLabel:e.default.configureRoutingServices.online.createNewFolder,selected:!1,icon:"folder-plus",filterDisabled:!0}),G))),(0,b.h)("calcite-button",{"aria-label":e.default.configureRoutingServices.label.back,scale:"l",slot:"back",icon:"chevron-left",
width:"full",appearance:"outline",kind:"neutral",disabled:K,onClick:function(){return q("default")}},e.default.configureRoutingServices.online.backBtn),(0,b.h)("calcite-button",{"aria-label":e.default.configureRoutingServices.label.updateRoutingService,scale:"l",slot:"primary",width:"full",disabled:K,onClick:function(){return a.__awaiter(g,void 0,void 0,function(){var aa,W,da,ea;return a.__generator(this,function(ja){switch(ja.label){case 0:L(!0);aa=!!x&&!!A;if(!aa)return[3,5];ja.label=1;case 1:return ja.trys.push([1,
3,,4]),O(!1),W=u.default.self.culture||"en",da="".concat(location.protocol,"//").concat(u.default.configurePortalAGOEnv,"/sharing/rest/portals/self"),[4,(0,r.default)({url:da,content:{f:"json",culture:W}},{useProxy:m.default.shouldUseProxy(da)}).promise];case 2:return ea=ja.sent(),u.default.self._selfNoAuth=ea,X(),[3,4];case 3:return ja.sent(),L(!1),function(fa){w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:e.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.fetchUpdatedRoutingServiceError})},
[3,4];case 4:return[3,6];case 5:L(!1),O(!0),ja.label=6;case 6:return[2]}})})}},K?(0,b.h)("div",{class:"saveIndicator"},(0,b.h)("calcite-loader",{label:"savingManifest",scale:"l",inline:!0}),(0,b.h)("span",{class:"savingIndicator"},e.default.configureRoutingServices.online.savingBtn)):(0,b.h)("div",null,e.default.configureRoutingServices.online.saveBtn)),(0,b.h)("calcite-button",{"aria-label":e.default.configureRoutingServices.label.close,scale:"l",slot:"secondary",width:"full",appearance:"outline",
disabled:K,onClick:function(){return l(!1)}},e.default.configureRoutingServices.configureModal.cancelBtn))}})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/RoutingServiceHelper":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/utils/arrays arcgisonline/sharing/dijit/dialog/_AddItemDlgMixin dojo/i18n!arcgisonline/nls/arcgisonline esri/request".split(" "),function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);
f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){return function(){var r=this;this.mixin=new m.default;this.serviceDefinitions={closestFacility:{layerType:"esriNAServerClosestFacilityLayer"},asyncClosestFacility:{name:"FindClosestFacilities",executionType:"esriExecutionTypeAsynchronous"},serviceArea:{layerType:"esriNAServerServiceAreaLayer"},asyncServiceArea:{name:"GenerateServiceAreas",executionType:"esriExecutionTypeAsynchronous"},syncVRP:{name:"EditVehicleRoutingProblem",
executionType:"esriExecutionTypeSynchronous"},asyncVRP:{name:"SolveVehicleRoutingProblem",executionType:"esriExecutionTypeAsynchronous"},asyncLocationAllocation:{executionType:"esriExecutionTypeAsynchronous",tasks:["SolveLocationAllocation"],maximumRecords:1E3},routingUtilities:{executionType:"esriExecutionTypeSynchronous",tasks:["GetTravelModes","GetToolInfo"],maximumRecords:1E3},traffic:{type:"Network Dataset Layer",timeInfo:{exportOptions:{useTime:!0},hasLiveData:!0}},asyncRoute:{executionType:"esriExecutionTypeAsynchronous",
tasks:["FindRoutes"],maximumRecords:1E3},route:{layerType:"esriNAServerRouteLayer"},asyncODCostMatrix:{tasks:["GenerateOriginDestinationCostMatrix"],executionType:"esriExecutionTypeAsynchronous",maximumRecords:1E3},odCostMatrix:{layerType:"esriNAServerODCostMatrixLayer"}};this.parseHelperServices=function(e){var v,g,p,n,q,l,c,d,w,t,z,x,y,A=[];(null===(v=null===e||void 0===e?void 0:e.asyncClosestFacility)||void 0===v?0:v.url)&&(v=r.findItemId(e.asyncClosestFacility.url))&&A.push(v);(null===(g=null===
e||void 0===e?void 0:e.asyncLocationAllocation)||void 0===g?0:g.url)&&(v=r.findItemId(e.asyncLocationAllocation.url))&&A.push(v);(null===(p=null===e||void 0===e?void 0:e.asyncServiceArea)||void 0===p?0:p.url)&&(v=r.findItemId(e.asyncServiceArea.url))&&A.push(v);(null===(n=null===e||void 0===e?void 0:e.asyncVRP)||void 0===n?0:n.url)&&(v=r.findItemId(e.asyncVRP.url))&&A.push(v);(null===(q=null===e||void 0===e?void 0:e.closestFacility)||void 0===q?0:q.url)&&(v=r.findItemId(e.closestFacility.url))&&A.push(v);
(null===(l=null===e||void 0===e?void 0:e.serviceArea)||void 0===l?0:l.url)&&(v=r.findItemId(e.serviceArea.url))&&A.push(v);(null===(c=null===e||void 0===e?void 0:e.syncVRP)||void 0===c?0:c.url)&&(v=r.findItemId(e.syncVRP.url))&&A.push(v);(null===(d=null===e||void 0===e?void 0:e.traffic)||void 0===d?0:d.url)&&(v=r.findItemId(e.traffic.url))&&A.push(v);(null===(w=null===e||void 0===e?void 0:e.routingUtilities)||void 0===w?0:w.url)&&(v=r.findItemId(e.routingUtilities.url))&&A.push(v);(null===(t=null===
e||void 0===e?void 0:e.asyncRoute)||void 0===t?0:t.url)&&(v=r.findItemId(e.asyncRoute.url))&&A.push(v);(null===(z=null===e||void 0===e?void 0:e.route)||void 0===z?0:z.url)&&(v=r.findItemId(e.route.url))&&A.push(v);(null===(x=null===e||void 0===e?void 0:e.asyncODCostMatrix)||void 0===x?0:x.url)&&(v=r.findItemId(e.asyncODCostMatrix.url))&&A.push(v);(null===(y=null===e||void 0===e?void 0:e.odCostMatrix)||void 0===y?0:y.url)&&(v=r.findItemId(e.odCostMatrix.url))&&A.push(v);return A};this.findItemId=function(e){var v=
null;var g=e.indexOf("/sharing/servers/");-1<g&&(g+=17,v=e.indexOf("/rest/services/"),v=e.substring(g,v));return v};this.emptyHelperUrls=function(e){e.asyncClosestFacility={url:""};e.asyncLocationAllocation={url:""};e.asyncRoute={url:""};e.asyncServiceArea={url:""};e.asyncVRP={url:""};e.closestFacility={url:""};e.serviceArea={url:""};e.syncVRP={url:""};e.traffic={url:""};e.routingUtilities={url:""};e.asyncRoute={url:""};e.route={url:""};e.asyncODCostMatrix={url:""};e.odCostMatrix={url:""};return e};
this.getItemsById=function(e){return a.__awaiter(r,void 0,void 0,function(){var v,g;return a.__generator(this,function(p){v=[];for(g=0;g<e.length;g++)v.push(k.default.request({url:"".concat(b.default.restBaseUrl,"content/items/").concat(e[g])}));return[2,Promise.all(v)]})})};this.getItemById=function(e){return a.__awaiter(r,void 0,void 0,function(){return a.__generator(this,function(v){return[2,k.default.request({url:"".concat(b.default.restBaseUrl,"content/items/").concat(e)}).promise]})})};this.getDatastoreItemInfo=
function(e){return a.__awaiter(r,void 0,void 0,function(){var v;return a.__generator(this,function(g){v="".concat(b.default.restBaseUrl,"content/items/").concat(e);return[2,k.default.request({url:v},{useProxy:k.default.shouldUseProxy(v),usePost:!0}).promise]})})};this.configureDatastoreItemLink=function(e){return"".concat(b.default.baseUrl,"item.html?id\x3d").concat(e)};this.unprotectItem=function(e,v,g){v="".concat(b.default.restBaseUrl,"content/users/").concat(v,"/");g=g?"".concat(g,"/"):"";e=v+
g+"items/"+e+"/unprotect";return k.default.request({url:e},{useProxy:k.default.shouldUseProxy(e),usePost:!0}).promise};this.updateRoutingService=function(e){return a.__awaiter(r,void 0,void 0,function(){var v,g,p,n;return a.__generator(this,function(q){v="".concat(k.default.getSecureUrl(b.default.restBaseUrl),"portals/self/update");g=JSON.stringify("");p={clearEmptyFields:!0};e.routingServicesSource&&(p.routingServicesSource=(null===(n=e.routingServicesSource)||void 0===n?0:n.sourceName)?JSON.stringify(e.routingServicesSource):
g);e.asyncClosestFacility&&(p.asyncClosestFacilityService=""===e.asyncClosestFacility.url?g:JSON.stringify(e.asyncClosestFacility));e.asyncLocationAllocation&&(p.asyncLocationAllocationService=""===e.asyncLocationAllocation.url?g:JSON.stringify(e.asyncLocationAllocation));e.asyncServiceArea&&(p.asyncServiceAreaService=""===e.asyncServiceArea.url?g:JSON.stringify(e.asyncServiceArea));e.asyncVRP&&(p.asyncVRPService=""===e.asyncVRP.url?g:JSON.stringify(e.asyncVRP));e.closestFacility&&(p.closestFacilityService=
""===e.closestFacility.url?g:JSON.stringify(e.closestFacility));e.serviceArea&&(p.serviceAreaService=""===e.serviceArea.url?g:JSON.stringify(e.serviceArea));e.syncVRP&&(p.syncVRPService=""===e.syncVRP.url?g:JSON.stringify(e.syncVRP));e.traffic&&(p.trafficService=""===e.traffic.url?g:JSON.stringify(e.traffic));e.routingUtilities&&(p.routingUtilitiesService=""===e.routingUtilities.url?g:JSON.stringify(e.routingUtilities));e.asyncRoute&&(p.asyncRouteService=""===e.asyncRoute.url?g:JSON.stringify(e.asyncRoute));
e.route&&(p.routeServiceLayer=""===e.route.url?g:JSON.stringify(e.route));e.asyncODCostMatrix&&(p.asyncODCostMatrixService=""===e.asyncODCostMatrix.url?g:JSON.stringify(e.asyncODCostMatrix));e.odCostMatrix&&(p.odCostMatrixService=""===e.odCostMatrix.url?g:JSON.stringify(e.odCostMatrix));return[2,k.default.request({url:v,content:p},{useProxy:k.default.shouldUseProxy(v),usePost:!0}).promise]})})};this.configureProxyItemUrl=function(e,v,g){return(e="ArcGISEnterprise"===e?null===v||void 0===v?void 0:
v.itemId:r.findItemId(g))?"".concat(b.default.baseUrl,"item.html?id\x3d").concat(e):null};this.validates=function(e){return!b.default.portal.isPortal&&-1<e.indexOf("http:")?!1:!0};this.serviceValidates=function(e,v){var g=r.serviceDefinitions[e];return!(!g||!r.isValidNetworkService(e,g,v))};this.isValidNetworkService=function(e,v,g){var p=!1;if(v&&g)switch(e){case "closestFacility":p=g.layerType===v.layerType;break;case "asyncClosestFacility":p=r.isValidTaskComparison(v,g);break;case "serviceArea":p=
g.layerType===v.layerType;break;case "asyncServiceArea":p=r.isValidTaskComparison(v,g);break;case "syncVRP":p=r.isValidTaskComparison(v,g);break;case "asyncVRP":p=r.isValidTaskComparison(v,g);break;case "asyncLocationAllocation":p=r.isValidGPServerSingleTaskComparison(v,g);break;case "routingUtilities":p=r.isValidGPServerSingleTaskComparison(v,g);break;case "traffic":p=r.isValidTrafficServiceComparison(v,g);break;case "asyncRoute":p=r.isValidGPServerSingleTaskComparison(v,g);break;case "route":p=
g.layerType===v.layerType;break;case "asyncODCostMatrix":p=r.isValidGPServerSingleTaskComparison(v,g);break;case "odCostMatrix":p=g.layerType===v.layerType;break;case "trafficData":p=r.isValidTrafficFeedComparison(v,g);break;default:p=!1}return p};this.isValidGPServerSingleTaskComparison=function(e,v){var g;return v.executionType===e.executionType&&v.maximumRecords>=e.maximumRecords&&0<(null===(g=v.tasks)||void 0===g?void 0:g.length)&&v.tasks.some(function(p){return r.checkTask(e.tasks,p)})};this.isValidTrafficServiceComparison=
function(e,v){var g;return 0<(null===(g=v.layers)||void 0===g?void 0:g.length)&&v.layers.some(function(p,n){return r.trafficLayerCheck(e,p,n)})};this.isValidTrafficFeedComparison=function(e,v){var g;return v.executionType===e.executionType&&v.maximumRecords>=e.maximumRecords&&0<(null===(g=v.tasks)||void 0===g?void 0:g.length)};this.checkTask=function(e,v){return f.default.includes(e||[],v)};this.trafficLayerCheck=function(e,v,g){var p;return(null===v||void 0===v?void 0:v.type)===e.type&&(null===(p=
v.timeInfo)||void 0===p?void 0:p.exportOptions)&&v.timeInfo.hasLiveData===e.timeInfo.hasLiveData&&v.timeInfo.exportOptions.useTime===e.timeInfo.exportOptions.useTime};this.isValidTaskComparison=function(e,v){var g;return v.name===e.name&&v.executionType===e.executionType&&0<(null===(g=v.parameters)||void 0===g?void 0:g.length)};this.generateHelperServiceResult=function(e){var v={};e.forEach(function(g){v[g.key]={url:g.url}});return v};this.createServiceProxyItems=function(e,v,g,p){var n={promises:[],
serviceIndex:{}};n.serviceIndex.asyncClosestFacility=n.promises.length;n.promises.push(r.createAsyncClosestFacilityServiceProxy(e,v,g,p));n.serviceIndex.asyncLocationAllocation=n.promises.length;n.promises.push(r.createAsyncLocationAllocationServiceProxy(e,v,g,p));n.serviceIndex.asyncServiceArea=n.promises.length;n.promises.push(r.createAsyncServiceAreaServiceProxy(e,v,g,p));n.serviceIndex.asyncVRP=n.promises.length;n.promises.push(r.createAsyncVRPServiceProxy(e,v,g,p));n.serviceIndex.closestFacility=
n.promises.length;n.promises.push(r.createClosestFacilityServiceProxy(e,v,g,p));n.serviceIndex.serviceArea=n.promises.length;n.promises.push(r.createServiceAreaServiceProxy(e,v,g,p));n.serviceIndex.syncVRP=n.promises.length;n.promises.push(r.createSyncVRPServiceProxy(e,v,g,p));n.serviceIndex.traffic=n.promises.length;n.promises.push(r.createTrafficServiceProxy(e,v,g,p));n.serviceIndex.routingUtilities=n.promises.length;n.promises.push(r.createRoutingUtilityServiceProxy(e,v,g,p));n.serviceIndex.asyncRoute=
n.promises.length;n.promises.push(r.createAsyncRouteServiceProxy(e,v,g,p));n.serviceIndex.route=n.promises.length;n.promises.push(r.createRouteServiceProxy(e,v,g,p));n.serviceIndex.asyncODCostMatrix=n.promises.length;n.promises.push(r.createAsyncODCostMatrixProxy(e,v,g,p));n.serviceIndex.odCostMatrix=n.promises.length;n.promises.push(r.createODCostMatrixProxy(e,v,g,p));return n};this.createAsyncClosestFacilityServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.asyncClosestFacility.url,
title:"".concat(h.default.configAGOLUtilServices.serviceTitles.asyncClosestFacility," (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createAsyncLocationAllocationServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.asyncLocationAllocation.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.asyncLocationAllocation," (").concat(e,
")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createAsyncServiceAreaServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.asyncServiceArea.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.asyncServiceArea," (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};
this.createAsyncVRPServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.asyncVRP.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.asyncVRP," (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createClosestFacilityServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.naserver.type,url:b.default.self._selfNoAuth.helperServices.closestFacility.url,
title:"".concat(h.default.configAGOLUtilServices.serviceTitles.closestFacility," (").concat(e,")"),tags:r.mixin.itemInfo.naserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createServiceAreaServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.naserver.type,url:b.default.self._selfNoAuth.helperServices.serviceArea.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.serviceArea," (").concat(e,")"),tags:r.mixin.itemInfo.naserver.typeKeywords,
serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createSyncVRPServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.syncVRP.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.syncVRP," (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createTrafficServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.mapserver.type,
url:b.default.self._selfNoAuth.helperServices.traffic.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.traffic," (").concat(e,")"),tags:r.mixin.itemInfo.mapserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createRoutingUtilityServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.routingUtilities.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.routingUtilities,
" (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createAsyncRouteServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.asyncRoute.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.asyncRoute," (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};
this.createRouteServiceProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.naserver.type,url:b.default.self._selfNoAuth.helperServices.route.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.route," (").concat(e,")"),tags:r.mixin.itemInfo.naserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createAsyncODCostMatrixProxy=function(e,v,g,p){return r.addItem({type:r.mixin.itemInfo.gpserver.type,url:b.default.self._selfNoAuth.helperServices.asyncODCostMatrix.url,
title:"".concat(h.default.configAGOLUtilServices.serviceTitles.asyncODCostMatrix," (").concat(e,")"),tags:r.mixin.itemInfo.gpserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p})};this.createODCostMatrixProxy=function(e,v,g,p){return b.default.self._selfNoAuth.helperServices.odCostMatrix?r.addItem({type:r.mixin.itemInfo.naserver.type,url:b.default.self._selfNoAuth.helperServices.odCostMatrix.url,title:"".concat(h.default.configAGOLUtilServices.serviceTitles.odCostMatrix,
" (").concat(e,")"),tags:r.mixin.itemInfo.naserver.typeKeywords,serviceUsername:e,servicePassword:v,selectedFolder:g,folderList:p}):null};this.addItem=function(e){var v=r.getFolderId(e.selectedFolder,e.folderList),g="".concat(b.default.restBaseUrl,"content/users/").concat(k.default.getUser().username,"/");g+=v?"".concat(v,"/"):"";return k.default.request({url:"".concat(g,"addItem"),content:e},{useProxy:k.default.shouldUseProxy(g),usePost:!0})};this.getFolderId=function(e,v){if(e&&e!==k.default.getUser().username)for(var g=
0;g<v.length;g++)if(v[g].title===e)return v[g].id;return""};this.collectItemIds=function(e,v){var g={itemIds:[]};g.asyncClosestFacility=v[e.asyncClosestFacility].id;g.itemIds.push(v[e.asyncClosestFacility].id);g.asyncLocationAllocation=v[e.asyncLocationAllocation].id;g.itemIds.push(v[e.asyncLocationAllocation].id);g.asyncServiceArea=v[e.asyncServiceArea].id;g.itemIds.push(v[e.asyncServiceArea].id);g.asyncVRP=v[e.asyncVRP].id;g.itemIds.push(v[e.asyncVRP].id);g.closestFacility=v[e.closestFacility].id;
g.itemIds.push(v[e.closestFacility].id);g.serviceArea=v[e.serviceArea].id;g.itemIds.push(v[e.serviceArea].id);g.syncVRP=v[e.syncVRP].id;g.itemIds.push(v[e.syncVRP].id);g.traffic=v[e.traffic].id;g.itemIds.push(v[e.traffic].id);g.routingUtilities=v[e.routingUtilities].id;g.itemIds.push(v[e.routingUtilities].id);g.asyncRoute=v[e.asyncRoute].id;g.itemIds.push(v[e.asyncRoute].id);g.route=v[e.route].id;g.itemIds.push(v[e.route].id);g.asyncODCostMatrix=v[e.asyncODCostMatrix].id;g.itemIds.push(v[e.asyncODCostMatrix].id);
e.odCostMatrix&&v[e.odCostMatrix]&&(g.odCostMatrix=v[e.odCostMatrix].id,g.itemIds.push(v[e.odCostMatrix].id));return g};this.protectItems=function(e,v,g){var p=[],n=r.getFolderId(v,g);e.forEach(function(q){p.push(r.protectItem(q,n))});return p};this.protectItem=function(e,v){var g="".concat(b.default.restBaseUrl,"content/users/").concat(k.default.getUser().username,"/");v=v?"".concat(v,"/"):"";e=g+v+"items/"+e+"/protect";return k.default.request({url:e},{useProxy:k.default.shouldUseProxy(e),usePost:!0}).promise};
this.createHelperServiceResult=function(e,v){var g={};g.asyncClosestFacility={url:r.getItemFromResultsById(e.asyncClosestFacility,v).url};g.asyncLocationAllocation={url:r.getItemFromResultsById(e.asyncLocationAllocation,v).url};g.asyncServiceArea={url:r.getItemFromResultsById(e.asyncServiceArea,v).url};g.asyncVRP={url:r.getItemFromResultsById(e.asyncVRP,v).url};g.closestFacility={url:r.getItemFromResultsById(e.closestFacility,v).url};g.serviceArea={url:r.getItemFromResultsById(e.serviceArea,v).url};
g.syncVRP={url:r.getItemFromResultsById(e.syncVRP,v).url};g.traffic={url:r.getItemFromResultsById(e.traffic,v).url};g.routingUtilities={url:r.getItemFromResultsById(e.routingUtilities,v).url};g.asyncRoute={url:r.getItemFromResultsById(e.asyncRoute,v).url};g.route={url:r.getItemFromResultsById(e.route,v).url};g.asyncODCostMatrix={url:r.getItemFromResultsById(e.asyncODCostMatrix,v).url};if(null===e||void 0===e?0:e.odCostMatrix)g.odCostMatrix={url:r.getItemFromResultsById(e.odCostMatrix,v).url};return g};
this.getItemFromResultsById=function(e,v){for(var g,p=0;p<v.length;p++)if(v[p].id===e){g=v[p];break}return g};this.fetchHelperServices=function(){var e=b.default.self.culture||"en",v="".concat(b.default.restBaseUrl,"portals/self");return(0,u.default)({url:v,content:{f:"json",culture:e}},{useProxy:k.default.shouldUseProxy(v)}).promise};this.publishHelperServicesChange=function(e,v){b.default.self.helperServices=a.__assign(a.__assign({},b.default.self.helperServices),e);v.helperServices=a.__assign(a.__assign({},
v.helperServices),e)};this.fetchDatastores=function(){var e=k.default.getUser().orgId;e={q:"orgid:".concat(e,' type:"').concat("Data Store",'"'),num:1E4};var v="".concat(b.default.restBaseUrl,"search");return k.default.request({url:v,content:e},{useProxy:k.default.shouldUseProxy(v)}).promise};this.getAnalysisTools=function(e){return e.slice(0,7)};this.getUtilityTools=function(e){return[e[7]]};this.getNetworkAnalysisServices=function(e){return e.slice(8,12)};this.getMapImageLayer=function(e){return e.slice(12)};
this.getServiceFolder=function(e){var v,g,p,n,q,l,c,d,w,t,z,x,y,A=[];(null===(v=null===e||void 0===e?void 0:e.asyncClosestFacility)||void 0===v?0:v.url)&&A.push(e.asyncClosestFacility.url);(null===(g=null===e||void 0===e?void 0:e.asyncLocationAllocation)||void 0===g?0:g.url)&&A.push(e.asyncLocationAllocation.url);(null===(p=null===e||void 0===e?void 0:e.asyncServiceArea)||void 0===p?0:p.url)&&A.push(e.asyncServiceArea.url);(null===(n=null===e||void 0===e?void 0:e.asyncVRP)||void 0===n?0:n.url)&&A.push(e.asyncVRP.url);
(null===(q=null===e||void 0===e?void 0:e.closestFacility)||void 0===q?0:q.url)&&A.push(e.closestFacility.url);(null===(l=null===e||void 0===e?void 0:e.serviceArea)||void 0===l?0:l.url)&&A.push(e.serviceArea.url);(null===(c=null===e||void 0===e?void 0:e.syncVRP)||void 0===c?0:c.url)&&A.push(e.syncVRP.url);(null===(d=null===e||void 0===e?void 0:e.traffic)||void 0===d?0:d.url)&&A.push(e.traffic.url);(null===(w=null===e||void 0===e?void 0:e.routingUtilities)||void 0===w?0:w.url)&&A.push(e.routingUtilities.url);
(null===(t=null===e||void 0===e?void 0:e.asyncRoute)||void 0===t?0:t.url)&&A.push(e.asyncRoute.url);(null===(z=null===e||void 0===e?void 0:e.route)||void 0===z?0:z.url)&&A.push(e.route.url);(null===(x=null===e||void 0===e?void 0:e.asyncODCostMatrix)||void 0===x?0:x.url)&&A.push(e.asyncODCostMatrix.url);(null===(y=null===e||void 0===e?void 0:e.odCostMatrix)||void 0===y?0:y.url)&&A.push(e.odCostMatrix.url);e=A[0];g=null;v=e.indexOf("/rest/services/");-1<v&&(v+=15,g=e.indexOf("/NetworkAnalysis"),g=e.substring(v,
g));return g};this.getUserInitials=function(e){return"".concat(null===e||void 0===e?void 0:e.firstName.trim().substring(0,1)).concat(null===e||void 0===e?void 0:e.lastName.trim().substring(0,1))};this.getHelpLink=function(e){return"".concat(b.default.self.helpBase).concat(b.default.self.helpMap.m[e])};this.checkUpgrade=function(e,v){var g,p,n,q,l,c,d,w,t,z,x,y,A;v=!v||0===Object.keys(v).length;var B=!(null===(g=e.asyncClosestFacility)||void 0===g||!g.url);g=!(null===(p=e.asyncLocationAllocation)||
void 0===p||!p.url);p=!(null===(n=e.asyncODCostMatrix)||void 0===n||!n.url);n=!(null===(q=e.asyncRoute)||void 0===q||!q.url);q=!(null===(l=e.asyncServiceArea)||void 0===l||!l.url);l=!(null===(c=e.asyncVRP)||void 0===c||!c.url);c=!(null===(d=e.syncVRP)||void 0===d||!d.url);d=!(null===(w=e.closestFacility)||void 0===w||!w.url);w=!(null===(t=e.odCostMatrix)||void 0===t||!t.url);t=!(null===(z=e.route)||void 0===z||!z.url);z=!(null===(x=e.serviceArea)||void 0===x||!x.url);x=!(null===(y=e.routingUtilities)||
void 0===y||!y.url);e=!(null===(A=e.traffic)||void 0===A||!A.url);return v&&(B||g||p||n||q||l||c||d||w||t||z||x||e)}}}()})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/PortalOption":function(){define("require exports tslib preact preact/hooks dojo/i18n!arcgisonline/nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ./RoutingServiceHelper".split(" "),function(U,M,a,b,k,f,m,h,u){var r=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(e){var v=e.switchSettingPanel,g=e.closeRoutingConfigModal,p=e.displayNotificationIndicator,n=e.checkOnpremiseStatus,q=e.setIsHelpInfoModalActive,l=e.setOnpremiseMessage,c=e.setIsOnpremisePublish,d=new u.default,w=f.default.configureRoutingServices.notificationIndicator;e=(0,k.useState)([]);var t=e[0],z=e[1],x=(0,k.useState)([]);e=x[0];var y=x[1];x=(0,k.useState)(null);var A=x[0],B=x[1];x=(0,k.useState)(null);var D=
x[0],C=x[1];x=(0,k.useState)(null);var E=x[0],H=x[1];x=(0,k.useState)([]);var G=x[0],F=x[1],I=(0,k.useState)([]);x=I[0];var J=I[1];I=(0,k.useState)(null);var K=I[0],P=I[1];I=(0,k.useState)(null);var T=I[0],S=I[1];I=(0,k.useState)([]);var L=I[0],N=I[1],O=(0,k.useState)(!1);I=O[0];var Q=O[1],V=(0,k.useState)(!1);O=V[0];var X=V[1];V=(0,k.useState)(!1);var Z=V[0],ca=V[1];V=(0,k.useState)(null);var R=V[0],Y=V[1];(0,k.useEffect)(function(){try{var ma=f.default.configureRoutingServices.type;(function(){return a.__awaiter(r,
void 0,void 0,function(){var na;return a.__generator(this,function(pa){switch(pa.label){case 0:return[4,d.fetchDatastores()];case 1:return na=pa.sent(),z(na.results.map(function(sa){var ta=sa.id,oa=sa.title;sa=sa.typeKeywords.includes("folder");return{id:ta,title:oa,isFolder:sa}})),[2]}})})})();S({name:""});N([{type:"ClosestFacility",label:ma.closestFacility,checked:!0},{type:"Location-Allocation",label:ma.locationAllocation,checked:!0},{type:"OriginDestinationCostMatrix",label:ma.originDestinationCostMatrix,
checked:!0},{type:"Route",label:ma.route,checked:!0},{type:"ServiceArea",label:ma.serviceArea,checked:!0},{type:"VehicleRoutingProblem",label:ma.asyncVehicleRoutingProblem,checked:!0}])}catch(na){p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.fetchDataStoreError})}},[]);(0,k.useEffect)(function(){y(ba())},[t]);(0,k.useEffect)(function(){J(aa())},[G]);var ba=function(){return t.map(function(ma){return(0,b.h)("calcite-combobox-item",{value:ma.title,textLabel:ma.title,
icon:"data"})})},aa=function(){return G.map(function(ma){return(0,b.h)("calcite-combobox-item",{key:ma.id,value:ma.url,textLabel:ma.url,icon:"launch"})})},W=function(ma){return a.__awaiter(r,void 0,void 0,function(){var na,pa,sa;return a.__generator(this,function(ta){switch(ta.label){case 0:na="".concat(h.default.restBaseUrl,"content/items/").concat(ma,"/data"),ta.label=1;case 1:return ta.trys.push([1,3,,4]),[4,m.default.request({url:na})];case 2:return pa=ta.sent(),C(pa.info.path),[3,4];case 3:return sa=
ta.sent(),C(null),"GWM_0003"!==sa.messageCode&&p({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:w.alertIndicatorInfo.requestDatastoreItemError}),[3,4];case 4:return[2]}})})},da=function(ma,na){return a.__awaiter(r,void 0,void 0,function(){var pa,sa;return a.__generator(this,function(ta){switch(ta.label){case 0:pa="".concat(na,"/admin/data/findItems?id\x3d").concat(ma),ta.label=1;case 1:return ta.trys.push([1,3,,4]),[4,m.default.request({url:pa})];case 2:return sa=ta.sent(),
C(sa.items[0].info.path),[3,4];case 3:return ta.sent(),p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.requestDatastoreItemError}),[3,4];case 4:return[2]}})})},ea=function(ma){return t.find(function(na){return na.title===ma})},ja=function(ma){ma=ma.map(function(na){na="".concat(na.adminUrl,"/admin");return m.default.request({url:na},{useProxy:m.default.shouldUseProxy(na)}).promise});return Promise.all(ma)},fa=function(ma){return a.__awaiter(r,void 0,void 0,
function(){var na,pa,sa;return a.__generator(this,function(ta){switch(ta.label){case 0:return ta.trys.push([0,6,,7]),na="".concat(h.default.restBaseUrl,"portals/").concat(h.default.portal.id,"/datastores/getServers"),[4,m.default.request({url:na,content:{datastoreId:ma}},{usePost:!0,useProxy:m.default.shouldUseProxy(na)})];case 1:pa=ta.sent(),ta.label=2;case 2:return ta.trys.push([2,4,,5]),[4,ja(pa.servers)];case 3:return sa=ta.sent(),F(pa.servers.filter(function(oa,qa){return 11<=sa[qa].currentVersion})),
[3,5];case 4:return ta.sent(),p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.requestServerPropertyError}),[3,5];case 5:return[3,7];case 6:return ta.sent(),p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.requestServerError}),[3,7];case 7:return[2]}})})},ha=function(ma){N(L.map(function(na){return na.label!==ma.label?a.__assign({},na):a.__assign(a.__assign({},na),{checked:!na.checked})}))},la=function(){var ma;
X(!0);var na=document.getElementById("routing-portal-item-file");if(0===(null===(ma=null===na||void 0===na?void 0:na.files)||void 0===ma?void 0:ma.length))X(!1),p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.noFileIsChoosen});else{ma="https://".concat(h.default.portal.portalLocalHostname,"/server/admin/uploads/upload");na=document.getElementById("routing-portal-item-file-uploader");m.default.request({url:ma,form:na},{useProxy:m.default.shouldUseProxy(ma),
usePost:!0}).then(function(sa){var ta;"success"===sa.status?(Y({itemID:null===(ta=sa.item)||void 0===ta?void 0:ta.itemID}),X(!1)):pa(sa.error)},function(sa){pa(sa)});var pa=function(sa){X(!1);p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.fileUploadError})}}},ka=function(ma){K?ma.target.value?(ma="".concat(K,"/admin/services/").concat(T.name),m.default.request({url:ma},{useProxy:m.default.shouldUseProxy(ma)}).then(function(na){var pa;(null===(pa=null===
na||void 0===na?void 0:na.services)||void 0===pa?0:pa.length)?S(a.__assign(a.__assign({},T),{errorMessage:f.default.configureRoutingServices.onpremise.serviceFolderValidateError})):S(a.__assign(a.__assign({},T),{errorMessage:""}))},function(na){S(a.__assign(a.__assign({},T),{errorMessage:""}))})):S(a.__assign(a.__assign({},T),{errorMessage:""})):S(a.__assign(a.__assign({},T),{errorMessage:f.default.configureRoutingServices.onpremise.selectServer}))},ia=function(){return L.some(function(ma){return ma.checked})};
return(0,b.h)(b.Fragment,null,(0,b.h)("div",{slot:"content",class:"routing-content"},(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"padding-leader-1 padding-trailer-1"},(0,b.h)("span",null,f.default.configureRoutingServices.onpremise.publishTitle,(0,b.h)("calcite-link",{href:"".concat(d.getHelpLink(120003688),"#ESRI_SECTION1_21A40CADA9D94FC18A2F3A07B46F26F5"),target:"_blank"},f.default.configureRoutingServices.onpremise.publishDetails))),(0,b.h)("div",{class:"padding-leader-half padding-trailer-half"},
(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"property-title"},(0,b.h)("span",null,f.default.configureRoutingServices.onpremise.networkDataset)),(0,b.h)("div",{class:"network-dataset"},(0,b.h)("calcite-label",{scale:"l"},f.default.configureRoutingServices.onpremise.datastoreItem,(0,b.h)("calcite-combobox",{label:"Single selection-mode combobox",selectionMode:"single",scale:"m",oncalciteComboboxChange:function(ma){ma=ea(ma.target.value);var na=ma.id;B(ma);fa(na);P(null);ma.isFolder?W(na):C(null)},
value:null===A||void 0===A?void 0:A.title,placeholder:f.default.configureRoutingServices.onpremise.selectDataStore},e),D&&(0,b.h)("div",{class:"routing-service-item-note"},f.default.configureRoutingServices.onpremise.datastoreServerPathHint,D),Z&&!A&&(0,b.h)("div",{class:"input-error-message is-active"},(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s",class:"margin-right-half"}),f.default.configureRoutingServices.onpremise.selectDatastore))),
(0,b.h)("calcite-label",{scale:"l"},f.default.configureRoutingServices.onpremise.gisServerSite,(0,b.h)("calcite-combobox",{label:"Single selection-mode combobox",selectionMode:"single",scale:"m",oncalciteComboboxChange:function(ma){ma=ma.target.value;P(ma);D||da(A.id,ma)},value:K,placeholder:f.default.configureRoutingServices.onpremise.selectGISServerSite},x),Z&&!K&&(0,b.h)("div",{class:"input-error-message is-active"},(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("calcite-icon",{icon:"exclamation-mark-triangle",
scale:"s",class:"margin-right-half"}),f.default.configureRoutingServices.onpremise.selectServer))),(0,b.h)("label",{class:"trailer-0",for:"routing-portal-network-dataset-location"},f.default.configureRoutingServices.onpremise.networkDatasetLocation,(0,b.h)("button",{"aria-label":f.default.configureRoutingServices.onpremise.networkDatasetLocationHelpText,class:"webhook-btn-link margin-right-1",onClick:function(){q(!0)}},(0,b.h)("calcite-icon",{class:"routing-service-dataset-path js-modal-toggle",icon:"information",
scale:"s"}))),(0,b.h)("input",{id:"routing-portal-network-dataset-location",class:Z&&!E?"input-error route-modal-input":"route-modal-input",type:"text","aria-required":"true",value:E,onChange:function(ma){H(ma.target.value)},placeholder:"/streets/NorthAmerica.gdb/Routing/Routing_ND"}),(0,b.h)("div",{class:"dataset-path-note"},f.default.configureRoutingServices.onpremise.selectDatasetLocationHint),Z&&!E&&(0,b.h)("div",{class:"input-error-message is-active"},f.default.configureRoutingServices.onpremise.selectDatasetLocation)))),
(0,b.h)("div",{class:"leader-half"},function(){return(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"property-title"},f.default.configureRoutingServices.onpremise.serviceProperties),(0,b.h)("label",{class:"trailer-0",for:"routing-portal-service-folder"},f.default.configureRoutingServices.onpremise.serviceFolder,(0,b.h)("input",{id:"routing-portal-service-folder",class:Z&&(null===T||void 0===T||!T.name)||(null===T||void 0===T?0:T.errorMessage)?"input-error route-modal-input":"route-modal-input",type:"text",
"aria-required":"true",value:null===T||void 0===T?void 0:T.name,onChange:function(ma){S({name:ma.target.value})},onBlur:function(ma){return ka(ma)}})),Z&&!(null===T||void 0===T?0:T.name)&&(0,b.h)("div",{class:"input-error-message is-active"},f.default.configureRoutingServices.onpremise.selectServiceFolder),(null===T||void 0===T?void 0:T.errorMessage)&&(0,b.h)("div",{class:"input-error-message is-active"},null===T||void 0===T?void 0:T.errorMessage),(0,b.h)("div",{class:"server-item-wrapper"},(0,b.h)("div",
{class:"server-item-title"},f.default.configureRoutingServices.onpremise.serviceTypes),L.map(function(ma,na){return(0,b.h)("div",{key:na+ma.type,class:"toggle-switch routing-type-switch clearfix"},(0,b.h)("label",{class:"trailer-0 toggle-switch-label left font-size--1",for:ma.type},ma.label),(0,b.h)("input",{id:ma.type,type:"checkbox",class:"toggle-switch-input",checked:ma.checked}),(0,b.h)("span",{class:"toggle-switch-track right",onClick:function(){return ha(ma)}}))}),Z&&!ia()&&(0,b.h)("div",{class:"input-error-message is-active"},
f.default.configureRoutingServices.onpremise.selectServiceType)),(0,b.h)("div",{class:"itemFile-wrapper"},(0,b.h)("label",{class:"trailer-0",for:"routing-portal-item-file"},f.default.configureRoutingServices.onpremise.advancedProperties),(0,b.h)("form",{id:"routing-portal-item-file-uploader",encType:"multipart/form-data",for:"routing-portal-item-file"},(0,b.h)("input",{id:"routing-portal-item-file",class:"itemFile",name:"itemFile",type:"file",accept:".json",onChange:function(){return la()}}))))}()))),
(0,b.h)("calcite-button",{"aria-label":f.default.configureRoutingServices.label.back,scale:"l",slot:"back",icon:"chevron-left",width:"full",appearance:"outline",kind:"neutral",disabled:I,onClick:function(){return v("default")}},f.default.configureRoutingServices.online.backBtn),(0,b.h)("calcite-button",{"aria-label":f.default.configureRoutingServices.label.updateRoutingService,scale:"l",slot:"primary",width:"full",disabled:I||O,onClick:function(){return a.__awaiter(r,void 0,void 0,function(){var ma,
na,pa,sa,ta,oa,qa,ua=this;return a.__generator(this,function(ra){switch(ra.label){case 0:ma=!!A&&!!E&&!!K&&!(null===T||void 0===T||!T.name)&&!(null===T||void 0===T?0:T.errorMessage)&&ia();if(!ma)return[3,5];ca(!1);Q(!0);c(!0);na="".concat(K,"/rest/services/System/PublishingTools/GPServer/Publish%20Routing%20Services/");pa=function(){return a.__awaiter(ua,void 0,void 0,function(){var va,za,Ca,wa,ya;return a.__generator(this,function(Fa){try{return va={token:(null===(ya=h.default.userInfo.credential)||
void 0===ya?void 0:ya.token)||h.default.userInfo.token,referer:window.location.href},za="".concat(na,"/submitJob"),Ca=[],L.forEach(function(La){La.checked&&Ca.push(La.type)}),wa={networkDataset:JSON.stringify({datastoreId:A.id,path:E}),networkDatasetExtents:null,serviceFolder:null===T||void 0===T?void 0:T.name,solverTypes:JSON.stringify(Ca),configFile:JSON.stringify(R),authenticationInfo:JSON.stringify(va)},[2,m.default.request({url:za,content:wa},{usePost:!0,useProxy:m.default.shouldUseProxy(za)}).promise]}catch(La){Q(!1),
c(!1),p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.requestTokenError})}return[2]})})};sa=function(){return a.__awaiter(ua,void 0,void 0,function(){return a.__generator(this,function(va){switch(va.label){case 0:return va.trys.push([0,2,,3]),[4,pa()];case 1:return va.sent(),l({jobStatus:"esriJobExecuting"}),n("publish"),g(!0),[3,3];case 2:return va.sent(),Q(!1),c(!1),p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.publishRoutingServiceError}),
[3,3];case 3:return[2]}})})};ta=function(){return a.__awaiter(ua,void 0,void 0,function(){var va,za;return a.__generator(this,function(Ca){switch(Ca.label){case 0:return Ca.trys.push([0,2,,3]),va="".concat(h.default.restBaseUrl,"portals/").concat(h.default.portal.id,"/resources/publishroutingservices_status.json"),[4,m.default.request({url:va},{useProxy:m.default.shouldUseProxy(va)})];case 1:return Ca.sent(),[3,3];case 2:return za=Ca.sent(),"ORG_1065"===(null===za||void 0===za?void 0:za.messageCode)?
sa():p({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:w.alertIndicatorInfo.removeOrgResourceError}),[3,3];case 3:return[2]}})})};ra.label=1;case 1:return ra.trys.push([1,3,,4]),oa="".concat(h.default.restBaseUrl,"portals/").concat(h.default.portal.id,"/removeResource"),qa={key:"publishroutingservices_status.json"},[4,m.default.request({url:oa,content:qa},{usePost:!0}).promise];case 2:return ra.sent(),ta(),[3,4];case 3:return ra.sent(),ta(),[3,4];case 4:return[3,6];case 5:ca(!0),
Q(!1),c(!1),ra.label=6;case 6:return[2]}})})}},I?(0,b.h)("div",{class:"saveIndicator"},(0,b.h)("calcite-loader",{label:"savingManifest",scale:"l",inline:!0,hidden:!I}),(0,b.h)("span",{class:"savingIndicator"},f.default.configureRoutingServices.onpremise.publishingRoutingService)):(0,b.h)("div",null,f.default.configureRoutingServices.onpremise.publishRoutingService)),(0,b.h)("calcite-button",{"aria-label":f.default.configureRoutingServices.label.close,scale:"l",slot:"secondary",width:"full",appearance:"outline",
disabled:I,onClick:function(){return g(!1)}},f.default.configureRoutingServices.configureModal.cancelBtn))}})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/AdvancedOption":function(){define("require exports tslib preact preact/hooks esri/request arcgisonline/pages/serviceUtil arcgisonline/sharing/util dojo/i18n!arcgisonline/nls/arcgisonline arcgisonline/sharing/util arcgisonline/esriGeowConfig ./RoutingServiceHelper".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v){var g=this;
Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);M.default=function(p){var n=p.portal,q=p.switchSettingPanel,l=p.closeRoutingConfigModal,c=p.setIsRoutingConfigured,d=p.setRoutingServicesSourceInfo,w=p.displayNotificationIndicator,t=p.setOnpremiseMessage,z=u.default.configureRoutingServices.type,x=new v.default,y=(0,k.useState)("downloading");
p=y[0];var A=y[1];y=(0,k.useState)(!1);var B=y[0],D=y[1],C=(0,k.useState)();y=C[0];var E=C[1];C=(0,k.useState)([{label:z.closestFacility,key:"asyncClosestFacility",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer/toolName")},{label:z.locationAllocation,key:"asyncLocationAllocation",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer")},{label:z.originDestinationCostMatrix,
key:"asyncODCostMatrix",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer")},{label:z.route,key:"asyncRoute",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer")},{label:z.serviceArea,key:"asyncServiceArea",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer/toolName")},{label:z.asyncVehicleRoutingProblem,
key:"asyncVRP",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer/toolName")},{label:z.syncVehicleRoutingProblem,key:"syncVRP",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer/toolName")},{label:z.routingUtilities,key:"routingUtilities",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/GPServer")},{label:z.closestFacility,
key:"closestFacility",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/NAServer/layerName")},{label:z.originDestinationCostMatrix,key:"odCostMatrix",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/NAServer/layerName")},{label:z.route,key:"route",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/NAServer/layerName")},{label:z.serviceArea,
key:"serviceArea",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/NAServer/layerName")},{label:z.traffic,key:"traffic",url:"",hint:"".concat("https://webadaptorhost.domain.com/webadaptorname/rest/services/folder/serviceName","/MapServer")}]);var H=C[0],G=C[1];(0,k.useEffect)(function(){try{(function(){return a.__awaiter(g,void 0,void 0,function(){var Q;return a.__generator(this,function(V){switch(V.label){case 0:return[4,x.fetchHelperServices()];
case 1:return Q=V.sent(),G(H.map(function(X){var Z,ca,R=null===(ca=null===(Z=null===Q||void 0===Q?void 0:Q.helperServices)||void 0===Z?void 0:Z[X.key])||void 0===ca?void 0:ca.url;return a.__assign(a.__assign({},X),{url:R})})),[2]}})})})()}catch(Q){w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:u.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.fetchUpdatedRoutingServiceError})}},[]);(0,k.useEffect)(function(){A("success");E((0,b.h)(b.Fragment,null,
(0,b.h)("div",{class:"trailer-1"},z.analysisTools,F()),(0,b.h)("div",{class:"trailer-1"},z.utilityTools,I()),(0,b.h)("div",{class:"trailer-1"},z.networkAnalysisServices,J()),(0,b.h)("div",{class:"trailer-1"},z.mapImageLayer,K())));D(H.some(function(Q){return!!Q.errorMessage}))},[H]);var F=function(){return x.getAnalysisTools(H).map(function(Q){return P(Q)})},I=function(){return x.getUtilityTools(H).map(function(Q){return P(Q)})},J=function(){return x.getNetworkAnalysisServices(H).map(function(Q){return P(Q)})},
K=function(){return x.getMapImageLayer(H).map(function(Q){return P(Q)})},P=function(Q){return(0,b.h)("div",{key:Q.key,class:"margin-left-1 leader-half"},(0,b.h)("label",null,Q.label,(0,b.h)("input",{class:(null===Q||void 0===Q?0:Q.errorMessage)?"input-error route-modal-input":"route-modal-input",type:"text",name:Q.label,value:Q.url,onBlur:function(V){return L(V,Q.key)},onChange:function(V){return T(V,Q.key)}}),(0,b.h)("div",{class:"routing-service-item-note"},u.default.configureRoutingServices.routingServiceItemHint,
"\u00a0",Q.hint),(null===Q||void 0===Q?void 0:Q.errorMessage)&&(0,b.h)("div",{class:"input-error-message is-active"},Q.errorMessage)))},T=function(Q,V){G(H.map(function(X){return X.key!==V?a.__assign({},X):a.__assign(a.__assign({},X),{url:Q.target.value})}))},S=function(Q){D(!0);G(H.map(function(V){return V.key!==Q?a.__assign({},V):a.__assign(a.__assign({},V),{errorMessage:u.default.configureRoutingServices.advancedOption.serviceURLDetailsError})}))},L=function(Q,V){return a.__awaiter(g,void 0,void 0,
function(){var X,Z,ca,R;return a.__generator(this,function(Y){switch(Y.label){case 0:X="traffic"===V?"".concat(Q.target.value,"/layers"):Q.target.value;if(!X||!x.validates(X))return[3,5];Y.label=1;case 1:Y.trys.push([1,3,,4]);Z={f:"json"};if(ca=m.default.isServiceProxy(X))Z.token=h.default.getToken();return[4,(0,f.default)({url:X,content:Z,timeout:5E3,callbackParamName:"callback"},{useProxy:!0}).promise];case 2:return R=Y.sent(),x.serviceValidates(V,R)?G(H.map(function(ba){return ba.key!==V?a.__assign({},
ba):a.__assign(a.__assign({},ba),{errorMessage:""})})):S(V),[3,4];case 3:return Y.sent(),S(V),[3,4];case 4:return[3,6];case 5:G(H.map(function(ba){return ba.key!==V?a.__assign({},ba):a.__assign(a.__assign({},ba),{errorMessage:""})})),Y.label=6;case 6:return[2]}})})};C=(0,k.useState)(!1);var N=C[0],O=C[1];return(0,b.h)(b.Fragment,null,(0,b.h)("div",{slot:"content",class:"routing-content"},"downloading"===p?(0,b.h)("div",null,u.default.configureRoutingServices.detailsModal.title):y),(0,b.h)("calcite-button",
{"aria-label":u.default.configureRoutingServices.label.back,scale:"l",slot:"back",icon:"chevron-left",width:"full",appearance:"outline",kind:"neutral",disabled:N,onClick:function(){return q("default")}},u.default.configureRoutingServices.online.backBtn),(0,b.h)("calcite-button",{"aria-label":u.default.configureRoutingServices.label.updateRoutingService,scale:"l",slot:"primary",width:"full",disabled:N,onClick:function(){return a.__awaiter(g,void 0,void 0,function(){var Q,V,X;return a.__generator(this,
function(Z){switch(Z.label){case 0:if(!B)return[3,1];w({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:u.default.configureRoutingServices.advancedOption.clearErrorNotice});return[3,8];case 1:return Z.trys.push([1,7,,8]),O(!0),Q=x.generateHelperServiceResult(H),Q.routingServicesSource={sourceName:"Custom"},[4,x.updateRoutingService(Q)];case 2:Z.sent(),c(H.some(function(ca){return!!ca.url})),d(Q.routingServicesSource),t(null),l(!1),x.publishHelperServicesChange(Q,n),Z.label=
3;case 3:return Z.trys.push([3,5,,6]),V="".concat(e.default.restBaseUrl,"portals/").concat(e.default.portal.id,"/removeResource"),X={key:"publishroutingservices_status.json"},[4,r.default.request({url:V,content:X},{usePost:!0}).promise];case 4:return Z.sent(),[3,6];case 5:return Z.sent(),[3,6];case 6:return[3,8];case 7:return Z.sent(),O(!1),w({alertIndicatorActive:!0,alertIndicatorColor:"red",alertIndicatorInfo:u.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.publishRoutingServiceError}),
[3,8];case 8:return[2]}})})}},N?(0,b.h)("div",{class:"saveIndicator"},(0,b.h)("calcite-loader",{label:"savingManifest",scale:"l",inline:!0,hidden:!N}),(0,b.h)("span",{class:"savingIndicator"},u.default.configureRoutingServices.online.savingBtn)):(0,b.h)("div",null,u.default.configureRoutingServices.online.saveBtn)),(0,b.h)("calcite-button",{"aria-label":u.default.configureRoutingServices.label.close,scale:"l",slot:"secondary",width:"full",appearance:"outline",disabled:N,onClick:function(){return l(!1)}},
u.default.configureRoutingServices.configureModal.cancelBtn))}})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/RoutingDetailsModal":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/components/BodyAppender dojo/i18n!arcgisonline/nls/arcgisonline ./RoutingServiceHelper".split(" "),function(U,M,a,b,k,f,m,h){var u=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=
function(r){var e=r.routingDetailsModalActive,v=r.closeRoutingDetailsModal,g=r.displayNotificationIndicator,p=m.default.configureRoutingServices.type,n=new h.default,q=(0,k.useState)("downloading");r=q[0];var l=q[1];q=function(){return v(!1)};var c=[{label:p.closestFacility,key:"asyncClosestFacility"},{label:p.locationAllocation,key:"asyncLocationAllocation"},{label:p.originDestinationCostMatrix,key:"asyncODCostMatrix"},{label:p.route,key:"asyncRoute"},{label:p.serviceArea,key:"asyncServiceArea"},
{label:p.asyncVehicleRoutingProblem,key:"asyncVRP"},{label:p.syncVehicleRoutingProblem,key:"syncVRP"},{label:p.routingUtilities,key:"routingUtilities"},{label:p.closestFacility,key:"closestFacility"},{label:p.originDestinationCostMatrix,key:"odCostMatrix"},{label:p.route,key:"route"},{label:p.serviceArea,key:"serviceArea"},{label:p.traffic,key:"traffic"}],d=(0,k.useState)(),w=d[0],t=d[1];(0,k.useEffect)(function(){try{(function(){return a.__awaiter(u,void 0,void 0,function(){var D;return a.__generator(this,
function(C){switch(C.label){case 0:return[4,n.fetchHelperServices()];case 1:return D=C.sent(),C=null===D||void 0===D?void 0:D.helperServices,C=(0,b.h)(b.Fragment,null,(0,b.h)("div",{class:"trailer-1"},p.analysisTools,z(C)),(0,b.h)("div",{class:"trailer-1"},p.utilityTools,x(C)),(0,b.h)("div",{class:"trailer-1"},p.networkAnalysisServices,y(C)),(0,b.h)("div",{class:"trailer-1"},p.mapImageLayer,A(C))),t(C),l("success"),[2]}})})})()}catch(D){g({alertIndicatorActive:!0,alertIndicatorColor:"danger",alertIndicatorInfo:m.default.configureRoutingServices.notificationIndicator.alertIndicatorInfo.fetchUpdatedRoutingServiceError})}},
[]);var z=function(D){return n.getAnalysisTools(c).map(function(C){return B(D,C)})},x=function(D){return n.getUtilityTools(c).map(function(C){return B(D,C)})},y=function(D){return n.getNetworkAnalysisServices(c).map(function(C){return B(D,C)})},A=function(D){return n.getMapImageLayer(c).map(function(C){return B(D,C)})},B=function(D,C){var E,H=null===(E=D.routingServicesSource)||void 0===E?void 0:E.sourceName;E=D[C.key];D=null===E||void 0===E?void 0:E.url;H=n.configureProxyItemUrl(H,E,D);return(0,b.h)("div",
{key:C.key,class:"margin-left-1 leader-half"},(0,b.h)("label",{class:"trailer-0",for:C.key},C.label),(0,b.h)("div",{class:"flex"},(0,b.h)("input",{type:"text",id:C.key,name:C.label,value:D,readonly:!0}),!!H&&(0,b.h)("div",{class:"helper-service-link-wrapper"},(0,b.h)("div",{class:"helper-service-link"},(0,b.h)("a",{href:H,target:"_blank"},(0,b.h)("span",null,(0,b.h)("calcite-icon",{class:"help-service-link-icon",icon:"launch",scale:"m"})))))))};return(0,b.h)(f.default,{id:"routing-service-detail-modal"},
(0,b.h)("calcite-modal",{class:"routing-service-modal","aria-labelledby":"modal-title",open:e,scale:"m",width:"m",outsideCloseDisabled:!0,oncalciteModalClose:q},(0,b.h)("h3",{slot:"header"},m.default.configureRoutingServices.detailsModal.title),(0,b.h)("div",{slot:"content",class:"routing-content"},"downloading"===r?(0,b.h)("div",null,m.default.configureRoutingServices.Loading):w),(0,b.h)("calcite-button",{"aria-label":m.default.configureRoutingServices.label.close,scale:"l",slot:"secondary",width:"full",
appearance:"outline",disabled:!1,onClick:q},m.default.configureRoutingServices.configureModal.cancelBtn)))}})},"arcgisonline/pages/organization/widgets/settings/rows/routingService/NotificationModal":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.alertIndicator,f=b.closeNotificationModal;return(0,a.h)("calcite-alert",{class:"routing-error-handler",icon:"",label:"notificationIndicator",autoClose:!0,autoCloseDuration:"medium",
open:k.alertIndicatorActive,scale:"m",kind:k.alertIndicatorColor,"aria-hidden":!k.alertIndicatorActive,oncalciteAlertClose:function(){f(!1)}},(0,a.h)("div",{slot:"message"},k.alertIndicatorInfo))}})},"arcgisonline/pages/organization/widgets/settings/rows/OrthomappingElevationServiceRow":function(){define("require exports tslib ./BasicUtilityServiceRow ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m){b=
a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){this.SERVICE_KEY="orthomappingElevation"}h.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),m.default.utilityServicesTab.orthomappingElevation)};h.prototype.getUpdatePayload=function(u){var r=k.default.getClearEmptyFieldsStateForHelperService(u);return{orthomappingElevationService:JSON.stringify(u),clearEmptyFields:r}};
h.prototype.serviceValidates=function(u,r){return!!(-1<u.indexOf("/ImageServer")&&r)};return h=a.__decorate([(0,f.default)(b.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/PrintingRow":function(){define("require exports tslib calcite-web/js/calcite-web dragula/dragula esri/request esri/lang dojo/_base/lang dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/PrintingRow.html dojo/on dojo/Deferred dojo/query dijit/registry ./PrintTemplateItem ./SettingsRow arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/utils/organization arcgisonline/pages/utils/strings arcgisonline/pages/utils/validation arcgisonline/pages/dijit/Pagination arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/PrintTemplateDlg ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);return function(){function C(E,H){this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},this.i18n),r.default.common),r.default.utilityServicesTab),r.default.utilityServicesTab.printing);this.templateString=e.default;this.valueType="text";this.settingsProps=["printServiceTask"];this.templateItems=[];this.hasError=!1;this.defaultLayout={layout:"MAP_ONLY",format:"PNG32"};this.templates=
[];this.start=1;this.topicPrefix="printing-templates";this.templatesPerPage=20;this.handleDrag=this.handleDrag.bind(this);this.handleDrop=this.handleDrop.bind(this);this.handleMoveDown=this.handleMoveDown.bind(this);this.handleMoveUp=this.handleMoveUp.bind(this)}C.prototype.render=function(){var E=(this.isPortal=this.portal.isPortal)?this.i18n.examplePrintService.replace("http:","https:"):this.i18n.examplePrintService;this.exampleEl.innerHTML="".concat(this.i18n.exampleLabel," ").concat(E);this.inherited(arguments)};
C.prototype.addEventListeners=function(){var E=this;this.inherited(arguments);this.own((0,v.default)(this.textbox,"blur",function(){E.validates()}),(0,v.default)(this.textbox,"keyup",function(H){13===H.keyCode&&E.validates&&E.save()}),(0,v.default)(this.createBtn,"click",this.handleCreateClick.bind(this)),(0,v.default)(this.refreshBtn,"click",function(){return E.updateDisplayValue(E.value)}),u.default.subscribe("".concat(this.topicPrefix,"pagination/page"),this.paginationPage.bind(this)),u.default.subscribe("printTemplate-add",
this.handleTemplateAdded.bind(this)),u.default.subscribe("printTemplate-edit",this.handleTemplateUpdated.bind(this)),u.default.subscribe("helperService-update/printTask",this.handlePrintTaskUpdated.bind(this)))};C.prototype.updateDisplayValue=function(E,H,G){var F=this,I=new g.default;this.inherited(arguments);this.sortingItem=void 0;var J=E,K=this.portal.selfNoAuth;if(this.printService=J){K=!this.isPortal&&J.url&&A.default.isSameUrl(J.url,K.helperServices.printTask.url,!0);var P=this.isPortal&&J.url&&
-1<J.url.indexOf("/sharing/tools/newPrint");K||P?(this._displayValue.textContent=this.i18n.esriDefault,I.resolve()):(this.textbox.value=this._displayValue.textContent=J.url,this.loadDataFromService(this.printService.url||"").then(function(){J.templates?F.renderTemplates(J.templates,G):(F.getTemplatesFromServiceInfo(F.serviceInfo),F.renderTemplates(F.templates,G));F.setupDrag();I.resolve()}))}else this._displayValue.textContent=this.i18n.esriDefault,w.default.hideNode(this.templatesSection),I.resolve();
return I};C.prototype.resetFormValues=function(){this.textbox.value=this.value&&this.value.url||"";x.default.clearState([this.textbox,this.inputError])};C.prototype.save=function(){var E=this;this.validateService().then(function(){E.proceedToSave()})};C.prototype.setupDrag=function(){this.dragulaInstance||(this.dragulaInstance=(0,k.default)([this.templatesContainer],{isContainer:function(E){return E.classList.contains("pagination-btn")},accepts:function(E,H,G,F){H.classList.contains("pagination-btn")&&
H.click();return!H.classList.contains("pagination-btn")}}),this.dragulaInstance.on("drop",this.handleDrop),this.dragulaInstance.on("drag",this.handleDrag))};C.prototype.handleDrop=function(E,H,G,F){E=+E.dataset.idx;F=this.getNewIndex(F,E);E!==F&&this.sortItems(E,F)};C.prototype.handleDrag=function(E,H){this.sortingItem=n.default.byNode(E)};C.prototype.getNewIndex=function(E,H){var G=-1;E&&-1<+E.dataset.idx?(G=+E.dataset.idx,G>H&&--G):(E=(0,p.default)(".js-print-template-item",this.templatesContainer),
G=+E[E.length-2].dataset.idx,G<H&&(G+=1));return G};C.prototype.sortItems=function(E,H){var G=this,F=H>E,I=this.templates.map(function(J){var K=J.idx;F&&J.idx>E&&J.idx<=H?K=J.idx-1:!F&&J.idx>=H&&J.idx<E?K=J.idx+1:J.idx===E&&(K=H);return a.__assign(a.__assign({},J),{idx:K})});I.sort(function(J,K){return J.idx>K.idx?1:J.idx<K.idx?-1:0});return this.updatePrintTask(a.__assign(a.__assign({},this.printService),{templates:I})).then(function(){G.value.templates=G.templates=I;return G.updateDisplayValue(G.value,
!1,!0)})};C.prototype.handleCreateClick=function(){c.default.createSpecifiedDialog(B.default).show(this.serviceInfo)};C.prototype.renderTemplates=function(E,H){this.templates=E;this.templates.forEach(function(G,F){G.idx=F});this.pagination&&this.pagination.destroy();H||(this.start=1);this.pagination=new y.default({topic:this.topicPrefix,start:this.start,num:this.templatesPerPage,hideDropdown:!0});this.domNode.querySelector(".js-pagination").appendChild(this.pagination.domNode);H=this.start+this.templatesPerPage;
H>E.length&&(H=-1);this.pagination.render({total:E.length,start:this.start,nextStart:H});this.renderPage();w.default.showNode(this.templatesSection)};C.prototype.handlePrintTaskUpdated=function(E){this.updateDisplayValue(E)};C.prototype.handleTemplateAdded=function(E){var H=this,G=a.__spreadArray([],this.templates,!0);E.idx=G.length;G.push(E);E=a.__assign(a.__assign({},this.printService),{templates:G});this.updatePrintTask(E).then(function(){H.value.templates=H.templates=G;H.goToPageByItemNum(G.length)})};
C.prototype.handleTemplateUpdated=function(E){var H=this,G=this.templates.map(function(I){return I.idx===E.idx?a.__assign(a.__assign({},I),E):I}),F=a.__assign(a.__assign({},this.printService),{templates:G});this.updatePrintTask(F).then(function(){H.value.templates=H.templates=G;H.templateItems.forEach(function(I){I.template.idx===E.idx&&I.update(E)})})};C.prototype.handleTemplateDelete=function(E){var H=this,G=this.i18n.deleteConfirm;c.default.createConfirmationDialog({strings:{title:G.title,description:G.message},
okColor:"red",autoCloseOnOk:!0,onOk:function(){H.proceedToDelete(E)},onCancel:function(){var F,I;null===(I=null===(F=E.actionsBtn)||void 0===F?void 0:F.focus)||void 0===I?void 0:I.call(F)}})};C.prototype.proceedToDelete=function(E){var H=this,G=E.template,F=a.__spreadArray([],this.templates,!0);F.splice(G.idx,1);E=a.__assign(a.__assign({},this.printService),{templates:F});this.updatePrintTask(E).then(function(){H.templateItems.forEach(function(I){I.template.idx===G.idx&&I.destroy()});H.value.templates=
H.templates=F;G.idx+1>F.length?H.goToPageByItemNum(F.length):H.renderPage()})};C.prototype.goToPageByItemNum=function(E){this.start=(Math.ceil(E/this.templatesPerPage)-1)*this.templatesPerPage+1;this.pagination.render({total:this.templates.length,start:this.start,nextStart:-1});this.renderPage()};C.prototype.renderPage=function(){var E=this,H,G,F=this.start-1,I=this.templates.slice(F,F+this.templatesPerPage);this.templateItems&&this.templateItems.forEach(function(P){return P.destroy});var J=(null===
(H=this.sortingItem)||void 0===H?void 0:H.template.idx)<F,K=(null===(G=this.sortingItem)||void 0===G?void 0:G.template.idx)>=F+this.templatesPerPage;I=I.filter(function(P,T){return!E.sortingItem||E.sortingItem.template!==P&&(!J||J&&0!==T)&&(!K||K&&T!==I.length-1)});this.templateItems=I.map(function(P){P=new q.default({template:P});E.own((0,v.default)(P,"edit",E.handleEditTemplate.bind(E)),(0,v.default)(P,"delete",E.handleTemplateDelete.bind(E)),(0,v.default)(P,"move-down",E.handleMoveDown),(0,v.default)(P,
"move-up",E.handleMoveUp),(0,v.default)(P,"sort-activate",function(T){E.sortingItem=T.item}),(0,v.default)(P,"sort-deactivate",function(T){T=E.sortingItem.template.idx;var S=E.getNewIndex(E.sortingItem.domNode.nextSibling,T);T!==S&&E.sortItems(T,S).then(function(){E.templateItems.forEach(function(L){L.template.idx===S&&L.focusDragHandle()})});E.sortingItem=void 0}));return P});this.templatesContainer.innerHTML="";w.default.appendChildren(this.templateItems.map(function(P){return P.domNode}),this.templatesContainer);
H=document.createElement("div");H.dataset.idx="-1";this.templatesContainer.appendChild(H);b.default.dropdown()};C.prototype.handleMoveDown=function(E){E=E.item;var H=E.domNode.nextSibling;H&&-1<+H.dataset.idx?H.insertAdjacentElement("afterend",E.domNode):-1<this.pagination.nextStart&&(this.start=this.pagination.nextStart,H=this.start+this.templatesPerPage,H=H>this.templates.length?-1:H,this.pagination.render({total:this.templates.length,start:this.start,nextStart:H}),this.renderPage(),this.templatesContainer.firstElementChild.insertAdjacentElement("beforebegin",
E.domNode));E.focusDragHandle()};C.prototype.handleMoveUp=function(E){E=E.item;var H=E.domNode.previousSibling;H?H.insertAdjacentElement("beforebegin",E.domNode):1<this.pagination.start&&(H=this.start,this.start-=this.templatesPerPage,this.pagination.render({total:this.templates.length,start:this.start,nextStart:H}),this.renderPage(),this.templatesContainer.lastElementChild.insertAdjacentElement("beforebegin",E.domNode));E.focusDragHandle()};C.prototype.handleEditTemplate=function(E){c.default.createSpecifiedDialog(B.default).show(this.serviceInfo,
h.default.clone(E.template))};C.prototype.paginationPage=function(E){this.start=E.start;this.renderPage()};C.prototype.proceedToSave=function(){var E=this,H=m.default.isDefined(this.portal.selfNoAuth);if(!this.hasError){if(this.printService){var G=this.printService;!this.isPortal&&H&&A.default.isSameUrl(G.url,this.portal.selfNoAuth.helperServices.route.url,!0)&&(G.url=G.url.replace("https://","http://"))}else G="";m.default.isDefined(G)?this.updatePrintTask(G).then(function(){E.printService=E.value=
G;E.updateDisplayValue(E.value);E.toggleEdit(!1);u.default.publish("helperService-update/printTask",E.printService)}):this.toggleEdit(!1)}};C.prototype.updatePrintTask=function(E){var H=t.default.getClearEmptyFieldsStateForHelperService(E);return this.updateSetting({printServiceTask:JSON.stringify(E),clearEmptyFields:H},this.i18n.error,this.i18n.success)};C.prototype.loadDataFromService=function(E){var H=this,G=this.isThroughServiceProxy(E),F=this.isPortal&&A.default.onFederatedServer(E);return(0,f.default)({url:E,
content:{f:"json"},timeout:5E3,callbackParamName:"callback"},{useProxy:!1,disableIdentityLookup:!G&&!F}).then(function(I){return H.serviceInfo=I})};C.prototype.getTemplatesFromServiceInfo=function(E){var H=this;if(E=E.parameters.filter(function(J){return"Layout_Template"===J.name})[0]){var G,F=[],I=E.defaultValue;E.choiceList.forEach(function(J,K){J===I&&(G=K);K={format:H.defaultLayout.format,label:J,layout:J};J!==H.defaultLayout.layout&&(K.layoutOptions={legend:!1});F.push(K)});E=F.splice(G,1)[0];
this.templates=[];this.templates.push(E);F.forEach(function(J){H.templates.push(J)})}};C.prototype.validates=function(){var E=this.textbox.value;if(!this.portal.isPortal&&-1<E.indexOf("http:"))return x.default.setInvalidState(this.textbox,this.inputError,this.i18n.httpWarning),!1;x.default.clearState([this.textbox,this.inputError]);return!0};C.prototype.validateService=function(){var E=this,H=this.textbox.value,G=new g.default,F=this.i18n.invalidPrintServerUrl;if(H)try{-1<H.indexOf("GPServer")?this.loadDataFromService(H).then(function(I){var J=
(I.parameters||[]).some(function(K){return"Web_Map_as_JSON"===K.name||"Layout_Template"===K.name});I&&m.default.isDefined(I.parameters)&&J&&"esriExecutionTypeSynchronous"===I.executionType?(E.hasError=!1,E.printService={url:z.default.encodeWhitespace(H)},E.isEsriDefaultPrintService(E.printService.url)?w.default.hideNode(E.templatesSection):(E.getTemplatesFromServiceInfo(I),E.printService.templates=0<E.templates.length?E.templates:[a.__assign(a.__assign({},E.defaultLayout),{label:E.i18n.mapOnly})])):
(I&&"esriExecutionTypeAsynchronous"===I.executionType&&(F=E.i18n.asyncPrintServiceError),d.default.showAlert("error",F),E.printService=null,E.hasError=!0);G.resolve()},function(){d.default.showAlert("error",F);E.printService=null;E.hasError=!0;G.resolve()}):(d.default.showAlert("error",F),this.printService=null,this.hasError=!0,G.resolve())}catch(I){d.default.showAlert("error",F),this.printService=null,this.hasError=!0,G.resolve()}else this.printService=null,this.hasError=!1,G.resolve();return G};
C.prototype.isEsriDefaultPrintService=function(E){var H=this.portal.selfNoAuth,G=!1;return G=this.isPortal?-1!==E.indexOf("/newPrint")||-1!==E.indexOf(".arcgisonline.com"):H&&H.helperServices&&H.helperServices.printTask?A.default.isSameUrl(E,H.helperServices.printTask.url,!0):-1<E.indexOf(".arcgisonline.com")};C.prototype.isThroughServiceProxy=function(E){E=(E||"").toLowerCase();return 0<E.length&&-1<E.indexOf("/servers/")&&-1<E.indexOf("/rest/services/")};return C=a.__decorate([(0,D.default)(l.default)],
C)}()})},"arcgisonline/pages/organization/widgets/settings/rows/PrintTemplateItem":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/PrintTemplateItem.html dojo/i18n!../../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/icons ../../../../pageUtil ../../../../utils/dom ../../../../utils/keys ./PrintTemplateInfoDlg arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);
f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=f.default;this.i18n=m.default;this.icons=r.default;this.sorting=!1}q.prototype.postCreate=function(){this.inherited(arguments);var l=m.default.utilityServicesTab.printing.moveTemplate.replace("${name}",this.template.label);
this.dragHandle.innerHTML=r.default.getIconWithTitle("drag","16",l,"".concat(this.id,"_move_icon"));this.addEventListeners();this.updateDataset(this.template.label)};q.prototype.update=function(l){this.template=l;this.labelEl.innerHTML=l.label;this.updateDataset(l.label)};q.prototype.focusDragHandle=function(){this.dragHandle.focus()};q.prototype.updateDataset=function(l){this.domNode.dataset.label=this.template.label;this.domNode.dataset.idx="".concat(this.template.idx)};q.prototype.addEventListeners=
function(){var l=this;this.own((0,k.default)(this.infoBtn,"click",this.handleInfoBtnClick.bind(this)),(0,k.default)(this.editBtn,"click",function(){l.emit("edit",l)}),(0,k.default)(this.deleteBtn,"click",function(){l.emit("delete",l)}),(0,k.default)(this.dragHandle,"keydown",function(c){var d=!1;c.keyCode===g.default.SPACEBAR||c.keyCode===g.default.ENTER?(l.sorting=!l.sorting,v.default.addRemoveClass(l.domNode,"org-settings__card-list-row--sorting",l.sorting),l.emit("sort-".concat(l.sorting?"activate":
"deactivate"),{item:l}),d=!0):l.sorting&&c.keyCode===g.default.DOWN?(l.emit("move-down",{item:l}),d=!0):l.sorting&&c.keyCode===g.default.UP&&(l.emit("move-up",{item:l}),d=!0);d&&(c.preventDefault(),c.stopPropagation())}))};q.prototype.handleInfoBtnClick=function(){e.default.createSpecifiedDialog(p.default,{template:this.template}).show()};return q=a.__decorate([(0,n.default)(u.default,h.default,b.default)],q)}()})},"arcgisonline/pages/organization/widgets/settings/rows/PrintTemplateInfoDlg":function(){define("require exports tslib dojo/text!./templates/PrintTemplateInfoDlg.html dojo/i18n!../../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase dijit/Dialog arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=b.default;this.i18n=a.__assign({},k.default.utilityServicesTab.printing);this.formatPNG="PNG32";this.formatPDF="PDF"}r.prototype.postCreate=function(){this.inherited(arguments);this.dialog=new h.default({title:this.template.label,style:{width:"315px",maxWidth:"315px",outline:"none"}});
this.dialog.set({content:this.domNode});this.render()};r.prototype.show=function(){var e=this;this.dialog.show().then(function(){var v=e.domNode.querySelector(".dijitDialogCloseIcon");v&&v.focus();e.dialog.closeButtonNode.tabIndex=0})};r.prototype.render=function(){var e=this.template,v=e.description&&0<e.description.length?e.description:this.i18n.noDescription,g=e.layoutOptions&&!0===e.layoutOptions.legend,p=this.i18n.formats.image;e.format&&(e.format.toLowerCase()===this.formatPNG.toLowerCase()?
p=this.i18n.formats.image:e.format.toLowerCase()===this.formatPDF.toLowerCase()&&(p=this.i18n.formats.pdf));this.descEl.innerHTML=v;this.formatEl.innerHTML="".concat(this.i18n.formatLabel," ").concat(p);this.layoutEl.innerHTML="".concat(this.i18n.layoutLabel," ").concat(e.layout);this.legendEl.innerHTML="".concat(this.i18n.legendLabel," ").concat(g?this.i18n.trueLabel:this.i18n.falseLabel)};return r=a.__decorate([(0,u.default)(m.default,f.default)],r)}()})},"arcgisonline/sharing/dijit/dialog/PrintTemplateDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-style dojo/topic dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dijit/form/Button dijit/form/CheckBox arcgisonline/sharing/dijit/ComboBox dijit/form/TextBox dojo/store/Memory esri/request arcgisonline/pages/pageUtil arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/GeneralDlg dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/PrintTemplateDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){var x=M("arcgisonline.sharing.dijit.dialog.PrintTemplateDlg",[h,u,r],{declaredClass:"arcgisonline.sharing.dijit.dialog.PrintTemplateDlg",baseClass:"esriPrintTemplateDlg",basePath:U.toUrl("arcgisonline/sharing/dijit/dialog"),templateString:z,widgetsInTemplate:!0,MODE_ADD:"add",MODE_EDIT:"edit",formatPNG:"PNG32",formatPDF:"PDF",defaultFormat:null,defaultFormats:[],defaultLayout:"MAP_ONLY",defaultLayouts:["MAP_ONLY"],postMixInProperties:function(){this.inherited(arguments);
this._mixinI18N()},postCreate:function(){this.inherited(arguments);this._createConnections();this._setDefaults()},startup:function(){this.inherited(arguments)},show:function(y,A){this._clear();this._set("serviceInfo",y);this._setMode(A);this._loadDataFromServiceInfo();this._setStores();this._fillTemplateInfo();this._dialog.show()},hide:function(){this._dialog.hide()},_mixinI18N:function(){var y={};a.mixin(y,t.common);a.mixin(y,t.printTemplates);this._set("i18n",y)},_createConnections:function(){this.own(this._okBtn.on("click",
a.hitch(this,this._okClick)),this._cancelBtn.on("click",a.hitch(this,this._cancelClick)),this._layouts.on("change",a.hitch(this,this._layoutChange)))},_setDefaults:function(){var y=this._get("i18n");this.defaultFormat=y.formats.image;this.defaultFormats=[y.formats.image,y.formats.pdf];this._dialog.closeButtonNode.tabIndex=0},_setStores:function(){this._setFormats();this._setLayouts();this._createLayoutStore()},_setFormats:function(){this._formats.set("store",this._createFormatStore());this._formats.set("value",
this._get("format"))},_createFormatStore:function(){var y=[],A=this._get("formats"),B;for(B=0;B<A.length;B++){var D=A[B];y.push({id:D,name:D})}return new q({data:y})},_setLayouts:function(){this._layouts.set("store",this._createLayoutStore());this._layouts.set("value",this._get("layout"))},_createLayoutStore:function(){var y=[],A=this._get("layouts"),B;for(B=0;B<A.length;B++){var D=A[B];y.push({id:D,name:D})}return new q({data:y})},_clear:function(){this._setDefaultFormats();this._setDefaultLayouts();
this._set("url",null);this._setMode();this._name.set("value","");this._description.set("value","");this._legend.set("checked",!1)},_setMode:function(y){var A=this._get("i18n");y?(this._set("mode",this.MODE_EDIT),this._set("template",y),this._dialog.set("title",A.editTemplate),this._okBtn.set("label",A.update)):(this._set("mode",this.MODE_ADD),this._set("template",{}),this._dialog.set("title",A.createTemplate),this._okBtn.set("label",A.create))},_loadDataFromServiceInfo:function(){var y=this._get("serviceInfo"),
A=[],B=[],D;if(y&&y.parameters&&0!==y.parameters){for(D=0;D<y.parameters.length;D++){var C=y.parameters[D];if("Layout_Template"===C.name){var E=C.defaultValue;B=a.clone(C.choiceList)}}if(!H&&0===A.length){var H=this.defaultFormat;A=this.defaultFormats}E||0!==B.length||(E=this.defaultLayout,B=this.defaultLayouts);this._set("format",H);this._set("formats",A);this._set("layout",E);this._set("layouts",B)}else this._set("format",this.defaultFormat),this._set("formats",this.defaultFormats),this._set("layout",
this.defaultLayout),this._set("layouts",this.defaultLayouts)},_setDefaultFormats:function(){this._set("format",this.defaultFormat);this._set("formats",this.defaultFormats)},_setDefaultLayouts:function(){this._set("layout",this.defaultLayout);this._set("layouts",this.defaultLayouts)},_fillTemplateInfo:function(){var y=this._get("i18n"),A=this._get("template");A.label&&this._name.set("value",A.label);A.description&&this._description.set("value",A.description);if(A.format){var B=A.format.toLowerCase();
B===this.formatPNG.toLowerCase()?this._formats.set("value",y.formats.image):B===this.formatPDF.toLowerCase()?this._formats.set("value",y.formats.pdf):this._formats.set("value",y.formats.image)}A.layout&&this._layouts.set("value",A.layout);A.layoutOptions&&A.layoutOptions.legend?this._legend.set("checked",!0===A.layoutOptions.legend):this._legend.set("checked",!1)},_isAddMode:function(){return this._get("mode")===this.MODE_ADD},_isEditMode:function(){return this._get("mode")===this.MODE_EDIT},_isValidTemplate:function(y){var A=
this._get("i18n");return!y.label||1>y.label.length?(this._showError(A.nameRequired),!1):y.description&&120<y.description.length?(this._showError(A.descriptionTooLong),!1):!0},_showError:function(y){var A=this._get("i18n");c.createSpecifiedDialog(w).show({title:A.errorTitle,message:y})},_publishToTopic:function(){f.publish("printTemplate-"+this._get("mode"),this._get("template"))},_okClick:function(y){y&&y.preventDefault();y=this._get("i18n");var A=this._get("template"),B=this._legend.get("checked");
A.label=a.trim(this._name.get("value"));A.description=a.trim(this._description.get("value"));var D=this._formats.get("value");A.format=D===y.formats.image?this.formatPNG:D===y.formats.pdf?this.formatPDF:this.formatPNG;A.layout=this._layouts.get("value");"MAP_ONLY"!==A.layout?A.layoutOptions?A.layoutOptions.legend=B:A.layoutOptions={legend:B}:delete A.layoutOptions;A.label=d.stripHTML(A.label);A.description=d.stripHTML(A.description);this._isValidTemplate(A)&&(this._set("template",A),this._publishToTopic(),
this.hide())},_cancelClick:function(y){y&&y.preventDefault();this.hide()},_layoutChange:function(){"MAP_ONLY"===this._layouts.get("value")?k.set(this._legendContainer,"visibility","hidden"):k.set(this._legendContainer,"visibility","visible")}});x.prototype.statics={getInstance:function(){this._instance||(this._instance=new x);return this._instance}};return x})},"arcgisonline/pages/organization/widgets/settings/rows/LayoutGroupRow":function(){define("require exports tslib dojo/topic dojo/i18n!../../../../../nls/org-settings arcgisonline/pages/utils/dom ./GroupSelectRow ../../../../../sharing/util ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=a.__assign(a.__assign({},this.i18n),k.default.utilityServicesTab.layoutGroup);this.queryKey="layoutGroupQuery";this.successMessage=this.i18n.success;this.errorMessage=this.i18n.error;this.topicPrefix="layout-group-";this.settingsProps=[this.queryKey];this.defaultIcon="content-none";this.editBtnId=
"layout-group-edit";this.sortById="layout-group-sort-by-select";this.sortDirId="layout-group-sort-dir-select"}r.prototype.addEventListeners=function(){this.inherited(arguments);this.own(b.default.subscribe("helperService-update/printTask",this.handlePrintTaskUpdated.bind(this)))};r.prototype.render=function(){this.inherited(arguments);this.handlePrintTaskUpdated(this.portal.helperServices.printTask)};r.prototype.defaultText=function(){return this.i18n.none};r.prototype.handlePrintTaskUpdated=function(e){return a.__awaiter(this,
void 0,void 0,function(){var v,g,p,n,q;return a.__generator(this,function(l){switch(l.label){case 0:return v=!(null===e||void 0===e||!e.url),g=this.portal.isPortal&&h.default.onFederatedServer(null===e||void 0===e?void 0:e.url),p=-1<(null===(q=null===e||void 0===e?void 0:e.url)||void 0===q?void 0:q.indexOf("/sharing/tools/newPrint")),[4,this.supportsLayoutItems(null===e||void 0===e?void 0:e.url)];case 1:return n=l.sent(),f.default.showHide(this.domNode,v&&!p&&g&&n),[2]}})})};r.prototype.supportsLayoutItems=
function(e){return a.__awaiter(this,void 0,void 0,function(){var v,g;return a.__generator(this,function(p){switch(p.label){case 0:return[4,h.default.request({url:e})];case 1:return v=p.sent(),[2,(null===(g=null===v||void 0===v?void 0:v.parameters)||void 0===g?void 0:g.some(function(n){return"Layout_Item_ID"===n.name&&"GPString"===n.dataType}))||!1]}})})};return r=a.__decorate([(0,u.default)(m.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/rows/RouteServiceRow":function(){define("require exports tslib esri/request esri/lang dojo/i18n!../../../../../nls/org-settings dojo/on dojo/Deferred ./SettingsRow ../../../../utils/organization ../../../../utils/strings ../../../../utils/validation ../../../../utils/alerts ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),f.default.common),f.default.utilityServicesTab);this.valueType="text";
this.settingsProps=["routeServiceLayer"];this.AGO_ROUTE_SERVICE_URL="arcgis.com/arcgis/rest/services/world/route/naserver";this.DRIVING_CAR_ID="FEgifRtFndKNcJMJ";this.hasError=!1}l.prototype.render=function(){this.isPortal=this.portal.isPortal;this.textbox=document.createElement("input");this.textbox.type="text";this.textbox.placeholder=this.i18n.esriDefault;this._formContent.appendChild(this.textbox);this.inputError=document.createElement("div");this.inputError.classList.add("input-error-message");
this._formContent.appendChild(this.inputError);this.inherited(arguments)};l.prototype.addEventListeners=function(){var c=this;this.inherited(arguments);this.own((0,m.default)(this.textbox,"blur",function(){c.validates()}),(0,m.default)(this.textbox,"keyup",function(d){13===d.keyCode&&c.validates()&&c.save()}))};l.prototype.updateDisplayValue=function(c,d){this.inherited(arguments);if(c){var w=c,t=this.portal.selfNoAuth;!this.isPortal&&w&&w.url&&p.default.isSameUrl(w.url,t.helperServices.route.url,
!0)?this._displayValue.textContent=this.i18n.esriDefault:this.textbox.value=this._displayValue.textContent=w.url}else this._displayValue.textContent=this.i18n.esriDefault};l.prototype.resetFormValues=function(){this.value&&this.value.url&&(this.isPortal||!p.default.isSameUrl(this.value.url,this.portal.selfNoAuth.helperServices.route.url,!0))?this.textbox.value=this.value.url:this.textbox.value="";v.default.clearState([this.textbox,this.inputError])};l.prototype.validates=function(){var c=this.textbox.value;
if(!this.portal.isPortal&&-1<c.indexOf("http:"))return v.default.setInvalidState(this.textbox,this.inputError,this.i18n.httpWarning),!1;v.default.clearState([this.textbox,this.inputError]);return!0};l.prototype.save=function(){var c=this;this.validateService().then(function(){c.proceedToSave()})};l.prototype.proceedToSave=function(){var c=this,d=k.default.isDefined(this.portal.selfNoAuth);if(!this.hasError){if(this.routeService){var w=this.routeService;!this.isPortal&&d&&p.default.isSameUrl(w.url,
this.portal.selfNoAuth.helperServices.route.url,!0)&&(w.url=w.url.replace("https://","http://"))}else w="";k.default.isDefined(w)?(d=r.default.getClearEmptyFieldsStateForHelperService(w),this.updateSetting({routeServiceLayer:JSON.stringify(w),clearEmptyFields:d},this.i18n.routeServiceError,this.i18n.routeServiceSuccess).then(function(){c.value=w;c.updateDisplayValue(c.value);c.toggleEdit(!1)})):this.toggleEdit(!1)}};l.prototype.validateService=function(){var c=this,d=new h.default,w=this.textbox.value;
if(w){var t=this.i18n.invalidRoutingServerUrl;try{var z=this.isRoutingServiceProxy(w),x=this.isPortal&&p.default.onFederatedServer(w),y={f:"json"},A=p.default.getToken();z&&(y.token=A);(0,b.default)({url:w,content:y,timeout:5E3,callbackParamName:"callback"},{useProxy:!1,disableIdentityLookup:!z&&!x}).then(function(B){B&&k.default.isDefined(B.layerType)&&"esriNAServerRouteLayer"===B.layerType?(c.routeService={url:e.default.encodeWhitespace(w)},c.isPortal&&z?c.determineIfEsriRouteThroughProxy():c.isPortal||
z||-1===c.routeService.url.toLowerCase().indexOf(c.AGO_ROUTE_SERVICE_URL)||(c.routeService.defaultTravelMode=c.DRIVING_CAR_ID),c.hasError=!1):(g.default.showAlert("error",t),c.routeService=null,c.hasError=!0);d.resolve()},function(){g.default.showAlert("error",t);c.routeService=null;c.hasError=!0;d.resolve()})}catch(B){g.default.showAlert("error",t),this.routeService=null,this.hasError=!0,d.resolve()}}else this.routeService=null,this.hasError=!1,d.resolve();return d};l.prototype.determineIfEsriRouteThroughProxy=
function(){var c=this;p.default.request({url:"".concat(n.default.restBaseUrl,"search"),content:{q:encodeURIComponent("orgid:'".concat(this.portal.id,"' type:'Network Analysis Service' typekeywords:'Network Analysis Service' typekeywords:'Service Proxy'")),start:1,num:100}}).then(function(d){if(d&&d.results){var w=void 0,t=void 0;for(t=0;t<d.results.length;t++)if(w=d.results[t],w.url&&-1<c.routeService.url.indexOf(e.default.encodeWhitespace(w.url))&&w.sourceUrl&&-1!==w.sourceUrl.toLowerCase().indexOf(c.AGO_ROUTE_SERVICE_URL)){c.routeService.platformService=
!0;break}}})};l.prototype.isRoutingServiceProxy=function(c){var d=(c||"").toLowerCase();c=-1<d.indexOf("/naserver")&&-1<d.indexOf("/servers/")&&-1<d.indexOf("/rest/services/");var w=this.isPortal&&-1<d.indexOf(this.portal.portalHostname);d=!this.isPortal&&-1<d.indexOf("route")&&-1<d.indexOf(".arcgis.com");return c&&(w||d)};return l=a.__decorate([(0,q.default)(u.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SymbolsServiceRow":function(){define("require exports tslib ./BasicUtilityServiceRow ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/topic dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.SERVICE_KEY="symbols"}u.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},this.i18n),h.default.utilityServicesTab.symbols)};u.prototype.addEventListeners=function(){this.inherited(arguments);this.own(m.default.subscribe("helperService-update/symbols",this.handleSymbolServiceUpdated.bind(this)))};
u.prototype.getUpdatePayload=function(r){var e=k.default.getClearEmptyFieldsStateForHelperService(r);return{symbolsService:JSON.stringify(r),clearEmptyFields:e}};u.prototype.serviceValidates=function(r,e){return-1<r.indexOf("/SymbolServer")&&e};u.prototype.handleSymbolServiceUpdated=function(r){this.updateDisplayValue(r)};return u=a.__decorate([(0,f.default)(b.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/TravelModesRow":function(){define("require exports tslib esri/Evented calcite-web/js/calcite-web dojo/Deferred dojo/on dojo/topic dojo/_base/lang dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/TravelModesRow.html ./SettingsRow ../TravelModeItem ../TravelModeOverlay ../../../../pageUtil ../../../../utils/alerts ../../../../utils/dom ../../../../../sharing/geow/TravelModes ../../../../../sharing/util ../../../../components/ConfirmDialog ../../../../../esriGeowConfig preact ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);x=a.__importDefault(x);return function(){function y(A,
B){this.templateString=e.default;this.i18n=a.__assign(a.__assign({},this.i18n),r.default.utilityServicesTab.travelModes);this.DRIVING_CAR_ID="FEgifRtFndKNcJMJ";this.items=[];this.portalTravelModesEnabled=!1;this.travelModesAPI=new c.default}y.prototype.render=function(){var A=this;this._label.textContent=this.label;this._description.textContent=this.description;this.portal.isPortal?this.executePortalCheck().then(function(){A.portalTravelModesEnabled?A.renderItems():(l.default.hideNode(A.domNode),
A.emit("hide"))}):this.renderItems()};y.prototype.addEventListeners=function(){this.own((0,m.default)(this.createBtn,"click",this.handleCreateClick.bind(this)),(0,m.default)(this.resetBtn,"click",this.resetTravelModes.bind(this)),h.default.subscribe("travel-modes/updated",this.renderItems.bind(this)),h.default.subscribe("travel-mode/set-default",this.handleSetDefault.bind(this)),h.default.subscribe("travel-mode/delete",this.handleDelete.bind(this)),h.default.subscribe("travel-mode/edit",this.handleEdit.bind(this)),
h.default.subscribe("travel-mode/duplicate",this.handleDuplicate.bind(this)),h.default.subscribe("configure-helperServices",this.servicesUpdated.bind(this)))};y.prototype.servicesUpdated=function(A){var B=this;A&&A.routingUtilities&&(this.portal.helperServices.routingUtilities=A.routingUtilities,this.portal.isPortal&&this.executePortalCheck().then(function(){B.portalTravelModesEnabled||(l.default.hideNode(B.domNode),B.emit("hide"))}))};y.prototype.executePortalCheck=function(){var A=this,B=new f.default,
D=this.portal.helperServices.routingUtilities;(null===D||void 0===D?0:D.url)?this.checkForLogisticsAGOServiceProxy(D.url).then(function(C){C||A.travelModesAPI.originatesFromOffPortal(D.url,A.portal)||(A.portalTravelModesEnabled=!0);B.resolve()},function(){B.resolve()}):B.resolve();return B};y.prototype.renderItems=function(){var A=this;this.itemsContainer.innerHTML="";this.travelModesAPI.getTravelModes(!0).then(function(B){B=B||[];var D=Object.keys(B).map(function(E){return B[E]});D.sort(function(E,
H){return E.name>H.name?1:E.name<H.name?-1:0});A.items=D.map(function(E){return A.createTravelModeItem(E)});k.default.accordion();k.default.dropdown();var C=A.travelModesAPI._defaultTravelMode;C||(C=B[A.DRIVING_CAR_ID]?A.DRIVING_CAR_ID:D[0]);A.items.forEach(function(E){E.travelMode.id===C&&E.showDefault()})})};y.prototype.hideConfirmDlg=function(){(0,z.render)(null,this.confirmContainer)};y.prototype.resetTravelModes=function(){var A=this;this.confirmContainer||(this.confirmContainer=document.createElement("div"),
document.body.appendChild(this.confirmContainer));(0,z.render)((0,z.h)(w.default,{strings:{cancel:this.i18n.cancel,close:this.i18n.close,description:this.i18n.resetQuestion,title:this.i18n.name,ok:this.i18n.resetAnswer},onCancel:function(){A.hideConfirmDlg()},onOk:function(){A.hideConfirmDlg();A.travelModesAPI.reset().then(function(){A.renderItems();q.default.showAlert("success",A.i18n.resetSuccess)},function(){q.default.showAlert("error",A.i18n.resetError)})},width:"s",autoCloseOnOk:!0}),this.confirmContainer)};
y.prototype.handleDelete=function(A){var B=this,D=A.travelMode,C=A.actionsBtn;n.default.createConfirmationDialog({strings:{title:this.i18n.deleteTitle,description:this.i18n.deleteQuestion,ok:this.i18n.deleteAnswer},autoCloseOnOk:!0,onOk:function(){B.travelModesAPI.deleteTravelMode(D.id).then(function(){var E;null===(E=B.telemetry)||void 0===E?void 0:E.logEvent({category:B.tab,label:"travelMode",action:"Delete"});q.default.showAlert("success",B.i18n.deleteSuccess);var H=-1;B.items.forEach(function(F,
I){F.travelMode.id===D.id&&(H=I,F.destroy())});B.items.splice(H,1);0===B.items.length&&B.resetTravelModes();var G=H;G>B.items.length-1&&(G=B.items.length-1);B.items.some(function(F,I){(I=I===G)&&F.actionsBtn.focus();return I})},function(){q.default.showAlert("error",B.i18n.deleteError);null===C||void 0===C?void 0:C.focus()})},onCancel:function(){null===C||void 0===C?void 0:C.focus()}})};y.prototype.handleEdit=function(A){this.openOverlay(A.actionsBtn,A.travelMode)};y.prototype.handleDuplicate=function(A){var B=
u.default.clone(A.travelMode);B.name="".concat(B.name," ").concat(this.i18n.copy);B.id=void 0;this.openOverlay(A.actionsBtn,B)};y.prototype.openOverlay=function(A,B){var D=this.items.map(function(C){return C.travelMode.name});(new p.default({portal:this.portal,namesToAvoid:D,travelMode:B,opener:A})).open()};y.prototype.handleSetDefault=function(A){var B=this,D=A.travelMode;this.updateSetting(A.settings,this.i18n.defaultError,this.i18n.defaultSuccess).then(function(){h.default.publish("helper-services/update");
B.items.forEach(function(C){C.travelMode.id===D.id?C.showDefault():C.hideDefault()})})};y.prototype.handleCreateClick=function(){this.openOverlay(this.createBtn)};y.prototype.createTravelModeItem=function(A){A=new g.default({travelMode:A,portal:this.portal,portalTravelModesEnabled:this.portalTravelModesEnabled});this.itemsContainer.appendChild(A.domNode);return A};y.prototype.checkForLogisticsAGOServiceProxy=function(A){var B=new f.default;if(A&&0<A.length){var D=A.indexOf("/sharing/servers");if(-1<
D){D+=17;var C=A.indexOf("/rest/services/");C=A.substring(D,C)}}C?d.default.request({url:"".concat(t.default.restBaseUrl,"content/items/").concat(C)}).then(function(E){E=-1<E.sourceUrl.indexOf(".arcgis.com");B.resolve(E)},function(){B.resolve(!1)}):B.resolve(!1);return B};return y=a.__decorate([(0,x.default)(v.default,b.default)],y)}()})},"arcgisonline/pages/organization/widgets/settings/TravelModeItem":function(){define("require exports tslib dojo/on dojo/topic dojo/text!./templates/TravelModeItem.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/icons ../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=f.default;this.i18n=m.default.utilityServicesTab.travelModes;this.icons=r.default;this.portalTravelModesEnabled=!1;this.serviceTypesMap={route:"routeServiceLayer",asyncRoute:"asyncRouteService",closestFacility:"closestFacilityService",
asyncClosestFacility:"asyncClosestFacilityService",serviceArea:"serviceAreaService",asyncServiceArea:"asyncServiceAreaService",syncVRP:"syncVRPService",asyncVRP:"asyncVRPService",asyncLocationAllocation:"asyncLocationAllocationService",asyncODCostMatrix:"asyncODCostMatrixService"}}g.prototype.postCreate=function(){var p=this;this.inherited(arguments);var n=Object.keys(this.serviceTypesMap).some(function(q){var l=(q=p.portal.helperServices[q])&&q.url?q.url.toLowerCase():"";return q&&(-1<l.indexOf("logistics")||
-1<l.indexOf("route"))&&-1<l.indexOf(".arcgis.com/")});e.default.showHide(this.defaultBtn,!this.portal.isPortal&&n||this.portal.isPortal&&this.portalTravelModesEnabled);this.addEventListeners()};g.prototype.showDefault=function(){e.default.showNode(this.defaultBadge);this.domNode.classList.add("is-active")};g.prototype.hideDefault=function(){e.default.hideNode(this.defaultBadge);this.domNode.classList.remove("is-active")};g.prototype.addEventListeners=function(){this.own((0,b.default)(this.defaultBtn,
"click",this.handleDefaultClick.bind(this)),(0,b.default)(this.editBtn,"click",this.handleEditClick.bind(this)),(0,b.default)(this.deleteBtn,"click",this.handleDeletClick.bind(this)),(0,b.default)(this.duplicateBtn,"click",this.handleDuplicate.bind(this)))};g.prototype.handleEditClick=function(p){p.stopPropagation();k.default.publish("travel-mode/edit",this)};g.prototype.handleDeletClick=function(p){p.stopPropagation();k.default.publish("travel-mode/delete",this)};g.prototype.handleDuplicate=function(p){p.stopPropagation();
k.default.publish("travel-mode/duplicate",this)};g.prototype.handleDefaultClick=function(){var p=this,n,q,l={};Object.keys(this.serviceTypesMap).forEach(function(c){var d=p.portal.helperServices[c];d&&(n=a.__assign(a.__assign({},d),{defaultTravelMode:p.travelMode.id}),q=p.serviceTypesMap[c],l[q]=JSON.stringify(n))});n&&k.default.publish("travel-mode/set-default",{settings:l,travelMode:this.travelMode})};return g=a.__decorate([(0,v.default)(u.default,h.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/TravelModeOverlay":function(){define("require exports tslib dojo/text!./templates/TravelModeOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/number dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay ./TravelModeAttrItem ../../../utils/alerts ../../../utils/number ../../../utils/validation arcgisonline/sharing/util arcgisonline/sharing/geow/TravelModes arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);var t;(function(z){z.Metric="metric";z.English="english"})(t||
(t={}));return function(){function z(x,y){this.title=f.default.utilityServicesTab.travelModes.createTravelMode;this.i18n=k.default;this.overlayContents=m.default.substitute(b.default,{i18n:this.i18n,form:f.default.utilityServicesTab.travelModes.form});this.namesToAvoid=[];this.closeOnScrimClick=!1;this.constrain=!0;this.descriptionLimit=1024;this.formStrings=f.default.utilityServicesTab.travelModes.form;this.attrItems=[];this.isEditing=!1}z.prototype.open=function(){var x=this;this.inherited(arguments);
this.api=new d.default;this.domNode.classList.add("travel-mode-overlay");this.getData().then(function(){x.populateSelectOptions();x.createAttrItems();x.resetForm();x.travelMode&&(x.travelMode.id&&(x.overlayTitle.textContent=f.default.utilityServicesTab.travelModes.editTravelMode),setTimeout(function(){x.populateForm(x.travelMode)}))})};z.prototype.close=function(){this.inherited(arguments)};z.prototype.handleCancel=function(){var x;this.inherited(arguments);null===(x=this.telemetry)||void 0===x?void 0:
x.logEvent({category:"utilityServices",label:"travelMode",action:"Cancel"})};z.prototype.handlePrimary=function(){var x=this,y=f.default.utilityServicesTab.travelModes.form,A=y.errors,B=!1;if(!this.nameInput.value||this.nameAlreadyExists())l.default.setInvalidState(this.nameInput,this.nameError,this.nameAlreadyExists()?A.nameAlreadyExists:A.valueRequiredName),this.nameInput.focus(),B=!0;this.toleranceInput.value||(l.default.setInvalidState(this.toleranceInput,this.toleranceError),B||this.toleranceInput.focus(),
B=!0);if(!B){var D=this.travelMode?a.__assign({},this.travelMode):{};D.attributeParameterValues=[];D.restrictionAttributeNames=[];this.attrItems.map(function(C){return C.getValue()}).filter(function(C){return C.checked}).forEach(function(C){D.attributeParameterValues=a.__spreadArray(a.__spreadArray([],D.attributeParameterValues,!0),C.params,!0);C.hasCostAttr||D.restrictionAttributeNames.push(C.name)});D.useHierarchy=this.hierarchyInput.checked;D.simplificationTolerance=u.default.parse(this.toleranceInput.value,
{locale:"root"});D.simplificationToleranceUnits=this.toleranceUnitSelect.value;D.uturnAtJunctions=this.uturnSelect.value;D.distanceAttributeName=this.distanceAttrSelect.value;D.timeAttributeName=this.timeAttrSelect.value;D.impedanceAttributeName=this.impedanceSelect.value;D.type=this.typeSelect.value;D.description=this.descTextArea.value;D.name=this.nameInput.value.trim();D.id||(D.id=this.getNewId());this.api.uploadTravelMode(D.id,D).then(function(){var C;null===(C=x.telemetry)||void 0===C?void 0:
C.logEvent({category:"utilityServices",label:"travelMode",action:"Save"});n.default.showAlert("success",x.travelMode&&x.travelMode.id?y.updateSuccess:y.createSuccess);r.default.publish("travel-modes/updated");x.close()},function(){n.default.showAlert("error",x.travelMode?y.updateError:y.createError);x.close()})}};z.prototype.populateForm=function(x){var y=this,A=x.description,B=x.type,D=x.impedanceAttributeName,C=x.timeAttributeName,E=x.distanceAttributeName,H=x.uturnAtJunctions,G=x.simplificationTolerance,
F=x.simplificationToleranceUnits,I=x.useHierarchy,J=x.restrictionAttributeNames,K=x.attributeParameterValues;this.nameInput.value=x.name;this.descTextArea.value=A;this.updateDescCount();this.typeSelect.value=B;this.impedanceSelect.value=D;this.handleImpedanceChange();this.timeAttrSelect.value=C;this.distanceAttrSelect.value=E;this.handleTimeDistanceChange();this.uturnSelect.value=H;this.toleranceInput.value=q.default.format(G);this.toleranceUnitSelect.value=F;this.hierarchyInput.checked=I;x=a.__spreadArray([D,
C,E],J,!0);this.attrItems.forEach(function(T){T.item.apply=!1;T.uncheck()});x.forEach(function(T){y.attrItems.forEach(function(S){S.item.name===T&&(S.item.apply=!0,S.check())});K.forEach(function(S){if(S.attributeName===T){var L=y.attrItems.filter(function(N){return N.item.name===T})[0];L&&L.setParameterValue(S)}})});var P=[];this.attrItems.forEach(function(T){P.push(T.item);T.destroy()});this.attrItems=[];this.constructItems(P);this.isEditing=!0};z.prototype.getNewId=function(){for(var x="",y=0;16>
y;y++){for(var A=0;!A||91<=A&&96>=A;)A=Math.round(57*Math.random())+65;x+=String.fromCharCode(A)}return x};z.prototype.nameAlreadyExists=function(){var x=this.nameInput.value.trim().toLowerCase();return!(this.travelMode&&this.travelMode.name===this.nameInput.value)&&-1<this.namesToAvoid.map(function(y){return y.trim().toLowerCase()}).indexOf(x)};z.prototype.saveElementRefs=function(){this.nameInput=this.domNode.querySelector(".js-name");this.nameError=this.domNode.querySelector(".js-name-error");
this.descTextArea=this.domNode.querySelector(".js-desc");this.descriptionCountEl=this.domNode.querySelector(".js-desc-count");this.typeSelect=this.domNode.querySelector(".js-type-select");this.impedanceSelect=this.domNode.querySelector(".js-impedance-select");this.timeAttrSelect=this.domNode.querySelector(".js-time-attr-select");this.distanceAttrSelect=this.domNode.querySelector(".js-distance-attr-select");this.uturnSelect=this.domNode.querySelector(".js-uturn-select");this.toleranceInput=this.domNode.querySelector(".js-tolerance-input");
this.toleranceError=this.domNode.querySelector(".js-tolerance-error");this.toleranceUnitSelect=this.domNode.querySelector(".js-tolerance-unit-select");this.hierarchyInput=this.domNode.querySelector(".js-hierarchy")};z.prototype.addListeners=function(){this.own((0,h.default)(this.descTextArea,"keyup",this.updateDescCount.bind(this)),(0,h.default)(this.impedanceSelect,"change",this.handleImpedanceChange.bind(this)),(0,h.default)(this.timeAttrSelect,"change",this.handleTimeDistanceChange.bind(this)))};
z.prototype.handleImpedanceChange=function(){var x=this.impedanceSelect.value;this.timeAttrSelect.disabled=!1;this.distanceAttrSelect.disabled=!1;this.optionExists(this.timeAttrSelect,x)?(this.timeAttrSelect.value=x,this.timeAttrSelect.disabled=!0,this.isEditing&&(this.previousState=this.attrItems.map(function(y){return y.item})),this.createAttrItems()):this.optionExists(this.distanceAttrSelect,x)&&(this.distanceAttrSelect.value=x,this.distanceAttrSelect.disabled=!0)};z.prototype.handleTimeDistanceChange=
function(){var x=this;this.dataset.networkAttributes.forEach(function(y){if("esriNAUTCost"===y.usageType&&y.parameterNames.length)if(y.name===x.timeAttrSelect.value||y.name===x.distanceAttrSelect.value){var A=[];x.dataset.attributeParameterValues.forEach(function(H){y.name===H.attributeName&&A.push(a.__assign(a.__assign({},H),{restrictionUsage:y.restrictionUsageParameterName===H.parameterName,costAttribute:!0}))});if(!x.attrItems.some(function(H){return H.item.name===y.name})){var B=x.attrItems.length-
1;x.attrItems.forEach(function(H,G){H.item.name>y.name&&(B=G-1)});var D=new p.default({item:{id:y.name,name:y.name,apply:!0,params:A}}),C=x.attrItems[B].domNode;C.parentNode.insertBefore(D.domNode,C.nextSibling);x.attrItems.splice(B,0,D)}}else{var E=-1;x.attrItems.forEach(function(H,G){H.item.name===y.name&&(H.destroy(),E=G)});-1<E&&x.attrItems.splice(E,1)}})};z.prototype.optionExists=function(x,y){for(var A=0;A<x.options.length;A++)if(x.options[A].value===y)return!0;return!1};z.prototype.createAttrItems=
function(){var x=this;0<this.attrItems.length&&(this.attrItems.forEach(function(C){return C.destroy()}),this.attrItems=[]);var y=this.dataset,A=y.attributeParameterValues,B=y.restrictions,D=[];y.networkAttributes.forEach(function(C){if("esriNAUTRestriction"===C.usageType){var E=[];A.forEach(function(G){C.name===G.attributeName&&E.push(a.__assign(a.__assign({},G),{restrictionUsage:C.restrictionUsageParameterName===G.parameterName}))});D.push({id:C.name,name:C.name,apply:-1<B.indexOf(C.name),params:E})}else if("esriNAUTCost"===
C.usageType&&C.parameterNames.length&&(C.name===x.timeAttrSelect.value||C.name===x.distanceAttrSelect.value)){var H=[];A.forEach(function(G){C.name===G.attributeName&&H.push(a.__assign(a.__assign({},G),{restrictionUsage:C.restrictionUsageParameterName===G.parameterName,costAttribute:!0}))});D.push({id:C.name,name:C.name,apply:!0,params:H})}});this.isEditing&&D.forEach(function(C){var E=x.previousState.find(function(H){return H.id===C.id});E&&(C.apply=E.apply)});this.constructItems(D)};z.prototype.constructItems=
function(x){var y=this;x.sort(function(A,B){return A.apply&&!B.apply?-1:B.apply&&!A.apply?1:A.name>B.name?1:A.name<B.name?-1:0});x.forEach(function(A){A=new p.default({item:A});y.domNode.querySelector(".js-attr-container").appendChild(A.domNode);y.attrItems.push(A)})};z.prototype.populateSelectOptions=function(){var x=this,y=["esriNAUMillimeters","esriNAUCentimeters","esriNAUDecimeters","esriNAUMeters","esriNAUKilometers"],A=["esriNAUInches","esriNAUFeet","esriNAUYards","esriNAUMiles","esriNAUNauticalMiles"],
B=a.__spreadArray(a.__spreadArray(a.__spreadArray([],y,!0),A,!0),["esriNAUDecimalDegrees"],!1),D=["esriNAUDays","esriNAUHours","esriNAUMinutes","esriNAUSeconds"],C=[],E=[],H=[];this.dataset.networkAttributes.forEach(function(F){"esriNAUTCost"===F.usageType&&"TimeAt1KPH"!==F.name&&(C.push(F),x.addOption(x.impedanceSelect,F.name),-1<B.indexOf(F.units)&&(x.addOption(x.distanceAttrSelect,F.name),H.push(F.name)),-1<D.indexOf(F.units)&&(x.addOption(x.timeAttrSelect,F.name),E.push(F.name)))});this.impedanceSelect.value=
this.dataset.impedance;var G=this.portal.units;C.forEach(function(F){if(G===t.Metric&&-1<y.indexOf(F.units)||G===t.English&&-1<A.indexOf(F.units))x.distanceAttrSelect.value=F.name});-1<E.indexOf(this.dataset.impedance)?(this.timeAttrSelect.value=this.dataset.impedance,this.timeAttrSelect.disabled=!0):H.indexOf(this.dataset.impedance)&&(this.distanceAttrSelect.value=this.dataset.impedance,this.distanceAttrSelect.disabled=!0)};z.prototype.addOption=function(x,y){var A=document.createElement("option");
A.text=A.value=y;x.add(A)};z.prototype.getData=function(){var x=this,y=this.portal.helperServices.routingUtilities.url,A=this.api.tokenIsNeededToAccess(y,this.portal);return c.default.request({url:"".concat(y).concat("/"===y[y.length-1]?"":"/","GetToolInfo/execute"),content:{f:"json"}},{addToken:A}).then(function(B){var D,C,E;(B=null===(E=null===(C=null===(D=null===B||void 0===B?void 0:B.results)||void 0===D?void 0:D[0])||void 0===C?void 0:C.value)||void 0===E?void 0:E.networkDataset)?(D=B.attributeParameterValues,
C=B.defaultRestrictions,E=B.defaultCostAttribute,x.dataset={networkAttributes:B.networkAttributes.map(function(H){var G=H.units,F=H.usageType,I=H.parameterNames,J=H.restrictionUsageParameterName,K=H.trafficSupport;return{name:H.name,dataType:"esriNADT".concat(H.dataType),units:"esriNAU".concat(G),usageType:"esriNAUT".concat(F),parameterNames:I,restrictionUsageParameterName:J,trafficSupport:"LIVE"===K?"esriNTSLive":"HISTORICAL_AND_LIVE"===K?"esriNTSHistoricalAndLive":"HISTORICAL"===K?"esriNTSHistorical":
"esriNTSNone"}}),attributeParameterValues:D,restrictions:C||[],impedance:E||null}):x.dataset={networkAttributes:[],attributeParameterValues:[],restrictions:[],impedance:null}})};z.prototype.resetForm=function(){this.nameInput.value="";this.descTextArea.value="";this.typeSelect.value="AUTOMOBILE";this.uturnSelect.value="esriNFSBAtDeadEndsAndIntersections";this.toleranceUnitSelect.value="esriMeters";this.toleranceInput.value="10"};z.prototype.updateDescCount=function(){this.descriptionCountEl.textContent=
m.default.substitute(this.formStrings.charactersRemaining,{used:this.descriptionLimit-this.descTextArea.value.length,total:this.descriptionLimit})};z.prototype.render=function(){this.saveElementRefs();this.addListeners();this.updateDescCount();this.hierarchyInput.checked=!0};return z=a.__decorate([(0,w.default)(v.default,e.default,g.default)],z)}()})},"arcgisonline/pages/organization/widgets/settings/TravelModeAttrItem":function(){define("require exports tslib dojo/text!./templates/TravelModeAttrItem.html dojo/i18n!../../../../nls/org-settings dojo/on dijit/_TemplatedMixin dijit/_WidgetBase ../../../dijit/ToggleSwitch ../../../utils/dom ../../../utils/number arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=b.default;this.i18n=a.__assign({},k.default.utilityServicesTab.travelModes.form.restrictions)}g.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};g.prototype.getValue=
function(){var p=this,n=this.item.params.some(function(l){return l.costAttribute}),q=this.item.params.map(function(l){return{attributeName:l.attributeName,parameterName:l.parameterName,value:l.restrictionUsage?p.restrictionSelect.value:Number(p.numberInput.value)}});return{checked:this.toggleSwitch.checked(),hasCostAttr:n,params:q,name:this.item.name}};g.prototype.uncheck=function(){this.toggleSwitch.setChecked(!1)};g.prototype.check=function(){this.toggleSwitch.setChecked(!0)};g.prototype.setParameterValue=
function(p){var n=this;this.item.params.forEach(function(q){q.parameterName===p.parameterName&&(q.value=p.value,q.restrictionUsage?n.restrictionSelect.value=p.value:n.numberInput.value=e.default.format(p.value))})};g.prototype.render=function(){var p=this;this.toggleSwitch=new u.default({isChecked:this.item.apply,labelClasses:"trailer-0"},this.domNode.querySelector(".js-toggle-switch"));var n=!1;this.item.params.forEach(function(q){q.restrictionUsage?(n=!0,p.restrictionSelect.value=q.value):(p.numberLabel.textContent=
q.parameterName,p.numberInput.value=q.value,r.default.showNode(p.numberContainer))});this.item.apply||(this.restrictionSelect.disabled=!0,this.numberInput.disabled=!0);r.default.showHide(this.restrictionSelect,n)};g.prototype.addEventListeners=function(){this.own((0,f.default)(this.toggleSwitch,"change",this.handleToggleSwitchChange.bind(this)))};g.prototype.handleToggleSwitchChange=function(p){this.numberInput.disabled=this.restrictionSelect.disabled=!p};return g=a.__decorate([(0,v.default)(h.default,
m.default)],g)}()})},"arcgisonline/sharing/geow/TravelModes":function(){define("require exports tslib ../../esriGeowConfig ../util ./Account dojo/Deferred".split(" "),function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(){this._travelModesFile="travelmodes.json";this._tmListingServiceURL_dev="//logisticsdev.arcgis.com/arcgis/rest/services/World/Utilities/GPServer";this._tmListingServiceURL_qa="//logisticsqa.arcgis.com/arcgis/rest/services/World/Utilities/GPServer";
this._tmListingServiceURL="//logistics.arcgis.com/arcgis/rest/services/World/Utilities/GPServer"}h.prototype.getTravelModes=function(u){var r=this,e=new m.default;this._travelModes&&!u?e.resolve(this._travelModes):f.default.getSelf(function(v){var g,p,n=r._tmListingServiceURL;(null===(p=null===(g=v.helperServices)||void 0===g?void 0:g.routingUtilities)||void 0===p?0:p.url)?n=v.helperServices.routingUtilities.url:"devext.arcgis.com"===v.portalHostname?n=r._tmListingServiceURL_dev:"qaext.arcgis.com"===
v.portalHostname&&(n=r._tmListingServiceURL_qa);n+="".concat("/"===n[n.length-1]?"":"/","GetTravelModes/execute");g=r._detectIfAGOLProxyOnPortal(n,v);p=r.originatesFromOffPortal(n,v);g||p?e.resolve():(v=r.tokenIsNeededToAccess(n,v),k.default.request({url:n,content:{f:"json"}},{usePost:!0,addToken:v}).then(function(q){var l,c,d,w,t,z={};if(null===(d=null===(c=null===(l=null===q||void 0===q?void 0:q.results)||void 0===l?void 0:l[0])||void 0===c?void 0:c.value)||void 0===d?0:d.features)for(l=0;l<q.results[0].value.features.length;l++)q.results[0].value.features[l].attributes&&
(c=JSON.parse(q.results[0].value.features[l].attributes.TravelMode),z[c.id]=c);r._travelModes=z;r._defaultTravelMode=null===(t=null===(w=null===q||void 0===q?void 0:q.results)||void 0===w?void 0:w[1])||void 0===t?void 0:t.value;e.resolve(z)},function(q){r._travelModes=null;e.reject(q)}))});return e};h.prototype.uploadTravelMode=function(u,r){var e=this,v=new m.default;u&&r?this.getTravelModes().then(function(g){var p;(null===(p=b.default.userInfo)||void 0===p?0:p.accountId)?(g[u]=r,e._storeTravelModes(g).then(v.resolve,
v.reject)):(e._travelModes=null,v.reject())},v.reject):v.reject();return v};h.prototype.deleteTravelMode=function(u){var r=this,e=new m.default;u?this.getTravelModes().then(function(v){var g;(null===(g=b.default.userInfo)||void 0===g?0:g.accountId)?(delete v[u],Object.keys(v).length?r._storeTravelModes(v).then(e.resolve,e.reject):r._deleteTravelModesFile().then(e.resolve,e.reject)):(r._travelModes=null,e.reject())},e.reject):e.reject();return e};h.prototype.reset=function(){return this._deleteTravelModesFile()};
h.prototype.tokenIsNeededToAccess=function(u,r){return!this.originatesFromOffPortal(u,r)};h.prototype.originatesFromOffPortal=function(u,r){return r.isPortal&&!k.default.onFederatedServer(u)&&-1===u.indexOf(r.portalHostname)};h.prototype._detectIfAGOLProxyOnPortal=function(u,r){var e=u.toLowerCase();u=-1<e.indexOf("world/utilities")&&-1<e.indexOf("/servers")&&-1<e.indexOf("/rest/services");r=r.isPortal&&-1<e.indexOf(r.portalHostname);return u&&r};h.prototype._storeTravelModes=function(u){var r=this,
e="".concat(b.default.restBaseUrl,"portals/").concat(b.default.userInfo.accountId,"/addResource"),v={access:"org",key:this._travelModesFile,text:JSON.stringify(u)},g=new m.default;k.default.request({url:e,content:v},{usePost:!0}).then(function(p){p.success?(r._travelModes=u,g.resolve(r._travelModes)):(r._travelModes=null,g.reject(p))},function(p){r._travelModes=null;g.reject(p)});return g};h.prototype._deleteTravelModesFile=function(){var u=this,r="".concat(b.default.restBaseUrl,"portals/").concat(b.default.userInfo.accountId,
"/removeresource"),e={key:this._travelModesFile},v=new m.default;k.default.request({url:r,content:e},{usePost:!0}).then(function(g){g.success?(u._travelModes=null,u.getTravelModes().then(v.resolve,v.reject)):(u._travelModes=null,v.reject(g))},function(g){u._travelModes=null;404===(null===g||void 0===g?void 0:g.code)&&"resource does not exist or is inaccessible."===g.message.toLowerCase()?v.resolve(u._travelModes):v.reject(g)});return v};return h}()})},"arcgisonline/pages/organization/widgets/settings/tabs/MemberRolesTab":function(){define("require exports tslib ../../../../utils/organization ./BaseSettingsTab ../cards/ManageRolesCard ../settings-shared ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=u.default.memberRolesTab;this.TAB_KEY=m.SettingsTabKeys.MemberRoles;this.ONBOARD_COOKIE_KEY="roles"}r.prototype.render=function(){this.createOnboardCard(u.default.onboard.rolesDesc,"org-roles-onboard-card");this.createRolesCard();this.inherited(arguments)};r.prototype.createRolesCard=function(){this.createCustomCard(f.default,
{id:"org-manage-roles-card",name:this.i18n.manageRoles,description:b.default.injectHelpLink(this.portal,this.i18n.manageRolesDesc,"120000897","member-roles-learn-more"),keywords:"permissions privileges custom levels users administration position".split(" ")})};return r=a.__decorate([(0,h.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/cards/ManageRolesCard":function(){define("require exports tslib calcite-web/js/calcite-web dojo/promise/all dojo/topic dojo/on dojo/string dojo/text!./templates/ManageRolesCard.html ../../../../../tsutils/declareDecorator ./SettingsCard ../../../../pageUtil ../../../../utils/organization ../../../../utils/dom ../../../../utils/alerts ../../../../utils/arrays ../../../../utils/focus ../../../../utils/icons ../rows/RoleRow ../../../../dijit/Pagination ../RoleOverlay ../../../../../sharing/util ../../../../../sharing/geow/Roles ../../../../../esriGeowConfig ../../../../../sharing/dijit/_LevelAwareMixin".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);A=a.__importDefault(A);return function(){function B(D,C){this.templateString=u.default;this.icons=c.default;this._roleCount={};this._rolesPerPage=20;this._start=1;this._topicPrefix="manage-roles-";this.federatedServers=[];this.alreadyRendered=!1}B.prototype.addEventListeners=function(){var D=this;this.inherited(arguments);this.own(f.default.subscribe("".concat(this._topicPrefix,"pagination/page"),this._paginationPage.bind(this)),f.default.subscribe("role-overlay/save",this._refreshPage.bind(this)),
f.default.subscribe("role/delete",this._deleteRole.bind(this)),(0,m.default)(this.searchInput,"keyup",this.handleSearch.bind(this)),f.default.subscribe("default-role/change",function(){D._getData().then(function(){var C=D.searchInput.value;D.filteredRoles=D._roles.filter(function(E){return!C||-1<E.name.toLowerCase().indexOf(C.toLowerCase())});D.renderPagination(D.filteredRoles);D._renderPage()})}),f.default.subscribe("federated-servers/fetched",function(C){D.federatedServers=C||[];D.alreadyRendered&&
(null===C||void 0===C?0:C.length)&&D._renderPage()}))};B.prototype.hasVelocityServer=function(){return this.federatedServers.some(function(D){return"VelocityServer"===D.serverFunction})};B.prototype.handleBtnClick=function(){this._roleOverlay=new t.default({constrain:!0,maxWidth:850,opener:this._headerBtn,telemetry:this.telemetry,hasVelocityServer:this.hasVelocityServer()});this._roleOverlay.open()};B.prototype.render=function(){var D=this;this._rolesAPI=new x.default;var C=this.domNode.querySelector(".js-pagination");
this._title.textContent=this.name;this._description.textContent=this.description;this.showHeaderBtn(this.i18n.memberRolesTab.createRole);this.toggleLoader(!0);this._getData().then(function(){D.toggleLoader(!1);D._renderPage();D._pagination=new w.default({topic:D._topicPrefix,start:1,num:D._rolesPerPage,hideDropdown:!0},C);D.renderPagination(D._roles)})};B.prototype.handleSearch=function(){this._start=1;var D=this.searchInput.value;this.filteredRoles=this._roles.filter(function(C){return!D||-1<C.name.toLowerCase().indexOf(D.toLowerCase())});
this.renderPagination(this.filteredRoles);this._renderPage()};B.prototype._paginationPage=function(D){this._start=D.start;this._renderPage()};B.prototype.renderPagination=function(D){var C=this._start+this._rolesPerPage;C>D.length&&(C=-1);this._pagination.render({total:D.length,start:this._start,nextStart:C})};B.prototype._renderPage=function(D){var C=this,E=this._start-1;E=this.filteredRoles.slice(E,E+this._rolesPerPage);this.alreadyRendered=!0;this._roleRows=E.map(function(H){return new d.default({role:H,
portalUser:C.portalUser,defaultRole:C.defaultRole,hasVelocityServer:C.hasVelocityServer()})});this.rowsContainer.innerHTML="";p.default.appendChildren(this._roleRows.map(function(H){return H.domNode}),this.rowsContainer);this._roleRows.forEach(function(H){H.startup()});b.default.dropdown();D>this._roleRows.length-1&&(D=this._roleRows.length-1);this._roleRows.some(function(H,G){if(G=G===D)H.actionsBtn.classList.contains("hide")?(H=l.default.getFocusableElements(H.domNode),0<H.length?H[H.length-1].focus():
C._headerBtn.focus()):H.actionsBtn.focus();return G})};B.prototype.getDefaultRole=function(){var D=this;return z.default.request({url:"".concat(y.default.restBaseUrl,"portals/self/userDefaultSettings")}).then(function(C){D.defaultRole=C.role})};B.prototype._getData=function(){var D=this,C=this.portalUser.userRole;C=(null===C||void 0===C?void 0:C.isAdmin())||(null===C||void 0===C?void 0:C.canManageSecurity())||(null===C||void 0===C?void 0:C.canManageRoles());return(0,k.default)({userDefaults:C?this.getDefaultRole():
null,roles:this._rolesAPI.getAllRoles(!0)}).then(function(E){D._roles=E.roles;return D._getUserCount()}).then(function(){var E=[{id:D.SYSTEM_ROLES.VIEWER,name:D.i18n.memberDefaultsTab.roleViewer},{id:D.SYSTEM_ROLES.DATA_EDITOR,name:D.i18n.memberDefaultsTab.roleEditor},{id:D.SYSTEM_ROLES.FACILITATOR,name:D.i18n.memberDefaultsTab.roleFacilitator}];D._viewerRole=D._getRoleById(D.SYSTEM_ROLES.VIEWER);D._editorRole=D._getRoleById(D.SYSTEM_ROLES.DATA_EDITOR);D._roles=g.default.addBuiltInRolesAndTranslate(D._roles,
E);D._roles.forEach(function(H){H.level=D._computeRoleLevel(H);H.memberCount=D._roleCount[H.id]||0});D._roles.sort(function(H,G){H=H.name.toLowerCase();G=G.name.toLowerCase();return H>G?1:H<G?-1:0});f.default.publish("all-roles/loaded",D._roles);D.filteredRoles=D._roles})};B.prototype._deleteRole=function(D){var C=this,E=D.role,H=q.default.findIndex(this._roleRows,function(G){return G.id===D.id});this._rolesAPI.deleteRole(E.id).then(function(G){var F,I;G&&(G.code?(null===(I=C.telemetry)||void 0===
I?void 0:I.logError({error:G}),C._showError(G.messageCode,E)):(null===(F=C.telemetry)||void 0===F?void 0:F.logEvent({category:"memberRoles",label:"role",action:"Delete"}),n.default.showAlert("success",h.default.substitute(C.i18n.memberRolesTab.deleteSuccess,{name:E.name})),C._refreshPage(H)))},function(G){var F;null===(F=C.telemetry)||void 0===F?void 0:F.logError({error:G});C._showError(G.messageCode,E)})};B.prototype._showError=function(D,C){n.default.showAlert("error",h.default.substitute("ORG_1046"===
D?this.i18n.memberRolesTab.roleInUse:this.i18n.memberRolesTab.deleteError,{name:C.name}))};B.prototype._getRoleById=function(D){return this._roles.filter(function(C){return C.id===D})[0]};B.prototype._getUserCount=function(){var D=this,C="".concat(z.default.getSecureUrl(y.default.restBaseUrl),"portals/self/users/counts");return v.default.fetchAllResources(C,{type:"role"}).then(function(E){D._roleCount=E.reduce(function(H,G){var F=G.key.replace("account_","org_");H[F]=G.count;return H},{})})};B.prototype._computeRoleLevel=
function(D){var C=a.__spreadArray(a.__spreadArray([],x.default.extraLevelOnePrivileges,!0),this._viewerRole.privileges,!0),E=a.__spreadArray(a.__spreadArray([],x.default.extraLevelOnePrivileges,!0),this._editorRole.privileges,!0);return this._viewerRole&&D.privileges&&!x.default.exceedsRolePrivileges(C,D.privileges)?this.LICENSE_LEVELS.ONE:this._editorRole&&D.privileges&&!x.default.exceedsRolePrivileges(E,D.privileges)?this.LICENSE_LEVELS.ONE_PLUS_EDIT:this.LICENSE_LEVELS.TWO};B.prototype._refreshPage=
function(D){var C=this;this._getData().then(function(){var E=C.searchInput.value;C.filteredRoles=C._roles.filter(function(H){return!E||-1<H.name.toLowerCase().indexOf(E.toLowerCase())});C._start>C.filteredRoles.length&&(C._start-=C._rolesPerPage);C._renderPage(D);C.renderPagination(C.filteredRoles);f.default.publish("roles/updated",C._roles)})};return B=a.__decorate([(0,r.default)(e.default,A.default)],B)}()})},"arcgisonline/pages/organization/widgets/settings/rows/RoleRow":function(){define("require exports tslib ../../../../pageUtil ../../../../dijit/RoleSummaryDlg ../RoleOverlay ../../../../utils/icons ../../../../utils/dom ../../../../utils/tooltips ../../../../../sharing/dijit/_LevelAwareMixin arcgisonline/tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dijit/registry dojo/on dojo/string dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/RoleRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.templateString=d.default;this.icons=m.default;
this.i18n=c.default;this.hasVelocityServer=this.disableActions=!1;this.CORE_ROLE_IDS=["org_admin","org_publisher","org_user","account_admin","account_publisher","account_user",this.SYSTEM_ROLES.FACILITATOR,this.SYSTEM_ROLES.DATA_EDITOR,this.SYSTEM_ROLES.VIEWER]}w.prototype.postCreate=function(){this.inherited(arguments);-1<this.CORE_ROLE_IDS.indexOf(this.role.id)?(h.default.hideNode(this.actionsBtn),this.typeLabel.textContent=this.i18n.memberRolesTab.default):(this.portalUser&&!this.portalUser.userRole.isAdmin()&&
this.role.id===this.portalUser.userRole.id&&(this.disableActions=!0),this.typeLabel.textContent=this.i18n.memberRolesTab.custom);this.typeLabel.title=this.typeLabel.textContent;this.disableActions&&h.default.hideNode(this.actionsBtn);this._addEventListeners()};w.prototype.startup=function(){this.inherited(arguments);this.configureWarning()};w.prototype.configureWarning=function(){var t=this.portalUser.userRole,z=t.isAdmin();this.defaultRole&&this.role.id===this.defaultRole?(t=z||t.canManageSecurity(),
z=this.i18n.memberRolesTab[t?"defaultRoleWarning":"defaultRoleWarningNonAdmin"],this.showWarningIcon(),this.configureWarningTooltip(z),t&&this.own((0,n.default)(this.warningIcon,"click",function(){l.default.publish("settings-tab/select","newMemberDefaults")}))):z||this.role.id!==t.id||(this.showWarningIcon(),this.configureWarningTooltip(this.i18n.memberRolesTab.editOwnCustomRoleWarning))};w.prototype.configureWarningTooltip=function(t){this.warningIcon.setAttribute("aria-label",t);var z=p.default.byId("tooltip_"+
this.warningIcon.id);z&&z.destroy();u.default.createTooltip(this.warningIcon.id,t)};w.prototype.showWarningIcon=function(){h.default.hideNode(this.actionsBtn);h.default.showNode(this.warningIcon)};w.prototype._addEventListeners=function(){this.own((0,n.default)(this._infoBtn,"click",this._handleInfoBtnClick.bind(this)),(0,n.default)(this._editBtn,"click",this._handleEditClick.bind(this)),(0,n.default)(this._deleteBtn,"click",this._handleDeleteClick.bind(this)))};w.prototype._handleInfoBtnClick=function(){b.default.createSpecifiedDialog(k.default,
{role:this.role}).show()};w.prototype._handleEditClick=function(){(new f.default({constrain:!0,maxWidth:850,role:this.role,opener:this.actionsBtn,hasVelocityServer:this.hasVelocityServer})).open()};w.prototype._handleDeleteClick=function(){var t=this;b.default.createConfirmationDialog({strings:{title:this.i18n.delete,description:q.default.substitute(this.i18n.memberRolesTab.reallyDeleteRole,{role:this.role.name}),ok:this.i18n.delete},okColor:"red",autoCloseOnOk:!0,onOk:function(){l.default.publish("role/delete",
t)}})};return w=a.__decorate([(0,e.default)(g.default,v.default,r.default)],w)}()})},"arcgisonline/pages/dijit/RoleSummaryDlg":function(){define("require exports tslib dojo/text!./RoleSummaryDlg/RoleSummaryDlg.html dojo/i18n!../../nls/arcgisonline dojo/i18n!../../nls/custom-roles dijit/_TemplatedMixin dijit/_WidgetBase dijit/Dialog ./InviteMembers/MobileError ../../sharing/util ../../sharing/dijit/_LevelAwareMixin ../../sharing/dijit/Role ../../tsutils/declareDecorator ../../pages/utils/dom".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(){this.templateString=b.default;this.i18n=a.__assign(a.__assign({},k.default),{customRoles:f.default.customRoles});this._isMobile=480>=window.innerWidth;this._coreRoleIds=
"org_admin org_publisher org_user account_admin account_publisher account_user".split(" ")}q.prototype.postCreate=function(){this.inherited(arguments);this._isPortal=e.default.isPortal();this._isMobile?(this.dialog=new r.default,this.dialog.domNode.classList.add("role-summary-alert")):(this.dialog=new u.default({title:this.role.name,style:{width:"315px",maxWidth:"315px",outline:"none"}}),this.dialog.set({content:this.domNode}));this._coreRoleIds.push(this.SYSTEM_ROLES.VIEWER,this.SYSTEM_ROLES.DATA_EDITOR,
this.SYSTEM_ROLES.FACILITATOR);this._render()};q.prototype.show=function(){var l=this;this._isMobile?this.dialog.show({title:this.role.name,description:this._content.innerHTML,hideActionBar:!0,isInfo:!0}):this.dialog.show().then(function(){var c=l.domNode.querySelector(".dijitDialogCloseIcon");c&&c.focus();l.dialog.closeButtonNode.tabIndex=0})};q.prototype._render=function(){var l,c="";if(-1===this._coreRoleIds.indexOf(this.role.id)){c=this.role.description;if(0<(null===(l=this.role.privileges)||
void 0===l?void 0:l.length)){var d="";this._summarizeRole().forEach(function(t){d+="\x3cli\x3e".concat(t,"\x3c/li\x3e")});this._privilegesList.innerHTML=d;n.default.showNode(this._privilegesList);n.default.showNode(this.privilegesTitle);l=this.role.privileges.some(function(t){return-1<t.indexOf(":admin:")});var w=this.role.privileges.some(function(t){return-1<t.indexOf(":publisher:")});l?this._extraInfo.textContent=this.i18n.customRoles.containsAdmin:w&&(this._extraInfo.textContent=this.i18n.customRoles.containsPublisher)}else this._extraInfo.textContent=
this.i18n.customRoles.noneGranted;0<this._extraInfo.textContent.length&&n.default.showNode(this._extraInfoContainer)}else{switch(this.role.id){case "org_admin":case "account_admin":c=this._isPortal?this.i18n.customRoles.adminDescriptionPortal:this.i18n.customRoles.adminDescription;break;case "org_publisher":case "account_publisher":c=this.i18n.customRoles.publisherDescription;break;case "org_user":case "account_user":c=this.i18n.customRoles.userDescription;break;case this.SYSTEM_ROLES.VIEWER:c=this._isPortal?
this.i18n.customRoles.viewerDescriptionPortal:this.i18n.customRoles.viewerDescription;break;case this.SYSTEM_ROLES.DATA_EDITOR:c=this._isPortal?this.i18n.customRoles.viewerPlusEditDescriptionPortal:this.i18n.customRoles.viewerPlusEditDescription;break;case this.SYSTEM_ROLES.FACILITATOR:c=this.i18n.customRoles.facilitatorDescription}n.default.showNode(this._coreRole)}this._description.textContent=c};q.prototype._summarizeRole=function(){var l=new g.default({id:this.role.id});l.setPrivileges(this.role.privileges);
return l.summarize()};return q=a.__decorate([(0,p.default)(h.default,m.default,v.default)],q)}()})},"arcgisonline/pages/dijit/InviteMembers/MobileError":function(){define("require exports tslib dojo/Deferred dojo/text!./templates/MobileError.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dijit/a11yclick dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/icons ../../../tsutils/declareDecorator ../../utils/dom".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);
f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n){this.templateString=k.default;this.i18n=f.default;this.icons=e.default;this.description=this.title="";this.buttonText=this.i18n.common.ok;this.cancelText=this.i18n.common.cancel;this.actionText="";this.ACTIVE_CLASS="invite-members__mobile-error--is-active"}p.prototype.postCreate=function(){this.inherited(arguments);
document.body.appendChild(this.domNode);this._addEventListeners()};p.prototype._addEventListeners=function(){this.own((0,h.default)(this._closeButton,this._close.bind(this)),(0,h.default)(this._confirmButton,this._hideAndTakeAction.bind(this)),(0,h.default)(this._cancelButton,this._cancel.bind(this)))};p.prototype._hideAndTakeAction=function(){this.hide();this._showDfd&&this._showDfd.resolve("onOk")};p.prototype._close=function(){this.hide();this._showDfd&&this._showDfd.resolve("onClose")};p.prototype._cancel=
function(){this.hide();this._showDfd&&this._showDfd.resolve("onCancel")};p.prototype.show=function(n){var q=n.title;q=void 0===q?"":q;var l=n.description;l=void 0===l?"":l;var c=n.buttonText;c=void 0===c?this.i18n.common.ok:c;var d=n.cancelText;d=void 0===d?this.i18n.common.cancel:d;var w=n.isConfirm;w=void 0===w?!1:w;var t=n.isInfo;t=void 0===t?!1:t;var z=n.isSuccess;z=void 0===z?!1:z;var x=n.isRedButton;x=void 0===x?!1:x;var y=n.hideActionBar;y=void 0===y?!1:y;var A=n.showClose;A=void 0===A?!1:
A;var B=n.hideConfirm;B=void 0===B?!1:B;var D=n.hideCancel;D=void 0===D?!1:D;var C=n.hideHeader;C=void 0===C?!1:C;n=n.isBlueCancel;n=void 0===n?!1:n;this.title=q;this._title.textContent=q;this.description=l;this._description.innerHTML=l;this.buttonText=c;this._confirmButton.textContent=c;this._cancelButton.textContent=d;this.domNode.classList[this.title?"remove":"add"]("mobile-alert--no-title");this.domNode.classList[t?"add":"remove"]("mobile-alert--info");this.domNode.classList[z?"add":"remove"]("mobile-alert--success");
z||y?g.default.hideNode(this._actionBar):g.default.showNode(this._actionBar);this._confirmButton.classList[x?"add":"remove"]("mobile-alert__btn--red");w?(g.default.showNode(this._cancelButton),g.default.hideNode(this._closeButton)):(g.default.hideNode(this._cancelButton),g.default.showNode(this._closeButton));A&&g.default.showNode(this._closeButton);B&&(g.default.hideNode(this._confirmButton),this._cancelButton.classList.remove("leader-half"));D&&g.default.hideNode(this._cancelButton);C&&g.default.hideNode(this._header);
this._cancelButton.classList[n?"remove":"add"]("btn-link-darker-gray");window.getComputedStyle(this.domNode).opacity;this.domNode.classList.add(this.ACTIVE_CLASS);return this._showDfd=new b.default};p.prototype.hide=function(){var n=this;this.domNode.classList.remove(this.ACTIVE_CLASS);setTimeout(function(){n.emit("hide")},300)};return p=a.__decorate([(0,v.default)(r.default,u.default,m.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/RoleOverlay":function(){define("require exports tslib dojo/i18n!../../../../nls/org-settings dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay ../RoleForm arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.title="";this.i18nSettings=b.default.memberRolesTab;this.overlayContents='\x3cdiv class\x3d"js-role-overlay-content"\x3e\x3c/div\x3e';this.hasVelocityServer=this.closeOnScrimClick=!1}e.prototype.postMixInProperties=function(){this.inherited(arguments);this.title=this.role?
this.i18nSettings.editRole:this.i18nSettings.createRole};e.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("manage-role-overlay");this._roleForm=new u.default({inOverlay:!0,role:this.role,telemetry:this.telemetry,hasVelocityServer:this.hasVelocityServer},this.domNode.querySelector(".js-role-overlay-content"))};e.prototype.close=function(){this.inherited(arguments)};e.prototype.handleCancel=function(){var v;null===(v=this.telemetry)||void 0===v?void 0:v.logEvent({category:"memberRoles",
label:"role",action:"Cancel"});this.inherited(arguments)};e.prototype.handlePrimary=function(){var v=this;this._roleForm.save().then(function(){v.close();k.default.publish("role-overlay/save")})};return e=a.__decorate([(0,r.default)(m.default,f.default,h.default)],e)}()})},"arcgisonline/pages/organization/widgets/RoleForm":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/promise/all dojo/Deferred dojo/query dojo/string dojo/topic dojo/text!./templates/settings/RoleForm.html dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/custom-roles dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/HorizontalSlider esri/lang ./PrivilegeSection ../../utils/arrays ../../utils/notebook ../../pageUtil ../../utils/alerts ../../utils/culture ../../utils/dom ../../utils/organization ../../utils/icons ./ImportExistingRoleDlg ../../../sharing/geow/Licenses ../../../sharing/geow/Roles ../../../sharing/util ../../../sharing/dijit/_LevelAwareMixin arcgisonline/esriGeowConfig ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);G=a.__importDefault(G);F=a.__importDefault(F);I=a.__importDefault(I);return function(){function J(K,P){this.templateString=e.default;this.i18n=a.__assign(a.__assign(a.__assign({},v.default.common),v.default.myOrganization),g.default.customRoles);this.icons=B.default;this.hasVelocityServer=this.inOverlay=!1;this._sliderValue=
2;this._currentLevel=this.LICENSE_LEVELS.TWO;this._someCollapsed=!0;this._allChecked=!1;this._roles=[];this.totalAdminOptions=this.totalGeneralOptions=0;this.SECTION_ACTIVE_CLASS="role-form__priv-section--active"}J.prototype.postCreate=function(){var K=this,P,T,S;this.inherited(arguments);this._isPortal=H.default.isPortal();this.inOverlay&&(y.default.hideNode(this._topButtons),y.default.hideNode(this._bottomButtons));this._openDataEnabled=!this._isPortal&&!0===(null===(S=null===(T=null===(P=F.default.self)||
void 0===P?void 0:P.portalProperties)||void 0===T?void 0:T.openData)||void 0===S?void 0:S.enabled);this._initSlider();this._rolesAPI=new E.default;this._licensesAPI=new C.default;this._renderCompatibleText();this._importFromTemplateBtn.addEventListener("click",function(){t.default.createSpecifiedDialog(D.default).show()});(0,f.default)({subscriptionInfo:A.default.getSubscriptionInfo(),customRoles:this._rolesAPI.getAllRoles(!0),servers:this._isPortal?this.fetchFederatedServers():null}).then(function(L){var N;
K.orgCapabilities=(null===(N=L.subscriptionInfo)||void 0===N?void 0:N.orgCapabilities)||[];N=L.customRoles;K.knowledgeGraphSupported=K.knowledgeGraphServerConfigured(L.servers);K.videoServerConfigured=K.checkVideoServer(L.servers);K._roles=a.__spreadArray([{id:"org_publisher",name:v.default.myOrganization.formatters.rolePublisher},{id:"org_admin",name:v.default.myOrganization.formatters.roleAdmin},{id:"org_user",name:v.default.myOrganization.formatters.roleUser}],N,!0);K._viewerRole=N.filter(function(O){return O.id===
K.SYSTEM_ROLES.VIEWER})[0];K._viewerEditRole=N.filter(function(O){return O.id===K.SYSTEM_ROLES.DATA_EDITOR})[0];K._initPrivilegeSections();K.role&&(K._formTitle.textContent=K.i18n.settingsTab.editRole,K._populateEditForm())});this._addEventListeners()};J.prototype._populateEditForm=function(){this._roleNameInput.value=this.role.name;this._roleDescTextarea.value=this.role.description;this._setSliderAndPrivilegeValues(this.role)};J.prototype._onSave=function(){this.save().then(function(){r.default.publish("role-form/close")})};
J.prototype._setRolePrivileges=function(K,P,T,S){var L=this,N=new m.default;this._rolesAPI.setPrivileges(K,P).then(function(O){l.default.isDefined(O)&&!l.default.isDefined(O.code)?z.default.showAlert("success",u.default.substitute(T,{name:S})):z.default.showAlert("error",u.default.substitute(L.i18n.errors.cantSetRolePrivileges,{name:S}));N.resolve()},function(O){z.default.showAlert("error",u.default.substitute(L.i18n.errors.cantSetRolePrivileges,{name:S}));N.resolve()});return N};J.prototype._isValid=
function(){var K=this._roleNameInput.value,P=this._roleDescTextarea.value,T=!1,S=!1,L=!l.default.isDefined(K)||0===K.length,N=!l.default.isDefined(P)||0===P.length,O=/^[^<>]+$/;L?(this._roleNameError.textContent=this.i18n.errors.roleNameRequired,T=!0):128<(null===K||void 0===K?void 0:K.length)?(this._roleNameError.textContent=this.i18n.errors.roleNameTooLong,T=!0):O.test(K)?!this.role&&this._roles.filter(function(Q){return Q.name.toLowerCase()===H.default.stripHTML(K).toLowerCase()})[0]&&(this._roleNameError.textContent=
this.i18n.errors.roleNameUnique,T=!0):(this._roleNameError.textContent=this.i18n.errors.roleNameBadChars,T=!0);N?(this._roleDescError.textContent=this.i18n.errors.roleDescriptionRequired,S=!0):l.default.isDefined(P)&&250<K.length?(this._roleDescError.textContent=this.i18n.errors.roleDescTooLong,S=!0):O.test(P)||(this._roleDescError.textContent=this.i18n.errors.roleDescriptionBadChars,S=!0);this._roleNameInput.classList[T?"add":"remove"]("input-error");this._roleNameError.classList[T?"add":"remove"]("is-active");
this._roleDescTextarea.classList[S?"add":"remove"]("input-error");this._roleDescError.classList[S?"add":"remove"]("is-active");T?this._roleNameInput.focus():S&&this._roleDescTextarea.focus();return!T&&!S};J.prototype.checkExpandStatus=function(){var K=[];this.domNode.querySelectorAll(".accordion-section:not(.hide)").forEach(function(S){K.push(S)});var P=K.every(function(S){return S.classList.contains("is-active")}),T=K.every(function(S){return!S.classList.contains("is-active")});P?(this._collapseAllBtn.textContent=
this.i18n.settingsTab.collapseAll,this._someCollapsed=!1):T&&(this._collapseAllBtn.textContent=this.i18n.settingsTab.expandAll)};J.prototype._addEventListeners=function(){var K=this;this.own(r.default.subscribe("privilege-option/change",this._onPrivilegeOptionChange.bind(this)),r.default.subscribe("privilege-section/toggle",this._onPrivilegeSectionToggle.bind(this)),r.default.subscribe("import-role-template/imported",this._setSliderAndPrivilegeValues.bind(this)),(0,h.default)(".js-save-btn",this.domNode).on("click",
this._onSave.bind(this)),(0,h.default)(".js-discard-btn",this.domNode).on("click",function(){r.default.publish("role-form/close")}),(0,k.default)(this._roleNameInput,"input",function(){var P=0<K._roleNameInput.value.trim().length;K._roleNameInput.classList[P?"remove":"add"]("input-error");K._roleNameError.classList[P?"remove":"add"]("is-active")}),(0,k.default)(this._roleDescTextarea,"input",function(){var P=0<K._roleDescTextarea.value.trim().length;K._roleDescTextarea.classList[P?"remove":"add"]("input-error");
K._roleDescError.classList[P?"remove":"add"]("is-active")}),(0,k.default)(this.generalTitle,"click",function(){K.generalTitle.parentElement.classList.toggle(K.SECTION_ACTIVE_CLASS)}),(0,k.default)(this.adminTitle,"click",function(){K.adminTitle.parentElement.classList.toggle(K.SECTION_ACTIVE_CLASS)}),(0,k.default)(this.generalEnableAllBtn,"click",function(P){P.stopPropagation();var T=K.generalEnableAllBtn.textContent===K.i18n.settingsTab.enableAll,S=0;K._generalSections.forEach(function(L){T?(L.checkAll(),
S+=L.getCheckedCount()):L.uncheckAll()});K.generalEnabledEl.textContent=K.getEnabledText(T?S:0,K.totalGeneralOptions);K.generalEnableAllBtn.textContent=T?K.i18n.settingsTab.disableAll:K.i18n.settingsTab.enableAll}),(0,k.default)(this.adminEnableAllBtn,"click",function(P){P.stopPropagation();var T=K.adminEnableAllBtn.textContent===K.i18n.settingsTab.enableAll;K._adminSections.forEach(function(S){T?S.checkAll():S.uncheckAll()});K.adminEnabledEl.textContent=K.getEnabledText(T?K.totalAdminOptions:0,K.totalAdminOptions);
K.adminEnableAllBtn.textContent=T?K.i18n.settingsTab.disableAll:K.i18n.settingsTab.enableAll}),r.default.subscribe("privilege-option/accordion-toggle",function(){K.checkExpandStatus()}));this._collapseAllBtn.addEventListener("click",function(){K._someCollapsed?(r.default.publish("role-form/expand-all"),K._collapseAllBtn.textContent=K.i18n.settingsTab.collapseAll,K._someCollapsed=!1,K.generalTitle.parentElement.classList.add(K.SECTION_ACTIVE_CLASS),K.adminTitle.parentElement.classList.add(K.SECTION_ACTIVE_CLASS)):
(r.default.publish("role-form/collapse-all"),K._collapseAllBtn.textContent=K.i18n.settingsTab.expandAll,K._someCollapsed=!0,K.generalTitle.parentElement.classList.remove(K.SECTION_ACTIVE_CLASS),K.adminTitle.parentElement.classList.remove(K.SECTION_ACTIVE_CLASS))});this._toggleBtn.addEventListener("click",function(){K._allChecked?(r.default.publish("role-form/uncheck-all"),K._toggleBtn.textContent=K.i18n.settingsTab.toggleAllOn):(r.default.publish("role-form/check-all"),K._toggleBtn.textContent=K.i18n.settingsTab.toggleAllOff);
K._allChecked=!K._allChecked})};J.prototype.getEnabledText=function(K,P){return u.default.substitute(this.i18n.settingsTab.enabledCount,{count:K,total:P})};J.prototype._setSliderAndPrivilegeValues=function(K){var P=this,T=K.level===this.LICENSE_LEVELS.TWO?2:K.level===this.LICENSE_LEVELS.ONE_PLUS_EDIT?1:0;this._privilegeSlider.set("value",T);this._onSliderChange(T);r.default.publish("role-form/uncheck-all");K.privileges.forEach(function(S){(!["portal:publisher:publishLivestreamVideo","portal:publisher:publishVideo"].includes(S)||
P._isPortal&&P.videoServerConfigured)&&r.default.publish("role-form/check-option",S)});r.default.publish("role-form/update-all-check");this._updateToggleBtn()};J.prototype.getAllOptions=function(){var K=[];this._generalSections.forEach(function(P){K=a.__spreadArray(a.__spreadArray([],K,!0),P.items,!0)});this._adminSections.forEach(function(P){K=a.__spreadArray(a.__spreadArray([],K,!0),P.items,!0)});return K};J.prototype.getDependencies=function(K,P){var T=this;void 0===P&&(P=[]);if(!K.dependencies)return P;
var S=this.getAllOptions();K.dependencies.forEach(function(L){if(!(-1<P.indexOf(L))){P.push(L);var N=S.find(function(O){return O.privilege===L});if(null===N||void 0===N?0:N.dependencies)P=T.getDependencies(N,P)}});return P};J.prototype.getRemoveDependencies=function(K,P){var T=this;void 0===P&&(P=[]);if(!K.removeDependencies)return P;var S=this.getAllOptions();K.removeDependencies.forEach(function(L){if(!(-1<P.indexOf(L))){P.push(L);var N=S.find(function(O){return O.privilege===L});if(null===N||void 0===
N?0:N.removeDependencies)P=T.getRemoveDependencies(N,P)}});return P};J.prototype._onPrivilegeOptionChange=function(K){K.checked()&&K.dependencies&&(this.getDependencies(K).forEach(function(P){r.default.publish("role-form/check-option",P)}),r.default.publish("role-form/update-all-check"));!K.checked()&&K.removeDependencies&&this.getRemoveDependencies(K).forEach(function(P){r.default.publish("role-form/uncheck-option",P)});this._updateToggleBtn()};J.prototype._updateToggleBtn=function(){this._allChecked=
this._sections.every(function(T){return T.isAllChecked(!0)});this._toggleBtn.textContent=this._allChecked?this.i18n.settingsTab.toggleAllOff:this.i18n.settingsTab.toggleAllOn;var K=this._generalSections.filter(function(T){return!T.hidden}).every(function(T){return T.isAllChecked(!0)}),P=this._generalSections.reduce(function(T,S){return T+S.getCheckedCount()},0);this.generalEnableAllBtn.textContent=K?this.i18n.settingsTab.disableAll:this.i18n.settingsTab.enableAll;this.generalEnabledEl.textContent=
this.getEnabledText(P,this.totalGeneralOptions);K=this._adminSections.every(function(T){return T.isAllChecked(!0)});P=this._adminSections.reduce(function(T,S){return T+S.getCheckedCount()},0);this.adminEnableAllBtn.textContent=K?this.i18n.settingsTab.disableAll:this.i18n.settingsTab.enableAll;this.adminEnabledEl.textContent=this.getEnabledText(P,this.totalAdminOptions)};J.prototype._onPrivilegeSectionToggle=function(){this._someCollapsed=this._sections.some(function(K){return K.collapsed});this._collapseAllBtn.textContent=
this._someCollapsed?this.i18n.settingsTab.expandAll:this.i18n.settingsTab.collapseAll};J.prototype._initPrivilegeSections=function(){var K=this,P,T,S,L,N,O,Q,V,X=this._isPortal,Z=F.default.locationTrackingUIEnabled,ca=this._isPortal?this.hasVelocityServer:this.orgCapabilities.some(function(Y){return"velocity"===Y.id}),R="".concat(this.i18n.geoservices.canUseGeocodingTooltip).concat(X?"":' \x3ca href\x3d"'.concat(null===(P=F.default.self)||void 0===P?void 0:P.helpBase).concat(null===(L=null===(S=null===
(T=F.default.self)||void 0===T?void 0:T.helpMap)||void 0===S?void 0:S.m)||void 0===L?void 0:L["120002632"],'" target\x3d"_blank"\x3e').concat(v.default.common.learnMore,"\x3c/a\x3e"));P="portal:user:viewOrgItems portal:user:viewOrgUsers portal:admin:viewItems portal:admin:viewUsers portal:user:viewOrgGroups portal:admin:viewGroups".split(" ");T=P.concat(["portal:user:viewOrgItems","portal:admin:viewItems","portal:admin:updateUsers","portal:admin:changeUserRoles","portal:admin:manageLicenses"]);S=
{labelId:"general-members-label",sectionTitle:this.i18n.users.title,tooltip:X?this.i18n.users.titleTooltipPortal:this.i18n.users.titleTooltip,items:[{privilege:"portal:user:viewOrgUsers",label:this.i18n.users.canViewOrgUsers,tooltip:X?this.i18n.users.canViewOrgUsersTooltipPortal:this.i18n.users.canViewOrgUsersTooltip}]};L={labelId:"general-groups-label",sectionTitle:this.i18n.groups.title,tooltip:X?this.i18n.groups.titleTooltipPortal:this.i18n.groups.titleTooltip,items:[{privilege:"portal:user:createGroup",
label:this.i18n.groups.canCreate,tooltip:this.i18n.groups.canCreateTooltip},{privilege:"portal:user:joinGroup",label:this.i18n.groups.canJoinInt,tooltip:X?this.i18n.groups.canJoinIntTooltipPortal:this.i18n.groups.canJoinIntTooltip},{privilege:"portal:user:joinNonOrgGroup",label:this.i18n.groups.canJoinExt,tooltip:X?this.i18n.groups.canJoinExtTooltipPortal:this.i18n.groups.canJoinExtTooltip,hidden:X},{privilege:"portal:user:viewOrgGroups",label:this.i18n.groups.canViewOrgGroups,tooltip:X?this.i18n.groups.canViewOrgGroupsTooltipPortal:
this.i18n.groups.canViewOrgGroupsTooltip},{privilege:"portal:user:invitePartneredCollaborationMembers",dependencies:["portal:user:createGroup","portal:user:addExternalMembersToGroup"],label:this.i18n.groups.canInvitePartnered,tooltip:this.i18n.groups.canInvitePartneredTooltip,hidden:X},{privilege:"portal:user:addExternalMembersToGroup",dependencies:["portal:user:createGroup"],label:this.i18n.groups.canAddExternal,tooltip:this.i18n.groups.canAddExternalTooltip,hidden:X}]};Z={labelId:"general-content-label",
sectionTitle:this.i18n.items.title,tooltip:this.i18n.items.titleTooltip,items:[{privilege:"portal:user:createItem",label:this.i18n.items.canCreate,tooltip:this.i18n.items.canCreateTooltip},{privilege:"portal:publisher:publishFeatures",dependencies:["portal:user:createItem"],label:this.i18n.items.canPublishFeatures,tooltip:this.i18n.items.canPublishFeaturesTooltip},{privilege:"portal:publisher:publishTiles",dependencies:["portal:user:createItem"],label:this.i18n.items.canPublishTiles,tooltip:this.i18n.items.canPublishTilesTooltip},
{privilege:"portal:publisher:publishScenes",dependencies:["portal:user:createItem","portal:publisher:publishFeatures"],label:this.i18n.items.canPublishScenes,tooltip:this.i18n.items.canPublishScenesTooltip,hidden:!F.default.sceneViewerEnabled},{privilege:"portal:publisher:publishTiledImagery",dependencies:["portal:user:createItem"],label:this.i18n.items.canPublishTiledImagery,tooltip:"".concat(this.i18n.items.canPublishTiledImageryTooltip).concat(X?"":" ".concat(this.i18n.requiresImage)),hidden:X},
{privilege:"portal:publisher:publishDynamicImagery",dependencies:["portal:user:createItem"],label:this.i18n.items.canPublishDynamicImagery,tooltip:this.i18n.items.canPublishDynamicImageryTooltip},{privilege:"portal:publisher:publishServerServices",dependencies:["portal:user:createItem"],label:this.i18n.items.canPublishServerServices,tooltip:this.i18n.items.canPublishServerServicesTooltip,removeDependencies:["portal:publisher:bulkPublishFromDataStores","portal:publisher:publishServerGPServices"],hidden:!X},
{privilege:"portal:publisher:publishKnowledgeGraph",dependencies:["portal:user:createItem"],label:this.i18n.items.canPublishKnowledgeGraph,tooltip:this.i18n.items.canPublishKnowledgeGraphTooltip,hidden:!X||!this.knowledgeGraphSupported},{privilege:"portal:user:viewOrgItems",label:this.i18n.items.canViewOrgItems,tooltip:X?this.i18n.items.canViewOrgItemsTooltipPortal:this.i18n.items.canViewOrgItemsTooltip},{privilege:"premium:publisher:createNotebooks",label:this.i18n.items.canCreateNotebooks,removeDependencies:["premium:publisher:scheduleNotebooks",
"premium:publisher:createAdvancedNotebooks"],tooltip:this.i18n.items.canCreateNotebooksTooltip,hidden:!w.default.notebookServerConfigured()},{privilege:"premium:publisher:scheduleNotebooks",label:this.i18n.itemAdmin.canScheduleNotebooks,dependencies:["premium:publisher:createNotebooks"],tooltip:this.i18n.itemAdmin.canScheduleNotebooksTooltip,hidden:!w.default.notebookServerConfigured()},{privilege:"portal:publisher:bulkPublishFromDataStores",label:this.i18n.items.canPublishFromDataStore,dependencies:["portal:user:createItem",
"portal:publisher:publishServerServices"],tooltip:this.i18n.items.canPublishFromDataStoreTooltip,hidden:!X||X&&!F.default.bulkPublishingEnabled},{privilege:"portal:publisher:registerDataStores",label:this.i18n.items.canRegisterDataStore,dependencies:["portal:user:createItem"],tooltip:this.i18n.items.canRegisterDataStoreTooltip,hidden:!X||X&&!F.default.bulkPublishingEnabled},{privilege:"portal:user:viewTracks",label:this.i18n.items.canViewTracks,tooltip:this.i18n.items.canViewTracksTooltip,hidden:!Z},
{privilege:"portal:user:reassignItems",label:this.i18n.items.canReassignOwnItems,dependencies:["portal:user:createItem","portal:user:viewOrgUsers"],tooltip:this.i18n.items.canReassignOwnItemsTooltip},{privilege:"portal:user:receiveItems",label:this.i18n.items.canReceiveReassignment,dependencies:["portal:user:createItem"],tooltip:this.i18n.items.canReceiveReassignmentTooltip},{privilege:"portal:publisher:publishFeeds",label:this.i18n.items.canPublishFeeds,tooltip:this.i18n.items.canPublishFeedsTooltip,
hidden:!ca},{privilege:"portal:publisher:publishRealTimeAnalytics",label:this.i18n.items.canPublishRealTime,tooltip:this.i18n.items.canPublishRealTimeTooltip,hidden:!ca},{privilege:"portal:publisher:publishBigDataAnalytics",label:this.i18n.items.canPublishBigData,tooltip:this.i18n.items.canPublishBigDataTooltip,hidden:!ca},{privilege:"portal:publisher:createDataPipelines",label:this.i18n.items.canCreatePipelines,tooltip:this.i18n.items.canCreatePipelinesTooltip,dependencies:["portal:user:createItem",
"portal:publisher:publishFeatures"],hidden:X},{privilege:"portal:publisher:publishLivestreamVideo",label:this.i18n.items.canPublishLivestreamVideo,tooltip:this.i18n.items.canPublishLivestreamVideoTooltip,dependencies:["portal:user:createItem"],hidden:!X||!this.videoServerConfigured},{privilege:"portal:publisher:publishVideo",label:this.i18n.items.canPublishVideo,tooltip:this.i18n.items.canPublishVideoTooltip,dependencies:["portal:user:createItem"],hidden:!X||!this.videoServerConfigured}]};ca={labelId:"general-sharing-label",
sectionTitle:this.i18n.itemSharing.title,tooltip:this.i18n.itemSharing.titleTooltip,items:[{privilege:"portal:user:shareToGroup",label:this.i18n.itemSharing.canShareGroups,tooltip:this.i18n.itemSharing.canShareGroupsTooltip},{privilege:"portal:user:shareToOrg",label:X?this.i18n.itemSharing.canShareOrgPortal:this.i18n.itemSharing.canShareOrg,tooltip:X?this.i18n.itemSharing.canShareOrgTooltipPortal:this.i18n.itemSharing.canShareOrgTooltip},{privilege:"portal:user:shareToPublic",label:this.i18n.itemSharing.canSharePublic,
tooltip:this.i18n.itemSharing.canSharePublicTooltip,extraInfo:this.i18n.itemSharing.canSharePublicTooltipInfo},{privilege:"portal:user:shareGroupToOrg",label:X?this.i18n.groupSharing.canShareOrgPortal:this.i18n.groupSharing.canShareOrg,tooltip:X?this.i18n.groupSharing.canShareOrgTooltipPortal:this.i18n.groupSharing.canShareOrgTooltip},{privilege:"portal:user:shareGroupToPublic",label:this.i18n.groupSharing.canSharePublic,tooltip:this.i18n.groupSharing.canSharePublicTooltip,hidden:this.mustHideShareToPublicOption("portal:user:shareGroupToPublic")},
{privilege:"opendata:user:designateGroup",dependencies:["portal:user:shareGroupToPublic"],label:this.i18n.openData.canDesignate,tooltip:this.i18n.openData.canDesignateTooltip,hidden:X||!this._openDataEnabled}]};R={labelId:"general-premium-label",sectionTitle:X?this.i18n.geoservices.titlePortal:this.i18n.geoservices.title,tooltip:this.i18n.geoservices.titleTooltip,items:[{privilege:"premium:user:geocode",label:this.i18n.geoservices.canUseGeocoding,tooltip:R},{privilege:"premium:user:networkanalysis",
dependencies:["portal:user:createItem","portal:publisher:publishFeatures"],label:this.i18n.geoservices.canUseNA,tooltip:this.i18n.geoservices.canUseNATooltip},{privilege:"premium:user:spatialanalysis",dependencies:["portal:user:createItem","portal:publisher:publishFeatures"],label:X?this.i18n.geoservices.canUseSAPortal:this.i18n.geoservices.canUseSA,tooltip:X?this.i18n.geoservices.canUseSAPortalTooltip:this.i18n.geoservices.canUseSATooltip},{privilege:"premium:user:geoenrichment",dependencies:["portal:user:createItem",
"portal:publisher:publishFeatures"],label:this.i18n.geoservices.canUseGeoenrichment,tooltip:this.i18n.geoservices.canUseGeoenrichmentTooltip},{privilege:"premium:user:demographics",dependencies:["portal:user:createItem","portal:publisher:publishFeatures"],label:this.i18n.geoservices.canUseDemographics,tooltip:this.i18n.geoservices.canUseDemographicsTooltip,hidden:X},{privilege:"premium:publisher:geoanalytics",label:this.i18n.geoservices.canUseGeoanalytics,tooltip:this.i18n.geoservices.canUseGeoanalyticsTooltip,
hidden:!X},{privilege:"premium:publisher:rasteranalysis",label:this.i18n.geoservices.canUseRasterAnalysis,tooltip:"".concat(this.i18n.geoservices.canUseRasterAnalysisTooltip).concat(X?"":" ".concat(this.i18n.requiresImage)),dependencies:["portal:user:createItem","portal:publisher:publishFeatures","portal:publisher:publishTiledImagery"]},{privilege:"premium:publisher:createAdvancedNotebooks",label:this.i18n.geoservices.canUseAdvancedNotebooks,tooltip:this.i18n.geoservices.canUseAdvancedNotebooksTooltip,
hidden:!w.default.notebookServerConfigured(),dependencies:["premium:publisher:createNotebooks"]},{privilege:"portal:user:runWebTool",label:this.i18n.geoservices.canRunWebTool,tooltip:this.i18n.geoservices.canRunWebToolTooltip,hidden:!X||!w.default.notebookServerConfigured()},{privilege:"premium:user:featurereport",label:this.i18n.geoservices.canUseFeatureReport,tooltip:this.i18n.geoservices.canUseFeatureReportTooltip,dependencies:["portal:user:createItem"],hidden:X}]};R=[S,L,Z,ca,R,{labelId:"general-features-label",
sectionTitle:this.i18n.features.title,tooltip:this.i18n.features.titleTooltip,items:[{privilege:"features:user:edit",label:this.i18n.features.canEdit,tooltip:this.i18n.features.canEditTooltip},{privilege:"features:user:fullEdit",dependencies:["features:user:edit"],label:this.i18n.features.canManage,tooltip:this.i18n.features.canManageTooltip}]},{labelId:"general-version-label",sectionTitle:this.i18n.versioning.title,tooltip:this.i18n.versioning.titleTooltip,items:[{privilege:"features:user:manageVersions",
label:this.i18n.versioning.canManage,dependencies:["features:user:edit","features:user:fullEdit"],tooltip:this.i18n.versioning.canManageTooltip,hidden:!X}],hidden:!X},{labelId:"general-webhooks-label",sectionTitle:this.i18n.webhooks.title,tooltip:this.i18n.webhooks.titleTooltip,items:[{privilege:"portal:publisher:createFeatureWebhook",label:this.i18n.webhooks.canCreateFeature,dependencies:["portal:user:createItem","portal:publisher:publishFeatures","portal:publisher:publishServerServices"],tooltip:this.i18n.webhooks.canCreateFeatureTooltip,
hidden:!X}],hidden:!X}];this._generalSections=[];R.forEach(function(Y){Y.items.forEach(function(ba){ba.level=K._getItemLevel(ba)});Y=new c.default(Y);K._generalSections.push(Y)});y.default.appendChildren(this._generalSections.map(function(Y){return Y.domNode}),this._generalSectionsContainer);this.totalGeneralOptions=this._generalSections.reduce(function(Y,ba){return Y+ba.getTotalOptionsCount()},0);this.generalEnabledEl.textContent=u.default.substitute(this.i18n.settingsTab.enabledCount,{count:0,total:this.totalGeneralOptions});
Z={labelId:"admin-members-label",sectionTitle:this.i18n.userAdmin.title,tooltip:X?this.i18n.userAdmin.titleTooltipPortal:this.i18n.userAdmin.titleTooltip,items:[{privilege:"portal:admin:viewUsers",dependencies:["portal:user:viewOrgUsers"],label:this.i18n.userAdmin.canView,tooltip:X?this.i18n.userAdmin.canViewTooltipPortal:this.i18n.userAdmin.canViewTooltip},{privilege:"portal:admin:updateUsers",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this.i18n.userAdmin.canUpdate,
tooltip:X?this.i18n.userAdmin.canUpdateTooltipPortal:this.i18n.userAdmin.canUpdateTooltip},{privilege:"portal:admin:deleteUsers",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this.i18n.userAdmin.canDelete,tooltip:X?this.i18n.userAdmin.canDeleteTooltipPortal:this.i18n.userAdmin.canDeleteTooltip},{privilege:"portal:admin:inviteUsers",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this._isPortal?this.i18n.userAdmin.canAdd:this.i18n.userAdmin.canInvite,
tooltip:X?this.i18n.userAdmin.canInviteTooltipPortal:this.i18n.userAdmin.canInviteTooltip},{privilege:"portal:admin:disableUsers",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this.i18n.userAdmin.canDisable,tooltip:X?this.i18n.userAdmin.canDisableTooltipPortal:this.i18n.userAdmin.canDisableTooltip},{privilege:"portal:admin:changeUserRoles",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this.i18n.userAdmin.canChangeRoles,tooltip:X?this.i18n.userAdmin.canChangeRolesTooltipPortal:
this.i18n.userAdmin.canChangeRolesTooltip},{privilege:"portal:admin:manageLicenses",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this.i18n.userAdmin.canManageLicenses,tooltip:X?this.i18n.userAdmin.canManageLicensesTooltipPortal:this.i18n.userAdmin.canManageLicensesTooltip},{privilege:"portal:admin:updateMemberCategorySchema",dependencies:["portal:admin:updateUsers"],label:this.i18n.userAdmin.canManageMemberCategories,tooltip:X?this.i18n.userAdmin.canManageMemberCategoriesTooltipPortal:
this.i18n.userAdmin.canManageMemberCategoriesTooltip}]};ca={labelId:"admin-groups-label",sectionTitle:this.i18n.groupAdmin.title,tooltip:X?this.i18n.groupAdmin.titleTooltipPortal:this.i18n.groupAdmin.titleTooltip,items:[{privilege:"portal:admin:viewGroups",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgGroups","portal:admin:viewUsers"],label:this.i18n.groupAdmin.canView,tooltip:X?this.i18n.groupAdmin.canViewTooltipPortal:this.i18n.groupAdmin.canViewTooltip},{privilege:"portal:admin:updateGroups",
dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgGroups","portal:user:createGroup","portal:admin:viewUsers","portal:admin:viewGroups"],label:this.i18n.groupAdmin.canUpdate,tooltip:X?this.i18n.groupAdmin.canUpdateTooltipPortal:this.i18n.groupAdmin.canUpdateTooltip},{privilege:"portal:admin:deleteGroups",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgGroups","portal:user:createGroup","portal:admin:viewUsers","portal:admin:viewGroups"],label:this.i18n.groupAdmin.canDelete,tooltip:X?
this.i18n.groupAdmin.canDeleteTooltipPortal:this.i18n.groupAdmin.canDeleteTooltip},{privilege:"portal:admin:reassignGroups",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgGroups","portal:admin:viewUsers","portal:admin:viewGroups"],label:this.i18n.groupAdmin.canReassign,tooltip:X?this.i18n.groupAdmin.canReassignTooltipPortal:this.i18n.groupAdmin.canReassignTooltip},{privilege:"portal:admin:assignToGroups",dependencies:"portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:createGroup portal:user:invitePartneredCollaborationMembers portal:user:addExternalMembersToGroup portal:admin:viewUsers portal:admin:viewGroups".split(" "),
label:this.i18n.groupAdmin.canAssign,tooltip:X?this.i18n.groupAdmin.canAssignTooltipPortal:this.i18n.groupAdmin.canAssignTooltip},{privilege:"portal:admin:manageEnterpriseGroups",label:this.i18n.groupAdmin.canLink,tooltip:this.i18n.groupAdmin.canLinkTooltip},{privilege:"portal:admin:createUpdateCapableGroup",dependencies:["portal:user:createGroup"],label:this.i18n.groupAdmin.canCreateUpdateCapable,tooltip:this.i18n.groupAdmin.canCreateUpdateCapableTooltip},{privilege:"portal:admin:createLeavingDisallowedGroup",
dependencies:["portal:user:createGroup"],label:this.i18n.groupAdmin.canCreateLeavingDisallowedGroup,tooltip:this.i18n.groupAdmin.canCreateLeavingDisallowedGroupTooltip}]};S={labelId:"admin-content-label",sectionTitle:this.i18n.itemAdmin.title,tooltip:X?this.i18n.itemAdmin.titleTooltipPortal:this.i18n.itemAdmin.titleTooltip,items:[{privilege:"portal:admin:viewItems",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgItems","portal:admin:viewUsers"],label:this.i18n.itemAdmin.canView,tooltip:X?
this.i18n.itemAdmin.canViewTooltipPortal:this.i18n.itemAdmin.canViewTooltip},{privilege:"portal:admin:updateItems",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgItems","portal:user:createItem","portal:admin:viewUsers","portal:admin:viewItems"],label:this.i18n.itemAdmin.canUpdate,tooltip:X?this.i18n.itemAdmin.canUpdateTooltipPortal:this.i18n.itemAdmin.canUpdateTooltip},{privilege:"portal:admin:deleteItems",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgItems","portal:user:createItem",
"portal:admin:viewUsers","portal:admin:viewItems"],label:this.i18n.itemAdmin.canDelete,tooltip:X?this.i18n.itemAdmin.canDeleteTooltipPortal:this.i18n.itemAdmin.canDeleteTooltip},{privilege:"portal:admin:reassignItems",dependencies:["portal:user:viewOrgUsers","portal:user:viewOrgItems","portal:admin:viewUsers","portal:admin:viewItems"],label:this.i18n.itemAdmin.canReassign,tooltip:X?this.i18n.itemAdmin.canReassignTooltipPortal:this.i18n.itemAdmin.canReassignTooltip},{privilege:"portal:admin:updateItemCategorySchema",
dependencies:"portal:user:viewOrgUsers portal:user:viewOrgItems portal:user:createItem portal:admin:viewUsers portal:admin:viewGroups portal:admin:viewItems portal:admin:updateItems".split(" "),label:this.i18n.itemAdmin.canManageItemCategories,tooltip:X?this.i18n.itemAdmin.canManageItemCategoriesTooltipPortal:this.i18n.itemAdmin.canManageItemCategoriesTooltip},{privilege:"portal:publisher:publishServerGPServices",label:this.i18n.items.canPublishServerGPServices,tooltip:this.i18n.items.canPublishServerGPServicesTooltip,
dependencies:["portal:user:runWebTool"],hidden:!X},{privilege:"portal:admin:shareToOrg",dependencies:["portal:user:viewOrgItems","portal:user:shareToOrg","portal:admin:viewUsers","portal:admin:viewItems","portal:admin:viewGroups"],label:this.i18n.itemAdmin.canShareToOrg,tooltip:X?this.i18n.itemAdmin.canShareToOrgTooltipPortal:this.i18n.itemAdmin.canShareToOrgTooltip},{privilege:"portal:admin:shareToPublic",dependencies:["portal:user:viewOrgItems","portal:user:shareToPublic","portal:admin:viewUsers",
"portal:admin:viewItems","portal:admin:viewGroups"],label:this.i18n.itemAdmin.canShareToPublic,tooltip:X?this.i18n.itemAdmin.canShareToPublicTooltipPortal:this.i18n.itemAdmin.canShareToPublicTooltip},{privilege:"portal:admin:createReports",dependencies:["portal:user:createItem","portal:admin:viewGroups","portal:admin:viewItems","portal:admin:viewUsers"],label:this.i18n.itemAdmin.canCreateReports,tooltip:X?this.i18n.itemAdmin.canCreateReportsTooltipPortal:this.i18n.itemAdmin.canCreateReportsTooltip}]};
R={labelId:"admin-marketplace-label",sectionTitle:this.i18n.marketplace.title,tooltip:this.i18n.marketplace.titleTooltip,items:[{privilege:"marketplace:admin:manage",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers"],label:this.i18n.marketplace.canAdmin,tooltip:this.i18n.marketplace.canAdminTooltip},{privilege:"marketplace:admin:purchase",dependencies:["portal:user:createGroup","portal:user:joinGroup","portal:user:shareToGroup","marketplace:admin:startTrial"],label:this.i18n.marketplace.canPurchase,
tooltip:"".concat(this.i18n.marketplace.canPurchaseSum,' \x3ca href\x3d"').concat(null===(N=F.default.self)||void 0===N?void 0:N.helpBase).concat(null===(V=null===(Q=null===(O=F.default.self)||void 0===O?void 0:O.helpMap)||void 0===Q?void 0:Q.m)||void 0===V?void 0:V["120002540"],'" target\x3d"_blank"\x3e').concat(this.i18n.learnMore,"\x3c/a\x3e")},{privilege:"marketplace:admin:startTrial",dependencies:["portal:user:createGroup","portal:user:joinGroup","portal:user:shareToGroup"],label:this.i18n.marketplace.canTrial,
tooltip:this.i18n.marketplace.canTrialTooltip}]};N={labelId:"admin-settings-label",sectionTitle:this._isPortal?this.i18n.settingsAdmin.titlePortal:this.i18n.settingsAdmin.title,tooltip:this._isPortal?this.i18n.settingsAdmin.titleTooltipPortal:this.i18n.settingsAdmin.titleTooltip,items:[{privilege:"portal:admin:manageSecurity",dependencies:X?T:P,label:this.i18n.settingsAdmin.canManageSecurity,tooltip:this._isPortal?this.i18n.settingsAdmin.canManageSecurityTooltipPortal:this.i18n.settingsAdmin.canManageSecurityTooltip},
{privilege:"portal:admin:manageWebsite",dependencies:"portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:createItem portal:user:createGroup portal:user:shareToGroup portal:user:shareToOrg portal:user:shareToPublic portal:user:shareGroupToOrg portal:user:shareGroupToPublic portal:admin:viewUsers portal:admin:viewGroups portal:admin:viewItems portal:admin:updateGroups portal:admin:updateItems portal:admin:updateItemCategorySchema portal:admin:shareToGroup portal:admin:shareToOrg portal:admin:shareToPublic".split(" "),
label:this.i18n.settingsAdmin.canManageWebsite,tooltip:X?this.i18n.settingsAdmin.canManageWebsiteTooltipPortal:this.i18n.settingsAdmin.canManageWebsiteTooltip},{privilege:"portal:admin:manageCollaborations",dependencies:"portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:createItem portal:user:createGroup portal:publisher:publishFeatures portal:user:shareToGroup portal:admin:viewUsers portal:admin:viewGroups portal:admin:updateGroups portal:admin:viewItems portal:admin:updateItems portal:admin:deleteItems".split(" "),
label:this.i18n.settingsAdmin.canManageCollab,tooltip:X?this.i18n.settingsAdmin.canManageCollabTooltipPortal:this.i18n.settingsAdmin.canManageCollabTooltip},{privilege:"portal:admin:manageCredits",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers","portal:admin:updateUsers"],label:this.i18n.settingsAdmin.canManageCredits,tooltip:this.i18n.settingsAdmin.canManageCreditsTooltip,hidden:X},{privilege:"portal:admin:manageRoles",dependencies:["portal:user:viewOrgUsers","portal:admin:viewUsers",
"portal:admin:changeUserRoles"],label:this.i18n.settingsAdmin.canManageRoles,tooltip:X?this.i18n.settingsAdmin.canManageRolesTooltipPortal:this.i18n.settingsAdmin.canManageRolesTooltip},{privilege:"portal:admin:manageServers",dependencies:["portal:user:createItem","portal:user:viewOrgUsers","portal:admin:manageUtilityServices"],label:this.i18n.settingsAdmin.canManageServers,tooltip:this.i18n.settingsAdmin.canManageServersTooltip,hidden:!X},{privilege:"portal:admin:manageUtilityServices",dependencies:["portal:user:viewOrgUsers",
"portal:user:createItem","portal:publisher:publishFeatures","portal:user:viewOrgItems","portal:user:shareToOrg"],label:this.i18n.settingsAdmin.canManageUtilityServices,tooltip:X?this.i18n.settingsAdmin.canManageUtilityServicesTooltipPortal:this.i18n.settingsAdmin.canManageUtilityServicesTooltip},{privilege:"portal:admin:manageWebhooks",label:this.i18n.settingsAdmin.canManageWebhooks,tooltip:this.i18n.settingsAdmin.canManageWebhooksTooltip,dependencies:"portal:user:viewOrgUsers portal:user:viewOrgItems portal:user:viewOrgGroups portal:user:createItem portal:publisher:publishFeatures portal:publisher:publishServerServices portal:publisher:publishServerGPServices portal:publisher:createFeatureWebhook portal:admin:viewUsers portal:admin:viewGroups portal:admin:viewItems portal:admin:createGPWebhook".split(" "),
hidden:!X}]};X=[Z,ca,S,{labelId:"admin-webhooks-label",sectionTitle:this.i18n.webhooksAdmin.title,tooltip:this.i18n.webhooksAdmin.titleTooltip,items:[{privilege:"portal:admin:createGPWebhook",label:this.i18n.webhooksAdmin.canCreateGP,dependencies:["portal:publisher:publishServerGPServices"],tooltip:this.i18n.webhooksAdmin.canCreateGPTooltip,hidden:!X}],hidden:!X}];this._isPortal||X.push(R);X.push(N);this._adminSections=[];X.forEach(function(Y){Y.items.forEach(function(ba){ba.level=K._getItemLevel(ba)});
Y=new c.default(Y);K._adminSections.push(Y)});y.default.appendChildren(this._adminSections.map(function(Y){return Y.domNode}),this._adminSectionsContainer);this._sections=a.__spreadArray(a.__spreadArray([],this._generalSections,!0),this._adminSections,!0);b.default.accordion();this.totalAdminOptions=this._adminSections.reduce(function(Y,ba){return Y+ba.getTotalOptionsCount()},0);this.adminEnabledEl.textContent=u.default.substitute(this.i18n.settingsTab.enabledCount,{count:0,total:this.totalAdminOptions})};
J.prototype.mustHideShareToPublicOption=function(K){var P,T=!1===F.default.self.canSharePublic,S=d.default.includes(null===(P=this.role)||void 0===P?void 0:P.privileges,K);return T&&!S};J.prototype._getItemLevel=function(K){var P,T=-1!==a.__spreadArray(a.__spreadArray([],this._viewerRole.privileges,!0),E.default.extraLevelOnePrivileges,!0).indexOf(K.privilege),S=-1!==(null===(P=this._viewerEditRole)||void 0===P?void 0:P.privileges.indexOf(K.privilege));return T?this.LICENSE_LEVELS.ONE:S?this.LICENSE_LEVELS.ONE_PLUS_EDIT:
this.LICENSE_LEVELS.TWO};J.prototype._renderCompatibleText=function(){var K=this,P=new m.default;this._userTypes?P.resolve():this._licensesAPI.getLicenseTypes().then(function(T){K._userTypes=T.userLicenseTypes;P.resolve()});P.then(function(){K._compatibleTypes=[];K._userTypes.forEach(function(T){2===K._sliderValue?T.level===K.LICENSE_LEVELS.TWO&&K._compatibleTypes.push(T):1===K._sliderValue?(T.level===K.LICENSE_LEVELS.TWO||T.level===K.LICENSE_LEVELS.ONE_PLUS_EDIT)&&K._compatibleTypes.push(T):0===
K._sliderValue&&K._compatibleTypes.push(T)});0===K._sliderValue?K._compatibleText.textContent=K.i18n.settingsTab.compatibleAll:1<K._compatibleTypes.length?(K._compatibleText.innerHTML=x.default.getString(K.i18n.settingsTab.compatibleWithMultiple,K._compatibleTypes.length-1,{name:K._compatibleTypes[0].name,linkStart:"\x3cdiv class\x3d'position-relative inline-block js-compat-link-container'\x3e\x3ccalcite-link class\x3d'js-dropdown-toggle'\x3e",linkEnd:"\x3c/calcite-link\x3e\x3c/div\x3e"}),K._compatibleText.querySelector(".js-compat-link-container").appendChild(K.compatibleDropdown),
K._compatibleUserTypesList.innerHTML="",K._compatibleTypes.forEach(function(T,S){0<S&&(K._compatibleUserTypesList.innerHTML+="\x3cli\x3e".concat(T.name,"\x3c/li\x3e"))}),b.default.dropdown()):1===K._compatibleTypes.length&&(K._compatibleText.textContent=u.default.substitute(K.i18n.settingsTab.compatibleWithOne,{name:K._compatibleTypes[0].name}));0<K._compatibleTypes.length&&y.default.showNode(K._compatibleContainer)})};J.prototype._initSlider=function(){this._privilegeSlider=new q.default({value:2,
minimum:0,maximum:2,showButtons:!1,discreteValues:3,intermediateChanges:!0,onChange:this._onSliderChange.bind(this)},this.domNode.querySelector(".js-slider"))};J.prototype._onSliderChange=function(K){this._sliderValue=K;switch(this._sliderValue){case 0:this._currentLevel=this.LICENSE_LEVELS.ONE;break;case 1:this._currentLevel=this.LICENSE_LEVELS.ONE_PLUS_EDIT;break;case 2:this._currentLevel=this.LICENSE_LEVELS.TWO}this._updatePrivilegesByLevel();this._renderCompatibleText()};J.prototype._updatePrivilegesByLevel=
function(){var K=this;a.__spreadArray(a.__spreadArray([],this._generalSections,!0),this._adminSections,!0).forEach(function(T){T.disablePrivilegesByLevel(K._currentLevel)});var P=this._adminSections.every(function(T){return T.isAllDisabled()});this.adminEnableAllBtn.disabled=P};J.prototype.checkServerFunction=function(K,P){K=(null===K||void 0===K?0:K.length)?K.some(function(T){return-1<T.serverFunction.indexOf(P)}):!1;return this._isPortal&&K};J.prototype.knowledgeGraphServerConfigured=function(K){return this.checkServerFunction(K,
"KnowledgeServer")};J.prototype.checkVideoServer=function(K){return this.checkServerFunction(K,"VideoServer")};J.prototype.fetchFederatedServers=function(){var K=new m.default,P="".concat(F.default.restBaseUrl,"portals/self/servers");H.default.request({url:P}).then(function(T){T.code?K.resolve([]):K.resolve(T.servers||[])},function(T){K.resolve([])});return K};J.prototype.getFormTitle=function(){return this._formTitle.textContent};J.prototype.save=function(){var K=this,P=new m.default;if(this._isValid()){var T=
H.default.stripHTML(this._roleNameInput.value),S=H.default.stripHTML(this._roleDescTextarea.value),L=[];this._sections.forEach(function(N){N=N.getSelectedPrivileges();L=a.__spreadArray(a.__spreadArray([],L,!0),N,!0)});this.role?this._rolesAPI.updateRole(this.role.id,T,S).then(function(N){var O,Q;l.default.isDefined(N)&&!l.default.isDefined(N.code)?(null===(O=K.telemetry)||void 0===O?void 0:O.logEvent({category:"memberRoles",label:"role",action:"Update"}),K._setRolePrivileges(K.role.id,L,K.i18n.messages.editSuccess,
T).then(function(){P.resolve()})):(N&&(null===(Q=K.telemetry)||void 0===Q?void 0:Q.logError({error:N})),z.default.showAlert("error",u.default.substitute(K.i18n.errors.cantEditRole,{name:T})),P.resolve())},function(N){var O;null===(O=K.telemetry)||void 0===O?void 0:O.logError({error:N});z.default.showAlert("error",u.default.substitute(K.i18n.errors.cantEditRole,{name:T}));P.resolve()}):this._rolesAPI.createRole(T,S).then(function(N){var O,Q;l.default.isDefined(N)&&!l.default.isDefined(N.code)&&l.default.isDefined(N.id)?
(null===(O=K.telemetry)||void 0===O?void 0:O.logEvent({category:"memberRoles",label:"role",action:"Add"}),K._setRolePrivileges(N.id,L,K.i18n.messages.createSuccess,T).then(function(){P.resolve()})):(N&&(null===(Q=K.telemetry)||void 0===Q?void 0:Q.logError({error:N})),z.default.showAlert("error",u.default.substitute(K.i18n.errors.cantCreateRole,{name:T})),P.resolve())},function(N){var O;null===(O=K.telemetry)||void 0===O?void 0:O.logError({error:N});z.default.showAlert("error",u.default.substitute(K.i18n.errors.cantCreateRole,
{name:T}));P.resolve()})}return P};return J=a.__decorate([(0,I.default)(n.default,p.default,G.default)],J)}()})},"arcgisonline/pages/organization/widgets/PrivilegeSection":function(){define("require exports tslib dojo/string dojo/on dojo/topic dojo/text!./templates/settings/PrivilegeSection.html dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/custom-roles dijit/_TemplatedMixin dijit/_WidgetBase ../../../sharing/dijit/_LevelAwareMixin ../../utils/dom ../../utils/icons ./PrivilegeOption ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.templateString=m.default;this.i18n=a.__assign(a.__assign({},u.default.customRoles),h.default.myOrganization.settingsTab);
this.icons=p.default;this.totalOptions=0;this.collapsed=!1}l.prototype.postCreate=function(){var c=this;this.inherited(arguments);this._options=[];this.items.forEach(function(d){d.hidden||(d=new n.default(d),c._options.push(d),c.own((0,k.default)(d,"change",c._updateAllCheckboxState.bind(c,d))))});g.default.appendChildren(this._options.map(function(d){return d.domNode}),this._optionsContainer);this.totalOptions=this._options.filter(function(d){return!d.disabled()}).length;this.enabledEl.textContent=
b.default.substitute(this.i18n.enabledCount,{count:0,total:this.totalOptions});this._addEventListeners();this.hidden&&g.default.hideNode(this.domNode)};l.prototype.destroy=function(){this.inherited(arguments);this._tooltip&&this._tooltip.destroyRecursive()};l.prototype._addEventListeners=function(){this.own(f.default.subscribe("role-form/expand-all",this._onExpandAll.bind(this)),f.default.subscribe("role-form/collapse-all",this._onCollapseAll.bind(this)),f.default.subscribe("role-form/check-all",
this._checkAll.bind(this)),f.default.subscribe("role-form/uncheck-all",this._uncheckAll.bind(this)),f.default.subscribe("role-form/check-option",this._checkOptionByPrivilege.bind(this)),f.default.subscribe("role-form/uncheck-option",this._uncheckOptionByPrivilege.bind(this)),(0,k.default)(this.bulkToggleBtn,"click",this._onToggleAllCheckbox.bind(this)),(0,k.default)(this.domNode.querySelector(".accordion-title"),"click",function(){window.setTimeout(function(){f.default.publish("privilege-option/accordion-toggle")},
100)}))};l.prototype._uncheckOptionByPrivilege=function(c){this._options.forEach(function(d){d.disabled()||d.privilege!==c||d.uncheck()});this._updateAllCheckboxState()};l.prototype._checkOptionByPrivilege=function(c){this._options.forEach(function(d){d.disabled()||d.privilege!==c||d.check()});this._updateAllCheckboxState()};l.prototype._checkAll=function(){this.bulkToggleBtn.textContent=this.i18n.disableAll;this._options.forEach(function(c){c.disabled()||c.check()});this.enabledEl.textContent=b.default.substitute(this.i18n.enabledCount,
{count:this.getCheckedCount(),total:this.totalOptions})};l.prototype._uncheckAll=function(){this.bulkToggleBtn.textContent=this.i18n.enableAll;this._options.forEach(function(c){c.disabled()||c.uncheck()});this.enabledEl.textContent=b.default.substitute(this.i18n.enabledCount,{count:0,total:this.totalOptions})};l.prototype._updateAllCheckboxState=function(c){var d=this._getCheckedOptions().length;this._options.every(function(w){return w.disabled()})?(this.bulkToggleBtn.disabled=!0,this.bulkToggleBtn.textContent=
this.i18n.enableAll):this.bulkToggleBtn.disabled=!1;this.isAllChecked()?this.bulkToggleBtn.textContent=this.i18n.disableAll:this.bulkToggleBtn.textContent=this.i18n.enableAll;this.enabledEl.textContent=b.default.substitute(this.i18n.enabledCount,{count:d,total:this.totalOptions});c&&f.default.publish("privilege-option/change",c)};l.prototype._getCheckedOptions=function(){return this._options.filter(function(c){return c.checked()})};l.prototype._onToggleAllCheckbox=function(c){c.stopPropagation();
var d=this.isAllChecked();this._options.forEach(function(w){w.disabled()||(d?w.uncheck():w.check())});this.bulkToggleBtn.textContent=d?this.i18n.enableAll:this.i18n.disableAll;this.enabledEl.textContent=b.default.substitute(this.i18n.enabledCount,{count:d?0:this.getCheckedCount(),total:this.totalOptions});this._options.forEach(function(w){f.default.publish("privilege-option/change",w)})};l.prototype._onExpandAll=function(){this.domNode.classList.add("is-active")};l.prototype._onCollapseAll=function(){this.domNode.classList.remove("is-active")};
l.prototype.getSelectedPrivileges=function(){return this._getCheckedOptions().map(function(c){return c.privilege})};l.prototype.disablePrivilegesByLevel=function(c){var d=this;this._options.forEach(function(w){c===d.LICENSE_LEVELS.ONE&&w.level!==d.LICENSE_LEVELS.ONE?w.disable():c===d.LICENSE_LEVELS.ONE_PLUS_EDIT&&w.level===d.LICENSE_LEVELS.TWO?w.disable():w.enable()});this._updateAllCheckboxState()};l.prototype.isAllChecked=function(c){var d=this._getCheckedOptions().length,w=this._options.filter(function(t){return!t.disabled()});
return(0<d||c)&&d===w.length&&!this.isAllDisabled()};l.prototype.isAllDisabled=function(){return this._options.every(function(c){return c.disabled()})};l.prototype.getCheckedCount=function(){return this._getCheckedOptions().length};l.prototype.getTotalOptionsCount=function(){return this.totalOptions};l.prototype.checkAll=function(){this._options.forEach(function(c){c.disabled()||c.check()});this.bulkToggleBtn.textContent=this.i18n.disableAll;this.enabledEl.textContent=b.default.substitute(this.i18n.enabledCount,
{count:this.getCheckedCount(),total:this.totalOptions});this._options.forEach(function(c){f.default.publish("privilege-option/change",c)})};l.prototype.uncheckAll=function(){this._options.forEach(function(c){c.disabled()||c.uncheck()});this.bulkToggleBtn.textContent=this.i18n.enableAll;this.enabledEl.textContent=b.default.substitute(this.i18n.enabledCount,{count:0,total:this.totalOptions});this._options.forEach(function(c){f.default.publish("privilege-option/change",c)})};return l=a.__decorate([(0,q.default)(e.default,
r.default,v.default)],l)}()})},"arcgisonline/pages/organization/widgets/PrivilegeOption":function(){define("require exports tslib dojo/on dojo/text!./templates/settings/PrivilegeOption.html dojo/i18n!../../../nls/arcgisonline dojo/Evented dijit/_TemplatedMixin dijit/_WidgetBase ../../../sharing/dijit/_LevelAwareMixin arcgisonline/pages/dijit/ToggleSwitch ../../../tsutils/declareDecorator arcgisonline/pages/dijit/InfoTooltip".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=
a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=k.default;this.i18n=f.default}p.prototype.postCreate=function(){var n=this;this.inherited(arguments);this.toggleSwitch=new e.default({},this.domNode.querySelector(".js-toggle-switch"));if(this.extraInfo){var q=this.domNode.querySelector(".js-privilege-info-tooltip");
this.infoTooltip=new g.default({content:this.extraInfo},q);q.classList.remove("hide")}this.own((0,b.default)(this.toggleSwitch,"change",function(){n.emit("change")}))};p.prototype.disable=function(){this.toggleSwitch.disable()};p.prototype.enable=function(){this.toggleSwitch.enable()};p.prototype.check=function(){this.toggleSwitch.check()};p.prototype.uncheck=function(){this.toggleSwitch.uncheck()};p.prototype.disabled=function(){return this.toggleSwitch.disabled};p.prototype.checked=function(){return this.toggleSwitch.checked()};
return p=a.__decorate([(0,v.default)(u.default,h.default,r.default,m.default)],p)}()})},"arcgisonline/pages/organization/widgets/ImportExistingRoleDlg":function(){define("require exports tslib dojo/topic dojo/text!./templates/settings/ImportExistingRoleDlg.html dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/custom-roles dijit/Dialog dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin ../../../sharing/geow/Roles ../../../esriGeowConfig ../../../sharing/dijit/_LevelAwareMixin ../../../sharing/util ../../dijit/CaseInsensitiveMemory ../../utils/validation ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(){this.templateString=k.default;this.i18n=f.default;this._orgPublisherRole="org_publisher";
this._orgUserRole="org_user"}d.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n.customRoles=m.default.customRoles};d.prototype.postCreate=function(){this.inherited(arguments);this._isPortal=n.default.isPortal();this._rolesAPI=new v.default;this.dialog=new h.default({title:this.i18n.myOrganization.settingsTab.importFromExisting});this.dialog.set({content:this.domNode});this.dialog.domNode.classList.add("import-role-template");this._addEventListeners();this._roleTemplateSelect.domNode.classList.remove("dijitInline");
this._initRoles()};d.prototype.show=function(){var w=this;this.dialog.show().then(function(){var t=w.domNode.querySelector(".dijitDialogCloseIcon");t&&t.focus();w.dialog.closeButtonNode.tabIndex=0})};d.prototype._addEventListeners=function(){var w=this;this._importBtn.addEventListener("click",function(){var t=w._roleTemplateSelect.get("value");t?(t=w._templateRoleStore.query({id:t})[0],b.default.publish("import-role-template/imported",t),w.dialog.hide()):l.default.setInvalidState(w._roleTemplateSelect.domNode,
w.errorMessage)});this._cancelBtn.addEventListener("click",function(){w.dialog.hide()});this.own(this._roleTemplateSelect.on("change",function(t){l.default.clearState([w._roleTemplateSelect.domNode,w.errorMessage])}))};d.prototype._initRoles=function(){var w=this,t=[{id:this._orgPublisherRole,name:this.i18n.customRoles.templates.publisher,isTemplate:!0,privileges:a.__spreadArray(a.__spreadArray("features:user:edit portal:publisher:publishFeatures portal:publisher:publishTiles portal:publisher:publishServerServices portal:publisher:publishDynamicImagery portal:publisher:bulkPublishFromDataStores portal:publisher:enumerateDataStores portal:publisher:registerDataStores".split(" "),
this._isPortal?["portal:publisher:publishLivestreamVideo","portal:publisher:publishVideo"]:[],!0),"portal:user:createGroup portal:user:createItem portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:shareGroupToOrg portal:user:shareGroupToPublic portal:user:shareToGroup portal:user:shareToOrg portal:user:shareToPublic portal:user:viewOrgUsers portal:user:viewOrgItems portal:user:viewOrgGroups portal:user:addExternalMembersToGroup premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:spatialanalysis premium:user:featurereport premium:publisher:geoanalytics premium:publisher:rasteranalysis".split(" "),
!1)},{id:this._orgUserRole,name:this.i18n.customRoles.templates.user,isTemplate:!0,privileges:"features:user:edit portal:user:createGroup portal:user:createItem portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:shareGroupToOrg portal:user:shareGroupToPublic portal:user:shareToGroup portal:user:shareToOrg portal:user:shareToPublic portal:user:viewOrgUsers portal:user:viewOrgItems portal:user:viewOrgGroups portal:user:addExternalMembersToGroup premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:spatialanalysis premium:user:featurereport".split(" ")}];
this._isPortal?t[0].privileges.push("portal:publisher:publishKnowledgeGraph"):(t[0].privileges.push("portal:publisher:publishTiledImagery"),t[0].privileges.push("portal:publisher:createDataPipelines"));g.default.sceneViewerEnabled&&t[0].privileges.push("portal:publisher:publishScenes");this._rolesAPI.getAllRoles(!0).then(function(z){z=a.__spreadArray(a.__spreadArray(a.__spreadArray([],t,!0),w._getCoreTemplateRoles(),!0),z,!0);w._viewerRole=w._localizedViewerRole(z);w._viewerEditRole=w._localizedViewerEditRole(z);
w._localizedCollaboratorRole(z);z.forEach(function(x){x.level=w._computeRoleLevel(x)});w._templateRoleStore=new q.default({data:z});w._roleTemplateSelect.set("store",w._templateRoleStore);w._roleTemplateSelect.set("value","")})};d.prototype._computeRoleLevel=function(w){var t=a.__spreadArray(a.__spreadArray([],v.default.extraLevelOnePrivileges,!0),this._viewerRole.privileges,!0),z=a.__spreadArray(a.__spreadArray([],v.default.extraLevelOnePrivileges,!0),this._viewerEditRole.privileges,!0);return this._viewerRole&&
w.privileges&&!v.default.exceedsRolePrivileges(t,w.privileges)?this.LICENSE_LEVELS.ONE:this._viewerEditRole&&w.privileges&&!v.default.exceedsRolePrivileges(z,w.privileges)?this.LICENSE_LEVELS.ONE_PLUS_EDIT:this.LICENSE_LEVELS.TWO};d.prototype._localizedViewerRole=function(w){var t=this,z;w&&w.forEach(function(x){(null===x||void 0===x?void 0:x.id)===t.SYSTEM_ROLES.VIEWER&&(x.name=t.i18n.organizationInvite.userRoles.viewer,z=x)});return z};d.prototype._localizedViewerEditRole=function(w){var t=this,
z;w&&w.forEach(function(x){(null===x||void 0===x?void 0:x.id)===t.SYSTEM_ROLES.DATA_EDITOR&&(x.name=t.i18n.organizationInvite.userRoles.viewerEdit,z=x)});return z};d.prototype._localizedCollaboratorRole=function(w){var t=this,z;w&&w.forEach(function(x){(null===x||void 0===x?void 0:x.id)===t.SYSTEM_ROLES.FACILITATOR&&(x.name=t.i18n.organizationInvite.userRoles.facilitator,z=x)});return z};d.prototype._getCoreTemplateRoles=function(){var w="portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:createItem portal:user:runWebTool portal:user:storeFiles portal:publisher:publishFeatures portal:user:shareToGroup portal:user:shareToOrg features:user:edit premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:spatialanalysis premium:user:featurereport premium:publisher:createNotebooks premium:publisher:scheduleNotebooks premium:publisher:publishNotebooks premium:publisher:createAdvancedNotebooks".split(" "),
t="features:user:edit portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:viewOrgUsers premium:user:demographics premium:user:elevation premium:user:featurereport premium:user:geocode premium:user:networkanalysis".split(" "),z="portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:viewOrgUsers premium:user:demographics premium:user:elevation premium:user:featurereport premium:user:geocode premium:user:networkanalysis".split(" "),
x=[];this._isPortal&&(w.push("premium:publisher:geoanalytics"),w.push("premium:publisher:rasteranalysis"));x.push({id:"curator_template",isTemplate:!0,name:this.i18n.customRoles.templates.curator,privileges:"portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:joinGroup features:user:edit features:user:fullEdit".split(" ")});x.push({id:"analyst_template",isTemplate:!0,name:this.i18n.customRoles.templates.analyst,privileges:w});x.push({id:"author_template",isTemplate:!0,
name:this.i18n.customRoles.templates.author,privileges:"portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:createGroup portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:createItem portal:user:storeFiles portal:publisher:publishFeatures portal:publisher:publishTiles portal:user:shareToGroup portal:user:shareToOrg features:user:edit premium:user:geocode premium:user:networkanalysis premium:user:spatialanalysis premium:user:featurereport premium:publisher:createNotebooks".split(" ")});
x.push({id:"student_template",isTemplate:!0,name:this.i18n.customRoles.templates.student,privileges:"portal:user:viewOrgUsers portal:user:viewOrgGroups portal:user:viewOrgItems portal:user:createGroup portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:createItem portal:user:storeFiles portal:publisher:publishFeatures portal:user:shareToPublic portal:user:shareToGroup portal:user:shareToOrg features:user:edit premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:spatialanalysis premium:user:featurereport".split(" ")});
this._isPortal||(x.push({id:"partnered_data_editor_template",isTemplate:!0,name:this.i18n.customRoles.templates.partneredDataEditor,privileges:t}),x.push({id:"partnered_viewer_template",isTemplate:!0,name:this.i18n.customRoles.templates.partneredViewer,privileges:z}));return x};return d=a.__decorate([(0,c.default)(r.default,u.default,e.default,p.default)],d)}()})},"arcgisonline/pages/dijit/CaseInsensitiveMemory":function(){define("require exports tslib ../utils/arrays ../../tsutils/declareDecorator dojo/store/Memory".split(" "),
function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(h){this.defaultSortAttribute="name";this.caseInsensitiveAttributes=["name"];h.defaultSortAttribute&&(this.defaultSortAttribute=h.defaultSortAttribute);h.caseInsensitiveAttributes&&h.caseInsensitiveAttributes instanceof Array&&(this.caseInsensitiveAttributes=h.caseInsensitiveAttributes)}m.prototype.query=function(h,u){var r;if(u){var e=(null===(r=null===u||void 0===u?void 0:u.sort)||
void 0===r?void 0:r[0])||{attribute:this.defaultSortAttribute,descending:!1};if(e.attribute===this.defaultSortAttribute||b.default.includes(this.caseInsensitiveAttributes,e.attribute))u.sort=function(v,g){v=v[e.attribute];g=g[e.attribute];return v!==g?!!e.descending===(null===v||v.toLowerCase()>(null===g||void 0===g?void 0:g.toLowerCase()))?-1:1:0}}return this.inherited(arguments)};return m=a.__decorate([(0,k.default)(f.default)],m)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/CreditsTab":function(){define("require exports tslib ../../../../utils/organization ./BaseSettingsTab ../cards/CreditAllocationCard ../settings-shared ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=u.default.creditsTab;this.ONBOARD_COOKIE_KEY=this.TAB_KEY=m.SettingsTabKeys.Credits}r.prototype.render=function(){this.createOnboardCard(u.default.onboard.creditsDesc,"org-credits-onboard-card");this.createCustomCard(f.default,{id:"org-credit-allocation-card",name:this.i18n.creditAllocation,description:b.default.injectHelpLink(this.portal,
this.i18n.creditDesc,"120001056","credits-learn-more"),keywords:"budget cost charge billing limit expenditures spending tools".split(" ")});this.inherited(arguments)};return r=a.__decorate([(0,h.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/cards/CreditAllocationCard":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../pageUtil ../../../../dijit/ToggleSwitch ./SettingsCard ../../../../utils/alerts ../../../../utils/clone ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/topic dojo/on dojo/i18n!../../../../../nls/arcgisonline dojo/text!./templates/CreditAllocationContent.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.i18nMain=a.__assign(a.__assign({},p.default.common),p.default.myOrganization)}q.prototype.postMixInProperties=function(){this.inherited(arguments);
this._spinnerUrl=r.default.relativeToExplicitUrl("js/arcgisonline/css/images/spinner20.gif")};q.prototype.render=function(){this._title.textContent=this.name;this._description.textContent=this.description;this._content.innerHTML=n.default;this._showRow=this._content.querySelector(".js-show-row");this._enableSwitch=new f.default({label:this.i18n.creditsTab.enableCredit,labelClasses:"org-settings__toggle-switch-row",labelPosition:"left",loaderClasses:"leader-quarter inline-block",switchTrackClasses:"leader-quarter"},
this._content.querySelector(".js-enable-switch"));this._showSwitch=new f.default({label:this.i18n.creditsTab.showOnProfile,labelClasses:"org-settings__toggle-switch-row",labelPosition:"left",loaderClasses:"leader-quarter inline-block",switchTrackClasses:"leader-quarter"},this._content.querySelector(".js-show-switch"));var l=this.portal.portalProperties&&this.portal.portalProperties.showCreditsOnProfile;this._enableSwitch.setChecked("enabled"===this.portal.creditAssignments||"validated"===this.portal.creditAssignments,
!0);this._showSwitch.setChecked(l,!0)};q.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,g.default)(this._enableSwitch,"change",this._handleEnableChange.bind(this)),(0,g.default)(this._showSwitch,"change",this._handleShowChange.bind(this)))};q.prototype._handleEnableChange=function(){var l=this,c=this._enableSwitch.checked();if(c){var d="".concat(this.i18nMain.creditsTab.enableBudgetDesc,"\x3cul\x3e\x3cli\x3e").concat(this.i18nMain.creditsTab.enableBudgetPoint1,"\x3c/li\x3e\x3cli\x3e").concat(this.i18nMain.creditsTab.enableBudgetPoint2,
'\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d"trailer-1"\x3e').concat(this.i18nMain.creditsTab.enableBudgetExceedsBudget,"\x3c/div\x3e").concat(this.i18nMain.creditsTab.enableBudgetContinue);k.default.createConfirmationDialog({strings:{title:this.i18nMain.creditsTab.enableBudget,description:d,ok:this.i18nMain.yesLabel,cancel:this.i18nMain.noLabel},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){l._updateCreditAssignments(c)},onCancel:function(){l._enableSwitch.setChecked(!c,!0)}})}else this._enableSwitch.setChecked(!0,
!0),k.default.createConfirmationDialog({strings:{title:this.i18nMain.creditsTab.disableBudget,description:"".concat(this.i18nMain.creditsTab.disableBudgetQuestion,"\x3cbr\x3e\x3cbr\x3e").concat(this.i18nMain.creditsTab.disableBudgetDesc),ok:this.i18nMain.disable},autoCloseOnOk:!0,okColor:"red",renderHtmlDescription:!0,onOk:function(){l._updateCreditAssignments(c)}})};q.prototype._updateCreditAssignments=function(l){var c=this,d=l?"enabled":"disabled";this._enableSwitch.showLoader();this.updateSelf({creditAssignments:d}).then(function(w){c._enableSwitch.hideLoader();
w&&!0===w.success?(c._enableSwitch.setChecked(l,!0),b.default.self.creditAssignments=c.portal.creditAssignments=d,v.default.publish("credits-budgeting/".concat(l?"enable":"disable"))):c._updateCreditsError(l)},function(){c._enableSwitch.hideLoader();c._updateCreditsError(l)})};q.prototype._updateCreditsError=function(l){this._enableSwitch.setChecked(!l,!0);h.default.showAlert("error",this.i18nMain.creditsTab[l?"cantEnableBudget":"cantDisableBudget"])};q.prototype._handleShowChange=function(){var l=
this;this._showSwitch.showLoader();var c=this.portal.portalProperties||{},d=this._showSwitch.checked(),w=!0===c.showCreditsOnProfile;c=a.__assign(a.__assign({},c),{showCreditsOnProfile:d});this.updateSelf({portalProperties:JSON.stringify(c)}).then(function(t){l._showSwitch.hideLoader();t&&!0===t.success?(l.portal.portalProperties=c,b.default.self.portalProperties=(0,u.default)(c)):l._showSwitch.setChecked(w,!0)},function(){l._showSwitch.hideLoader();l._showSwitch.setChecked(w,!0)})};return q=a.__decorate([(0,e.default)(m.default)],
q)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/SecurityTab":function(){define("require exports tslib preact ../../../../../esriGeowConfig ../settings-shared ../EnterpriseLoginOverlay ../OpenIdConnectOverlay ../cards/PasswordPolicyCard ../cards/InfoBannerCard ../rows/HttpsRow ../rows/PoliciesRow ../rows/SharingSearchingRow ../rows/ToggleMFARow ../rows/MFAAdminsRow ../rows/TrustedServersRow ../rows/AllowOriginsRow ../rows/AllowExternalLinksRow ../rows/AllowPortalAccessRow ../rows/ArcGISLoginRow ../rows/SamlLoginRow ../rows/OpenIdConnectRow ../rows/SocialLoginsRow ../rows/SignInOptionsRow ../rows/AccessNoticeRow ../rows/BlockedAppsRow ../rows/EmailSettingsRow ../rows/EmailVerificationRow ../rows/AppsRow ./BaseSettingsTab ../../../../utils/alerts ../../../../utils/dom ../../../../utils/dragdrop ../../../../pageUtil ../../../../utils/organization ../../SecurityAlert ../../../../components/SignInOptions/TopButtons ../../../../../sharing/util ../../../../../sharing/geow/Licenses ../../../../../tsutils/declareDecorator dojo/string dojo/i18n!../../../../../nls/org-settings dojo/promise/all dojo/topic dojo/Deferred dojo/query dojo/on dojo/text!../cards/templates/LoginsCard.html dijit/a11yclick".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T,S,L,N,O,Q,V,X,Z,ca,R,Y,ba){k=a.__importDefault(k);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);G=a.__importDefault(G);F=a.__importDefault(F);I=a.__importDefault(I);J=a.__importDefault(J);K=a.__importDefault(K);P=a.__importDefault(P);T=a.__importDefault(T);S=a.__importDefault(S);L=a.__importDefault(L);N=a.__importDefault(N);O=a.__importDefault(O);Q=a.__importDefault(Q);V=a.__importDefault(V);X=a.__importDefault(X);
Z=a.__importDefault(Z);ca=a.__importDefault(ca);R=a.__importDefault(R);Y=a.__importDefault(Y);ba=a.__importDefault(ba);return function(){function aa(W,da){this.i18n=Q.default.securityTab;this.TAB_KEY=f.SettingsTabKeys.Security;this.samlName="saml";this.companionSamlName="";this.allRoles=[];this.handleNewSamlClick=this.handleNewSamlClick.bind(this);this.handleNewOidcClick=this.handleNewOidcClick.bind(this);this.handleDrop=this.handleDrop.bind(this)}aa.prototype.startup=function(){var W=this;this.licensesAPI=
new L.default;this.own(X.default.subscribe("all-roles/loaded",function(da){W.allRoles=da;W.mfaRow&&W.mfaRow.updateAllRoles(W.allRoles)}));return this.render()};aa.prototype.render=function(){var W=this;return this.getData().then(function(da){var ea,ja,fa,ha,la,ka,ia,ma;W.oidcProviders=da.oidc;var na=["arcgis"];W.currentIdp&&na.push(W.samlName);(null===(ea=W.companionOrg)||void 0===ea?0:ea.saml)&&na.push(W.companionSamlName);(null===(ja=W.oidcProviders)||void 0===ja?0:ja.length)&&na.push("oidc_".concat(W.oidcProviders[0].id));
(null===(fa=W.companionOrg)||void 0===fa?0:fa.oidc)&&na.push("oidc_".concat(W.companionOrg.oidc.id));na.push("social");da.signInSettings&&(W.portal.signInSettings=da.signInSettings);ea=null===(ha=da.signInSettings)||void 0===ha?void 0:ha.signinOptionsOrder;W.signinOptionsOrder=ea||{logins:na,social:["facebook","google","github","apple"]};W.currentIdp&&-1===W.signinOptionsOrder.logins.indexOf(W.samlName)&&W.signinOptionsOrder.logins.push(W.samlName);if(null===(la=W.companionOrg)||void 0===la?0:la.saml)ha=
"saml_".concat(W.companionOrg.orgId),-1===W.signinOptionsOrder.logins.indexOf(ha)&&W.signinOptionsOrder.logins.push(ha);if(null===(ka=W.oidcProviders)||void 0===ka?0:ka.length)ka="oidc_".concat(W.oidcProviders[0].id),-1===W.signinOptionsOrder.logins.indexOf(ka)&&W.signinOptionsOrder.logins.push(ka);if(null===(ia=W.companionOrg)||void 0===ia?0:ia.oidc)ia="oidc_".concat(W.companionOrg.oidc.id),-1===W.signinOptionsOrder.logins.indexOf(ia)&&W.signinOptionsOrder.logins.push(ia);W.createAccessAndPermissionsCard(da.signInSettings,
da.portalProperties);W.createPasswordPolicyCard();W.createLoginsCard();ia=null===(ma=W.portal.subscriptionInfo)||void 0===ma?void 0:ma.type;"Trial Developer"!==ia&&"Developer Subscription"!==ia&&W.createMultifactorCard(da.signInSettings);W.portal.isPortal&&!k.default.emailVerificationEnabled||W.createEmailVerificationCard(da.signInSettings);W.createAccessNoticeCard();W.createInfoBannerCard();W.createTrustedServersCard();W.createAllowOriginsCard();W.portal.isPortal||W.createAllowExternalLinksCard();
W.createAllowPortalAccessCard();W.createAppsCard();W.portal.isPortal&&W.createEmailSettingsCard();F.default.appendChildren(W._cards.map(function(pa){return pa.domNode}),W._cardsContainer)})};aa.prototype.getCompanionInfo=function(){var W=this,da,ea,ja=new Z.default,fa=null===(ea=null===(da=this.portal.subscriptionInfo)||void 0===da?void 0:da.companionOrganizations)||void 0===ea?void 0:ea[0];if(!fa)return ja.resolve(),ja;this.companionOrg=fa;da=fa.orgId;(0,V.default)({saml:this.getCompanionIDP(da),
oidc:this.getOIDC(da),socials:this.getCompanionSocialProviders(da)}).then(function(ha){var la=ha.saml,ka=ha.oidc;ha=ha.socials;la&&(W.samlName="saml_".concat(W.portal.id),W.companionSamlName="saml_".concat(W.companionOrg.orgId));W.companionOrg=a.__assign(a.__assign({},W.companionOrg),{saml:la,oidc:null===ka||void 0===ka?void 0:ka[0],socials:ha});ja.resolve()},function(){ja.resolve()});return ja};aa.prototype.getCompanionIDP=function(W){var da=new Z.default;W="https://".concat(this.portal.portalHostname,
"/sharing/rest/portals/").concat(W,"/idp");var ea;(0,V.default)({idp:S.default.request({url:W}),fedIdp:S.default.request({url:"".concat(W,"/federation")})}).then(function(ja){var fa,ha;(null===(fa=ja.idp)||void 0===fa?0:fa.id)?ea=ja.idp:(null===(ha=ja.fedIdp)||void 0===ha?0:ha.id)?(ea=ja.fedIdp,ea.isFederation=!0):ea=void 0;da.resolve(ea)},function(){ea=void 0;da.resolve(ea)});return da};aa.prototype.getCompanionSocialProviders=function(W){var da=new Z.default;W="https://".concat(this.portal.portalHostname,
"/sharing/rest/portals/").concat(W,"/socialProviders");var ea;S.default.request({url:W}).then(function(ja){ea=(null===ja||void 0===ja?0:ja.config)&&!J.default.isEmptyObject(ja.config)?ja.config:void 0;da.resolve(ea)},function(){ea=void 0;da.resolve(ea)});return da};aa.prototype.createEmailVerificationCard=function(W){this.emailCard=this.createCard({id:"org-security-email-verification-card",name:this.i18n.emailVerification.name,rows:[new C.default(a.__assign(a.__assign({},this.getDefaultRowParams()),
{alwaysPromptEmailVerification:W.alwaysPromptEmailVerification,keywords:["email"]}))]})};aa.prototype.createAccessAndPermissionsCard=function(W,da){var ea=this.getDefaultRowParams(),ja=this.i18n.accessAndPermissions,fa=[new e.default(a.__assign(a.__assign({},ea),{label:ja.https,keywords:["https"]}))];fa=a.__spreadArray(a.__spreadArray([],fa,!0),[new v.default(a.__assign(a.__assign({},ea),{signInSettings:W,portalProperties:da,label:ja.accessAndPermissions,keywords:"anonymousAccess public profile https disableDownload arcgisPro applications licenses".split(" ")})),
new g.default(a.__assign(a.__assign({},ea),{label:ja.sharingAndSearching,keywords:["public","outsideOrg"]}))],!1);this.createCard({id:"org-security-policies-card",name:ja.cardTitle,rows:fa})};aa.prototype.createPasswordPolicyCard=function(){var W=this.i18n.passwordPolicy,da=W.description,ea=W.descriptionPortal;this.createCustomCard(u.default,{id:"org-password-policy-card",name:W.name,description:this.portal.isPortal?ea:da,keywords:"strength signIn login activate credentials expiration requirements".split(" ")})};
aa.prototype.handleNewSamlClick=function(W){var da;(new m.default({portal:this.portal,portalUser:this.portalUser,defaultUserType:null===(da=this.userDefaults)||void 0===da?void 0:da.userLicenseType,opener:W.target,telemetry:this.telemetry})).open()};aa.prototype.handleNewOidcClick=function(W){var da=this,ea;W=new h.default({portalUser:this.portalUser,opener:W.target,telemetry:this.telemetry,portal:this.portal,defaultUserType:null===(ea=this.userDefaults)||void 0===ea?void 0:ea.userLicenseType});R.default.once(W,
"change",function(){da.oidcRow.handleChanges()});W.open()};aa.prototype.handleDrop=function(){var W=[];F.default.querySelectorAllAsArray(".logins-option-row",this.loginsCard._content).forEach(function(ja){ja=ja.dataset.provider;-1===W.indexOf(ja)&&W.push(ja)});var da=JSON.stringify(this.signinOptionsOrder.logins),ea=JSON.stringify(W);da!==ea&&this.updateSigninOptionsOrder(a.__assign(a.__assign({},this.signinOptionsOrder),{logins:W}))};aa.prototype.updateSigninOptionsOrder=function(W,da){var ea=this,
ja=this.i18n.loginsSection;delete W.orderedLogins;S.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/setSigninSettings"),content:{signinOptionsOrder:JSON.stringify(W)}},{usePost:!0}).then(function(){da||G.default.showAlert("success",ja.orderSuccess);ea.signinOptionsOrder=W;ea.socialLoginsRow&&(ea.socialLoginsRow.signinOptionsOrder=ea.signinOptionsOrder)},function(){da||G.default.showAlert("error",ja.orderError)})};aa.prototype.renderTopSection=function(){(0,b.render)((0,b.h)(T.default,
{samlProvider:this.currentIdp,oidcProviders:this.oidcProviders,onNewSamlClick:this.handleNewSamlClick,onNewOidcClick:this.handleNewOidcClick}),this.topSection)};aa.prototype.createLoginsCard=function(){var W=this,da,ea,ja,fa,ha=this.getDefaultRowParams(),la=this.i18n,ka=la.socialLogins,ia=la.signInOptions;la=la.loginsSection;var ma=new y.default(a.__assign(a.__assign({},ha),{label:ia.name,description:ia.description,currentIdp:this.currentIdp,currentSocial:this.currentSocial,keywords:["join","login",
"credentials"]})),na=new w.default(a.__assign(a.__assign({},ha),{companionInfo:this.companionOrg})),pa=new t.default(a.__assign(a.__assign({},ha),{portalUser:this.portalUser,currentIdp:this.currentIdp,provider:this.samlName,userDefaults:this.userDefaults,keywords:"saml2 sso ldap identityProvider activeDirectory idp certificate credentials".split(" ")})),sa=new z.default(a.__assign(a.__assign({},ha),{portalUser:this.portalUser,userDefaults:this.userDefaults,currentOIDC:null===(da=this.oidcProviders)||
void 0===da?void 0:da[0],keywords:["openIdConnect","identityProvider","idp"]}));this.oidcRow=sa;var ta;this.portal.isPortal||(ta=new x.default(a.__assign(a.__assign({},ha),{portalUser:this.portalUser,label:ka.name,description:this.i18n.socialLogins.description,currentIdp:this.currentIdp,currentSocial:this.currentSocial,signinOptionsOrder:this.signinOptionsOrder,companionInfo:this.companionOrg,keywords:"credentials facebook google media socialMedia socialNetwork activate github".split(" ")})));this.socialLoginsRow=
ta;da=a.__spreadArray([],this.signinOptionsOrder.logins,!0);-1===da.indexOf("arcgis")&&da.push("arcgis");this.currentIdp&&-1===da.indexOf(this.samlName)&&da.push(this.samlName);if(null===(ea=this.companionOrg)||void 0===ea?0:ea.saml){-1===da.indexOf(this.companionSamlName)&&da.push(this.companionSamlName);var oa=new t.default(a.__assign(a.__assign({},ha),{portalUser:this.portalUser,currentIdp:this.companionOrg.saml,userDefaults:this.userDefaults,provider:this.companionSamlName,companionInfo:this.companionOrg,
keywords:"saml2 sso ldap identityProvider activeDirectory idp certificate credentials".split(" ")}))}(null===(ja=this.oidcProviders)||void 0===ja?0:ja.length)&&-1===da.indexOf("oidc_".concat(this.oidcProviders[0].id))&&da.push("oidc_".concat(this.oidcProviders[0].id));if(null===(fa=this.companionOrg)||void 0===fa?0:fa.oidc){var qa="oidc_".concat(this.companionOrg.oidc.id);-1===da.indexOf(qa)&&da.push(qa);var ua=new z.default(a.__assign(a.__assign({},ha),{portalUser:this.portalUser,userDefaults:this.userDefaults,
currentOIDC:this.companionOrg.oidc,companionInfo:this.companionOrg,keywords:["openIdConnect","identityProvider","idp"]}))}-1===da.indexOf("social")&&da.push("social");var ra=[];da.forEach(function(wa){var ya;"arcgis"===wa?ra.push(na):wa===W.samlName&&W.currentIdp?ra.push(pa):"social"===wa&&ta?ra.push(ta):(null===(ya=W.oidcProviders)||void 0===ya?0:ya[0])&&wa==="oidc_".concat(W.oidcProviders[0].id)?ra.push(sa):W.companionSamlName&&wa===W.companionSamlName?ra.push(oa):qa&&wa===qa&&ra.push(ua)});var va=
a.__spreadArray([],ra,!0);this.loginsCard=this.createCard({id:"org-logins-card",name:la.name,description:la.description,rows:a.__spreadArray([],ra,!0),templateString:Y.default});I.default.init(this.loginsCard._content,{direction:"vertical",itemClass:"logins-option-row",activeClass:"org-settings__card-list-row--sorting",handleClass:"sign-option-drag-handle",onDrop:this.handleDrop});this.topSection=document.createElement("div");this.renderTopSection();var za=this.loginsCard.domNode.querySelector(".js-card-content");
za.insertBefore(this.topSection,za.firstChild);K.default.canGetUserTypes(this.portalUser)&&this.licensesAPI.getLicenseTypes().then(function(wa){var ya;wa=wa.userLicenseTypes;(null===wa||void 0===wa?0:wa.length)&&(null===(ya=W.currentIdp)||void 0===ya?0:ya.userLicenseType)&&!wa.filter(function(Fa){return Fa.id===W.currentIdp.userLicenseType})[0]&&(ya=new P.default({content:'\x3cspan class\x3d"org-overview__security-alert-title avenir-bold"\x3e'.concat(Q.default.memberDefaultsTab.warning,"\x3c/span\x3e ").concat(O.default.substitute(Q.default.memberDefaultsTab.idpUserTypeWarning,
{linkStart:'\x3ca class\x3d"org-settings__clickable js-member-defaults"\x3e',linkEnd:"\x3c/a\x3e"})),portal:W.portal}),za.insertBefore(ya.domNode,za.firstChild),ya.show(),W.own((0,ba.default)(ya.domNode.querySelector(".js-member-defaults"),function(Fa){Fa.preventDefault();X.default.publish("settings-tab/select","newMemberDefaults")})))});this.adjustLoginsCardBorder();var Ca=function(){var wa=0,ya;va.forEach(function(Fa){Fa.isChecked()&&(wa++,ya=Fa);Fa.enableToggle()});1===wa&&ya&&ya.disableToggle()};
Ca();this.own(X.default.subscribe("login/toggle",function(wa){var ya;Ca();if(!wa){var Fa=a.__spreadArray([],W.signinOptionsOrder.logins,!0),La={arcgis:na,social:ta};W.currentIdp&&(La.saml=pa);if(null===(ya=W.oidcProviders)||void 0===ya?0:ya.length)La["oidc_".concat(W.oidcProviders[0].id)]=sa;var Ia=!1;Object.keys(La).forEach(function(Pa){var Ua=Fa.indexOf(Pa);La[Pa].isChecked()&&-1===Ua?(Fa.push(Pa),Ia=!0):!La[Pa].isChecked()&&-1<Ua&&(Fa.splice(Ua,1),Ia=!0)});var Ra=[];(0,ca.default)(".logins-option-row",
W.loginsCard.domNode).forEach(function(Pa){Pa=Pa.dataset.provider;-1<Fa.indexOf(Pa)&&Ra.push(Pa)});Ia&&W.updateSigninOptionsOrder(a.__assign(a.__assign({},W.signinOptionsOrder),{logins:Ra}),!0)}}),X.default.subscribe("setIdentityProvider",function(){W.getIdentityProvider().then(function(){if(W.currentIdp)-1===W.signinOptionsOrder.logins.indexOf("saml")&&(pa=new t.default(a.__assign(a.__assign({},ha),{portalUser:W.portalUser,currentIdp:W.currentIdp,userDefaults:W.userDefaults,keywords:"saml2 sso ldap identityProvider activeDirectory idp certificate credentials".split(" ")})),
W.loginsCard.appendRow(pa),W.signinOptionsOrder.logins.push("saml"),W.updateSigninOptionsOrder(W.signinOptionsOrder));else{var wa=W.signinOptionsOrder.logins.indexOf("saml");-1<wa&&(W.signinOptionsOrder.logins.splice(wa,1),W.updateSigninOptionsOrder(W.signinOptionsOrder));W.loginsCard.removeRow(pa);W.currentIdp=void 0}W.renderTopSection();pa.updateIdentityProvider(W.currentIdp);W.adjustLoginsCardBorder()})}),X.default.subscribe("setSocialProviders",function(){W.getSocialProviders().then(function(){ma.updateSocialProviders(W.currentSocial);
W.adjustLoginsCardBorder()})}),this.portal.watch(function(wa){if("canSignInArcGIS"===wa||"canSignInIDP"===wa||"canSignInOIDC"===wa)null===ta||void 0===ta?void 0:ta.refreshSignInPreferences()}),X.default.subscribe("scroll-to/enterprise-logins",function(){W.loginsCard.domNode.scrollIntoView({behavior:"smooth"})}),X.default.subscribe("scroll-to/approved-apps",function(){W.approvedAppsRow.domNode.scrollIntoView({behavior:"smooth"})}),X.default.subscribe("scroll-to/email-verification",function(){W.emailCard.domNode.scrollIntoView({behavior:"smooth"})}),
X.default.subscribe("oidc/action",function(wa){"unregister"===wa?(wa=W.signinOptionsOrder.logins.indexOf("oidc_".concat(sa.currentOIDC.id)),-1<wa&&(W.signinOptionsOrder.logins.splice(wa,1),W.updateSigninOptionsOrder(W.signinOptionsOrder)),W.loginsCard.removeRow(sa),W.oidcProviders=[],W.renderTopSection()):"register"===wa&&W.getOIDC().then(function(ya){var Fa;W.oidcProviders=ya;if(ya=null===(Fa=W.oidcProviders)||void 0===Fa?void 0:Fa[0])W.renderTopSection(),-1===W.signinOptionsOrder.logins.indexOf("oidc_".concat(ya.id))&&
(sa=new z.default(a.__assign(a.__assign({},ha),{portalUser:W.portalUser,keywords:["openIdConnect","identityProvider","idp"]})),W.loginsCard.appendRow(sa),W.signinOptionsOrder.logins.push("oidc_".concat(ya.id)),W.updateSigninOptionsOrder(W.signinOptionsOrder))})}),X.default.subscribe("default-user-type/change",function(wa){W.userDefaults=wa}))};aa.prototype.adjustLoginsCardBorder=function(){(0,ca.default)(".org-settings__card-row",this.loginsCard.domNode).forEach(function(da){});var W=this.loginsCard.domNode.querySelectorAll(".org-settings__card-row:not(.hide)");
(W=W[W.length-1])&&W.classList.add("no-border")};aa.prototype.createMultifactorCard=function(W){var da=this.getDefaultRowParams(),ea=this.i18n.multifactorAuth,ja=ea.name;ea=ea.designatedRow;var fa='\x3cp class\x3d"trailer-half"\x3e'.concat(K.default.injectHelpLink(this.portal,this.i18n.multifactorAuth["description".concat(this.portal.isPortal?"Portal":"")],"120000978","multifactor-learn-more"),'\x3c/p\x3e\x3cp class\x3d"trailer-0"\x3e').concat(this.i18n.multifactorAuth.description2,"\x3c/p\x3e");
this.mfaRow=new n.default(a.__assign(a.__assign({},da),{portalUser:this.portalUser,label:ea.name,description:ea.description,allRoles:this.allRoles}));var ha=new p.default(a.__assign(a.__assign({},da),{signInSettings:W||{}}));this.createCard({id:"org-mfa-card",name:ja,description:fa,keywords:["mfa","twoStep","verification"],rows:[ha,this.mfaRow]}).on("show",function(){ha.resizeCharts()})};aa.prototype.createTrustedServersCard=function(){var W=this.i18n.trustedServers,da=W.addServer;this.createCard({id:"org-trusted-servers-card",
name:W.name,description:W.description,rows:[new q.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{editA11yLabel:da,keywords:["addServers","secureServers"]}))]})};aa.prototype.createAllowOriginsCard=function(){var W=this.i18n.allowOrigins,da=W.addServer;this.createCard({id:"org-allow-origins-card",name:W.name,description:W.description,rows:[new l.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{editA11yLabel:da,keywords:["cors","domain","trustedDomain"]}))]})};aa.prototype.replaceHubDocLink=
function(W){var da=document.documentElement.lang.toLowerCase(),ea="https://doc.arcgis.com/en/hub/get-started/advanced-settings.htm#ESRI_SECTION1_BEEC2A0E95ED45AEA42C63441731A722";"ar es de fr it ja ko pl pt-br ru zh-cn".split(" ").includes(da)&&(ea=ea.replace("/en/","/".concat(da,"/")));return W.replace("${linkStart}",'\x3ccalcite-link href\x3d"'.concat(ea,'" target\x3d"_blank"\x3e')).replace("${linkEnd}","\x3c/calcite-link\x3e")};aa.prototype.createAllowExternalLinksCard=function(){var W,da,ea,ja,
fa=this.i18n.allowExternalLinks,ha=fa.name,la=fa.hubNotifications,ka=fa.hubDescription,ia=fa.communityDescription,ma=fa.workflowDescription,na=fa.addLink;fa='\x3cp class\x3d"trailer-half"\x3e'.concat(fa.description,"\x3c/p\x3e");var pa=null===(da=null===(W=this.portal.subscriptionInfo)||void 0===W?void 0:W.hubSettings)||void 0===da?void 0:da.enabled;W="Community"===(null===(ea=this.portal.subscriptionInfo)||void 0===ea?void 0:ea.type);ea=null===(ja=this.orgCapabilities)||void 0===ja?void 0:ja.some(function(sa){return["workflowstd",
"workfloworg"].includes(sa.id)});pa?fa+='\x3cp class\x3d"trailer-half"\x3e'.concat(this.replaceHubDocLink(ka),"\x3c/p\x3e"):W&&(fa+='\x3cp class\x3d"trailer-half"\x3e'.concat(this.replaceHubDocLink(ia),"\x3c/p\x3e"));fa+='\x3cp class\x3d"trailer-0"\x3e'.concat(ea?ma:la,"\x3c/p\x3e");this.createCard({id:"org-allow-external-links-card",name:ha,description:fa,rows:[new c.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{editA11yLabel:na,keywords:["email"]}))]})};aa.prototype.createAppsCard=
function(){var W=K.default.injectHelpLink(this.portal,this.i18n.approvedApps.description,this.portal.isPortal?"120001578":"120001296");this.approvedAppsRow=new E.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:this.i18n.approvedApps.name,description:W,keywords:["applications"]}));W=new B.default(a.__assign(a.__assign({baseClass:"no-border"},this.getDefaultRowParams()),{keywords:["beta"]}));this.createCard({id:"security-apps-card",name:this.i18n.apps,rows:[this.approvedAppsRow,
W]})};aa.prototype.createBlockedAppsCard=function(){var W=this.i18n.blockedApps.name,da=new B.default(a.__assign(a.__assign({baseClass:"no-border"},this.getDefaultRowParams()),{keywords:[]}));this.createCard({id:"blocked-apps-card",name:W,rows:[da]})};aa.prototype.createApprovedAppsCard=function(){var W=this.i18n.approvedApps,da=W.name;W=W.description;W=new E.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:"",description:W,keywords:[]}));this.createCard({id:"approved-apps-card",
name:da,rows:[W]})};aa.prototype.createAllowPortalAccessCard=function(){var W=this.i18n.allowPortalAccess,da=W.addServer;this.createCard({id:"org-allow-portal-acess-card",name:W.name,description:W.description,rows:[new d.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{editA11yLabel:da,keywords:["collaborate","proxy"]}))]})};aa.prototype.createEmailSettingsCard=function(){var W=this.i18n.emailSettings,da=W.name,ea=W.description;W=W.learnMore;var ja="".concat(this.portal.helpBase).concat(this.portal.helpMap.m["120002595"]||
"");this.createCard({id:"org-email-settings-card",name:da,description:"".concat(ea,' \x3ccalcite-link href\x3d"').concat(ja,'" target\x3d"_blank"\x3e').concat(W,"\x3c/calcite-link\x3e"),rows:[new D.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:"test",keywords:["email"]}))]})};aa.prototype.createAccessNoticeCard=function(){var W=this.i18n.accessNotice,da=W.anonymous,ea=W.authenticated;this.createCard({id:"org-access-notice-card",name:W.name,rows:[new A.default(a.__assign(a.__assign({},
this.getDefaultRowParams()),{label:ea.name,description:ea.description,settings:this.settings,noticeType:"authenticated",editBtnId:"members-access-notice-btn"})),new A.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{label:da.name,description:da.description,settings:this.settings,noticeType:"anonymous",editBtnId:"anon-access-notice-btn",isAnonymous:!0}))],keywords:"terms conditions admission notification contract initial warning".split(" ")})};aa.prototype.createInfoBannerCard=function(){var W=
this.i18n.infoBanner,da=W.name;W=W.description;da=new r.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{id:"org-info-banner-card",portalUser:this.portalUser,name:da,description:W,tab:this.TAB_KEY,settings:this.settings,keywords:"headline heading report classified message alert warning".split(" ")}));this._cards.push(da)};aa.prototype.getSignInSettings=function(){return S.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/signinSettings")})};aa.prototype.getSubscriptionInfo=
function(){var W=this;return S.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/subscriptionInfo")}).then(function(da){W.orgCapabilities=da.orgCapabilities})};aa.prototype.getPortalProperties=function(){var W="".concat(S.default.getPortalAdminBaseUrl(),"/system/properties");return S.default.request({url:W,content:{ts:(new Date).getTime()}},{useProxy:k.default.isDebug})};aa.prototype.getOIDC=function(W){var da=W?"https://".concat(this.portal.portalHostname,"/sharing/rest/"):"".concat(S.default.getSecureUrl(k.default.restBaseUrl));
return S.default.request({url:"".concat(da,"portals/").concat(W||"self","/oidc"),content:{returnClientSecret:!0}}).then(function(ea){return null===ea||void 0===ea?void 0:ea.oidcProviders},function(){})};aa.prototype.getIdentityProvider=function(){var W=this,da=new Z.default,ea="".concat(S.default.getSecureUrl(k.default.restBaseUrl),"portals/self/idp");(0,V.default)({idp:S.default.request({url:ea}),fedIdp:S.default.request({url:"".concat(ea,"/federation")})}).then(function(ja){var fa,ha;(null===(fa=
ja.idp)||void 0===fa?0:fa.id)?W.currentIdp=ja.idp:(null===(ha=ja.fedIdp)||void 0===ha?0:ha.id)?(W.currentIdp=ja.fedIdp,W.currentIdp.isFederation=!0):W.currentIdp=void 0;da.resolve()},function(){W.currentIdp=void 0;da.resolve()});return da};aa.prototype.getSocialProviders=function(){var W=this,da=new Z.default,ea="".concat(S.default.getSecureUrl(k.default.restBaseUrl),"portals/self/socialProviders");S.default.request({url:ea}).then(function(ja){(null===ja||void 0===ja?0:ja.config)&&!J.default.isEmptyObject(ja.config)?
W.currentSocial=ja.config:W.currentSocial=void 0;da.resolve()},function(){W.currentSocial=void 0;da.resolve()});return da};aa.prototype.getUserDefaults=function(){var W=this;return S.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/userDefaultSettings"),content:{}}).then(function(da){W.userDefaults=da})};aa.prototype.getPortalSettings=function(){var W=this;return S.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/settings")}).then(function(da){var ea;W.settings=
da;return(null===(ea=W.settings)||void 0===ea?0:ea.authenticatedAccessNotice)&&!W.settings.authenticatedAccessNotice.enabled?S.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/settings/update/"),content:{authenticatedAccessNotice:"",clearEmptyFields:!0}},{usePost:!0}).then(function(){W.settings.authenticatedAccessNotice=void 0;return W.settings}):W.settings})};aa.prototype.getData=function(){return(0,V.default)({signInSettings:this.getSignInSettings(),portalProperties:this.portal.isPortal&&
!S.default.isArcGISEnterpriseOnKubernetes()?this.getPortalProperties():null,idp:this.getIdentityProvider(),oidc:this.getOIDC(),socialProviders:this.getSocialProviders(),userDefaults:this.getUserDefaults(),settings:this.getPortalSettings(),companion:this.getCompanionInfo(),subscriptionInfo:this.getSubscriptionInfo()})};return aa=a.__decorate([(0,N.default)(H.default)],aa)}()})},"arcgisonline/pages/organization/widgets/settings/EnterpriseLoginOverlay":function(){define("require exports tslib ../../../dijit/Overlay/OverlayWithSteps ../../../dijit/SelectOptions ../../../dijit/ToggleSwitch ../../../dijit/OverlayConfirm ../../../utils/icons ../../../utils/alerts ../../../utils/dom ../../../utils/validation ../../../../esriGeowConfig ../../../../sharing/util ../../../../sharing/dijit/CopyToClipboard ../../../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/dom dojo/string dojo/query dojo/on dojo/topic dojo/Deferred dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!./templates/EnterpriseLoginOverlay.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=
a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);var D;(function(E){E.Auto="Automatic";E.Invite="Invitation"})(D||(D={}));var C;(function(E){E.Url="url";E.File="file";E.Parameters="params"})(C||(C={}));return function(){function E(H,G){this.title=A.default.securityTab.enterpriseLogins.setEnterpriseLogin;this.i18n=y.default;this.texts=a.__assign(a.__assign(a.__assign(a.__assign({},y.default.common),A.default.securityTab.loginsSection.SAML),A.default.securityTab.enterpriseLogins),
A.default.securityTab.enterpriseLogins.overlay);this.constrain=!0;this.background="white";this.maxWidth=900;this.closeOnScrimClick=!1;this.noBorder=!0;this.configs=[{stepNum:1,text:A.default.securityTab.enterpriseLogins.overlay.choose,titleTemplate:A.default.securityTab.enterpriseLogins.overlay.step1Title,active:!0},{stepNum:2,text:A.default.securityTab.enterpriseLogins.overlay.specify,titleTemplate:A.default.securityTab.enterpriseLogins.overlay.step2Title}];this.isEdit=!1;this.SELECTED_OPTION_CLASS=
"invite-members__invite-method-item--selected"}E.prototype.postMixInProperties=function(){this.inherited(arguments);this.overlayContents=d.default.substitute(B.default,{i18n:a.__assign(a.__assign(a.__assign({},y.default.common),A.default.securityTab.enterpriseLogins),A.default.securityTab.enterpriseLogins.overlay),chevron:h.default.inline["chevron-right"]["16"],downloadTo:h.default.inline["download-to"]["16"],checkIcon:h.default.check["32"],step1Title:this.getStepTitle(1),step2Title:this.getStepTitle(2)})};
E.prototype.postCreate=function(){this.inherited(arguments);this.domNode.querySelector(".js-edit-description").textContent=d.default.substitute(this.texts.description,{name:A.default.common[this.portal.isPortal?"enterprise":"arcgis"]})};E.prototype.open=function(){this.inherited(arguments);this._overlayTitleBar.classList.add("padding-left-2");r.default.addClasses(this.domNode,["enterprise-login-overlay","enterprise-login-overlay--set"]);r.default.addClasses(this.stepsHeader.domNode,["padding-left-2",
"padding-right-2"]);this.saveAttachpoints();this.initSelectOptions();this.initToggleSwitches();this.isPortal=this.portal.isPortal;var H=RegExp(":\\d*/","g");H=this.isPortal?this.portal.portalHostname.replace(H,".").replace("/","."):"".concat(this.portal.urlKey,".").concat(this.portal.customBaseUrl);this.entityInput.value=H;r.default.showNode(this.metadataUrlInput);this.addListeners()};E.prototype.edit=function(H){var G=this;this.hideSteps();this.getSignedProviderMetadataInfo().then(function(R){var Y=
!!R;Y&&(new p.default({text:R,id:"signed-service-provider-url",label:A.default.securityTab.enterpriseLogins.getSignedServiceProvider},c.default.byId("signed-service-provider-link"))).startup();r.default.showHide(G.signedMetadataContainer,Y)});this.overlayTitle.textContent=A.default.securityTab.enterpriseLogins.editEnterpriseLogin;this.domNode.classList.remove("enterprise-login-overlay--set");this.domNode.classList.add("enterprise-login-overlay--edit");r.default.hideNode(this.domNode.querySelector(".js-steps-header"));
this.currentIdp=H;this.isEdit=!0;var F=H.isFederation,I=H.signUpMode,J=H.bindingUrl,K=H.bindingPostUrl,P=H.certificate,T=H.encryptionSupported,S=H.supportSignedRequest,L=H.useSHA256,N=H.supportsLogoutRequest,O=H.updateProfileAtSignin,Q=H.updateGroupsAtSignin,V=H.logoutUrl,X=H.entityId,Z=H.discoveryServiceUrl,ca=H.metadataServiceUrl;this.nameInput.value=H.name;this.joinOptions.select(I);this.encryptToggle.setChecked(!!T,!0);this.signedRequestToggle.setChecked(!!S,!0);r.default.showHide(this.sha256Toggle.domNode,
!!S);this.sha256Toggle.setChecked(!!L,!0);this.propagateToggle.setChecked(!!N,!0);this.profilesToggle.setChecked(!!O,!0);F?(this.fedIdpRadio.checked=!0,this.discServiceUrlInput.value=Z,this.metadataServiceUrlInput.value=ca):(this.oneIdpRadio.checked=!0,this.metadataOptions.select(C.Parameters),r.default.hideNode(this.metadataUrlInput),r.default.showNode(this.metadataParameters),this.loginInput.value=J||"",this.loginPostInput.value=K||"",this.certificateTextarea.value=P||"",this.samlToggle.setChecked(!!Q,
!0),this.logoutInput.value=V||"",X&&(this.entityInput.value=X));this.goToStep(2);H=this.domNode.querySelector(".js-delete-btn");F=this.domNode.querySelector(".js-download-btn");this._overlayActionBar.insertBefore(H,this._overlayActionBar.firstChild);r.default.showNodes([H,F]);this.own((0,t.default)(H,"click",this.handleDeleteClick.bind(this)),(0,t.default)(F,"click",function(){window.open("".concat(v.default.restBaseUrl,"portals/self/sp/metadata?token\x3d").concat(g.default.getToken()),"_blank")}))};
E.prototype.close=function(){this.inherited(arguments)};E.prototype.handleCancel=function(){var H;null===(H=this.telemetry)||void 0===H?void 0:H.logEvent({category:"security",label:"idp",action:"Cancel"});this.inherited(arguments)};E.prototype.handleDeleteClick=function(){var H=this,G=this.texts,F=G.removeEnterpriseLogin,I=G.removeWarning,J=G.removeConfirm,K=G.removeDisabled,P=G.yesLabel;G=G.cancel;"enterprise"===this.portalUser.provider?u.default.showAlert("error",K):(F=new m.default({title:F,description:"\x3cp\x3e".concat(I,
"\x3c/p\x3e\x3cp\x3e").concat(J,"\x3c/p\x3e"),confirmText:P,cancelText:G,cssClasses:"full-width text-constrain overlay-confirm-pane--error"}),this._overlay.insertBefore(F.domNode,this._overlay.firstChild),F.show().then(function(T){"onOk"===T&&H.proceedToDelete()}))};E.prototype.proceedToDelete=function(){var H=this;if(this.currentIdp){var G=this.currentIdp,F=G.id;G=G.isFederation;var I=this.texts,J=I.removeSuccess,K=I.removeError;F="".concat(v.default.restBaseUrl,"portals/self/idp/").concat(G?"federation/":
"").concat(F,"/unregister");g.default.request({url:F},{usePost:!0}).then(function(P){var T,S;null===(T=H.telemetry)||void 0===T?void 0:T.logEvent({category:"security",label:"idp",action:"Unregister"});P&&!P.error?(H.currentIdp=void 0,u.default.showAlert("success",J),H.close(),z.default.publish("setIdentityProvider")):(P&&(null===(S=H.telemetry)||void 0===S?void 0:S.logError({error:P})),u.default.showAlert("error",K))},function(P){var T;null===(T=H.telemetry)||void 0===T?void 0:T.logError({error:P});
u.default.showAlert("error",K)})}};E.prototype.getStepTitle=function(H){return d.default.substitute(A.default.securityTab.enterpriseLogins.overlay["step".concat(H,"Title")],{wrapStart:'\x3cspan class\x3d"stepper-num margin-right-quarter"\x3e',wrapEnd:"\x3c/span\x3e"})};E.prototype.getSignedProviderMetadataInfo=function(){var H=this,G=new x.default,F="".concat(g.default.getSecureUrl(v.default.restBaseUrl),"portals/self/sp");g.default.request({url:F}).then(function(I){H.signedServiceProviderUrl=I&&
I.signedServiceProviderUrl?I.signedServiceProviderUrl:"";G.resolve(H.signedServiceProviderUrl)},function(){H.signedServiceProviderUrl="";G.resolve(H.signedServiceProviderUrl)});return G};E.prototype.validate=function(){var H=!0;this.nameInput.value||(H=!1,e.default.setInvalidState(this.nameInput,this.nameError));if(!this.fedIdpRadio.checked){var G=this.metadataOptions.value();G===C.Url?(G=this.metadataUrlInput.value,G&&0!==G.length||(e.default.setInvalidState(this.metadataUrlInput,this.urlError),
H=!1)):G===C.File?(G=this.metadataFileInput.value,G&&0!==G.length||(e.default.setInvalidState(this.metadataFileInput,this.fileError),H=!1)):G===C.Parameters&&(G=this.loginInput.value,G&&0!==G.length||(e.default.setInvalidState(this.loginInput,this.loginError),H=!1),G=this.loginPostInput.value,G&&0!==G.length||(e.default.setInvalidState(this.loginPostInput,this.loginPostError),H=!1),G=this.certificateTextarea.value,G&&0!==G.length||(e.default.setInvalidState(this.certificateTextarea,this.certError),
H=!1))}return H};E.prototype.save=function(){if(this.validate()){var H=this.fedIdpRadio.checked;if(!H){var G=this.metadataOptions.value();if(G===C.Url)this.metadataFileInput.value="",this.loginInput.value="",this.loginPostInput.value="",this.certificateTextarea.value="";else if(G===C.File)this.metadataUrlInput.value="",this.loginInput.value="",this.loginPostInput.value="",this.certificateTextarea.value="";else{this.metadataUrlInput.value="";this.metadataFileInput.value="";var F="HTTP_REDIRECT"}}G=
new FormData(this.domNode.querySelector(".js-form"));G.append("signUpMode",this.joinOptions.value());G.append("encryptionSupported","".concat(this.encryptToggle.checked()));G.append("supportSignedRequest","".concat(this.signedRequestToggle.checked()));G.append("useSHA256","".concat(this.signedRequestToggle.checked()&&this.sha256Toggle.checked()));G.append("supportsLogoutRequest","".concat(this.propagateToggle.checked()));G.append("updateProfileAtSignin","".concat(this.profilesToggle.checked()));G.append("updateGroupsAtSignin",
"".concat(this.samlToggle.checked()));F&&G.append("bindingType",F);H?G.append("certificate",this.fedCertTextarea.value):this.metadataOptions.value()===C.Parameters&&G.append("certificate",this.certificateTextarea.value);this.proceedToSave(G)}};E.prototype.goToStep=function(H){this.inherited(arguments);if(2===H){var G=A.default.securityTab.enterpriseLogins.overlay.form,F=G.namePlaceholder;G=G.federationNamePlaceholder;this.nameInput.placeholder=this.fedIdpRadio.checked?G:F;r.default.showHide(this.metadataSection,
this.oneIdpRadio.checked);r.default.showHide(this.logoutUrl,this.oneIdpRadio.checked);r.default.showHide(this.fedSection,this.fedIdpRadio.checked);r.default.showHide(this.samlToggle.domNode,this.oneIdpRadio.checked)}else 1===H&&e.default.clearState((0,w.default)(".input-error, .input-error-message",this.domNode))};E.prototype.proceedToSave=function(H){var G=this,F=this.fedIdpRadio.checked,I=A.default.securityTab.enterpriseLogins.overlay.form.errors;F="".concat(v.default.restBaseUrl,"portals/self/idp/").concat(F?
"federation/":"");this.isEdit?(F="".concat(F).concat(this.currentIdp.id,"/update"),H.append("clearEmptyFields","true")):F="".concat(F,"register");this.showLoader();this._primaryBtn.disabled=!0;g.default.request({url:F,form:H},{usePost:!0}).then(function(J){var K;null===(K=G.telemetry)||void 0===K?void 0:K.logEvent({category:"security",label:"idp",action:"Save"});G._primaryBtn.disabled=!1;G.hideLoader();G.close();z.default.publish("setIdentityProvider")},function(J){var K;null===(K=G.telemetry)||void 0===
K?void 0:K.logError({error:J});G._primaryBtn.disabled=!1;J=J.messageCode;u.default.showAlert("error",J&&I[J]?I[J]:G.isEdit?I.unableToUpdateIdentityProvider:I.unableToSetIdentityProvider);G.hideLoader();G.close()})};E.prototype.saveAttachpoints=function(){this.oneIdpRadio=this.domNode.querySelector(".js-one-idp");this.fedIdpRadio=this.domNode.querySelector(".js-fed-idp");this.metadataUrlInput=this.domNode.querySelector(".js-metadata-url-input");this.metadataFileInput=this.domNode.querySelector(".js-metadata-file-input");
this.metadataParameters=this.domNode.querySelector(".js-metadata-params");this.toggleAdvBtn=this.domNode.querySelector(".js-toggle-advanced-btn");this.toggleText=this.domNode.querySelector(".js-toggle-text");this.advancedSettings=this.domNode.querySelector(".js-advanced-settings");this.fedSection=this.domNode.querySelector(".js-fed-section");this.metadataSection=this.domNode.querySelector(".js-metadata-section");this.logoutUrl=this.domNode.querySelector(".js-logout-url");this.loginInput=this.domNode.querySelector(".js-login-redirect-input");
this.loginPostInput=this.domNode.querySelector(".js-login-post-input");this.certificateTextarea=this.domNode.querySelector(".js-certificate-textarea");this.entityInput=this.domNode.querySelector(".js-entity-id-input");this.logoutInput=this.domNode.querySelector(".js-logout-input");this.nameInput=this.domNode.querySelector(".js-name-input");this.nameError=this.domNode.querySelector(".js-name-error");this.urlError=this.domNode.querySelector(".js-url-error");this.fileError=this.domNode.querySelector(".js-file-error");
this.loginError=this.domNode.querySelector(".js-login-error");this.loginPostError=this.domNode.querySelector(".js-login-post-error");this.certError=this.domNode.querySelector(".js-cert-error");this.fedCertTextarea=this.domNode.querySelector(".js-fed-cert");this.discServiceUrlInput=this.domNode.querySelector(".js-discovery-service-url");this.metadataServiceUrlInput=this.domNode.querySelector(".js-metadata-service-url");this.signedMetadataContainer=this.domNode.querySelector(".js-signed-metadata-container")};
E.prototype.initToggleSwitches=function(){var H=A.default.securityTab.enterpriseLogins.overlay.form.advanced,G=H.enableSignedRequest,F=H.signedRequestNote,I=H.sha256,J=H.propagate,K=H.updateProfiles,P=H.enableSAML;this.encryptToggle=new f.default({label:H.encryptAssertion,labelPosition:"left"},this.domNode.querySelector(".js-encrypt-toggle"));this.signedRequestToggle=new f.default({label:"".concat(G,'\x3cp class\x3d"font-size--2 leader-quarter trailer-0 margin-right-1"\x3e').concat(F,"\x3c/p\x3e"),
labelPosition:"left",isChecked:!0},this.domNode.querySelector(".js-signed-request-toggle"));this.sha256Toggle=new f.default({label:I,labelPosition:"left",isChecked:!0},this.domNode.querySelector(".js-sha256-toggle"));this.sha256Toggle.hide();this.propagateToggle=new f.default({label:J,labelPosition:"left",isChecked:!0},this.domNode.querySelector(".js-propagate-toggle"));this.profilesToggle=new f.default({label:K,labelPosition:"left",isChecked:!0},this.domNode.querySelector(".js-profiles-toggle"));
this.samlToggle=new f.default({label:P,labelPosition:"left"},this.domNode.querySelector(".js-saml-toggle"))};E.prototype.initSelectOptions=function(){var H=A.default.securityTab.enterpriseLogins.overlay.form,G=H.url,F=H.file,I=H.params;this.joinOptions=new k.default({options:[{name:"joinOption",text:H.auto,value:D.Auto},{name:"joinOption",text:H.onInvite,value:D.Invite,selected:!0}]},this.domNode.querySelector(".js-join-options"));this.metadataOptions=new k.default({baseClass:"trailer-half",options:[{name:"metadataOption",
text:G,value:C.Url,selected:!0},{name:"metadataOption",text:F,value:C.File},{name:"metadataOption",text:I,value:C.Parameters}]},this.domNode.querySelector(".js-metadata-options"))};E.prototype.addListeners=function(){this.own((0,w.default)("input[name\x3didpOptions]").on("change",this.handleOptionChange.bind(this)),(0,t.default)(this.metadataOptions,"change",this.handleMetadataOption.bind(this)),(0,t.default)(this.toggleAdvBtn,"click",this.handleToggleAdvClick.bind(this)),(0,t.default)(this.signedRequestToggle,
"change",this.handleSignedRequestChange.bind(this)),(0,t.default)(this.joinOptions,"change",this.handleJoinOptionChange.bind(this)),(0,t.default)(this.nameInput,"keyup",this.handleNameInput.bind(this)),(0,w.default)(".js-step1-next-btn, .js-save-btn",this.domNode).on("click",this.handlePrimary.bind(this)))};E.prototype.handleNameInput=function(){this.nameInput.value&&0!==this.nameInput.value.length?e.default.clearState([this.nameInput,this.nameError]):e.default.setInvalidState(this.nameInput,this.nameError)};
E.prototype.handleJoinOptionChange=function(H){var G=this,F=A.default.securityTab.enterpriseLogins.overlay.form.errors.mustHaveDefaultUserType;H!==D.Auto||this.defaultUserType&&"none"!==this.defaultUserType||(u.default.showAlert("error",F),setTimeout(function(){G.joinOptions.select(D.Invite)}))};E.prototype.handleSignedRequestChange=function(){var H=this.signedRequestToggle.checked();r.default.showHide(this.sha256Toggle.domNode,H);H||this.sha256Toggle.setChecked(!1,!0)};E.prototype.handleToggleAdvClick=
function(){var H=A.default.securityTab.enterpriseLogins.overlay.form,G=H.showAdvanced;H=H.hideAdvanced;var F=this.advancedSettings.classList.contains("hide");r.default.showHide(this.advancedSettings,F);r.default.addRemoveClass(this.toggleAdvBtn,"enterprise-login-overlay__toggle-adv-btn--expand",F);this.toggleText.textContent=F?H:G};E.prototype.handleMetadataOption=function(H){r.default.showHide(this.metadataUrlInput,H===C.Url);r.default.showHide(this.metadataFileInput,H===C.File);r.default.showHide(this.metadataParameters,
H===C.Parameters);e.default.clearState([this.metadataUrlInput,this.urlError,this.metadataFileInput,this.fileError])};E.prototype.handleOptionChange=function(){(0,w.default)(".".concat(this.SELECTED_OPTION_CLASS),this.domNode).removeClass(this.SELECTED_OPTION_CLASS);(0,w.default)("input[name\x3didpOptions]:checked").closest(".invite-members__invite-method-item").addClass(this.SELECTED_OPTION_CLASS)};return E=a.__decorate([(0,n.default)(l.default,q.default,b.default)],E)}()})},"arcgisonline/pages/dijit/Overlay/OverlayWithSteps":function(){define("require exports tslib dojo/on dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay ./OverlaySteps ./OverlayStepContent arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(){this.i18n=k.default;this.noBorder=!1;this.configs=[];this.currentStep=1;this.maxStepNum=0;this.stepContents=[];this.WITH_STEPS_CLASS="overlay--with-steps";this.HIDE_STEPS_CLASS="overlay--hide-steps"}v.prototype.open=function(){this.inherited(arguments);this.showSteps();
this._primaryBtn.textContent=this.i18n.common.next;this.maxStepNum=this.configs.reduce(function(g,p){return g>=p.stepNum?g:p.stepNum},0);this.createStepHeader();this.createStepContents()};v.prototype.close=function(){this.inherited(arguments)};v.prototype.save=function(){};v.prototype.handlePrimary=function(){this.maxStepNum===this.currentStep?this.save():this.goToStep(this.currentStep+1)};v.prototype.hideSteps=function(){this.domNode.classList.remove(this.WITH_STEPS_CLASS);this.domNode.classList.add(this.HIDE_STEPS_CLASS)};
v.prototype.showSteps=function(){this.domNode.classList.add(this.WITH_STEPS_CLASS);this.domNode.classList.remove(this.HIDE_STEPS_CLASS)};v.prototype.goToStep=function(g){this._primaryBtn.textContent=this.getButtonText(g);this._cancelBtn.textContent=this.getCancelButtonText(g);this.currentStep=g;this.stepsHeader.setActive(g);this.stepContents.forEach(function(p){p.stepNum===g?p.setActive():p.stepNum<g?p.setPrevious():p.clearState()})};v.prototype.getButtonText=function(g){var p=this.configs.filter(function(n){return n.stepNum===
g})[0];return(null===p||void 0===p?0:p.buttonText)?p.buttonText:g===this.maxStepNum?this.i18n.common.save:this.i18n.common.next};v.prototype.getCancelButtonText=function(g){var p=this.configs.filter(function(n){return n.stepNum===g})[0];return(null===p||void 0===p?0:p.buttonText)?p.cancelButtonText:this.i18n.common.cancel};v.prototype.createStepHeader=function(){this.stepsHeader=new u.default({noBorder:this.noBorder,stepConfigs:this.configs.map(function(g){return{stepNum:g.stepNum,text:g.text,active:g.active}})});
this._overlay.insertBefore(this.stepsHeader.domNode,this._overlayContentWrapper);this.own((0,b.default)(this.stepsHeader,"step/click",this.goToStep.bind(this)))};v.prototype.createStepContents=function(){var g=this;this.stepContents=this.configs.map(function(p){p=new r.default({stepNum:p.stepNum,titleTemplate:p.titleTemplate,buttonText:g.getButtonText(p.stepNum),active:p.active},g.domNode.querySelector(".js-step".concat(p.stepNum,"-content")));g.own((0,b.default)(p,"step/next-click",g.handlePrimary.bind(g)),
(0,b.default)(p,"step/click",function(n){g.stepContents.forEach(function(q){q.stepNum===n?q.setActive():q.stepNum>n&&q.clearState()});g.goToStep(n)}));return p})};return v=a.__decorate([(0,e.default)(m.default,f.default,h.default)],v)}()})},"arcgisonline/pages/dijit/Overlay/OverlaySteps":function(){define("require exports tslib esri/Evented dojo/on dijit/_TemplatedMixin dijit/_WidgetBase ./OverlayStep arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,
k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString='\x3cdiv class\x3d"overlay-steps flex"\x3e\x3c/div\x3e';this.noBorder=!1}e.prototype.postCreate=function(){var v=this;this.inherited(arguments);this.noBorder&&this.domNode.classList.add("overlay-steps--no-border");this.steps=this.stepConfigs.map(function(g,p){g=new h.default(g);
v.own((0,k.default)(g,"click",v.handleStepClick.bind(v)));return g});u.default.appendChildren(this.steps.map(function(g){return g.domNode}),this.domNode)};e.prototype.setActive=function(v){this.steps.forEach(function(g){g.stepNum<v?g.setPrevious():g.stepNum===v&&g.setActive()})};e.prototype.handleStepClick=function(v){this.steps.forEach(function(g){g.stepNum>v.stepNum&&g.clearState()});v.setActive();this.emit("step/click",v.stepNum)};return e=a.__decorate([(0,r.default)(m.default,f.default,b.default)],
e)}()})},"arcgisonline/pages/dijit/Overlay/OverlayStep":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/OverlayStep.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=
f.default;this.text="";this.stepNum=-1;this.previous=this.active=!1;this.ACTIVE_CLASS="overlay-steps__item--active";this.PREVIOUS_CLASS="overlay-steps__item--previous"}e.prototype.postCreate=function(){this.inherited(arguments);this.active&&this.setActive();this.addEventListeners()};e.prototype.clearState=function(){this.previous=this.active=!1;u.default.removeClasses(this.domNode,[this.PREVIOUS_CLASS,this.ACTIVE_CLASS])};e.prototype.setActive=function(){this.active=!0;this.domNode.classList.remove(this.PREVIOUS_CLASS);
this.domNode.classList.add(this.ACTIVE_CLASS)};e.prototype.setPrevious=function(){this.previous=!0;this.domNode.classList.add(this.PREVIOUS_CLASS);this.domNode.classList.remove(this.ACTIVE_CLASS)};e.prototype.addEventListeners=function(){this.own((0,k.default)(this.domNode,"click",this.handleClick.bind(this)))};e.prototype.handleClick=function(){this.previous&&this.emit("click",this)};return e=a.__decorate([(0,r.default)(h.default,m.default,b.default)],e)}()})},"arcgisonline/pages/dijit/Overlay/OverlayStepContent":function(){define("require exports tslib esri/Evented dojo/on dojo/string dojo/text!./templates/OverlayStepContent.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=m.default;this.i18n=h.default;this.icons=e.default;this.stepNum=-1;this.buttonText=this.titleTemplate="";this.previous=this.active=!1;this.ACTIVE_CLASS="overlay-step-content--active";this.PREVIOUS_CLASS="overlay-step-content--previous"}
g.prototype.postCreate=function(){this.inherited(arguments);this.active&&this.setActive();this.titleContainer.innerHTML=f.default.substitute(this.titleTemplate,{wrapStart:'\x3cspan class\x3d"overlay-step-content__stepper-num"\x3e',wrapEnd:"\x3c/span\x3e"});this.nextBtn=document.createElement("button");this.nextBtn.className="btn overlay-step-content__next-btn leader-1 full-width";this.nextBtn.textContent=this.buttonText;this.containerNode.appendChild(this.nextBtn);this.addEventListeners()};g.prototype.clearState=
function(){this.previous=this.active=!1;this.domNode.classList.remove(this.ACTIVE_CLASS);this.domNode.classList.remove(this.PREVIOUS_CLASS)};g.prototype.setActive=function(){this.active=!0;this.domNode.classList.add(this.ACTIVE_CLASS);this.domNode.classList.remove(this.PREVIOUS_CLASS)};g.prototype.setPrevious=function(){this.previous=!0;this.domNode.classList.remove(this.ACTIVE_CLASS);this.domNode.classList.add(this.PREVIOUS_CLASS)};g.prototype.addEventListeners=function(){var p=this;this.own((0,k.default)(this.nextBtn,
"click",function(){p.emit("step/next-click",p.stepNum)}),(0,k.default)(this.titleBtn,"click",function(){p.previous&&p.emit("step/click",p.stepNum)}))};return g=a.__decorate([(0,v.default)(r.default,u.default,b.default)],g)}()})},"arcgisonline/pages/dijit/SelectOptions":function(){define("require exports tslib esri/Evented dojo/on dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase dojox/uuid/generateRandomUuid arcgisonline/pages/utils/dom ./SelectOption/SelectOption arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString='\x3cdiv class\x3d"select-options flex"\x3e\x3c/div\x3e';this.i18n=f.default;this.id=null;this.vertical=this.rounded=!1;this.previousValue=""}g.prototype.postMixInProperties=function(){this.inherited(arguments);
this.id=this.id||(0,u.default)()};g.prototype.postCreate=function(){this.inherited(arguments);this.render()};g.prototype.value=function(){return this.selectedValue};g.prototype.select=function(p){this.handleSelect(p,!0)};g.prototype.revert=function(){this.handleSelect(this.previousValue,!0)};g.prototype.disable=function(){this.selectOptions.forEach(function(p){p.disable()})};g.prototype.enable=function(){this.selectOptions.forEach(function(p){p.enable()})};g.prototype.render=function(){var p=this;
this.vertical&&this.domNode.classList.add("select-options--vertical");this.selectOptions=this.options.map(function(n){var q=new e.default(a.__assign(a.__assign(a.__assign(a.__assign({},n),p.optionsClass&&{baseClass:p.optionsClass}),p.optionsLabelClass&&{labelClass:p.optionsLabelClass}),{vertical:p.vertical}));n.selected&&(p.selectedValue=n.value);p.own((0,k.default)(q,"select",p.handleSelect.bind(p)));return q});r.default.appendChildren(this.selectOptions.map(function(n){return n.domNode}),this.domNode);
this.rounded&&(this.domNode.classList.add("radio-group--rounded"),this.selectOptions.forEach(function(n){n.domNode.classList.add("margin-right-half")}))};g.prototype.handleSelect=function(p,n){this.selectOptions.forEach(function(q){q.value!==p?q.deselect():q.select()});this.previousValue=this.selectedValue;this.selectedValue=p;n||this.emit("change",this.selectedValue)};return g=a.__decorate([(0,v.default)(h.default,m.default,b.default)],g)}()})},"arcgisonline/pages/dijit/SelectOption/SelectOption":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./SelectOption.html dojo/text!./SelectOptionRadio.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=f.default;this.labelClass="";this.vertical=!1;this.inputId=""}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.vertical&&(this.templateString=m.default)};g.prototype.postCreate=function(){this.inherited(arguments);
this.render()};g.prototype.deselect=function(){this.selected=!1;this.radio.checked=!1;this.radio.removeAttribute("checked");this.domNode.classList.remove("select-option__radio-label--selected")};g.prototype.select=function(){this.selected=!0;this.radio.checked=!0;this.domNode.classList.add("select-option__radio-label--selected")};g.prototype.disable=function(){this.domNode.classList.add("select-option--disabled");this.radio.disabled=!0};g.prototype.enable=function(){this.domNode.classList.remove("select-option--disabled");
this.radio.disabled=!1};g.prototype.render=function(){this.selected&&this.select();this.icon&&(this.iconContainer.innerHTML=r.default[this.icon]["24"],e.default.showNode(this.iconContainer));this.inputId&&(this.radio.id=this.inputId,this.selectLabel.setAttribute("for",this.radio.id));this.addEventListeners()};g.prototype.addEventListeners=function(){this.own((0,k.default)(this.vertical?this.radio:this.selectLabel,"click",this.handleClick.bind(this)))};g.prototype.handleClick=function(p){this.vertical&&
this.domNode.classList.add("select-option__radio-label--selected");this.emit("select",this.value)};return g=a.__decorate([(0,v.default)(u.default,h.default,b.default)],g)}()})},"arcgisonline/pages/dijit/OverlayConfirm":function(){define("require exports tslib esri/Evented dojo/text!./Overlay/templates/OverlayConfirm.html dojo/i18n!../../nls/arcgisonline dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../utils/icons ../utils/focus ../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=k.default;this.i18n=f.default;this.icons=e.default;this.cancelText=this.confirmText="";this.isActions=!1;this.showActions=this.showClose=!0;this.cssClasses=
"";this.noMask=!1;this._confirmDfd=new m.default}n.prototype.postCreate=function(){this.inherited(arguments);this.domNode.removeAttribute("title");var q=".js-confirm-btn",l=".js-cancel-btn";this.isActions&&(q=".js-action-one",l=".js-action-two",g.default.hideNode(this._buttons),g.default.showNode(this._actions));this._confirmBtn=this.domNode.querySelector(q);this._cancelBtn=this.domNode.querySelector(l);g.default.showHide(this._closeBtn,this.showClose);this.showActions||(g.default.hideNode(this._buttons),
g.default.hideNode(this._actions));this.noMask&&this.domNode.classList.add("overlay-confirm--no-mask");this.iconKey&&(this.domNode.classList.add("overlay-confirm--has-icon"),this.icon.innerHTML=this.icons[this.iconKey]["16"]);this._render();this._addEventListeners()};n.prototype._render=function(){this._title.textContent=this.title;this._description.innerHTML=this.description;this._confirmBtn.textContent=this.confirmText;this._cancelBtn.textContent=this.cancelText};n.prototype._addEventListeners=
function(){this.own((0,r.default)(this._confirmBtn,this._confirmResolve.bind(this,"onOk")),(0,r.default)(this._cancelBtn,this._confirmResolve.bind(this,"onCancel")),(0,r.default)(this._closeBtn,this._confirmResolve.bind(this,"onClose")))};n.prototype._confirmResolve=function(q){var l=this;this._hide();setTimeout(function(){l._confirmDfd.resolve(q);l.destroy();l.emit("close")},300)};n.prototype._hide=function(){this.domNode.classList.remove("is-active")};n.prototype.show=function(){var q=this;window.getComputedStyle(this.domNode).opacity;
this.domNode.classList.add("is-active");setTimeout(function(){q.showClose?q._closeBtn.focus():q._cancelBtn.focus();v.default.trapFocus(q.domNode)},300);return this._confirmDfd};n.prototype.hide=function(){var q=this;this._hide();setTimeout(function(){q.destroy()},300)};return n=a.__decorate([(0,p.default)(u.default,h.default,b.default)],n)}()})},"arcgisonline/sharing/dijit/CopyToClipboard":function(){define("require exports tslib ../../pages/utils/icons ../../tsutils/declareDecorator dijit/_TemplatedMixin dijit/_WidgetBase dojo/text!./templates/CopyToClipboard.html dojo/i18n!../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=h.default;this.icons=b.default;this.i18n=u.default;this.tooltipModifier="";this.icon="copy-to-clipboard"}r.prototype.postMixInProperties=function(){this.inherited(arguments);this.copySupported=document.queryCommandSupported("copy")};r.prototype.postCreate=function(){this.copySupported||
(this.domNode.querySelector(".js-copy-group").classList.remove("input-group"),this.domNode.querySelector(".js-copy-tooltip").classList.add("hide"))};r.prototype.copy=function(e){var v;e=this.domNode.querySelector("#copy-to-clipboard-".concat(this.id));var g=this.domNode.querySelector(".js-copy-tooltip"),p=this.domNode.querySelector(".js-copy-alert");try{navigator.clipboard.writeText(e.value),g.setAttribute("aria-label",u.default.common.copiedLbl),p.innerHTML=u.default.common.copiedLbl,this.telemetry&&
this.telemetryPayload&&(null===(v=this.telemetry)||void 0===v?void 0:v.logEvent(this.telemetryPayload))}catch(n){}};r.prototype.reset=function(){this.domNode.querySelector(".js-copy-tooltip").setAttribute("aria-label",u.default.tocPanel.copy);this.domNode.querySelector(".js-copy-alert").innerHTML=""};r.prototype.updateText=function(e){this.copyInput.value=e};return r=a.__decorate([(0,k.default)(m.default,f.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/OpenIdConnectOverlay":function(){define("require exports tslib esri/Evented dojo/text!./templates/OpenIdConnectOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/topic arcgisonline/pages/dijit/Overlay arcgisonline/pages/dijit/OverlayConfirm arcgisonline/pages/utils/icons arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/dijit/SelectOptions arcgisonline/pages/dijit/ToggleSwitch ../../../components/OpenIdConnect/AuthOptions ../../../components/OpenIdConnect/KeySection ../../../components/OpenIdConnect/URLsSection ./ClientSecretInput arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/sharing/dijit/CopyToClipboard preact arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);
D=a.__importDefault(D);return function(){function C(E,H){this.i18n=f.default;this.texts=a.__assign(a.__assign(a.__assign({},m.default.common),m.default.securityTab.loginsSection.openIdConnect),m.default.securityTab.loginsSection.openIdConnect.overlay);this.title=this.texts.setupTitle;this.overlayContents=h.default.substitute(k.default,{i18n:this.texts,launchIcon:g.default["inline-end"].launch[16]});this.constrain=!0;this.background="white";this.maxWidth=900;this.closeOnScrimClick=!1;this.fieldsToValidate=
[];this.authMethod="authSecret";this.oidcUrlPath="".concat(y.default.restBaseUrl,"portals/self/oidc/")}C.prototype.postMixInProperties=function(){this.currentOIDC&&(this.title=this.texts.editTitle);this.inherited(arguments)};C.prototype.postCreate=function(){var E,H;this.inherited(arguments);var G="".concat(this.portal.helpBase).concat(this.portal.helpMap.m["120002624"]||"");this.domNode.querySelector(".js-details-learnmore").href=this.domNode.querySelector(".js-learn-more-claim-link").href=this.domNode.querySelector(".js-learnmore-link").href=
G;this.redirectSection=this.domNode.querySelector(".js-redirection-section");this.claimNameInput=this.domNode.querySelector(".js-claim-name-input");this.authMethod=(null===(H=null===(E=this.currentOIDC)||void 0===E?void 0:E.providerConfig)||void 0===H?0:H.publicKey)?"authKey":"authSecret"};C.prototype.open=function(){this.inherited(arguments);this.renderContent()};C.prototype.close=function(){this.inherited(arguments)};C.prototype.populateEdit=function(){var E=this,H=this.currentOIDC,G=H.signUpMode,
F=H.providerConfig,I=F.clientId,J=F.scopes,K=F.issuer,P=F.oauthUrl,T=F.tokenUrl,S=F.userProfileUrl,L=F.logoutUrl,N=F.jwksUrl,O=F.acceptsBearerAuthHeader,Q=F.pkceChallengeMethod,V=F.arcgisUsernameClaim;F=F.updateGroupsAtSignin;this.providerNameInput.setValue(H.name);this.joinOptionsSelect.select(G);this.clientIdInput.setValue(I);this.scopesInput.setValue(J);this.issuerInput.setValue(K);this.oauthInput.setValue(P);this.tokenInput.setValue(T);this.profileInput.setValue(S);this.logoutInput.setValue(L);
this.webKeyInput.setValue(N);this.acceptTokenToggle.setChecked(O);this.pkceToggle.setChecked("S256"===Q);this.enableGroupToggle.setChecked(F);this.claimNameInput.value=V||"";H=this.domNode.querySelector(".js-delete-btn");this._overlayActionBar.insertBefore(H,this._overlayActionBar.firstChild);n.default.showNode(H);this.own((0,u.default)(H,"click",function(){return E.handleDeleteClick()}))};C.prototype.handlePrimary=function(){this.isValid()&&(this.currentOIDC?this.do("update"):this.do("register"))};
C.prototype.isValid=function(){var E=!0;this.fieldsToValidate.forEach(function(H){H.validate()||(E=!1)});E&&"authSecret"===this.authMethod&&(this.clientSecretInput.validate()||(E=!1));return E};C.prototype.handleDeleteClick=function(){var E=this,H=this.texts,G=H.removeDisabled,F=H.removeWarning,I=H.removeConfirm,J=H.deleteLogin,K=H.yes;H=H.cancel;-1<this.portalUser.provider.toLowerCase().indexOf("oidc")?p.default.showAlert("error",G):(G=new v.default({title:J,description:"\x3cp\x3e".concat(F,"\x3c/p\x3e\x3cp\x3e").concat(I,
"\x3c/p\x3e"),confirmText:K,cancelText:H,cssClasses:"full-width text-constrain overlay-confirm-pane--error"}),this._overlay.insertBefore(G.domNode,this._overlay.firstChild),G.show().then(function(P){"onOk"===P&&E.do("unregister")}))};C.prototype.renderRedirectSection=function(){var E,H,G;null===(E=this.copyLoginUri)||void 0===E?void 0:E.destroy();this.copyLoginUri=void 0;null===(H=this.copyLogoutUri)||void 0===H?void 0:H.destroy();this.copyLogoutUri=void 0;if(this.currentOIDC){this.copyLoginUri=new A.default({id:"copy-login-redirect-uri",
text:this.currentOIDC.signinRedirectUri,label:m.default.securityTab.loginsSection.openIdConnect.loginRedirectUri});this.domNode.querySelector(".js-copy-login-uri").appendChild(this.copyLoginUri.domNode);E=this.domNode.querySelector(".js-copy-logout-uri");if(H=!!((null===(G=this.currentOIDC.providerConfig)||void 0===G?0:G.logoutUrl)&&this.currentOIDC.postSignoutRedirectUri))this.copyLogoutUri=new A.default({id:"copy-logout-redirect-uri",text:this.currentOIDC.postSignoutRedirectUri,label:m.default.securityTab.loginsSection.openIdConnect.logoutRedirectUri}),
E.appendChild(this.copyLogoutUri.domNode);n.default.showHide(E,H);n.default.showNode(this.redirectSection)}else n.default.hideNode(this.redirectSection)};C.prototype.do=function(E){var H=this,G=this.texts,F=G.success,I=G.errors;G="".concat(this.oidcUrlPath).concat("register"===E?"":"".concat(this.currentOIDC.id,"/")).concat(E);return x.default.request({url:G,content:this.getParams(E)},{usePost:!0}).then(function(){p.default.showAlert("success",F[E]);H.emit("change");r.default.publish("oidc/action",
E);H.close()},function(J){"unregister"===E&&"ORG_4035"===J.messageCode?p.default.showAlert("error",I.stillUsers):p.default.showAlert("error",I[E])})};C.prototype.getParams=function(E){var H,G;if("unregister"!==E)return E=a.__assign({name:this.providerNameInput.getValue(),signUpMode:this.joinOptionsSelect.value(),clientId:this.clientIdInput.getValue(),scopes:this.scopesInput.getValue(),issuer:this.issuerInput.getValue(),oauthUrl:this.oauthInput.getValue(),tokenUrl:this.tokenInput.getValue(),userProfileUrl:this.profileInput.getValue(),
logoutUrl:this.logoutInput.getValue(),jwksUrl:this.webKeyInput.getValue(),acceptsBearerAuthHeader:this.acceptTokenToggle.checked(),arcgisUsernameClaim:this.claimNameInput.value,pkceChallengeMethod:this.pkceToggle.checked()?"S256":"",updateGroupsAtSignin:this.enableGroupToggle.checked()},"update"===E&&{clearEmptyFields:!0}),"authSecret"===this.authMethod?(E.clientSecret=this.clientSecretInput.getValue(),E.removeKey=!0):"authKey"!==this.authMethod||null!==(G=null===(H=this.currentOIDC)||void 0===H?
void 0:H.providerConfig)&&void 0!==G&&G.publicKey||(E.generateNewKey=!0),E};C.prototype.renderAuthOptions=function(E,H){var G=this;(0,B.render)((0,B.h)(d.AuthOptions,{method:this.authMethod,onRender:function(F){G.clientSecretInput||(G.clientSecretInput=new z.default({labelText:E,type:"textarea",requiredMsg:H,rows:4},F),G.currentOIDC&&G.clientSecretInput.setValue(G.currentOIDC.providerConfig.clientSecret))},onChange:function(F){G.authMethod=F;G.renderAuthOptions(E,H)}}),this.domNode.querySelector(".js-auth-options"))};
C.prototype.renderContent=function(){var E=this,H=this.texts,G=H.auto,F=H.uponInvite,I=H.clientId,J=H.clientSecret,K=H.scopes,P=H.issuer,T=H.oauthUrl,S=H.tokenUrl,L=H.profileUrl,N=H.logoutUrl,O=H.webKeyUrl,Q=H.acceptToken,V=H.pkce,X=H.errors,Z=H.enableOIDCGroup;this.providerNameInput=this.createTextbox({labelText:H.providerName,requiredMsg:X.providerName},"js-provider-name");this.joinOptionsSelect=new l.default({id:"oidc-overlay-join-select",options:[{name:"joinOption",text:G,value:"automatic"},{name:"joinOption",
text:F,value:"invitation",selected:!0}]},this.domNode.querySelector(".js-join-select"));this.own(this.joinOptionsSelect.on("change",function(ca){return E.handleJoinOptionChange(ca)}));this.clientIdInput=this.createTextbox({labelText:I,requiredMsg:X.clientId},"js-client-id");this.renderAuthOptions(J,X.clientSecret);this.scopesInput=this.createTextbox({labelText:K,requiredMsg:X.scopes},"js-scopes");this.issuerInput=this.createTextbox({labelText:P,requiredMsg:X.issuer},"js-issuer");this.oauthInput=this.createTextbox({labelText:T,
type:"url",requiredMsg:X.oauthUrl},"js-oauth");this.tokenInput=this.createTextbox({labelText:S,type:"url",requiredMsg:X.tokenUrl},"js-token");this.profileInput=this.createTextbox({labelText:L,type:"url"},"js-profile");this.own(this.profileInput.on("input",function(){E.webKeyInput.validate()}));this.logoutInput=this.createTextbox({labelText:N,type:"url"},"js-logout");this.webKeyInput=this.createTextbox({labelText:O,type:"url",requiredMsg:function(ca){return E.profileInput.getValue()||ca?"":X.webKeyUrl}},
"js-web-key");this.acceptTokenToggle=new c.default({label:Q,labelPosition:"left",labelClasses:"trailer-1 oidc-overlay__toggle-switch",trackId:"oidc-accept-token-toggle"},this.domNode.querySelector(".js-accept-token-toggle"));this.pkceToggle=new c.default({label:V,labelPosition:"left",labelClasses:"trailer-1 oidc-overlay__toggle-switch",trackId:"oidc-pkce-toggle"},this.domNode.querySelector(".js-pkce-toggle"));this.enableGroupToggle=new c.default({label:Z,labelPosition:"left",labelClasses:"trailer-0 oidc-overlay__toggle-switch",
trackId:"oidc-enable-group-toggle"},this.domNode.querySelector(".js-enable-group-toggle"));this.fieldsToValidate=[this.providerNameInput,this.clientIdInput,this.scopesInput,this.issuerInput,this.oauthInput,this.tokenInput,this.webKeyInput];this.currentOIDC&&(this.populateEdit(),this.renderKeySection(),this.renderURLsSection(),n.default.showNode(this.domNode.querySelector(".js-details-section")),n.default.hideNode(this.domNode.querySelector(".js-register-description")))};C.prototype.renderKeySection=
function(){var E=this,H,G;null!==(G=null===(H=this.currentOIDC)||void 0===H?void 0:H.providerConfig)&&void 0!==G&&G.publicKey&&(H=JSON.parse(this.currentOIDC.providerConfig.publicKey).n,G="".concat(location.protocol,"//").concat(this.portal.portalHostname,"/sharing/rest/portals/").concat(this.currentOIDC.accountId,"/oidc/").concat(this.currentOIDC.id,"/jwks"),(0,B.render)((0,B.h)(w.KeySection,{publicKey:H,publicURL:G,onGenerate:function(){E.generateNewKey()}}),this.domNode.querySelector(".js-key-section")))};
C.prototype.generateNewKey=function(){return a.__awaiter(this,void 0,void 0,function(){var E,H,G;return a.__generator(this,function(F){switch(F.label){case 0:return F.trys.push([0,3,,4]),this.currentOIDC.providerConfig.publicKey=void 0,[4,x.default.request({url:"".concat(this.oidcUrlPath).concat(this.currentOIDC.id,"/update"),content:this.getParams("update")},{usePost:!0})];case 1:return F.sent(),[4,x.default.request({url:"".concat(this.oidcUrlPath).concat(this.currentOIDC.id,"/jwks")})];case 2:E=
F.sent();if(H=null===(G=E.keys)||void 0===G?void 0:G[0])this.currentOIDC.providerConfig.publicKey=JSON.stringify(H),this.renderKeySection();return[3,4];case 3:return F.sent(),[3,4];case 4:return[2]}})})};C.prototype.renderURLsSection=function(){(0,B.render)((0,B.h)(t.URLsSection,{loginURL:this.currentOIDC.signinRedirectUri,logoutURL:this.currentOIDC.postSignoutRedirectUri}),this.domNode.querySelector(".js-urls-section"))};C.prototype.createTextbox=function(E,H){return new q.default(E,this.domNode.querySelector(".".concat(H)))};
C.prototype.handleJoinOptionChange=function(E){var H=this,G=m.default.securityTab.enterpriseLogins.overlay.form.errors.mustHaveDefaultUserType;"automatic"!==E||this.defaultUserType&&"none"!==this.defaultUserType||(p.default.showAlert("error",G),setTimeout(function(){H.joinOptionsSelect.select("invitation")}))};return C=a.__decorate([(0,D.default)(e.default,b.default)],C)}()})},"arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation":function(){define("require exports tslib esri/Evented dojo/on dojo/debounce dojo/text!./TextboxWithValidation.html dojo/text!./UrlTextbox.html dojox/uuid/generateRandomUuid dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/pages/utils/formatters arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.type="text";this.labelClass=this.placeholder="";this.isValid=!0;this.inputId=this.labelDescription=this.labelText="";this.debounceDelay=0;this.hide=
p.default.hide}q.prototype.postMixInProperties=function(){this.inherited(arguments);this.uid=(0,u.default)();this.templateString="url"===this.type?h.default:m.default};q.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};q.prototype.validate=function(){if(!this.requiredMsg)return!0;var l=this.input.value.trim();if("string"===typeof this.requiredMsg){var c=this.requiredMsg;l=!!l}else c=this.requiredMsg(l),l=!c;l?g.default.clearState([this.input,this.errorMsg]):
g.default.setInvalidState(this.input,this.errorMsg,c);return this.isValid=l};q.prototype.clearError=function(){this.isValid=!0;g.default.clearState([this.input,this.errorMsg])};q.prototype.showError=function(l){this.isValid=!1;g.default.setInvalidState(this.input,this.errorMsg,l)};q.prototype.hideError=function(){this.isValid=!0;g.default.clearState([this.input,this.errorMsg])};q.prototype.getValue=function(){var l=this.input.value.trim();return"url"===this.type&&(null===l||void 0===l?0:l.length)&&
-1===(null===l||void 0===l?void 0:l.indexOf("https://"))?"https://".concat(l):l};q.prototype.setValue=function(l){l=null!==l&&void 0!==l?l:"";"url"===this.type&&-1<l.indexOf("https://")&&(l=l.replace("https://",""));this.input.value=l};q.prototype.focus=function(){this.input.focus()};q.prototype.render=function(){if("textarea"===this.type){var l=this.domNode.querySelector(".js-textarea");this.rows&&(l.rows=this.rows);this.input=l}else this.input=this.domNode.querySelector(".js-text-input");this.placeholder&&
(this.input.placeholder=this.placeholder);v.default.showNode(this.input);this.maxLength&&(this.input.maxLength=this.maxLength);this.input.id=this.inputId||this.uid;this.domNode.setAttribute("for",this.input.id)};q.prototype.addEventListeners=function(){var l=this;this.own((0,k.default)(this.input,"input",(0,f.default)(function(c){l.handleInput(c)},this.debounceDelay)))};q.prototype.handleInput=function(l){this.validate();this.emit("input")};return q=a.__decorate([(0,n.default)(e.default,r.default,
b.default)],q)}()})},"arcgisonline/pages/components/OpenIdConnect/AuthOptions":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});M.AuthOptions=void 0;f=a.__importDefault(f);M.AuthOptions=function(m){var h=m.method,u=m.onRender,r=m.onChange;m=a.__assign({},f.default.securityTab.loginsSection.openIdConnect.overlay);var e=(0,k.useRef)(null);(0,k.useEffect)(function(){e.current&&
u(e.current)},[e.current]);return(0,b.h)("div",null,(0,b.h)("div",{class:"radio-tile-option ".concat("authSecret"===h?"radio-tile-option--checked":""),onClick:function(){r("authSecret")}},(0,b.h)("calcite-label",{layout:"inline"},(0,b.h)("calcite-radio-button",{class:"margin-right-quarter",value:"authSecret",checked:"authSecret"===h}),(0,b.h)("span",{class:"screen-readers-only"},m.authMethod)," ",m.authSecret),(0,b.h)("div",{class:"radio-tile-option__content"},(0,b.h)("div",{ref:e}))),(0,b.h)("div",
{class:"radio-tile-option ".concat("authKey"===h?"radio-tile-option--checked":""),onClick:function(){r("authKey")}},(0,b.h)("calcite-label",{layout:"inline"},(0,b.h)("calcite-radio-button",{class:"margin-right-quarter",value:"authKey",checked:"authKey"===h}),(0,b.h)("span",{class:"screen-readers-only"},m.authMethod)," ",m.authKey)))}})},"arcgisonline/pages/components/OpenIdConnect/KeySection":function(){define("require exports tslib preact preact/hooks preact/compat ../CopyInput dojo/i18n!../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});M.KeySection=void 0;h=a.__importDefault(h);M.KeySection=function(u){var r=u.publicKey,e=u.publicURL,v=u.onGenerate;u=a.__assign(a.__assign({},h.default.common),h.default.securityTab.loginsSection.openIdConnect);var g=(0,k.useState)(!1),p=g[0],n=g[1];return(0,b.h)("div",{class:"oidc-section"},(0,b.h)("div",{class:"oidc-section-title"},u.overlay.authKey),(0,b.h)("p",{class:"font-size--2"},u.overlay.authKeyDescription),(0,b.h)("div",
{class:"trailer-1"},(0,b.h)(m.CopyInput,{isTextArea:!0,id:"public-key",label:u.publicKey,value:r})),(0,b.h)("div",{class:"trailer-1"},(0,b.h)(m.CopyInput,{id:"public-key-uri",label:u.publicKeyURL,value:e})),(0,b.h)("calcite-button",{"icon-start":"refresh",appearance:"transparent",onClick:function(){n(!0)}},u.generateNewKeyPair),(0,f.createPortal)((0,b.h)("calcite-modal",{kind:"danger",open:p,oncalciteModalClose:function(){n(!1)}},(0,b.h)("div",{slot:"header"},u.confirmGenerateHeading),(0,b.h)("div",
{slot:"content"},(0,b.h)("p",null,u.confirmGenerateDescription.invalidate),(0,b.h)("p",null,u.confirmGenerateDescription.idp),(0,b.h)("p",{class:"trailer-0"},u.confirmGenerateDescription.sure)),(0,b.h)("calcite-button",{appearance:"outline",kind:"danger",slot:"secondary",onClick:function(){n(!1)}},u.cancel),(0,b.h)("calcite-button",{kind:"danger",slot:"primary",onClick:function(){n(!1);v()}},u.generate)),document.body))}})},"arcgisonline/pages/components/CopyInput":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});M.CopyInput=void 0;f=a.__importDefault(f);M.CopyInput=function(m){function h(){var t=g?n.current:p.current;try{t.select(),document.execCommand("copy"),t.blur(),c(f.default.common.copiedLbl),w(f.default.common.copiedLbl)}catch(z){}}function u(){c(f.default.tocPanel.copy);w("")}var r=m.id,e=m.label,v=m.value,g=m.isTextArea;m="copy-input-".concat(r);r="copy-button-".concat(r);var p=(0,k.useRef)(null),n=(0,k.useRef)(null),q=(0,k.useState)(f.default.tocPanel.copy),
l=q[0],c=q[1];q=(0,k.useState)("");var d=q[0],w=q[1];return(0,b.h)("div",null,g?(0,b.h)("div",null,(0,b.h)("div",{class:"flex"},(0,b.h)("label",{for:m,class:"trailer-0 flex-1"},e),(0,b.h)("calcite-button",{id:r,appearance:"outline",iconStart:"copy-to-clipboard",onClick:h,onMouseLeave:u},l)),(0,b.h)("textarea",{ref:n,id:m,rows:6,readonly:!0},v)):(0,b.h)("div",null,(0,b.h)("label",{for:m,class:"trailer-quarter"},e),(0,b.h)("div",{class:"flex"},(0,b.h)("input",{class:"input-group-input copy-to-clipboard-input",
type:"text",value:v,id:m,ref:p,readonly:!0}),(0,b.h)("calcite-button",{id:r,appearance:"outline",iconStart:"copy-to-clipboard",onClick:h,onMouseLeave:u},l))),(0,b.h)("p",{role:"alert","aria-live":"polite",class:"screen-readers-only"},d))}})},"arcgisonline/pages/components/OpenIdConnect/URLsSection":function(){define("require exports tslib preact ../CopyInput dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});M.URLsSection=void 0;
f=a.__importDefault(f);M.URLsSection=function(m){var h=m.loginURL;m=m.logoutURL;var u=a.__assign({},f.default.securityTab.loginsSection.openIdConnect);return(0,b.h)("div",{class:"oidc-section"},(0,b.h)("div",{class:"oidc-section-title trailer-half"},u.urls),h&&(0,b.h)("div",{class:"trailer-1"},(0,b.h)(k.CopyInput,{id:"login-redirect-url",label:u.loginURL,value:h})),m&&(0,b.h)("div",null,(0,b.h)(k.CopyInput,{id:"logout-redirect-url",label:u.logoutURL,value:m})))}})},"arcgisonline/pages/organization/widgets/settings/ClientSecretInput":function(){define("require exports tslib dojo/on dojo/text!./templates/ClientSecretInput.html dojo/i18n!../../../../nls/org-settings arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.i18n=a.__assign({},f.default.securityTab.loginsSection.openIdConnect.overlay);this.actualValue="";this.stillHidden=!1;this.hiddenValueClass="client-secret-input__textarea--hidden"}r.prototype.postMixInProperties=function(){this.inherited(arguments);this.templateString=k.default};r.prototype.postCreate=
function(){this.inherited(arguments)};r.prototype.getValue=function(){return this.actualValue};r.prototype.setValue=function(e){this.input.value=null!==e&&void 0!==e?e:"";h.default.showNode(this.toggleSecretBtn);this.hideSecret()};r.prototype.handleInput=function(e){var v,g;e=null!==(g=null===(v=e.target)||void 0===v?void 0:v.value)&&void 0!==g?g:"";this.stillHidden&&(this.input.value=e.replace(/\*/g,""));this.actualValue=this.input.value.trim();this.showSecret();h.default.hideNode(this.toggleSecretBtn);
this.validate()};r.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,b.default)(this.toggleSecretBtn,"click",this.toggleSecret.bind(this)))};r.prototype.hideSecret=function(){this.stillHidden=!0;for(var e=this.input.value.trim(),v="",g=0;g<e.length;g++)v+="*";this.input.value=v;this.input.classList.add(this.hiddenValueClass);this.actualValue=e;this.stillHidden=!0;this.toggleSecretBtn.textContent=this.i18n.showSecret};r.prototype.showSecret=function(){this.stillHidden=!1;
this.input.classList.remove(this.hiddenValueClass);this.input.value=this.actualValue;this.toggleSecretBtn.textContent=this.i18n.hideSecret};r.prototype.toggleSecret=function(){this.stillHidden?this.showSecret():this.hideSecret()};return r=a.__decorate([(0,u.default)(m.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/cards/PasswordPolicyCard":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../pageUtil ../../../../utils/alerts ../../../../utils/dom ../PasswordPolicyOverlay ../rows/LockoutSettingsRow ./SettingsCard ../../../../../sharing/util ../../../../../tsutils/declareDecorator dijit/a11yclick dojo/string dojo/dom-construct dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings dojo/topic".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.defaultSecurityPolicy={passwordPolicy:{minDigit:1,minLength:8,minLetter:1,
minUpper:void 0,minLower:void 0,minOther:void 0,type:"default"}};this.DEFAULT_POLICY="default";this.CUSTOM_POLICY="custom"}d.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),q.default.common),l.default.securityTab.passwordPolicy);this.i18n.keywords=l.default.keywords;this.inherited(arguments)};d.prototype.postCreate=function(){this.refreshPolicy();this.inherited(arguments)};d.prototype.render=function(){var w=this.portal.isPortal;this._title.textContent=
this.name;this._description.textContent=w?this.i18n.descriptionPortal:this.description;this._title.insertAdjacentHTML("afterend",'\x3cdiv class\x3d"avenir-demi org-settings__card-desc leader-half"\x3e'.concat(this.i18n.passwordSubtitle,"\x3c/div\x3e"));this.initUI(w);this.lockoutSettingsRow=new u.default({label:this.i18n.lockoutSubtitle,description:w?this.i18n.lockoutDescPortal:this.i18n.lockoutDesc,portal:this.portal,tab:"security",keywords:[]});this.rows=[this.lockoutSettingsRow];this.inherited(arguments);
this.updatePolicyDisplay(this.securityPolicy)};d.prototype.addEventListeners=function(){this.own((0,g.default)(this.manageButton,this.onManageClick.bind(this)),(0,g.default)(this.removeButton,this.onRemoveClick.bind(this)),c.default.subscribe("password-policy-change",this.refreshPolicy.bind(this)),c.default.subscribe("lockout-settings/refresh",this.refreshLockoutSettings.bind(this)));this.inherited(arguments)};d.prototype.initUI=function(w){var t=n.default.create("div",{class:"org-settings__card-row"},
this._content),z=n.default.create("div",null,t);this.manageButton=n.default.create("button",{class:"btn btn-clear calcite-web-btn-clear",innerHTML:this.i18n.managePolicy},z,"first");this.removeButton=n.default.create("button",{class:"btn btn-clear calcite-web-btn-clear btn-red margin-left-half hide",innerHTML:w?this.i18n.useDefaultPolicyPortal:this.i18n.useDefaultPolicy},z,"last");this.policyDisplay=n.default.create("div",{class:"leader-1"},t);n.default.create("div",{class:"avenir-demi",textContent:this.i18n.passwordMust},
this.policyDisplay);this.policyDetails=n.default.create("ul",{class:"leader-1 list-plain"},this.policyDisplay)};d.prototype.assumeDefaultPolicy=function(){this.securityPolicy=this.defaultSecurityPolicy;m.default.hideNode(this.removeButton)};d.prototype.fetchSecurityPolicy=function(){return e.default.request({url:e.default.getSecureUrl(b.default.restBaseUrl)+"portals/self/securityPolicy"})};d.prototype.escapeQuotes=function(w){return w.replace("'","\x26#39;").replace('"',"\x26quot;")};d.prototype.updatePolicyDisplay=
function(w){this.policyDetails.innerHTML="";if(w&&this.policyDisplay){m.default.showNode(this.policyDisplay);w=w.passwordPolicy;w.minLength&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:p.default.substitute(this.i18n.containNumChars,{num:w.minLength})},this.policyDetails);w.minLetter&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:this.i18n.containLetter},this.policyDetails);w.minUpper&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:this.i18n.containUppercase},
this.policyDetails);w.minLower&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:this.i18n.containLowercase},this.policyDetails);w.minDigit&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:this.i18n.containNumber},this.policyDetails);if(w.minOther){var t=this.escapeQuotes(this.i18n.specialCharsTooltip);t='\x3cspan class\x3d"tooltip org-settings__tooltip" aria-label\x3d"'.concat(t,'"\x3e');n.default.create("li",{class:"font-size-0 trailer-1",innerHTML:p.default.substitute(this.i18n.containSpecial,
{startSpan:t,endSpan:"\x3cspan\x3e"})},this.policyDetails)}w.expirationInDays&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:p.default.substitute(this.i18n.expirationInDays,{num:w.expirationInDays})},this.policyDetails);w.historySize&&n.default.create("li",{class:"font-size-0 trailer-1",textContent:p.default.substitute(this.i18n.noReuse,{num:w.historySize})},this.policyDetails)}else this.policyDisplay&&m.default.hideNode(this.policyDisplay);this.renderLockoutSettings()};d.prototype.refreshPolicy=
function(){var w=this;this.disableButtons(!0);this.fetchSecurityPolicy().then(function(t){w.disableButtons(!1);t.code||t.messageCode?w.assumeDefaultPolicy():(w.securityPolicy=t,w.securityPolicy&&(t=w.securityPolicy.passwordPolicy)&&t.type===w.DEFAULT_POLICY&&m.default.hideNode(w.removeButton));w.updatePolicyDisplay(w.securityPolicy)},function(){w.disableButtons(!1);w.assumeDefaultPolicy();w.updatePolicyDisplay(w.securityPolicy)})};d.prototype.refreshLockoutSettings=function(){return a.__awaiter(this,
void 0,void 0,function(){var w;return a.__generator(this,function(t){switch(t.label){case 0:return w=this,[4,this.fetchSecurityPolicy()];case 1:return w.securityPolicy=t.sent(),this.renderLockoutSettings(),[2]}})})};d.prototype.renderLockoutSettings=function(){var w,t,z=null===(w=this.securityPolicy)||void 0===w?void 0:w.lockoutLoginPolicy;z||(z={lockoutPeriodInSeconds:900,maxInvalidAttempt:5});null===(t=this.lockoutSettingsRow)||void 0===t?void 0:t.updateLockoutPolicy(z)};d.prototype.resetSecurityPolicy=
function(){var w=this;this.disableButtons(!0);this.securityPolicy&&e.default.request({url:e.default.getSecureUrl(b.default.restBaseUrl)+"/portals/self/securitypolicy/reset"},{usePost:!0}).then(function(t){w.disableButtons(!0);!t||t.code||t.message?f.default.showAlert("error",w.i18n.deletePolicyError):(f.default.showAlert("success",w.i18n.policyReset),c.default.publish("password-policy-change"))},function(){w.disableButtons(!0);f.default.showAlert("error",w.i18n.deletePolicyError)})};d.prototype.disableButtons=
function(w){m.default.disableNodes([this.manageButton,this.removeButton],w)};d.prototype.onManageClick=function(){(new h.default({portal:this.portal,opener:this.manageButton,closeOnScrimClick:!1,telemetry:this.telemetry})).open()};d.prototype.onRemoveClick=function(){var w=this,t="\x3cp\x3e".concat(this.i18n.removePolicy,"\x3c/p\x3e\x3cp\x3e").concat(this.i18n.proceedMsg,"\x3c/p\x3e");k.default.createConfirmationDialog({strings:{title:this.i18n.useDefaultPolicy,description:t,ok:this.i18n.yesLabel,
cancel:this.i18n.cancel},renderHtmlDescription:!0,autoCloseOnOk:!0,onOk:function(){w.resetSecurityPolicy()}})};return d=a.__decorate([(0,v.default)(r.default)],d)}()})},"arcgisonline/pages/organization/widgets/settings/PasswordPolicyOverlay":function(){define("require exports tslib dojo/text!./templates/PasswordPolicyOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/dijit/Overlay arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);var t;(function(z){z.Default="default";z.Custom="custom"})(t||
(t={}));return function(){function z(x,y){this.title=f.default.securityTab.passwordPolicy.manageOverlay.name;this.i18n=k.default;this.overlayContents=m.default.substitute(b.default,{i18n:f.default.securityTab.passwordPolicy.manageOverlay});this.constrain=!0;this.maxWidth=750;this.DEFAULT_EXPIRATION_DAYS="90";this.DEFAULT_HISTORY_SIZE="5"}z.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n.overlay=f.default.securityTab.passwordPolicy.manageOverlay};z.prototype.open=function(){var x=
this;this.inherited(arguments);this.minLengthInput=this.domNode.querySelector(".js-min-length");this.minLengthError=this.domNode.querySelector(".js-min-length-error");this.expiresDaysInput=this.domNode.querySelector(".js-expiration-days");this.expirationError=this.domNode.querySelector(".js-exp-days-error");this.historySizeInput=this.domNode.querySelector(".js-history-size");this.historySizeError=this.domNode.querySelector(".js-history-size-error");this.useDefaultsBtn=this.domNode.querySelector(".js-use-defaults-btn");
this.useDefaultsBtn.textContent=this.i18n.overlay[this.portal.isPortal?"useDefaultsPortal":"useDefaults"];this.domNode.classList.add("password-policy-overlay");this.overlayTitle.classList.add("margin-left-1");this._overlayActionBar.insertBefore(this.useDefaultsBtn,this._overlayActionBar.firstChild);this.minLengthToggle=new v.default({labelClasses:"trailer-0",disabled:!0},this.domNode.querySelector(".js-num-chars-toggle"));this.letterToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-letter-toggle"));
this.upperToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-upper-toggle"));this.lowerToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-lower-toggle"));this.numberToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-number-toggle"));this.specialToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-special-toggle"));this.expiresToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-expires-toggle"));
this.historySizeToggle=new v.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-reuse-toggle"));this.addListeners();this.getPolicy().then(function(y){if(y&&!y.code){var A=y.passwordPolicy;y=A.minLength;var B=A.minLetter,D=A.minUpper,C=A.minLower,E=A.minDigit,H=A.minOther,G=A.expirationInDays;A=A.historySize;y&&(x.minLengthToggle.check(),x.minLengthInput.value="".concat(y));B&&x.letterToggle.check();D?(x.letterToggle.check(),x.upperToggle.check()):B||x.upperToggle.disable();C?(x.letterToggle.check(),
x.lowerToggle.check()):B||x.lowerToggle.disable();E&&x.numberToggle.check();H&&x.specialToggle.check();G?(x.expiresToggle.check(),x.expiresDaysInput.value=G):(x.expiresToggle.uncheck(),x.expiresDaysInput.value=x.DEFAULT_EXPIRATION_DAYS,x.expiresDaysInput.disabled=!0);A?(x.historySizeToggle.check(),x.historySizeInput.value=A):(x.historySizeToggle.uncheck(),x.historySizeInput.value=x.DEFAULT_HISTORY_SIZE,x.historySizeInput.disabled=!0)}})};z.prototype.close=function(){this.inherited(arguments)};z.prototype.handleCancel=
function(){var x;null===(x=this.telemetry)||void 0===x?void 0:x.logEvent({category:"security",label:"securityPolicy",action:"Cancel"});this.inherited(arguments)};z.prototype.handlePrimary=function(){var x=this;if(this.validate()){var y={minLength:this.minLengthInput.value.trim()};this.letterToggle.checked()&&(y.minLetter="1");this.upperToggle.checked()&&(y.minUpper="1");this.lowerToggle.checked()&&(y.minLower="1");this.numberToggle.checked()&&(y.minDigit="1");this.specialToggle.checked()&&(y.minOther=
"1");this.expiresToggle.checked()&&(y.expirationInDays=this.expiresDaysInput.value.trim());this.historySizeToggle.checked()&&(y.historySize=this.historySizeInput.value.trim());this._primaryBtn.disabled=!0;this.showLoader(this.i18n.overlay.updating);c.default.request({url:"".concat(this.policyUrl(),"/update"),content:y},{usePost:!0}).then(function(A){var B,D;x.hideLoader();!A||A.code||A.messageCode?(null===(D=x.telemetry)||void 0===D?void 0:D.logError({error:A}),x._primaryBtn.disabled=!1,n.default.showAlert("error",
x.i18n.overlay.errors.update)):(null===(B=x.telemetry)||void 0===B?void 0:B.logEvent({category:"security",label:"securityPolicy",action:"Save"}),x._primaryBtn.disabled=!1,n.default.showAlert("success",x.i18n.overlay.success),u.default.publish("password-policy-change",[]),x.close())},function(A){var B;null===(B=x.telemetry)||void 0===B?void 0:B.logError({error:A});x.hideLoader();x._primaryBtn.disabled=!1;n.default.showAlert("error",x.i18n.overlay.errors.update)})}};z.prototype.addListeners=function(){this.own((0,h.default)(this.minLengthInput,
"input",this.validateMinLength.bind(this)),(0,h.default)(this.expiresDaysInput,"input",this.validateExpiration.bind(this)),(0,h.default)(this.historySizeInput,"input",this.validateHistorySize.bind(this)),(0,h.default)(this.expiresToggle,"change",this.handleExpiresToggle.bind(this)),(0,h.default)(this.historySizeToggle,"change",this.handleHistorySizeToggle.bind(this)),(0,h.default)(this.useDefaultsBtn,"click",this.handleUseDefaultsClick.bind(this)))};z.prototype.handleUseDefaultsClick=function(){var x=
this,y=f.default.common,A=y.yes;y=y.cancel;var B=f.default.securityTab.passwordPolicy,D=B.proceedMsg;p.default.createConfirmationDialog({strings:{title:B.useDefaultPolicy,description:"\x3cp\x3e".concat(B.removePolicy,"\x3c/p\x3e\x3cp\x3e").concat(D,"\x3c/p\x3e"),ok:A,cancel:y},renderHtmlDescription:!0,autoCloseOnOk:!0,onOk:function(){x.resetPolicy()}})};z.prototype.handleExpiresToggle=function(){this.expiresDaysInput.disabled=!this.expiresToggle.checked()};z.prototype.handleHistorySizeToggle=function(){this.historySizeInput.disabled=
!this.historySizeToggle.checked()};z.prototype.policyUrl=function(){return"".concat(c.default.getSecureUrl(d.default.restBaseUrl),"portals/self/securitypolicy")};z.prototype.getPolicy=function(){var x=this;return c.default.request({url:this.policyUrl()}).then(function(y){y&&y.code?(n.default.showAlert("error",x.i18n.overlay.errors.get),q.default.hideNode(x.useDefaultsBtn)):y.passwordPolicy&&y.passwordPolicy.type===t.Default&&q.default.hideNode(x.useDefaultsBtn);return y},function(){n.default.showAlert("error",
x.i18n.overlay.get);q.default.hideNode(x.useDefaultsBtn)})};z.prototype.resetPolicy=function(){var x=this,y=f.default.securityTab.passwordPolicy,A=y.policyReset,B=y.deletePolicyError;this.showLoader(this.i18n.overlay.reverting);return c.default.request({url:"".concat(this.policyUrl(),"/reset")},{usePost:!0}).then(function(D){x.hideLoader();!D||D.code||D.messageCode?n.default.showAlert("error",B):(n.default.showAlert("success",A),u.default.publish("password-policy-change"),x.close())},function(){x.hideLoader();
n.default.showAlert("error",B)})};z.prototype.validateMinLength=function(){var x=this.i18n.overlay.errors,y=x.minLength;x=x.maxLength;var A=!0;if(this.minLengthToggle.checked())try{var B=this.minLengthInput.value.trim(),D=parseInt(B,10);!/^[0-9]+$/gi.test(B)||8>D?(l.default.setInvalidState(this.minLengthInput,this.minLengthError,y),A=!1):1E3<D?(l.default.setInvalidState(this.minLengthInput,this.minLengthError,x),A=!1):isNaN(D)?(l.default.setInvalidState(this.minLengthInput,this.minLengthError,y),
A=!1):l.default.clearState([this.minLengthInput,this.minLengthError])}catch(C){l.default.setInvalidState(this.minLengthInput,this.minLengthError,y),A=!1}return A};z.prototype.validateExpiration=function(){var x=this.i18n.overlay.errors.validExpiration,y=!0;if(this.expiresToggle.checked())try{var A=this.expiresDaysInput.value.trim(),B=parseInt(A,10);!/^[0-9]+$/gi.test(A)||isNaN(B)||1>B||1095<B?(y=!1,l.default.setInvalidState(this.expiresDaysInput,this.expirationError,x)):l.default.clearState([this.expiresDaysInput,
this.expirationError])}catch(D){y=!1,l.default.setInvalidState(this.expiresDaysInput,this.expirationError,x)}return y};z.prototype.validateHistorySize=function(){var x=!0,y=this.i18n.overlay.errors.validHistory;if(this.historySizeToggle.checked())try{var A=this.historySizeInput.value.trim(),B=parseInt(A,10);!/^[0-9]+$/gi.test(A)||isNaN(B)||1>B||24<B?(x=!1,l.default.setInvalidState(this.historySizeInput,this.historySizeError,y)):l.default.clearState([this.historySizeInput,this.historySizeError])}catch(D){x=
!1,l.default.setInvalidState(this.historySizeInput,this.historySizeError,y)}return x};z.prototype.validate=function(){return this.validateMinLength()&&this.validateExpiration()&&this.validateHistorySize()};return z=a.__decorate([(0,w.default)(e.default,r.default,g.default)],z)}()})},"arcgisonline/pages/organization/widgets/settings/rows/LockoutSettingsRow":function(){define("require exports tslib preact dojo/text!./templates/LockoutSettingsRow.html ./SettingsRow ../../../../components/LockoutSettings/LockoutSettings ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.templateString=k.default}u.prototype.render=function(){this.disableEditPopup=!0};u.prototype.updateLockoutPolicy=function(r){(0,b.render)((0,b.h)(m.default,{lockoutPolicy:r}),this.contentContainer)};return u=a.__decorate([(0,h.default)(f.default)],u)}()})},"arcgisonline/pages/components/LockoutSettings/LockoutSettings":function(){define("require exports tslib preact preact/hooks ./ManageLockout ../../utils/number dojo/i18n!../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);h=a.__importDefault(h);M.default=function(u){u=u.lockoutPolicy;var r=a.__assign({},h.default.securityTab.passwordPolicy),e=(0,k.useState)(!1),v=e[0],g=e[1];return(0,b.h)("div",null,(0,b.h)("button",{class:"btn btn-clear trailer-1",onClick:function(){g(!0)}},r.manageLockout),(0,b.h)("p",{class:"avenir-demi"},r.currentLockout),(0,b.h)("p",null,r.failedAttempts," ",u.maxInvalidAttempt),(0,b.h)("p",null,
r.lockoutDuration," ",(0,m.format)(u.lockoutPeriodInSeconds/60)),(0,b.h)(f.default,{open:v,lockoutPolicy:u,onClose:function(){g(!1)}}))}})},"arcgisonline/pages/components/LockoutSettings/ManageLockout":function(){define("require exports tslib preact preact/hooks preact/compat ../../utils/alerts ../../utils/a11y ./api ./ManageLockoutSetting ../../../telemetry dojo/i18n!../../../nls/org-settings dojo/topic esri/lang xstyle/css!./ManageLockout.css".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){Object.defineProperty(M,
"__esModule",{value:!0});m=a.__importDefault(m);h=a.__importDefault(h);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);var n={min:2,max:5},q={min:15,max:240};M.default=function(l){function c(){A("".concat(t.maxInvalidAttempt));D("".concat(t.lockoutPeriodInSeconds/60));E(!1);G(!1)}function d(){z();c()}var w=l.open,t=l.lockoutPolicy,z=l.onClose,x=a.__assign(a.__assign({},v.default.common),v.default.securityTab.passwordPolicy);(0,k.useEffect)(function(){A("".concat(t.maxInvalidAttempt));
D("".concat(t.lockoutPeriodInSeconds/60))},[t]);l=(0,k.useState)("".concat(t.maxInvalidAttempt));var y=l[0],A=l[1];l=(0,k.useState)("".concat(t.lockoutPeriodInSeconds/60));var B=l[0],D=l[1],C=(0,k.useState)(!1);l=C[0];var E=C[1];C=(0,k.useState)(!1);var H=C[0],G=C[1],F=e.default.init({},!0);return(0,b.h)(b.Fragment,null,(0,f.createPortal)((0,b.h)("calcite-modal",{role:"dialog","aria-modal":"true","aria-labelledby":"manage-lockout-modal-title",outsideCloseDisabled:!0,oncalciteModalClose:d,oncalciteModalOpen:function(I){setTimeout(function(){I.target.setFocus()},
0)},open:w,style:{"--calcite-modal-width":"430px"}},(0,b.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"manage-lockout-modal-title"},x.manageLockout),(0,b.h)("div",{class:"manage-lockout__content",slot:"content"},(0,b.h)(r.default,{inputId:"failed-attempts-input",label:x.failedAttempts,errorMessage:x.failedRangeError,value:y,valueRange:p.default.substitute(n,x.numberRange),defaultValue:n.max,min:n.min,max:n.max,isInvalid:l,onChange:function(I){A(I)}}),(0,b.h)(r.default,{inputId:"lockout-duration-input",
label:x.lockoutDuration,errorMessage:x.lockoutRangeError,value:B,valueRange:p.default.substitute(q,x.numberRange),defaultValue:q.min,min:q.min,max:q.max,step:15,isInvalid:H,onChange:function(I){D(I)}}),(0,b.h)("button",{class:"btn-link flex flex-align-center trailer-1",onClick:function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(I){A("5");D("15");h.default.postToLiveRegion(x.restoreLockout.success);return[2]})})}},(0,b.h)("calcite-icon",{icon:"refresh",class:"margin-right-half"}),
x.restoreDefaults)),(0,b.h)("calcite-button",{slot:"secondary",appearance:"outline",width:"full",onClick:d},x.cancel),(0,b.h)("calcite-button",{slot:"primary",appearance:"solid",width:"full",disabled:l||H,onClick:function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(I){switch(I.label){case 0:z(),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,(0,u.updateLockoutSettings)({maxInvalidAttempt:+y,lockoutPeriodInSeconds:60*+B})];case 2:return I.sent(),null===F||
void 0===F?void 0:F.logEvent({category:"security",label:"lockout settings",action:"save",number:+B,count:+y}),m.default.showAlert("success",x.updateLockout.success),g.default.publish("lockout-settings/refresh"),[3,4];case 3:return I.sent(),m.default.showAlert("error",x.updateLockout.error),c(),[3,4];case 4:return[2]}})})}},x.save)),document.body))}})},"arcgisonline/pages/components/LockoutSettings/api":function(){define(["require","exports","tslib","../../../sharing/util","../../../esriGeowConfig"],
function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});M.updateLockoutSettings=M.resetLockoutSettings=void 0;b=a.__importDefault(b);k=a.__importDefault(k);var f="".concat(k.default.restBaseUrl,"portals/self/securityPolicy/lockoutLoginPolicy");M.resetLockoutSettings=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(m){return[2,b.default.request({url:"".concat(f,"/reset")},{usePost:!0})]})})};M.updateLockoutSettings=function(m){return a.__awaiter(this,
arguments,void 0,function(h){var u=h.maxInvalidAttempt,r=h.lockoutPeriodInSeconds;return a.__generator(this,function(e){return[2,b.default.request({url:"".concat(f,"/update"),content:{maxInvalidAttempt:u,lockoutPeriodInSeconds:r}},{usePost:!0})]})})}})},"arcgisonline/pages/components/LockoutSettings/ManageLockoutSetting":function(){define(["require","exports","preact","preact/hooks"],function(U,M,a,b){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(k){var f=k.inputId,m=k.label,
h=k.errorMessage,u=k.value,r=k.valueRange,e=k.defaultValue,v=k.max,g=k.min,p=k.isInvalid,n=k.step,q=k.onChange,l=(0,b.useRef)(null);return(0,a.h)(a.Fragment,null,(0,a.h)("calcite-label",{layout:"inline-space-between"},(0,a.h)("div",null,m,(0,a.h)("p",{class:"font-size--2 trailer-0"},r)),(0,a.h)("calcite-input",{ref:l,type:"number",class:"manage-lockout__input",id:f,value:u,step:n,min:g,max:v,status:p?"invalid":"idle",oncalciteInputChange:function(c){c=c.target.value;l.current.value="".concat(isNaN(+c)?
e:+c<g?g:+c>v?v:c);q(l.current.value)}})),(0,a.h)("div",null,(0,a.h)("p",{class:"trailer-0 input-error-message manage-lockout__error-message".concat(p?" is-active":"")},h)))}})},"arcgisonline/pages/organization/widgets/settings/cards/InfoBannerCard":function(){define("require exports tslib dojo/topic ./SettingsCard arcgisonline/sharing/dijit/dialog/ClassificationBannerDlg ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);return function(){function h(u,r){}h.prototype.render=function(){var u=this.settings.informationalBanner;this._title.textContent=this.name;this._description.innerHTML=this.description;var r=this.i18n.securityTab.infoBanner,e=r.setInfoBanner;r=r.editInfoBanner;this.showHeaderBtn((null===u||void 0===u?0:u.enabled)?r:e)};h.prototype.addEventListeners=function(){var u=this;this.inherited(arguments);var r=this.i18n.securityTab.infoBanner,e=r.setInfoBanner,v=r.editInfoBanner;this.own(b.default.subscribe("classificationBanner/saved",
function(){u._headerBtn.textContent=v}),b.default.subscribe("classificationBanner/toggled",function(){u._headerBtn.textContent=e}))};h.prototype.handleBtnClick=function(){(new f.default({user:this.portalUser,portal:this.portal,opener:this._headerBtn,telemetry:this.telemetry})).open()};return h=a.__decorate([(0,m.default)(k.default)],h)}()})},"arcgisonline/sharing/dijit/dialog/ClassificationBannerDlg":function(){define("require exports tslib dojo/on dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dojo/query arcgis-components/wrappers/InfoBanner arcgisonline/pages/dijit/Overlay arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/strings arcgisonline/pages/utils/dom arcgisonline/pages/utils/color arcgisonline/pages/utils/icons arcgisonline/pages/utils/number ../../../tsutils/declareDecorator ../../../sharing/util ./GeneralDlg dojo/text!./templates/ClassificationBannerDlg.html dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings arcgisonline/esriGeowConfig dijit/_WidgetsInTemplateMixin".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);return function(){function C(E,H){this.i18n=y.default;this.baseClass="classification-banner-overlay";this.closeOnScrimClick=!1;this.widgetsInTemplate=!0;this.title=y.default.classificationBannerDlg.manageClassificationBanner;this.constrain=!0;this.maxWidth=980;this.classificationBannerEnabled=!1;this.fontColorValue=this.bgColorValue=this.contentValue="";this._bgColorPickerActive=this._fontColorPickerActive=
!1;this.maxText=148;this.validContrast=!0}C.prototype.postMixInProperties=function(){var E;this.inherited(arguments);var H=null===(E=this.portal.helpMap)||void 0===E?void 0:E.m;E="".concat(this.portal.helpBase).concat((null===H||void 0===H?void 0:H["120001921"])||"");this.overlayContents=k.default.substitute(x.default,{i18n:y.default.classificationBannerDlg,infoIcon:'\x3ca class\x3d"info-icon margin-left-half" href\x3d"'.concat(E,'" aria-label\x3d"').concat(A.default.generalTab.sharedTheme.manageOverlay.learnMoreContrast,
'" target\x3d"_blank"\x3e').concat(c.default.getIconWithTitle("info","16",A.default.generalTab.sharedTheme.manageOverlay.learnMoreContrast,"contrast-ratio-info-icon-title"),"\x3c/a\x3e"),value:""})};C.prototype.postCreate=function(){var E=this;this.inherited(arguments);this.fontColorSwatch=this.domNode.querySelector(".color-swatch-font");this.bgColorSwatch=this.domNode.querySelector(".color-swatch-bg");this.bannerPreview=this.domNode.querySelector(".js-banner-preview");this.bannerPreviewText=this.domNode.querySelector(".js-banner-preview-text");
this.bgColorPickerContainer=this.domNode.querySelector(".js-bg-cp-container");this.fontColorPickerContainer=this.domNode.querySelector(".js-font-cp-container");this.domNode.querySelector(".color-picker-container.bg").addEventListener("click",function(H){H.stopPropagation();E.toggleBgSwatch()});this.domNode.querySelector(".color-picker-container.bg").addEventListener("keyup",this.toggleBgSwatch.bind(this));this.domNode.querySelector(".color-picker-container.font").addEventListener("click",function(H){H.stopPropagation();
E.toggleFontSwatch()});this.domNode.querySelector(".color-picker-container.font").addEventListener("keyup",this.toggleFontSwatch.bind(this));this._contentInput=this.domNode.querySelector(".js-content-input");this.getOrgSettings().then(function(H){var G=H.informationalBanner||{};G&&G.enabled&&(E.classificationBannerEnabled=!0,E.displayForm(!0));E.contentValue=G.text?n.default.htmlDecode(G.text):"";E._contentInput.value=E.contentValue;E.bannerPreviewText.textContent=E.contentValue?E.contentValue:E.i18n.classificationBannerDlg.provideText;
H=G.fontColor||"#424242";G=G.bgColor||"#F8F8F8";E.bannerPreview.style.backgroundColor=E.bgColorValue=G;E.bannerPreview.style.color=E.fontColorValue=H;E.fontColorSwatch.style.fill=H;E.bgColorSwatch.style.fill=G;E._createBgColorPicker(G);E._createFontColorPicker(H);E.validateContrast(G,H);E.classificationBannerToggle=new v.default({label:y.default.classificationBannerDlg.displayBanner,labelPosition:"left",labelClasses:"font-size-1",isChecked:E.classificationBannerEnabled,disabled:!1},E.domNode.querySelector(".js-classification-banner-toggle"));
E._addListeners()})};C.prototype.open=function(){this.inherited(arguments)};C.prototype.close=function(){this.inherited(arguments)};C.prototype._addListeners=function(){this.own(this.classificationBannerToggle.on("change",this.toggleClassificationBanner.bind(this)));this.domNode.querySelector(".js-content-input").addEventListener("input",this.handleInputChange.bind(this))};C.prototype.handleInputChange=function(E){var H=n.default.stripHTML(E.target.value).trim();this.contentValue=this.bannerPreviewText.textContent=
H;this._contentInput.value=n.default.stripHTML(E.target.value);0===H.length?this.displayInputError():(this._contentInput.status="idle",this.domNode.querySelector(".inline-edit__characters-left").textContent=k.default.substitute(y.default.classificationBannerDlg.charactersRemaining,{numberOfChars:0>this.maxText-H.length?0:this.maxText-H.length}));100>=this.maxText-H.length&&this.domNode.querySelector(".longer-messages-warning").classList.remove("hide")};C.prototype._createBgColorPicker=function(E){var H=
this;this._bgColorPicker=this.createColorPicker(E);this.bgColorPickerContainer.appendChild(this._bgColorPicker);this.own((0,b.default)(this._bgColorPicker,"calciteColorPickerInput",function(){var G=H._bgColorPicker.value.toString();H.bannerPreview.style.background=G;H.bgColorSwatch.style.fill=G;H.bgColorValue=G;H.domNode.querySelector(".color-picker-text .bg-color").textContent=G.toUpperCase();H.validateContrast(G,H.fontColorValue)}),(0,b.default)(document.body,"click",function(G){!H.bgColorPickerContainer.contains(G.target)&&
H._bgColorPickerActive&&H.toggleBgSwatch();!H.fontColorPickerContainer.contains(G.target)&&H._fontColorPickerActive&&H.toggleFontSwatch()}));this.domNode.querySelector(".color-picker-text .bg-color").textContent=E.toUpperCase()};C.prototype._createFontColorPicker=function(E){var H=this;this._fontColorPicker=this.createColorPicker(E);this.fontColorPickerContainer.appendChild(this._fontColorPicker);this.domNode.querySelector(".color-picker-text .font-color").textContent=E.toUpperCase();this.own((0,b.default)(this._fontColorPicker,
"calciteColorPickerInput",function(){var G=H._fontColorPicker.value.toString();H.bannerPreview.style.color=G;H.fontColorSwatch.style.fill=G;H.fontColorValue=G;H.domNode.querySelector(".color-picker-text .font-color").textContent=G.toUpperCase();H.validateContrast(G,H.bgColorValue)}))};C.prototype.createColorPicker=function(E){var H=document.createElement("calcite-color-picker");H.allowEmpty=!0;H.hideSaved=!0;H.scale="s";E&&(H.value=E);return H};C.prototype.validateContrast=function(E,H){H=l.default.checkContrast(E,
H);E=H.contrast;H=H.passesDoubleA;this.domNode.querySelector(".contrast-ratio-value").textContent=d.default.format(Math.floor(10*E)/10,1);H?(E=this.domNode.querySelector(".contrast-ratio-icon"),E.innerHTML=c.default.getIconWithTitle("check-circle-f","32",y.default.classificationBannerDlg.sufficientContrast,"sufficient-contrast-icon-title"),E=E.firstChild,E.style.color="#338033",this.validContrast=!0):(E=this.domNode.querySelector(".contrast-ratio-icon"),E.innerHTML=E.innerHTML=c.default.getIconWithTitle("x-circle-f",
"32",y.default.classificationBannerDlg.insufficientContrast,"insufficient-contrast-icon-title"),E=E.firstChild,E.style.color="#de2900",this.validContrast=!1)};C.prototype.getOrgSettings=function(){return t.default.request({url:"".concat(B.default.restBaseUrl,"portals/self/settings"),content:{f:"json"}})};C.prototype.toggleFontSwatch=function(E){E&&E.keyCode&&13!==E.keyCode&&32!==E.keyCode||(this._bgColorPickerActive&&this.toggleBgSwatch(),this._fontColorPickerActive=!this._fontColorPickerActive,this.domNode.querySelector(".js-font-container").setAttribute("aria-expanded",
this._fontColorPickerActive?"true":"false"),q.default.addRemoveClass(this.fontColorPickerContainer,"visibility-hidden",!this._fontColorPickerActive),this._fontColorPickerActive&&(this._fontColorPicker.setFocus(),this.fontColorPickerContainer.scrollIntoView()))};C.prototype.toggleBgSwatch=function(E){E&&E.keyCode&&13!==E.keyCode&&32!==E.keyCode||(this._fontColorPickerActive&&this.toggleFontSwatch(),this._bgColorPickerActive=!this._bgColorPickerActive,this.domNode.querySelector(".js-bg-container").setAttribute("aria-expanded",
this._bgColorPickerActive?"true":"false"),q.default.addRemoveClass(this.bgColorPickerContainer,"visibility-hidden",!this._bgColorPickerActive),this._bgColorPickerActive&&(this._bgColorPicker.setFocus(),this.bgColorPickerContainer.scrollIntoView()))};C.prototype.saveClassificationBannerToSettings=function(E){var H=this,G=n.default.htmlEncode(this.contentValue);return t.default.request({url:"".concat(B.default.restBaseUrl,"portals/self/settings/update/"),content:{informationalBanner:JSON.stringify({text:G,
bgColor:this.bgColorValue,fontColor:this.fontColorValue,enabled:E})}},{usePost:!0}).then(function(F){var I;null===(I=H.telemetry)||void 0===I?void 0:I.logEvent({category:"security",label:"informationalBanner",action:"Save"});return F},function(F){var I;null===(I=H.telemetry)||void 0===I?void 0:I.logError({error:F})})};C.prototype.disableClassificationBanner=function(){var E=this;this.saveClassificationBannerToSettings(!1).then(function(H){H.success&&(E.removeBanners(),p.default.showAlert("success",
y.default.classificationBannerDlg.bannerDisabled),f.default.publish("classificationBanner/toggled",{isActive:!1}),E.close())})};C.prototype.toggleClassificationBanner=function(E){this.displayForm(E)};C.prototype.displayForm=function(E){this.domNode.querySelector(".js-classification-banner-form").classList[E?"remove":"add"]("hide")};C.prototype.displayContrastError=function(){var E=this,H=g.default.createSpecifiedDialog(z.default);H._dialog.domNode.classList.add("overlay-general-error-dlg");H.show({title:y.default.classificationBannerDlg.error.insufficientContrast,
message:y.default.classificationBannerDlg.contrastWarning});H.setButtonLabel(y.default.classificationBannerDlg.editColors);var G=H._okBtn.domNode,F=G.parentElement;if(F){q.default.addClasses(F,["flex","flex-align-center"]);var I=document.createElement("button");I.className="btn-link btn-link-red margin-right-2";I.textContent=y.default.classificationBannerDlg.proceedAnyway;F.insertBefore(I,G);b.default.once(I,"click",function(){H.hide();E.proceedToSave()})}};C.prototype.handleCancel=function(){var E;
null===(E=this.telemetry)||void 0===E?void 0:E.logEvent({category:"security",label:"informationalBanner",action:"Cancel"});this.inherited(arguments)};C.prototype.handlePrimary=function(E){E.preventDefault();this.contentValue=n.default.stripHTML(this._contentInput.value).trim()||"";if(!this.classificationBannerToggle.checked())return this.disableClassificationBanner();this.validContrast?this.proceedToSave():this.displayContrastError()};C.prototype.proceedToSave=function(){var E=this;this.inputValuesAreValid()&&
this.saveClassificationBannerToSettings(!0).then(function(H){H.success?(E.updateBanners(),p.default.showAlert("success",y.default.classificationBannerDlg.bannerSaved),f.default.publish("classificationBanner/saved",{title:"",content:E.contentValue,isValidContrast:E.validContrast}),E.close()):p.default.showAlert("error",y.default.classificationBannerDlg.error.bannerNotSaved)})};C.prototype.updateBanners=function(){var E=(0,u.default)("body \x3e div \x3e .info-banner"),H='\x3cp class\x3d"info-banner-text"\x3e'.concat(this.contentValue,
"\x3c/p\x3e");if(0<E.length)E.style("background-color",this.bgColorValue).style("color",this.fontColorValue),E.innerHTML(H);else{E=!this.portal.isPortal&&0>this.portal.subscriptionInfo.availableCredits&&!!document.querySelector(".status-banner__danger");H={bgColor:this.bgColorValue,fontColor:this.fontColorValue,text:this.contentValue,enabled:!0};var G=document.createElement("div"),F=document.createElement("div");new r.InfoBanner({topContainer:G,bottomContainer:F,bannerConfig:H});document.body.insertBefore(G,
document.body.childNodes[E?1:0]);document.body.appendChild(F)}};C.prototype.removeBanners=function(){(0,u.default)("body \x3e div \x3e .info-banner").forEach(function(E){E.parentElement.removeChild(E)})};C.prototype.displayInputError=function(){this.domNode.querySelector(".inline-edit__characters-left").innerHTML='\x3ccalcite-icon icon\x3d"exclamation-mark-triangle" class\x3d"classification_banner_dlg__icon-danger margin-right-half"\x3e\x3c/calcite-icon\x3e '.concat(y.default.classificationBannerDlg.error.emptyBannerText);
this._contentInput.status="invalid";this._contentInput.setFocus()};C.prototype.inputValuesAreValid=function(){var E=this.contentValue&&0<this.contentValue.length,H=this.contentValue&&this.contentValue.length<=this.maxText;E?H||(this._contentInput.status="invalid"):this.displayInputError();return H&&E};return C=a.__decorate([(0,w.default)(h.default,m.default,D.default,e.default)],C)}()})},"arcgisonline/pages/organization/widgets/settings/rows/HttpsRow":function(){define("require exports tslib dojo/topic dojo/on dojo/string dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/HttpsRow.html ./SettingsRow ../../../../utils/tooltips ../../../../utils/dom ../../../../pageUtil ../../SecurityAlert ../../../../utils/icons arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/sharing/util arcgisonline/sharing/geow/Geow arcgisonline/esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.templateString=u.default;
this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},this.i18n),h.default.common),h.default.securityTab.accessAndPermissions),m.default.myOrganization.securityTab);this.disableEditPopup=!0}t.prototype.postMixInProperties=function(){this.inherited(arguments);this.isPortal=this.portal.isPortal;var z="".concat(this.portal.helpBase).concat(this.portal.helpMap.m[this.portal.isPortal?"120001148":"120001520"]||"");z='\x3ca href\x3d"'.concat(z,'" target\x3d"_blank" class\x3d"hide js-learn-more"\x3e').concat(this.i18n.learnMore).concat(n.default["inline-end"].launch[16],
"\x3c/a\x3e");this.i18n.onlyHTTPS="".concat(f.default.substitute(this.isPortal?this.i18n.sslDescPortal:this.i18n.sslDesc,{startSpan:'\x3cspan id\x3d"sslTooltip" class\x3d"org-settings__tooltip" tabindex\x3d"0"\x3e',endSpan:"\x3c/span\x3e"})," ").concat(z);this.handleSignout=this.handleSignout.bind(this)};t.prototype.destroy=function(){this.httpsTooltip&&this.httpsTooltip.destroy();this.inherited(arguments)};t.prototype.render=function(){var z=this;this.learnMoreLink=this.domNode.querySelector(".js-learn-more");
!this.isPortal&&this.portal.allSSL&&v.default.hideNode(this.domNode);this.showHideWarning();this.httpsSwitch=this.createToggle("https-only-toggle",this.i18n.onlyHTTPS,".js-https-switch",this.isPortal?this.i18n.sslDescPortal:this.i18n.sslDesc);this.httpsSwitch.setChecked(this.portal.allSSL,!0);this.own((0,k.default)(this.httpsSwitch,"change",function(){return z.handleHttpsChange()}),b.default.subscribe("scroll-to/https",function(){var x;null===(x=z.securityAlert)||void 0===x?void 0:x.domNode.scrollIntoView({behavior:"smooth"})}));
setTimeout(function(){z.httpsTooltip=e.default.createTooltip("sslTooltip",z.i18n.sslTooltip)})};t.prototype.handleHttpsChange=function(){var z=this,x=this.httpsSwitch.checked();if(x)this.proceedToSave(x);else{var y="".concat(this.isPortal?this.i18n.turnAllSSLOffPortal:this.i18n.turnAllSSLOff," ").concat(this.i18n.turnAllSSLOff2);g.default.createConfirmationDialog({strings:{title:this.i18n.notice,description:y},hideCancel:!0,renderHtmlDescription:!0,autoCloseOnOk:!0,onCancel:function(){z.httpsSwitch.setChecked(!x,
!0)},onOk:function(){z.proceedToSave(x)}})}};t.prototype.proceedToSave=function(z){var x=this,y={allSSL:z},A=a.__assign({},this.portal.portalProperties);this.isPortal||((null===A||void 0===A?0:A.revertHttpsEndDate)&&delete A.revertHttpsEndDate,y.portalProperties=JSON.stringify(A));this.updateSetting(y,this.i18n.policiesError,this.i18n.policiesSuccess).then(function(){x.portal.allSSL=z;x.portal.portalProperties=A;x.showHideWarning();v.default.showHide(x.learnMoreLink,!x.isPortal&&x.portal.allSSL);
if(z)window.location.href=l.default.getSecureUrl(window.location.href);else{var B=g.default.createSpecifiedDialog(q.default);B.onOkClick=x.handleSignout.bind(x);B.onCancel=x.handleSignout.bind(x);B.show({title:x.i18n.noticeLabel,message:x.i18n.securityChanged})}})};t.prototype.handleSignout=function(){var z="".concat(l.default.getSecureUrl()).concat(d.default.signin,"?returnUrl\x3d").concat(l.default.getHttpUrl(window.location.href));c.default.signout(z)};t.prototype.showHideWarning=function(){var z;
this.isPortal||(this.portal.allSSL?null===(z=this.securityAlert)||void 0===z?void 0:z.hide():(this.securityAlert||(this.securityAlert=new p.default({portal:this.portal,showLearnMore:!0},this.domNode.querySelector(".js-security-alert"))),this.securityAlert.show()))};return t=a.__decorate([(0,w.default)(r.default)],t)}()})},"arcgisonline/pages/organization/widgets/SecurityAlert":function(){define("require exports tslib dojo/on dojo/topic dojo/text!./templates/SecurityAlert.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/pages/utils/icons arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=f.default;this.i18n=a.__assign({},m.default.myOrganization.overviewTab);this.icons=e.default;this.warnIcon=e.default["exclamation-mark-triangle"]["32"];this.showBtn=!1}g.prototype.postCreate=function(){var p=
this;this.inherited(arguments);this.render();this.own((0,b.default)(this.actionBtn,"click",function(){p.handleBtnClick()}))};g.prototype.show=function(){r.default.showNode(this.domNode)};g.prototype.hide=function(){r.default.hideNode(this.domNode)};g.prototype.handleBtnClick=function(){k.default.publish("security-settings/open")};g.prototype.render=function(){(this.showBtn||this.btnLabel)&&r.default.showNode(this.btnContainer);this.content?this.alertContent.innerHTML=this.content:this.showLearnMore&&
(this.httpsLearnMore.href="".concat(this.portal.helpBase).concat(this.portal.helpMap.m[this.portal.isPortal?"120001148":"120001520"]||""),r.default.showNode(this.httpsLearnMore));this.btnLabel&&(this.actionBtn.textContent=this.btnLabel)};return g=a.__decorate([(0,v.default)(u.default,h.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/PoliciesRow":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../pageUtil ../../../../utils/tooltips ../../../../utils/icons ../../../../utils/alerts ../../../../utils/dom ./SettingsRow ../../../../../sharing/util ../../../../../tsutils/declareDecorator dojo/topic dojo/on dojo/string dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/PoliciesRow.html esri/lang esri/request".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.templateString=c.default;
this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},this.i18n),l.default.securityTab.accessAndPermissions),q.default.myOrganization),q.default.myOrganization.securityTab);this.icons=m.default}t.prototype.postMixInProperties=function(){this.inherited(arguments);var z=this.portal.isPortal;this.i18n.onlyHTTPS=n.default.substitute(z?this.i18n.sslDescPortal:this.i18n.sslDesc,{startSpan:'\x3cspan id\x3d"sslTooltip" class\x3d"org-settings__tooltip" tabindex\x3d"0"\x3e',endSpan:"\x3c/span\x3e"});var x=
"".concat(this.portal.helpBase).concat(this.portal.helpMap.m[z?"120001148":"120001520"]);x=' \x3ca href\x3d"'.concat(x,'" target\x3d"_blank"\x3e').concat(this.i18n.learnMoreDS,"\x3c/a\x3e");this.i18n.onlyHTTPSWarning=(z?this.i18n.httpsWarningPortal:this.i18n.httpsWarning)+x;z='\x3ca href\x3d"'.concat(this.portal.helpBase).concat(this.portal.helpMap.m["120001521"],'" target\x3d"_blank"\x3e').concat(this.i18n.learnMoreDS,"\x3c/a\x3e");this.i18n.onlyStdSQL="".concat(this.i18n.useStdSQLDesc);this.i18n.onlyStdSQLWarning=
"".concat(this.i18n.stdSQLWarning," ").concat(z)};t.prototype.destroy=function(){this.inherited(arguments);this.anonTooltip&&this.anonTooltip.destroy()};t.prototype.render=function(){this._label.textContent=this.label;this.isPortal=this.portal.isPortal;this.createAnonLabel();this.createToggleSwitches()};t.prototype.addEventListeners=function(){var z=this;this.own((0,p.default)(this.anonSwitch,"change",this.handleAnonSwitchChange.bind(this)),(0,p.default)(this.crossOrgSwitch,"change",this.handleCrossOrgSwitchChange.bind(this)),
(0,p.default)(this.editProfileSwitch,"change",this.handleEditProfileSwitchChange.bind(this)),(0,p.default)(this.createSwitch,"change",this.handleAllowCreateSwitchChange.bind(this)),g.default.subscribe("default-user-type/loaded",function(x){z.defaultUserTypeId=x}),this.allowDownloadSwitch.on("change",this.handleAllowDownloadChange.bind(this)))};t.prototype.handleAllowCreateSwitchChange=function(){var z=this,x=!this.createSwitch.checked();x||this.defaultUserTypeId?this.portal.isKubernetes()?this.startUpdatePortalProperties(x).then(function(y){"success"===
y.status?g.default.publish(z.SAVE_SUCCESS_TOPIC,z.i18n.policiesSuccess):g.default.publish(z.SAVE_FAILURE_TOPIC,z.i18n.allowCreateBuiltInError)},function(y){g.default.publish(z.SAVE_FAILURE_TOPIC,z.i18n.allowCreateBuiltInError)}):k.default.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.portalRestartWarning},onOk:function(y){z.startUpdatePortalProperties(x).then(function(){y();k.default.createConfirmationDialog({strings:{title:z.i18n.notice,description:z.i18n.portalIsRestarting,
ok:z.i18n.portalRestarting},hideCancel:!0,autoCloseOnOk:!0,loading:!0});setTimeout(function(){z.waitAndCheck()},12E4)},function(){y();h.default.showAlert("error",z.i18n.allowCreateBuiltInError);z.createSwitch.setChecked(x,!0)})},onCancel:function(){z.createSwitch.setChecked(x,!0)}}):(h.default.showAlert("error",this.i18n.mustHaveDefaultUserType),this.createSwitch.setChecked(!1,!0))};t.prototype.checkIfPortalIsUp=function(){return(0,w.default)({url:b.default.restBaseUrl,content:{f:"json"}})};t.prototype.waitAndCheck=
function(){var z=this;setTimeout(function(){z.checkIfPortalIsUp().then(function(){window.location.reload()},function(){z.waitAndCheck()})},2E4)};t.prototype.startUpdatePortalProperties=function(z){this.portalProperties||(this.portalProperties={});this.portalProperties.disableSignup=z;return this.updatePortalProperties(this.portalProperties)};t.prototype.updatePortalProperties=function(z){return e.default.request({url:"".concat(e.default.getPortalAdminBaseUrl(),"/system/properties/update"),content:{properties:JSON.stringify(z)}},
{usePost:!0})};t.prototype.handleAnonSwitchChange=function(){var z=this,x=this.anonSwitch.checked()?"public":"private",y={access:x};"private"===x&&(y.canShareBingPublic=!1);this.updateSetting(y,this.i18n.policiesError,this.i18n.policiesSuccess).then(function(){z.portal.access=x;"private"===x&&(z.portal.canShareBingPublic=!1);g.default.publish("access/change")})};t.prototype.handleCrossOrgSwitchChange=function(){var z=this,x=!this.crossOrgSwitch.checked();e.default.request({url:"".concat(b.default.restBaseUrl,
"portals/self/setSigninSettings"),content:{hideCrossOrgSigninLink:x}},{usePost:!0}).then(function(y){y&&y.success?h.default.showAlert("success",z.i18n.signinSettingsSuccess):z.revertCrossOrgAndShowError(!x)},function(){z.revertCrossOrgAndShowError(!x)})};t.prototype.handleEditProfileSwitchChange=function(){var z=this,x=!this.editProfileSwitch.checked();this.updateSetting({updateUserProfileDisabled:x},this.i18n.policiesError,this.i18n.policiesSuccess).then(function(){z.portal.updateUserProfileDisabled=
x})};t.prototype.handleAllowDownloadChange=function(){var z=this,x=!this.allowDownloadSwitch.checked();this.portal.portalProperties||(this.portal.portalProperties={});var y=a.__assign(a.__assign({},this.portal.portalProperties),{disableAppsDownload:x});this.updateSetting({portalProperties:JSON.stringify(y)},this.i18n.policiesError,this.i18n.policiesSuccess).then(function(){z.portal.portalProperties=y})};t.prototype.revertCrossOrgAndShowError=function(z){this.crossOrgSwitch.setChecked(!z,!0);h.default.showAlert("error",
this.i18n.signinSettingsError)};t.prototype.createAnonLabel=function(){var z=this,x="".concat(this.portal.urlKey,".").concat(this.portal.customBaseUrl);if(this.isPortal)x=n.default.substitute(this.i18n.anonDescPortal,{startSpan:'\x3cspan id\x3d"anonymousTooltip" class\x3d"org-settings__tooltip" tabindex\x3d"0"\x3e',endSpan:"\x3c/span\x3e"});else{var y=this.portal.getHelpUrl("120000455");x=n.default.substitute(this.i18n.anonDesc,{startSpan:'\x3cspan id\x3d"anonymousTooltip" class\x3d"org-settings__tooltip" tabindex\x3d"0"\x3e',
endSpan:"\x3c/span\x3e",website:x});x+='\x3cp class\x3d"trailer-0"\x3e\x3ccalcite-link href\x3d"'.concat(y,'" target\x3d"_blank"\x3e').concat(this.i18n.anonDescDoc,"\x3c/calcite-link\x3e\x3c/p\x3e")}this.anonLabel=x;setTimeout(function(){z.anonTooltip=f.default.createTooltip("anonymousTooltip",z.i18n.anonTooltip)})};t.prototype.createToggleSwitches=function(){var z;this.anonSwitch=this.createToggle("anon-access-toggle",this.anonLabel,".js-anon-switch");this.portal.isVerified&&this.anonSwitch.disable();
"public"===this.portal.access&&this.anonSwitch.setChecked(!0,!0);this.crossOrgSwitch=this.createToggle("cross-org-toggle",this.i18n.crossOrgDesc,".js-cross-org-switch");this.portal.isPortal&&u.default.hideNode(this.crossOrgSwitch.domNode);var x=this.signInSettings&&d.default.isDefined(this.signInSettings.hideCrossOrgSigninLink)?!this.signInSettings.hideCrossOrgSigninLink:!0;this.crossOrgSwitch.setChecked(x,!0);this.editProfileSwitch=this.createToggle("allow-edit-profile-toggle",this.i18n.userProfileEditableDesc,
".js-edit-profile-switch");this.editProfileSwitch.setChecked(d.default.isDefined(this.portal.updateUserProfileDisabled)?!this.portal.updateUserProfileDisabled:!0,!0);this.allowDownloadSwitch=this.createToggle("allow-download-toggle",this.i18n.allowDownload,".js-allow-download-switch");this.allowDownloadSwitch.setChecked(!(null===(z=this.portal.portalProperties)||void 0===z?0:z.disableAppsDownload),!0);this.portal.isPortal&&this.allowDownloadSwitch.hide();this.createSwitch=this.createToggle("allow-built-in-toggle",
this.i18n.allowCreateBuiltInDesc,".js-allow-create-switch");this.createSwitch.hide();this.isPortal&&(this.createSwitch.setChecked(!this.portal.disableSignup,!0),this.portal.isKubernetes()||this.createSwitch.show())};return t=a.__decorate([(0,v.default)(r.default)],t)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SharingSearchingRow":function(){define("require exports tslib esri/lang dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/SharingSearchingRow.html ../../../../utils/dom ./SettingsRow ../../../../../tsutils/declareDecorator ../../../../../esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=m.default;this.i18n=a.__assign(a.__assign({},this.i18n),f.default.securityTab.accessAndPermissions)}v.prototype.render=function(){this._label.textContent=this.label;var g="".concat(this.i18n.shareToPublic).concat(this.getShareContentTooltip());
this.shareSwitch=this.createToggle("share-public-toggle",g,".js-share-switch",this.i18n.shareToPublic);this.shareSwitch.setChecked(this.portal.canSharePublic,!0);this.searchSwitch=this.createToggle("search-public-toggle",this.i18n.searchPublic,".js-search-switch");this.searchSwitch.setChecked(this.portal.canSearchPublic,!0);this.portal.isPortal&&this.searchSwitch.hide();h.default.showHide(this.domNode.querySelector(".js-social-links"),e.default.showSocialMediaLinks);this.socialSwitch=this.createToggle("show-social-media-toggle",
this.i18n.socialLinksLabel,".js-social-switch");g=this.portal.isPortal?!1:!0;var p=b.default.isDefined(this.portal.portalProperties)&&b.default.isDefined(this.portal.portalProperties.showSocialMediaLinks);this.socialSwitch.setChecked(p?this.portal.portalProperties.showSocialMediaLinks:g)};v.prototype.addEventListeners=function(){this.own((0,k.default)(this.shareSwitch,"change",this.handleShareChange.bind(this)),(0,k.default)(this.searchSwitch,"change",this.handleSearchChange.bind(this)),(0,k.default)(this.socialSwitch,
"change",this.handleSocialChange.bind(this)))};v.prototype.getShareContentTooltip=function(){return'\n      \x3ccalcite-button\n        id\x3d"share-setting-info-tooltip"\n        class\x3d"margin-left-quarter"\n        icon-start\x3d"information"\n        appearance\x3d"transparent"\n        kind\x3d"neutral"\n        round\n        scale\x3d"s"\n      \x3e\x3c/calcite-button\x3e\n      \x3ccalcite-tooltip label\x3d"Example label" reference-element\x3d"share-setting-info-tooltip"\x3e\n        \x3cspan\x3e'.concat(this.i18n.shareToPublicTooltip,
"\x3c/span\x3e\n      \x3c/calcite-tooltip\x3e\n    ").trim()};v.prototype.handleShareChange=function(){var g=this,p=this.shareSwitch.checked();this.updateSetting({canSharePublic:p},this.i18n.shareError,this.i18n.shareSuccess).then(function(){g.portal.canSharePublic=p;e.default.self.canSharePublic=p},function(){g.shareSwitch.setChecked(!p,!0)})};v.prototype.handleSearchChange=function(){var g=this,p=this.searchSwitch.checked();this.updateSetting({canSearchPublic:p},this.i18n.searchError,this.i18n.searchSuccess).then(function(){g.portal.canSearchPublic=
p},function(){g.searchSwitch.setChecked(!p,!0)})};v.prototype.handleSocialChange=function(){var g=this;this.settingsProps=["portalProperties.showSocialMediaLinks"];var p=this.portal.portalProperties?a.__assign({},this.portal.portalProperties):{};p.showSocialMediaLinks=this.socialSwitch.checked();this.updateSetting({portalProperties:JSON.stringify(p)},this.i18n.socialError,this.i18n.socialSuccess).then(function(){g.portal.portalProperties=p;g.settingsProps=[]},function(){g.socialSwitch.setChecked(!p.showSocialMediaLinks,
!0);g.settingsProps=[]})};return v=a.__decorate([(0,r.default)(u.default)],v)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ToggleMFARow":function(){define("require exports tslib dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ToggleMFARow.html ./SettingsRow ../../../../components/EnforceMFA/EnforceMFA ../../../../portal/PortalUser arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/utils/alerts arcgisonline/pages/utils/culture arcgisonline/pages/utils/dom arcgisonline/pages/components/ConfirmDialog arcgisonline/pages/organization/widgets/settings/AdminBrowserOverlay preact preact/compat dojox/charting/SimpleTheme dojox/charting/Chart dojox/charting/plot2d/Pie dojox/charting/action2d/Tooltip ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);var y=new d.default({colors:["#00A3FF","#FF462D"]}),A=
function(){function B(){}B.prototype.render=function(D,C){this.inherited(arguments);this.group.createCircle({cx:C.l+(D.width-C.l-C.r)/2,cy:C.t+(D.height-C.t-C.b)/2,r:35}).setFill("#fff").setStroke("#fff")};return B=a.__decorate([(0,x.default)(t.default)],B)}();return function(){function B(D,C){var E=this;this.templateString=f.default;this.i18n=a.__assign(a.__assign({},this.i18n),k.default.securityTab.multifactorAuth);this.settingsProps=["mfaEnabled"];this.mfaEnabledCount=this.totalMembers=0;this.exemptMembers=
[];this.enableMFASaving=!1;this.exemptLimit=5E3;this.exemptChartShown=this.requiredChartShown=this.togglingMFA=!1;this.proceedWithMFAChange=function(H){H?(E.togglingMFA=!0,b.default.publish("mfa-toggle/update",H)):E.confirmDisable()};this.checkExemptionLimit=function(){return a.__awaiter(E,void 0,void 0,function(){var H;return a.__generator(this,function(G){switch(G.label){case 0:return G.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/limits"),content:{limitsType:"Backend",
limitName:"EnforceMfaException"}})];case 1:H=G.sent();if(null===H||void 0===H?0:H.limitValue)this.exemptLimit=null===H||void 0===H?void 0:H.limitValue;return[3,3];case 2:return G.sent(),[3,3];case 3:return[2]}})})};this.handleEnableMFAChange=function(H){return a.__awaiter(E,void 0,void 0,function(){var G,F;return a.__generator(this,function(I){switch(I.label){case 0:return G=H.target.checked,G&&this.portal.isPortal?[4,this.checkSupportsEmail()]:(this.proceedWithMFAChange(G),[2]);case 1:return(F=I.sent())?
this.proceedWithMFAChange(G):(v.default.showAlert("error",this.i18n.enterpriseEmailError),this.renderSwitches()),[2]}})})};this.handleRecoveryToggleChange=function(H){return a.__awaiter(E,void 0,void 0,function(){var G,F,I,J;return a.__generator(this,function(K){switch(K.label){case 0:G=H.target.checked,F=(null===(J=this.portal.mfaConfig)||void 0===J?void 0:J.types)||["apps","keys"],G?F.includes("codes")||F.push("codes"):F=F.filter(function(P){return"codes"!==P}),I={mfaConfig:JSON.stringify({types:F})},
K.label=1;case 1:return K.trys.push([1,3,,4]),[4,this.updateSetting(I,this.i18n.recoveryCodesError,this.i18n.recoveryCodesSuccess)];case 2:return K.sent(),this.portal.mfaConfig={types:F},this.renderSwitches(),[3,4];case 3:return K.sent(),[3,4];case 4:return[2]}})})};this.cancelDisable=this.cancelDisable.bind(this);this.proceedToDisable=this.proceedToDisable.bind(this)}B.prototype.postCreate=function(){this.inherited(arguments);this.checkExemptionLimit()};B.prototype.resizeCharts=function(){var D,
C,E;null===(D=this.allChart)||void 0===D?void 0:D.resize(120,120);this.requiredChartShown&&(null===(C=this.requiredChart)||void 0===C?void 0:C.resize(120,120));this.exemptChartShown&&(null===(E=this.exemptChart)||void 0===E?void 0:E.resize(120,120))};B.prototype.render=function(){this.renderSwitches();this.getDataAndRenderEnforce()};B.prototype.updateEnforceMFA=function(D){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,
2,,3]),[4,this.setSigninSettings({enforceMfa:D},D?this.i18n.enforceError:this.i18n.toggleError,D?this.i18n.enforceSuccess:this.i18n.noEnforceSuccess)];case 1:return C.sent(),this.signInSettings.enforceMfa=D,this.renderSwitches(),this.renderEnforceSection(this.exemptMembers),[3,3];case 2:return C.sent(),[3,3];case 3:return[2]}})})};B.prototype.updateExemptions=function(D){return a.__awaiter(this,void 0,void 0,function(){var C;return a.__generator(this,function(E){switch(E.label){case 0:return[4,this.setSigninSettings(a.__assign({enforceMfaException:0<
D.length?JSON.stringify(D):""},0===D.length&&{clearEmptyFields:!0}),this.i18n.exemptError,this.i18n.exemptSuccess)];case 1:return C=E.sent(),this.signInSettings.enforceMfaException=a.__spreadArray([],D,!0),[2,C]}})})};B.prototype.setSigninSettings=function(D,C,E){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(H){switch(H.label){case 0:return H.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/setSigninSettings"),content:D},
{usePost:!0})];case 1:return H.sent(),v.default.showAlert("success",E),[2,!0];case 2:return H.sent(),v.default.showAlert("error",C),[2,!1];case 3:return[2]}})})};B.prototype.createNotification=function(D){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/mfa/createNotification"),content:{message:D}},{usePost:!0})];case 1:return C.sent(),v.default.showAlert("success",
this.i18n.emailModal.sendSuccess),[3,3];case 2:return C.sent(),v.default.showAlert("error",this.i18n.emailModal.sendError),[3,3];case 3:return[2]}})})};B.prototype.getAllExemptUsers=function(D){return a.__awaiter(this,arguments,void 0,function(C,E){var H,G,F,I,J=this;void 0===E&&(E=[]);return a.__generator(this,function(K){switch(K.label){case 0:return K.trys.push([0,2,,3]),H="".concat(e.default.restBaseUrl,"portals/self/users/search"),G=C.splice(0,100),F={start:1,num:100,q:"provider: arcgis",filter:"username:".concat(G.join(" OR username:"))},
[4,r.default.request({url:H,content:F})];case 1:return I=K.sent(),E=a.__spreadArray(a.__spreadArray([],E,!0),I.results.map(function(P){var T=new u.default(a.__assign(a.__assign({},P),{portal:J.portal}));T.id=P.id;return T}),!0),0<C.length?[2,this.getAllExemptUsers(C,E)]:[2,E];case 2:return K.sent(),[3,3];case 3:return[2]}})})};B.prototype.showConfirmEnforceMFA=function(){var D=this,C={title:this.i18n.enforceConfirm.title,description:'\n      \x3cp class\x3d"trailer-half"\x3e'.concat(this.i18n.enforceConfirm.description1,
'\x3c/p\x3e\n      \x3cp class\x3d"trailer-half"\x3e').concat(this.i18n.enforceConfirm.description2,'\x3c/p\x3e\n      \x3cul class\x3d"trailer-0 font-size-0"\x3e\n        \x3cli\x3e\x3cdiv class\x3d"avenir-bold"\x3e').concat(this.i18n.enforceConfirm.reachOut,'\x3c/div\x3e\n          \x3cp class\x3d"trailer-half"\x3e').concat(this.i18n.enforceConfirm.reachOutDesc,'\x3c/p\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n          \x3cdiv class\x3d"avenir-bold"\x3e').concat(this.i18n.enforceConfirm.addToExemption,
'\x3c/div\x3e\n          \x3cp class\x3d"trailer-half"\x3e').concat(this.i18n.enforceConfirm.addToExemptionDesc,"\x3c/p\x3e\n          \x3cdiv\x3e").concat(this.i18n.exemptionCount.replace("${num}",this.exemptMembers.length),"\x3c/div\x3e\n        \x3c/li\x3e\n      \x3c/ul\x3e"),cancel:this.i18n.cancel,ok:this.i18n.enforceConfirm.enforce,back:this.i18n.manageExemption};(0,l.render)((0,c.createPortal)((0,l.h)(n.default,{strings:C,width:"s",renderHtmlDescription:!0,onCancel:function(){D.hideConfirmEnforceMFA();
D.renderSwitches()},onOk:function(){D.updateEnforceMFA(!0)},onBack:function(E){D.manageExemptions(E.target,void 0,!0)},autoCloseOnOk:!0}),document.body),this.domNode.querySelector(".js-confirm-enforce"))};B.prototype.showConfirmRemoveEnforce=function(){var D=this,C={title:this.i18n.disableEnforce,description:'\x3cp class\x3d"trailer-half"\x3e'.concat(this.i18n.removeConfirm,'\x3c/p\x3e\x3cp class\x3d"trailer-0"\x3e').concat(this.i18n.removeWarning,"\x3c/p\x3e"),cancel:this.i18n.cancel,ok:this.i18n.disableEnforce};
(0,l.render)((0,c.createPortal)((0,l.h)(n.default,{strings:C,width:"s",renderHtmlDescription:!0,onCancel:function(){D.hideConfirmRemoveEnforce();D.renderSwitches()},onOk:function(){D.updateEnforceMFA(!1)},autoCloseOnOk:!0}),document.body),this.domNode.querySelector(".js-confirm-disable-enforce"))};B.prototype.hideConfirmEnforceMFA=function(){(0,l.render)(null,this.domNode.querySelector(".js-confirm-enforce"))};B.prototype.hideConfirmRemoveEnforce=function(){(0,l.render)(null,this.domNode.querySelector(".js-confirm-disable-enforce"))};
B.prototype.renderSwitches=function(){var D,C,E=(0,l.h)("div",null,(0,l.h)("p",{class:"trailer-0 flex flex-align-center"},this.i18n.recoveryLabel,(0,l.h)("div",{class:"mfa-recovery-tooltip-icon"},(0,l.h)("calcite-icon",{id:"recovery-codes-toggle-tooltip",icon:"information",scale:"s",class:"margin-left-quarter",onClick:function(F){F.stopPropagation()}}),(0,l.h)("calcite-tooltip",{"reference-element":"recovery-codes-toggle-tooltip"},(0,l.h)("div",null,(0,l.h)("p",{class:"trailer-half"},this.i18n.recoveryCodesDescription),
(0,l.h)("p",{class:"trailer-0"},this.i18n.recoveryCodesDescription2))))),(0,l.h)("p",{class:"font-size--2 trailer-0"},this.i18n.recoverySubLabel)),H=!!this.portal.mfaEnabled,G=!(null===(C=null===(D=this.portal.mfaConfig)||void 0===D?void 0:D.types)||void 0===C||!C.includes("codes"));(0,l.render)((0,l.h)("div",null,this.renderSwitch({label:this.i18n.toggleLabel,onChange:this.handleEnableMFAChange,checked:H,loading:this.enableMFASaving}),H&&!this.portal.isPortal&&this.renderSwitch({label:E,onChange:this.handleRecoveryToggleChange,
checked:G,ariaLabel:this.i18n.recoveryLabel})),this.domNode.querySelector(".js-switch-container"))};B.prototype.renderPieCharts=function(D){return a.__awaiter(this,void 0,void 0,function(){var C,E,H,G,F,I,J,K,P,T,S,L,N,O,Q,V,X,Z;return a.__generator(this,function(ca){switch(ca.label){case 0:p.default.hideNode(this.domNode.querySelector(".js-adoption-loader "));p.default.showHide(this.domNode.querySelector(".js-adoption-status"),!!this.portal.mfaEnabled);if(!this.portal.mfaEnabled)return[2];C=this;
return[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/signinSettings")})];case 1:return C.signInSettings=ca.sent(),p.default.showNode(this.domNode.querySelector(".js-adoption-charts")),E=this.domNode.querySelector(".js-all"),H=this.domNode.querySelector(".js-required"),G=this.domNode.querySelector(".js-exempt"),F=0,F=D?D.length:this.exemptMembers?this.exemptMembers.length:(null===(Q=this.signInSettings.enforceMfaException)||void 0===Q?void 0:Q.length)||0,I=this.mfaEnabledCount,
J=this.totalMembers-this.mfaEnabledCount,K=null!==(V=this.signInSettings.enforceMFAexceptionMFAEnabledCount)&&void 0!==V?V:0,P=F-K,T=I-K,S=this.totalMembers-F,L=S-T,N=!!((null===(X=this.signInSettings)||void 0===X?0:X.enforceMfa)&&0<F),p.default.showHideAll([this.domNode.querySelector(".js-required-chart-card"),this.domNode.querySelector(".js-exempt-chart-card")],N),this.requiredChartShown=N&&0<S,this.exemptChartShown=N,0===S&&p.default.hideNode(this.domNode.querySelector(".js-required-chart-card")),
O=0===S||!(null===(Z=this.signInSettings)||void 0===Z?0:Z.enforceMfa)||0===F,p.default.addRemoveClassAll(Array.from(this.domNode.querySelectorAll(".mfa-adoption-card")),"mfa-adoption-card--half",O),this.allChart=this.createPieChart([I,J],this.totalMembers,E),this.requiredChart=this.createPieChart([T,L],S,H),0<F&&(this.exemptChart=this.createPieChart([K,P],F,G)),[2]}})})};B.prototype.createPieChart=function(D,C,E){var H=this,G=E.querySelector(".js-chart");G.innerHTML="";var F=Math.round(D[0]/C*100),
I=100-F,J=0!==D[0]&&0===F||0!==D[1]&&0===I,K=[F,I];G=new w.default(G);var P=D.map(function(T,S){return{x:1,y:J?K[S]||1:T,text:"",tooltip:"".concat(g.default.getString(H.i18n.membersNum,T))}});E.querySelector(".js-total").textContent=C;C=g.default.getPercentLabel(F);I=g.default.getPercentLabel(I);E.querySelector(".js-set-up-percent").innerHTML=J?"".concat(D[0]):C;E.querySelector(".js-not-set-up-percent").innerHTML=J?"".concat(D[1]):I;G.setTheme(y).addPlot("default",{type:A,font:"normal normal 11pt Tahoma",
fontColor:"black",radius:100}).addSeries("Series 1",P);new z.default(G,"default");G.render();return G};B.prototype.renderSwitch=function(D){var C=D.label,E=D.onChange,H=D.checked,G=D.ariaLabel;D=D.loading;return(0,l.h)("calcite-label",null,(0,l.h)("div",{class:"mfa-section-toggle margin-left-0 margin-right-0 flex flex-align-center"},(0,l.h)("div",{class:"flex-1 margin-right-1 font-size-0"},C),!D&&(0,l.h)("calcite-switch",{class:"flex-0",label:G||C,checked:H,oncalciteSwitchChange:E}),D&&(0,l.h)("calcite-loader",
{label:"",inline:!0})))};B.prototype.addEventListeners=function(){var D=this;this.own(b.default.subscribe("mfa-admins/update",function(){return a.__awaiter(D,void 0,void 0,function(){return a.__generator(this,function(C){switch(C.label){case 0:return this.togglingMFA=!1,[4,this.refreshData()];case 1:return C.sent(),this.enableMFASaving=!1,this.renderSwitches(),this.getDataAndRenderEnforce(),[2]}})})}),b.default.subscribe("mfa-admins/cancel",function(){D.togglingMFA&&(D.togglingMFA=!1,D.renderSwitches())}),
b.default.subscribe("mfa-toggle/loading-done",function(){D.enableMFASaving=!1;D.renderSwitches()}),b.default.subscribe("mfa-toggle/loading",function(){D.enableMFASaving=!0;D.renderSwitches()}))};B.prototype.getDataAndRenderEnforce=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(D){switch(D.label){case 0:return this.portal.isPortal?(p.default.hideNode(this.domNode.querySelector(".js-adoption-status")),[2]):[4,this.getTotalMembers()];case 1:return D.sent(),
[4,this.getMFAEnabledCount()];case 2:return D.sent(),this.renderEnforceSection(),[2]}})})};B.prototype.renderEnforceSection=function(D){return a.__awaiter(this,void 0,void 0,function(){var C,E=this,H;return a.__generator(this,function(G){switch(G.label){case 0:if(null===(H=this.signInSettings.enforceMfaException)||void 0===H||!H.length)return[3,2];C=this;return[4,this.getAllExemptUsers(this.signInSettings.enforceMfaException)];case 1:C.exemptMembers=G.sent(),G.label=2;case 2:return(0,l.render)((0,l.h)(h.EnforceMFA,
{enabledCount:this.mfaEnabledCount,totalMembers:this.totalMembers,mfaEnforced:!!this.signInSettings.enforceMfa,portal:this.portal,portalUser:this.portalUser,exemptMembers:D||this.exemptMembers,mfaEnabled:!!this.portal.mfaEnabled,onSendReminders:function(F){return a.__awaiter(E,void 0,void 0,function(){return a.__generator(this,function(I){switch(I.label){case 0:return[4,this.createNotification(F)];case 1:return I.sent(),[2]}})})},onEnforceChange:function(F){F?E.showConfirmEnforceMFA():E.showConfirmRemoveEnforce()},
onManageExemptions:function(F){E.manageExemptions(F)}}),this.domNode.querySelector(".js-enforce-section")),this.renderPieCharts(D),[2]}})})};B.prototype.getTotalMembers=function(){return a.__awaiter(this,void 0,void 0,function(){var D;return a.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/users"),content:{num:0,provider:"arcgis"}})];case 1:return D=C.sent(),this.totalMembers=D.total,[3,3];case 2:return C.sent(),
[3,3];case 3:return[2]}})})};B.prototype.getMFAEnabledCount=function(){return a.__awaiter(this,void 0,void 0,function(){var D;return a.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/users"),content:{num:0,mfaEnabled:!0}})];case 1:return D=C.sent(),this.mfaEnabledCount=D.total,[3,3];case 2:return C.sent(),[3,3];case 3:return[2]}})})};B.prototype.refreshMFAConfig=function(){return a.__awaiter(this,
void 0,void 0,function(){var D;return a.__generator(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self")})];case 1:return D=C.sent(),this.portal.mfaConfig=D.mfaConfig,[3,3];case 2:return C.sent(),[3,3];case 3:return[2]}})})};B.prototype.checkSupportsEmail=function(){return r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self")}).then(function(D){return D.supportsEmail})};B.prototype.confirmDisable=
function(){this.confirmContainer||(this.confirmContainer=document.createElement("div"),document.body.appendChild(this.confirmContainer));this.renderConfirmDisable()};B.prototype.closeConfirm=function(){(0,l.render)(null,this.confirmContainer)};B.prototype.renderConfirmDisable=function(){var D=this.i18n.confirmDialog;(0,l.render)((0,l.h)(n.default,{autoCloseOnOk:!0,strings:{title:D.title,description:D.description,ok:this.i18n.ok,cancel:this.i18n.cancel,close:this.i18n.close},width:"s",onOk:this.proceedToDisable,
onCancel:this.cancelDisable}),this.confirmContainer)};B.prototype.manageExemptions=function(D,C,E){return a.__awaiter(this,void 0,void 0,function(){var H,G,F=this,I;return a.__generator(this,function(J){switch(J.label){case 0:return[4,this.refreshSignInSettings()];case 1:J.sent();if(C||null===(I=this.signInSettings.enforceMfaException)||void 0===I||!I.length)return[3,3];H=this;return[4,this.getAllExemptUsers(this.signInSettings.enforceMfaException)];case 2:H.exemptMembers=J.sent(),J.label=3;case 3:return G=
new q.default({title:this.i18n.exemptionList,portal:this.portal,portalUser:this.portalUser,selectedMembers:C||this.exemptMembers,opener:D,closeOnScrimClick:!1,mfaMode:!0,showMFAToggle:!0,showCategoryFilter:!0,selectionLimit:this.exemptLimit,limitText:this.i18n.maxExempt.replace("${number}",this.exemptLimit)}),G.domNode.style.zIndex="1000",G.open(),G.on("save",function(K){return a.__awaiter(F,void 0,void 0,function(){var P;return a.__generator(this,function(T){switch(T.label){case 0:return this.exemptMembers=
K,[4,this.updateExemptions(K.map(function(S){return S.username}))];case 1:return(P=T.sent())&&this.renderEnforceSection(K),E&&this.showConfirmEnforceMFA(),G.close(),[2]}})})}),[2]}})})};B.prototype.proceedToDisable=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(D){switch(D.label){case 0:this.closeConfirm(),this.enableMFASaving=!0,this.renderSwitches(),D.label=1;case 1:return D.trys.push([1,4,,5]),[4,this.updateSetting({mfaEnabled:!1},this.i18n.toggleError,
this.i18n.toggleSuccess,!1,"",12E4)];case 2:return D.sent(),this.portal.mfaAdmins=[],this.signInSettings.enforceMfa=!1,[4,this.refreshData()];case 3:return D.sent(),this.enableMFASaving=!1,b.default.publish("mfa-toggle/update",!1),this.renderSwitches(),this.getDataAndRenderEnforce(),[3,5];case 4:return D.sent(),this.enableMFASaving=!1,[3,5];case 5:return[2]}})})};B.prototype.refreshData=function(){return a.__awaiter(this,void 0,void 0,function(){var D;return a.__generator(this,function(C){switch(C.label){case 0:return[4,
r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self")})];case 1:return D=C.sent(),this.portal.mfaEnabled=D.mfaEnabled,this.portal.mfaConfig=D.mfaConfig,this.portal.mfaAdmins=D.mfaAdmins,[4,this.refreshSignInSettings()];case 2:return C.sent(),[2]}})})};B.prototype.refreshSignInSettings=function(){return a.__awaiter(this,void 0,void 0,function(){var D;return a.__generator(this,function(C){switch(C.label){case 0:return[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/signinSettings")})];
case 1:return this.signInSettings=D=C.sent(),[2]}})})};B.prototype.cancelDisable=function(){this.renderSwitches();this.closeConfirm()};return B=a.__decorate([(0,x.default)(m.default)],B)}()})},"arcgisonline/pages/components/EnforceMFA/EnforceMFA":function(){define("require exports tslib preact preact/hooks preact/compat dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});M.EnforceMFA=void 0;m=a.__importDefault(m);M.EnforceMFA=function(h){function u(){x(!1)}
function r(){c(y);x(!1)}function e(D){A(D.target.value)}var v,g,p=h.mfaEnforced,n=h.mfaEnabled,q=h.portal,l=h.exemptMembers,c=h.onSendReminders,d=h.onEnforceChange,w=h.onManageExemptions;h=a.__assign(a.__assign({},m.default.common),m.default.securityTab.multifactorAuth);var t=(null===(v=(q.allAdmins.filter(function(D){return q.mfaAdmins.some(function(C){return D.username===C})})||[])[0])||void 0===v?void 0:v.email)||"";t=h.emailModal.bodyText.replace("${adminEmail}",t);var z=(0,k.useState)(!1);v=
z[0];var x=z[1];t=(0,k.useState)(t);var y=t[0],A=t[1],B=(0,k.useRef)(null);return q.mfaEnabled?(0,b.h)("div",{class:"leader-1 ".concat(n?"":"hide")},(0,b.h)("div",{class:"mfa-enforcement__section-title avenir-demi trailer-0 font-size-2"},h.enforcementSectionTitle),(0,b.h)("p",{class:"trailer-half font-size--1"},h.enforcementDesc),p&&(0,b.h)("calcite-notice",{open:!0,icon:"check-shield"},(0,b.h)("div",{slot:"message"},h.enforcementInEffect)),!p&&(0,b.h)("calcite-button",{class:"leader-half",appearance:"outline",
"icon-start":"check-shield",onClick:function(){d(!0)}},h.enforceButton),p&&(0,b.h)("calcite-button",{class:"leader-half",appearance:"outline",onClick:function(){d(!1)}},h.disableEnforce),(0,b.h)("div",{class:"leader-1"},(0,b.h)("p",{class:"avenir-demi trailer-0"},h.exemptionList),(0,b.h)("p",{class:"trailer-half font-size--1"},h.exemptionDesc),(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("calcite-button",{appearance:"outline",onClick:function(){w(B.current)}},h.manageExemption),(0,b.h)("div",
{class:"margin-left-1"},h.exemptionCount.replace("${num}",null!==(g=null===l||void 0===l?void 0:l.length)&&void 0!==g?g:0)))),v&&(0,f.createPortal)((0,b.h)("calcite-modal",{class:"bring-modal-to-front",open:!0,kind:"brand",outsideCloseDisabled:!0,oncalciteModalClose:u},(0,b.h)("h3",{slot:"header",class:"font-size-1 trailer-0"},h.emailModal.title),(0,b.h)("div",{slot:"content"},(0,b.h)("p",{class:"trailer-half"},h.emailModal.description),(0,b.h)("div",{class:"font-size--1"},h.emailModal.subjectPreview),
(0,b.h)("div",null,h.emailModal.subjectText),(0,b.h)("label",{class:"leader-half",for:"email-body-preview"},h.emailModal.bodyPreview,(0,b.h)("textarea",{id:"email-body-preview",rows:12,onInput:e},y))),(0,b.h)("calcite-button",{slot:"primary",width:"full",appearance:"solid",onClick:r},h.emailModal.sendEmail),(0,b.h)("calcite-button",{slot:"secondary",width:"full",appearance:"outline",onClick:u},h.cancel)),document.body)):null}})},"arcgisonline/pages/organization/widgets/settings/AdminBrowserOverlay":function(){define("require exports tslib esri/Evented dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay ../../../dijit/MemberBrowser ../../../dijit/MemberBrowser/MemberBrowserRow arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.i18n=k.default;this.constrain=!0;this.overlayContents='\x3cdiv\x3e\x3cdiv class\x3d"js-member-browser"\x3e\x3c/div\x3e\x3c/div\x3e';this.selectedMembers=[];this.compatibleRoleIds=["org_admin"];this.showMFAToggle=this.mfaMode=!1}v.prototype.open=function(){this.inherited(arguments);
this.memberBrowser=new u.default({userTypeFilter:!0,groupsFilter:!0,roleFilter:this.mfaMode,portal:this.portal,user:this.portalUser,row:r.default,showSelected:!0,showMFAToggle:this.showMFAToggle,overlay:!0,selected:a.__spreadArray([],this.selectedMembers,!0),baseQuery:this.mfaMode?"(provider:arcgis)":"(role:".concat(this.compatibleRoleIds.join(" OR role:"),")"),selectionLimit:this.selectionLimit,limitText:this.limitText},this.domNode.querySelector(".js-member-browser"));this._primaryBtn.id="designated-admin-save-btn";
this._cancelBtn.id="designated-admin-cancel-btn"};v.prototype.close=function(){this.inherited(arguments)};v.prototype.handlePrimary=function(){this.emit("save",this.memberBrowser.selected)};v.prototype.handleCancel=function(){this.emit("cancel");this.close()};return v=a.__decorate([(0,e.default)(m.default,f.default,h.default,b.default)],v)}()})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),
function(U,M,a,b,k,f){var m=a("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(h){h=h||{};var u=m.defaultTheme;M.forEach("chart plotarea axis grid series marker indicator".split(" "),function(r){this[r]=U.delegate(u[r],h[r])},this);h.seriesThemes&&h.seriesThemes.length?(this.colors=null,this.seriesThemes=h.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(h.colors||m.defaultColors).slice(0));this.markerThemes=null;h.markerThemes&&h.markerThemes.length&&
(this.markerThemes=h.markerThemes.slice(0));this.markers=h.markers?U.clone(h.markers):U.delegate(m.defaultMarkers);this.noGradConv=h.noGradConv;this.noRadialConv=h.noRadialConv;h.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var h=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,
markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv,pieInnerRadius:this.pieInnerRadius});M.forEach("clone clear next skip addMixin post getTick".split(" "),function(u){this.hasOwnProperty(u)&&(h[u]=this[u])},this);return h},clear:function(){this._current=0},next:function(h,u,r){var e=k.merge;if(this.colors){var v=U.delegate(this.series);e=U.delegate(this.marker);var g=new b(this.colors[this._current%this.colors.length]);if(v.stroke&&v.stroke.color){v.stroke=U.delegate(v.stroke);
var p=new b(v.stroke.color);v.stroke.color=new b(g);v.stroke.color.a=p.a}else v.stroke={color:g};e.stroke&&e.stroke.color?(e.stroke=U.delegate(e.stroke),p=new b(e.stroke.color),e.stroke.color=new b(g),e.stroke.color.a=p.a):e.stroke={color:g};!v.fill||v.fill.type?v.fill=g:(p=new b(v.fill),v.fill=new b(g),v.fill.a=p.a);!e.fill||e.fill.type?e.fill=g:(p=new b(e.fill),e.fill=new b(g),e.fill.a=p.a)}else v=this.seriesThemes?e(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,
e=this.markerThemes?e(this.marker,this.markerThemes[this._current%this.markerThemes.length]):v;v={series:v,marker:e,symbol:e&&e.symbol||this._markers[this._current%this._markers.length]};++this._current;u&&(v=this.addMixin(v,h,u));r&&(v=this.post(v,h));return v},skip:function(){++this._current},addMixin:function(h,u,r,e){if(U.isArray(r))M.forEach(r,function(g){h=this.addMixin(h,u,g)},this);else{var v={};"color"in r&&("line"==u||"area"==u?(U.setObject("series.stroke.color",r.color,v),U.setObject("marker.stroke.color",
r.color,v)):U.setObject("series.fill",r.color,v));M.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(g){var p="marker"+g.charAt(0).toUpperCase()+g.substr(1),n=p in r;g in r&&(U.setObject("series."+g,r[g],v),n||U.setObject("marker."+g,r[g],v));n&&U.setObject("marker."+g,r[p],v)});"marker"in r&&(v.symbol=r.marker,v.symbol=r.marker);h=k.merge(h,v)}e&&(h=this.post(h,u));return h},post:function(h,u){var r=h.series.fill,e;return!this.noGradConv&&this.shapeSpaces[r.space]&&
"linear"==r.type&&("bar"==u?e={x1:r.y1,y1:r.x1,x2:r.y2,y2:r.x2}:this.noRadialConv||"shape"!=r.space||"slice"!=u&&"circle"!=u||(e={type:"radial",cx:0,cy:0,r:100}),e)?k.merge(h,{series:{fill:e}}):h},getTick:function(h,u){var r=this.axis.tick;h+="Tick";var e=k.merge;r?this.axis[h]&&(r=e(r,this.axis[h])):r=this.axis[h];u&&(r?u[h]&&(r=e(r,u[h])):r=u[h]);return r},inspectObjects:function(h){M.forEach("chart plotarea axis grid series marker indicator".split(" "),function(u){h(this[u])},this);this.seriesThemes&&
M.forEach(this.seriesThemes,h);this.markerThemes&&M.forEach(this.markerThemes,h)},reverseFills:function(){this.inspectObjects(function(h){h&&h.fill&&(h.fill=f.reverse(h.fill))})},addMarker:function(h,u){this.markers[h]=u;this._buildMarkerArray()},setMarkers:function(h){this.markers=h;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var h in this.markers)this._markers.push(this.markers[h])}});U.mixin(m,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",
DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",
font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:.8,length:3},microTick:{width:.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},
shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:.1,color:"#ccc"},markerShadow:null}}});
return m})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(U,M){var a=M.getObject("lang.utils",!0,U),b={},k=Object.prototype.toString,f=function(m){if(m)switch(k.call(m)){case "[object Array]":return m.slice(0);case "[object Object]":return M.delegate(m)}return m};M.mixin(a,{coerceType:function(m,h){switch(typeof m){case "number":return Number(eval("("+h+")"));case "string":return String(h);case "boolean":return!!eval("("+h+")")}return eval("("+h+")")},updateWithObject:function(m,
h,u){if(!h)return m;for(var r in m)if(r in h&&!(r in b)){var e=m[r];e&&"object"==typeof e?a.updateWithObject(e,h[r],u):m[r]=u?a.coerceType(e,h[r]):f(h[r])}return m},updateWithPattern:function(m,h,u,r){if(!h||!u)return m;for(var e in u)e in h&&!(e in b)&&(m[e]=r?a.coerceType(u[e],h[e]):f(h[e]));return m},merge:function(m,h){if(h){var u=k.call(m),r=k.call(h);switch(r){case "[object Array]":if(r==u){u=Array(Math.max(m.length,h.length));var e=0;for(r=u.length;e<r;++e)u[e]=a.merge(m[e],h[e]);return u}return h.slice(0);
case "[object Object]":if(r==u&&m){u=M.delegate(m);for(e in h)if(e in m){r=m[e];var v=h[e];v!==r&&(u[e]=a.merge(r,v))}else u[e]=M.clone(h[e]);return u}return M.clone(h)}}return h}});return a})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(U,M,a,b){function k(f,m){if(0>=f)return m[0].color;var h=m.length;if(1<=f)return m[h-1].color;for(var u=0;u<h;++u){var r=m[u];if(r.offset>=f)return u?(m=m[u-1],b.blendColors(new b(m.color),new b(r.color),
(f-m.offset)/(r.offset-m.offset))):r.color}return m[h-1].color}U=U.gradutils={};U.getColor=function(f,m){if(f){switch(f.type){case "linear":var h=a.rotate(-Math.atan2(f.y2-f.y1,f.x2-f.x1));var u=a.project(f.x2-f.x1,f.y2-f.y1);m=a.multiplyPoint(u,m);var r=a.multiplyPoint(u,f.x1,f.y1);u=a.multiplyPoint(u,f.x2,f.y2);u=a.multiplyPoint(h,u.x-r.x,u.y-r.y).x;h=a.multiplyPoint(h,m.x-r.x,m.y-r.y).x/u;break;case "radial":h=m.x-f.cx,m=m.y-f.cy,h=Math.sqrt(h*h+m*m)/f.r}return k(h,f.colors)}return new b(f||[0,
0,0,0])};U.reverse=function(f){if(f)switch(f.type){case "linear":case "radial":if(f=M.delegate(f),f.colors){for(var m=f.colors,h=m.length,u=0,r,e=f.colors=Array(m.length);u<h;++u)r=m[u],e[u]={offset:1-r.offset,color:r.color};e.sort(function(v,g){return v.offset-g.offset})}}return f};return U})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common ./plot2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){function w(E){return E.clear()}function t(E){return E.destroy()}function z(E){return E.dirty=!1}function x(E){return E.dirty=!0}function y(E){return E.name}function A(E,H){E&&H&&(E.min=Math.min(E.min,H.min),E.max=Math.max(E.max,H.max));return E||H}function B(E,H){var G={},F={};a.forEach(E,function(I){var J=G[I.name]=I.getSeriesStats();I.hAxis&&(F[I.hAxis]=A(F[I.hAxis],{min:J.hmin,max:J.hmax}));I.vAxis&&(F[I.vAxis]=A(F[I.vAxis],{min:J.vmin,max:J.vmax}))});
a.forEach(E,function(I){var J=G[I.name];if(I.hAxis){var K=F[I.hAxis];J.hmin=K.min;J.hmax=K.max}I.vAxis&&(K=F[I.vAxis],J.vmin=K.min,J.vmax=K.max);I.initializeScalers(H,J)})}var D=M.getObject("charting",!0,U),C={l:10,t:10,r:10,b:10};U=b(r("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(E,H){H||(H={});this.margins=H.margins||C;this._customMargins=!!H.margins;this.stroke=H.stroke;this.fill=H.fill;this.delayInMs=H.delayInMs||200;this.title=H.title;this.titleGap=
H.titleGap;this.titlePos=H.titlePos;this.titleFont=H.titleFont;this.titleFontColor=H.titleFontColor;this.titleAlign=H.titleAlign;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in H&&(this.htmlLabels=H.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=f.byId(E);E=m.getMarginBox(E);this.surface=l.createSurface(this.node,E.w||400,E.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){a.forEach(this.series,
t);a.forEach(this.stack,t);d.forIn(this.axes,t);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&h.destroy(this.chartTitle)},getCoords:function(){var E=this.node,H=k.getComputedStyle(E);H=m.getMarginBox(E,H);E=m.position(E,!0);H.x=E.x;H.y=E.y;return H},setTheme:function(E){this.theme=E.clone();this._customMargins||(this.margins=this.theme.chart.margins||C);this.dirty=!0;return this},addAxis:function(E,H){var G=H&&H.type||"Default";if("string"==typeof G){if(!D.axis2d||!D.axis2d[G])throw Error("Can't find axis: "+
G+" - Check require() dependencies.");H=new D.axis2d[G](this,H)}else H=new G(this,H);H.name=E;H.dirty=!0;E in this.axes&&this.axes[E].destroy();this.axes[E]=H;this.dirty=!0;return this},getAxis:function(E){return this.axes[E]},removeAxis:function(E){E in this.axes&&(this.axes[E].destroy(),delete this.axes[E],this.dirty=!0);return this},addPlot:function(E,H){var G=H&&H.type||"Default";if("string"==typeof G){if(!D.plot2d||!D.plot2d[G])throw Error("Can't find plot: "+G+" - didn't you forget to dojo.require() it?");
H=new D.plot2d[G](this,H)}else H=new G(this,H);H.name=E;H.dirty=!0;E in this.plots?(this.stack[this.plots[E]].destroy(),this.stack[this.plots[E]]=H):(this.plots[E]=this.stack.length,this.stack.push(H));this.dirty=!0;return this},getPlot:function(E){return this.stack[this.plots[E]]},removePlot:function(E){if(E in this.plots){var H=this.plots[E];delete this.plots[E];this.stack[H].destroy();this.stack.splice(H,1);d.forIn(this.plots,function(F,I,J){F>H&&(J[I]=F-1)});var G=a.filter(this.series,function(F){return F.plot!=
E});G.length<this.series.length&&(a.forEach(this.series,function(F){F.plot==E&&F.destroy()}),this.runs={},a.forEach(G,function(F,I){this.runs[F.plot]=I},this),this.series=G);this.dirty=!0}return this},getPlotOrder:function(){return d.map(this.stack,y)},setPlotOrder:function(E){var H={},G=d.filter(E,function(F){if(!(F in this.plots)||F in H)return!1;H[F]=1;return!0},this);G.length<this.stack.length&&d.forEach(this.stack,function(F){F=F.name;F in H||G.push(F)});E=d.map(G,function(F){return this.stack[this.plots[F]]},
this);d.forEach(E,function(F,I){this.plots[F.name]=I},this);this.stack=E;this.dirty=!0;return this},movePlotToFront:function(E){if(E in this.plots){var H=this.plots[E];if(H){var G=this.getPlotOrder();G.splice(H,1);G.unshift(E);return this.setPlotOrder(G)}}return this},movePlotToBack:function(E){if(E in this.plots){var H=this.plots[E];if(H<this.stack.length-1){var G=this.getPlotOrder();G.splice(H,1);G.push(E);return this.setPlotOrder(G)}}return this},addSeries:function(E,H,G){H=new g(this,H,G);H.name=
E;E in this.runs?(this.series[this.runs[E]].destroy(),this.series[this.runs[E]]=H):(this.runs[E]=this.series.length,this.series.push(H));this.dirty=!0;!("ymin"in H)&&"min"in H&&(H.ymin=H.min);!("ymax"in H)&&"max"in H&&(H.ymax=H.max);return this},getSeries:function(E){return this.series[this.runs[E]]},removeSeries:function(E){if(E in this.runs){var H=this.runs[E];delete this.runs[E];this.series[H].destroy();this.series.splice(H,1);d.forIn(this.runs,function(G,F,I){G>H&&(I[F]=G-1)});this.dirty=!0}return this},
updateSeries:function(E,H,G){E in this.runs&&(E=this.series[this.runs[E]],E.update(H),G?this.dirty=!0:(this._invalidateDependentPlots(E.plot,!1),this._invalidateDependentPlots(E.plot,!0)));return this},getSeriesOrder:function(E){return d.map(d.filter(this.series,function(H){return H.plot==E}),y)},setSeriesOrder:function(E){var H,G={},F=d.filter(E,function(I){if(!(I in this.runs)||I in G)return!1;var J=this.series[this.runs[I]];if(H){if(J.plot!=H)return!1}else H=J.plot;G[I]=1;return!0},this);d.forEach(this.series,
function(I){var J=I.name;J in G||I.plot!=H||F.push(J)});this.series=d.map(F,function(I){return this.series[this.runs[I]]},this).concat(d.filter(this.series,function(I){return I.plot!=H}));d.forEach(this.series,function(I,J){this.runs[I.name]=J},this);this.dirty=!0;return this},moveSeriesToFront:function(E){if(E in this.runs){var H=this.runs[E],G=this.getSeriesOrder(this.series[H].plot);if(E!=G[0])return G.splice(H,1),G.unshift(E),this.setSeriesOrder(G)}return this},moveSeriesToBack:function(E){if(E in
this.runs){var H=this.runs[E],G=this.getSeriesOrder(this.series[H].plot);if(E!=G[G.length-1])return G.splice(H,1),G.push(E),this.setSeriesOrder(G)}return this},resize:function(E,H){switch(arguments.length){case 1:m.setMarginBox(this.node,E);break;case 2:m.setMarginBox(this.node,{w:E,h:H})}var G=m.getMarginBox(this.node),F=this.surface.getDimensions();return F.width!=G.w||F.height!=G.h?(this.surface.setDimensions(G.w,G.h),this.dirty=!0,this.render()):this},getGeometry:function(){var E={};d.forIn(this.axes,
function(H){H.initialized()&&(E[H.name]={name:H.name,vertical:H.vertical,scaler:H.scaler,ticks:H.ticks})});return E},setAxisWindow:function(E,H,G,F){var I=this.axes[E];I&&(I.setWindow(H,G),a.forEach(this.stack,function(J){if(J.hAxis==E||J.vAxis==E)J.zoom=F}));return this},setWindow:function(E,H,G,F,I){"plotArea"in this||this.calculateGeometry();d.forIn(this.axes,function(J){var K=J.getScaler().bounds;var P=K.span/(K.upper-K.lower);J.vertical?(K=H,P=F/P/K):(K=E,P=G/P/K);J.setWindow(K,P)});a.forEach(this.stack,
function(J){J.zoom=I});return this},zoomIn:function(E,H,G){var F=this.axes[E];if(F){F=F.getScaler().bounds;var I=Math.min(H[0],H[1]),J=Math.max(H[0],H[1]);I=H[0]<F.lower?F.lower:I;J=H[1]>F.upper?F.upper:J;this.setAxisWindow(E,(F.upper-F.lower)/(J-I),I-F.lower);G?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var E=a.filter(this.stack,function(H){return H.dirty||H.hAxis&&this.axes[H.hAxis].dirty||H.vAxis&&this.axes[H.vAxis].dirty},this);B(E,
this.plotArea);return this},fullGeometry:function(){this._makeDirty();a.forEach(this.stack,w);this.theme||this.setTheme(new v);a.forEach(this.series,function(I){if(!(I.plot in this.plots)){if(!D.plot2d||!D.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var J=new D.plot2d.Default(this,{});J.name=I.plot;this.plots[I.plot]=this.stack.length;this.stack.push(J)}this.stack[this.plots[I.plot]].addSeries(I)},this);a.forEach(this.stack,function(I){I.assignAxes&&
I.assignAxes(this.axes)},this);var E=this.dim=this.surface.getDimensions();E.width=l.normalizedLength(E.width);E.height=l.normalizedLength(E.height);d.forIn(this.axes,w);B(this.stack,E);var H=this.offsets={l:0,r:0,t:0,b:0},G=this;d.forIn(this.axes,function(I){r("dojo-bidi")&&G._resetLeftBottom(I);d.forIn(I.getOffsets(),function(J,K){H[K]=Math.max(J,H[K])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||
"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var F=l.normalizedLength(l.splitFontString(this.titleFont).size);H["top"==this.titlePos?"t":"b"]+=F+this.titleGap}d.forIn(this.margins,function(I,J){H[J]+=I});this.plotArea={width:E.width-H.l-H.r,height:E.height-H.t-H.b};d.forIn(this.axes,w);B(this.stack,
this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();d.forEachRev(this.stack,function(E){E.render(this.dim,this.offsets)},this);d.forIn(this.axes,function(E){E.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var E=this.offsets,H=this.dim,G=Math.max(0,
H.width-E.l-E.r),F=Math.max(0,H.height-E.t-E.b);a.forEach(this.series,n.purgeGroup);d.forIn(this.axes,n.purgeGroup);a.forEach(this.stack,n.purgeGroup);var I=this.surface.children;if(q.dispose)for(var J=0;J<I.length;++J)q.dispose(I[J]);this.chartTitle&&this.chartTitle.tagName&&h.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(H,E);this._renderPlotBackground(H,E,G,F);d.foldr(this.stack,function(K,P){return P.render(H,E),0},0);this._nativeClip||this._renderChartBackground(H,
E);this.title&&this._renderTitle(H,E);d.forIn(this.axes,function(K){K.render(H,E)});this._makeClean();return this},_renderTitle:function(E,H){var G="canvas"==l.renderer&&this.htmlLabels||!r("ie")&&!r("opera")&&this.htmlLabels?"html":"gfx",F=l.normalizedLength(l.splitFontString(this.titleFont).size),I=l._base._getTextBox(this.title,{font:this.titleFont}),J=this.titleAlign,K=r("dojo-bidi")&&this.isRightToLeft(),P=E.width/2;"edge"===J?(J="left",P=K?E.width-(H.r+I.w):H.l):"middle"!=J&&(K&&(J="left"===
J?"right":"left"),"left"===J?P=this.margins.l:"right"===J&&(J="left",P=E.width-(this.margins.l+I.w)));this.chartTitle=p.createText[G](this,this.surface,P,"top"==this.titlePos?F+this.margins.t:E.height-this.margins.b,J,this.title,this.titleFont,this.titleFontColor)},_renderChartBackground:function(E,H){var G=this.theme,F=void 0!==this.fill?this.fill:G.chart&&G.chart.fill;G=void 0!==this.stroke?this.stroke:G.chart&&G.chart.stroke;if("inherit"==F){var I=this.node;for(F=new u(k.get(I,"backgroundColor"));0==
F.a&&I!=document.documentElement;)F=new u(k.get(I,"backgroundColor")),I=I.parentNode}F&&(this._nativeClip?(F=e.prototype._shapeFill(e.prototype._plotFill(F,E),{x:0,y:0,width:E.width+1,height:E.height+1}),this.surface.createRect({width:E.width+1,height:E.height+1}).setFill(F)):(F=e.prototype._plotFill(F,E,H),H.l&&(I={x:0,y:0,width:H.l,height:E.height+1},this.surface.createRect(I).setFill(e.prototype._shapeFill(F,I))),H.r&&(I={x:E.width-H.r,y:0,width:H.r+1,height:E.height+2},this.surface.createRect(I).setFill(e.prototype._shapeFill(F,
I))),H.t&&(I={x:0,y:0,width:E.width+1,height:H.t},this.surface.createRect(I).setFill(e.prototype._shapeFill(F,I))),H.b&&(I={x:0,y:E.height-H.b,width:E.width+1,height:H.b+2},this.surface.createRect(I).setFill(e.prototype._shapeFill(F,I)))));G&&this.surface.createRect({width:E.width-1,height:E.height-1}).setStroke(G)},_renderPlotBackground:function(E,H,G,F){var I=this.theme,J=I.plotarea&&I.plotarea.fill;I=I.plotarea&&I.plotarea.stroke;var K={x:H.l-1,y:H.t-1,width:G+2,height:F+2};J&&(J=e.prototype._shapeFill(e.prototype._plotFill(J,
E,H),K),this.surface.createRect(K).setFill(J));I&&this.surface.createRect({x:H.l,y:H.t,width:G+1,height:F+1}).setStroke(I)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(M.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(E,H,G){return E in this.plots?this.stack[this.plots[E]].connect(H,G):null},fireEvent:function(E,H,G){if(E in this.runs){var F=this.series[this.runs[E]].plot;F in this.plots&&(F=this.stack[this.plots[F]])&&
F.fireEvent(E,H,G)}return this},_makeClean:function(){a.forEach(this.axes,z);a.forEach(this.stack,z);a.forEach(this.series,z);this.dirty=!1},_makeDirty:function(){a.forEach(this.axes,x);a.forEach(this.stack,x);a.forEach(this.series,x);this.dirty=!0},_invalidateDependentPlots:function(E,H){if(E in this.plots){var G=this.stack[this.plots[E]],F=H?"vAxis":"hAxis";G[F]?(E=this.axes[G[F]])&&E.dependOnData()&&(E.dirty=!0,a.forEach(this.stack,function(I){I[F]&&I[F]==G[F]&&(I.dirty=!0)})):G.dirty=!0}},setDir:function(E){return this},
_resetLeftBottom:function(E){},formatTruncatedLabel:function(E,H,G){}});return r("dojo-bidi")?b("dojox.charting.Chart",[U,c]):U})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(U,M,a,b,k){return a("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,constructor:function(f,m){this.chart=f;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol=
"...";this._events=[];m&&m.renderingOptions&&(this.renderingOptions=m.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var f=this.getGroup().children;if(k.dispose)for(var m=0;m<f.length;++m)k.dispose(f[m],!0);this.getGroup().rawNode&&M.empty(this.getGroup().rawNode);this.getGroup().clear();k.dispose&&k.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&M.empty(this.group.rawNode),this.group.clear(),k.dispose&&
k.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(U.forEach(this._events,function(h){h.shape.disconnect(h.handle)}),this._events=[]);return this},cleanGroup:function(f){this.destroyHtmlElements();f||(f=this.chart.surface);if(this.group){f=this.getGroup().children;if(k.dispose)for(var m=0;m<f.length;++m)k.dispose(f[m],!0);if(this.getGroup().rawNode){var h=this.getGroup().bgNode;M.empty(this.getGroup().rawNode)}this.getGroup().clear();h&&this.getGroup().rawNode.appendChild(h)}else if(this.group=
f.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(m in this.renderingOptions)this.group.rawNode.setAttribute(m,this.renderingOptions[m]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(U.forEach(this.htmlElements,M.destroy),this.htmlElements=[])},destroy:function(){this.purgeGroup()},overrideShape:function(f,m){},getTextWidth:function(f,m){return b._base._getTextBox(f,
{font:m}).w||0},getTextWithLimitLength:function(f,m,h,u){if(!f||0>=f.length)return{text:"",truncated:u||!1};if(!h||0>=h)return{text:f,truncated:u||!1};var r=f.substring(0,1)+this.trailingSymbol,e=this.getTextWidth(r,m);if(h<=e)return{text:r,truncated:!0};if(this.getTextWidth(f,m)<=h)return{text:f,truncated:u||!1};u=0;for(r=f.length;u<r;){if(2>=r-u){for(;this.getTextWidth(f.substring(0,u)+this.trailingSymbol,m)>h;)--u;return{text:f.substring(0,u)+this.trailingSymbol,truncated:!0}}e=u+Math.round(.618*
(r-u));this.getTextWidth(f.substring(0,e),m)<h?u=e:r=e}},getTextWithLimitCharCount:function(f,m,h,u){return!f||0>=f.length?{text:"",truncated:u||!1}:!h||0>=h||f.length<=h?{text:f,truncated:u||!1}:{text:f.substring(0,h)+this.trailingSymbol,truncated:!0}},_plotFill:function(f,m,h){if(!f||!f.type||!f.space)return f;var u=f.space;switch(f.type){case "linear":if("plot"===u||"shapeX"===u||"shapeY"===u){f=b.makeParameters(b.defaultLinearGradient,f);f.space=u;if("plot"===u||"shapeX"===u){var r=m.height-h.t-
h.b;f.y1=h.t+r*f.y1/100;f.y2=h.t+r*f.y2/100}if("plot"===u||"shapeY"===u)r=m.width-h.l-h.r,f.x1=h.l+r*f.x1/100,f.x2=h.l+r*f.x2/100}break;case "radial":"plot"===u&&(f=b.makeParameters(b.defaultRadialGradient,f),f.space=u,u=m.width-h.l-h.r,m=m.height-h.t-h.b,f.cx=h.l+u*f.cx/100,f.cy=h.t+m*f.cy/100,f.r=f.r*Math.sqrt(u*u+m*m)/200);break;case "pattern":if("plot"===u||"shapeX"===u||"shapeY"===u){f=b.makeParameters(b.defaultPattern,f);f.space=u;if("plot"===u||"shapeX"===u)r=m.height-h.t-h.b,f.y=h.t+r*f.y/
100,f.height=r*f.height/100;if("plot"===u||"shapeY"===u)r=m.width-h.l-h.r,f.x=h.l+r*f.x/100,f.width=r*f.width/100}}return f},_shapeFill:function(f,m){if(!f||!f.space)return f;var h=f.space;switch(f.type){case "linear":if("shape"===h||"shapeX"===h||"shapeY"===h){f=b.makeParameters(b.defaultLinearGradient,f);f.space=h;if("shape"===h||"shapeX"===h){var u=m.width;f.x1=m.x+u*f.x1/100;f.x2=m.x+u*f.x2/100}if("shape"===h||"shapeY"===h)u=m.height,f.y1=m.y+u*f.y1/100,f.y2=m.y+u*f.y2/100}break;case "radial":"shape"===
h&&(f=b.makeParameters(b.defaultRadialGradient,f),f.space=h,f.cx=m.x+m.width/2,f.cy=m.y+m.height/2,f.r=f.r*m.width/200);break;case "pattern":if("shape"===h||"shapeX"===h||"shapeY"===h){f=b.makeParameters(b.defaultPattern,f);f.space=h;if("shape"===h||"shapeX"===h)u=m.width,f.x=m.x+u*f.x/100,f.width=u*f.width/100;if("shape"===h||"shapeY"===h)u=m.height,f.y=m.y+u*f.y/100,f.height=u*f.height/100}}return f},_pseudoRadialFill:function(f,m,h,u,r){if(!f||"radial"!==f.type||"shape"!==f.space)return f;var e=
f.space;f=b.makeParameters(b.defaultRadialGradient,f);f.space=e;if(4>arguments.length)return f.cx=m.x,f.cy=m.y,f.r=f.r*h/100,f;e=5>arguments.length?u:(r+u)/2;return{type:"linear",x1:m.x,y1:m.y,x2:m.x+f.r*h*Math.cos(e)/100,y2:m.y+f.r*h*Math.sin(e)/100,colors:f.colors}}})})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(U,M,a){return M("dojox.charting.Series",a,{constructor:function(b,k,f){U.mixin(this,f);"string"!=typeof this.plot&&(this.plot=
"default");this.update(k)},clear:function(){this.dyn={}},update:function(b){U.isArray(b)?this.data=b:(this.source=b,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(U,M,a,b,k){var f=U.getObject("dojox.charting.axis2d.common",!0),m=function(h){h.marginLeft="0px";h.marginTop="0px";h.marginRight=
"0px";h.marginBottom="0px";h.paddingLeft="0px";h.paddingTop="0px";h.paddingRight="0px";h.paddingBottom="0px";h.borderLeftWidth="0px";h.borderTopWidth="0px";h.borderRightWidth="0px";h.borderBottomWidth="0px"};return U.mixin(f,{createText:{gfx:function(h,u,r,e,v,g,p,n){return u.createText({x:r,y:e,text:g,align:v}).setFont(p).setFill(n)},html:function(h,u,r,e,v,g,p,n,q){u=M.doc.createElement("div");var l=u.style;h.getTextDir&&(u.dir=h.getTextDir(g));m(l);l.font=p;u.innerHTML=String(g).replace(/\s/g,
"\x26nbsp;");l.color=n;l.position="absolute";l.left="-10000px";M.body().appendChild(u);var c=b.normalizedLength(b.splitFontString(p).size);if(!q)if(u.getBoundingClientRect){var d=u.getBoundingClientRect();d=d.width||d.right-d.left}else d=a.getMarginBox(u).w;"rtl"==u.dir&&(r+=q?q:d);M.body().removeChild(u);l.position="relative";if(q)switch(l.width=q+"px",v){case "middle":l.textAlign="center";l.left=r-q/2+"px";break;case "end":l.textAlign="right";l.left=r-q+"px";break;default:l.left=r+"px",l.textAlign=
"left"}else switch(v){case "middle":l.left=Math.floor(r-d/2)+"px";break;case "end":l.left=Math.floor(r-d)+"px";break;default:l.left=Math.floor(r)+"px"}l.top=Math.floor(e-c)+"px";l.whiteSpace="nowrap";q=M.doc.createElement("div");l=q.style;m(l);l.width="0px";l.height="0px";q.appendChild(u);h.node.insertBefore(q,h.node.firstChild);k("dojo-bidi")&&h.htmlElementsRegistry.push([q,r,e,v,g,p,n]);return q}}})})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),
function(U,M,a,b,k,f){var m=U.getObject("dojox.charting.plot2d.common",!0);return U.mixin(m,{doIfLoaded:f.doIfLoaded,makeStroke:function(h){if(!h)return h;if("string"==typeof h||h instanceof a)h={color:h};return b.makeParameters(b.defaultStroke,h)},augmentColor:function(h,u){h=new a(h);u=new a(u);u.a=h.a;return u},augmentStroke:function(h,u){if(h=m.makeStroke(h))h.color=m.augmentColor(h.color,u);return h},augmentFill:function(h,u){new a(u);return"string"==typeof h||h instanceof a?m.augmentColor(h,
u):h},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(h,u){for(var r=U.delegate(m.defaultStats),e=0;e<h.length;++e)for(var v=h[e],g=0;g<v.data.length;g++)if(!u(v.data[g])){if("number"==typeof v.data[g]){g=r.vmin;var p=r.vmax;M.forEach(v.data,function(l,c){u(l)||(c+=1,isNaN(l)&&(l=0),r.hmin=Math.min(r.hmin,c),r.hmax=Math.max(r.hmax,c),r.vmin=Math.min(r.vmin,l),r.vmax=Math.max(r.vmax,l))})}else{var n=
r.hmin,q=r.hmax;g=r.vmin;p=r.vmax;"xmin"in v&&"xmax"in v&&"ymin"in v&&"ymax"in v||M.forEach(v.data,function(l,c){u(l)||(c="x"in l?l.x:c+1,l=l.y,isNaN(c)&&(c=0),isNaN(l)&&(l=0),r.hmin=Math.min(r.hmin,c),r.hmax=Math.max(r.hmax,c),r.vmin=Math.min(r.vmin,l),r.vmax=Math.max(r.vmax,l))});"xmin"in v&&(r.hmin=Math.min(n,v.xmin));"xmax"in v&&(r.hmax=Math.max(q,v.xmax))}"ymin"in v&&(r.vmin=Math.min(g,v.ymin));"ymax"in v&&(r.vmax=Math.max(p,v.ymax));break}return r},calculateBarSize:function(h,u,r){r||(r=1);
var e=(h-2*u.gap)/r;"minBarSize"in u&&(e=Math.max(e,u.minBarSize));"maxBarSize"in u&&(e=Math.min(e,u.maxBarSize));e=Math.max(e,1);return{size:e,gap:(h-e*r)/2}},collectStackedStats:function(h){var u=U.clone(m.defaultStats);if(h.length){u.hmin=Math.min(u.hmin,1);u.hmax=k.foldl(h,"seed, run -\x3e Math.max(seed, run.data.length)",u.hmax);for(var r=0;r<u.hmax;++r){var e=h[0].data[r];e=e&&("number"==typeof e?e:e.y);isNaN(e)&&(e=0);u.vmin=Math.min(u.vmin,e);for(var v=1;v<h.length;++v){var g=h[v].data[r];
g=g&&("number"==typeof g?g:g.y);isNaN(g)&&(g=0);e+=g}u.vmax=Math.max(u.vmax,e)}}return u},curve:function(h,u){var r=h.slice(0);"x"==u&&(r[r.length]=r[0]);return M.map(r,function(e,v){if(0==v)return"M"+e.x+","+e.y;if(!isNaN(u)){var g=e.x-r[v-1].x;return"C"+(e.x-g/u*(u-1))+","+r[v-1].y+" "+(e.x-g/u)+","+e.y+" "+e.x+","+e.y}if("X"==u||"x"==u||"S"==u){e=r[v-1];g=r[v];var p=1/6;if(1==v){var n="x"==u?r[r.length-2]:e;p=1/3}else n=r[v-2];v==r.length-1?(v="x"==u?r[1]:g,p=1/3):v=r[v+1];var q=Math.sqrt((g.x-
e.x)*(g.x-e.x)+(g.y-e.y)*(g.y-e.y));var l=Math.sqrt((g.x-n.x)*(g.x-n.x)+(g.y-n.y)*(g.y-n.y));var c=Math.sqrt((v.x-e.x)*(v.x-e.x)+(v.y-e.y)*(v.y-e.y));var d=l*p,w=c*p;d>q/2&&w>q/2?(d=q/2,w=q/2):d>q/2?(d=q/2,w=q/2*c/l):w>q/2&&(w=q/2,d=q/2*l/c);"S"==u&&(n==e&&(d=0),g==v&&(w=0));p=e.x+d*(g.x-n.x)/l;n=e.y+d*(g.y-n.y)/l;l=g.x-w*(v.x-e.x)/c;c=g.y-w*(v.y-e.y)/c}return"C"+(p+","+n+" "+l+","+c+" "+g.x+","+g.y)}).join(" ")},getLabel:function(h,u,r){return f.doIfLoaded("dojo/number",function(e){return(u?e.format(h,
{places:r}):e.format(h))||""},function(){return u?h.toFixed(r):h.toString()})},purgeGroup:function(h){return h.purgeGroup()}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(U){return U})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(U,M,a){var b=M.getObject("lang.functional",!0,U),k={},f=1<"ab".split(/a*/).length?String.prototype.split:function(u){var r=this.split.call(this,
u);(u=u.exec(this))&&0==u.index&&r.unshift("");return r},m=function(u){var r=[],e=f.call(u,/\s*->\s*/m);if(1<e.length)for(;e.length;)u=e.pop(),r=e.pop().split(/\s*,\s*|\s+/m),e.length&&e.push("(function("+r.join(", ")+"){ return ("+u+"); })");else if(u.match(/\b_\b/))r=["_"];else{e=u.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var v=u.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(e||v)e&&(r.push("$1"),u="$1"+u),v&&(r.push("$2"),u+="$2");else{e=u.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var g={};a.forEach(e,function(p){g.hasOwnProperty(p)||(r.push(p),g[p]=1)})}}return{args:r,body:u}},h=function(u){return u.length?function(){var r=u.length-1,e=b.lambda(u[r]).apply(this,arguments);for(--r;0<=r;--r)e=b.lambda(u[r]).call(this,e);return e}:function(r){return r}};M.mixin(b,{rawLambda:function(u){return m(u)},buildLambda:function(u){u=m(u);return"function("+u.args.join(",")+"){return ("+u.body+");}"},lambda:function(u){if("function"==typeof u)return u;
if(u instanceof Array)return h(u);if(k.hasOwnProperty(u))return k[u];var r=m(u);return k[u]=new Function(r.args,"return ("+r.body+");")},clearLambdaCache:function(){k={}}});return b})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(U,M,a,b){var k={};M.mixin(b,{filter:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||U.global;m=b.lambda(m);var u=[],r;if(M.isArray(f)){var e=0;for(r=f.length;e<r;++e){var v=f[e];m.call(h,
v,e,f)&&u.push(v)}}else if("function"==typeof f.hasNext&&"function"==typeof f.next)for(e=0;f.hasNext();)v=f.next(),m.call(h,v,e++,f)&&u.push(v);else for(e in f)e in k||(v=f[e],m.call(h,v,e,f)&&u.push(v));return u},forEach:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||U.global;m=b.lambda(m);var u;if(M.isArray(f)){var r=0;for(u=f.length;r<u;m.call(h,f[r],r,f),++r);}else if("function"==typeof f.hasNext&&"function"==typeof f.next)for(r=0;f.hasNext();m.call(h,f.next(),r++,f));else for(r in f)r in
k||m.call(h,f[r],r,f);return h},map:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||U.global;m=b.lambda(m);var u,r;if(M.isArray(f)){var e=Array(u=f.length);for(r=0;r<u;e[r]=m.call(h,f[r],r,f),++r);}else if("function"==typeof f.hasNext&&"function"==typeof f.next)for(e=[],r=0;f.hasNext();e.push(m.call(h,f.next(),r++,f)));else for(r in e=[],f)r in k||e.push(m.call(h,f[r],r,f));return e},every:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||U.global;m=b.lambda(m);var u;if(M.isArray(f)){var r=
0;for(u=f.length;r<u;++r)if(!m.call(h,f[r],r,f))return!1}else if("function"==typeof f.hasNext&&"function"==typeof f.next)for(r=0;f.hasNext();){if(!m.call(h,f.next(),r++,f))return!1}else for(r in f)if(!(r in k||m.call(h,f[r],r,f)))return!1;return!0},some:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||U.global;m=b.lambda(m);var u;if(M.isArray(f)){var r=0;for(u=f.length;r<u;++r)if(m.call(h,f[r],r,f))return!0}else if("function"==typeof f.hasNext&&"function"==typeof f.next)for(r=0;f.hasNext();){if(m.call(h,
f.next(),r++,f))return!0}else for(r in f)if(!(r in k)&&m.call(h,f[r],r,f))return!0;return!1}});return b})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(U,M,a){var b={};M.mixin(a,{keys:function(k){var f=[],m;for(m in k)m in b||f.push(m);return f},values:function(k){var f=[],m;for(m in k)m in b||f.push(k[m]);return f},filterIn:function(k,f,m){m=m||U.global;f=a.lambda(f);var h={},u;for(u in k)if(!(u in b)){var r=k[u];f.call(m,r,u,k)&&(h[u]=
r)}return h},forIn:function(k,f,m){m=m||U.global;f=a.lambda(f);for(var h in k)h in b||f.call(m,k[h],h,k);return m},mapIn:function(k,f,m){m=m||U.global;f=a.lambda(f);var h={},u;for(u in k)u in b||(h[u]=f.call(m,k[u],u,k));return h}});return a})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(U){var M=function(k,f){return Math.abs(k-f)<=1E-6*(Math.abs(k)+Math.abs(f))},a=U.getObject("dojox.charting.scaler.common",!0),b={};return U.mixin(a,{doIfLoaded:function(k,f,m){if(void 0===
b[k])try{b[k]=require(k)}catch(h){b[k]=null}return b[k]?f(b[k]):m()},getNumericLabel:function(k,f,m){var h="";a.doIfLoaded("dojo/number",function(g){h=(m.fixed?g.format(k,{places:0>f?-f:0}):g.format(k))||""},function(){h=m.fixed?k.toFixed(0>f?-f:0):k.toString()});if(m.labelFunc){var u=m.labelFunc(h,k,f);if(u)return u}if(m.labels){u=m.labels;for(var r=0,e=u.length;r<e;){var v=Math.floor((r+e)/2);u[v].value<k?r=v+1:e=v}if(r<u.length&&M(u[r].value,k))return u[r].text;--r;if(0<=r&&r<u.length&&M(u[r].value,
k))return u[r].text;r+=2;if(r<u.length&&M(u[r].value,k))return u[r].text}return h}})})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(U,M,a,b){var k={};U.mixin(b,{foldl:function(f,m,h,u){"string"==typeof f&&(f=f.split(""));u=u||a.global;m=b.lambda(m);var r;if(U.isArray(f)){var e=0;for(r=f.length;e<r;h=m.call(u,h,f[e],e,f),++e);}else if("function"==typeof f.hasNext&&"function"==typeof f.next)for(e=0;f.hasNext();h=m.call(u,
h,f.next(),e++,f));else for(e in f)e in k||(h=m.call(u,h,f[e],e,f));return h},foldl1:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||a.global;m=b.lambda(m);var u;if(U.isArray(f)){var r=f[0];var e=1;for(u=f.length;e<u;r=m.call(h,r,f[e],e,f),++e);}else if("function"==typeof f.hasNext&&"function"==typeof f.next){if(f.hasNext())for(r=f.next(),e=1;f.hasNext();r=m.call(h,r,f.next(),e++,f));}else for(e in u=!0,f)e in k||(u?(r=f[e],u=!1):r=m.call(h,r,f[e],e,f));return r},foldr:function(f,m,h,u){"string"==
typeof f&&(f=f.split(""));u=u||a.global;m=b.lambda(m);for(var r=f.length;0<r;--r,h=m.call(u,h,f[r],r,f));return h},foldr1:function(f,m,h){"string"==typeof f&&(f=f.split(""));h=h||a.global;m=b.lambda(m);var u=f.length,r=f[u-1];for(--u;0<u;--u,r=m.call(h,r,f[u],u,f));return r},reduce:function(f,m,h){return 3>arguments.length?b.foldl1(f,m):b.foldl(f,m,h)},reduceRight:function(f,m,h){return 3>arguments.length?b.foldr1(f,m):b.foldr(f,m,h)},unfold:function(f,m,h,u,r){r=r||a.global;m=b.lambda(m);h=b.lambda(h);
f=b.lambda(f);for(var e=[];!f.call(r,u);e.push(m.call(r,u)),u=h.call(r,u));return e}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(U,M,a){U.mixin(a,{filterRev:function(b,k,f){"string"==typeof b&&(b=b.split(""));f=f||M.global;k=a.lambda(k);for(var m=[],h,u=b.length-1;0<=u;--u)h=b[u],k.call(f,h,u,b)&&m.push(h);return m},forEachRev:function(b,k,f){"string"==typeof b&&(b=b.split(""));f=f||M.global;k=a.lambda(k);for(var m=b.length-1;0<=
m;k.call(f,b[m],m,b),--m);},mapRev:function(b,k,f){"string"==typeof b&&(b=b.split(""));f=f||M.global;k=a.lambda(k);var m=b.length,h=Array(m);--m;for(var u=0;0<=m;h[u++]=k.call(f,b[m],m,b),--m);return h},everyRev:function(b,k,f){"string"==typeof b&&(b=b.split(""));f=f||M.global;k=a.lambda(k);for(var m=b.length-1;0<=m;--m)if(!k.call(f,b[m],m,b))return!1;return!0},someRev:function(b,k,f){"string"==typeof b&&(b=b.split(""));f=f||M.global;k=a.lambda(k);for(var m=b.length-1;0<=m;--m)if(k.call(f,b[m],m,
b))return!0;return!1}});return a})},"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/_base/Color ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){return a("dojox.charting.plot2d.Pie",[f,m],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0,
innerRadius:0,minWidth:0,zeroDataMessage:""},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(p,n){this.opt=U.clone(this.defaultParams);v.updateWithObject(this.opt,n);v.updateWithPattern(this.opt,n,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[];n&&n.hasOwnProperty("innerRadius")&&(this._plotSetInnerRadius=!0)},clear:function(){this.inherited(arguments);this.dyn=
[];this.run=null;return this},setAxis:function(p){return this},addSeries:function(p){this.run=p;return this},getSeriesStats:function(){return U.delegate(h.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(p,n){if(!this.dirty)return this;this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var q=this.group,l=this.chart.theme;!this._plotSetInnerRadius&&l&&l.pieInnerRadius&&(this.opt.innerRadius=l.pieInnerRadius);var c=(p.width-n.l-
n.r)/2,d=(p.height-n.t-n.b)/2,w=Math.min(c,d),t="font"in this.opt?this.opt.font:l.axis.tick.titleFont||"",z=t?u.normalizedLength(u.splitFontString(t).size):0,x=this.opt.hasOwnProperty("fontColor")?this.opt.fontColor:l.axis.tick.fontColor,y=r._degToRad(this.opt.startAngle),A=y,B,D=this.run.data,C=this.events(),E=U.hitch(this,function(){var W=l.clone(),da=e.map(D,function(ha){var la=[this.opt,this.run];null!==ha&&"number"!=typeof ha&&la.push(ha);this.opt.styleFunc&&la.push(this.opt.styleFunc(ha));return W.next("slice",
la,!0)},this);"radius"in this.opt&&(w=this.opt.radius<w?this.opt.radius:w);var ea={cx:n.l+c,cy:n.t+d,r:w},ja=new k(x);this.opt.innerRadius&&(ja.a=.1);var fa=this._createRing(q,ea).setStroke(ja);this.opt.innerRadius&&fa.setFill(ja);this.opt.zeroDataMessage&&this.renderLabel(q,ea.cx,ea.cy+z/3,this.opt.zeroDataMessage,{series:{font:t,fontColor:x}},null,"middle");this.dyn=[];M.forEach(D,function(ha,la){this.dyn.push({fill:this._plotFill(da[la].series.fill,p,n),stroke:da[la].series.stroke})},this)});if(!this.run&&
!this.run.data.ength)return E(),this;if("number"==typeof D[0]){var H=e.map(D,"x ? Math.max(x, 0) : 0");if(e.every(H,"\x3c\x3d 0"))return E(),this;var G=e.map(H,"/this",e.foldl(H,"+",0));this.opt.labels&&(B=M.map(G,function(W){return 0<W?this._getLabel(100*W)+"%":""},this))}else{H=e.map(D,"x ? Math.max(x.y, 0) : 0");if(!H.length||e.every(H,"\x3c\x3d 0"))return E(),this;G=e.map(H,"/this",e.foldl(H,"+",0));this.opt.labels&&(B=M.map(G,function(W,da){if(0>W)return"";da=D[da];return da.hasOwnProperty("text")?
da.text:this._getLabel(100*W)+"%"},this))}var F=e.map(D,function(W){var da=[this.opt,this.run];null!==W&&"number"!=typeof W&&da.push(W);this.opt.styleFunc&&da.push(this.opt.styleFunc(W));return l.next("slice",da,!0)},this);this.opt.labels&&(H=e.foldl1(e.map(B,function(W,da){return u._base._getTextBox(W,{font:F[da].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(w=Math.min(c-2*H,d-z)+this.opt.labelOffset));this.opt.hasOwnProperty("radius")&&(w=this.opt.radius<.9*w?this.opt.radius:
.9*w);!this.opt.radius&&this.opt.labels&&"columns"==this.opt.labelStyle?(w/=2,c>d&&c>2*w&&(w*=c/(2*w)),w>=.8*d&&(w=.8*d)):w>=.9*d&&(w=.9*d);var I=w-this.opt.labelOffset;var J={cx:n.l+c,cy:n.t+d,r:w};this.dyn=[];var K=Array(G.length),P=[],T=A,S=this.opt.minWidth;M.forEach(G,function(W,da){if(0===W)P[da]={step:0,end:T,start:T,weak:!1};else{W=T+2*W*Math.PI;da===G.length-1&&(W=y+2*Math.PI);var ea=W-T;P[da]={step:ea,start:T,end:W,weak:ea*w<S};T=W}});if(0<S){H=0;var L=S/w;E=0;var N;for(N=P.length-1;0<=
N;N--)P[N].weak&&(++H,E+=P[N].step,P[N].step=L);L*=H;if(L>Math.PI){L=Math.PI/H;for(N=0;N<P.length;++N)P[N].weak&&(P[N].step=L);L=Math.PI}if(0<H)for(L=1-(L-E)/2/Math.PI,N=0;N<P.length;++N)P[N].weak||(P[N].step*=L);for(N=0;N<P.length;++N)P[N].start=N?P[N].end:T,P[N].end=P[N].start+P[N].step;for(N=P.length-1;0<=N;--N)if(0!==P[N].step){P[N].end=T+2*Math.PI;break}}T=A;var O,Q;M.some(G,function(W,da){var ea=D[da],ja=F[da];if(1<=W){Q=this._plotFill(ja.series.fill,p,n);Q=this._shapeFill(Q,{x:J.cx-J.r,y:J.cy-
J.r,width:2*J.r,height:2*J.r});Q=this._pseudoRadialFill(Q,{x:J.cx,y:J.cy},J.r);var fa=this._createRing(q,J).setFill(Q).setStroke(ja.series.stroke);this.dyn.push({fill:Q,stroke:ja.series.stroke});C&&(O={element:"slice",index:da,run:this.run,shape:fa,x:da,y:"number"==typeof ea?ea:ea.y,cx:J.cx,cy:J.cy,cr:w},this._connectEvents(O),K[da]=O);for(da+=1;da<G.length;da++)ja=F[da],this.dyn.push({fill:ja.series.fill,stroke:ja.series.stroke});return!0}if(0===P[da].step)return this.dyn.push({fill:ja.series.fill,
stroke:ja.series.stroke}),!1;W=P[da].step;fa=J.cx+w*Math.cos(T);var ha=J.cy+w*Math.sin(T),la=J.cx+w*Math.cos(T+W),ka=J.cy+w*Math.sin(T+W),ia=r._degToRad(this.opt.fanSize);if(ja.series.fill&&"radial"===ja.series.fill.type&&"fan"===this.opt.radGrad&&W>ia){var ma=q.createGroup();ia=Math.ceil(W/ia);var na=W/ia;Q=this._shapeFill(ja.series.fill,{x:J.cx-J.r,y:J.cy-J.r,width:2*J.r,height:2*J.r});var pa;for(pa=0;pa<ia;++pa){var sa=T+(pa-.2)*na;var ta=T+(pa+1+.2)*na;var oa=0==pa?fa:J.cx+w*Math.cos(sa);var qa=
0==pa?ha:J.cy+w*Math.sin(sa);var ua=pa==ia-1?la:J.cx+w*Math.cos(ta);ta=pa==ia-1?ka:J.cy+w*Math.sin(ta);this._createSlice(ma,J,w,oa,qa,ua,ta,sa,na).setFill(this._pseudoRadialFill(Q,{x:J.cx,y:J.cy},w,T+(pa+.5)*na,T+(pa+.5)*na))}ia=ja.series.stroke;this._createSlice(ma,J,w,fa,ha,la,ka,T,W).setStroke(ia);fa=ma}else{ia=ja.series.stroke;fa=this._createSlice(q,J,w,fa,ha,la,ka,T,W).setStroke(ia);if((Q=ja.series.fill)&&"radial"===Q.type)Q=this._shapeFill(Q,{x:J.cx-J.r,y:J.cy-J.r,width:2*J.r,height:2*J.r}),
"linear"===this.opt.radGrad&&(Q=this._pseudoRadialFill(Q,{x:J.cx,y:J.cy},w,T,T+W));else if(Q&&"linear"===Q.type){ha=U.clone(fa.getBoundingBox());if("svg"===u.renderer){la={w:0,h:0};try{la=b.position(fa.rawNode)}catch(ra){}la.h>ha.height&&(ha.height=la.h);la.w>ha.width&&(ha.width=la.w)}Q=this._plotFill(Q,p,n);Q=this._shapeFill(Q,ha)}fa.setFill(Q)}this.dyn.push({fill:Q,stroke:ja.series.stroke});C&&(O={element:"slice",index:da,run:this.run,shape:fa,x:da,y:"number"==typeof ea?ea:ea.y,cx:J.cx,cy:J.cy,
cr:w},this._connectEvents(O),K[da]=O);T+=W;return!1},this);if(this.opt.labels){var V=g("dojo-bidi")&&this.chart.isRightToLeft();if("default"==this.opt.labelStyle)T=A=y,M.some(G,function(W,da){if(0>=W&&!this.opt.minWidth)return!1;var ea=F[da];if(1<=W)return this.renderLabel(q,J.cx,J.cy+z/2,B[da],ea,0<this.opt.labelOffset),!0;W=A+2*W*Math.PI;da+1==G.length&&(W=y+2*Math.PI);if(this.opt.omitLabels&&.001>W-A)return!1;var ja=T+P[da].step/2,fa=J.cx+I*Math.cos(ja);this.renderLabel(q,V?p.width-fa:fa,J.cy+
I*Math.sin(ja)+z/2,B[da],ea,0<this.opt.labelOffset);T+=P[da].step;A=W;return!1},this);else if("columns"==this.opt.labelStyle){var X=this.opt.omitLabels;T=A=y;var Z=[],ca=0;for(H=G.length-1;0<=H;--H)G[H]&&++ca;M.forEach(G,function(W,da){W=A+2*W*Math.PI;da+1==G.length&&(W=y+2*Math.PI);if(0!==this.minWidth||.001<=W-A){var ea=T+P[da].step/2;1!==ca||this.opt.minWidth||(ea=(A+W)/2);Z.push({angle:ea,left:0>Math.cos(ea),theme:F[da],index:da,omit:X?.001>W-A:!1})}A=W;T+=P[da].step},this);var R=u._base._getTextBox("a",
{font:t,whiteSpace:"nowrap"}).h;this._getProperLabelRadius(Z,R,1.1*J.r);var Y=J.cx-2*J.r,ba=J.cx+2*J.r;M.forEach(Z,function(W){if(!W.omit){var da=F[W.index],ea=0;da&&da.axis&&da.axis.tick&&da.axis.tick.labelGap&&(ea=da.axis.tick.labelGap);var ja=u._base._getTextBox(B[W.index],{font:da.series.font,whiteSpace:"nowrap",paddingLeft:ea+"px"}).w,fa=J.cx+W.labelR*Math.cos(W.angle),ha=J.cy+W.labelR*Math.sin(W.angle),la=W.left?Y+ja:ba-ja;ea=W.left?Y:la+ea;var ka=J.r;ka=q.createPath().moveTo(J.cx+ka*Math.cos(W.angle),
J.cy+ka*Math.sin(W.angle));Math.abs(W.labelR*Math.cos(W.angle))<2*J.r-ja&&ka.lineTo(fa,ha);ka.lineTo(la,ha).setStroke(W.theme.series.labelWiring);ka.moveToBack();fa=this.renderLabel(q,ea,R/3+ha||0,B[W.index],da,!1,"left");C&&!this.opt.htmlLabels&&(da=u._base._getTextBox(B[W.index],{font:W.theme.series.font}).w||0,ja=u.normalizedLength(u.splitFontString(W.theme.series.font).size),O={element:"labels",index:W.index,run:this.run,shape:fa,x:ea,y:ha,label:B[W.index]},ea=fa.getShape(),ha=b.position(this.chart.node,
!0),ea=U.mixin({type:"rect"},{x:ea.x,y:ea.y-2*ja}),ea.x+=ha.x,ea.y+=ha.y,ea.x=Math.round(ea.x),ea.y=Math.round(ea.y),ea.width=Math.ceil(da),ea.height=Math.ceil(ja),O.aroundRect=ea,this._connectEvents(O),K[G.length+W.index]=O)}},this)}}var aa=0;this._eventSeries[this.run.name]=e.map(D,function(W){return 0>=W?null:K[aa++]});g("dojo-bidi")&&this._checkOrientation(this.group,p,n);return this},_getProperLabelRadius:function(p,n,q){if(1==p.length)p[0].labelR=q;else{var l={},c={},d=2,w=2,t;for(t=0;t<p.length;++t){var z=
Math.abs(Math.sin(p[t].angle));p[t].left?d>z&&(d=z,l=p[t]):w>z&&(w=z,c=p[t])}l.labelR=c.labelR=q;this._caculateLabelR(l,p,n);this._caculateLabelR(c,p,n)}},_caculateLabelR:function(p,n,q){var l,c=n.length,d=p.labelR,w=n[p.index].left?-q:q;var t=0;q=p.index;for(l=(q+1)%c;t<c&&n[q].left===n[l].left;++t)d=(Math.sin(n[q].angle)*d+w)/Math.sin(n[l].angle),d=Math.max(p.labelR,d),n[l].labelR=d,q=(q+1)%c,l=(l+1)%c;t>=c&&(n[0].labelR=p.labelR);t=0;q=p.index;for(l=(q||c)-1;t<c&&n[q].left===n[l].left;++t)d=(Math.sin(n[q].angle)*
d-w)/Math.sin(n[l].angle),d=Math.max(p.labelR,d),n[l].labelR=d,q=(q||c)-1,l=(l||c)-1},_createRing:function(p,n){var q=this.opt.innerRadius;0<q?q=q/100*n.r:0>q&&(q=-q);return q?p.createPath({}).setAbsoluteMode(!0).moveTo(n.cx,n.cy-n.r).arcTo(n.r,n.r,0,!1,!0,n.cx+n.r,n.cy).arcTo(n.r,n.r,0,!0,!0,n.cx,n.cy-n.r).closePath().moveTo(n.cx,n.cy-q).arcTo(q,q,0,!1,!0,n.cx+q,n.cy).arcTo(q,q,0,!0,!0,n.cx,n.cy-q).closePath():p.createCircle(n)},_createSlice:function(p,n,q,l,c,d,w,t,z){var x=this.opt.innerRadius;
0<x?x=x/100*n.r:0>x&&(x=-x);if(x){var y=n.cx+x*Math.cos(t),A=n.cy+x*Math.sin(t),B=n.cx+x*Math.cos(t+z);n=n.cy+x*Math.sin(t+z);return p.createPath({}).setAbsoluteMode(!0).moveTo(y,A).lineTo(l,c).arcTo(q,q,0,z>Math.PI,!0,d,w).lineTo(B,n).arcTo(x,x,0,z>Math.PI,!1,y,A).closePath()}return p.createPath({}).setAbsoluteMode(!0).moveTo(n.cx,n.cy).lineTo(l,c).arcTo(q,q,0,z>Math.PI,!0,d,w).lineTo(n.cx,n.cy).closePath()}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),
function(U,M,a,b,k,f,m,h){U=U("dojox.charting.plot2d.Base",k,{constructor:function(u,r){r&&r.tooltipFunc&&(this.tooltipFunc=r.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(u){return this},assignAxes:function(u){M.forEach(this.axes,function(r){this[r]&&this.setAxis(u[this[r]])},this)},addSeries:function(u){this.series.push(u);return this},getSeriesStats:function(){return f.collectSimpleStats(this.series,a.hitch(this,"isNullValue"))},calculateAxes:function(u){this.initializeScalers(u,
this.getSeriesStats());return this},initializeScalers:function(){return this},isDataDirty:function(){return M.some(this.series,function(u){return u.dirty})},render:function(u,r){return this},renderLabel:function(u,r,e,v,g,p,n){u=m.createText[this.opt.htmlLabels&&"vml"!=b.renderer?"html":"gfx"](this.chart,u,r,e,n?n:"middle",v,g.series.font,g.series.fontColor);p&&(this.opt.htmlLabels&&"vml"!=b.renderer?u.style.pointerEvents="none":u.rawNode&&(u.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&
"vml"!=b.renderer&&this.htmlElements.push(u);return u},getRequiredColors:function(){return this.series.length},_getLabel:function(u){return f.getLabel(u,this.opt.fixed,this.opt.precision)}});h("dojo-bidi")&&U.extend({_checkOrientation:function(u,r,e){this.chart.applyMirroring(this.group,r,e)}});return U})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(U,M,a,b){return a("dojox.charting.plot2d._PlotEvents",
null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(k){},raiseEvent:function(k){this.plotEvent(k);var f=U.delegate(k);f.originalEvent=k.type;f.originalPlot=k.plot;f.type="onindirect";M.forEach(this.chart.stack,function(m){m!==this&&m.plotEvent&&(f.plot=m,m.plotEvent(f))},this)},connect:function(k,f){this.dirty=!0;return b.connect(this,"plotEvent",k,f)},events:function(){return!!this.plotEvent.after},
resetEvents:function(){this._shapeEvents.length&&(M.forEach(this._shapeEvents,function(k){k.shape.disconnect(k.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(k,f){this._shapeEvents.push({shape:k.eventMask,handle:k.eventMask.connect(f,this,function(m){k.type=f;k.event=m;this.raiseEvent(k);k.event=null})})},_connectEvents:function(k){k&&(k.chart=this.chart,k.plot=this,k.hAxis=this.hAxis||null,k.vAxis=this.vAxis||null,k.eventMask=k.eventMask||
k.shape,this._connectSingleEvent(k,"onmouseover"),this._connectSingleEvent(k,"onmouseout"),this._connectSingleEvent(k,"onclick"))},_reconnectEvents:function(k){(k=this._eventSeries[k])&&M.forEach(k,this._connectEvents,this)},fireEvent:function(k,f,m,h){(k=this._eventSeries[k])&&k.length&&m<k.length&&(m=k[m],m.type=f,m.event=h||null,this.raiseEvent(m),m.event=null)}})})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){var v=function(n,q){var l=n.run&&n.run.data&&n.run.data[n.index];return l&&"number"!=typeof l&&(l.tooltip||l.text)?l.tooltip||l.text:q.tooltipFunc?q.tooltipFunc(n):n.y},g=Math.PI/4,p=Math.PI/2;f=a(u("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",m,{defaultParams:{text:v,mouseOver:!0,defaultPosition:["after-centered","before-centered"]},optionalParams:{},constructor:function(n,q,l){this.text=l&&l.text?l.text:v;this.mouseOver=
l&&void 0!=l.mouseOver?l.mouseOver:!0;this.defaultPosition=l&&void 0!=l.defaultPosition?l.defaultPosition:["after-centered","before-centered"];this.connect()},process:function(n){if("onplotreset"===n.type||"onmouseout"===n.type)U.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===n.type&&delete this.angles;else if(!(!n.shape||this.mouseOver&&"onmouseover"!==n.type||!this.mouseOver&&"onclick"!==n.type)){var q={type:"rect"},l=this.defaultPosition;switch(n.element){case "marker":q.x=n.cx;q.y=
n.cy;q.w=q.h=1;break;case "circle":q.x=n.cx-n.cr;q.y=n.cy-n.cr;q.w=q.h=2*n.cr;break;case "spider_circle":q.x=n.cx;q.y=n.cy;q.w=q.h=1;break;case "spider_plot":return;case "column":l=["above-centered","below-centered"];case "bar":q=M.clone(n.shape.getShape());q.w=q.width;q.h=q.height;break;case "candlestick":q.x=n.x;q.y=n.y;q.w=n.width;q.h=n.height;break;default:if(!this.angles){var c="number"==typeof n.run.data[0]?e.map(n.run.data,"x ? Math.max(x, 0) : 0"):e.map(n.run.data,"x ? Math.max(x.y, 0) : 0");
this.angles=e.map(e.scanl(c,"+",0),"* 2 * Math.PI / this",e.foldl(c,"+",0))}c=h._degToRad(n.plot.opt.startAngle);var d=(this.angles[n.index]+this.angles[n.index+1])/2+c;q.x=n.cx+n.cr*Math.cos(d);q.y=n.cy+n.cr*Math.sin(d);q.w=q.h=1;c&&(0>d||d>2*Math.PI)&&(d=Math.abs(2*Math.PI-Math.abs(d)));d<g||(d<p+g?l=["below-centered","above-centered"]:d<Math.PI+g?l=["before-centered","after-centered"]:d<2*Math.PI-g&&(l=["above-centered","below-centered"]))}u("dojo-bidi")&&this._recheckPosition(n,q,l);c=this.chart.getCoords();
q.x+=c.x;q.y+=c.y;q.x=Math.round(q.x);q.y=Math.round(q.y);q.w=Math.ceil(q.w);q.h=Math.ceil(q.h);this.aroundRect=q;(n=this.text(n,this.plot))&&U.show(this._format(n),this.aroundRect,l);this.mouseOver||(this._handle=k.connect(b.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(n,q,l){},_format:function(n){return n}});return u("dojo-bidi")?a("dojox.charting.action2d.Tooltip",[f,r]):f})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect",
"dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(U,M,a,b,k){var f=b.backOut;return M("dojox.charting.action2d.PlotAction",a,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(m,h,u){this.anim={};u||(u={});this.duration=u.duration?u.duration:400;this.easing=u.easing?u.easing:f},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(U.disconnect(this.handle),this.handle=null)},reset:function(){},
destroy:function(){this.inherited(arguments);k.forIn(this.anim,function(m){k.forIn(m,function(h){h.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Evented"],function(U,M,a){return M("dojox.charting.action2d.Base",a,{constructor:function(b,k){this.chart=b;this.plot=k?U.isString(k)?this.chart.getPlot(k):k:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},
"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(U,M,a){var b={};M.mixin(a,{scanl:function(k,f,m,h){"string"==typeof k&&(k=k.split(""));h=h||U.global;f=a.lambda(f);var u,r;if(M.isArray(k)){var e=Array((u=k.length)+1);e[0]=m;for(r=0;r<u;m=f.call(h,m,k[r],r,k),e[++r]=m);}else if("function"==typeof k.hasNext&&"function"==typeof k.next)for(e=[m],r=0;k.hasNext();e.push(m=f.call(h,m,k.next(),r++,k)));else for(r in e=[m],k)r in b||e.push(m=f.call(h,
m,k[r],r,k));return e},scanl1:function(k,f,m){"string"==typeof k&&(k=k.split(""));m=m||U.global;f=a.lambda(f);var h;var u=!0;if(M.isArray(k)){var r=Array(u=k.length);r[0]=h=k[0];for(var e=1;e<u;r[e]=h=f.call(m,h,k[e],e,k),++e);}else if("function"==typeof k.hasNext&&"function"==typeof k.next){if(k.hasNext())for(r=[h=k.next()],e=1;k.hasNext();r.push(h=f.call(m,h,k.next(),e++,k)));}else for(e in k)e in b||(u?(r=[h=k[e]],u=!1):r.push(h=f.call(m,h,k[e],e,k)));return r},scanr:function(k,f,m,h){"string"==
typeof k&&(k=k.split(""));h=h||U.global;f=a.lambda(f);var u=k.length,r=Array(u+1),e=u;for(r[u]=m;0<e;--e,m=f.call(h,m,k[e],e,k),r[e]=m);return r},scanr1:function(k,f,m){"string"==typeof k&&(k=k.split(""));m=m||U.global;f=a.lambda(f);var h=k.length,u=Array(h),r=k[h-1];--h;for(u[h]=r;0<h;--h,r=f.call(m,r,k[h],h,k),u[h]=r);return u}})})},"arcgisonline/pages/organization/widgets/settings/rows/MFAAdminsRow":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/MFAAdminsRow.html ../../../../utils/dom ../../../../utils/arrays ../../../../utils/alerts ../AdminBrowserOverlay ../MemberListItem ./SettingsRow ../../../../../sharing/geow/Roles ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.templateString=h.default;this.i18n=a.__assign(a.__assign({},this.i18n),m.default.securityTab.multifactorAuth.designatedRow);
this.allRoles=[];this.disableEditPopup=!0;this.settingsProps=["mfaAdmins"];this.selectedMembers=[];this.items=[];this.mfaAdminRoles=[]}l.prototype.updateAllRoles=function(c){this.allRoles=c};l.prototype.render=function(){var c=this;this.rolesAPI=new n.default;this.selectedMembers=[];this.addBtn.textContent=this.i18n.addAdmin;this.addBtn.id="add-mfa-admins-btn";if(this.portal.isPortal&&!this.portal.supportsEmail){var d=this.addBtn.parentElement,w=document.createElement("div");w.className="tooltip tooltip-multiline disabled-invite-members inline-block";
w.setAttribute("aria-label",this.i18n.disableAdminTooltip);this.addBtn.disabled=!0;w.appendChild(this.addBtn);d.insertBefore(w,d.firstChild)}0<this.items.length&&this.items.forEach(function(t){return t.destroy()});this.items=[];this.portal.mfaAdmins.forEach(function(t){var z=c.portal.allAdmins.filter(function(x){return x.username===t})[0];z&&(c.selectedMembers.push(z),z=new g.default({member:z}),c.items.push(z),c.own((0,f.default)(z,"remove",c.handleRemove.bind(c)),(0,f.default)(z,"undo",c.handleUndo.bind(c))))});
0<this.items.length&&(u.default.appendChildren(this.items.map(function(t){return t.domNode}),this.list),b.default.dropdown())};l.prototype.addEventListeners=function(){this.own((0,f.default)(this.addBtn,"click",this.handleAdd.bind(this)),k.default.subscribe("mfa-toggle/update",this.handleMFAUpdate.bind(this)))};l.prototype.handleMFAUpdate=function(c){c?this.handleAdd():this.render()};l.prototype.getRoles=function(){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(d){switch(d.label){case 0:return d.trys.push([0,
2,,3]),[4,this.rolesAPI.getAllRoles(!0)];case 1:return this.allRoles=(c=d.sent())||[],[3,3];case 2:return d.sent(),[3,3];case 3:return[2]}})})};l.prototype.handleAdd=function(){return a.__awaiter(this,void 0,void 0,function(){var c,d;return a.__generator(this,function(w){switch(w.label){case 0:return(null===(d=this.allRoles)||void 0===d?0:d.length)?[3,2]:[4,this.getRoles()];case 1:w.sent(),w.label=2;case 2:return c=a.__spreadArray(["org_admin"],this.allRoles.filter(function(t){var z;return-1<(null===
(z=t.privileges)||void 0===z?void 0:z.indexOf("portal:admin:manageSecurity"))}).map(function(t){return t.id}),!0),this.overlay=new v.default({title:this.label,portal:this.portal,portalUser:this.portalUser,selectedMembers:this.selectedMembers,opener:this.addBtn,closeOnScrimClick:!1,compatibleRoleIds:c}),this.overlay.open(),this.own((0,f.default)(this.overlay,"save",this.handleSave.bind(this)),(0,f.default)(this.overlay,"cancel",function(){k.default.publish("mfa-admins/cancel")})),[2]}})})};l.prototype.handleRemove=
function(c){var d=this,w,t=c.member,z=r.default.findIndex(this.selectedMembers,function(y){return y.username===t.username});if(-1<z){var x=a.__spreadArray([],this.selectedMembers,!0);x.splice(z,1);null===(w=this.handleSave(x,!0))||void 0===w?void 0:w.then(function(){d.selectedMembers=x;c.showRemoved()})}};l.prototype.handleUndo=function(c){var d=this,w=a.__spreadArray(a.__spreadArray([],this.selectedMembers,!0),[c.member],!1);this.handleSave(w,!0).then(function(){d.selectedMembers=w;c.hideRemoved()})};
l.prototype.handleSave=function(c,d){var w=this,t;if(2>c.length)e.default.showAlert("error",this.i18n.minimumRequired);else{var z=c.map(function(y){return y.username}),x=!d&&!this.portal.mfaEnabled&&!(null===(t=this.portal.mfaAdmins)||void 0===t?0:t.length);x&&(this.overlay.close(),k.default.publish("mfa-toggle/loading"));return this.updateSetting({mfaEnabled:!0,mfaAdmins:JSON.stringify(z)},this.i18n.error,this.i18n.success,!1,"",12E4).then(function(){w.portal.mfaAdmins=z;w.portal.mfaEnabled=!0;d||
(w.overlay.close(),w.render());k.default.publish("mfa-admins/update")},function(){d||w.overlay.close();x&&k.default.publish("mfa-toggle/loading-done")})}};return l=a.__decorate([(0,q.default)(p.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/rows/TrustedServersRow":function(){define("require exports tslib calcite-web/js/calcite-web dojo/string dojo/_base/url dojo/Deferred dojo/on dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/TrustedServersRow.html ../../../../utils/arrays ../../../../utils/dom ../../../../utils/focus ../../../../utils/validation ../../../../dijit/Pagination ./TrustedServerItem ./SettingsRow ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.templateString=e.default;this.i18n=a.__assign(a.__assign(a.__assign({},
this.i18n),r.default.common),r.default.securityTab.trustedServers);this.disableEditPopup=!0;this.propKey="authorizedCrossOriginDomains";this.iconName="data";this.settingsProps=[this.propKey];this.validProtocolSchemes=["http","https"];this.invalidProtocolMessage=this.i18n.schemeNotAllowed;this.idPrefix="trusted-servers";this.start=1;this.serversPerPage=20;this.items=[];this.topicPrefix="".concat(this.idPrefix,"-");this.servers=[];this.removedList=[];this.dialogLabel=this.i18n.dialogLabel}w.prototype.render=
function(){this.servers=this.portal[this.propKey]||[];this.renderPage();this.addBtn.textContent=this.i18n.addTrustedServers;this.setupUniqueIds()};w.prototype.renderPage=function(){var t=this,z=this.start-1;z=this.servers.slice(z,z+this.serversPerPage);this.items.forEach(function(y){return y.destroy()});this.items=[];z.forEach(function(y){t.initAndAddItem(y)});0<this.items.length&&(g.default.appendChildren(this.items.map(function(y){return y.domNode}),this.list),b.default.dropdown());if(!this.pagination){this.pagination=
new q.default({topic:this.topicPrefix,start:this.start,num:this.serversPerPage,hideDropdown:!0},this.domNode.querySelector(".js-pagination"));z=this.servers.length;var x=this.start+this.serversPerPage;x>z&&(x=-1);this.pagination.render({total:z,start:this.start,nextStart:x})}};w.prototype.setupUniqueIds=function(){this.addBtn.id="add-".concat(this.idPrefix,"-btn");this.saveBtn.id="".concat(this.idPrefix,"-save-btn");this.cancelBtn.id="".concat(this.idPrefix,"-cancel-btn");this.textbox.id="".concat(this.idPrefix,
"-input")};w.prototype.setupA11y=function(){if(this.addBtn&&this.addForm){var t=this.id+"-add-form";this.addForm.setAttribute("id",t);this.addBtn.setAttribute("aria-expanded","false");this.addBtn.setAttribute("aria-controls",t)}};w.prototype.addEventListeners=function(){var t=this;this.own((0,h.default)(this.addBtn,"click",this.handleAdd.bind(this)),(0,h.default)(this.cancelBtn,"click",this.handleCancel.bind(this)),(0,h.default)(this.saveBtn,"click",this.handleSave.bind(this)),(0,h.default)(this.textbox,
"blur",function(){var z;null!==(z=t.textbox.value)&&void 0!==z&&z.length&&t.isValidHost()}),(0,h.default)(this.textbox,"keyup",this.handleKeyup.bind(this)),u.default.subscribe("".concat(this.topicPrefix,"pagination/page"),function(z){t.start=z.start;t.renderPage()}))};w.prototype.addToList=function(){this.start=Math.floor((this.servers.length-1)/this.serversPerPage)*this.serversPerPage+1;this.pagination.render({total:this.servers.length,start:this.start,nextStart:-1});this.renderPage()};w.prototype.initAndAddItem=
function(t){t=new l.default({server:t,iconName:this.iconName});this.own((0,h.default)(t,"remove",this.handleItemRemove.bind(this)),(0,h.default)(t,"undo",this.handleUndo.bind(this)));this.items.push(t);-1<this.removedList.indexOf(t.server)&&t.showRemoved();return t};w.prototype.removeFromList=function(t){var z=-1;this.items.forEach(function(x,y){x.server===t&&(z=y,x.destroy())});-1<z&&this.items.splice(z,1)};w.prototype.handleKeyup=function(t){13!==t.keyCode||this.containsHTTP()?this.containsHTTP()?
(this.showInputError(this.i18n.httpWarning),this.saveBtn.disabled=!0):(this.clearInputError(),this.saveBtn.disabled=!1):this.handleSave()};w.prototype.containsHTTP=function(){return!this.portal.isPortal&&-1<this.textbox.value.indexOf("http://")};w.prototype.handleItemRemove=function(t){var z,x=this,y=t.server,A=a.__spreadArray([],this.portal[this.propKey],!0),B=v.default.findIndex(A,function(D){return D===y});A.splice(B,1);this.updateSetting((z={},z[this.propKey]=this.formatParams(A),z.clearEmptyFields=
!0,z),this.i18n.error,this.i18n.success).then(function(){x.portal[x.propKey]=A;x.removedList.push(y);t.showRemoved()})};w.prototype.handleUndo=function(t){var z,x=this,y=a.__spreadArray(a.__spreadArray([],this.portal[this.propKey],!0),[t.server],!1);this.updateSetting((z={},z[this.propKey]=this.formatParams(y),z.clearEmptyFields=!0,z),this.i18n.error,this.i18n.success).then(function(){x.portal[x.propKey]=y;x.removedList=x.removedList.filter(function(A){return A!==t.server});t.hideRemoved()})};w.prototype.handleAdd=
function(){g.default.showNode(this.addForm);this.addBtn.setAttribute("aria-expanded","true");this.focusTrapListener&&p.default.untrapFocus(this.addForm,this.focusTrapListener);this.focusTrapListener=p.default.trapFocus(this.addForm);var t=p.default.getFocusableElements(this.addForm);t.length&&t.shift().focus()};w.prototype.handleCancel=function(){g.default.hideNode(this.addForm);this.textbox.value="";this.clearInputError();this.addBtn.setAttribute("aria-expanded","false");this.focusTrapListener&&
(p.default.untrapFocus(this.addForm,this.focusTrapListener),this.focusTrapListener=void 0);this.addBtn.focus()};w.prototype.handleSave=function(){var t=this;this.isValid().then(function(z){var x;if(z.isValid){z=z.domain;var y=t.portal[t.propKey]||[];if(-1<y.indexOf(z))t.textbox.classList.add("input-error"),t.inputError.classList.add("is-active");else{g.default.hideNode(t.addForm);t.textbox.value="";t.clearInputError();var A=a.__spreadArray(a.__spreadArray([],y,!0),[z],!1);t.updateSetting((x={},x[t.propKey]=
t.formatParams(A),x),t.i18n.error,t.i18n.success).then(function(){t.servers=t.portal[t.propKey]=A;t.addToList()})}}})};w.prototype.formatParams=function(t){return JSON.stringify(t)};w.prototype.showInputError=function(t){n.default.setInvalidState(this.textbox,this.inputError,t)};w.prototype.clearInputError=function(){n.default.clearState([this.textbox,this.inputError])};w.prototype.isValid=function(){var t=new m.default;t.resolve({isValid:this.isValidHost(),domain:this.textbox.value});return t};w.prototype.isValidHost=
function(){var t=this.textbox.value;if(0===t.length)return this.showInputError(this.i18n.emptyError),!1;if(-1<t.indexOf("*"))return this.showInputError(this.i18n.wildcardsNotSupported),!1;if(-1<t.indexOf("://"))try{var z=new f.default(t),x=z.authority||z.path;if(z.scheme&&!v.default.includes(this.validProtocolSchemes,z.scheme)){var y=k.default.substitute(this.invalidProtocolMessage,{scheme:z.scheme});this.showInputError(y);return!1}if(!this.portal.isPortal&&z.scheme&&"http"===z.scheme)return this.showInputError(this.i18n.httpWarning),
!1;if(x&&0===x.indexOf("-"))return this.showInputError(this.i18n.startWithHyphen),!1;if(!this.isValidDomainName(x))return this.showInputError(this.i18n.hostInvalid),!1}catch(A){return this.showInputError(this.i18n.hostInvalid),!1}else{if(0===t.indexOf("-"))return this.showInputError(this.i18n.startWithHyphen),!1;if(!this.isValidDomainName(t))return this.showInputError(this.i18n.hostInvalid),!1}return!0};w.prototype.isValidDomainName=function(t){var z=/^((?:(?:(?:\w[\.\-\+]?)*)\w)+)((?:(?:(?:\w[\.\-\+]?){0,62})\w)+)\.(\w{2,25})$/gi,
x=/^:(\d)+$/gi,y=t&&0<t.length?t.indexOf(":"):-1;if(-1<y){var A=t.substring(0,y);t=t.substring(y);return A&&0<A.length&&z.test(A)&&t&&0<t.length&&x.test(t)}return t&&0<t.length&&z.test(t)};return w=a.__decorate([(0,d.default)(c.default)],w)}()})},"arcgisonline/pages/organization/widgets/settings/rows/TrustedServerItem":function(){define("require exports tslib esri/Evented dojo/on dojo/text!./templates/TrustedServerItem.html dojo/i18n!../../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/icons ../../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=f.default;this.i18n=m.default.common;this.icons=r.default;this.server=""}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.itemIcon=this.icons[this.iconName]["24"]};g.prototype.postCreate=
function(){this.inherited(arguments);this.addEventListeners()};g.prototype.showRemoved=function(){e.default.hideNode(this.removeBtn);e.default.showNode(this.removedContainer);this.itemInfo.classList.add("card-list-row__info--disabled")};g.prototype.hideRemoved=function(){e.default.showNode(this.removeBtn);e.default.hideNode(this.removedContainer);this.itemInfo.classList.remove("card-list-row__info--disabled")};g.prototype.addEventListeners=function(){var p=this;this.own((0,k.default)(this.removeBtn,
"click",function(){p.emit("remove",p)}),(0,k.default)(this.undoBtn,"click",function(){p.emit("undo",p)}))};return g=a.__decorate([(0,v.default)(u.default,h.default,b.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/AllowOriginsRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./TrustedServersRow ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
return function(){function m(h,u){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.securityTab.allowOrigins);this.propKey="allowedOrigins";this.iconName="web";this.idPrefix="allow-origins";this.validProtocolSchemes=["http","https","ms-pbi"];this.dialogLabel=this.i18n.dialogLabel;h=this.validProtocolSchemes.map(function(r){return"".concat(r,"://")}).join(", ");this.invalidProtocolMessage=this.i18n.schemeNotAllowed.replace("${list}","".concat(h))}m.prototype.render=function(){this.inherited(arguments);
this.addBtn.textContent=this.i18n.addServer};m.prototype.formatParams=function(h){return h.join(",")};return m=a.__decorate([(0,f.default)(k.default)],m)}()})},"arcgisonline/pages/organization/widgets/settings/rows/AllowExternalLinksRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings ./TrustedServersRow ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(h,
u){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.securityTab.allowExternalLinks);this.propKey="allowedExternalLinks";this.iconName="link";this.idPrefix="allow-external-links";this.dialogLabel=this.i18n.dialogLabel}m.prototype.render=function(){this.inherited(arguments);this.saveBtn.textContent=this.addBtn.textContent=this.i18n.addLink};m.prototype.formatParams=function(h){return h.join(",")};return m=a.__decorate([(0,f.default)(k.default)],m)}()})},"arcgisonline/pages/organization/widgets/settings/rows/AllowPortalAccessRow":function(){define("require exports tslib esri/request dojo/Deferred dojo/i18n!../../../../../nls/org-settings ./TrustedServersRow ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),f.default.common),f.default.securityTab.allowPortalAccess);this.propKey="allowedRedirectUris";this.iconName="portal";this.idPrefix="allow-portal-access";this.dialogLabel=this.i18n.dialogLabel}u.prototype.render=function(){this.inherited(arguments);this.invalidProtocolMessage=
this.portal.isPortal?this.i18n.schemeNotAllowedPortal:this.i18n.schemeNotAllowed;this.addBtn.textContent=this.i18n.addServer};u.prototype.isValid=function(){var r=this,e=new k.default,v=this.textbox.value;if(this.isValidHost()){var g=v.replace("http:","https:");"/"!==g[g.length-1]&&(g+="/");var p=this.portal.isPortal?this.i18n.hostInvalidPortal:this.i18n.hostInvalid;(0,b.default)({url:g+"sharing/rest/portals/self",callbackParamName:"callback",handleAs:"json",content:{f:"json"}}).then(function(n){if(n&&
!n.code){var q=-1<v.indexOf("http:");!r.portal.isPortal&&q?(r.showInputError(r.i18n.httpWarning),e.resolve({isValid:!1,domain:v})):(n=n.allSSL?v.replace("http:","https:"):v,e.resolve({isValid:!0,domain:n}))}else r.showInputError(p),e.resolve({isValid:!1,domain:v})},function(){r.showInputError(p);e.resolve({isValid:!1,domain:v})})}else e.resolve({isValid:!1,domain:v});return e};return u=a.__decorate([(0,h.default)(m.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ArcGISLoginRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ArcGISLoginRow.html dojo/topic ./SettingsRow arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/utils/dom arcgisonline/pages/utils/icons arcgisonline/pages/dijit/InfoTooltip ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=k.default;this.i18n=a.__assign(a.__assign({},b.default.securityTab.loginsSection),b.default.securityTab.loginsSection.arcGIS);this.icons=r.default;this.propName="canSignInArcGIS";this.toggleId="arcgis-login-toggle";
this.updating=!1;this.labelIds=["arcgis-login-name","arcgis-login-desc"];this.afterUpdate=this.afterUpdate.bind(this)}g.prototype.isChecked=function(){var p,n;return(null===(p=this.toggleSwitch)||void 0===p?void 0:p.checked())||(null===(n=this.companionInfo)||void 0===n?void 0:n.canSignInArcGIS)};g.prototype.enableToggle=function(){var p;null===(p=this.toggleSwitch)||void 0===p?void 0:p.enable();this.defendSingleUserLogin()};g.prototype.disableToggle=function(){var p;null===(p=this.toggleSwitch)||
void 0===p?void 0:p.disable()};g.prototype.render=function(){var p;this.setTexts();this.toggleSwitch=new h.default({labelClasses:"trailer-0",trackId:this.toggleId},this.domNode.querySelector(".js-toggle"));var n=this.portal[this.propName];this.toggleSwitch.setChecked(n,!0);this.toggleSwitch.setLabelledBy(this.labelIds);this.renderCompanionInfo();this.toggleDrag(n||(null===(p=this.companionInfo)||void 0===p?void 0:p.canSignInArcGIS));this.defendSingleUserLogin()};g.prototype.defendSingleUserLogin=
function(){var p="arcgis"===this.portal.portalUser.provider;!this.portal.isPortal&&1===this.portal.subscriptionInfo.maxUsers&&p&&this.toggleSwitch.disable()};g.prototype.renderCompanionInfo=function(){var p;if(null===(p=this.companionInfo)||void 0===p?0:p.canSignInArcGIS){p="Community"===this.companionInfo.type?this.i18n.enabledOn.community:this.i18n.enabledOn.hub;var n="Community"===this.companionInfo.type?this.i18n.manageSettings.community:this.i18n.manageSettings.hub;this.companionTooltip=new e.default({infoText:this.i18n.enabledBy.replace("${orgName}",
this.companionInfo.orgName),content:'\x3cp class\x3d"trailer-half"\x3e'.concat(p,'\x3c/p\x3e\x3ca href\x3d"https://').concat(this.companionInfo.organizationUrl,'/home/organization.html?tab\x3dsecurity#settings" target\x3d"_blank" class\x3d"flex flex-align-center"\x3e').concat(n,' \x3ccalcite-icon icon\x3d"launch" scale\x3d"s" class\x3d"margin-left-half"\x3e\x3ccalcite-icon\x3e\x3c/a\x3e')},this.domNode.querySelector(".js-companion-info"));this.companionTooltip.domNode.classList.add("margin-right-1");
this.portal[this.propName]&&u.default.hideNode(this.companionTooltip.domNode)}};g.prototype.setTexts=function(){var p=this.portal.isPortal;this.toggleName.textContent=this.i18n.name;this.toggleDesc.textContent=this.i18n["description".concat(p?"Portal":"")]};g.prototype.addEventListeners=function(){this.own(this.toggleSwitch.on("change",this.handleToggleChange.bind(this)))};g.prototype.handleToggleChange=function(){var p,n;if(!this.updating){var q=this.toggleSwitch.checked();this.toggleDrag(q||(null===
(n=this.companionInfo)||void 0===n?void 0:n.canSignInArcGIS));n=q?this.i18n.enable.error:this.i18n.disable.error;var l=q?this.i18n.enable.success:this.i18n.disable.success;this.updating=!0;this.toggleSwitch.disable();this.companionTooltip&&u.default.showHide(this.companionTooltip.domNode,!q);this.updateSetting((p={},p[this.propName]=q,p),n,l).then(this.afterUpdate,this.afterUpdate)}};g.prototype.afterUpdate=function(){this.updating=!1;this.toggleSwitch.enable();f.default.publish("login/toggle")};
g.prototype.toggleDrag=function(p){var n=this.domNode.querySelector(".js-drag-handle");u.default.addRemoveClass(n,"sign-option-drag-handle",p);n.tabIndex=p?0:-1};return g=a.__decorate([(0,v.default)(m.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SamlLoginRow":function(){define("require exports tslib dojo/on dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/SamlLoginRow.html ./ArcGISLoginRow ../EnterpriseLoginOverlay arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/pages/dijit/InfoTooltip arcgisonline/esriGeowConfig arcgisonline/sharing/util ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=m.default;this.icons=r.default;this.i18n=a.__assign(a.__assign(a.__assign({},f.default.securityTab.enterpriseLogins),f.default.securityTab.loginsSection),
f.default.securityTab.loginsSection.SAML);this.propName="canSignInIDP";this.toggleId="saml-login-toggle";this.labelIds=["saml-login-name","saml-login-desc"]}q.prototype.postCreate=function(){this.inherited(arguments);this.domNode.dataset.provider=this.provider||"saml"};q.prototype.render=function(){this.inherited(arguments);this.defendSingleUserLogin()};q.prototype.updateIdentityProvider=function(l){this.currentIdp=l};q.prototype.enableToggle=function(){var l;this.companionInfo||(null===(l=this.toggleSwitch)||
void 0===l?void 0:l.enable(),this.defendSingleUserLogin())};q.prototype.defendSingleUserLogin=function(){var l=this.portal.portalUser.provider===this.domNode.dataset.provider;!this.portal.isPortal&&1===this.portal.subscriptionInfo.maxUsers&&l&&this.toggleSwitch.disable()};q.prototype.renderCompanionInfo=function(){if(this.companionInfo){e.default.hideNode(this.editIcon);this.toggleSwitch.disable();var l="Community"===this.companionInfo.type?this.i18n.configuredOn.community:this.i18n.configuredOn.hub,
c="Community"===this.companionInfo.type?this.i18n.manageSettings.community:this.i18n.manageSettings.hub;(new v.default({infoText:this.i18n.configuredBy.replace("${orgName}",this.companionInfo.orgName),content:'\x3cp class\x3d"trailer-half"\x3e'.concat(l,'\x3c/p\x3e\x3ca href\x3d"https://').concat(this.companionInfo.organizationUrl,'/home/organization.html?tab\x3dsecurity#settings" target\x3d"_blank" class\x3d"flex flex-align-center"\x3e').concat(c,' \x3ccalcite-icon icon\x3d"launch" scale\x3d"s" class\x3d"margin-left-half"\x3e\x3ccalcite-icon\x3e\x3c/a\x3e')},
this.domNode.querySelector(".js-companion-info"))).domNode.classList.add("margin-right-1")}};q.prototype.setTexts=function(){var l;this.idpName.textContent=null===(l=this.currentIdp)||void 0===l?void 0:l.name};q.prototype.addEventListeners=function(){var l=this;this.inherited(arguments);this.own((0,b.default)(this.editIcon,"click",this.handleEditClick.bind(this)),k.default.subscribe("default-user-type/change",function(c){l.userDefaults=c}));this.downloadIcon&&this.own((0,b.default)(this.downloadIcon,
"click",this.downloadMetadata.bind(this)))};q.prototype.downloadMetadata=function(){window.open("".concat(g.default.restBaseUrl,"portals/self/sp/metadata?token\x3d").concat(p.default.getToken()),"_blank")};q.prototype.handleEditClick=function(){var l,c=new u.default({portal:this.portal,portalUser:this.portalUser,defaultUserType:null===(l=this.userDefaults)||void 0===l?void 0:l.userLicenseType,opener:this.editIcon,telemetry:this.telemetry});c.open();c.edit(this.currentIdp)};return q=a.__decorate([(0,n.default)(h.default)],
q)}()})},"arcgisonline/pages/organization/widgets/settings/rows/OpenIdConnectRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/on dojo/Deferred dojo/topic dojo/text!./templates/OpenIdConnectRow.html ./SamlLoginRow ../OpenIdConnectOverlay arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.i18n=a.__assign(a.__assign(a.__assign({},b.default.securityTab.enterpriseLogins),b.default.securityTab.loginsSection),b.default.securityTab.loginsSection.openIdConnect);this.templateString=h.default;this.propName="canSignInOIDC";this.toggleId="oidc-login-toggle";this.labelIds=["oidc-name","oidc-desc"];this.handleChanges=this.handleChanges.bind(this)}
p.prototype.postCreate=function(){var n=this;this.getOIDC().then(function(){n.render();n.renderCompanionInfo();n.addEventListeners()});this.own(m.default.subscribe("default-user-type/change",function(q){n.userDefaults=q}))};p.prototype.render=function(){var n;this.inherited(arguments);this.domNode.dataset.provider="oidc_".concat(null===(n=this.currentOIDC)||void 0===n?void 0:n.id);m.default.publish("login/toggle",!0);this.defendSingleUserLogin()};p.prototype.defendSingleUserLogin=function(){var n=
this.portal.portalUser.provider===this.domNode.dataset.provider;!this.portal.isPortal&&1===this.portal.subscriptionInfo.maxUsers&&n&&this.toggleSwitch.disable()};p.prototype.setTexts=function(){var n;this.idpName.innerHTML=null===(n=this.currentOIDC)||void 0===n?void 0:n.name};p.prototype.handleEditClick=function(){this.createOverlay(this.editIcon)};p.prototype.createOverlay=function(n){var q;n=new r.default({opener:n,telemetry:this.telemetry,currentOIDC:this.currentOIDC,portal:this.portal,portalUser:this.portalUser,
defaultUserType:null===(q=this.userDefaults)||void 0===q?void 0:q.userLicenseType});n.open();k.default.once(n,"change",this.handleChanges)};p.prototype.handleChanges=function(){var n=this;this.getOIDC(!0).then(function(){n.setTexts()})};p.prototype.getOIDC=function(n){var q=this,l=new f.default;if(!n&&this.currentOIDC)return l.resolve(this.currentOIDC),l;e.default.request({url:"".concat(v.default.restBaseUrl,"portals/self/oidc"),content:{returnClientSecret:!0}}).then(function(c){var d;(null===(d=
c.oidcProviders)||void 0===d?0:d.length)?q.currentOIDC=c.oidcProviders[0]:q.currentOIDC=void 0;l.resolve(q.currentOIDC)},function(){l.resolve(q.currentOIDC)});return l};return p=a.__decorate([(0,g.default)(u.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/rows/SocialLoginsRow":function(){define("require exports tslib preact ../../../../../esriGeowConfig ../../../../pageUtil ../../../../components/SignInOptions/SocialOption ../../../../dijit/ToggleSwitch ../../GroupIcon ./SettingsRow ../../../../utils/alerts ../../../../utils/dom ../../../../utils/arrays ../../../../utils/number ../../../../utils/dragdrop ../../../../dijit/InfoTooltip ../../../../../sharing/util ../../../../../sharing/geow/Licenses ../../../../../sharing/geow/Roles ../../../../../sharing/dijit/_LevelAwareMixin ../../../../../tsutils/declareDecorator esri/lang dojo/Deferred dojo/promise/all dojo/on dojo/topic dojo/query dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/SocialLoginsRow.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);var H;(function(G){G.Invitation="Invitation";G.Automatic="Automatic"})(H||(H={}));return function(){function G(F,I){this.templateString=E.default;this.i18n=a.__assign(a.__assign(a.__assign({},C.default.securityTab.loginsSection),C.default.securityTab.socialLogins),this.i18n);this.disableEditPopup=!0;this.selectedGroups=[];this.canSignInSocial=!1;this.signUpModes=
["Invitation","Automatic"];this.providers={facebook:"facebook",google:"google",github:"github",apple:"apple"};this.rolesMap={account_user:"org_user",account_publisher:"org_publisher",account_admin:"org_admin"};this.handleMainUpdateError=this.handleMainUpdateError.bind(this);this.handleDrop=this.handleDrop.bind(this)}G.prototype.postCreate=function(){var F;this.inherited(arguments);this.canSignInSocial=this.portal.canSignInSocial||(null===(F=this.companionInfo)||void 0===F?void 0:F.canSignInSocial)};
G.prototype.refreshSignInPreferences=function(){this.protectLastSocialOption()};G.prototype.isChecked=function(){var F,I;return(null===(F=this.mainToggleSwitch)||void 0===F?void 0:F.checked())||(null===(I=this.companionInfo)||void 0===I?void 0:I.canSignInSocial)};G.prototype.enableToggle=function(){var F;null===(F=this.mainToggleSwitch)||void 0===F?void 0:F.enable();this.defendSingleUserLogin()};G.prototype.disableToggle=function(){var F;null===(F=this.mainToggleSwitch)||void 0===F?void 0:F.disable();
var I=0;F=[this.facebookToggleSwitch,this.googleToggleSwitch,this.githubToggleSwitch,this.appleToggleSwitch];F.forEach(function(J){J.checked()&&I++});1===I&&F.forEach(function(J){J.checked()&&J.disable()})};G.prototype.render=function(){var F=this;this.licensesAPI=new c.default;this.rolesAPI=new d.default;this.checkPermissions();this.getSocialProviders().then(function(){return F.getUserTypesRoles()}).then(function(){return F.initSocialOptions()}).then(function(){F.initDrag();F.initToggles();F.initUI();
B.default.publish("login/toggle",!0)})};G.prototype.addEventListeners=function(){};G.prototype.initToggles=function(){var F=this,I,J,K,P,T;this.mainToggleSwitch=new h.default({baseClass:"flex-0",labelClasses:"trailer-0",trackId:"main-social-toggle"},this.domNode.querySelector(".js-main-toggle"));this.mainToggleSwitch.setChecked(this.portal.canSignInSocial,!0);this.mainToggleSwitch.setLabelledBy(["social-logins-name","social-logins-desc"]);(null===(I=this.companionInfo)||void 0===I?0:I.canSignInSocial)&&
this.createCompanionInfo("main");this.portal.canSignInSocial||(null===(J=this.mainCompanionInfo)||void 0===J?void 0:J.show());this.toggleDrag(this.portal.canSignInSocial||(null===(K=this.companionInfo)||void 0===K?void 0:K.canSignInSocial));this.canSignInSocial||v.default.hideNode(this.providerList);this.facebookToggleSwitch=new h.default({labelClasses:"trailer-0",trackId:"fb-sign-in-toggle"},this.domNode.querySelector(".js-facebook-toggle"));this.facebookToggleSwitch.setLabelledBy(["facebook-toggle-label"]);
this.googleToggleSwitch=new h.default({labelClasses:"trailer-0",trackId:"google-sign-in-toggle"},this.domNode.querySelector(".js-google-toggle"));this.googleToggleSwitch.setLabelledBy(["google-toggle-label"]);this.githubToggleSwitch=new h.default({labelClasses:"trailer-0",trackId:"github-sign-in-toggle"},this.domNode.querySelector(".js-github-toggle"));this.githubToggleSwitch.setLabelledBy(["github-toggle-label"]);this.appleToggleSwitch=new h.default({labelClasses:"trailer-0",trackId:"apple-sign-in-toggle"},
this.domNode.querySelector(".js-apple-toggle"));this.appleToggleSwitch.setLabelledBy(["apple-toggle-label"]);this.autoToggleSwitch=new h.default({labelClasses:"trailer-0",trackId:"auto-join-toggle"},this.domNode.querySelector(".js-toggle-auto-join"));this.autoToggleSwitch.setLabelledBy(["auto-login-label"]);this.own((0,A.default)(this.facebookToggleSwitch,"change",this.handleFacebookChange.bind(this)),(0,A.default)(this.googleToggleSwitch,"change",this.handleGoogleChange.bind(this)),(0,A.default)(this.githubToggleSwitch,
"change",this.handleGithubChange.bind(this)),(0,A.default)(this.appleToggleSwitch,"change",this.handleAppleChange.bind(this)),(0,A.default)(this.autoToggleSwitch,"change",this.handleAutoChange.bind(this)),(0,A.default)(this.mainToggleSwitch,"change",this.handleMainToggleChange.bind(this)));(null===(T=null===(P=this.companionInfo)||void 0===P?void 0:P.socials)||void 0===T?0:T.providers)&&this.companionInfo.socials.providers.forEach(function(S){F.createCompanionInfo(S)})};G.prototype.createCompanionInfo=
function(F){var I="Community"===this.companionInfo.type?this.i18n.enabledOn.community:this.i18n.enabledOn.hub,J="Community"===this.companionInfo.type?this.i18n.manageSettings.community:this.i18n.manageSettings.hub;I=new q.default({infoText:this.i18n.enabledBy.replace("${orgName}",this.companionInfo.orgName),content:'\x3cp class\x3d"trailer-half"\x3e'.concat(I,'\x3c/p\x3e\x3ca href\x3d"https://').concat(this.companionInfo.organizationUrl,'/home/organization.html?tab\x3dsecurity#settings" target\x3d"_blank" class\x3d"flex flex-align-center"\x3e').concat(J,
' \x3ccalcite-icon icon\x3d"launch" scale\x3d"s" class\x3d"margin-left-half"\x3e\x3ccalcite-icon\x3e\x3c/a\x3e')},this.domNode.querySelector(".js-".concat(F,"-companion")));I.hide();"main"!==F&&I.domNode.classList.add("margin-right-1");this["".concat(F,"CompanionInfo")]=I};G.prototype.initSocialOptions=function(){var F=a.__spreadArray([],this.signinOptionsOrder.social,!0);["github","facebook","google","apple"].forEach(function(J){-1===F.indexOf(J)&&F.push(J)});var I=(0,b.h)("div",{class:"js-social-options"},
F.map(function(J){return(0,b.h)(m.default,{key:J,provider:J})}));(0,b.render)(I,this.providerList)};G.prototype.saveSocialOrder=function(F){return l.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/setSigninSettings"),content:{signinOptionsOrder:JSON.stringify(a.__assign(a.__assign({},this.signinOptionsOrder),{social:F}))}},{usePost:!0})};G.prototype.handleDrop=function(){var F=this,I=this.providerList.querySelectorAll(".social-provider-row"),J=[];v.default.forEachNode(I,function(P){J.push(P.dataset.provider)});
I=JSON.stringify(this.signinOptionsOrder.social);var K=JSON.stringify(J);I!==K&&this.saveSocialOrder(J).then(function(){F.signinOptionsOrder.social=J;e.default.showAlert("success",F.i18n.reorderSuccess)},function(){e.default.showAlert("error",F.i18n.reorderError)})};G.prototype.initDrag=function(){n.default.init(this.providerList.querySelector(".js-social-options"),{direction:"vertical",itemClass:"social-provider-row",handleClass:"social-option-drag-handle",activeClass:"org-settings__card-list-row--sorting",
onDrop:this.handleDrop})};G.prototype.handleMainToggleChange=function(){var F=this,I;if(!this.isMainUpdating){this.isMainUpdating=!0;this.mainToggleSwitch.disable();var J=this.mainToggleSwitch.checked();this.toggleDrag(J||(null===(I=this.companionInfo)||void 0===I?void 0:I.canSignInSocial));var K=J?"enable":"disable";I=this.i18n["".concat(K,"Error")];K=this.i18n["".concat(K,"Success")];this.updateSetting({canSignInSocial:this.mainToggleSwitch.checked()},I,K).then(function(P){var T,S,L,N,O;P&&!P.code?
(v.default.showHide(F.providerList,J||(null===(T=F.companionInfo)||void 0===T?void 0:T.canSignInSocial)),F.mainToggleSwitch.enable(),F.isMainUpdating=!1,F.mainToggleSwitch.checked()?(0===F.getSelectedProviders().length&&(P=null===(L=null===(S=(0,D.default)(".social-provider-row",F.domNode)[0])||void 0===S?void 0:S.dataset)||void 0===L?void 0:L.provider,S=F.googleToggleSwitch,P&&("facebook"===P?S=F.facebookToggleSwitch:"google"===P?S=F.googleToggleSwitch:"apple"===P?S=F.appleToggleSwitch:"github"===
P&&(S=F.githubToggleSwitch)),S.setChecked(!0)),null===(N=F.mainCompanionInfo)||void 0===N?void 0:N.hide()):null===(O=F.mainCompanionInfo)||void 0===O?void 0:O.show(),B.default.publish("login/toggle")):F.handleMainUpdateError()},this.handleMainUpdateError)}};G.prototype.toggleDrag=function(F){var I=this.domNode.querySelector(".js-drag-handle");v.default.addRemoveClass(I,"sign-option-drag-handle",F);I.tabIndex=F?0:-1};G.prototype.handleMainUpdateError=function(){this.mainToggleSwitch.enable();this.mainToggleSwitch.setChecked(!this.mainToggleSwitch.checked(),
!0);this.isMainUpdating=!1};G.prototype.handleFacebookChange=function(){this.isFacebookUpdating||(this.isFacebookUpdating=!0,this.facebookToggleSwitch.disable(),this.updateSocialOrder("facebook",this.facebookToggleSwitch),this.handleToggleChange(),this.toggleCompanionInfo())};G.prototype.handleGoogleChange=function(){this.isGoogleUpdating||(this.isGoogleUpdating=!0,this.googleToggleSwitch.disable(),this.updateSocialOrder("google",this.googleToggleSwitch),this.handleToggleChange(),this.toggleCompanionInfo())};
G.prototype.handleGithubChange=function(){this.isGithubUpdating||(this.isGithubUpdating=!0,this.githubToggleSwitch.disable(),this.updateSocialOrder("github",this.githubToggleSwitch),this.handleToggleChange(),this.toggleCompanionInfo())};G.prototype.handleAppleChange=function(){this.isAppleUpdating||(this.isAppleUpdating=!0,this.appleToggleSwitch.disable(),this.updateSocialOrder("apple",this.appleToggleSwitch),this.handleToggleChange(),this.toggleCompanionInfo())};G.prototype.handleAutoChange=function(){this.isAutoUpdating||
(this.isAutoUpdating=!0,this.autoToggleSwitch.disable(),this.handleAutoToggleChange())};G.prototype.handleUpdateComplete=function(){this.isFacebookUpdating&&(this.facebookToggleSwitch.enable(),this.isFacebookUpdating=!1);this.isGoogleUpdating&&(this.googleToggleSwitch.enable(),this.isGoogleUpdating=!1);this.isGithubUpdating&&(this.githubToggleSwitch.enable(),this.isGithubUpdating=!1);this.isAppleUpdating&&(this.appleToggleSwitch.enable(),this.isAppleUpdating=!1);this.protectLastSocialOption()};G.prototype.handleAutoUpdateComplete=
function(){this.isAutoUpdating&&(this.autoToggleSwitch.enable(),this.isAutoUpdating=!1)};G.prototype.checkPermissions=function(){var F=this.portalUser.userRole,I=!!F,J=I&&F.isAdmin();this.canAccessLicenses=J||I&&(F.canManageLicenses()||F.canInviteUsers()||F.canManageRoles());this.canManageCredits=J||I&&F.canManageCredits();this.canManageRoles=J||I&&F.canManageRoles()};G.prototype.updateSocialOrder=function(F,I){var J,K,P,T,S=I.checked();this.toggleSocialDragHandle(I);var L=this.signinOptionsOrder.social;
S||-1!==(null===(K=null===(J=this.companionInfo)||void 0===J?void 0:J.socials)||void 0===K?void 0:K.providers.indexOf(F))?-1===L.indexOf(F)&&L.push(F):(F=L.indexOf(F),-1<F&&L.splice(F,1));null===(T=null===(P=this.companionInfo)||void 0===P?void 0:P.socials)||void 0===T?void 0:T.providers.forEach(function(O){-1===L.indexOf(O)&&L.push(O)});var N=[];(0,D.default)(".social-provider-row",this.domNode).forEach(function(O){O=O.dataset.provider;-1<L.indexOf(O)&&N.push(O)});this.saveSocialOrder(N)};G.prototype.handleToggleChange=
function(){var F=this;this.protectLastSocialOption();var I=this.getSelectedProviders();this.socialLoginsConfig&&0===I.length?(I=this.i18n.disableWarning,f.default.createConfirmationDialog({strings:{title:I.title,description:I.message},autoCloseOnOk:!0,onOk:function(){F.mainToggleSwitch.checked()&&F.mainToggleSwitch.setChecked(!1);F.removeSocialConfiguration().then(function(J){F.toggleSignUpMode();J&&J.code?e.default.showAlert("error",F.i18n.disableError):(e.default.showAlert("success",F.i18n.disableSuccess),
F.socialLoginsConfig=void 0);B.default.publish("setSocialProviders");F.handleUpdateComplete()},function(){e.default.showAlert("error",F.i18n.disableError);F.handleUpdateComplete();F.protectLastSocialOption()})},onCancel:function(){F.handleUpdateComplete();F.setSelectedProviders(F.socialLoginsConfig.providers)}})):this.configureSocialLogins(I).then(function(J){F.getSocialProviders().then(function(){F.resetProviderToggles();F.setSelectedProviders(F.socialLoginsConfig.providers);F.toggleSignUpMode();
B.default.publish("setSocialProviders")});F.handleUpdateComplete();J&&J.code?(e.default.showAlert("error",F.i18n.enableError),F.protectLastSocialOption()):e.default.showAlert("success",F.i18n.configureSuccess)},function(){e.default.showAlert("error",F.i18n.enableError);F.handleUpdateComplete();F.protectLastSocialOption()})};G.prototype.handleAutoToggleChange=function(){var F=this,I=this.getSelectedProviders();this.configureSocialLogins(I).then(function(J){F.getSocialProviders().then(function(){F.resetProviderToggles();
F.setSelectedProviders(F.socialLoginsConfig.providers);F.toggleSignUpMode()});J&&J.code?e.default.showAlert("error",F.i18n.enableError):e.default.showAlert("success",F.i18n.configureSuccess);B.default.publish("setSocialProviders");F.handleAutoUpdateComplete()},function(){e.default.showAlert("error",F.i18n.enableError);F.handleAutoUpdateComplete()})};G.prototype.secureBaseUrl=function(){return"".concat(l.default.getSecureUrl(k.default.restBaseUrl),"portals/self/socialProviders")};G.prototype.resetProviderToggles=
function(){this.facebookToggleSwitch.setChecked(!1,!0);this.googleToggleSwitch.setChecked(!1,!0);this.githubToggleSwitch.setChecked(!1,!0);this.appleToggleSwitch.setChecked(!1,!0)};G.prototype.setSelectedProviders=function(F){var I=this,J=1===F.length&&this.mainToggleSwitch.disabled;null===F||void 0===F?void 0:F.forEach(function(K){switch(K.trim()){case I.providers.facebook:I.facebookToggleSwitch.setChecked(!0,!0);J&&I.facebookToggleSwitch.disable();I.toggleSocialDragHandle(I.facebookToggleSwitch);
break;case I.providers.google:I.googleToggleSwitch.setChecked(!0,!0);J&&I.googleToggleSwitch.disable();I.toggleSocialDragHandle(I.googleToggleSwitch);break;case I.providers.github:I.githubToggleSwitch.setChecked(!0,!0);J&&I.githubToggleSwitch.disable();I.toggleSocialDragHandle(I.githubToggleSwitch);break;case I.providers.apple:I.appleToggleSwitch.setChecked(!0,!0),J&&I.appleToggleSwitch.disable(),I.toggleSocialDragHandle(I.appleToggleSwitch)}});this.toggleCompanionInfo()};G.prototype.toggleCompanionInfo=
function(){var F,I,J,K,P,T,S,L;this.facebookToggleSwitch.checked()?null===(I=this.facebookCompanionInfo)||void 0===I?void 0:I.hide():null===(F=this.facebookCompanionInfo)||void 0===F?void 0:F.show();this.googleToggleSwitch.checked()?null===(K=this.googleCompanionInfo)||void 0===K?void 0:K.hide():null===(J=this.googleCompanionInfo)||void 0===J?void 0:J.show();this.githubToggleSwitch.checked()?null===(T=this.githubCompanionInfo)||void 0===T?void 0:T.hide():null===(P=this.githubCompanionInfo)||void 0===
P?void 0:P.show();this.appleToggleSwitch.checked()?null===(L=this.appleCompanionInfo)||void 0===L?void 0:L.hide():null===(S=this.appleCompanionInfo)||void 0===S?void 0:S.show()};G.prototype.toggleSocialDragHandle=function(F){var I=F.checked();if(F=(0,D.default)(F.domNode).siblings(".js-drag-handle")[0])v.default.addRemoveClass(F,"social-option-drag-handle",I),F.tabIndex=I?0:-1};G.prototype.getSelectedProviders=function(){var F=[];(this.githubToggleSwitch.checked()||this.isCompanionProviderEnabled("github"))&&
F.push(this.providers.github);(this.facebookToggleSwitch.checked()||this.isCompanionProviderEnabled("facebook"))&&F.push(this.providers.facebook);(this.googleToggleSwitch.checked()||this.isCompanionProviderEnabled("google"))&&F.push(this.providers.google);(this.appleToggleSwitch.checked()||this.isCompanionProviderEnabled("apple"))&&F.push(this.providers.apple);return F};G.prototype.isCompanionProviderEnabled=function(F){var I,J;return-1<(null===(J=null===(I=this.companionInfo)||void 0===I?void 0:
I.social)||void 0===J?void 0:J.providers.providers.indexOf(F))};G.prototype.configureSocialLogins=function(F){F=F.join(",");var I=this.autoToggleSwitch.checked()?H.Automatic:H.Invitation,J="".concat(this.secureBaseUrl(),"/configure");return l.default.request({url:J,content:{signUpMode:I,providers:F}},{usePost:!0})};G.prototype.removeSocialConfiguration=function(){var F="".concat(this.secureBaseUrl(),"/remove");return l.default.request({url:F},{usePost:!0})};G.prototype.getSocialProviders=function(){var F=
this,I=new x.default;l.default.request({url:this.secureBaseUrl()}).then(function(J){J=J.config;var K=J.providers&&J.providers.some(function(P){return!!F.providers[P]});F.socialLoginsEnabled=J&&J.signUpMode&&-1<F.signUpModes.indexOf(J.signUpMode)&&K;F.socialLoginsConfig=F.socialLoginsEnabled?J:void 0;I.resolve()},function(){F.socialLoginsEnabled=!1;F.socialLoginsConfig=void 0;I.resolve()});return I};G.prototype.initUI=function(){var F=this;this.isSingleUserSubscription=!this.portal.isPortal&&1===this.portal.subscriptionInfo.maxUsers;
var I=Object.keys(this.providers);this.currentUserIsSocial=g.default.includes(I,this.portal.portalUser.provider);(I=this.portal.creditAssignments&&"enabled"===this.portal.creditAssignments)||this.autoToggleSwitch.disable();v.default.showHide(this.autoRequireEl,!I);if(this.socialLoginsConfig){var J=this.socialLoginsConfig,K=J.signUpMode,P=J.userLicenseType;J=J.groups;var T=this.socialLoginsConfig,S=T.role;T=T.userCreditAssignment;S=this.normalizeRole(S);var L=!!this.providers[this.portalUser.provider];
z.default.isDefined(T)||(T=-1);this.hasDefaults=!!(this.canAccessLicenses&&P||this.canManageRoles&&S||this.canManageCredits&&I&&-1<T||J&&0<J.length);this.resetProviderToggles();this.setSelectedProviders(this.socialLoginsConfig.providers);L&&(this.facebookToggleSwitch.disable(),this.googleToggleSwitch.disable(),this.githubToggleSwitch.disable(),this.appleToggleSwitch.disable(),v.default.showNode(this.toggleDisabledEl));this.autoToggleSwitch.setChecked(K===H.Automatic,!0);K=g.default.find(this.userTypes,
function(N){return N.id===P});this.defaultUserTypeEl.textContent=K?K.name:this.i18n.notSet;v.default.showHide(this.defaultUserTypeRow,this.canAccessLicenses);K=g.default.find(this.roles,function(N){return N.id===S});this.defaultRoleEl.textContent=K?K.name:this.i18n.notSet;v.default.showHide(this.defaultRoleRow,this.canManageRoles);this.defaultCreditsEl.textContent=-1===T?this.i18n.notSet:p.default.format(T);v.default.showHide(this.defaultCreditsRow,this.canManageCredits&&I);J&&0<J.length?this.getSelectedGroups(J).then(function(){F.selectedGroups.forEach(function(N){N=
new u.default({portal:F.portal,group:N,scale:"m"});F.defaultGroupsEl.appendChild(N.domNode)})}):(this.selectedGroups=[],this.defaultGroupsEl.textContent=this.i18n.notSet)}else this.resetProviderToggles();this.toggleSignUpMode();this.protectLastSocialOption()};G.prototype.toggleSignUpMode=function(){var F="Community"===this.portal.subscriptionInfo.type,I=this.autoToggleSwitch.checked(),J=0<this.getSelectedProviders().length;v.default.showHide(this.autoContainer,F&&J);v.default.showHide(this.defaultValuesContainer,
F&&I&&this.hasDefaults);v.default.showHide(this.toConfigureEl,F&&I)};G.prototype.normalizeRole=function(F){F=F&&"null"!==F?F:"org_user";this.rolesMap[F]&&(F=this.rolesMap[F]);return F};G.prototype.getUserTypesRoles=function(){(0,y.default)({roles:this.canManageRoles?this.getRoles():null,usrTypes:this.canAccessLicenses?this.getUserTypes():null}).then(function(){})};G.prototype.getUserTypes=function(){var F=this;return this.licensesAPI.getLicenseTypes().then(function(I){F.userTypes=I.userLicenseTypes.filter(function(J){return 0<
J.maxUsers})})};G.prototype.getRoles=function(){var F=this;return this.rolesAPI.getAllRoles(!0).then(function(I){I&&(I.some(function(J){if(J&&J.id===F.SYSTEM_ROLES.VIEWER){J.name=F.i18n.roleViewer;var K=!0}else if(J&&J.id===F.SYSTEM_ROLES.DATA_EDITOR){J.name=F.i18n.roleEditor;var P=!0}return K&&P}),F.roles=I)})};G.prototype.getSelectedGroups=function(F){var I=this,J;F.forEach(function(K){J=J?J+" OR id:".concat(K):"id: ".concat(K)});F="orgid:".concat(this.portal.id," AND (").concat(J,")");return f.default.fetchAllResources("".concat(k.default.restBaseUrl,
"community/groups"),{q:F},"results").then(function(K){I.selectedGroups=I.selectedGroups.concat(K)})};G.prototype.defendSingleUserLogin=function(){if(this.isSingleUserSubscription&&this.currentUserIsSocial)switch(this.mainToggleSwitch.disable(),this.portal.portalUser.provider){case "facebook":this.facebookToggleSwitch.disable();break;case "google":this.googleToggleSwitch.disable();break;case "github":this.githubToggleSwitch.disable();break;case "apple":this.appleToggleSwitch.disable()}};G.prototype.protectLastSocialOption=
function(){var F=0;if(this.facebookToggleSwitch.checked()){F++;var I=this.facebookToggleSwitch}this.googleToggleSwitch.checked()&&(F++,I=this.googleToggleSwitch);this.githubToggleSwitch.checked()&&(F++,I=this.githubToggleSwitch);this.appleToggleSwitch.checked()&&(F++,I=this.appleToggleSwitch);this.portal.canSignInArcGIS||this.portal.canSignInIDP||this.portal.canSignInOIDC||!this.portal.canSignInSocial||1!==F?(this.isFacebookUpdating||this.facebookToggleSwitch.enable(),this.isGoogleUpdating||this.googleToggleSwitch.enable(),
this.isGithubUpdating||this.githubToggleSwitch.enable(),this.isAppleUpdating||this.appleToggleSwitch.enable()):I.disable();this.defendSingleUserLogin()};return G=a.__decorate([(0,t.default)(r.default,w.default)],G)}()})},"arcgisonline/pages/components/SignInOptions/SocialOption":function(){define("require exports tslib preact ./SocialIcons dojo/i18n!../../../nls/org-settings arcgisonline/pages/utils/icons".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);
f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(h){h=h.provider;var u=f.default.securityTab.socialLogins.providers;return(0,b.h)("div",{class:"margin-left-0 social-provider-row trailer-half","data-provider":h},(0,b.h)("div",{class:"flex flex-align-center"},(0,b.h)("div",{class:"flex-0 social-option-drag-handle js-drag-handle",dangerouslySetInnerHTML:{__html:m.default.drag["16"]}}),(0,b.h)("div",{class:"flex-1 flex-justify margin-left-half margin-right-2",id:"".concat(h,"-toggle-label")},
(0,b.h)("span",{class:"org-settings__social-provider-icon padding-right-half"},k.default[h]),u[h]),(0,b.h)("div",{class:"js-".concat(h,"-companion")}),(0,b.h)("div",{class:"js-".concat(h,"-toggle")})))}})},"arcgisonline/pages/components/SignInOptions/SocialIcons":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});U=(0,a.h)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",version:"1.1",focusable:"false",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",
viewBox:"0 0 14222 14222",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,a.h)("style",{type:"text/css"},"{.fil0 {fill:#1977F3;fill-rule:nonzero;}.fil1 {fill:#FEFEFE;fill-rule:nonzero;}"),(0,a.h)("g",{id:"Layer_x0020_1"},(0,a.h)("path",{class:"fil0",d:"M14222 7111c0,-3927 -3184,-7111 -7111,-7111 -3927,0 -7111,3184 -7111,7111 0,3549 2600,6491 6000,7025l0 -4969 -1806 0 0 -2056 1806 0 0 -1567c0,-1782 1062,-2767 2686,-2767 778,0 1592,139 1592,139l0 1750 -897 0c-883,0 -1159,548 -1159,1111l0 1334 1972 0 -315 2056 -1657 0 0 4969c3400,-533 6000,-3475 6000,-7025z"}),
(0,a.h)("path",{class:"fil1",d:"M9879 9167l315 -2056 -1972 0 0 -1334c0,-562 275,-1111 1159,-1111l897 0 0 -1750c0,0 -814,-139 -1592,-139 -1624,0 -2686,984 -2686,2767l0 1567 -1806 0 0 2056 1806 0 0 4969c362,57 733,86 1111,86 378,0 749,-30 1111,-86l0 -4969 1657 0z"})));var b=(0,a.h)("svg",{version:"1.1",id:"google_icon",focusable:"false",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 533.5 544.3",style:"enable-background:new 0 0 533.5 544.3;",
xmlSpace:"preserve"},(0,a.h)("style",{type:"text/css"},".st0{fill:#4285F4;}.st1{fill:#34A853;}.st2{fill:#FBBC04;}.st3{fill:#EA4335;}"),(0,a.h)("g",null,(0,a.h)("path",{class:"st0",d:"M533.5,278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1,33.8-25.7,63.7-54.4,82.7v68h87.7 C503.9,431.2,533.5,361.2,533.5,278.4z"}),(0,a.h)("path",{class:"st1",d:"M272.1,544.3c73.4,0,135.3-24.1,180.4-65.7l-87.7-68c-24.4,16.6-55.9,26-92.6,26c-71,0-131.2-47.9-152.8-112.3 H28.9v70.1C75.1,486.3,169.2,544.3,272.1,544.3z"}),
(0,a.h)("path",{class:"st2",d:"M119.3,324.3c-11.4-33.8-11.4-70.4,0-104.2V150H28.9c-38.6,76.9-38.6,167.5,0,244.4L119.3,324.3z"}),(0,a.h)("path",{class:"st3",d:"M272.1,107.7c38.8-0.6,76.3,14,104.4,40.8l0,0l77.7-77.7C405,24.6,339.7-0.8,272.1,0C169.2,0,75.1,58,28.9,150 l90.4,70.1C140.8,155.6,201.1,107.7,272.1,107.7z"}))),k=(0,a.h)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:"octicon octicon-mark-github",viewBox:"0 0 16 16"},(0,a.h)("g",null,(0,a.h)("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})));
a=(0,a.h)("svg",{version:"1.1",id:"apple_logo",class:"svg-icon-black",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 22.773 22.773",style:"enable-background:new 0 0 22.773 22.773;",xmlSpace:"preserve"},(0,a.h)("g",null,(0,a.h)("path",{d:"M15.769,0c0.053,0,0.106,0,0.162,0c0.13,1.606-0.483,2.806-1.228,3.675c-0.731,0.863-1.732,1.7-3.351,1.573 c-0.108-1.583,0.506-2.694,1.25-3.561C13.292,0.879,14.557,0.16,15.769,0z"}),(0,a.h)("path",{d:"M20.67,16.716c0,0.016,0,0.03,0,0.045c-0.455,1.378-1.104,2.559-1.896,3.655c-0.723,0.995-1.609,2.334-3.191,2.334 c-1.367,0-2.275-0.879-3.676-0.903c-1.482-0.024-2.297,0.735-3.652,0.926c-0.155,0-0.31,0-0.462,0 c-0.995-0.144-1.798-0.932-2.383-1.642c-1.725-2.098-3.058-4.808-3.306-8.276c0-0.34,0-0.679,0-1.019 c0.105-2.482,1.311-4.5,2.914-5.478c0.846-0.52,2.009-0.963,3.304-0.765c0.555,0.086,1.122,0.276,1.619,0.464 c0.471,0.181,1.06,0.502,1.618,0.485c0.378-0.011,0.754-0.208,1.135-0.347c1.116-0.403,2.21-0.865,3.652-0.648 c1.733,0.262,2.963,1.032,3.723,2.22c-1.466,0.933-2.625,2.339-2.427,4.74C17.818,14.688,19.086,15.964,20.67,16.716z"})));
M.default={facebook:U,google:b,github:k,apple:a}})},"arcgisonline/pages/organization/widgets/settings/rows/SignInOptionsRow":function(){define("require exports tslib ../../../../dijit/ToggleSwitch ./SettingsRow ../../../../utils/dom ../../../../../tsutils/declareDecorator dojo/on dojo/string dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/SignInOptionsRow.html".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=e.default;this.i18n=a.__assign({},r.default.securityTab.signInOptions);this.disableEditPopup=!0;this.settingsProps=["canSignInArcGIS","canSignInIDP"]}v.prototype.updateIdentityProvider=function(g){(this.currentIdp=g)||this.enterpriseToggle.uncheck();this.updateOptions()};v.prototype.updateSocialProviders=function(g){(this.currentSocial=g)||this.socialToggle.uncheck();
this.updateOptions()};v.prototype.render=function(){this._label.textContent=this.label;this._description.textContent=this.description;this.arcgisToggle=new b.default({labelClasses:"trailer-0",trackId:"arcgis-logins-toggle"},this.arcgisOption);this.enterpriseToggle=new b.default({labelClasses:"trailer-0",trackId:"enterprise-logins-toggle"},this.enterpriseOption);this.socialToggle=new b.default({labelClasses:"trailer-0",trackId:"social-logins-toggle"},this.socialOption);this.arcgisToggle.setChecked(this.portal.canSignInArcGIS,
!0);this.enterpriseToggle.setChecked(this.portal.canSignInIDP,!0);this.socialToggle.setChecked(this.portal.canSignInSocial,!0);this.updateOptions()};v.prototype.addEventListeners=function(){this.handleUpdateComplete=this.handleUpdateComplete.bind(this);this.own((0,h.default)(this.arcgisToggle,"change",this.handleArcGISChange.bind(this)),(0,h.default)(this.enterpriseToggle,"change",this.handleEnterpriseChange.bind(this)),(0,h.default)(this.socialToggle,"change",this.handleSocialChange.bind(this)))};
v.prototype.handleArcGISChange=function(){this.isArcGISUpdating||(this.isArcGISUpdating=!0,this.arcgisToggle.disable(),this.handleSelectionChange())};v.prototype.handleEnterpriseChange=function(){this.isEnterpriseUpdating||(this.isEnterpriseUpdating=!0,this.enterpriseToggle.disable(),this.handleSelectionChange())};v.prototype.handleSocialChange=function(){this.isSocialUpdating||(this.isSocialUpdating=!0,this.socialToggle.disable(),this.handleSelectionChange())};v.prototype.updateOptions=function(){this.arcgisLabel.textContent=
u.default.substitute(this.i18n.arcGISSignIn,{name:this.i18n.arcgis});this.currentIdp&&(this.enterpriseLabel.textContent=u.default.substitute(this.i18n.enterpriseSignIn,{name:this.currentIdp.name}));f.default.showHide(this.enterpriseContainer,!!this.currentIdp);f.default.showHide(this.socialContainer,!!this.currentSocial);f.default.showHide(this.domNode,!!this.currentIdp||!!this.currentSocial);this.protectLastSignInOption()};v.prototype.handleSelectionChange=function(){this.protectLastSignInOption();
var g={canSignInArcGIS:this.arcgisToggle.checked(),canSignInIDP:this.enterpriseToggle.checked(),canSignInSocial:this.socialToggle.checked()};this.updateSetting(g,this.i18n.error,this.i18n.success).then(this.handleUpdateComplete,this.handleUpdateComplete)};v.prototype.handleUpdateComplete=function(){this.isArcGISUpdating&&(this.arcgisToggle.enable(),this.isArcGISUpdating=!1);this.isEnterpriseUpdating&&(this.enterpriseToggle.enable(),this.isEnterpriseUpdating=!1);this.isSocialUpdating&&(this.socialToggle.enable(),
this.isSocialUpdating=!1);this.protectLastSignInOption()};v.prototype.protectLastSignInOption=function(){var g=0;if(this.arcgisToggle.checked()){g++;var p=this.arcgisToggle}this.enterpriseToggle.checked()&&this.currentIdp&&(g++,p=this.enterpriseToggle);this.socialToggle.checked()&&this.currentSocial&&(g++,p=this.socialToggle);1===g?p.disable():(this.isArcGISUpdating||this.arcgisToggle.enable(),this.isEnterpriseUpdating||this.enterpriseToggle.enable(),this.isSocialUpdating||this.socialToggle.enable())};
return v=a.__decorate([(0,m.default)(k.default)],v)}()})},"arcgisonline/pages/organization/widgets/settings/rows/AccessNoticeRow":function(){define("require exports tslib dojo/on dojo/topic dojo/text!./templates/AccessNoticeRow.html dojo/i18n!../../../../../nls/org-settings arcgisonline/pages/dijit/InfoTooltip ./SettingsRow arcgisonline/sharing/dijit/dialog/SiteNoticeDlg arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);
f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=f.default;this.i18n=a.__assign(a.__assign({},this.i18n),m.default.securityTab.accessNotice);this.isAnonymous=!1}v.prototype.render=function(){this._label.textContent=this.label;this._description.textContent=this.description;var g=this.settings["".concat(this.noticeType,"AccessNotice")];this.editBtnId&&(this.editBtn.id=
this.editBtnId);var p=this.isAnonymous?this.i18n.anonNotice:this.i18n.orgNotice,n=p.set;p=p.edit;this.editBtn.textContent=(null===g||void 0===g?0:g.enabled)?p:n;this.renderIcon()};v.prototype.addEventListeners=function(){var g=this;this.own((0,b.default)(this.editBtn,"click",this.handleBtnClick.bind(this)),k.default.subscribe("".concat(this.noticeType,"-siteNotice/saved"),function(){g.editBtn.textContent=g.i18n.editAccessNotice}),k.default.subscribe("".concat(this.noticeType,"-siteNotice/toggled"),
function(){g.editBtn.textContent=g.i18n.setAccessNotice}))};v.prototype.renderIcon=function(){this.info&&new h.default({title:this.info.title,content:this.info.description,buttonAriaLabel:this.info.title,dialogClasses:["info-tooltip"]},this.domNode.querySelector(".js-info-tooltip"))};v.prototype.handleBtnClick=function(){(new r.default({noticeType:this.noticeType,telemetry:this.telemetry})).open()};return v=a.__decorate([(0,e.default)(u.default)],v)}()})},"arcgisonline/sharing/dijit/dialog/SiteNoticeDlg":function(){define("require exports tslib dojo/string dojo/query dojo/topic dojo/on dojo/has dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/pages/utils/validation arcgisonline/pages/utils/strings ../../../tsutils/declareDecorator ../../../sharing/util dojo/text!./templates/SiteNoticeDlg.html dojo/i18n!../../../nls/arcgisonline arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
var y;(function(A){A.AcceptAndDecline="acceptAndDecline";A.OkOnly="okOnly"})(y||(y={}));return function(){function A(B,D){this.i18n=z.default;this.class="site-notice-overlay";this.title=z.default.siteNoticeDlg.manageAccessNotice;this.constrain=!0;this.maxWidth=980;this.overlayContents=b.default.substitute(t.default,{i18n:z.default.siteNoticeDlg,value:""});this.closeOnScrimClick=!1;this.icons=n.default;this.contentValue=this.titleValue="";this.MAX_TITLE_LENGTH=200;this.MAX_TEXT_LENGTH=4854}A.prototype.postMixInProperties=
function(){this.inherited(arguments);this.title=this.i18n.siteNoticeDlg.title[this.noticeType]};A.prototype.postCreate=function(){var B=this;this.inherited(arguments);this._titleInput=this.domNode.querySelector(".js-title-input");this.titleError=this.domNode.querySelector(".js-title-error");this.titleCharRemain=this.domNode.querySelector(".js-title-char-remain");this._contentInput=this.domNode.querySelector(".js-content-input");this.contentError=this.domNode.querySelector(".js-text-error");this.contentOverLimit=
this.domNode.querySelector(".js-content-over-limit");this.form=this.domNode.querySelector(".js-site-notice-form");this.domNode.querySelector(".js-accept-decline-label").innerHTML=b.default.substitute(this.i18n.siteNoticeDlg.acceptAndDecline,{boldStart:'\x3cspan class\x3d"avenir-demi"\x3e',boldEnd:"\x3c/span\x3e"});this.domNode.querySelector(".js-ok-only-label").innerHTML=b.default.substitute(this.i18n.siteNoticeDlg.okOnly,{boldStart:'\x3cspan class\x3d"avenir-demi"\x3e',boldEnd:"\x3c/span\x3e"});
this.getAccessNoticeFromSettings().then(function(D){var C;D=null!==(C=D["".concat(B.noticeType,"AccessNotice")])&&void 0!==C?C:{};C=D.title;var E=D.text,H=D.enabled;D=D.buttons;H&&B.displayForm(!0);B._titleInput.value=B.titleValue=C?B.decodeValue(C):"";B._contentInput.value=B.contentValue=E?B.decodeValue(E):"";D===y.OkOnly?(B.domNode.querySelector(".js-ok-only-option").classList.add("is-active"),B.domNode.querySelector(".js-ok-only-radio").checked=!0):(B.domNode.querySelector(".js-accept-decline-option").classList.add("is-active"),
B.domNode.querySelector(".js-accept-decline-radio").checked=!0);B.accessNoticeToggle=new v.default({label:z.default.siteNoticeDlg.display[B.noticeType],labelPosition:"left",isChecked:H,disabled:!1},B.domNode.querySelector(".js-site-notice-toggle"));B._addListeners()})};A.prototype.decodeValue=function(B){B=c.default.htmlDecode(B);return B=B.replace(/<br\s*[/]?>/gi,"\n")};A.prototype.open=function(){this.inherited(arguments)};A.prototype.close=function(){this.inherited(arguments)};A.prototype._addListeners=
function(){var B=this;this.own(this.accessNoticeToggle.on("change",this.toggleAccessNotice.bind(this)),(0,k.default)(".js-buttons-option",this.domNode).on("click",function(D){(0,k.default)(".js-buttons-option.is-active",B.domNode).removeClass("is-active");(0,k.default)(D.target).closest(".js-buttons-option").addClass("is-active")}),(0,m.default)(this._titleInput,"input",this.handleTitleInput.bind(this)),(0,m.default)(this._titleInput,"focusout",this.handleTitleFocusout.bind(this)),(0,m.default)(this._titleInput,
"focus",this.calculateTitleCharsCount.bind(this)),(0,m.default)(this._contentInput,"input",this.handleTextInput.bind(this)),(0,m.default)(this.form,"submit",function(D){D.preventDefault();B.handlePrimary(D)}))};A.prototype.handleTitleInput=function(){this.calculateTitleCharsCount();this._titleInput.value=c.default.stripHTML(this._titleInput.value)};A.prototype.calculateTitleCharsCount=function(){var B=this._titleInput.value.length;(0,h.default)("safari")&&B>this.MAX_TITLE_LENGTH&&(this._titleInput.value=
this._titleInput.value.substr(0,this.MAX_TITLE_LENGTH),B=this._titleInput.value.length);this.titleCharRemain.textContent=0<B?b.default.substitute(this.i18n.siteNoticeDlg.charsRemaining,{number:this.MAX_TITLE_LENGTH-B}):"";0<B&&(l.default.clearState([this._titleInput,this.titleError]),q.default.showNode(this.titleCharRemain))};A.prototype.handleTitleFocusout=function(){this.titleCharRemain.textContent=""};A.prototype.handleTextInput=function(){var B=JSON.stringify(this._contentInput.value).length;
if(B>this.MAX_TEXT_LENGTH){var D=b.default.substitute(this.i18n.siteNoticeDlg.charsOverLimit,{number:B-this.MAX_TEXT_LENGTH});this.contentOverLimit.innerHTML=this.prependErrorIcon(D)}else this.contentOverLimit.innerHTML=0<B&&B<=this.MAX_TEXT_LENGTH?b.default.substitute(this.i18n.siteNoticeDlg.charsRemaining,{number:this.MAX_TEXT_LENGTH-B}):"";0<B&&(l.default.clearState([this._contentInput,this.contentError]),q.default.showNode(this.contentOverLimit));this._contentInput.value=c.default.stripHTML(this._contentInput.value)};
A.prototype.getAccessNoticeFromSettings=function(){return w.default.request({url:"".concat(x.default.restBaseUrl,"portals/self/settings"),content:{f:"json"}})};A.prototype.saveAccessNoticeToSettings=function(B){var D,C=this,E=B.buttons;B=B.enabled;return w.default.request({url:"".concat(x.default.restBaseUrl,"portals/self/settings/update/"),content:(D={},D["".concat(this.noticeType,"AccessNotice")]=JSON.stringify({title:this.titleValue,text:this.contentValue,buttons:E,enabled:B}),D)},{usePost:!0}).then(function(H){var G;
null===(G=C.telemetry)||void 0===G?void 0:G.logEvent({category:"security",label:"".concat(C.noticeType,"AccessNotice"),action:"Save"});return H},function(H){var G;null===(G=C.telemetry)||void 0===G?void 0:G.logError({error:H});return H})};A.prototype.disableAccessNotice=function(B){var D,C=this;return w.default.request({url:"".concat(x.default.restBaseUrl,"portals/self/settings/update/"),content:(D={},D["".concat(this.noticeType,"AccessNotice")]="",D.clearEmptyFields=!0,D)},{usePost:!0}).then(function(E){var H,
G;E.success?(null===(H=C.telemetry)||void 0===H?void 0:H.logEvent({category:"security",label:"".concat(C.noticeType,"AccessNotice"),action:"Save"}),p.default.showAlert("success",z.default.siteNoticeDlg.accessNoticeDisabled),f.default.publish("".concat(C.noticeType,"-siteNotice/toggled"),{isActive:!1}),C.close()):(null===(G=C.telemetry)||void 0===G?void 0:G.logError({error:E}),p.default.showAlert("error",z.default.siteNoticeDlg.accessNoticeSaveError))},function(E){var H;null===(H=C.telemetry)||void 0===
H?void 0:H.logError({error:E});p.default.showAlert("error",z.default.siteNoticeDlg.accessNoticeSaveError)})};A.prototype.toggleAccessNotice=function(B){this.displayForm(B)};A.prototype.displayForm=function(B){this.form.classList[B?"remove":"add"]("hide")};A.prototype.handleCancel=function(){var B;null===(B=this.telemetry)||void 0===B?void 0:B.logEvent({category:"security",label:"".concat(this.noticeType,"AccessNotice"),action:"Cancel"});this.inherited(arguments)};A.prototype.handlePrimary=function(B){var D=
this,C,E;B.preventDefault();this.titleValue=c.default.htmlEncode(null!==(C=this._titleInput.value.trim())&&void 0!==C?C:"");this.contentValue=c.default.htmlEncode(null!==(E=this._contentInput.value.trim())&&void 0!==E?E:"");B=this.domNode.querySelector(".js-accept-decline-radio").checked?y.AcceptAndDecline:y.OkOnly;if(!this.accessNoticeToggle.checked())return this.disableAccessNotice(B);this.validateInputs()&&this.saveAccessNoticeToSettings({buttons:B,enabled:!0}).then(function(H){if(H.success)p.default.showAlert("success",
z.default.siteNoticeDlg.accessNoticeSaved),f.default.publish("".concat(D.noticeType,"-siteNotice/saved"),{title:D.titleValue,content:D.contentValue}),D.close();else{var G=z.default.siteNoticeDlg.accessNoticeSaveError;"ORG_3255"===H.messageCode&&(G=z.default.siteNoticeDlg.urlError);p.default.showAlert("error",G)}})};A.prototype.prependErrorIcon=function(B){return"".concat(this.icons.inline["exclamation-mark-triangle-f"]["16"]).concat(B)};A.prototype.validateInputs=function(){var B=this,D=!1;this.titleValue||
(l.default.setInvalidState(this._titleInput,this.titleError,this.prependErrorIcon(this.i18n.siteNoticeDlg.titleBlankError)),q.default.hideNode(this.titleCharRemain),D=!0);this.contentValue||(l.default.setInvalidState(this._contentInput,this.contentError,this.prependErrorIcon(this.i18n.siteNoticeDlg.textBlankError)),q.default.hideNode(this.contentOverLimit),D=!0);this.contentValue.length>this.MAX_TEXT_LENGTH&&(g.default.createConfirmationDialog({strings:{title:this.i18n.siteNoticeDlg.charLimitExceeded,
description:this.i18n.siteNoticeDlg.charLimitDesc},color:"red",hideCancel:!0,autoCloseOnOk:!0,onOk:function(){setTimeout(function(){B._contentInput.focus()},700);l.default.setInvalidState(B._contentInput,B.contentError,B.prependErrorIcon(B.i18n.siteNoticeDlg.textLimitError));q.default.hideNode(B.contentOverLimit)}}),D=!0);return!D};return A=a.__decorate([(0,d.default)(r.default,u.default,e.default)],A)}()})},"arcgisonline/pages/organization/widgets/settings/rows/BlockedAppsRow":function(){define("require exports tslib preact dojo/promise/all dojo/Deferred dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/BlockedAppsRow.html ./SettingsRow ../ManageBlockedAppsOverlay arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/utils/alerts arcgisonline/sharing/geow/Licenses arcgisonline/pages/utils/organization arcgisonline/pages/components/ManageBlockedApps/blocked-apps-service arcgisonline/pages/components/ManageBlockedApps/BlockedAppsContent ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},this.i18n),h.default.common),
h.default.securityTab.blockedApps),h.default.securityTab.blockedApps.manageApps);this.templateString=u.default;this.disableEditPopup=!0;this.blockBetaApps=!1;this.licensesAPI=new n.default;this.handleRemove=this.handleRemove.bind(this);this.handleUndo=this.handleUndo.bind(this);this.openManageOverlay=this.openManageOverlay.bind(this);this.handleBlockBetaAppsToggle=this.handleBlockBetaAppsToggle.bind(this)}w.prototype.postMixInProperties=function(){this.inherited(arguments);var t=this.i18n.description;
this.label=h.default.securityTab.blockedApps.name;this.description=t};w.prototype.render=function(){var t=this;(0,k.default)({appSwitcher:this.getAppSwitcherData(),licensedEntitlements:this.licensesAPI.getLicensedEntitlements(),userTypes:this.licensesAPI.getLicenseTypes(),appBundles:this.licensesAPI.getAppBundles(!0),licensesConfig:q.default.initLicensesConfig(this.portal),blockableApps:this.getBlockedAppsData(),blockedApps:l.default.getBlockedAppsWithInfo(!0)}).then(function(z){var x,y=z.blockableApps,
A=z.licensedEntitlements,B=z.userTypes,D=z.appBundles;t.blockBetaApps=(null===(x=t.portal.signInSettings)||void 0===x?void 0:x.blockBetaApps)||!1;t.blockedApps=z.blockedApps;null===y||void 0===y?void 0:y.forEach(function(C){var E,H=null===(E=z.appSwitcherApps)||void 0===E?void 0:E.filter(function(G){return G.itemId&&C.itemid?G.itemId===C.itemid:G.title&&C.title?G.title===C.title:!1})[0];if(null===H||void 0===H?0:H.isLicensed)C.isLicensed=!0});x=null===y||void 0===y?void 0:y.filter(function(C){return C.isLicensed?
A.some(function(E){return E.itemId===C.itemid||E.title===C.title})||B.userLicenseTypes.some(function(E){return E.apps.some(function(H){return H.isAppBundle?H.apps.some(function(G){return t.matchAppSwitcherItem(C,G)}):t.matchAppSwitcherItem(C,H)})})||D.appBundles.some(function(E){return E.apps.some(function(H){return t.matchAppSwitcherItem(C,H)})}):t.portal.isKubernetes()?"false"!==C.supportsKubernetes:!0});t.includedApps=x||[];t.renderBlockedAppsContent()});this.own(m.default.subscribe("blocked-apps/updated",
function(z){t.blockedApps=z;t.renderBlockedAppsContent()}))};w.prototype.renderBlockedAppsContent=function(){var t;this.blockedApps.sort(this.sortApps);(0,b.render)((0,b.h)(c.default,{blockedApps:this.blockedApps,portal:this.portal,onRemove:this.handleRemove,onUndo:this.handleUndo,onManage:this.openManageOverlay,onBlockBetaChange:this.handleBlockBetaAppsToggle,blockBetaApps:this.blockBetaApps,betaApps:null===(t=this.includedApps)||void 0===t?void 0:t.filter(function(z){return z.isBeta})}),this.domNode.querySelector(".js-content"))};
w.prototype.handleBlockBetaAppsToggle=function(){return a.__awaiter(this,void 0,void 0,function(){var t,z;return a.__generator(this,function(x){switch(x.label){case 0:t=!this.blockBetaApps,z=this.i18n.blockBetaMessages,z=t?z.block:z.unblock,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,g.default.request({url:"".concat(v.default.restBaseUrl,"portals/self/setSigninSettings"),content:{blockBetaApps:t}},{usePost:!0})];case 2:return x.sent(),p.default.showAlert("success",z.success),this.portal.signInSettings||
(this.portal.signInSettings={}),this.portal.signInSettings.blockBetaApps=this.blockBetaApps=t,this.renderBlockedAppsContent(),[3,4];case 3:return x.sent(),p.default.showAlert("error",z.error),[3,4];case 4:return[2]}})})};w.prototype.handleRemove=function(t){var z=this,x=this.blockedApps.filter(function(y){return y.clientid!==t.clientid&&!y.showUndo});x=l.default.extractClientIds(x);this.updateBlockedApps(x).then(function(){z.blockedApps=z.blockedApps.map(function(y){return a.__assign(a.__assign({},
y),{showUndo:t.clientid===y.clientid?!0:y.showUndo})});z.renderBlockedAppsContent()})};w.prototype.handleUndo=function(t){var z=this,x=this.blockedApps.filter(function(y){return y.clientid===t.clientid||!y.showUndo});x=l.default.extractClientIds(x);this.updateBlockedApps(x).then(function(){z.blockedApps=z.blockedApps.map(function(y){return a.__assign(a.__assign({},y),{showUndo:y.clientid===t.clientid?!1:y.showUndo})});z.renderBlockedAppsContent()})};w.prototype.updateBlockedApps=function(t){var z=
this,x=new f.default;l.default.updateBlockedApps(t).then(function(){m.default.publish("appLauncher/app/updated",!0);p.default.showAlert("success",z.i18n.updateSuccess);x.resolve()},function(){p.default.showAlert("error",z.i18n.updateError);x.resolve()});return x};w.prototype.openManageOverlay=function(){(new e.default({portal:this.portal,apps:this.includedApps,blockedApps:this.blockedApps.filter(function(t){return!t.showUndo}),blockBetaApps:this.blockBetaApps})).open()};w.prototype.matchAppSwitcherItem=
function(t,z){return t.itemid===z.id||t.title===z.title};w.prototype.getAppSwitcherData=function(){var t=this;return this.portal.queryItems(v.default.appSwitcherConfigItemQuery,!0).then(function(z){var x;if(null!==(x=z.items)&&void 0!==x&&x.length)return g.default.request({url:z.items[0].itemDataUrl})}).then(function(z){var x;t.appSwitcherApps=null===(x=null===z||void 0===z?void 0:z.appSwitcher)||void 0===x?void 0:x.apps;return t.appSwitcherApps})};w.prototype.getBlockedAppsData=function(){var t=
this;return l.default.getBlockableApps().then(function(z){t.blockableApps=z||[];t.blockableApps.sort(t.sortApps);return t.blockableApps})};w.prototype.sortApps=function(t,z){t=t.title.toLowerCase();z=z.title.toLowerCase();return t<z?-1:t>z?1:0};return w=a.__decorate([(0,d.default)(r.default)],w)}()})},"arcgisonline/pages/organization/widgets/settings/ManageBlockedAppsOverlay":function(){define("require exports tslib preact dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/Deferred dojo/topic arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/alerts arcgisonline/pages/components/ManageBlockedApps/BlockedAppsDialogContent arcgisonline/pages/components/ManageBlockedApps/ConfirmBlock arcgisonline/pages/components/ManageBlockedApps/blocked-apps-service arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.title=f.default.securityTab.blockedApps.manageApps.name;this.i18n=k.default;this.texts=a.__assign(a.__assign({},f.default.common),f.default.securityTab.blockedApps.manageApps);this.overlayContents=
'\x3cdiv class\x3d"js-blocked-apps-content blocked-apps-overlay-content"\x3e\x3c/div\x3e';this.constrain=!0;this.maxWidth=768;this.closeOnScrimClick=!1;this.background="white";this.blockBetaApps=!1;this.selectedApps=[];this.handleSelectedChange=this.handleSelectedChange.bind(this);this.handleConfirm=this.handleConfirm.bind(this);this.handleConfirmCancel=this.handleConfirmCancel.bind(this)}n.prototype.open=function(){this.inherited(arguments);(0,b.render)((0,b.h)(e.default,{portal:this.portal,apps:this.apps,
blockedApps:this.blockedApps,blockBetaApps:this.blockBetaApps,onChange:this.handleSelectedChange}),this._overlayContentWrapper.querySelector(".js-blocked-apps-content"))};n.prototype.close=function(){this.inherited(arguments)};n.prototype.handlePrimary=function(){var q=this,l=g.default.extractClientIds(this.selectedApps),c=g.default.extractClientIds(this.blockedApps);l.some(function(d){return-1===c.indexOf(d)})?(this.domNode.classList.remove("is-active"),this.renderConfirm(!0,l)):this.updateBlockedApps().then(function(){q.close()})};
n.prototype.updateBlockedApps=function(){var q=this,l=new m.default,c=g.default.extractClientIds(this.selectedApps);g.default.updateBlockedApps(c).then(function(){q.blockedApps=a.__spreadArray([],q.selectedApps,!0);h.default.publish("appLauncher/app/updated",!0);h.default.publish("blocked-apps/updated",q.blockedApps);r.default.showAlert("success",q.texts.saveSuccess);l.resolve()},function(){r.default.showAlert("error",q.texts.saveError);l.resolve()});return l};n.prototype.renderConfirm=function(q,
l){void 0===l&&(l=[]);this.confirmContainer||(this.confirmContainer=document.createElement("div"),document.body.appendChild(this.confirmContainer));q?(0,b.render)((0,b.h)(v.default,{clientIds:l,onCancel:this.handleConfirmCancel,onConfirm:this.handleConfirm}),this.confirmContainer):(0,b.render)(null,this.confirmContainer)};n.prototype.handleConfirmCancel=function(){this.renderConfirm(!1);this.close()};n.prototype.handleConfirm=function(){var q=this;this.updateBlockedApps().then(function(){q.renderConfirm(!1);
q.close()})};n.prototype.handleSelectedChange=function(q){this.selectedApps=q};return n=a.__decorate([(0,p.default)(u.default)],n)}()})},"arcgisonline/pages/components/ManageBlockedApps/BlockedAppsDialogContent":function(){define("require exports tslib preact preact/hooks ./SelectedApps ./AppSelectRow arcgisonline/pages/utils/culture dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(r){var e=r.portal,v=r.apps,g=r.blockedApps,p=r.blockBetaApps,n=r.onChange;r=a.__assign(a.__assign({},u.default.common),u.default.securityTab.blockedApps.manageApps);var q=(0,k.useState)([]),l=q[0],c=q[1];(0,k.useEffect)(function(){c(g)},[]);(0,k.useEffect)(function(){n(l)},[l]);q=function(w){c(l.filter(function(t){return t.clientid!==w.clientid}))};var d=function(w,t){w?c(a.__spreadArray(a.__spreadArray([],l,!0),[t],!1)):c(l.filter(function(z){return z.clientid!==
t.clientid}))};return(0,b.h)("div",null,(0,b.h)("calcite-notice",{class:"trailer-1",open:p,icon:"information"},(0,b.h)("div",{slot:"message"},r.blockBetaNotice)),!!l.length&&(0,b.h)(f.default,{apps:l.filter(function(w){return w.currentlyblocked}),portal:e,onRemove:q}),!l.length&&(0,b.h)("div",{style:"height: 28px"},h.default.getString(r.appCount,v.filter(function(w){return w.currentlyblocked}).length)),(0,b.h)("div",{class:"leader-half"},v.filter(function(w){return w.currentlyblocked}).map(function(w){return(0,b.h)(m.default,
{app:w,key:w.clientid,portal:e,checked:l.some(function(t){return t.clientid===w.clientid}),onToggle:d})})))}})},"arcgisonline/pages/components/ManageBlockedApps/SelectedApps":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/utils/culture ./SelectedAppRow dojo/i18n!../../../nls/org-settings calcite-web/js/calcite-web".split(" "),function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);
u=a.__importDefault(u);M.default=function(r){var e=r.apps,v=r.portal,g=r.onRemove;(0,k.useEffect)(function(){u.default.dropdown()},[]);return(0,b.h)("div",{class:"dropdown js-dropdown"},(0,b.h)("div",{"aria-live":"polite"},(0,b.h)("button",{class:"btn-link flex font-size--1 assign-licenses__members-dropdown js-dropdown-toggle"},(0,b.h)("div",{class:"assign-licenses__members-text"},f.default.getString(h.default.securityTab.blockedApps.manageApps.appsSelected,e.length)),(0,b.h)("div",{class:"assign-licenses__members-dropdown-arrow"},
(0,b.h)("svg",{xmlns:"http://www.w3.org/2000/svg",role:"none",focusable:"false","aria-hidden":"true",id:"icons",viewBox:"0 0 16 16"},(0,b.h)("path",{d:"M5 1.5l7 7-7 7zm1 11.586L10.586 8.5 6 3.914z"}))))),(0,b.h)("nav",{class:"dropdown-menu max-height assign-licenses__members-selected-panel",role:"menu"},e.map(function(p){return(0,b.h)(m.default,{key:p.clientid,app:p,portal:v,onRemove:g})})))}})},"arcgisonline/pages/components/ManageBlockedApps/SelectedAppRow":function(){define("require exports tslib preact arcgisonline/pages/components/ManageBlockedApps/AppIcon dojo/i18n!../../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);M.default=function(m){var h,u,r=m.app,e=m.portal,v=m.onRemove;m="".concat(null===(h=r.clientid)||void 0===h?void 0:h.toLowerCase(),"-title-el");h="".concat(null===(u=r.clientid)||void 0===u?void 0:u.toLowerCase(),"-remove-btn");return(0,b.h)("li",{class:"flex flex-align-center margin-right-half trailer-half"},(0,b.h)(k.default,{app:r,portal:e,classes:"assign-licenses__member-thumb margin-right-1"}),
(0,b.h)("div",{id:m,class:"flex-1"},r.title),(0,b.h)("button",{id:h,class:"btn-link btn-link-darker-gray flex-0",onClick:function(g){g.stopPropagation();v(r)},"aria-labelledby":"".concat(h," ").concat(m)},(0,b.h)("span",{class:"screen-readers-only"},f.default.common.remove),(0,b.h)("calcite-icon",{scale:"m",icon:"x"})))}})},"arcgisonline/pages/components/ManageBlockedApps/AppIcon":function(){define("require exports tslib arcgisonline/esriGeowConfig arcgisonline/pages/utils/organization preact preact/hooks".split(" "),
function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});b=a.__importDefault(b);k=a.__importDefault(k);M.default=function(h){var u=h.app,r=h.portal,e=h.classes;h=h.imgClasses;var v=(0,m.useRef)(null),g=(0,m.useState)(void 0),p=g[0],n=g[1],q="".concat(U.toUrl("arcgisonline/sharing/dijit"),"/css/images/app-icons/");(0,m.useEffect)(function(){k.default.initLicensesConfig(r).then(function(){if(k.default.licensesConfigItem){var l="".concat(b.default.restBaseUrl,"content/items/").concat(k.default.licensesConfigItem.id,
"/resources/");n("".concat(l).concat(u.title.replace(/\s/g,"_"),"/icon.png"))}})},[]);(0,m.useEffect)(function(){(null===v||void 0===v?0:v.current)&&v.current.addEventListener("error",function(){n("".concat(q,"generic-app.png"))})},[v]);return(0,f.h)("div",{class:"position-relative flex-0 ".concat(e)},(0,f.h)("img",{ref:v,class:h,src:p,alt:u.title}))}})},"arcgisonline/pages/components/ManageBlockedApps/AppSelectRow":function(){define("require exports tslib preact preact/hooks ./AppIcon dojo/i18n!../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(h){var u=h.app,r=h.checked,e=h.onToggle;h=h.portal;var v=(0,k.useState)(!1),g=v[0],p=v[1];return(0,b.h)("div",{class:"member-browser-row member-browser-row--select flex flex-align-center ".concat(r?"is-active":""),onMouseOver:function(){p(!0)},onMouseOut:function(){p(!1)},onClick:function(){e(!r,u)}},(0,b.h)("div",{class:"flex-1 flex flex-align-center margin-right-half"},
(0,b.h)(f.default,{app:u,portal:h,classes:"settings-app-launcher-row__icon",imgClasses:"settings-app-launcher-row__icon-img"}),(0,b.h)("div",{class:"flex-1 margin-left-half"},(0,b.h)("h4",{class:"member-browser-row-name avenir-bold font-size--1 trailer-0"},u.title),u.isBeta&&(0,b.h)("div",{class:"font-size--2"},m.default.securityTab.blockedApps.beta))),(0,b.h)("calcite-label",{layout:"inline",class:"blocked-apps__checkbox-container"},(0,b.h)("calcite-checkbox",{hovered:g,checked:r}),(0,b.h)("span",
{class:"screen-readers-only"},u.title)))}})},"arcgisonline/pages/components/ManageBlockedApps/ConfirmBlock":function(){define("require exports tslib preact dojo/i18n!../../../nls/org-settings preact/hooks".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(m){var h=m.clientIds,u=m.onCancel;m=m.onConfirm;var r=a.__assign(a.__assign({},k.default.common),k.default.securityTab.blockedApps.manageApps),e=r.confirmSave,v=e.singular;
e=e.plural;h=1<(null===h||void 0===h?void 0:h.length)?e:v;v=(0,f.useState)(!1);e=v[0];var g=v[1],p=(0,f.useRef)(null);(0,f.useEffect)(function(){p.current&&(g(!0),p.current.setFocus())},[p.current]);return(0,b.h)("calcite-modal",{ref:p,"aria-labelledby":"confirm-blocked-title",oncalciteModalClose:u,open:e},(0,b.h)("h3",{slot:"header",id:"confirm-blocked-title"},r.confirmTitle),(0,b.h)("div",{slot:"content"},h),(0,b.h)("calcite-button",{slot:"secondary",width:"full",appearance:"outline",onClick:u},
r.cancel),(0,b.h)("calcite-button",{slot:"primary",width:"full",onClick:m},r.blockApps))}})},"arcgisonline/pages/components/ManageBlockedApps/BlockedAppsContent":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../nls/org-settings ../ToggleSwitchBlock ./BlockedList dojo/topic".split(" "),function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(r){var e=
r.blockedApps,v=r.betaApps,g=r.blockBetaApps,p=r.portal,n=r.onRemove,q=r.onUndo,l=r.onManage;r=r.onBlockBetaChange;var c=a.__assign(a.__assign({},f.default.securityTab.blockedApps),f.default.securityTab.blockedApps.manageApps),d=(0,k.useRef)(null);(0,k.useEffect)(function(){var t=u.default.subscribe("blocked-popover/close",function(){d.current&&(d.current.open=!1)});return function(){t.remove()}},[]);v=(0,b.h)("div",{class:"flex flex-align-center"},c.blockBeta," ",(0,b.h)("calcite-popover",{ref:d,
referenceElement:"see-beta-list-button",label:c.betaApps},(0,b.h)("div",{class:"padding-1"},v.length?(0,b.h)(b.Fragment,null,(0,b.h)("h3",{class:"font-size-0 avenir-demi"},c.betaApps),(0,b.h)("ul",{class:"filter-tree overflow-hidden"},v.map(function(t){return(0,b.h)("li",{key:t.clientid},t.title)}))):(0,b.h)("p",{class:"no-beta-apps__text font-size--1 trailer-0"},c.noBetaApps))),(0,b.h)("calcite-link",{id:"see-beta-list-button",onClick:function(t){t.stopPropagation()},class:"margin-left-quarter"},
c.seeList));var w=p.isPortal;return(0,b.h)("div",null,!w&&(0,b.h)(m.default,{label:v,onChange:r,checked:g}),(0,b.h)("button",{class:"btn btn-clear ".concat(w?"leader-1":""),onClick:function(){d.current&&(d.current.open=!1);l()}},c.name),(0,b.h)(h.default,{blockedApps:e,portal:p,onRemove:n,onUndo:q}))}})},"arcgisonline/pages/components/ManageBlockedApps/BlockedList":function(){define(["require","exports","tslib","preact","./BlockedApp"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});
k=a.__importDefault(k);M.default=function(f){var m=f.portal,h=f.onRemove,u=f.onUndo;return(0,b.h)("div",{class:"leader-1"},f.blockedApps.map(function(r){return(0,b.h)(k.default,{app:r,key:r.clientid,portal:m,onRemove:h,onUndo:u})}))}})},"arcgisonline/pages/components/ManageBlockedApps/BlockedApp":function(){define("require exports tslib preact ./AppIcon dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);
M.default=function(m){var h=m.app,u=m.onRemove,r=m.onUndo;m=m.portal;var e=a.__assign({},f.default.common),v=function(){u(h)},g=function(){r(h)};return(0,b.h)("div",{class:"flex flex-align-center org-settings__card-list-row ".concat(h.showUndo?"org-setting__list-item--disabled":"")},(0,b.h)(k.default,{app:h,portal:m,classes:"settings-app-launcher-row__icon",imgClasses:"settings-app-launcher-row__icon-img"}),(0,b.h)("div",{class:"margin-left-1 flex-1"},h.title),!h.showUndo&&(0,b.h)("button",{class:"btn-link btn-link-darker-gray flex-0",
onClick:v},(0,b.h)("calcite-icon",{scale:"m",icon:"x"})),!!h.showUndo&&(0,b.h)("div",{class:"font-size--1"},e.removed," ",(0,b.h)("button",{class:"btn btn-link font-size--1",onClick:g},e.undo)))}})},"arcgisonline/pages/organization/widgets/settings/rows/EmailSettingsRow":function(){define("require exports tslib preact arcgisonline/pages/organization/components/settings/rows/EmailSettingsRow ./SettingsRow arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,
"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);U=function(){function h(u,r){this.templateString='\x3cdiv class\x3d"org-settings__card-row"\x3e\x3cdiv id\x3d"org-settings_email-row"\x3e\x3c/div\x3e\x3cdiv\x3e';this.disableEditPopup=!0}h.prototype.postCreate=function(){(0,b.render)((0,b.h)(k.default,{portal:this.portal}),this.domNode.querySelector("#org-settings_email-row"))};return h=a.__decorate([(0,m.default)(f.default)],h)}();M.default=U})},"arcgisonline/pages/organization/components/settings/rows/EmailSettingsRow":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../../../nls/org-settings arcgisonline/esriGeowConfig arcgisonline/pages/components/BodyAppender ./EmailSettingsDeleteDlg ./EmailSettingsDlg".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(e){function v(){w(!0)}function g(){z(!0)}function p(){z(!1)}var n,q=e.portal;e=a.__assign(a.__assign({},f.default.securityTab),f.default.common);var l=q.portalUser,c=(0,k.useState)(!1),d=c[0],w=c[1],t=(0,k.useState)(!1);c=t[0];var z=t[1];t=(0,k.useState)(!(null===(n=m.default.self)||void 0===
n||!n.supportsEmail));n=t[0];var x=t[1];(0,k.useState)({status:"Unknown",lastEmail:null});return(0,b.h)("div",{class:"trailer-half position-relative"},n?(0,b.h)("div",{class:"email-configured"},(0,b.h)("div",{class:"text-right"},(0,b.h)("button",{class:"btn btn-clear margin-right-quarter",onClick:v},e.emailSettings.manage),(0,b.h)("button",{class:"btn btn-red margin-right-quarter",onClick:g},e.emailSettings.disableEmailSettings))):(0,b.h)("div",null,(0,b.h)("button",{class:"btn btn-clear",onClick:v},
e.emailSettings.configure)),(0,b.h)(h.default,{id:"email-settings-modals",classes:["email-settings-modal"]},(0,b.h)(r.default,{supportsEmail:n,portalUser:l,onClose:function(){w(!1)},onSuccess:function(){x(!0);q.supportsEmail=!0;m.default.self.supportsEmail=!0},active:d}),(0,b.h)(u.default,{portalUser:l,onClose:p,onSuccess:function(){x(!1);q.supportsEmail=!1;m.default.self.supportsEmail=!1;p()},active:c})))}})},"arcgisonline/pages/organization/components/settings/rows/EmailSettingsDeleteDlg":function(){define("require exports tslib preact preact/hooks ./EmailSettingsBaseDlg arcgisonline/sharing/util arcgisonline/pages/utils/alerts arcgisonline/esriGeowConfig dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(e){var v=a.__assign(a.__assign({},r.default.securityTab),r.default.common),g=(0,k.useState)(!1)[1];return(0,b.h)(f.default,{active:e.active,title:v.emailSettings.disableEmailSettings,onClose:e.onClose},(0,b.h)("div",{class:"modal-main"},(0,b.h)("p",null,v.emailSettings.disableEmailSettingsDescription)),
(0,b.h)("div",{class:"action-buttons"},(0,b.h)("span",null),(0,b.h)("span",null,(0,b.h)("button",{onClick:e.onClose,class:"btn btn-clear margin-right-half"},v.cancel),(0,b.h)("button",{class:"btn btn-red",onClick:function(){g(!0);m.default.request({url:"".concat(u.default.restBaseUrl,"portals/").concat(e.portalUser.orgId,"/emailSettings/delete")},{usePost:!0}).then(function(p){var n;p.success?(h.default.showAlert("success",v.emailSettings.deleteSuccess),e.onSuccess()):(p=v.emailSettings.errors[null===
(n=p.error)||void 0===n?void 0:n.messageCode]||v.emailSettings.deleteFailure,h.default.showAlert("error",p));g(!1)},function(p){h.default.showAlert("error",v.emailSettings.errors[p.messageCode]||v.emailSettings.deleteFailure);g(!1)})}},v.disable))))}})},"arcgisonline/pages/organization/components/settings/rows/EmailSettingsBaseDlg":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/utils/focus".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});
f=a.__importDefault(f);M.default=function(m){var h=(0,k.useState)(null),u=h[0],r=h[1];h=(0,k.useState)(null);var e=h[0],v=h[1];(0,k.useEffect)(function(){n(m.active,p.current,g.current)},[m.active]);var g=(0,k.useRef)(null),p=(0,k.useRef)(null),n=function(q,l,c){q?setTimeout(function(){r(document.activeElement);l.focus();var d=f.default.trapFocus(c);v(function(){return d})},250):e&&(f.default.untrapFocus(c,e),setTimeout(function(){u.focus();r(null);v(null)},250))};return(0,b.h)("div",{class:(m.active?
"is-active ":"")+"modal-overlay","data-modal":"email-settings",role:"dialog","aria-label":m.title,"aria-modal":"true"},(0,b.h)("div",{class:"modal-content column-".concat(m.columnWidth||8),ref:g},(0,b.h)("div",{class:"modal-header trailer-1"},(0,b.h)("h3",{class:"trailer-half",id:"email-settings-modal__title"},m.title),(0,b.h)("button",{class:"right btn btn-white btn-close font-size-1","aria-label":"close-modal",onClick:m.onClose,ref:p},(0,b.h)("i",{class:"icon-ui-close"}))),m.children))}})},"arcgisonline/pages/organization/components/settings/rows/EmailSettingsDlg":function(){define("require exports tslib preact preact/hooks ./EmailSettingsErrorDlg arcgisonline/pages/components/BodyAppender arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/pages/utils/alerts arcgisonline/pages/utils/culture dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);M.default=function(g){function p(){P(!0);u.default.request({url:"".concat(h.default.restBaseUrl,"portals/").concat(g.portalUser.orgId,"/emailSettings")}).then(function(O){F(O);P(!1)},function(O){P(!1)})}function n(O){var Q;O=O.target;var V="checkbox"===O.type?
O.checked:O.value;"emailRecipient"===O.name?J(O.value):F(a.__assign(a.__assign({},G),(Q={},Q[O.name]=V,Q)))}function q(){2>E&&(H(E+1),setTimeout(function(){var O;null===(O=B.current)||void 0===O?void 0:O.focus()},250))}function l(O){O=O.split(".");return 2<O.length&&!O.some(function(Q){return!Q})}function c(){var O=[];G.smtpHost?l(G.smtpHost)||O.push(y.emailSettings.errors.smtpHostInvalid):O.push(y.emailSettings.errors.smtpHostRequired);G.smtpPort||O.push(y.emailSettings.errors.smtpPortRequired);
G.encryptionMethod||O.push(y.emailSettings.errors.encryptionMethodRequired);G.authRequired&&(G.smtpUser||O.push(y.emailSettings.errors.smtpUserRequired),G.smtpPass||O.push(y.emailSettings.errors.smtpPassRequired));G.mailFrom?u.default.isValidEmailAddress(G.mailFrom)||O.push(y.emailSettings.errors.invalidEmail):O.push(y.emailSettings.errors.mailFromRequired);G.mailFromLabel?30<G.mailFromLabel.length&&O.push(y.emailSettings.errors.mailFromLabelTooLong):O.push(y.emailSettings.errors.mailFromLabelRequired);
var Q=!O.length;Q||(N(O[0]),S(!0));return Q}function d(O,Q){r.default.showAlert("error",Q)}function w(){if(c()){P(!0);var O={smtpHost:G.smtpHost.trim(),fromAddress:G.mailFrom,fromAddressLabel:G.mailFromLabel,authRequired:G.authRequired,username:G.smtpUser,password:G.smtpPass,smtpPort:G.smtpPort,encryptionMethod:G.encryptionMethod};u.default.request({url:"".concat(h.default.restBaseUrl,"portals/").concat(g.portalUser.orgId,"/setEmailSettings"),content:O},{usePost:!0}).then(function(Q){Q.success?(r.default.showAlert("success",
y.emailSettings.updateSuccess),g.onSuccess(),q()):d(Q,y.emailSettings.updateFailure);P(!1)},function(Q){d(Q,y.emailSettings.updateFailure);P(!1)})}}var t,z,x,y=a.__assign(a.__assign({},v.default.securityTab),v.default.common),A={smtpHost:"",mailFrom:"",mailFromLabel:"",authRequired:!1,smtpUser:"",smtpPass:"",smtpPort:"",encryptionMethod:""},B=(0,k.useRef)(),D=(0,k.useRef)(),C=(0,k.useState)(1),E=C[0],H=C[1];C=(0,k.useState)(A);var G=C[0],F=C[1];C=(0,k.useState)(null);var I=C[0],J=C[1],K=(0,k.useState)(!1);
C=K[0];var P=K[1],T=(0,k.useState)(!1);K=T[0];var S=T[1],L=(0,k.useState)(null);T=L[0];var N=L[1];(0,k.useEffect)(function(){g.active?g.supportsEmail&&p():(F(A),H(1))},[g.active]);L="de"===e.default.getCurrentLocale()||"de-de"===e.default.getCurrentLocale();return(0,b.h)(b.Fragment,null,(0,b.h)("calcite-modal",{role:"dialog","aria-modal":"true","aria-labelledby":"email-settings-dialog-title",outsideCloseDisabled:!0,oncalciteModalClose:g.onClose,open:g.active},(0,b.h)("h2",{slot:"header",class:"font-size-2 trailer-0",
id:"email-settings-dialog-title"},y.emailSettings.header),(0,b.h)("div",{slot:"content"},(0,b.h)("div",{class:"block-group block-group-2-up trailer-1"},(0,b.h)("div",{class:"block stepper \n              ".concat(1===E?"active":""," \n              ").concat(1<E?"complete":"")},y.emailSettings.smtpSettings),(0,b.h)("div",{class:"block stepper \n              ".concat(2===E?"active":"")},y.emailSettings.sendTestEmail)),(0,b.h)("div",null,(0,b.h)("div",{class:(1!==E?"hide ":"")+"step-1"},(0,b.h)("form",
{action:""},(0,b.h)("div",{class:"block-group block-group-2-up tablet-block-group-1-up"},(0,b.h)("label",{class:"block"},y.emailSettings.smtpServer,(0,b.h)("input",{type:"text",name:"smtpHost",value:G.smtpHost,placeholder:y.emailSettings.smtpServerPlaceholder,onChange:n,required:!0})),(0,b.h)("label",{class:"block"},y.emailSettings.smtpPort,(0,b.h)("input",{type:"text",name:"smtpPort",value:G.smtpPort,placeholder:y.emailSettings.smtpPortPlaceholder,required:!0,onChange:n}))),(0,b.h)("fieldset",{class:"fieldset-radio"},
(0,b.h)("legend",null,y.emailSettings.encryptionMethod),(0,b.h)("div",{class:"encryption-method"},(0,b.h)("label",null,(0,b.h)("input",{type:"radio",name:"encryptionMethod",value:"NONE",checked:"NONE"===G.encryptionMethod,onChange:n}),y.emailSettings.plainText),(0,b.h)("label",null,(0,b.h)("input",{type:"radio",name:"encryptionMethod",value:"TLS",checked:"TLS"===G.encryptionMethod,onChange:n}),y.emailSettings.startTls),(0,b.h)("label",null,(0,b.h)("input",{type:"radio",name:"encryptionMethod",value:"SSL",
checked:"SSL"===G.encryptionMethod,onChange:n}),y.emailSettings.ssl))),(0,b.h)("label",{class:"toggle-switch"},(0,b.h)("input",{type:"checkbox",name:"authRequired",class:"toggle-switch-input",checked:G.authRequired,onChange:n}),(0,b.h)("span",{class:"toggle-switch-track margin-right-1"}),(0,b.h)("span",{class:"toggle-switch-label font-size--1"},y.emailSettings.smtpAuthenticationRequired)),(0,b.h)("div",{class:(G.authRequired?"":"hide ")+"block-group block-group-2-up tablet-block-group-1-up"},(0,b.h)("label",
{class:"block"},y.username,(0,b.h)("input",{type:"text",name:"smtpUser",value:G.smtpUser,placeholder:L?y.username:null===(t=y.username)||void 0===t?void 0:t.toLowerCase(),onChange:n})),h.default.onEnterprise?(0,b.h)("label",{class:"block"},y.password,(0,b.h)("input",{type:"password",name:"smtpPass",value:G.smtpPass,placeholder:L?y.password:null===(z=y.password)||void 0===z?void 0:z.toLowerCase(),onChange:n})):(0,b.h)("label",{class:"block"},y.password,(0,b.h)("input",{type:"text",name:"smtpPass",
value:G.smtpPass,placeholder:L?y.password:null===(x=y.password)||void 0===x?void 0:x.toLowerCase(),onChange:n}))),(0,b.h)("div",{class:"block-group block-group-2-up tablet-block-group-1-up"},(0,b.h)("label",{class:"block"},y.emailSettings.fromEmailAddress,(0,b.h)("input",{type:"text",name:"mailFrom",value:G.mailFrom,placeholder:y.emailSettings.emailPlaceholder,required:!0,onChange:n})),(0,b.h)("label",{class:"block"},y.emailSettings.fromEmailAddressLabel,(0,b.h)("input",{type:"text",name:"mailFromLabel",
value:G.mailFromLabel,placeholder:y.emailSettings.fromEmailAddressLabelPlaceholder,required:!0,onChange:n}))))),(0,b.h)("div",{class:(2!==E?"hide ":"")+"step-2"},(0,b.h)("p",null,y.emailSettings.testEmailDescription),(0,b.h)("div",{class:"trailer-2 flex flex-align-end"},(0,b.h)("label",{class:"full-width margin-right-1"},y.emailSettings.emailRecipient,(0,b.h)("input",{type:"text",name:"emailRecipient",ref:B,placeholder:y.emailSettings.emailPlaceholder,onChange:n})),(0,b.h)("button",{type:"submit",
class:"btn btn-clear trailer-1",onClick:function(){I?u.default.isValidEmailAddress(I)?u.default.request({url:"".concat(h.default.restBaseUrl,"portals/").concat(g.portalUser.orgId,"/emailSettings/test"),content:{recipientList:I}},{usePost:!0}).then(function(O){O.success?r.default.showAlert("success",y.emailSettings.testEmailSuccess):d(O,y.emailSettings.testEmailFailure)},function(O){d(O,y.emailSettings.testEmailFailure)}):(N(y.emailSettings.errors.invalidEmail),S(!0)):(N(y.emailSettings.errors.emailRecipientRequired),
S(!0))}},y.emailSettings.testEmailSend)))),(0,b.h)("div",{class:"action-buttons"},(0,b.h)("div",null,(0,b.h)("button",{onClick:function(){1!==E&&(H(E-1),setTimeout(function(){var O;null===(O=D.current)||void 0===O?void 0:O.focus()},250))},class:(2>E?"hide ":"")+"btn btn-white"},y.back)),(0,b.h)("div",null))),(0,b.h)("button",{slot:"secondary",onClick:g.onClose,class:(2===E?"hide ":"")+"btn btn-clear"},y.cancel),2>E?(0,b.h)("button",{slot:"primary",onClick:w,ref:D,disabled:C,class:"btn"},y.next):(0,b.h)("button",
{slot:"primary",onClick:g.onClose,disabled:C,class:"btn"},y.finish)),(0,b.h)(m.default,{id:"email-settings-error-modal",classes:["email-settings-modal"]},(0,b.h)(f.default,{active:K,onClose:function(){S(!1)},message:T})))}})},"arcgisonline/pages/organization/components/settings/rows/EmailSettingsErrorDlg":function(){define("require exports tslib preact ./EmailSettingsBaseDlg dojo/i18n!../../../../../nls/org-settings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});
k=a.__importDefault(k);f=a.__importDefault(f);M.default=function(m){var h=a.__assign(a.__assign({},f.default.securityTab),f.default.common);return(0,b.h)(k.default,{active:m.active,title:h.error,onClose:m.onClose},(0,b.h)("div",{class:"modal-main"},(0,b.h)("p",null,m.message)),(0,b.h)("div",{class:"action-buttons"},(0,b.h)("span",null),(0,b.h)("button",{class:"btn",onClick:m.onClose},h.ok)))}})},"arcgisonline/pages/organization/widgets/settings/rows/EmailVerificationRow":function(){define("require exports tslib preact dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings ./SettingsRow ../../../../components/EmailVerification/EmailVerification ../../../../../tsutils/declareDecorator arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);U=function(){function g(p,n){var q=this;this.templateString="\x3cdiv\x3e\x3c/div\x3e";this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},k.default.GroupWidget),k.default.myOrganization.membersTab),f.default.common),f.default.securityTab.emailVerification);
this.alwaysPromptEmailVerification=!1;this.handleSwitchChange=function(l){return a.__awaiter(q,void 0,void 0,function(){return a.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,r.default.request({url:"".concat(e.default.restBaseUrl,"portals/self/setSigninSettings"),content:{alwaysPromptEmailVerification:l}},{usePost:!0})];case 1:return c.sent(),v.default.showAlert("success",this.i18n.success),this.alwaysPromptEmailVerification=l,this.renderContent(),[3,3];case 2:return c.sent(),
v.default.showAlert("success",this.i18n.error),this.renderContent(),[3,3];case 3:return[2]}})})}}g.prototype.render=function(){this.renderContent()};g.prototype.addEventListeners=function(){};g.prototype.renderContent=function(){(0,b.render)((0,b.h)(h.default,{texts:this.i18n,portal:this.portal,portalUser:this.portalUser,alwaysPromptEmailVerification:this.alwaysPromptEmailVerification,onSwitchChange:this.handleSwitchChange}),this.domNode)};return g=a.__decorate([(0,u.default)(m.default)],g)}();M.default=
U})},"arcgisonline/pages/components/EmailVerification/EmailVerification":function(){define("require exports tslib preact preact/hooks ./UnverifiedEmailsModal arcgisonline/pages/organization/api".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);M.default=function(h){function u(){d(!0)}function r(){d(!1)}var e,v,g=h.texts,p=h.alwaysPromptEmailVerification,n=h.portal,q=h.portalUser,l=h.onSwitchChange,c=(0,k.useState)(!1);h=c[0];var d=c[1],w=(0,k.useState)(0);
c=w[0];var t=w[1];w=null===(e=q.userRole)||void 0===e?void 0:e.isAdmin();e=null===(v=q.userRole)||void 0===v?void 0:v.canUpdateUsers();(0,k.useEffect)(function(){(function(){return a.__awaiter(this,void 0,void 0,function(){var z;return a.__generator(this,function(x){switch(x.label){case 0:return[4,(0,m.getUnverifiedEmailsCount)(n)];case 1:return z=x.sent(),t(z),[2]}})})})()},[]);return(0,b.h)("div",{class:"leader-1 margin-left-1 margin-right-1 trailer-1"},(0,b.h)("calcite-label",null,(0,b.h)("div",
{class:"flex flex-align-center org-settings__toggle-container"},(0,b.h)("div",{class:"flex-1 margin-right-1 font-size-0"},g.toggleLabel),(0,b.h)("calcite-switch",{checked:p,oncalciteSwitchChange:function(z){l(z.target.checked)}}))),(w||e)&&(0,b.h)("div",{class:"flex leader-half"},(0,b.h)("div",{class:"margin-right-2"},g.unverifiedLabel," ",(0,b.h)("span",{class:"avenir-demi margin-left-half"},c)),(0,b.h)("button",{class:"btn-link",onClick:u},g.viewUnverified)),h&&(0,b.h)(f.default,{portal:n,portalUser:q,
onClose:r}))}})},"arcgisonline/pages/components/EmailVerification/UnverifiedEmailsModal":function(){define("require exports tslib preact preact/hooks preact/compat ../preactHooks dojo/i18n!../../../nls/arcgisonline dojo/i18n!../../../nls/org-settings ./UnverifiedEmailRow arcgisonline/pages/portal/PortalUser arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/dijit/Pagination arcgisonline/pages/dijit/ControlBar arcgisonline/pages/organization/widgets/MembersFilter arcgisonline/pages/dijit/FilterStatus arcgisonline/pages/pageUtil arcgisonline/pages/utils/organization dojo/topic calcite-web/js/calcite-web xstyle/css!./UnverifiedEmailsModal.css".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t){Object.defineProperty(M,"__esModule",{value:!0});h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);M.default=function(z){function x(ha){ja.current.shadowRoot.querySelector(".modal").style.transform=
ha?"translate3d(0, 0, 0)":"";L(ha)}function y(ha,la){return a.__awaiter(this,void 0,void 0,function(){var ka,ia,ma,na,pa;return a.__generator(this,function(sa){switch(sa.label){case 0:ha||(ha=F.num),la||(la=F.start),sa.label=1;case 1:return sa.trys.push([1,3,,4]),ka=A.oidcId?" -provider:oidc_".concat(A.oidcId):"",ia="-emailstatus:verified".concat(A.canSignInIDP?" -provider:enterprise":"").concat(ka).concat(N?" ".concat(N):""),Object.keys(Q).forEach(function(ta){"categories"!==ta&&Q[ta]&&(ia+=" ".concat(Q[ta].q))}),
ma={num:ha,start:la,sortField:J.current.property,sortOrder:J.current.ascending?"asc":"desc",q:ia},Q.categories&&(na=Q.categories.value,ma.categories="_none"===na?"null":JSON.stringify([na])),[4,v.default.request({url:"".concat(g.default.restBaseUrl,"portals/self/users/search"),content:ma})];case 2:return pa=sa.sent(),G(pa.results.map(function(ta){return new e.default(a.__assign(a.__assign({},ta),{portal:A}))})),I(function(ta){return a.__assign(a.__assign({},ta),{start:pa.start,nextStart:pa.nextStart,
total:pa.total})}),[2,pa];case 3:return sa.sent(),[3,4];case 4:return[2]}})})}var A=z.portal,B=z.portalUser,D=z.onClose,C=a.__assign(a.__assign(a.__assign(a.__assign({},h.default.GroupWidget),h.default.myOrganization.membersTab),u.default.common),u.default.securityTab.emailVerification.modal),E=B.userRole.isAdmin(),H=(0,k.useState)(null);z=H[0];var G=H[1];H=(0,k.useState)({start:1,nextStart:-1,total:1,num:20});var F=H[0],I=H[1];H=(0,m.useAsyncReference)({property:"lastlogin",ascending:!1,label:C.lastLogin});
var J=H[0],K=H[1];H=(0,k.useState)(null);var P=H[0],T=H[1];H=(0,k.useState)(!1);var S=H[0],L=H[1];H=(0,k.useState)("");var N=H[0],O=H[1];H=(0,k.useState)({});var Q=H[0],V=H[1],X=(0,k.useState)(!1);H=X[0];var Z=X[1];X=(0,k.useState)(!1);var ca=X[0],R=X[1],Y=(0,k.useRef)(null),ba=(0,k.useRef)(null),aa=(0,k.useRef)(null),W=(0,k.useRef)(null),da=(0,k.useRef)(null),ea=(0,k.useRef)(null),ja=(0,k.useRef)(null),fa=(0,k.useRef)(null);(0,k.useEffect)(function(){var ha,la;if(S){var ka=null===(la=null===(ha=
ja.current)||void 0===ha?void 0:ha.shadowRoot)||void 0===la?void 0:la.querySelector(".content");ka&&Z(ka.scrollHeight>ka.clientHeight)}},[S]);(0,k.useEffect)(function(){y()},[N,Q]);(0,k.useEffect)(function(){y(F.num,F.start);var ha=[w.default.subscribe("".concat("unverified-emails-","pagination/page"),function(la){y(la.num,la.start)}),w.default.subscribe("".concat("unverified-emails-","sort/update"),function(la){K({property:la.property,ascending:la.ascending,label:la.label});y()}),w.default.subscribe("".concat("unverified-emails-",
"search/update"),function(la){O(la)}),w.default.subscribe("filter/update",function(la){V(function(ka){var ia,ma;return a.__assign(a.__assign({},ka),(ia={},ia[la.param]=null===(ma=la.selected)||void 0===ma?void 0:ma[0],ia))})}),w.default.subscribe("filter/clear",function(){V({});I(function(la){return a.__assign(a.__assign({},la),{start:1})})}),w.default.subscribe("filter/remove",function(la){V(function(ka){var ia;return a.__assign(a.__assign({},ka),(ia={},ia[la.param]=!1,ia))})})];return function(){ha.forEach(function(la){return la.remove()})}},
[]);(0,k.useEffect)(function(){W.current&&(new q.default({portal:A,userRole:B.userRole,canViewLastLogin:!0,unverifiedEmailMode:!0,baseClass:"org-filters filters--accordion"},W.current)).startup().then(function(){t.default.accordion()})},[W.current]);(0,k.useEffect)(function(){if(ba.current&&aa.current&&da.current){var ha=new n.default({search:{placeholder:C.searchMembers,searchTerm:"",generateErrorMessage:d.default.generateSearchErrorMessage},sort:[{property:"fullname",label:C.memberName,ascending:!0},
{property:"lastlogin",label:C.lastLogin,ascending:!1,active:!0}],filterContainer:aa.current,viewContainer:da.current,collapsed:!0,topic:"unverified-emails-",dontUpdateQueryParams:!0},ba.current);t.default.dropdown();setTimeout(function(){ha.focus()},300)}},[ba.current]);(0,k.useEffect)(function(){ea.current&&new l.default({dontUpdateQueryParams:!0},ea.current)},[ea.current]);(0,k.useEffect)(function(){fa.current&&(fa.current.innerHTML=C.tips.turnOnSetting.replace("${linkStart}",'\x3cbutton class\x3d"btn-link font-size--1"\x3e').replace("${linkEnd}",
"\x3c/button\x3e"),fa.current.querySelector("button").addEventListener("click",function(){D();"#settings"===location.hash?w.default.publish("scroll-to/email-verification"):w.default.publish("email-verification/open")}))},[fa.current]);(0,k.useEffect)(function(){if(Y.current&&F&&!P){var ha=new p.default({start:F.start,num:F.num,topic:"unverified-emails-"},Y.current);T(ha);t.default.dropdown()}},[Y,F]);(0,k.useEffect)(function(){P&&F&&P.render(F)},[P,F]);(0,k.useEffect)(function(){ja.current&&R(!0)},
[ja.current]);return z?(0,b.h)(b.Fragment,null,(0,f.createPortal)((0,b.h)("calcite-modal",{role:"dialog","aria-modal":"true",scale:"l",style:{"--calcite-modal-width":"1465px","--calcite-modal-content-padding":"0"},"aria-labelledby":"unverified-emails-modal-title",outsideCloseDisabled:!0,oncalciteModalClose:D,open:ca,ref:ja},(0,b.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"unverified-emails-modal-title"},C.title),(0,b.h)("div",{slot:"content"},S&&(0,b.h)("div",{class:"unverified-emails-modal__mask ".concat(H?
"unverified-emails-modal__mask--with-scroll":"")}),(0,b.h)("div",{class:"unverified-emails__top-bar"},(0,b.h)("div",{ref:ba})),(0,b.h)("calcite-notice",{open:!0,icon:"lightbulb",class:"leader-1 margin-left-1 margin-right-1"},(0,b.h)("div",{slot:"title"},C.tips.title),(0,b.h)("ul",{slot:"message"},(0,b.h)("li",{class:"font-size--1"},C.tips.correct),(0,b.h)("li",{class:"font-size--1"},C.tips.encourage),(0,b.h)("li",{class:"font-size--1",ref:fa}))),(0,b.h)("div",{class:"padding-1 flex width-full"},(0,b.h)("div",
{ref:aa,class:"js-filter-wrap"},(0,b.h)("h4",{class:"trailer-half font-size--1 avenir-demi tablet-hide"},C.filters),(0,b.h)("div",{class:"js-filters  org-filters"},(0,b.h)("div",{ref:W,class:"filters--accordion js-members-filter"}))),(0,b.h)("div",{class:"flex-1",ref:da},(0,b.h)("div",{class:"flex flex-align-center trailer-quarter"},(0,b.h)("div",{class:"unverified-emails__count"},c.default.getPageRangeString({start:F.start,end:-1===F.nextStart?F.total:F.nextStart-1,total:F.total})),(0,b.h)("div",
{ref:ea,class:"margin-left-1"}),(0,b.h)("div",{class:"flex-1"})),(0,b.h)("div",null,z.map(function(ha){return(0,b.h)(r.default,{key:ha.username,user:ha,isAdmin:E,texts:C,onEditToggle:x,onEmailUpdated:function(la){G(function(ka){ka.forEach(function(ia){ia.username===ha.username&&(ia.email=la)});return ka})}})})),(0,b.h)("div",{class:"unverified-emails-modal__no-users text-center leader-1 text-constrain margin-auto ".concat(z.length?"hide":"")},C.noMembers),(0,b.h)("div",{ref:Y}))))),document.body)):
(0,b.h)(b.Fragment,null)}})},"arcgisonline/pages/components/EmailVerification/UnverifiedEmailRow":function(){define("require exports tslib preact preact/hooks arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/utils/alerts ../MemberThumb ./NewEmail xstyle/css!./UnverifiedEmailRow.css".split(" "),function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);r=a.__importDefault(r);M.default=function(e){function v(){C(w.email);
H("");F(!1);x(!1)}function g(){B(!0);x(!0);C(w.email)}function p(){B(!1);v()}function n(I){F(I)}function q(I){C(I)}function l(I){H(I)}function c(){return a.__awaiter(this,void 0,void 0,function(){var I;return a.__generator(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,,3]),[4,f.default.request({url:"".concat(f.default.getSecureUrl(m.default.restBaseUrl),"community/users/").concat(w.username,"/update"),content:{email:D}},{usePost:!0})];case 1:I=J.sent();if(I.success)return h.default.showAlert("success",
t.editForm.success),[2,!0];h.default.showAlert("error",t.editForm.errors.updateFailed);return[3,3];case 2:return J.sent(),h.default.showAlert("error",t.editForm.errors.updateFailed),[3,3];case 3:return[2]}})})}function d(){return a.__awaiter(this,void 0,void 0,function(){var I;return a.__generator(this,function(J){switch(J.label){case 0:return G||!E?[2]:D===w.email?(B(!1),x(!1),[2]):[4,c()];case 1:if(I=J.sent())B(!1),x(!1),v(),y(D);return[2]}})})}var w=e.user,t=e.texts,z=e.isAdmin,x=e.onEditToggle,
y=e.onEmailUpdated,A=(0,k.useState)(!1);e=A[0];var B=A[1];A=(0,k.useState)(w.email);var D=A[0],C=A[1];A=(0,k.useState)("");var E=A[0],H=A[1];A=(0,k.useState)(!1);var G=A[0],F=A[1];A=G||!E;z=z&&(!w.provider||"enterprise"!==w.provider&&-1===w.provider.indexOf("oidc"));return(0,b.h)("div",{class:"unverified-email-container ".concat(e?"unverified-email-container--editing":"")},(0,b.h)("div",{class:"flex flex-align-center unverified-emails-row"},(0,b.h)("div",{class:"unverified-emails-row__name flex-1"},
(0,b.h)(u.MemberThumb,{member:w,showName:!0})),z&&(0,b.h)("div",null,(0,b.h)("calcite-button",{appearance:"transparent","icon-start":"edit-attributes",onClick:g},t.editForm.title))),e&&(0,b.h)("div",{class:"unverified-email__form"},(0,b.h)("h3",{class:"font-size-1 avenir-demi"},t.editForm.title),e&&(0,b.h)(r.default,{member:w,labelTextClass:"font-size-0",inputCssClass:"unverified-email__input",focusInput:!0,onChange:q,onValidate:n,onConfirmChange:l}),(0,b.h)("div",{class:"flex leader-1"},(0,b.h)("p",
{class:"trailer-0 font-size--1"},t.editForm.note),(0,b.h)("div",{class:"flex-1"}),(0,b.h)("calcite-button",{appearance:"outline",class:"margin-right-half",onClick:p},t.cancel),(0,b.h)("calcite-button",{onClick:d,disabled:A},t.save))))}})},"arcgisonline/pages/components/MemberThumb":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.MemberThumb=void 0;M.MemberThumb=function(b){var k=b.member,f=b.cssClasses,m=b.showTooltip,h=b.scale;b=
b.showName;return(0,a.h)("div",{"aria-label":m?k.fullName:"",class:"position-relative ".concat(m?"tooltip":""," ").concat(f||"")},(0,a.h)("arcgis-user-avatar",{class:"flex",scale:h||"l",user:k,portal:k.portal,showName:b,description:b?k.username:""}),!b&&(0,a.h)("div",{class:"member-thumb__edit-mask"},(0,a.h)("calcite-icon",{icon:"plusCircle",scale:"l"})))}})},"arcgisonline/pages/components/EmailVerification/NewEmail":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../nls/org-settings arcgisonline/sharing/util".split(" "),
function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(h){function u(){!B||w&&w===c||x(!0)}var r=h.member,e=h.inputCssClass,v=h.labelTextClass,g=h.labelSpacing,p=h.focusInput,n=h.onValidate,q=h.onChange,l=h.onConfirmChange;h=a.__assign({},f.default.securityTab.emailVerification.modal);r=(0,k.useState)(r.email);var c=r[0],d=r[1];r=(0,k.useState)("");var w=r[0],t=r[1];r=(0,k.useState)(!1);var z=r[0],x=r[1];r=(0,k.useState)(!1);
var y=r[0],A=r[1];r=(0,k.useState)(!1);var B=r[0],D=r[1],C=(0,k.useRef)(null);(0,k.useEffect)(function(){var E;p&&(null===(E=C.current)||void 0===E?void 0:E.focus())},[p]);(0,k.useEffect)(function(){B&&c!==w||x(!1)},[c,w]);(0,k.useEffect)(function(){n(z||y)},[z,y]);(0,k.useEffect)(function(){q(c)},[c]);return(0,b.h)(b.Fragment,null,(0,b.h)("label",{class:"trailer-".concat(g||"half")},(0,b.h)("div",{class:v||""},h.editForm.newEmail),(0,b.h)("input",{ref:C,type:"text",class:"".concat(e||""," ").concat(y?
"input-error":""),value:c,onInput:function(E){E=E.target.value;D(!0);d(E);A(!E||!m.default.isValidEmailAddress(E)||-1<E.indexOf("'"))},onBlur:u}),y&&(0,b.h)("div",{class:"input-error-message is-active"},h.editForm.errors.invalidEmail)),(0,b.h)("label",{class:"trailer-0"},(0,b.h)("div",{class:v||""},h.editForm.confirmEmail),(0,b.h)("input",{type:"text",class:"".concat(e||""," ").concat(z?"input-error":""),value:w,onInput:function(E){D(!0);E=E.target.value;t(E);l(E)},onBlur:u}),z&&(0,b.h)("div",{class:"input-error-message is-active"},
h.editForm.errors.mustMatch)))}})},"arcgisonline/pages/organization/widgets/MembersFilter":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/MembersFilter.html dojo/promise/all dojo/Deferred dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/FilterSingleWithSearch ../../dijit/FilterOrganizationGroups arcgisonline/pages/dijit/FilterCredits arcgisonline/pages/dijit/FilterCategory arcgisonline/pages/_filterStateMixin ../../utils/organization ../../pageUtil ../../utils/icons arcgisonline/pages/components/MemberCategories/api ../../../sharing/geow/Roles ../../../sharing/geow/Licenses ../../../sharing/util ../../../sharing/dijit/_LevelAwareMixin ../../../esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);
A=a.__importDefault(A);return function(){function B(D,C){this.templateString=k.default;this.i18n=b.default;this.icons=c.default;this.allowedLevels=[];this.hideGroups=this.unverifiedEmailMode=!1;this.groupId="";this.noEditCategories=!1;this._filters={userLicenseType:{param:"userLicenseType",chipText:b.default.myOrganization.filterChips.userType+" ",clearText:b.default.myOrganization.filterChips.userTypeClear,options:{}},role:{param:"role",chipText:b.default.myOrganization.filterChips.role+" ",clearText:b.default.myOrganization.filterChips.roleClear,
options:{}},group:{param:"group",chipText:b.default.myOrganization.filterChips.group+" ",clearText:b.default.myOrganization.filterChips.groupClear,options:{}},app:{param:"app",chipText:b.default.myOrganization.filterChips.app+" ",clearText:b.default.myOrganization.filterChips.appClear,options:{}},lastLogin:{param:"lastlogin",chipText:b.default.myOrganization.filterChips.lastLogin+" ",clearText:b.default.myOrganization.filterChips.lastLoginClear,minDate:void 0,showNever:!0},loginType:{param:"provider",
chipText:b.default.myOrganization.filterChips.loginType+" ",clearText:b.default.myOrganization.filterChips.loginTypeClear,options:{}}}}B.prototype.postCreate=function(){this.inherited(arguments);this._applyQueryParameters();this._rolesAPI=new w.default;this._licensesAPI=new t.default;this._filters.lastLogin.minDate=this.portal.created};B.prototype.startup=function(){this.inherited(arguments);return this._initFilters()};B.prototype._applyQueryParameters=function(){this.inherited(arguments)};B.prototype._applyFilters=
function(){this.inherited(arguments);var D=l.default.getQueryParams();this.mfaFilter&&D.mfaenabled&&this.mfaFilter.select(D.mfaenabled)};B.prototype._initFilters=function(){var D=this,C=new m.default,E=(this._isAdmin=this.userRole.isAdmin())||this.userRole.canViewUsers(),H=this._isAdmin||this.userRole.canManageLicenses(),G=!this.portal.isPortal&&(this._isAdmin||this.userRole.canInviteUsers()||this.userRole.canManageSecurity()),F=this._isAdmin||this.userRole.canUpdateMemberCategories()||this.userRole.canManageSecurity()||
this.userRole.canInviteUsers()||this.userRole.canManageRoles();(0,f.default)({roles:this._rolesAPI.getAllRoles(!0),userTypes:H?this._licensesAPI.getLicenseTypes():null,licenses:H?this._licensesAPI.getLicensedEntitlements():null,loginType:G?this.getLoginTypeInfo():null,defaultCategories:F?this.getDefaultCategories():null}).then(function(I){var J,K=I.roles,P=I.groups,T=I.licenses,S=null===(J=I.userTypes)||void 0===J?void 0:J.userLicenseTypes;D.portal.mfaEnabled&&E?D.mfaFilter=new e.default({title:b.default.myOrganization.membersTab.mfa,
searchText:"",filterParameter:{param:"mfaenabled",chipText:b.default.myOrganization.filterChips.mfa+" ",clearText:b.default.myOrganization.filterChips.mfaClear,options:{enabled:{value:"enabled",q:"mfaenabled:true",label:b.default.myOrganization.membersTab.mfaEnabled},disabled:{value:"disabled",q:"-mfaenabled:true",label:b.default.myOrganization.membersTab.mfaDisabled}}}},D.domNode.querySelector(".js-filter-mfa")):D._removeChild(".js-filter-mfa");!E||D.unverifiedEmailMode||D.portal.isPortal&&!y.default.emailVerificationEnabled?
D._removeChild(".js-filter-email-verification"):new e.default({title:b.default.myOrganization.membersTab.emailStatus,searchText:"",active:!1,filterParameter:{param:"emailstatus",chipText:b.default.myOrganization.filterChips.emailStatus+" ",clearText:b.default.myOrganization.filterChips.emailStatusClear,options:{unverified:{value:"unverified",q:"-emailstatus:verified",label:b.default.myOrganization.membersTab.unverifiedEmails},verified:{value:"verified",q:"emailstatus:verified",label:b.default.myOrganization.membersTab.verifiedEmails}}}},
D.domNode.querySelector(".js-filter-email-verification"));D._isAdmin||D.userRole.canViewOrgUsers()?D.initCategoryFilter():D._removeChild(".js-filter-category-container");S&&E?D._initUserTypeFilter(S):D._removeChild(".js-filter-user-type");E?D._initRoleFilter(K):D._removeChild(".js-filter-role");D.hideGroups?D._removeChild(".js-filter-group"):D._initGroupFilter();T&&S&&E?D._initAppFilter(T,S):D._removeChild(".js-filter-app");D._initLastLoginFilter();I.loginType?D.initLoginTypeFilter(I.loginType):D._removeChild(".js-filter-loginType");
D._initCreditsFilter();D._applyFilters();C.resolve({userTypes:S,roles:K,groups:P})},function(){C.resolve()});return C};B.prototype._removeChild=function(D){this.domNode.removeChild(this.domNode.querySelector(D))};B.prototype.getBaseUrl=function(){return z.default.getSecureUrl(y.default.restBaseUrl)};B.prototype.request=function(D){return z.default.request({url:"".concat(this.getBaseUrl()).concat(D)})};B.prototype.getIDP=function(){return this.request("portals/self/idp")};B.prototype.getFederation=
function(){return this.request("portals/self/idp/federation")};B.prototype.getODIC=function(){return this.request("portals/self/oidc")};B.prototype.getSocialProviders=function(){return this.request("portals/self/socialProviders")};B.prototype.getLoginTypeInfo=function(){return(0,f.default)({idp:this.getIDP(),federation:this.getFederation(),oidc:this.getODIC(),social:this.getSocialProviders()})};B.prototype.getDefaultCategories=function(){var D=this,C=new m.default;this.request("portals/self/userDefaultSettings").then(function(E){D.defaultCategories=
(null===E||void 0===E?void 0:E.categories)||[];C.resolve(D.defaultCategories)});return C};B.prototype.initCategoryFilter=function(){return a.__awaiter(this,void 0,void 0,function(){var D,C=this;return a.__generator(this,function(E){switch(E.label){case 0:return[4,(0,d.getMemberCategories)()];case 1:D=E.sent();if(this.noEditCategories&&(null===D||void 0===D||!D.length))return this._removeChild(".js-filter-category-container"),[2];this.filterCategory=new p.default({portal:this.portal,user:this.portal.portalUser,
filterContainer:this.domNode,categories:D,defaultCategories:this.defaultCategories||[],isMemberCategories:!0,disableEdit:this.noEditCategories},this.domNode.querySelector(".js-filter-category"));this.updateCategoriesCount();this.own(h.default.subscribe("member-categories-and-count/update",function(H){C.filterCategory.updateCategories(H.categories,!1);C.updateCategoriesCount()}),h.default.subscribe("member-categories-count/update",function(){window.setTimeout(function(){C.updateCategoriesCount()},
1E3)}));return[2]}})})};B.prototype.updateCategoriesCount=function(){return a.__awaiter(this,void 0,void 0,function(){var D,C;return a.__generator(this,function(E){switch(E.label){case 0:return[4,(0,d.getMemberCategoriesCount)(this.portal,this.groupId)];case 1:return D=E.sent(),null===(C=this.filterCategory)||void 0===C?void 0:C.updateCategorizedMembers(D),[2]}})})};B.prototype.initLoginTypeFilter=function(D){var C=this,E,H,G,F,I,J;if(D){var K=D.idp,P=D.federation,T=D.oidc;D=D.social;K=!!((null===
K||void 0===K?0:K.id)?K:(null===P||void 0===P?0:P.id)&&P);T=null===(H=null===(E=null===T||void 0===T?void 0:T.oidcProviders)||void 0===E?void 0:E[0])||void 0===H?void 0:H.id;E=!!T;H=0<(null===(F=null===(G=null===D||void 0===D?void 0:D.config)||void 0===G?void 0:G.providers)||void 0===F?void 0:F.length);G=(null===(J=null===(I=null===D||void 0===D?void 0:D.config)||void 0===I?void 0:I.providers)||void 0===J?void 0:J.reduce(function(S,L){return"".concat(S).concat(S?" OR ":"","provider:").concat(L)},
""))||"";a.__spreadArray(a.__spreadArray(a.__spreadArray([{value:"arcgis",label:"ArcGIS"}],K&&!this.unverifiedEmailMode?[{value:"enterprise",label:"SAML"}]:[],!0),E&&!this.unverifiedEmailMode?[{value:"oidc_".concat(T),label:"OpenID Connect"}]:[],!0),H?[{value:"social",q:"(".concat(G,")"),label:this.i18n.myOrganization.membersTab.social}]:[],!0).forEach(function(S){var L=S.value,N=S.label;C._filters.loginType.options[L]={value:L,q:S.q||"provider:".concat(L),label:N}});I=new e.default({title:this.i18n.myOrganization.membersTab.loginType,
searchText:"",filterParameter:this._filters.loginType,active:!1},this.domNode.querySelector(".js-filter-loginType"));J=l.default.getQueryParams();J.provider&&I.select(J.provider)}};B.prototype._initCreditsFilter=function(){var D=this._isAdmin||this.userRole.canManageCredits();y.default.creditBudgetingEnabled&&D&&("enabled"===this.portal.creditAssignments||"validated"===this.portal.creditAssignments)?this._creditsFilter=new g.default({active:!1},this.domNode.querySelector(".js-filter-credits")):this._removeChild(".js-filter-credits")};
B.prototype._initLastLoginFilter=function(){this.canViewLastLogin?this._lastLoginFilter=new e.default({title:this.i18n.myOrganization.membersTab.lastLogin,filterParameter:this._filters.lastLogin,type:"date",cssClasses:"members-filter__last-login",active:!1},this.domNode.querySelector(".js-filter-lastLogin")):this._removeChild(".js-filter-lastLogin")};B.prototype._initUserTypeFilter=function(D){var C=this;D=a.__spreadArray([],D,!0);0<this.allowedLevels.length&&(D=D.filter(function(E){return-1!==C.allowedLevels.indexOf(E.level)}));
D.forEach(function(E){C._filters.userLicenseType.options[E.id]={value:E.id,q:"userlicensetype:".concat(E.id),label:E.name}});this._userTypeFilter=new e.default({title:this.i18n.myOrganization.membersTab.licenseType,searchText:this.i18n.myOrganization.membersTab.filterUserTypes,filterParameter:this._filters.userLicenseType},this.domNode.querySelector(".js-filter-user-type"))};B.prototype._initRoleFilter=function(D){var C=this;D=a.__spreadArray([],D,!0);D.forEach(function(E){E.id===C.SYSTEM_ROLES.VIEWER&&
(E.name=C.i18n.myOrganization.formatters.roleViewer);E.id===C.SYSTEM_ROLES.DATA_EDITOR&&(E.name=C.i18n.myOrganization.formatters.roleViewerEdit);E.id===C.SYSTEM_ROLES.FACILITATOR&&(E.name=C.i18n.myOrganization.formatters.roleFacilitator)});D=a.__spreadArray(a.__spreadArray([],D,!0),[{id:"org_publisher",name:b.default.myOrganization.formatters.rolePublisher},{id:"org_admin",name:b.default.myOrganization.formatters.roleAdmin},{id:"org_user",name:b.default.myOrganization.formatters.roleUser}],!1);D.sort(function(E,
H){E=E.name.toLowerCase();H=H.name.toLowerCase();return E>H?1:E<H?-1:0});D.forEach(function(E){C._filters.role.options[E.id]={value:E.id,q:"role:".concat(E.id),label:E.name}});this._roleFilter=new e.default({title:this.i18n.myOrganization.membersTab.role,searchText:this.i18n.myOrganization.membersTab.filterRoles,filterParameter:this._filters.role},this.domNode.querySelector(".js-filter-role"))};B.prototype._initGroupFilter=function(){this._groupFilter=new v.default({portal:this.portal,filterParameter:this._filters.group,
active:!1},this.domNode.querySelector(".js-filter-group"))};B.prototype._initAppFilter=function(D,C){var E=this,H=D.filter(function(G){var F;return-1!==(null===(F=G.type)||void 0===F?void 0:F.indexOf("Application"))});D=q.default.getProEntitlements(D);C=q.default.getUserTypesContainingPro(C);H=H.map(function(G){return{id:G.itemId,name:G.title}});0<D.length?H.push({id:D[0].itemId,name:this.i18n.myOrganization.licensesTab.arcgisPro}):0<C.length&&(D=q.default.getProFromUserTypes(C))&&H.push({id:D.id,
name:this.i18n.myOrganization.licensesTab.arcgisPro});H.forEach(function(G){E._filters.app.options[G.id]={value:G.id,q:"app:".concat(G.id),label:G.name}});this._appFilter=new e.default({title:this.i18n.myOrganization.manageLicenseMembers.app,searchText:this.i18n.myOrganization.manageLicenseMembers.app,filterParameter:this._filters.app,active:!1},this.domNode.querySelector(".js-filter-app"))};return B=a.__decorate([(0,A.default)(r.default,u.default,x.default,n.default)],B)}()})},"arcgisonline/pages/dijit/FilterCredits":function(){define("require exports tslib dojo/text!./FilterCredits/templates/FilterCredits.html dojo/i18n!../../nls/arcgisonline dojo/on dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/NumberTextBox ../utils/icons ../utils/dom ../utils/keys ../utils/number arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=b.default;this.i18n=k.default;this.icons=e.default;this.active=!0;this.activeClass="is-active";this._state={param:"availablecredits",
chipText:k.default.myOrganization.filterChips.credits+" ",selected:[]}}q.prototype.postMixInProperties=function(){this.inherited(arguments);this.active||(this.activeClass="")};q.prototype.postCreate=function(){this.inherited(arguments);this._render();this._addEventListeners()};q.prototype._render=function(){this._lessThanInput=new r.default({trim:!0,constraints:{min:-1}},this.domNode.querySelector(".js-credits-input"));this._lessThanInput.domNode.setAttribute("title","");v.default.addClasses(this._lessThanInput.domNode,
["members__credits-filter-input"]);var l=this._lessThanInput.domNode.querySelector(".dijitInputInner");l.placeholder=this.i18n.filters.credits;var c=this.getTextWidth(l.placeholder);l.style.width=100<c?"".concat(c,"px"):"auto";this._clearBtn=document.createElement("button");this._clearBtn.className="js-clear-filter btn-link btn-link-off-black font-size--3 right hide clear-filter-button";this._clearBtn.textContent=this.i18n.groupSelector.clear;this._clearBtn.setAttribute("aria-label",this.i18n.filters.creditsRemainingClear);
this._sectionTitle.appendChild(this._clearBtn)};q.prototype.getTextWidth=function(l){var c=document.createElement("div");c.style.fontSize="15px";c.style.opacity="0";c.className="inline-block";c.textContent=l;document.body.appendChild(c);l=c.clientWidth;document.body.removeChild(c);return l};q.prototype._addEventListeners=function(){var l=this;this.own((0,f.default)(this._noLimitLink,"click",this._handleNoLimitClick.bind(this)),(0,f.default)(this._lessThanInput,"change",this._handleLessThanChange.bind(this)),
(0,f.default)(this._lessThanInput,"keyup",this._handleLessThanKeyup.bind(this)),(0,f.default)(this._clearBtn,"click",function(c){c.stopPropagation();l._publishRemove()}),m.default.subscribe("filter/remove",this._remove.bind(this)),m.default.subscribe("filter/clear",this._clear.bind(this)))};q.prototype._remove=function(l){l.param===this._state.param&&this._clear()};q.prototype._toggleActive=function(l,c){c?(l.classList.add("is-active"),l.setAttribute("aria-current","true")):(l.classList.remove("is-active"),
l.removeAttribute("aria-current"))};q.prototype._clear=function(){this._state.selected=[];this._toggleActive(this._noLimitItem,!1);this._toggleActive(this._lessThanItem,!1);this._lessThanInput.set("value","");v.default.hideNode(this._clearBtn)};q.prototype._publishRemove=function(){var l;0<(null===(l=this._state.selected)||void 0===l?void 0:l.length)&&m.default.publish("filter/remove",{param:this._state.param,value:"".concat(this._state.selected[0].value)})};q.prototype._handleLessThanKeyup=function(l){l.keyCode===
g.default.ENTER&&this._handleLessThanChange()};q.prototype._handleLessThanChange=function(){var l=this._lessThanInput.get("value");isNaN(l)||this.select(l)};q.prototype._handleNoLimitClick=function(l){l.preventDefault();this._noLimitItem.classList.contains("is-active")?this._publishRemove():this.select("-1")};q.prototype.select=function(l){if("-1"===l){var c={value:-1,q:'availablecredits:"-1.0"',label:k.default.filters.noLimit};this._toggleActive(this._lessThanItem,!1);this._toggleActive(this._noLimitItem,
!0)}else c={value:+l,q:"availablecredits:[0 TO ".concat(l,"]"),label:"".concat(k.default.filters.lessThan," ").concat(p.default.format(+l))},this._toggleActive(this._lessThanItem,!0),this._toggleActive(this._noLimitItem,!1),this._lessThanInput.set("value",l);this._state.selected=[c];v.default.showNode(this._clearBtn);m.default.publish("filter/update",this._state)};return q=a.__decorate([(0,n.default)(u.default,h.default)],q)}()})},"arcgisonline/pages/_filterStateMixin":function(){define("require exports tslib ./pageUtil ./utils/arrays ./utils/clone".split(" "),
function(U,M,a,b,k,f){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(){this._initialLoading=!0;this._initialStart=1;this._initialNum=20;this._initialMembershipRequestToggle=!1}m.prototype._applyQueryParameters=function(){var h=b.default.getQueryParams();this._applySortParameters(h);this._applyViewParameter(h);this._applyPaginationParameter(h);this._applyTypeParameter(h);this._applyMembershipRequestParameter(h);this._applyDateParameter(h);this._applyDateUploadedParameter(h);
this._applyDateCreatedParameter(h);this._applyFolderParameter(h);this._applySharingParameter(h);this._applyStatusParameter(h);this._applyRoleParameter(h);this._applyUserTypeParameter(h);this._applyOwnerParameter(h);this._applySpecialGroupsParameter(h);this._applyCategoriesParameter(h);this._applyLevelParameter(h);this._applyLastLoginParameter(h);this._applySearchInputParameter(h);this._applySearchByParameter(h);this._applyTagsParameter(h);this._applyBBoxParameter(h);this._applyCollaborationParameter(h);
this._applyGroupsParameter(h);this._applyAppParameter(h);this._applyCreditsParameter(h)};m.prototype._applyFilters=function(){this._applyPagination();this._applyItemTypeFilter();this._applySpecialGroupsFilter();this._applyDateFilter();this._applyDateUploadedFilter();this._applyDateCreatedFilter();this._applyFolderFilter();this._applyMembershipRequestFilter();this._applySharingFilter();this._applyStatusFilter();this._applyRoleFilter();this._applyUserTypeFilter();this._applyGroupFilter();this._applyAppFilter();
this._applyCreditsFilter();this._applyLastLoginFilter();this._applyOwnerFilter();this._applyCategoryFilter();this._applyLevelFilter();this._applySearchInput();this._applySearchByDropdown();this._applyTagsFilter();this._applyBBoxFilter();this._applyCollaborationFilter()};m.prototype._applySortParameters=function(h){if(h.sortField){var u=h.sortField;if(u&&this._sortOptions&&this._sortOptions.length){var r=k.default.find(this._sortOptions,function(e){return e.property===u});r&&(this._sort=(0,f.default)(r))}}h.sortOrder&&
this._sort&&(this._sort.ascending="asc"===h.sortOrder)};m.prototype._applyViewParameter=function(h){h.view&&(this._initialView=h.view)};m.prototype._applyPaginationParameter=function(h){if(h.num){var u=parseInt(h.num,10);-1<[20,60,100].indexOf(u)&&(this._initialNum=u,this._page&&this._page.num&&(this._page.num=this._initialNum))}h.start&&this._page&&(this._initialStart=parseInt(h.start,10)||1,0<this._initialStart%this._page.num&&(this._initialStart=Math.floor(this._initialStart/this._page.num)*this._page.num+
1,this._page&&this._page.start&&(this._page.start=this._initialStart)))};m.prototype._applyTypeParameter=function(h){h.focus&&(this._initialTypeFilter="layers-weblayers"===h.focus?"layers":h.focus)};m.prototype._applyDateParameter=function(h){h.modified&&(this._initialDateFilter=h.modified,this._initialDateFilterTo=h.modified_to?h.modified_to:void 0,this._initialDateFilterFrom=h.modified_from?h.modified_from:void 0)};m.prototype._applyDateCreatedParameter=function(h){h.created&&(this._initialDateCreatedFilter=
h.created,this._initialDateCreatedFilterTo=h.created_to?h.created_to:void 0,this._initialDateCreatedFilterFrom=h.created_from?h.created_from:void 0)};m.prototype._applyDateUploadedParameter=function(h){h.uploaded&&(this._initialDateUploadedFilter=h.uploaded,this._initialDateUploadedFilterTo=h.uploaded_to?h.uploaded_to:void 0,this._initialDateUploadedFilterFrom=h.uploaded_from?h.uploaded_from:void 0)};m.prototype._applyFolderParameter=function(h){h.folder&&(this._initialFolderFilter=h.folder)};m.prototype._applyMembershipRequestParameter=
function(h){h._membershipRequestToggle&&(this._initialMembershipRequestToggle="true"===h._membershipRequestToggle)};m.prototype._applySharingParameter=function(h){h.access&&(this._initialSharingFilter=h.access)};m.prototype._applyStatusParameter=function(h){h.contentstatus&&(this._initialStatusFilter=h.contentstatus)};m.prototype._applyRoleParameter=function(h){h.memberType?this._initialRoleFilter=h.memberType:h.role&&(this._initialRoleFilter=h.role)};m.prototype._applyUserTypeParameter=function(h){h.userLicenseType&&
(this._initialUserTypeFilter=h.userLicenseType)};m.prototype._applyGroupsParameter=function(h){h.group&&(this._initialGroupFilter=h.group)};m.prototype._applyAppParameter=function(h){h.app&&(this._initialAppFilter=h.app)};m.prototype._applyCreditsParameter=function(h){h.availablecredits&&(this._initialCreditsFilter=h.availablecredits)};m.prototype._applyOwnerParameter=function(h){h.owner&&(this._initialOwnerFilter=h.owner)};m.prototype._applySpecialGroupsParameter=function(h){h.specialGroups&&(this._initialSpecialGroupsFilter=
h.specialGroups)};m.prototype._applyCategoriesParameter=function(h){if(h.categories)try{this._initialCategoryFilter=JSON.parse(h.categories)}catch(u){}if(h.regions){this._initialCategoryFilter=this._initialCategoryFilter||[];try{this._initialCategoryFilter=this._initialCategoryFilter.concat(JSON.parse(h.regions))}catch(u){}}};m.prototype._applySearchByParameter=function(h){h.searchBy&&(this._initialSearchBy=h.searchBy)};m.prototype._applySearchInputParameter=function(h){h.searchTerm&&(this._initialSearchInput=
h.searchTerm)};m.prototype._applyTagsParameter=function(h){h.tags&&(this._initialTagsFilter=h.tags.split(","))};m.prototype._applyBBoxParameter=function(h){if(h.bbox){h.sortField="bbox";var u=h.bbox.split(",");4===u.length&&(this._initialBBoxFilter=[[u[0],u[1]],[u[2],u[3]]],this._initialBBoxLabel=h.bboxLabel)}};m.prototype._applyCollaborationParameter=function(h){h.origin&&(this._initialCollaborationFilter=h.origin)};m.prototype._applyLevelParameter=function(h){h.level&&(this._initialLevelFilter=
h.level)};m.prototype._applyLastLoginParameter=function(h){h.lastlogin&&(this._initialDateFilter=h.lastlogin,this._initialDateFilterTo=h.lastlogin_to?h.lastlogin_to:void 0,this._initialDateFilterFrom=h.lastlogin_from?h.lastlogin_from:void 0)};m.prototype._applyPagination=function(){this._pagination&&this._pagination.setInitialProperties({num:this._initialNum,start:this._initialStart});this._page&&(this._page.num=this._initialNum,this._page.start=this._initialStart)};m.prototype._applyItemTypeFilter=
function(){this._initialTypeFilter&&this._typeFilter&&this._typeFilter.select&&this._typeFilter.select(this._initialTypeFilter)};m.prototype._applyDateFilter=function(){this._initialDateFilter&&this._dateFilter&&this._dateFilter.select&&this._dateFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};m.prototype._applyDateCreatedFilter=function(){this._initialDateCreatedFilter&&this._dateFilter&&this._dateFilter.select&&this._dateFilter.select(this._initialDateCreatedFilter,
this._initialDateCreatedFilterFrom,this._initialDateCreatedFilterTo)};m.prototype._applyFolderFilter=function(){this._initialFolderFilter&&this._folderList&&(this._folderList.setInitialFolder(this._initialFolderFilter),this._folderListMobile.setInitialFolder(this._initialFolderFilter))};m.prototype._applyMembershipRequestFilter=function(){var h;this._initialMembershipRequestToggle&&(null===(h=this._membershipRequestToggle)||void 0===h?0:h.isChecked)&&this._membershipRequestToggle.setChecked(this._initialMembershipRequestToggle)};
m.prototype._applyDateUploadedFilter=function(){this._initialDateUploadedFilter&&this._dateCreatedFilter&&this._dateCreatedFilter.select&&this._dateCreatedFilter.select(this._initialDateUploadedFilter,this._initialDateUploadedFilterFrom,this._initialDateUploadedFilterTo)};m.prototype._applySharingFilter=function(){this._initialSharingFilter&&this._sharingFilter&&this._sharingFilter.select&&this._sharingFilter.select(this._initialSharingFilter)};m.prototype._applyStatusFilter=function(){this._initialStatusFilter&&
this._statusFilter&&this._statusFilter.select&&this._statusFilter.select(this._initialStatusFilter)};m.prototype._applyRoleFilter=function(){this._initialRoleFilter&&this._roleFilter&&this._roleFilter.select&&this._roleFilter.select(this._initialRoleFilter)};m.prototype._applyUserTypeFilter=function(){this._initialUserTypeFilter&&this._userTypeFilter&&this._userTypeFilter.select&&this._userTypeFilter.select(this._initialUserTypeFilter)};m.prototype._applyGroupFilter=function(){this._initialGroupFilter&&
this._groupFilter&&this._groupFilter.select&&this._groupFilter.select(this._initialGroupFilter)};m.prototype._applyAppFilter=function(){this._initialAppFilter&&this._appFilter&&this._appFilter.select&&this._appFilter.select(this._initialAppFilter)};m.prototype._applyCreditsFilter=function(){this._initialCreditsFilter&&this._creditsFilter&&this._creditsFilter.select&&this._creditsFilter.select(this._initialCreditsFilter)};m.prototype._applyLastLoginFilter=function(){this._initialDateFilter&&this._lastLoginFilter&&
this._lastLoginFilter.select&&this._lastLoginFilter.select(this._initialDateFilter,this._initialDateFilterFrom,this._initialDateFilterTo)};m.prototype._applySpecialGroupsFilter=function(){var h;this._initialSpecialGroupsFilter&&(null===(h=this._specialGroupsFilter)||void 0===h?0:h.select)&&this._specialGroupsFilter.select(this._initialSpecialGroupsFilter)};m.prototype._applyOwnerFilter=function(){this._initialOwnerFilter&&this._ownerFilter&&this._ownerFilter.select&&this._ownerFilter.select(this._initialOwnerFilter)};
m.prototype._applyCategoryFilter=function(){this._initialCategoryFilter&&this._categoryFilter&&this._categoryFilter.select&&this._categoryFilter.select(this._initialCategoryFilter,this._initialLoading)};m.prototype._applyLevelFilter=function(){this._initialLevelFilter&&this._levelFilter&&this._levelFilter.select&&this._levelFilter.select(this._initialLevelFilter)};m.prototype._applySearchInput=function(){var h,u=this._searchInput||(null===(h=this._controlBar)||void 0===h?void 0:h._searchInput);this._initialSearchInput&&
(null===u||void 0===u?0:u.setValue)&&u.setValue(this._initialSearchInput)};m.prototype._applySearchByDropdown=function(){var h=this._searchByDropdown||this._controlBar&&this._controlBar._searchDropdown;this._initialSearchBy&&h&&h.setSelection&&h.setSelection(this._initialSearchBy)};m.prototype._applyTagsFilter=function(){this._initialTagsFilter&&this._tagsFilter&&this._tagsFilter.select&&this._tagsFilter.select(this._initialTagsFilter)};m.prototype._applyBBoxFilter=function(){this._initialBBoxFilter&&
this._bBoxFilter&&this._bBoxFilter.addExtentFilter&&this._bBoxFilter.addExtentFilter(this._initialBBoxFilter,this._initialBBoxLabel)};m.prototype._applyCollaborationFilter=function(){this._initialCollaborationFilter&&this._collaborationFilter&&this._collaborationFilter.select&&this._collaborationFilter.select(this._initialCollaborationFilter)};return m}()})},"arcgisonline/pages/organization/api":function(){define(["require","exports","tslib","arcgisonline/sharing/util","arcgisonline/esriGeowConfig"],
function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});M.getUnverifiedEmailsCount=void 0;b=a.__importDefault(b);k=a.__importDefault(k);M.getUnverifiedEmailsCount=function(f){return a.__awaiter(this,void 0,void 0,function(){var m,h,u;return a.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,f.getOIDCId()];case 1:return m=r.sent(),h="-emailstatus:verified".concat(f.canSignInIDP?" -provider:enterprise":"").concat(m?" -provider:oidc_".concat(m):""),[4,
b.default.request({url:"".concat(k.default.restBaseUrl,"portals/self/users/search"),content:{num:1,start:1,q:h}})];case 2:return u=r.sent(),[2,(null===u||void 0===u?void 0:u.total)||0];case 3:return r.sent(),[2,0];case 4:return[2]}})})}})},"arcgisonline/pages/components/SignInOptions/TopButtons":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../nls/org-settings".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);M.default=
function(m){var h=m.samlProvider,u=m.oidcProviders,r=m.onNewSamlClick;m=m.onNewOidcClick;var e=a.__assign(a.__assign({},f.default.common),f.default.securityTab.loginsSection),v=(0,k.useRef)(null),g=(0,k.useRef)(null);return(0,b.h)("div",{class:"leader-1 flex trailer-half"},(0,b.h)("div",{class:"flex-1 margin-right-half"},!h&&(0,b.h)("button",{ref:v,onClick:r,class:"btn btn-clear font-size--1 margin-right-half"},e.SAML.newLabel),!(null===u||void 0===u?0:u.length)&&(0,b.h)("button",{ref:g,onClick:m,
class:"btn btn-clear font-size--1 leader-quarter"},e.openIdConnect.newLabel)),(0,b.h)("a",{href:"signin.html",target:"_blank",class:"flex-0 flex flex-align-center"},f.default.securityTab.loginsSection.showLoginScreen," ",(0,b.h)("calcite-icon",{scale:"s",icon:"launch",class:"margin-left-half"})))}})},"arcgisonline/pages/organization/widgets/settings/tabs/CollaborationsTab":function(){define("require exports tslib ./BaseSettingsTab ../cards/CollaborationsCard ../rows/CollabOrgsRow ../rows/CollabContactsRow ../settings-shared ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.i18n=e.default.collaborationsTab;this.TAB_KEY=h.SettingsTabKeys.Collaborations}v.prototype.render=function(){var g=this.portal,p=g.created,n=g.isPortal,q=(g.subscriptionInfo||{}).type;g=!n&&this.portal.canHavePartnerCollab();p=u.default.canShowDistributedCollaborations(n,
p,q);g&&this.createOnlineCollabCard();p&&this.createCollaborationsCard();this.inherited(arguments)};v.prototype.createOnlineCollabCard=function(){var g=this.i18n.online,p=g.name,n=g.description;g=g.learnMore;var q=this.getDefaultRowParams(),l=this.portal.getHelpUrl("120002736"),c=[new f.default(a.__assign({},q))];this.portalUser.userRole.canViewUsers()&&c.push(new m.default(a.__assign({},q)));this.createCard({id:"org-online-collabs-card",name:p,description:"".concat(n,' \x3ccalcite-link href\x3d"').concat(l,
'" class\x3d"leader-half display-block" target\x3d"_blank"\x3e').concat(g,"\x3c/calcite-link\x3e"),keywords:[],rows:c})};v.prototype.createCollaborationsCard=function(){this.createCustomCard(k.default,{id:"org-enterprise-collabs-card",name:this.i18n.enterprise,keywords:"share collaborate enterpriseConnections portalConnections relationship host authentication distribute workspaces".split(" ")})};return v=a.__decorate([(0,r.default)(b.default)],v)}()})},"arcgisonline/pages/organization/widgets/settings/cards/CollaborationsCard":function(){define("require exports tslib ./SettingsCard ../../../../utils/dom ../../../../../sharing/util ../../../../../sharing/dijit/Collaborations ../../../../../tsutils/declareDecorator dojo/dom-construct dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){}e.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),r.default.collaborationsTab),{keywords:r.default.keywords});this.inherited(arguments)};e.prototype.show=function(){this.inherited(arguments);this._collaborations.refresh()};e.prototype.render=
function(){var v=['\x3cdiv class\x3d"trailer-half"\x3e'.concat(this.portal.isPortal?this.i18n.descriptionPortal:this.i18n.description,"\x3c/div\x3e"),'\x3cdiv class\x3d"trailer-half"\x3e'.concat(this.portal.isPortal?this.i18n.descriptionPortal2:this.i18n.description2,"\x3c/div\x3e")];if(this.portal.isPortal&&!1===this.portal.hasRelationalArcGISDataStore){var g=f.default.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/helpIcon.png");g='\x3cimg class\x3d"help-icon" src\x3d"'.concat(g,
'" alt\x3d"').concat(this.i18n.egdbTooltip,'"\x3e');g='\x3ca href\x3d"" target\x3d"_blank"\x3e'.concat(g,"\x3c/a\x3e");g='\x3cspan class\x3d"tooltip" aria-label\x3d"'.concat(this.i18n.egdbTooltip,'"\x3e').concat(g,"\x3c/span\x3e");v.push('\x3cdiv class\x3d"trailer-half"\x3e'.concat(this.i18n.egdbWarning," ").concat(g,"\x3c/div\x3e"))}else this.portal.isPortal||v.push('\x3ccalcite-link href\x3d"'.concat(this.portal.getHelpUrl("120002737"),'" target\x3d"_blank" class\x3d"leader-half"\x3e').concat(this.i18n.learnDistributed,
"\x3c/calcite-link\x3e"));this._description.innerHTML=v.join("");this._collaborations=new m.default({},u.default.create("div",null,u.default.create("div",{class:"org-settings__card-row"},this._content)));this._collaborations.startup();this.inherited(arguments);k.default.showNode(this._title);k.default.showNode(this._description)};return e=a.__decorate([(0,h.default)(b.default)],e)}()})},"arcgisonline/sharing/dijit/Collaborations":function(){define("require esri/declare esri/Evented esri/lang dojo/_base/kernel dojo/_base/lang dojo/_base/array dijit/registry dijit/a11yclick dojo/on dojo/topic dojo/string dojo/query dojo/json dojo/mouse dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojox/html/entities dijit/popup dojo/promise/all dojo/Deferred dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_CollaborationsMixin ./dialog/_CollaborationsDialogMixin dijit/Menu dijit/MenuItem dijit/form/Button dojo/store/Memory dijit/TooltipDialog ../../pages/pageUtil ../../pages/utils/arrays ../../pages/utils/date ../../pages/utils/dom ../util ../../esriGeowConfig ../geow/Account ./Grid ./Breadcrumb dojo/i18n!../../nls/arcgisonline dojo/text!./templates/Collaborations.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T,S,L,N,O,Q,V,X,Z){var ca=M([Q],{idField:"id",startup:function(){this.inherited(arguments);this._grid&&(this.own(this._grid.on("dgrid-sort",function(R){this._applyColumnHeaderA11y(this._grid,R.sort[0])}.bind(this))),this._applyColumnHeaderA11y(this._grid))},destroy:function(){this.inherited(arguments);this._refreshHandle&&this._refreshHandle.remove()},refresh:function(){this.inherited(arguments);this._applyColumnHeaderA11y(this._grid)},
refreshUI:function(){if(this._grid&&this._grid._started){var R=f.clone(this.get("store").query()).length,Y=this._grid?this._grid._currentPage:1,ba=Math.ceil(R/this.ITEMS_PER_PAGE);Y>ba&&(Y=ba);this._refreshHandle=this._grid.on("dgrid-refresh-complete",function(aa){this._refreshHandle&&this._refreshHandle.remove();aa.grid._currentPage!==Y&&0<R&&aa.grid.gotoPage(Y)}.bind(this));this._grid.resize();this._grid.refresh()}},_applyColumnHeaderA11y:function(R,Y){R=R.domNode.querySelectorAll("th.dgrid-cell");
S.forEachNode(R,function(ba){if(ba.classList.contains("dgrid-sortable"))if(ba.setAttribute("tabIndex","0"),Y)if(ba.classList.contains("dgrid-column-"+Y.attribute)){var aa=Y.descending;aa?ba.setAttribute("aria-sort","descending"):ba.setAttribute("aria-sort","ascending")}else ba.setAttribute("aria-sort","none");else{aa=ba.firstElementChild;var W=aa.classList.contains("dgrid-sort-up");aa=aa.classList.contains("dgrid-sort-down");W?ba.setAttribute("aria-sort","ascending"):aa?ba.setAttribute("aria-sort",
"descending"):ba.setAttribute("aria-sort","none")}else ba.setAttribute("aria-sort","none")}.bind(this))},remove:function(R){var Y=this.get("store"),ba=this._grid?this._grid._currentPage:1;Y.remove(R[this.idField]);R=f.clone(Y.query());Y=Math.ceil(R.length/this.ITEMS_PER_PAGE);ba>Y&&(ba=Y);this._refreshHandle=this._grid.on("dgrid-refresh-complete",this._removeRefresh.bind(this,R.length,ba));this._grid.refresh()},clear:function(){var R=this.get("store"),Y=this.idField;m.forEach(f.clone(R.query()),function(ba){R.remove(ba[Y])})},
_removeRefresh:function(R,Y,ba){this._refreshHandle&&this._refreshHandle.remove();ba.grid._currentPage!==Y&&0<R&&ba.grid.gotoPage(Y);this._applyColumnHeaderA11y(grid)}});return M("arcgisonline.sharing.dijit.Collaborations",[A,B,D,C],{baseClass:"esriCollaborations",templateString:Z,widgetsInTemplate:!0,postMixInProperties:function(){this.inherited(arguments);this.i18n=X},startup:function(){this.inherited(arguments);var R=this,Y=new y;R._portal={};R._current={};R._collabDlgMixin=new E;O.getSelf(function(ba){R._portal.self=
ba;L.isArcGISEnterpriseOnKubernetes()?x({portalSiteInfo:R._retrieveKubernetesSiteInfo(),collaborationSettings:R._fetchCollaborationSettings()}).then(function(aa){R._portal.siteInfo=aa.portalSiteInfo;R._portal.siteInfo.siteKey=aa.portalSiteInfo.portalId;R._portal.siteInfo.version="arcgisenterpriseonkubernetes";N.collaborationSettings=aa.collaborationSettings;R._initUI();R.reset().then(function(){Y.resolve()})},function(aa){Y.resolve()}):L.isPortal()?x({portalSiteInfo:R._retrievePortalSiteInfo(),collaborationSettings:R._fetchCollaborationSettings()}).then(function(aa){R._portal.siteInfo=
aa.portalSiteInfo;N.collaborationSettings=aa.collaborationSettings;R._initUI();R.reset().then(function(){Y.resolve()})},function(aa){Y.resolve()}):x({collaborationSettings:R._fetchCollaborationSettings()}).then(function(aa){R._portal.siteInfo={siteKey:R._portal.self.id,version:"online"};N.collaborationSettings=aa.collaborationSettings;R._initUI();R.reset().then(function(){Y.resolve()})},function(aa){Y.resolve()})},function(ba){Y.resolve()});return Y},refresh:function(){return this.goToView(this._current.view)},
reset:function(){var R=new y;this._resetClick().then(function(){R.resolve()});return R},goToView:function(R){var Y=this,ba=new y;Y._current.view=R;Y._disconnectSyncStatusHandlers();Y._hideViews().then(function(){Y._loadView(R).then(function(){Y._fillInView(R);Y._showView(R).then(function(){if(Y._workspaceGrid){var aa=Y._workspaceGrid.domNode.querySelector(".field-status .dgrid-resize-header-container");aa&&(aa.title=aa.textContent)}ba.resolve()})},function(aa){})},function(){ba.resolve()});return ba},
_getActionImageNode:function(R){return R&&R.childNodes&&R.childNodes.length&&R.childNodes[0]||R},_disconnectSyncStatusHandlers:function(){this._current.workspace&&this._current.workspace.syncStatusHandlers&&this._current.workspace.syncStatusHandlers.forEach(function(R){R.remove()})},_retrievePortalSiteInfo:function(){return L.request({url:L.getPortalAdminBaseUrl()+"/"},{useProxy:N.isDebug})},_retrieveKubernetesSiteInfo:function(){return L.request({url:L.getPortalAdminBaseUrl()+"/orgs/"+N.self.id},
{useProxy:N.isDebug})},_initUI:function(){this._initHandlers();this._initGrids()},_initHandlers:function(){this._initButtonHandlers();this._initCollaborationsActionMenuHandlers();this._initGuestsActionMenuHandlers();this._initWorkspacesActionMenuHandlers();this._initTopicHandlers();this._initBreadcrumbHandlers();this._initTooltipHandlers()},_initButtonHandlers:function(){var R=this._editHostContactPersonClick.bind(this),Y=this._editHostWebAuthClick.bind(this);this.own(u(this._createCollaborationBtn,
this._createCollaborationClick.bind(this)),u(this._inviteGuestBtn,this._inviteGuestClick.bind(this)),u(this._viewWorkspacesBtn,this._viewWorkspacesClick.bind(this)),u(this._createWorkspaceBtn,this._createWorkspaceClick.bind(this)),u(this._viewGuestsBtn,this._viewGuestsClick.bind(this)),u(this._editContactBtn,this._editContactPersonClick.bind(this)),u(this._guestsHostContactEdit,R),u(this._workspacesHostContactEdit,R),u(this._workspaceHostContactEdit,R),u(this._workspaceViewerCredentialsEdit,this._editViewerCredentialsClick.bind(this)),
u(this._guestsHostWebAuthCredentialsEdit,Y),u(this._workspacesHostWebAuthCredentialsEdit,Y),u(this._guestWebAuthCredentialsEdit,this._editGuestWebAuthClick.bind(this)));this._portal.self.isPortal?this.own(u(this._acceptInvitationBtn,this._acceptInvitationClick.bind(this))):w.set(this._acceptInvitationBtn.domNode,"display","none")},_initCollaborationsActionMenuHandlers:function(){this.own(r(this._collaborationsActionMenu,"blur",this._collaborationsActionMenuBlur.bind(this)),u(this._collaborationEditAction,
this._collaborationEditClick.bind(this)),u(this._collaborationDeleteAction,this._collaborationDeleteClick.bind(this)),u(this._collaborationLeaveAction,this._collaborationLeaveClick.bind(this)),u(this._collaborationSaveResponseAction,this._collaborationSaveResponseClick.bind(this)));(this._portal.self.isPortal||N.collaborationDeletePolicyEnabled)&&this.own(u(this._collaborationGuestEditAction,this._collaborationGuestEditClick.bind(this)))},_initGuestsActionMenuHandlers:function(){this.own(r(this._guestsActionMenu,
"blur",this._guestsActionMenuBlur.bind(this)),u(this._guestAcceptAction,this._guestAcceptClick.bind(this)),u(this._guestReissueAction,this._guestReissueClick.bind(this)),u(this._guestInvalidateAction,this._guestInvalidateClick.bind(this)),u(this._guestEditAction,this._guestEditClick.bind(this)),u(this._guestRemoveAction,this._guestRemoveClick.bind(this)))},_initWorkspacesActionMenuHandlers:function(){this.own(r(this._workspacesActionMenu,"blur",this._workspacesActionMenuBlur.bind(this)),u(this._workspaceEditAction,
this._workspaceEditClick.bind(this)),u(this._workspaceDeleteAction,this._workspaceDeleteClick.bind(this)),u(this._workspaceJoinAction,this._workspaceJoinClick.bind(this)),u(this._workspaceLeaveAction,this._workspaceLeaveClick.bind(this)),u(this._workspaceSyncAction,this._workspaceSyncClick.bind(this)),u(this._workspacePauseSyncAction,this._workspacePauseSyncClick.bind(this)),u(this._workspaceResumeSyncAction,this._workspaceResumeSyncClick.bind(this)))},_initTopicHandlers:function(){var R=this.refresh.bind(this),
Y=this._refreshCollaborations.bind(this);this.own(e.subscribe("collaboration/create",Y),e.subscribe("collaboration/create-invite",this._refreshCollaborationsAndInviteGuest.bind(this)),e.subscribe("collaboration/update",Y),e.subscribe("collaboration-workspace/create",R),e.subscribe("collaboration-workspace/join",R),e.subscribe("collaboration-workspace/update",R),e.subscribe("collaboration-invitation/create",R),e.subscribe("collaboration-invitation/accept",Y),e.subscribe("collaboration-guest/accept",
R),e.subscribe("collaboration-guest/update",R))},_initBreadcrumbHandlers:function(){this._breadcrumbs.set("initialHandler",this._resetClick.bind(this))},_initTooltipHandlers:function(){this._tooltips=[];this._tooltips.push(r(q.byId("workspace-sync-label"),n.enter,function(){this._createOneTimeTooltip(this.i18n.collaborations.syncScheduledTooltip,q.byId("workspace-sync-label"),!0)}.bind(this)));this._tooltips.push(r(q.byId("workspace-realtime-sync-label"),n.enter,function(){this._createOneTimeTooltip(this.i18n.collaborations.syncImmediateTooltip,
q.byId("workspace-realtime-sync-label"),!0)}.bind(this)));this._tooltips.forEach(this.own)},_initGrids:function(){this._collaborationsGrid=this._createCollaborationsGrid();this._guestsGrid=this._createGuestsGrid();this._workspacesGrid=this._createWorkspacesGrid();this._guestGrid=this._createGuestGrid();this._workspaceGrid=this._createWorkspaceGrid()},_hideViews:function(){var R=new y;g(".collaboration-view",this.domNode).forEach(function(Y){c.add(Y,"hide")});this._syncTooltipDlg&&this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);
this._syncTooltipDlgStatusHandler&&this._syncTooltipDlgStatusHandler.remove();this._syncRealtimeTooltipDlgStatusHandler&&this._syncRealtimeTooltipDlgStatusHandler.remove();R.resolve();return R},_showView:function(R){var Y=new y,ba=g(".collaboration-view",this.domNode),aa=g("."+R,this.domNode).shift(),W=h.byId(R+"-grid");m.forEach(ba,function(ea){c.add(ea,"hide")});aa&&c.remove(aa,"hide");this._hideShowViewForMode(R,this._current.mode);if(W){var da=W._grid.on("dgrid-refresh-complete",function(){da.remove();
da=void 0;Y.resolve()});W.refreshUI()}else Y.resolve();return Y},_hideShowViewForMode:function(R,Y){switch(R){case this.VIEWS.COLLABORATION_GUESTS:w.set(this._inviteGuestBtn.domNode,"display",Y===this.MODE.HOST?"":"none");break;case this.VIEWS.COLLABORATION_WORKSPACES:w.set(this._createWorkspaceBtn.domNode,"display",Y===this.MODE.HOST?"":"none")}},_fillInView:function(R){var Y=new y;switch(R){case this.VIEWS.COLLABORATION_GUESTS:this._fillInCollaborationHostInfo();break;case this.VIEWS.COLLABORATION_WORKSPACES:this._fillInCollaborationHostInfo();
break;case this.VIEWS.GUEST:this._fillInGuestInfo();break;case this.VIEWS.WORKSPACE:this._fillInWorkspaceInfo()}Y.resolve();return Y},_fillInCollaborationHostInfo:function(){var R=L.isPortal(),Y=this._current.collaboration,ba=this._current.collaborationHost,aa=this._portal.siteInfo.siteKey,W=ba.portalInfo&&ba.portalInfo.id===aa;aa=ba.portalInfo&&ba.portalInfo.requiresWebAuth;var da=this.i18n.common.sendEmailTo,ea=this._current.view===this.VIEWS.COLLABORATION_GUESTS,ja=this._current.view===this.VIEWS.COLLABORATION_WORKSPACES,
fa;g(".collaboration-description",this.domNode).forEach(function(ha){l.set(ha,"innerHTML",Y.description,"only")});ba&&ba.config&&(g(".collaboration-contact",this.domNode).forEach(function(ha){fa=d.create("span",{"class":"collaborationClickable"},ha,"only");d.create("a",{href:"mailto:"+t.encode(ba.config.contactEmailAddress),innerHTML:ba.fullName,"aria-label":v.substitute(da,{name:ba.fullName})},fa)}),S.showHideAll(g(".collaboration-host-contact-edit",this.domNode),W));ba&&ba.portalInfo&&g(".collaboration-host",
this.domNode).forEach(function(ha){fa=d.create("label",{innerHTML:t.encode(ba.portalInfo.name)},ha,"only")});R=!this.isArcGISOnline(ba)&&this._current.mode===this.MODE.GUEST&&!W&&R;this._guestsHostHasWebAuthCredentials.textContent=aa?this.i18n.collaborations.yes:this.i18n.collaborations.no;this._workspacesHostHasWebAuthCredentials.textContent=aa?this.i18n.collaborations.yes:this.i18n.collaborations.no;S.showHide(this._guestsHostWebAuthContainer,R&&ea);S.showHide(this._workspacesHostWebAuthContainer,
R&&ja)},_fillInGuestInfo:function(){var R=this,Y=this._current.collaborationHost,ba=this._current.guest,aa=ba.portalInfo&&ba.portalInfo.requiresWebAuth,W=this._portal.siteInfo.siteKey,da;R._current.mode===R.MODE.GUEST&&ba.portalInfo.id===W?S.showNode(R._guestSelfEditContainer):S.hideNode(R._guestSelfEditContainer);g(".guest-contact",R.domNode).forEach(function(ea){da=d.create("span",{"class":"collaborationClickable"},ea,"only");d.create("a",{href:"mailto:"+t.encode(ba.config.contactEmailAddress),
innerHTML:ba.fullName,"aria-label":v.substitute(R.i18n.common.sendEmailTo,{name:ba.fullName})},da)});g(".guest-url",R.domNode).forEach(function(ea){da=d.create("span",{innerHTML:ba.url},ea,"only")});g(".guest-version",R.domNode).forEach(function(ea){l.set(ea,"innerHTML","online"===ba.config.portalVersion?R.i18n.common.arcgisOnline:ba.config.portalVersion)});Y=!this.isArcGISOnline(Y)&&!this.isArcGISOnline(ba)&&R._current.mode===R.MODE.HOST&&ba.portalInfo.id!==W;this._guestHasWebAuthCredentials.textContent=
aa?this.i18n.collaborations.yes:this.i18n.collaborations.no;S.showHide(this._guestWebAuthContainer,Y)},_fillInWorkspaceInfo:function(){var R=L.isPortal(),Y=this._current.workspace,ba=this._current.collaborationHost,aa=this._portal.siteInfo.siteKey,W=ba.portalInfo&&ba.portalInfo.id===aa,da=this.i18n.common.sendEmailTo,ea,ja,fa;this._disconnectSyncStatusHandlers();if(Y.participantGroupLinks)for(ea=0;ea<Y.participantGroupLinks.length;ea++){var ha=Y.participantGroupLinks[ea];if(ha.portalId===this._portal.siteInfo.siteKey){var la=
ha.portalGroupId;var ka=ha.portalGroupName;var ia=ha.isServiceProxyEnabled;break}}g(".workspace-description",this.domNode).forEach(function(ra){l.set(ra,"innerHTML",Y.description)});ba&&ba.portalInfo&&g(".workspace-host",this.domNode).forEach(function(ra){ja=d.create("label",{innerHTML:t.encode(ba.portalInfo.name)},ra,"only")});ba&&ba.config&&(g(".workspace-contact",this.domNode).forEach(function(ra){ja=d.create("span",{"class":"collaborationClickable"},ra,"only");d.create("a",{href:"mailto:"+t.encode(ba.config.contactEmailAddress),
innerHTML:ba.fullName,"aria-label":v.substitute(da,{name:ba.fullName})},ja)}),S.showHideAll(g(".collaboration-host-contact-edit",this.domNode),W));la&&ka&&g(".workspace-group").forEach(function(ra){ja=d.create("span",{"class":"collaborationClickable"},ra,"only");d.create("a",{href:N.baseUrl+"group.html?id\x3d"+la,innerHTML:ka,target:"_blank"},ja)});ha=m.some(Y.participantGroupLinks,function(ra){return ra.config&&!0===ra.config.copyFeatureServiceData&&ra.portalId===aa&&P.includes([this.ACCESS_MODES.SEND,
this.ACCESS_MODES.SEND_AND_RECEIVE],ra.accessMode)},this);ea=m.some(Y.participantGroupLinks,function(ra){return ra.portalId===this._portal.siteInfo.siteKey&&P.includes([this.ACCESS_MODES.SEND],ra.accessMode)},this);var ma=m.some(Y.participantGroupLinks,function(ra){return ra.portalId===this._portal.siteInfo.siteKey&&P.includes([this.ACCESS_MODES.RECEIVE],ra.accessMode)},this);var na=m.some(Y.participantGroupLinks,function(ra){return ra.portalId===this._portal.siteInfo.siteKey&&P.includes([this.ACCESS_MODES.SEND_AND_RECEIVE],
ra.accessMode)},this);ea?fa=(ha?"copyFSDataEnabledSend":"copyFSDataDisabledSend")+"Portal":ma?fa="receiveDataOnly":na&&(fa=(ha?"copyFSDataEnabledSendReceive":"copyFSDataDisabledSendReceive")+"Portal");fa?l.set(this._workspaceCopyDataContainer,"innerHTML",this.i18n.collaborations[fa]):l.set(this._workspaceCopyDataContainer,"innerHTML","");this._workspaceHasViewerCredentials.textContent=ia?this.i18n.collaborations.yes:this.i18n.collaborations.no;S.showHide(this._workspaceViewerCredentialsContainer,
!this.isHostArcGISOnline(ba)&&R);S.showHideAll(g(".workspace-sync",this.domNode),!W);S.showHideAll(g(".workspace-realtime-sync",this.domNode),!W);g(".sync-last-scheduled",this.domNode).attr("innerHTML",this.i18n.collaborations.syncInfoNotAvailable);g(".sync-last-complete",this.domNode).attr("innerHTML",this.i18n.collaborations.syncInfoNotAvailable);g(".sync-next-scheduled",this.domNode).attr("innerHTML",this.i18n.collaborations.syncInfoNotAvailable);g(".sync-status",this.domNode).forEach(d.empty);
R=this._current.workspace.syncStatus;ia=this._current.workspace.schedule;if(!W&&R&&0<R.length){W=this._getLastScheduledSync(R);var pa=this._getIndexOfLastScheduledSync(R);fa=this._current.workspace.lastSyncSuccess;ha=this._current.workspace.lastScheduledSyncSummary;var sa=this._getLastRealtimeSync(R);var ta=this._getRealtimePendingCount(R);W&&W.startTime&&g(".sync-last-scheduled",this.domNode).attr("innerHTML",T.format(new Date(W.startTime),"day-short-month-year-short-time"));if(ha){var oa=this._getSyncStatusNodeProps(ba.portalId,
ha);var qa={mode:"default",participantId:ba.portalId,collaborationId:this._current.collaboration.id,workspaceId:this._current.workspace.id,lastScheduledSync:W,lastScheduledSyncIndex:pa,lastScheduledSyncSummary:ha,lastScheduledSyncStatusLabelProps:oa,syncStatus:R};g(".sync-status",this.domNode).forEach(function(ra){l.set(ra,oa);if(P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],oa["data-status"])){qa.lastScheduledSyncStatusLabelProps=oa;var va=r(ra,"click",function(){this._generateSyncStatusDlg(ra).show(qa)}.bind(this));
this._current.workspace.syncStatusHandlers.push(va);this.own(va)}},this)}0<fa?(S.showNodes(g(".workspace-sync-last-complete",this.domNode)),g(".sync-last-complete",this.domNode).attr("innerHTML",T.format(new Date(fa),"day-short-month-year-short-time"))):S.hideNodes(g(".workspace-sync-last-complete",this.domNode));if(sa&&sa.startTime&&sa.status){S.showNodes(g(".workspace-realtime-sync",this.domNode));g(".realtime-sync-last",this.domNode).attr("innerHTML",T.format(new Date(sa.startTime),"day-short-month-year-short-time"));
g(".realtime-sync-status",this.domNode).forEach(function(ra){l.set(ra,"innerHTML",this._getSyncStatusLabel(sa.status));c.add(ra,"realtime-sync-status "+this._getSyncStatusClasses(sa.status));if(P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],sa.status)){var va=r(ra,"click",function(){this._fetchCollaborationWorkspaceSyncStatusSummary(this._current.collaboration.id,this._current.workspace.id,sa.syncId).then(function(za){this._generateSyncStatusDlg(ra).show({mode:"single_realtime",
participantId:ba.portalId,collaborationId:this._current.collaboration.id,workspaceId:this._current.workspace.id,lastScheduledSync:sa,lastScheduledSyncIndex:pa,lastScheduledSyncSummary:za,lastScheduledSyncStatusLabelProps:this._getSimplifiedSyncStatusNodeProps(za)})}.bind(this))}.bind(this));this._current.workspace.syncStatusHandlers.push(va);this.own(va)}}.bind(this));var ua=P.includes([this.ACCESS_MODES.SEND_AND_RECEIVE,this.ACCESS_MODES.SEND],this._findWorkspaceAccessMode(aa,Y));g(".realtime-syncs-pending",
this.domNode).forEach(function(ra){l.set(ra,"innerHTML",ta)}.bind(this));g(".realtime-syncs-pending-container",this.domNode).forEach(function(ra){w.set(ra,"display",ua?"":"none")})}else S.hideNodes(g(".workspace-realtime-sync",this.domNode))}else g(".sync-status",this.domNode).attr({"class":"sync-status",innerHTML:this.i18n.collaborations.syncInfoNotAvailable});ia&&ia.state===this.SCHEDULE.PAUSED?g(".sync-next-scheduled",this.domNode).attr("innerHTML",this.i18n.collaborations.syncPaused):ia&&ia.nextFireTime&&
g(".sync-next-scheduled",this.domNode).attr("innerHTML",T.format(new Date(ia.nextFireTime),"day-short-month-year-short-time"))},_loadView:function(R){var Y=new y;switch(R){case this.VIEWS.COLLABORATIONS:var ba=this._loadCollaborations();break;case this.VIEWS.COLLABORATION_GUESTS:ba=this._loadGuests();break;case this.VIEWS.COLLABORATION_WORKSPACES:ba=this._loadWorkspaces();break;case this.VIEWS.GUEST:ba=this._loadGuest();break;case this.VIEWS.WORKSPACE:ba=this._loadWorkspace()}ba?ba.then(function(){Y.resolve()}):
Y.resolve();return Y},_loadCollaborations:function(){var R=this,Y=new y,ba=R._collaborationsGrid.get("store");R._collaborationsGrid.clear();R._fetchCollaborations().then(function(aa){if(aa&&aa.collaborations)for(var W=0;W<aa.collaborations.length;W++)ba.put(R._computeCollaborationProperties(aa.collaborations[W]));Y.resolve()},function(aa){Y.resolve()});return Y},_loadGuests:function(){var R=this,Y=new y,ba=R._current.mode,aa=R._current.collaboration,W=R._guestsGrid.get("store"),da,ea;R._guestsGrid.clear();
R._guestsGrid._grid.set("columns",R._createGuestsGridLayout(ba));ba={participantsResult:R._fetchCollaborationParticipants(aa.id),invitationsResult:R._fetchCollaborationInvitations(aa.id)};x(ba).then(function(ja){var fa=ja&&ja.participantsResult&&ja.participantsResult.participants;ja=ja&&ja.invitationsResult&&ja.invitationsResult.collaborationInvitations;var ha;if(fa)for(ha=0;ha<fa.length;ha++){var la=fa[ha];la.collaborationRole===R.COLLABORATION_ROLE.GUEST?W.put(R._computeParticipantProperties(la)):
la.collaborationRole===R.COLLABORATION_ROLE.HOST&&(R._current.collaborationHost=R._computeParticipantProperties(la))}if(ja)for(ha=0;ha<ja.length;ha++)da=ja[ha],(ea=!R._invitationResponseExported(da)&&!R._invitationInvalidated(da)&&!R._invitationResponseImported(da))&&W.put(R._computeParticipantProperties(da));Y.resolve()},function(ja){Y.resolve()});return Y},_loadWorkspaces:function(){var R=this,Y=new y,ba=R._current.mode,aa=R._current.collaboration,W=R._workspacesGrid.get("store"),da=R._portal.siteInfo.siteKey,
ea,ja,fa,ha;R._workspacesGrid.clear();R._workspacesGrid._grid.set("columns",R._createWorkspacesGridLayout(ba));ba={participantsResult:R._fetchCollaborationParticipants(aa.id),workspacesResult:R._fetchCollaborationWorkspaces(aa.id)};x(ba).then(function(la){ea=la&&la.participantsResult&&la.participantsResult.participants;fa=la.workspacesResult&&la.workspacesResult.workspaces;if(ea)for(ha=0;ha<ea.length;ha++)ja=ea[ha],ja.collaborationRole===R.COLLABORATION_ROLE.HOST&&(R._current.collaborationHost=R._computeParticipantProperties(ja));
if(fa){for(ha=0;ha<fa.length;ha++)W.put(R._computeWorkspaceProperties(fa[ha],da));Y.resolve()}else la.workspacesResult&&(la.workspacesResult.code||la.workspacesResult.messageCode)&&Y.resolve()},function(la){Y.resolve()});return Y},_loadGuest:function(){var R=this,Y=new y,ba=R._portal.siteInfo.siteKey,aa=R._current.mode,W=R._current.collaboration.id,da=R._current.guest,ea=R._guestGrid.get("store"),ja=aa===R.MODE.GUEST,fa=N.collaborationSettings.supportsSyncStatusView,ha=aa===R.MODE.HOST&&fa,la=!1,
ka={},ia={},ma,na,pa;R._guestGrid.clear();R._guestGrid._grid.set("columns",R._createGuestGridLayout(aa));aa={participantResult:R._fetchCollaborationParticipant(W,da.id),workspacesResult:R._fetchCollaborationWorkspaces(W)};x(aa).then(function(sa){var ta=sa.workspacesResult.workspaces;R._current.guest=R._computeParticipantProperties(sa.participantResult);R._current.guest.workspaces=ta;ma=(la=ja&&fa&&R._current.guest.portalId===ba)?R._current.collaborationHost.portalId:R._current.guest.portalId;for(sa=
0;sa<ta.length;sa++)na=R._computeWorkspaceProperties(ta[sa],R._current.guest.portalId),ha||la?ta[sa]=na:ea.put(na);ha||la?(ta.forEach(function(oa){ka[oa.id]=R._fetchCollaborationWorkspaceSyncStatus(W,oa.id,[ma])}),x(ka).then(function(oa){ta.forEach(function(qa){var ua=qa.id,ra=oa[ua].status,va=R._getLastScheduledSync(ra),za=R._getIndexOfLastScheduledSync(ra),Ca=R._getLastRealtimeSync(ra);qa.syncStatuses=ra;qa.lastScheduledSync=va;qa.lastScheduledSyncIndex=za;qa.lastRealtimeSync=Ca;qa.lastScheduledSync&&
(ia[ua]=R._fetchCollaborationWorkspaceSyncStatusSummary(W,qa.id,qa.lastScheduledSync.syncId),la&&(ia[ua+"Schedule"]=R._fetchCollaborationWorkspaceSyncSchedule(W,ua)));qa.lastRealtimeSync&&(ia[ua+"Realtime"]=R._fetchCollaborationWorkspaceSyncStatusSummary(W,qa.id,qa.lastRealtimeSync.syncId))});x(ia).then(function(qa){ta.forEach(function(ua){ua.lastScheduledSyncSummary=qa[ua.id];ua.lastRealtimeSyncSummary=qa[ua.id+"Realtime"];la&&(ua.schedule=qa[ua.id+"Schedule"]);pa=R._getSyncStatusInfo(ma,ua.lastScheduledSyncSummary);
""===pa.status&&(pa=R._getSyncStatusInfo(ma,ua.lastRealtimeSyncSummary));ua.syncStatus=pa.status;pa.status===R.SYNC_STATUS.PARTIALLY_FAILED&&(ua.syncStatusFailedCount=pa.failedCount,ua.syncStatusTotalCount=pa.totalCount);ea.put(ua)});R._guestGrid._grid.refresh();Y.resolve()},function(qa){ta.forEach(function(ua){ea.put(ua)});R._guestGrid._grid.refresh();Y.resolve()})},function(oa){ta.forEach(function(qa){ea.put(qa)});R._guestGrid._grid.refresh();Y.resolve()})):Y.resolve()},function(sa){Y.resolve()});
return Y},_loadWorkspace:function(){var R=this,Y=new y,ba=R._current.mode,aa=R._current.collaboration,W=R._current.workspace,da=R._workspaceGrid.get("store"),ea=aa.id,ja=W.id,fa=R._portal.siteInfo.siteKey,ha=[],la=ba===R.MODE.HOST,ka=N.collaborationSettings.supportsSyncStatusView,ia=ba===R.MODE.GUEST&&ka,ma={},na={},pa,sa,ta,oa,qa,ua,ra;R._workspaceGrid.clear();R._workspaceGrid._grid.set("columns",R._createWorkspaceGridLayout(ba));ba={workspaceResult:R._fetchCollaborationWorkspace(ea,ja),participantsResult:R._fetchCollaborationParticipants(ea),
syncStatusResult:ia?R._fetchCollaborationWorkspaceSyncStatus(ea,ja):null,scheduleResult:ia?R._fetchCollaborationWorkspaceSyncSchedule(ea,ja):null};x(ba).then(function(va){var za=va.participantsResult.participants;R._current.workspace=W=va.workspaceResult;R._disconnectSyncStatusHandlers();R._current.workspace.syncStatusHandlers=[];for(ra=0;ra<W.participantGroupLinks.length;ra++)if(ua=W.participantGroupLinks[ra],ua.portalId===fa){R._current.workspace.groupName=W.groupName=ua.portalGroupName;break}for(ra=
0;ra<za.length;ra++)qa=R._computeParticipantProperties(za[ra]),qa=R._computeParticipantWorkspaceProperties(qa,W),qa.collaborationRole===R.COLLABORATION_ROLE.GUEST?la&&ka?(ha.push(qa),ma[qa.id]=R._fetchCollaborationWorkspaceSyncStatus(ea,ja,[qa.id])):da.put(qa):qa.collaborationRole===R.COLLABORATION_ROLE.HOST&&(R._current.collaborationHost=qa);ia&&va.syncStatusResult&&va.scheduleResult?(R._current.workspace.syncStatus=va.syncStatusResult.status,R._current.workspace.schedule=va.scheduleResult,R._current.workspace.syncStatus?
(sa=R._getLastScheduledSync(R._current.workspace.syncStatus))&&sa.syncId?(ta=sa.syncId,R._fetchCollaborationWorkspaceSyncStatusSummary(ea,ja,ta).then(function(Ca){R._current.workspace.lastScheduledSyncSummary=Ca;Y.resolve()},function(Ca){Y.resolve()})):Y.resolve():Y.resolve()):(la&&ka&&x(ma).then(function(Ca){ha.forEach(function(wa){oa=Ca[wa.id];wa.syncStatuses=oa.status;wa.lastScheduledSync=R._getLastScheduledSync(wa.syncStatuses);wa.lastScheduledSyncIndex=R._getIndexOfLastScheduledSync(wa.syncStatuses);
wa.lastRealtimeSync=R._getLastRealtimeSync(wa.syncStatuses);wa.lastScheduledSync&&(na[wa.id]=R._fetchCollaborationWorkspaceSyncStatusSummary(ea,ja,wa.lastScheduledSync.syncId));wa.lastRealtimeSync&&(na[wa.id+"Realtime"]=R._fetchCollaborationWorkspaceSyncStatusSummary(ea,ja,wa.lastRealtimeSync.syncId))});x(na).then(function(wa){ha.forEach(function(ya){ya.lastScheduledSyncSummary=wa[ya.id];ya.lastRealtimeSyncSummary=wa[ya.id+"Realtime"];pa=R._getSyncStatusInfo(ya.id,ya.lastScheduledSyncSummary);""===
pa.status&&(pa=R._getSyncStatusInfo(ya.id,ya.lastRealtimeSyncSummary));ya.syncStatus=pa.status;pa.status===R.SYNC_STATUS.PARTIALLY_FAILED&&(ya.syncStatusFailedCount=pa.failedCount,ya.syncStatusTotalCount=pa.totalCount);da.put(ya)});R._workspaceGrid._grid.refresh();Y.resolve()},function(wa){ha.forEach(function(ya){da.put(ya)});R._workspaceGrid._grid.refresh();Y.resolve()})},function(Ca){ha.forEach(function(wa){da.put(wa)});R._workspaceGrid._grid.refresh();Y.resolve()}),Y.resolve())},function(va){Y.resolve()});
return Y},_getHomeURL:function(R){return!R||-1<R.indexOf("home")?R:"/"===R[R.length-1]?R+"home":R+"/home"},_createAccessModeSelect:function(R){R=R.access;var Y=d.create("select",{"class":"workspace-access-select"}),ba=d.create("option",null,Y),aa=d.create("option",{innerHTML:this.i18n.collaborations.accessModes[this.ACCESS_MODES.SEND],value:this.ACCESS_MODES.SEND},Y),W=d.create("option",{innerHTML:this.i18n.collaborations.accessModes[this.ACCESS_MODES.RECEIVE],value:this.ACCESS_MODES.RECEIVE},Y),
da=d.create("option",{innerHTML:this.i18n.collaborations.accessModes[this.ACCESS_MODES.SEND_AND_RECEIVE],value:this.ACCESS_MODES.SEND_AND_RECEIVE},Y);R&&(R===this.ACCESS_MODES.RECEIVE?ba=W:R===this.ACCESS_MODES.SEND?ba=aa:R===this.ACCESS_MODES.SEND_AND_RECEIVE&&(ba=da));l.set(ba,"selected",!0);return Y},_createCollaborationsGrid:function(){var R=new ca({id:"collaborations-view-grid",columns:this._createCollaborationsGridLayout(),region:"center",noDataMessage:this.i18n.collaborations.collaborationsGridNoData,
showHeader:!0,showLoadingMessage:!0,rowsPerPage:this.ITEMS_PER_PAGE,pagingLinks:!0,selectionMode:"none",idField:"id","class":"font-size--1",store:new I({idProperty:"id",label:"name",data:[]}),sort:[{attribute:"name",descending:!1}]},d.create("div",null,g(".collaborations-view-grid-container",this.domNode).shift()));R.startup();return R},_createCollaborationsGridLayout:function(){return{name:{label:this.i18n.collaborations.collaborationNameLabel,sortable:!0,renderCell:function(R){var Y=d.create("span",
{innerHTML:R.name,"class":"collaborationClickable",tabindex:"0"});R.nameClick&&R.nameClick.remove();R.nameClick=u(Y,this._collaborationNameClick.bind(this,R));return Y}.bind(this)},collaborationRole:{label:this.i18n.collaborations.participationLabel,sortable:!0,renderCell:function(R){return d.create("span",{innerHTML:this.i18n.collaborations[R.collaborationRole===this.COLLABORATION_ROLE.HOST?"hostLabel":"guestLabel"]})}.bind(this)},created:{label:this.i18n.collaborations.createDateLabel,sortable:!0,
formatter:function(R){R=new Date(parseFloat(R));return T.format(R,"long-month-day-year")}},action:{label:this.i18n.collaborations.actionLabel,sortable:!1,resizable:!1,renderCell:function(R,Y,ba,aa){Y=d.create("span");aa=this.i18n.collaborations.actionsLabel;d.create("img",{src:L.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/settings-arrow.png"),alt:aa,title:aa,tabindex:"0","class":"rtl-flip"},Y);R.actionClick&&R.actionClick.remove();R.actionClick=u(Y,this._collaborationActionClick.bind(this,
ba,R,Y));return Y}.bind(this)}}},_createGuestsGrid:function(){var R=new ca({id:"collaboration-guests-view-grid",columns:this._createGuestsGridLayout(this.MODE.HOST),region:"center",noDataMessage:this.i18n.collaborations.guestsGridNoData,showHeader:!0,showLoadingMessage:!0,rowsPerPage:this.ITEMS_PER_PAGE,pagingLinks:!0,selectionMode:"none",idField:"id",store:new I({idProperty:"id",label:"name",data:[]}),sort:[{attribute:"name",descending:!1}]},d.create("div",null,g(".collaboration-guests-view-grid-container",
this.domNode).shift()));R.startup();return R},_createGuestsGridLayout:function(R){R=R?R:this.MODE.HOST;var Y=[{field:"fullName",label:this.i18n.collaborations.guestOrgLabel,sortable:!0,renderCell:function(ba){var aa=d.create("span",{innerHTML:ba.portalName,title:ba.portalName});ba.invitationString||(c.add(aa,"collaborationClickable"),l.set(aa,"tabindex","0"),ba.nameClick&&ba.nameClick.remove(),ba.nameClick=u(aa,this._guestNameClick.bind(this,ba)));return aa}.bind(this)}];R===this.MODE.HOST&&Y.push({field:"url",
label:this.i18n.collaborations.urlLabel,sortable:!0,renderCell:function(ba){return d.create("span",{innerHTML:ba.url,title:ba.url})}.bind(this)});Y.push({field:"email",label:this.i18n.collaborations.emailLabel,sortable:!0,renderCell:function(ba){var aa=d.create("span",{"class":"collaborationClickable",tabindex:"0"});d.create("a",{href:"mailto:"+t.encode(ba.config.contactEmailAddress),innerHTML:ba.config.contactEmailAddress,title:ba.config.contactEmailAddress,"aria-label":v.substitute(this.i18n.common.sendEmailTo,
{name:ba.fullName})},aa);return aa}.bind(this)});Y.push({field:"status",label:this.i18n.collaborations.statusLabel,sortable:!0,renderCell:function(ba){var aa="";ba.status===this.STATUS.ACTIVE?aa=this.i18n.collaborations.activeLabel:ba.status===this.STATUS.PENDING&&(aa=this.i18n.collaborations.pendingLabel);return d.create("span",{innerHTML:aa,title:aa})}.bind(this)});R===this.MODE.HOST&&Y.push({field:"action",label:this.i18n.collaborations.actionLabel,sortable:!1,resizable:!1,renderCell:function(ba,
aa,W,da){aa=d.create("span",{tabindex:"0"});da=this.i18n.collaborations.actionsLabel;d.create("img",{src:L.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/settings-arrow.png"),alt:da,title:da,tabindex:"0","class":"rtl-flip"},aa);ba.actionClick&&ba.actionClick.remove();ba.actionClick=u(aa,this._guestActionClick.bind(this,W,ba,aa));return aa}.bind(this)});return Y},_createWorkspacesGrid:function(){var R=new ca({id:"collaboration-workspaces-view-grid",columns:this._createWorkspacesGridLayout(this.MODE.HOST),
region:"center",noDataMessage:this.i18n.collaborations.workspacesGridNoData,showHeader:!0,showLoadingMessage:!0,rowsPerPage:this.ITEMS_PER_PAGE,pagingLinks:!0,selectionMode:"none",idField:"id",store:new I({idProperty:"id",label:"name",data:[]}),sort:[{attribute:"name",descending:!1}]},d.create("div",null,g(".collaboration-workspaces-view-grid-container",this.domNode).shift()));R.startup();return R},_createWorkspacesGridLayout:function(R){R=R?R:this.MODE.HOST;var Y=[];Y.push({field:"name",label:this.i18n.collaborations.workspaceLabel,
sortable:!0,renderCell:function(ba){var aa=d.create("span",{innerHTML:ba.name,"class":"collaborationClickable",tabindex:"0"});ba.nameClick&&ba.nameClick.remove();ba.nameClick=u(aa,this._workspaceNameClick.bind(this,ba));return aa}.bind(this)});Y.push({field:"groupName",label:this.i18n.collaborations.groupLabel,sortable:!0,renderCell:function(ba){ba=ba.groupName||"";return d.create("span",{innerHTML:ba,title:ba})}.bind(this)});R===this.MODE.GUEST&&(Y.push({field:"access",label:this.i18n.collaborations.accessLabel,
sortable:!0,renderCell:function(ba){return d.create("span",{innerHTML:ba.access&&""!==ba.access?this.i18n.collaborations.accessModes[ba.access]:""})}.bind(this)}),Y.push({field:"status",label:this.i18n.collaborations.statusLabel,sortable:!0,renderCell:function(ba){return d.create("span",{innerHTML:ba.status})}.bind(this)}));Y.push({field:"action",label:this.i18n.collaborations.actionLabel,sortable:!1,resizable:!1,renderCell:function(ba,aa,W,da){aa=d.create("span");da=this.i18n.collaborations.actionsLabel;
d.create("img",{src:L.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/settings-arrow.png"),alt:da,title:da,tabindex:"0","class":"rtl-flip"},aa);ba.actionClick&&ba.actionClick.remove();ba.actionClick=u(aa,this._workspaceActionClick.bind(this,W,ba,aa));return aa}.bind(this)});return Y},_createGuestGrid:function(){var R=new ca({id:"guest-view-grid",columns:this._createGuestGridLayout(this.MODE.HOST),region:"center",noDataMessage:this.i18n.collaborations.guestGridNoData,showHeader:!0,
showLoadingMessage:!0,rowsPerPage:this.ITEMS_PER_PAGE,pagingLinks:!0,selectionMode:"none",idField:"id",store:new I({idProperty:"id",label:"name",data:[]}),sort:[{attribute:"name",descending:!1}]},d.create("div",null,g(".guest-view-grid-container",this.domNode).shift()));R.startup();return R},_createGuestGridLayout:function(R){R=R?R:this.MODE.HOST;var Y=N.collaborationSettings.supportsSyncStatusView,ba=R===this.MODE.HOST,aa=R===this.MODE.GUEST;R=[];R.push({field:"name",label:this.i18n.collaborations.workspaceLabel,
sortable:!0,renderCell:function(W){var da=d.create("span",{innerHTML:W.name,"class":"collaborationClickable",tabindex:"0"});W.nameClick&&W.nameClick.remove();W.nameClick=u(da,this._guestWorkspaceNameClick.bind(this,W));return da}.bind(this)});R.push({field:"access",label:this.i18n.collaborations.accessToWorkspaceLabel,sortable:!0,renderCell:function(W){return d.create("span",{innerHTML:W.access&&""!==W.access?this.i18n.collaborations.accessModes[W.access]:""})}.bind(this)});R.push({field:"status",
label:ba?this.i18n.collaborations.syncStatusLabel:this.i18n.collaborations.statusLabel,sortable:!0,renderCell:function(W){if((ba||aa)&&Y&&W.status!==this.i18n.collaborations.workspaceNotJoined)if(W.syncStatus){var da=d.create("span");var ea=this._createSyncStatusIcon(W,da);l.set(da,"innerHTML",ea);W.syncStatusClick&&W.syncStatusClick.remove();ea&&ea.indexOf("syncIconClickable")&&(W.syncStatusClick=u(da,this._guestWorkspaceSyncStatusClick.bind(this,W,da)))}else da=this._current.guest&&this._current.guest.config&&
P.includes(["10.5.0","10.5.1"],this._current.guest.config.portalVersion)?d.create("span",{innerHTML:this.i18n.collaborations.syncNotSupported,title:this.i18n.collaborations.syncNotSupported}):d.create("span",{innerHTML:this.i18n.collaborations.syncPending,title:this.i18n.collaborations.syncPending});else da=d.create("span",{innerHTML:W.status,title:W.status});return da}.bind(this)});return R},_createWorkspaceGrid:function(){var R=new ca({id:"workspace-view-grid",columns:this._createWorkspaceGridLayout(this.MODE.HOST),
region:"center",noDataMessage:this.i18n.collaborations.workspaceGridNoData,showHeader:!0,showLoadingMessage:!0,rowsPerPage:this.ITEMS_PER_PAGE,pagingLinks:!0,selectionMode:"none",idField:"id",store:new I({idProperty:"id",label:"name",data:[]}),sort:[{attribute:"id",descending:!1}]},d.create("div",null,g(".workspace-view-grid-container",this.domNode).shift()));R.startup();return R},_createWorkspaceGridLayout:function(R){R=R?R:this.MODE.HOST;var Y=N.collaborationSettings.supportsSyncStatusView,ba=R===
this.MODE.HOST;R=[];R.push({field:"fullName",label:this.i18n.collaborations.guestOrgLabel,sortable:!0,renderCell:function(aa){var W=d.create("span",{innerHTML:aa.portalName,"class":"collaborationClickable",tabindex:"0"});aa.nameClick&&aa.nameClick.remove();aa.nameClick=u(W,this._workspaceGuestNameClick.bind(this,aa));return W}.bind(this)});R.push({field:"access",label:this.i18n.collaborations.accessLabel,sortable:!0,renderCell:function(aa){if(ba){var W=this._createAccessModeSelect(aa);aa.accessModeChange&&
aa.accessModeChange.remove();aa.accessModeChange=r(W,"change",this._participantAccessModeChange.bind(this,aa))}else aa=aa.access&&""!==aa.access?this.i18n.collaborations.accessModes[aa.access]:"",W=d.create("span",{innerHTML:aa});return W}.bind(this)});R.push({field:"status",label:ba?this.i18n.collaborations.syncStatusLabel:this.i18n.collaborations.statusLabel,sortable:!0,renderCell:function(aa){if(ba&&Y&&aa.status!==this.i18n.collaborations.workspaceNotJoined)if(aa.syncStatus){var W=d.create("span");
var da=this._createSyncStatusIcon(aa,W);l.set(W,"innerHTML",da);aa.syncStatusClick&&aa.syncStatusClick.remove();da&&da.indexOf("syncIconClickable")&&(aa.syncStatusClick=u(W,this._workspaceGuestSyncStatusClick.bind(this,aa,W)))}else W=aa.config&&P.includes(["10.5.0","10.5.1"],aa.config.portalVersion)?d.create("span",{innerHTML:this.i18n.collaborations.syncNotSupported,title:this.i18n.collaborations.syncNotSupported}):d.create("span",{innerHTML:this.i18n.collaborations.syncPending,title:this.i18n.collaborations.syncPending});
else W=d.create("span",{innerHTML:aa.status,title:aa.status});return W}.bind(this)});return R},_createSyncStatusIcon:function(R){var Y=this.i18n.collaborations.syncInfoNotAvailable,ba=["syncStatusIcon"],aa=R.lastRealtimeSync||{},W=R.lastRealtimeSyncSummary||{};if(R.syncStatus===this.SYNC_STATUS.PARTIALLY_FAILED||R.syncStatus===this.SYNC_STATUS.FAILED){var da=L.relativeToExplicitUrl("js/arcgisonline/img/toast-icons/Error16.svg");R.syncStatus===this.SYNC_STATUS.PARTIALLY_FAILED?Y=v.substitute(this.i18n.collaborations.syncXOfYFailedTooltip,
{x:R.syncStatusFailedCount,y:R.syncStatusTotalCount}):R.syncStatus===this.SYNC_STATUS.FAILED&&(Y=this.i18n.collaborations.syncFailedTooltip);ba.push("syncIconClickable")}else R.syncStatus===this.SYNC_STATUS.IN_PROGRESS?(da=L.relativeToExplicitUrl("js/arcgisonline/img/ft-loading-indicator16.gif"),Y=this.i18n.collaborations.syncInProgressTooltip):aa.status===this.SYNC_STATUS.FAILED?(da=L.relativeToExplicitUrl("js/arcgisonline/img/toast-icons/Error16.svg"),Y=this.i18n.collaborations.syncFailedTooltip,
ba.push("syncIconClickable")):aa.status===this.SYNC_STATUS.PARTIALLY_FAILED?(Y=W.participants.filter(function(ea){return ea.participantId===R.id},this).shift(),(Y=(Y&&Y.taskStatus||[]).filter(function(ea){return ea.status===this.SYNC_STATUS.FAILED},this))&&0<Y.length?(da=L.relativeToExplicitUrl("js/arcgisonline/img/toast-icons/Error16.svg"),Y=this.i18n.collaborations.syncFailedTooltip):(da=L.relativeToExplicitUrl("js/arcgisonline/img/toast-icons/Success16.svg"),Y=this.i18n.collaborations.syncSucceededTooltip),
ba.push("syncIconClickable")):R.syncStatus===this.SYNC_STATUS.COMPLETED&&(da=L.relativeToExplicitUrl("js/arcgisonline/img/toast-icons/Success16.svg"),Y=this.i18n.collaborations.syncSucceededTooltip,ba.push("syncIconClickable"));return da?'\x3cimg src\x3d"'+da+'" alt\x3d"'+Y+'" title\x3d"'+Y+'" class\x3d"'+ba.join(" ")+'"\x3e':""},_computeCollaborationProperties:function(R){R=f.clone(R);R.collaborationRole=R.collaborationHostPortalId&&R.collaborationHostPortalId===this._portal.siteInfo.siteKey?this.COLLABORATION_ROLE.HOST:
this.COLLABORATION_ROLE.GUEST;return R},_invitationResponseExported:function(R){return!(!R||!R.status||R.status!==this.INVITATION_STATUS.GUEST_RESPONSE_EXPORTED)},_invitationInvalidated:function(R){return!(!R||!R.status||R.status!==this.INVITATION_STATUS.HOST_INVALIDATED)},_invitationResponseImported:function(R){return!(!R||!R.status||R.status!==this.INVITATION_STATUS.HOST_IMPORTED_RESPONSE)},_computeParticipantProperties:function(R){var Y=f.clone(R);Y.id=Y.invitationString?Y.id:Y.portalInfo.id;Y.portalInfo&&
(Y.portalId=Y.portalInfo.id);Y.url=Y.invitationString?Y.guestPortalUrl:Y.portalInfo.url;Y.status=Y.invitationString?this.STATUS.PENDING:Y.status;Y.collaborationRole=Y.invitationString?this.COLLABORATION_ROLE.GUEST:Y.collaborationRole;Y.fullName=this._computeParticipantName(Y);Y.portalName=R.portalInfo&&R.portalInfo.name||"";return Y},_computeParticipantName:function(R){R.invitationString&&p.parse(R.invitationString).invitationRequest&&(R.config={contactEmailAddress:"",contactFirstname:"",contactLastname:""});
return R.config&&R.config.contactFirstname&&R.config.contactLastname?"ja"===k.locale?R.config.contactLastname+" "+R.config.contactFirstname:R.config.contactFirstname+" "+R.config.contactLastname:""},_computeParticipantWorkspaceProperties:function(R,Y){var ba=this._hasJoinedWorkspace(Y,R.portalInfo.id),aa=R.portalInfo.id,W;R.status=this.i18n.collaborations[ba?"workspaceJoined":"workspaceNotJoined"];if(ba&&Y.participantGroupLinks)for(W=0;W<Y.participantGroupLinks.length;W++){if(ba=Y.participantGroupLinks[W],
ba.portalId===aa){R.access=ba.accessMode;break}}else if(Y.participantsWithoutGroupLinks)for(W=0;W<Y.participantsWithoutGroupLinks.length;W++)if(ba=Y.participantsWithoutGroupLinks[W],ba.portalId===aa){R.access=ba.accessMode;break}return R},_computeWorkspaceProperties:function(R,Y){var ba=f.clone(R),aa=!1,W;if(R.participantGroupLinks)for(W=0;W<R.participantGroupLinks.length;W++){var da=R.participantGroupLinks[W];if(da.portalId===Y){aa=!0;ba.groupName=da.portalGroupName;ba.access=da.accessMode;ba.status=
this.i18n.collaborations.workspaceJoined;break}}if(!aa&&R.participantsWithoutGroupLinks)for(W=0;W<R.participantsWithoutGroupLinks.length;W++)if(da=R.participantsWithoutGroupLinks[W],da.portalId===Y){aa=!0;ba.access=da.accessMode;ba.status=this.i18n.collaborations.workspaceNotJoined;break}aa||(ba.access="",ba.status=this.i18n.collaborations.workspaceNotJoined);return ba},_createCollaborationClick:function(){this._generateCreateCollaborationDlg().show(this._portal.siteInfo.version)},_acceptInvitationClick:function(){this._generateAcceptCollaborationInviteDlg().show()},
_inviteGuestClick:function(){this._generateInviteCollaborationGuestDlg().show(this._current.collaboration)},_viewWorkspacesClick:function(){var R=this;R._breadcrumbs.drop();R._breadcrumbs.add({label:v.substitute(R.i18n.collaborations.workspacesBreadLabel,{name:R._current.collaboration.name}),click:function(){R.goToView(R.VIEWS.COLLABORATION_WORKSPACES)}});R.goToView(R.VIEWS.COLLABORATION_WORKSPACES)},_createWorkspaceClick:function(){this._generateCreateWorkspaceDlg().show(this._current.collaborationHost,
this._current.collaboration)},_viewGuestsClick:function(){var R=this;R._breadcrumbs.drop();R._breadcrumbs.add({label:v.substitute(R.i18n.collaborations.guestsBreadLabel,{name:R._current.collaboration.name}),click:function(){R.goToView(R.VIEWS.COLLABORATION_GUESTS)}});R.goToView(R.VIEWS.COLLABORATION_GUESTS)},_editContactPersonClick:function(){var R=this._current.collaboration,Y=this._current.guest,ba=Y.portalInfo.id;this._current.mode===this.MODE.GUEST&&ba===this._portal.siteInfo.siteKey&&this._generateEditCollaborationGuestDlg().show(R,
Y,!0)},_editHostContactPersonClick:function(){var R=this._current.collaboration,Y=this._current.collaborationHost;Y.portalInfo.id===this._portal.siteInfo.siteKey&&this._generateEditCollaborationGuestDlg().show(R,Y,!0)},_editHostWebAuthClick:function(){var R=this._current.collaboration,Y=this._current.collaborationHost,ba=Y.portalInfo.id===this._portal.siteInfo.siteKey;this._generateWebAuthDlg().show(R,Y,ba)},_editGuestWebAuthClick:function(){var R=this._current.collaboration,Y=this._current.guest,
ba=this._current.collaborationHost.portalInfo.id===this._portal.siteInfo.siteKey;this._generateWebAuthDlg().show(R,Y,ba)},_editViewerCredentialsClick:function(){var R=this._current.collaboration,Y=this._current.workspace,ba=!1;if(Y.participantGroupLinks)for(i=0;i<Y.participantGroupLinks.length;i++)if(groupLink=Y.participantGroupLinks[i],groupLink.portalId===this._portal.siteInfo.siteKey){ba=groupLink.isServiceProxyEnabled;break}this._generateEditViewerCredentialsDlg().show(R,Y,ba)},_resetClick:function(){this._disconnectSyncStatusHandlers();
this._current.view=void 0;this._current.collaboration=void 0;this._current.collaborationHost=void 0;this._current.guest=void 0;this._current.workspace=void 0;this._current.mode=void 0;this._breadcrumbs.reset();return this.goToView(this.VIEWS.COLLABORATIONS)},_collaborationNameClick:function(R){var Y=this;Y._current.collaboration=R;Y._current.mode=R.collaborationHostPortalId===this._portal.siteInfo.siteKey?Y.MODE.HOST:Y.MODE.GUEST;Y._breadcrumbs.add({label:v.substitute(Y.i18n.collaborations.workspacesBreadLabel,
{name:R.name}),click:function(){Y.goToView(Y.VIEWS.COLLABORATION_WORKSPACES)}});Y.goToView(Y.VIEWS.COLLABORATION_WORKSPACES)},_guestNameClick:function(R){var Y=this;Y._current.guest=R;Y._breadcrumbs.add({label:R.portalName,click:function(){Y.goToView(Y.VIEWS.GUEST)}});Y.goToView(Y.VIEWS.GUEST)},_guestWorkspaceNameClick:function(R){var Y=this;Y._current.workspace=R;Y._breadcrumbs.drop();Y._breadcrumbs.add({label:R.name,click:function(){Y.goToView(Y.VIEWS.WORKSPACE)}});Y.goToView(Y.VIEWS.WORKSPACE)},
_guestWorkspaceSyncStatusClick:function(R,Y){this._syncTooltipDlg&&this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);var ba=d.create("div"),aa=R.lastScheduledSync,W=R.lastScheduledSyncIndex,da=R.lastScheduledSyncSummary,ea=R.lastRealtimeSyncSummary,ja=this._getSyncStatusNodeProps(this._current.guest.id,da),fa=R.lastSyncSuccess,ha=R.schedule,la=this._getLastRealtimeSync(R.syncStatuses),ka=this._getRealtimePendingCount(R.syncStatuses),ia=aa&&aa.status===this.SYNC_STATUS.COMPLETED,ma=ha&&ha.nextFireTime,
na=la&&la.startTime&&la.status,pa=d.create("span",null,ba),sa=d.create("span",null,ba),ta=d.create("span",null,ba),oa=d.create("span",null,ba),qa=d.create("span",null,ba),ua=d.create("span",null,ba),ra=d.create("span",null,ba),va=d.create("span",null,ba),za=d.create("span",null,ba);c.add(ba,"workspace-sync-tooltip-content");d.create("strong",{innerHTML:this.i18n.collaborations.syncScheduled,"class":"hasTooltip"},pa);d.create("br",null,pa,"after");this.own(r(pa,n.enter,function(){this._createOneTimeTooltip(this.i18n.collaborations.syncScheduledTooltip,
pa,!0)}.bind(this)));d.create("strong",{innerHTML:this.i18n.collaborations.syncLastScheduled+" ","class":"esriLeadingMargin1"},sa);d.create("span",{innerHTML:T.format(new Date(aa.startTime),"day-short-month-year-short-time")},sa);d.create("br",null,sa,"after");d.create("strong",{innerHTML:this.i18n.collaborations.syncStatus+" ","class":"esriLeadingMargin1"},ta);var Ca=d.create("span",ja,ta);d.create("br",null,ta,"after");ia?S.hideNode(oa):(d.create("strong",{innerHTML:this.i18n.collaborations.syncLastComplete+
" ","class":"esriLeadingMargin1"},oa),d.create("span",{innerHTML:0<fa?T.format(new Date(fa),"day-short-month-year-short-time"):this.i18n.collaborations.syncInfoNotAvailable},oa),d.create("br",null,oa,"after"));ma?(d.create("strong",{innerHTML:this.i18n.collaborations.syncNextScheduled+" ","class":"esriLeadingMargin1"},qa),d.create("span",{innerHTML:ha&&ha.nextFireTime?T.format(new Date(ha.nextFireTime),"day-short-month-year-short-time"):this.i18n.collaborations.syncInfoNotAvailable},qa),d.create("br",
null,qa,"after")):S.hideNode(qa);if(na){d.create("strong",{innerHTML:this.i18n.collaborations.syncImmediate,"class":"hasTooltip"},ua);d.create("br",null,ua,"after");this.own(r(ua,n.enter,function(){this._createOneTimeTooltip(this.i18n.collaborations.syncImmediateTooltip,ua,!0)}.bind(this)));d.create("strong",{innerHTML:this.i18n.collaborations.syncLastScheduled+" ","class":"esriLeadingMargin1"},ra);d.create("span",{innerHTML:T.format(new Date(la.startTime),"day-short-month-year-short-time")},ra);
d.create("br",null,ra,"after");d.create("strong",{innerHTML:this.i18n.collaborations.syncStatus+" ","class":"esriLeadingMargin1"},va);var wa=d.create("span",{innerHTML:this._getRealtimeSyncStatusLabel(this._current.guest.id,la.status,ea)},va);d.create("br",null,va,"after");this._canViewPending(this._current.guest,R)&&(d.create("strong",{innerHTML:this.i18n.collaborations.syncsPending+" ","class":"esriLeadingMargin1"},za),d.create("span",{innerHTML:ka},za),d.create("br",null,za,"after"))}else S.hideNodes([ua,
ra,va]);this._syncTooltipDlgStatusHandler&&this._syncTooltipDlgStatusHandler.remove();this._syncRealtimeTooltipDlgStatusHandler&&this._syncRealtimeTooltipDlgStatusHandler.remove();P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],ja["data-status"])&&(this._syncTooltipDlgStatusHandler=r(Ca,"click",function(){this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);this._generateSyncStatusDlg(Ca).show({participantId:this._current.guest.id,collaborationId:this._current.collaboration.id,
workspaceId:R.id,lastScheduledSync:aa,lastScheduledSyncIndex:W,lastScheduledSyncSummary:da,syncStatus:R.syncStatuses,lastScheduledSyncStatusLabelProps:ja})}.bind(this)),this.own(this._syncTooltipDlgStatusHandler));na&&P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],la.status)&&(this._syncRealtimeTooltipDlgStatusHandler=r(wa,"click",function(){this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);aa&&!P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],aa.status)?
this._fetchCollaborationWorkspaceSyncStatusSummary(this._current.collaboration.id,R.id,la.syncId).then(function(ya){this._generateSyncStatusDlg(wa).show({mode:"single_realtime",participantId:this._current.guest.id,collaborationId:this._current.collaboration.id,workspaceId:R.id,lastScheduledSync:la,lastScheduledSyncIndex:W,lastScheduledSyncSummary:ya,lastScheduledSyncStatusLabelProps:this._getSyncStatusNodeProps(this._current.guest.id,ya)})}.bind(this)):this._generateSyncStatusDlg(wa).show({participantId:this._current.guest.id,
collaborationId:this._current.collaboration.id,workspaceId:R.id,lastScheduledSync:aa,lastScheduledSyncIndex:W,lastScheduledSyncSummary:da,syncStatus:R.syncStatuses,lastScheduledSyncStatusLabelProps:ja})}.bind(this)),this.own(this._syncRealtimeTooltipDlgStatusHandler));this._syncTooltipDlg=this._generateTooltipDlg("",ba,Y);this._openTooltipDlg(this._syncTooltipDlg,Y)},_workspaceGuestNameClick:function(R){var Y=this;Y._current.guest=R;Y._breadcrumbs.drop();Y._breadcrumbs.add({label:R.portalName,click:function(){Y.goToView(Y.VIEWS.GUEST)}});
Y.goToView(Y.VIEWS.GUEST)},_workspaceNameClick:function(R){var Y=this;Y._current.workspace=R;Y._breadcrumbs.add({label:R.name,click:function(){Y.goToView(Y.VIEWS.WORKSPACE)}});Y.goToView(Y.VIEWS.WORKSPACE)},_workspaceGuestSyncStatusClick:function(R,Y){this._syncTooltipDlg&&this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);var ba=d.create("div"),aa=R.lastScheduledSync,W=R.lastScheduledSyncIndex,da=R.lastScheduledSyncSummary,ea=this._getSyncStatusNodeProps(R.id,da),ja=this._current.workspace.lastSyncSuccess,
fa=d.create("span",null,ba),ha=d.create("span",null,ba),la=this._getLastRealtimeSync(R.syncStatuses),ka=R.lastRealtimeSyncSummary,ia=this._getRealtimePendingCount(R.syncStatuses),ma=aa&&aa.status===this.SYNC_STATUS.COMPLETED,na=la&&la.startTime&&la.status,pa=d.create("span",null,ba),sa=d.create("span",null,ba),ta=d.create("span",null,ba),oa=d.create("span",null,ba),qa=d.create("span",null,ba),ua=d.create("span",null,ba);c.add(ba,"workspace-sync-tooltip-content");d.create("strong",{innerHTML:this.i18n.collaborations.syncScheduled,
"class":"hasTooltip"},fa);d.create("br",null,fa,"after");this.own(r(fa,n.enter,function(){this._createOneTimeTooltip(this.i18n.collaborations.syncScheduledTooltip,fa,!0)}.bind(this)));d.create("strong",{innerHTML:this.i18n.collaborations.syncLastScheduled+" ","class":"esriLeadingMargin1"},ha);d.create("span",{innerHTML:T.format(new Date(aa.startTime),"day-short-month-year-short-time")},ha);d.create("br",null,ha,"after");d.create("strong",{innerHTML:this.i18n.collaborations.syncStatus+" ","class":"esriLeadingMargin1"},
pa);var ra=d.create("span",ea,pa);d.create("br",null,pa,"after");ma?S.hideNode(sa):(d.create("strong",{innerHTML:this.i18n.collaborations.syncLastComplete+" ","class":"esriLeadingMargin1"},sa),d.create("span",{innerHTML:0<ja?T.format(new Date(ja),"day-short-month-year-short-time"):this.i18n.collaborations.syncInfoNotAvailable},sa),d.create("br",null,sa,"after"));if(na){d.create("strong",{innerHTML:this.i18n.collaborations.syncImmediate,"class":"hasTooltip"},ta);d.create("br",null,ta,"after");this.own(r(ta,
n.enter,function(){this._createOneTimeTooltip(this.i18n.collaborations.syncImmediateTooltip,ta,!0)}.bind(this)));d.create("strong",{innerHTML:this.i18n.collaborations.syncLastScheduled+" ","class":"esriLeadingMargin1"},oa);d.create("span",{innerHTML:T.format(new Date(la.startTime),"day-short-month-year-short-time")},oa);d.create("br",null,oa,"after");d.create("strong",{innerHTML:this.i18n.collaborations.syncStatus+" ","class":"esriLeadingMargin1"},qa);var va=d.create("span",{innerHTML:this._getRealtimeSyncStatusLabel(R.id,
la.status,ka)},qa);d.create("br",null,qa,"after");this._canViewPending(R,this._current.workspace)&&(d.create("strong",{innerHTML:this.i18n.collaborations.syncsPending+" ","class":"esriLeadingMargin1"},ua),d.create("span",{innerHTML:ia},ua),d.create("br",null,ua,"after"))}else S.hideNodes([ta,oa,qa]);this._syncTooltipDlgStatusHandler&&this._syncTooltipDlgStatusHandler.remove();this._syncRealtimeTooltipDlgStatusHandler&&this._syncRealtimeTooltipDlgStatusHandler.remove();P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,
this.SYNC_STATUS.FAILED],ea["data-status"])&&(this._syncTooltipDlgStatusHandler=r(ra,"click",function(){this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);this._generateSyncStatusDlg(ra).show({participantId:R.id,collaborationId:this._current.collaboration.id,workspaceId:this._current.workspace.id,lastScheduledSync:aa,lastScheduledSyncIndex:W,lastScheduledSyncSummary:da,syncStatus:R.syncStatuses,lastScheduledSyncStatusLabelProps:ea})}.bind(this)),this.own(this._syncTooltipDlgStatusHandler));na&&
P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],la.status)&&(this._syncRealtimeTooltipDlgStatusHandler=r(va,"click",function(){this._closeAndDestroyTooltipDlg(this._syncTooltipDlg);aa&&!P.includes([this.SYNC_STATUS.PARTIALLY_FAILED,this.SYNC_STATUS.FAILED],aa.status)?this._fetchCollaborationWorkspaceSyncStatusSummary(this._current.collaboration.id,this._current.workspace.id,la.syncId).then(function(za){this._generateSyncStatusDlg(va).show({mode:"single_realtime",participantId:R.id,
collaborationId:this._current.collaboration.id,workspaceId:this._current.workspace.id,lastScheduledSync:la,lastScheduledSyncIndex:W,lastScheduledSyncSummary:za,lastScheduledSyncStatusLabelProps:this._getSyncStatusNodeProps(R.id,za)})}.bind(this)):this._generateSyncStatusDlg(va).show({participantId:R.id,collaborationId:this._current.collaboration.id,workspaceId:this._current.workspace.id,lastScheduledSync:aa,lastScheduledSyncIndex:W,lastScheduledSyncSummary:da,syncStatus:R.syncStatuses,lastScheduledSyncStatusLabelProps:ea})}.bind(this)),
this.own(this._syncRealtimeTooltipDlgStatusHandler));this._syncTooltipDlg=this._generateTooltipDlg("",ba,Y);this._openTooltipDlg(this._syncTooltipDlg,Y)},_canViewPending:function(R,Y){var ba=this._current.mode===this.MODE.HOST;R=this._findWorkspaceAccessMode(R.portalId,Y);var aa=!1,W=!1;ba?aa=!0:(Y=this._findWorkspaceAccessMode(this._portal.siteInfo.siteKey,Y),aa=P.includes([this.ACCESS_MODES.SEND_AND_RECEIVE,this.ACCESS_MODES.SEND],Y));W=P.includes([this.ACCESS_MODES.SEND_AND_RECEIVE,this.ACCESS_MODES.RECEIVE],
R);return aa&&W},_collaborationActionClick:function(R,Y,ba){var aa=this,W=new y,da=Y.collaborationRole===aa.COLLABORATION_ROLE.HOST?aa.MODE.HOST:aa.MODE.GUEST,ea=aa._collaborationsActionMenu,ja=!1;aa._current.collaboration=Y;aa._current.returnFocusNode=aa._getActionImageNode(ba);g(".collaborations-action-menu-item").forEach(function(fa){w.set(fa,"display","none")});da===aa.MODE.HOST?(w.set(aa._collaborationEditAction.domNode,"display",""),w.set(aa._collaborationDeleteAction.domNode,"display",""),
ja=!0,W.resolve()):da===aa.MODE.GUEST&&aa._fetchCollaborationParticipant(aa._current.collaboration.id,aa._portal.siteInfo.siteKey).then(function(fa){aa._fetchCollaborationInvitations(aa._current.collaboration.id).then(function(ha){ha=ha.collaborationInvitations;var la=!1,ka;if(ha)for(ka=0;ka<ha.length;ka++)if(ha[ka].guestPortalId===aa._portal.siteInfo.siteKey){la=!0;break}w.set(aa._collaborationSaveResponseAction.domNode,"display",la?"":"none");(aa._portal.self.isPortal||N.collaborationDeletePolicyEnabled)&&
w.set(aa._collaborationGuestEditAction.domNode,"display","");w.set(aa._collaborationLeaveAction.domNode,"display","");if(la||fa.status===aa.STATUS.ACTIVE)ja=!0;W.resolve()},function(ha){W.resolve()})},function(fa){W.resolve()});W.then(function(){ja&&(z.open({popup:ea,around:R,onExecute:function(){z.close(ea)},onCancel:function(){z.close(ea)}}),ea.focus())})},_guestActionClick:function(R,Y,ba){var aa=this._guestsActionMenu,W=!1;this._current.guest=Y;this._current.returnFocusNode=this._getActionImageNode(ba);
g(".collaboration-guests-action-menu-item").forEach(function(da){w.set(da,"display","none")});b.isDefined(Y.invitationString)&&Y.status===this.STATUS.PENDING?(w.set(this._guestAcceptAction.domNode,"display",""),w.set(this._guestReissueAction.domNode,"display",""),w.set(this._guestInvalidateAction.domNode,"display",""),W=!0):Y.status===this.STATUS.ACTIVE&&(w.set(this._guestEditAction.domNode,"display",""),w.set(this._guestRemoveAction.domNode,"display",Y.collaborationRole===this.COLLABORATION_ROLE.GUEST?
"":"none"),W=!0);W&&(z.open({popup:aa,around:R,onExecute:function(){z.close(aa)},onCancel:function(){z.close(aa)}}),aa.focus())},_workspaceActionClick:function(R,Y,ba){var aa=this,W=aa._portal.self.isPortal,da=aa._portal.siteInfo.siteKey,ea=aa._workspacesActionMenu,ja=!1;aa._current.workspace=Y;aa._current.returnFocusNode=aa._getActionImageNode(ba);g(".collaboration-workspaces-action-menu-item").forEach(function(fa){w.set(fa,"display","none")});Y=aa._collabDlgMixin._findWorkspaceGroupLink(da,aa._current.workspace);
W&&Y&&b.isDefined(Y.canSyncWorkspace)&&!0===Y.canSyncWorkspace?(aa._workspaceSyncAction.set("disabled",!0),w.set(aa._workspaceSyncAction.domNode,"display",""),ja=!0,aa._fetchCollaborationWorkspaceSyncStatus(aa._current.collaboration.id,aa._current.workspace.id).then(function(fa){fa&&!fa.code&&(aa._current.workspace.syncStatus=fa.status,fa=aa._getLastScheduledSync(aa._current.workspace.syncStatus),!fa||fa&&!P.includes([aa.SYNC_STATUS.STARTED,aa.SYNC_STATUS.PENDING,aa.SYNC_STATUS.IN_PROGRESS],fa.status)?
(aa._workspaceSyncAction.set("disabled",!1),aa.MODE.GUEST===aa._current.mode&&aa._fetchCollaborationWorkspaceSyncSchedule(aa._current.collaboration.id,aa._current.workspace.id).then(function(ha){ha.state===aa.SCHEDULE.PAUSED?(w.set(aa._workspaceResumeSyncAction.domNode,"display",""),aa._workspaceResumeSyncAction.set("disabled",!1)):ha.state===aa.SCHEDULE.NORMAL&&w.set(aa._workspacePauseSyncAction.domNode,"display","")})):aa.MODE.GUEST===aa._current.mode&&fa&&P.includes([aa.SYNC_STATUS.STARTED,aa.SYNC_STATUS.PENDING,
aa.SYNC_STATUS.IN_PROGRESS],fa.status)&&aa._fetchCollaborationWorkspaceSyncSchedule(aa._current.collaboration.id,aa._current.workspace.id).then(function(ha){ha.state===aa.SCHEDULE.PAUSED?(w.set(aa._workspaceResumeSyncAction.domNode,"display",""),aa._workspaceResumeSyncAction.set("disabled",!0)):ha.state===aa.SCHEDULE.NORMAL&&w.set(aa._workspacePauseSyncAction.domNode,"display","")}))},function(fa){aa._workspaceSyncAction.set("disabled",!0)})):w.set(aa._workspaceSyncAction.domNode,"display","none");
aa.MODE.HOST===aa._current.mode?(w.set(aa._workspaceEditAction.domNode,"display",""),w.set(aa._workspaceDeleteAction.domNode,"display",""),ja=!0):aa.MODE.GUEST===aa._current.mode&&(aa._hasJoinedWorkspace(aa._current.workspace,aa._portal.siteInfo.siteKey)?(w.set(aa._workspaceEditAction.domNode,"display",""),w.set(aa._workspaceLeaveAction.domNode,"display","")):w.set(aa._workspaceJoinAction.domNode,"display",""),ja=!0);ja&&(z.open({popup:ea,around:R,onExecute:function(){z.close(ea)},onCancel:function(){z.close(ea)}}),
ea.focus())},_participantAccessModeChange:function(R,Y){var ba=this,aa=ba._current.collaboration,W=ba._current.workspace,da=l.get(Y.target,"value"),ea=R.portalInfo.id,ja,fa,ha;da?ba._updateParticipantAccessMode(aa.id,W.id,ea,da).then(function(la){if(la&&(la.code||!1===la.success))K.createConfirmationDialog({strings:{title:ba.i18n.common.errorTitle,description:v.substitute(ba.i18n.collaborations.accessModeUpdateError,{mode:da,name:R.fullName})},autoCloseOnOk:!0,hideCancel:!0});else for(R.access=da,
ja=ba._hasJoinedWorkspace(W,ea)?W.participantGroupLinks:W.participantsWithoutGroupLinks,ha=0;ha<ja.length;ha++)if(fa=ja[ha],fa.portalId===R.portalInfo.id){fa.accessMode=da;break}},function(la){K.createConfirmationDialog({strings:{title:ba.i18n.common.errorTitle,description:v.substitute(ba.i18n.collaborations.accessModeUpdateError,{mode:da,name:R.fullName})},autoCloseOnOk:!0,hideCancel:!0})}):(aa=ba._findWorkspaceAccessMode(ea,W),l.set(Y.target,"value",aa))},_refreshCollaborations:function(){this._breadcrumbs.reset();
this.goToView(this.VIEWS.COLLABORATIONS)},_refreshCollaborationsAndInviteGuest:function(R){var Y=this;R=R.collaboration;Y._current.mode=Y.MODE.HOST;Y._current.collaboration=R;Y._breadcrumbs.reset();Y._breadcrumbs.add({label:v.substitute(Y.i18n.collaborations.guestsBreadLabel,{name:R.name}),click:function(){Y.goToView(Y.VIEWS.COLLABORATION_GUESTS)}});Y.goToView(Y.VIEWS.COLLABORATION_GUESTS);Y._inviteGuestClick()},_collaborationsActionMenuBlur:function(){z.close(this._collaborationsActionMenu)},_collaborationEditClick:function(){var R=
this,Y=R._current.collaboration;R._fetchCollaborationParticipant(Y.id,R._portal.siteInfo.siteKey).then(function(ba){R._generateEditCollaborationDlg(R._current.returnFocusNode).show(ba,Y)},function(ba){})},_collaborationDeleteClick:function(){var R=this,Y=R._current.collaboration,ba=Y.name,aa=R._current.returnFocusNode,W=R._createCollaborationBtn;this._fetchDeletePolicy().then(function(da){var ea=da.deleteItemsSharedToCollaboration?R.i18n.collaborations.deleteRemoveSent:R.i18n.collaborations.deleteNoRemoveSent;
da=da.deleteItemsReceivedFromCollaboration?R.i18n.collaborations.deleteRemoveReceived:R.i18n.collaborations.deleteNoRemoveReceived;var ja="\x3cspan class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.collaborationDeleteMsg+"\x3c/span\x3e";if(R._portal.self.isPortal||N.collaborationDeletePolicyEnabled)ja="\x3cstrong class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.collaborationDeleteMsg+"\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3e"+ea+"\x3cbr\x3e\x3cbr\x3e"+da+"\x3cbr\x3e\x3cbr\x3e"+R.i18n.collaborations.collaborationDeleteTip;
K.createConfirmationDialog({strings:{title:R.i18n.collaborations.collaborationDeleteLabel,description:v.substitute(ja,{collaboration:ba}),ok:R.i18n.collaborations.collaborationDeleteLabel},okColor:"red",autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){R._deleteCollaboration(Y.id).then(function(fa){fa&&(fa.code||!1===fa.success)?R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.collaborationDeleteError,{collaboration:ba})},aa):(R._generateGeneralConfirmation({title:R.i18n.common.notice,
description:v.substitute(R.i18n.collaborations.collaborationDeleteSuccess,{collaboration:ba})},W),R.refresh())},function(fa){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.collaborationDeleteError,{collaboration:ba})},aa)})},onCancel:function(){R._focusOn(aa)}})},function(da){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.collaborationDeleteError,{collaboration:ba})},opener)})},
_fetchDeletePolicy:function(){return L.request({url:v.substitute("${baseUrl}portals/self/collaborations/${collaboration}/participants",{baseUrl:this._getRestURL(),collaboration:this._current.collaboration.id})}).then(function(R){return(R=R.participants.filter(function(Y){return Y.portalInfo.id===this._portal.siteInfo.siteKey}.bind(this))[0].config.collaborationItemDeletePolicy)?R:{deleteItemsSharedToCollaboration:!1,deleteItemsReceivedFromCollaboration:!1}}.bind(this),function(R){throw R;})},_collaborationLeaveClick:function(){var R=
this,Y=R._current.collaboration,ba=Y.id,aa=Y.name,W=R._current.returnFocusNode,da=R._createCollaborationBtn;this._fetchDeletePolicy().then(function(ea){var ja=ea.deleteItemsSharedToCollaboration?R.i18n.collaborations.deleteRemoveSent:R.i18n.collaborations.deleteNoRemoveSent;ea=ea.deleteItemsReceivedFromCollaboration?R.i18n.collaborations.deleteRemoveReceived:R.i18n.collaborations.deleteNoRemoveReceived;var fa="\x3cspan class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.collaborationLeaveMsg+
"\x3c/span\x3e";if(R._portal.self.isPortal||N.collaborationDeletePolicyEnabled)fa="\x3cstrong class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.collaborationLeaveMsg+"\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3e"+ja+"\x3cbr\x3e\x3cbr\x3e"+ea+"\x3cbr\x3e\x3cbr\x3e"+R.i18n.collaborations.collaborationLeaveTip;K.createConfirmationDialog({strings:{title:R.i18n.collaborations.collaborationLeaveLabel,ok:R.i18n.collaborations.collaborationLeaveLabel,description:v.substitute(fa,{collaboration:aa})},okColor:"red",
autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){R._leaveCollaboration(ba).then(function(ha){ha&&(ha.code||!1===ha.success)?R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.collaborationLeaveError,{collaboration:aa})},W):(R._generateGeneralConfirmation({title:R.i18n.common.notice,description:v.substitute(R.i18n.collaborations.collaborationLeaveSuccess,{collaboration:aa})},da),R.refresh())},function(ha){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,
description:v.substitute(R.i18n.collaborations.collaborationLeaveError,{collaboration:aa})},W)})},onCancel:function(){R._focusOn(W)}})},function(ea){console.err("Error attempting to load the delete policy for the collaboration. "+ea);R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.collaborationLeaveError,{collaboration:aa})})})},_collaborationSaveResponseClick:function(){var R=this,Y,ba;R._fetchCollaborationInvitations(R._current.collaboration.id).then(function(aa){if(Y=
aa.collaborationInvitations)for(ba=0;ba<Y.length;ba++)if(Y[ba].guestPortalId===R._portal.siteInfo.siteKey){R._generateAcceptCollaborationInviteDlg(R._current.returnFocusNode).show(f.clone(Y[ba]));break}})},_collaborationGuestEditClick:function(){var R=this,Y=R._current.collaboration,ba=R._current.returnFocusNode;R._fetchCollaborationParticipant(Y.id,R._portal.siteInfo.siteKey).then(function(aa){R._generateGuestEditCollaborationDlg(ba).show(aa,Y)},function(aa){})},_guestsActionMenuBlur:function(){z.close(this._guestsActionMenu)},
_guestAcceptClick:function(){var R=this._current.collaboration;this._generateAcceptCollaborationGuestDlg(this._current.returnFocusNode).show(R)},_guestReissueClick:function(){var R=this._current.collaboration,Y=this._current.guest,ba=Y.id,aa=this._current.returnFocusNode;K.createConfirmationDialog({strings:{title:this.i18n.collaborations.guestReissueLabel,description:v.substitute(this.i18n.collaborations.guestReissueMsg,{guest:Y.guestPortalUrl,collaboration:R.name}),ok:this.i18n.collaborations.guestReissueLabel},
autoCloseOnOk:!0,onOk:function(){this._refreshInvitation(R.id,ba);this._focusOn(aa)}.bind(this)})},_guestInvalidateClick:function(){var R=this,Y=R._current.collaboration,ba=R._current.guest,aa=ba.guestPortalUrl,W=Y.id,da=ba.id,ea=Y.name,ja=R._current.returnFocusNode,fa=R._inviteGuestBtn;K.createConfirmationDialog({strings:{title:R.i18n.collaborations.guestInvalidateLabel,ok:R.i18n.collaborations.guestInvalidateLabel,description:v.substitute(R.i18n.collaborations.guestInvalidateMsg,{guest:aa,collaboration:ea})},
okColor:"red",autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){R._invalidateInvitation(W,da).then(function(ha){ha&&(ha.code||!1===ha.success)?R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.guestInvalidateError,{guest:aa,collaboration:ea})},ja):(R._generateGeneralConfirmation({title:R.i18n.common.notice,description:v.substitute(R.i18n.collaborations.guestInvalidateSuccess,{guest:aa,collaboration:ea})},fa),R.refresh())},function(ha){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,
description:v.substitute(R.i18n.collaborations.guestInvalidateError,{guest:aa,collaboration:ea})},ja)})},onCancel:function(){R._focusOn(ja)}})},_guestEditClick:function(){var R=this._current.collaboration,Y=this._current.guest;this._generateEditCollaborationGuestDlg(this._current.returnFocusNode).show(R,Y)},_guestRemoveClick:function(){var R=this,Y=R._current.collaboration,ba=R._current.guest,aa=ba.portalInfo.name,W=R._current.returnFocusNode,da=R._inviteGuestBtn,ea=R._current.collaborationHost.config.collaborationItemDeletePolicy?
R._current.collaborationHost.config.collaborationItemDeletePolicy:{deleteItemsSharedToCollaboration:!1,deleteItemsReceivedFromCollaboration:!1},ja=ea.deleteItemsSharedToCollaboration?R.i18n.collaborations.deleteRemoveSent:R.i18n.collaborations.deleteNoRemoveSent;ea=ea.deleteItemsReceivedFromCollaboration?R.i18n.collaborations.deleteRemoveReceived:R.i18n.collaborations.deleteNoRemoveReceived;var fa="\x3cspan class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.guestRemoveMsg+"\x3c/span\x3e";
if(R._portal.self.isPortal||N.collaborationDeletePolicyEnabled)fa="\x3cstrong class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.guestRemoveMsg+"\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3e"+ja+"\x3cbr\x3e\x3cbr\x3e"+ea+"\x3cbr\x3e\x3cbr\x3e"+R.i18n.collaborations.guestRemoveTip;var ha=Y.name;K.createConfirmationDialog({strings:{title:R.i18n.collaborations.guestRemoveLabel,ok:R.i18n.collaborations.guestRemoveLabel,description:v.substitute(fa,{guest:aa,collaboration:ha})},okColor:"red",autoCloseOnOk:!0,
renderHtmlDescription:!0,onOk:function(){R._removeParticipant(Y.id,ba.portalId).then(function(la){la&&(la.code||!1===la.success)?R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.guestRemoveError,{guest:aa,collaboration:ha})},W):(R._generateGeneralConfirmation({title:R.i18n.common.notice,description:v.substitute(R.i18n.collaborations.guestRemoveSuccess,{guest:aa,collaboration:ha})},da),R.refresh())},function(la){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,
description:v.substitute(R.i18n.collaborations.guestRemoveError,{guest:aa,collaboration:ha})},W)})},onCancel:function(){R._focusOn(W)}})},_workspacesActionMenuBlur:function(){z.close(this._workspacesActionMenu)},_workspaceEditClick:function(){var R=this._current.returnFocusNode;this._current.mode===this.MODE.HOST?this._generateCreateWorkspaceDlg(R).show(this._current.collaborationHost,this._current.collaboration,this._current.workspace):this._generateGuestEditWorkspaceDlg(R).show(this._portal.siteInfo.siteKey,
this._current.collaboration,this._current.collaborationHost,this._current.workspace)},_workspaceDeleteClick:function(){var R=this,Y=R._current.collaboration,ba=R._current.workspace,aa=ba.name,W=R._current.returnFocusNode,da=R._createWorkspaceBtn,ea=R._current.collaborationHost.config.collaborationItemDeletePolicy?R._current.collaborationHost.config.collaborationItemDeletePolicy:{deleteItemsSharedToCollaboration:!1,deleteItemsReceivedFromCollaboration:!1},ja=ea.deleteItemsSharedToCollaboration?R.i18n.collaborations.deleteRemoveSent:
R.i18n.collaborations.deleteNoRemoveSent;ea=ea.deleteItemsReceivedFromCollaboration?R.i18n.collaborations.deleteRemoveReceived:R.i18n.collaborations.deleteNoRemoveReceived;var fa="\x3cspan class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.workspaceDeleteMsg+"\x3c/span\x3e";if(R._portal.self.isPortal||N.collaborationDeletePolicyEnabled)fa="\x3cstrong class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.workspaceDeleteMsg+"\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3e"+ja+"\x3cbr\x3e\x3cbr\x3e"+
ea+"\x3cbr\x3e\x3cbr\x3e"+R.i18n.collaborations.workspaceDeleteTip;K.createConfirmationDialog({strings:{title:R.i18n.collaborations.workspaceDeleteLabel,ok:R.i18n.collaborations.workspaceDeleteLabel,description:v.substitute(fa,{workspace:aa})},okColor:"red",autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){R._getWorkspacesCount(Y.id).then(function(ha){1<ha?R._deleteWorkspace(Y.id,ba.id).then(function(la){la&&(la.code||!1===la.success)?R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,
description:v.substitute(R.i18n.collaborations.workspaceDeleteError,{workspace:aa})},W):(R._generateGeneralConfirmation({title:R.i18n.common.notice,description:v.substitute(R.i18n.collaborations.workspaceDeleteSuccess,{workspace:aa})},da),R.refresh())},function(la){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.workspaceDeleteError,{workspace:aa})},W)}):R._generateGeneralConfirmation({title:R.i18n.common.notice,description:v.substitute(R.i18n.collaborations.workspaceDeleteError,
{workspace:aa})+" "+R.i18n.collaborations.workspaceRequiredMsg},W)})},onCancel:function(){R._focusOn(W)}})},_workspaceJoinClick:function(){var R=this._portal.siteInfo.siteKey,Y=this._current.collaboration,ba=this._current.collaborationHost,aa=this._current.workspace;this._generateJoinWorkspaceDlg(this._current.returnFocusNode).show(R,Y,ba,aa)},_workspaceLeaveClick:function(){var R=this,Y=R._current.collaboration,ba=R._current.workspace,aa=ba.name,W=R._current.returnFocusNode,da=R._createWorkspaceBtn;
this._fetchDeletePolicy().then(function(ea){var ja=ea.deleteItemsSharedToCollaboration?R.i18n.collaborations.deleteRemoveSent:R.i18n.collaborations.deleteNoRemoveSent;ea=ea.deleteItemsReceivedFromCollaboration?R.i18n.collaborations.deleteRemoveReceived:R.i18n.collaborations.deleteNoRemoveReceived;var fa="\x3cspan class\x3d'collab-text-breakable'\x3e"+R.i18n.collaborations.workspaceLeaveMsg+"\x3c/span\x3e";if(R._portal.self.isPortal||N.collaborationDeletePolicyEnabled)fa="\x3cstrong class\x3d'collab-text-breakable'\x3e"+
R.i18n.collaborations.workspaceLeaveMsg+"\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3e"+ja+"\x3cbr\x3e\x3cbr\x3e"+ea+"\x3cbr\x3e\x3cbr\x3e"+R.i18n.collaborations.workspaceLeaveTip;K.createConfirmationDialog({strings:{title:R.i18n.collaborations.workspaceLeaveLabel,ok:R.i18n.collaborations.workspaceLeaveLabel,description:v.substitute(fa,{workspace:aa})},okColor:"red",autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){R._leaveWorkspace(Y.id,ba.id).then(function(ha){ha&&(ha.code||!1===ha.success)?R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,
description:v.substitute(R.i18n.collaborations.workspaceLeaveError,{workspace:aa})},W):(R._generateGeneralConfirmation({title:R.i18n.common.notice,description:v.substitute(R.i18n.collaborations.workspaceLeaveSuccess,{workspace:aa})},da),R.refresh())},function(ha){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,description:v.substitute(R.i18n.collaborations.workspaceLeaveError,{workspace:aa})},W)})},onCancel:function(){R._focusOn(W)}})},function(ea){R._generateGeneralConfirmation({title:R.i18n.common.errorTitle,
description:v.substitute(R.i18n.collaborations.workspaceLeaveError,{workspace:aa})},W)})},_workspaceSyncClick:function(){var R=this._current.collaboration.id,Y=this._current.workspace.id,ba=this._current.returnFocusNode;K.createConfirmationDialog({strings:{title:this.i18n.collaborations.syncNowLabel,description:"\x3cp\x3e"+this.i18n.collaborations.syncNowDesc+"\x3c/p\x3e\x3cp\x3e"+this.i18n.collaborations.syncNowAreYouSure+"\x3c/p\x3e\x3cp\x3e"+this.i18n.collaborations.syncNowMoreInfo+"\x3c/p\x3e",
ok:this.i18n.collaborations.syncNowLabel},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){this._syncWorkspace(R,Y).then(function(aa){aa&&aa.code?K.createConfirmationDialog({strings:{title:this.i18n.common.errorTitle,description:this.i18n.collaborations.syncNowError},autoCloseOnOk:!0,hideCancel:!0,onOk:function(){this._focusOn(ba)},onCancel:function(){this._focusOn(ba)}}):ba&&ba.focus&&ba.focus()},function(aa){K.createConfirmationDialog({strings:{title:this.i18n.common.errorTitle,description:this.i18n.collaborations.syncNowError},
autoCloseOnOk:!0,hideCancel:!0,onOk:function(){this._focusOn(ba)},onCancel:function(){this._focusOn(ba)}})})}.bind(this),onCancel:function(){this._focusOn(ba)}.bind(this)})},_workspacePauseSyncClick:function(){var R=this._current.collaboration.id,Y=this._current.workspace.id,ba=this._current.returnFocusNode;K.createConfirmationDialog({strings:{title:this.i18n.collaborations.workspacePauseSync,description:"\x3cp\x3e"+this.i18n.collaborations.pauseSync1+"\x3c/p\x3e\x3cp\x3e"+this.i18n.collaborations.pauseSync2+
"\x3c/p\x3e\x3cp\x3e"+this.i18n.collaborations.syncStatusTip+"\x3c/p\x3e",ok:this.i18n.collaborations.workspacePauseSync},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){this._pauseWorkspaceSyncSchedule(R,Y).then(function(aa){aa&&aa.code?this._generateGeneralConfirmation({title:this.i18n.common.errorTitle,description:this.i18n.collaborations.pauseSyncError},ba):(this._focusOn(ba),this.refresh())},function(){this._generateGeneralConfirmation({title:this.i18n.common.errorTitle,description:this.i18n.collaborations.pauseSyncError},
ba)})}.bind(this),onCancel:function(){this._focusOn(ba)}.bind(this)})},_workspaceResumeSyncClick:function(){var R=this._current.collaboration.id,Y=this._current.workspace.id,ba=this._current.returnFocusNode;K.createConfirmationDialog({strings:{title:this.i18n.collaborations.workspaceResumeSync,description:"\x3cp\x3e"+this.i18n.collaborations.resumeSync1+"\x3c/p\x3e\x3cp\x3e"+this.i18n.collaborations.resumeSync2+"\x3c/p\x3e\x3cp\x3e"+this.i18n.collaborations.syncStatusTip+"\x3c/p\x3e",ok:this.i18n.collaborations.workspaceResumeSync},
autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){this._resumeWorkspaceSyncSchedule(R,Y).then(function(aa){aa&&aa.code?this._generateGeneralConfirmation({title:this.i18n.common.errorTitle,description:this.i18n.collaborations.resumeSyncError},ba):(this._focusOn(ba),this.refresh())},function(){this._generateGeneralConfirmation({title:this.i18n.common.errorTitle,description:this.i18n.collaborations.resumeSyncError},ba)})}.bind(this),onCancel:function(){this._focusOn(ba)}.bind(this)})}})})},"arcgisonline/sharing/dijit/_CollaborationsMixin":function(){define("require exports tslib ../../esriGeowConfig ../../pages/pageUtil ../../pages/utils/arrays ../util ./dialog/AcceptCollaborationGuestDlg ./dialog/AcceptCollaborationInvitationDlg ./dialog/CreateCollaborationDlg ./dialog/CreateWorkspaceDlg ./dialog/EditCollaborationDlg ./dialog/EditCollaborationGuestDlg ./dialog/GuestEditCollaborationDlg ./dialog/GuestEditWorkspaceDlg ./dialog/InviteCollaborationGuestDlg ./dialog/JoinWorkspaceDlg ./dialog/SyncStatusDlg ./dialog/EditWorkspaceViewerCredentialsDlg ./dialog/EditWebAuthCredentialsDlg dijit/popup dijit/Tooltip dijit/TooltipDialog dojo/on dojo/string dojo/mouse dojo/dom-construct dojo/Deferred dojo/promise/all dojo/i18n!../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);return function(){function G(){this.declaredClass="arcgisonline.sharing.dijit._CollaborationsMixin";this.ACCESS_MODES={RECEIVE:"receive",SEND:"send",SEND_AND_RECEIVE:"sendAndReceive"};this.COLLABORATION_ROLE={HOST:"Host",GUEST:"Guest"};this.PORTAL_TYPES={ONLINE:"online",ON_PREMISES:"onpremises"};this.GRID_ID="gridId";
this.ITEMS_PER_PAGE=10;this.MODE={HOST:"host",GUEST:"guest"};this.INVITATION_STATUS={GUEST_RESPONSE_EXPORTED:"guest_response_exported",HOST_INVALIDATED:"host_invalidated",HOST_IMPORTED_RESPONSE:"host_imported_response"};this.STATUS={ACTIVE:"active",PENDING:"pending"};this.VIEWS={COLLABORATIONS:"collaborations-view",COLLABORATION_GUESTS:"collaboration-guests-view",COLLABORATION_WORKSPACES:"collaboration-workspaces-view",GUEST:"guest-view",WORKSPACE:"workspace-view"};this.SCHEDULE={PAUSED:"PAUSED",
NORMAL:"NORMAL",STATE_CHANGES:{PAUSE:"pause",RESUME:"resume"}};this.SYNC_TYPE={SCHEDULED:"scheduled",REALTIME:"realtime"};this.SYNC_STATUS={COMPLETED:"completed",FAILED:"failed",PARTIALLY_FAILED:"completed_with_failures",STARTED:"started",IN_PROGRESS:"in_progress",PENDING:"submitted"};this._portal={};this._current={}}G.prototype.isHostArcGISOnline=function(F){var I;return(null===(I=null===F||void 0===F?void 0:F.portalInfo)||void 0===I?void 0:I.portalType)===this.PORTAL_TYPES.ONLINE};G.prototype.isArcGISOnline=
function(F){var I;return(null===(I=null===F||void 0===F?void 0:F.portalInfo)||void 0===I?void 0:I.portalType)===this.PORTAL_TYPES.ONLINE};G.prototype._registerDestruction=function(F,I){y.default.once(F._dialog,"hide",function(){var J;F._dialog.destroyRecursive();F.destroyRecursive();null===(J=null===I||void 0===I?void 0:I.focus)||void 0===J?void 0:J.call(I)});return F};G.prototype._focusOn=function(F){var I;null===(I=null===F||void 0===F?void 0:F.focus)||void 0===I?void 0:I.call(F)};G.prototype._getCollaborationsBaseURL=
function(){return"".concat(this._getRestURL(),"portals/self/collaborations/")};G.prototype._hasJoinedWorkspace=function(F,I){var J=!1,K;if(F.participantGroupLinks)for(K=0;K<F.participantGroupLinks.length;K++){var P=F.participantGroupLinks[K];if(P.portalId===I){J=!0;break}}return J};G.prototype._getRestURL=function(){return m.default.getSecureUrl(b.default.restBaseUrl)};G.prototype._findWorkspaceAccessMode=function(F,I){if(I&&I.participantGroupLinks)for(var J=0;J<I.participantGroupLinks.length;J++){var K=
I.participantGroupLinks[J];if(K.portalId===F)return K.accessMode}if(I&&I.participantsWithoutGroupLinks)for(J=0;J<I.participantsWithoutGroupLinks.length;J++)if(K=I.participantsWithoutGroupLinks[J],K.portalId===F)return K.accessMode;return null};G.prototype._fetchCollaborationSettings=function(){return m.default.request({url:"".concat(this._getRestURL(),"portals/self/collaborationSettings")})};G.prototype._fetchCollaborations=function(){var F=this,I=new C.default,J=1,K=[],P={start:J,num:100},T,S,L,
N;m.default.request({url:this._getCollaborationsBaseURL(),content:P}).then(function(O){if(O&&!O.code&&O.collaborations){K=K.concat(O.collaborations);J=O.nextStart;T=O.total-K.length;S=Math.ceil(T/100);L=[];for(N=0;N<S;N++)P.start=J+100*N,L.push(m.default.request({url:F._getCollaborationsBaseURL(),content:P}));(0,E.default)(L).then(function(Q){Q.forEach(function(V){K=K.concat(V.collaborations)});I.resolve({collaborations:K})},function(Q){I.resolve({collaborations:K})})}else O&&O.code?I.reject(O):I.resolve({collaborations:K})},
function(O){I.reject(O)});return I};G.prototype._fetchCollaborationResourceCount=function(F,I){var J=new C.default;F="".concat(this._getCollaborationsBaseURL()).concat(F,"/").concat(I);m.default.request({url:F,content:{start:1,num:1}}).then(function(K){!K||K&&K.code?J.resolve(-1):J.resolve(K.total||0)},function(){J.resolve(-1)});return J};G.prototype._fetchCollaborationResources=function(F,I){var J=new C.default,K="".concat(this._getCollaborationsBaseURL()).concat(F,"/").concat(I),P=1,T=[],S={start:P,
num:100},L={},N=I,O,Q,V,X;"invitations"===I&&(N="collaborationInvitations");m.default.request({url:K,content:S}).then(function(Z){if(Z&&!Z.code&&Z[N]){T=T.concat(Z[N]);P=Z.nextStart;O=Z.total-T.length;Q=Math.ceil(O/100);V=[];for(X=0;X<Q;X++)S.start=P+100*X,V.push(m.default.request({url:K,content:S}));(0,E.default)(V).then(function(ca){ca.forEach(function(R){T=T.concat(R[N])});L[N]=T;J.resolve(L)},function(ca){L[N]=T;J.resolve(L)})}else Z&&Z.code?J.reject(Z):(L[N]=T,J.resolve(L))},function(Z){J.reject(Z)});
return J};G.prototype._fetchCollaborationSubResources=function(F,I,J,K,P){F={url:"".concat(this._getCollaborationsBaseURL()).concat(F,"/").concat(I,"/").concat(J,"/").concat(K)};P&&(F.content=P);return m.default.request(F)};G.prototype._fetchCollaborationSubResource=function(F,I,J,K,P){F="".concat(this._getCollaborationsBaseURL()).concat(F,"/").concat(I,"/").concat(J,"/").concat(K,"/").concat(P);return m.default.request({url:F})};G.prototype._fetchCollaborationParticipants=function(F){return this._fetchCollaborationResources(F,
"participants")};G.prototype._fetchCollaborationInvitations=function(F){return this._fetchCollaborationResources(F,"invitations")};G.prototype._fetchCollaborationWorkspaces=function(F){return this._fetchCollaborationResources(F,"workspaces")};G.prototype._fetchCollaborationResource=function(F,I,J){F="".concat(this._getCollaborationsBaseURL()).concat(F,"/").concat(I,"/").concat(J);return m.default.request({url:F})};G.prototype._fetchCollaborationParticipant=function(F,I){return this._fetchCollaborationResource(F,
"participants",I)};G.prototype._fetchCollaborationWorkspace=function(F,I){return this._fetchCollaborationResource(F,"workspaces",I)};G.prototype._fetchCollaborationWorkspaceSyncStatus=function(F,I,J){if(null===J||void 0===J?0:J.length)var K={participants:J.join(",")};return this._fetchCollaborationSubResources(F,"workspaces",I,"syncStatus",K)};G.prototype._fetchCollaborationWorkspaceSyncStatusSummary=function(F,I,J){return this._fetchCollaborationSubResource(F,"workspaces",I,"syncStatus",J)};G.prototype._fetchCollaborationWorkspaceSyncSchedule=
function(F,I){return this._fetchCollaborationSubResources(F,"workspaces",I,"schedule")};G.prototype._pauseWorkspaceSyncSchedule=function(F,I){return this._updateWorkspaceSyncScheduleState(F,I,this.SCHEDULE.STATE_CHANGES.PAUSE)};G.prototype._resumeWorkspaceSyncSchedule=function(F,I){return this._updateWorkspaceSyncScheduleState(F,I,this.SCHEDULE.STATE_CHANGES.RESUME)};G.prototype._updateWorkspaceSyncScheduleState=function(F,I,J){F="".concat(this._getCollaborationsBaseURL()).concat(F,"/workspaces/").concat(I,
"/schedule/").concat(J);return m.default.request({url:F,content:{url:F}},{usePost:!0})};G.prototype._getIndexOfLastScheduledSync=function(F){if((null===F||void 0===F?0:F.length)&&F instanceof Array)for(var I=0;I<F.length;I++)if(F[I].syncExecType===this.SYNC_TYPE.SCHEDULED)return I;return-1};G.prototype._getLastScheduledSync=function(F){var I=this,J;F&&F.length&&F instanceof Array&&(J=f.default.find(F,function(K){return K.syncExecType===I.SYNC_TYPE.SCHEDULED}));return J};G.prototype._getLastRealtimeSync=
function(F){var I=this,J;F&&F.length&&F instanceof Array&&(J=f.default.find(F,function(K){return K.syncExecType===I.SYNC_TYPE.REALTIME}));return J};G.prototype._getRealtimePendingCount=function(F){var I=this,J=0;F&&F.length&&F instanceof Array&&(J=F.filter(function(K){return K.syncExecType===I.SYNC_TYPE.REALTIME&&K.status===I.SYNC_STATUS.PENDING}).length);return J};G.prototype._getLastCompletedSync=function(F){var I=this,J;F&&F.length&&F instanceof Array&&(J=f.default.find(F,function(K){return K.status===
I.SYNC_STATUS.COMPLETED&&K.syncExectType===I.SYNC_TYPE.SCHEDULED}));return J};G.prototype._getSyncStatusInfo=function(F,I){var J;if(I&&!k.default.isEmptyObject(I)){if(I.status===this.SYNC_STATUS.FAILED)return{status:this.SYNC_STATUS.FAILED};if(I.status===this.SYNC_STATUS.STARTED||I.status===this.SYNC_STATUS.IN_PROGRESS)return{status:this.SYNC_STATUS.IN_PROGRESS};if(I.status===this.SYNC_STATUS.PARTIALLY_FAILED){I=f.default.find(I.participants,function(N){return N.participantId===F});var K=0,P=0,T=
0,S=void 0,L=S=void 0;if(I){S=I.taskStatus[0];L=(null===(J=S.results)||void 0===J?void 0:J.length)&&S.results[0]||void 0;if(null===L||void 0===L?0:L.results)L=L.results,P+=L.failedCount,T+=L.notProcessedCount,K+=L.succeededCount;S=K+P+T;return S!==K?{status:this.SYNC_STATUS.PARTIALLY_FAILED,failedCount:P,totalCount:S}:{status:this.SYNC_STATUS.FAILED}}}else return{status:this.SYNC_STATUS.COMPLETED}}return{status:""}};G.prototype._getRealtimeSyncStatusLabel=function(F,I,J){var K=this;switch(I){case this.SYNC_STATUS.COMPLETED:return'\x3cspan class\x3d"sync-status" data-status\x3d"'.concat(this.SYNC_STATUS.COMPLETED,
'"\x3e').concat(H.default.collaborations.syncSucceeded,"\x3c/span\x3e");case this.SYNC_STATUS.IN_PROGRESS:return'\x3cspan class\x3d"sync-status" data-status\x3d"'.concat(this.SYNC_STATUS.IN_PROGRESS,'"\x3e').concat(H.default.collaborations.syncInProgress,"\x3c/span\x3e");case this.SYNC_STATUS.PARTIALLY_FAILED:return I=J.participants.filter(function(P){return P.participantId===F}),I=(I&&I.taskStatus||[]).filter(function(P){return P.status===K.SYNC_STATUS.FAILED}),0<(null===I||void 0===I?void 0:I.length)?
'\x3cspan class\x3d"sync-status sync-label-blue sync-status-link" data-status\x3d"'.concat(this.SYNC_STATUS.PARTIALLY_FAILED,'" tabindex\x3d"0"\x3e').concat(H.default.collaborations.syncFailed,"\x3c/span\x3e"):'\x3cspan class\x3d"sync-status" data-status\x3d"'.concat(this.SYNC_STATUS.PARTIALLY_FAILED,'" tabindex\x3d"0"\x3e').concat(H.default.collaborations.syncSucceeded,"\x3c/span\x3e");case this.SYNC_STATUS.FAILED:return'\x3cspan class\x3d"sync-status sync-label-blue sync-status-link" data-status\x3d"'.concat(this.SYNC_STATUS.FAILED,
'" tabindex\x3d"0"\x3e').concat(H.default.collaborations.syncFailed,"\x3c/span\x3e");default:return H.default.collaborations.syncInfoNotAvailable}};G.prototype._getSyncStatusLabel=function(F){switch(F){case this.SYNC_STATUS.COMPLETED:return'\x3cspan class\x3d"sync-status" data-status\x3d"'.concat(this.SYNC_STATUS.COMPLETED,'"\x3e').concat(H.default.collaborations.syncSucceeded,"\x3c/span\x3e");case this.SYNC_STATUS.IN_PROGRESS:return'\x3cspan class\x3d"sync-status" data-status\x3d"'.concat(this.SYNC_STATUS.IN_PROGRESS,
'"\x3e').concat(H.default.collaborations.syncInProgress,"\x3c/span\x3e");case this.SYNC_STATUS.PARTIALLY_FAILED:return'\x3cspan class\x3d"sync-status sync-label-blue sync-status-link" data-status\x3d"'.concat(this.SYNC_STATUS.PARTIALLY_FAILED,'" tabindex\x3d"0"\x3e').concat(H.default.collaborations.syncFailed,"\x3c/span\x3e");case this.SYNC_STATUS.FAILED:return'\x3cspan class\x3d"sync-status sync-label-blue sync-status-link" data-status\x3d"'.concat(this.SYNC_STATUS.FAILED,'" tabindex\x3d"0"\x3e').concat(H.default.collaborations.syncFailed,
"\x3c/span\x3e");default:return H.default.collaborations.syncInfoNotAvailable}};G.prototype._getSyncStatusClasses=function(F){var I=[];switch(F){case this.SYNC_STATUS.PARTIALLY_FAILED:I=I.concat(["sync-label-blue","sync-status-link"]);break;case this.SYNC_STATUS.FAILED:I=I.concat(["sync-label-blue","sync-status-link"]);break;default:I=[]}return I.join(" ")};G.prototype._getSimplifiedSyncStatusNodeProps=function(F){if(F&&!k.default.isEmptyObject(F))return F.status===this.SYNC_STATUS.PARTIALLY_FAILED||
F.status===this.SYNC_STATUS.FAILED?{class:"sync-status sync-label-blue sync-status-link",innerHTML:H.default.collaborations.syncFailed,tabindex:0,"data-status":this.SYNC_STATUS.FAILED}:F.status===this.SYNC_STATUS.STARTED||F.status===this.SYNC_STATUS.IN_PROGRESS?{class:"sync-status",innerHTML:H.default.collaborations.syncInProgress,"data-status":this.SYNC_STATUS.IN_PROGRESS}:{class:"sync-status",innerHTML:H.default.collaborations.syncSucceeded,"data-status":this.SYNC_STATUS.COMPLETED}};G.prototype._getSyncStatusNodeProps=
function(F,I){var J={class:"sync-status",innerHTML:H.default.collaborations.syncSucceeded,"data-status":this.SYNC_STATUS.COMPLETED},K={class:"sync-status",innerHTML:H.default.collaborations.syncInProgress,"data-status":this.SYNC_STATUS.IN_PROGRESS},P={class:"sync-status sync-label-blue sync-status-link",innerHTML:H.default.collaborations.syncFailed,tabindex:0,"data-status":this.SYNC_STATUS.FAILED},T={class:"sync-status sync-label-blue sync-status-link",innerHTML:"",tabindex:0,"data-status":this.SYNC_STATUS.PARTIALLY_FAILED};
if(I&&!k.default.isEmptyObject(I)){if(I.status===this.SYNC_STATUS.FAILED)return P;if(I.status===this.SYNC_STATUS.STARTED||I.status===this.SYNC_STATUS.IN_PROGRESS)return K;if(I.status===this.SYNC_STATUS.PARTIALLY_FAILED){I=f.default.find(I.participants,function(N){return N.participantId===F});var S=K=J=0,L=void 0;L=L=void 0;if(I)return L=I.taskStatus[0],(L=L.results&&L.results.length&&L.results[0]||void 0)&&L.results&&(L=L.results,K+=L.failedCount,S+=L.notProcessedCount,J+=L.succeededCount),L=J+K+
S,L!==J?(T.innerHTML=A.default.substitute(H.default.collaborations.syncXOfYFailed,{x:K+S,y:L}),T):P}else return J}};G.prototype._searchGroupsById=function(F){var I="".concat(b.default.restBaseUrl,"community/groups");F={q:"id:".concat(F)};return m.default.request({url:I,content:F})};G.prototype._deleteCollaboration=function(F){return m.default.request({url:"".concat(this._getCollaborationsBaseURL()).concat(F,"/delete")},{usePost:!0})};G.prototype._leaveCollaboration=function(F){return m.default.request({url:"".concat(this._getCollaborationsBaseURL()).concat(F,
"/removeParticipation")},{usePost:!0})};G.prototype._deleteWorkspace=function(F,I){return this._executeCollaborationResourceAction(F,"workspaces",I,"delete",!0,{})};G.prototype._getWorkspacesCount=function(F){return this._fetchCollaborationResourceCount(F,"workspaces")};G.prototype._invalidateInvitation=function(F,I){return this._executeCollaborationResourceAction(F,"invitations",I,"invalidate",!0,{})};G.prototype._leaveWorkspace=function(F,I){return this._executeCollaborationResourceAction(F,"workspaces",
I,"removePortalGroupLink",!0,{})};G.prototype._executeCollaborationResourceAction=function(F,I,J,K,P,T,S){F={url:A.default.substitute("${baseUrl}${collaborationId}/${resourceType}/${resourceId}/${action}",{baseUrl:this._getCollaborationsBaseURL(),collaborationId:F,resourceType:I,resourceId:J,action:K}),content:T?T:{}};return m.default.request(F,{usePost:P})};G.prototype._removeParticipant=function(F,I){return this._executeCollaborationResourceAction(F,"participants",I,"remove",!0,{})};G.prototype._updateParticipantAccessMode=
function(F,I,J,K){var P=[],T={};T[I]=K;P.push(T);I={collaborationWorkspacesAccessJSON:JSON.stringify(P)};return this._executeCollaborationResourceAction(F,"participants",J,"updateAccessModes",!0,I)};G.prototype._syncWorkspace=function(F,I){return this._executeCollaborationResourceAction(F,"workspaces",I,"sync",!0,{})};G.prototype._refreshInvitation=function(F,I){var J=new C.default;F="".concat(this._getCollaborationsBaseURL()).concat(F,"/invitations/").concat(I,"/refresh");F=D.default.create("form",
{target:"_blank",action:F,method:"post",enctype:"multipart/form-data"});I=m.default.getUser().token;D.default.create("input",{type:"hidden",name:"f",value:"html"},F);D.default.create("input",{type:"hidden",name:"token",value:I},F);document.body.appendChild(F);try{F.submit(),J.resolve(),D.default.destroy(F)}catch(K){J&&!J.isResolved()&&J.resolve(),D.default.destroy(F)}return J};G.prototype._generateCreateCollaborationDlg=function(F){return k.default.createSpecifiedDialog(r.default,null,F)};G.prototype._generateEditCollaborationDlg=
function(F){return k.default.createSpecifiedDialog(v.default,null,F)};G.prototype._generateGuestEditCollaborationDlg=function(F){return k.default.createSpecifiedDialog(p.default,null,F)};G.prototype._generateCreateWorkspaceDlg=function(F){return k.default.createSpecifiedDialog(e.default,null,F)};G.prototype._generateAcceptCollaborationGuestDlg=function(F){return k.default.createSpecifiedDialog(h.default,null,F)};G.prototype._generateAcceptCollaborationInviteDlg=function(F){return k.default.createSpecifiedDialog(u.default,
null,F)};G.prototype._generateInviteCollaborationGuestDlg=function(F){return k.default.createSpecifiedDialog(q.default,null,F)};G.prototype._generateEditCollaborationGuestDlg=function(F){return k.default.createSpecifiedDialog(g.default,null,F)};G.prototype._generateJoinWorkspaceDlg=function(F){return k.default.createSpecifiedDialog(l.default,null,F)};G.prototype._generateGuestEditWorkspaceDlg=function(F){return k.default.createSpecifiedDialog(n.default,null,F)};G.prototype._generateEditViewerCredentialsDlg=
function(F){return k.default.createSpecifiedDialog(d.default,null,F)};G.prototype._generateWebAuthDlg=function(F){return k.default.createSpecifiedDialog(w.default,null,F)};G.prototype._generateSyncStatusDlg=function(F){return k.default.createSpecifiedDialog(c.default,null,F)};G.prototype._generateGeneralConfirmation=function(F,I){k.default.createConfirmationDialog({strings:F,autoCloseOnOk:!0,hideCancel:!0,onOk:function(){var J;null===(J=null===I||void 0===I?void 0:I.focus)||void 0===J?void 0:J.call(I)},
onCancel:function(){var J;null===(J=null===I||void 0===I?void 0:I.focus)||void 0===J?void 0:J.call(I)}})};G.prototype._generateTooltipDlg=function(F,I){var J=this,K=D.default.create("div",{class:"collaboration-tooltip-popup collaboration-tooltip-popup-content"}),P=m.default.relativeToExplicitUrl("js/calcite-web/dist/img/icons/ui/close.svg");P=D.default.create("span",{class:"collaboration-tooltip-popup-close",tabindex:0,innerHTML:'\x3cimg src\x3d"'.concat(P,'" alt\x3d"').concat(H.default.common.close,
'"/\x3e')},K);var T=D.default.create("div",null,K);K={content:K};F&&(K.title=F);I&&(D.default.create("br",null,T),D.default.place(I,T));var S=new x.default(K);(0,y.default)(P,"click",function(){J._closeAndDestroyTooltipDlg(S)});return S};G.prototype._openTooltipDlg=function(F,I){F&&I&&t.default.open({popup:F,around:I})};G.prototype._closeAndDestroyTooltipDlg=function(F){F&&(t.default.close(F),F.destroyRecursive(),F.destroy(),F=void 0)};G.prototype._createOneTimeTooltip=function(F,I,J){J="\x3cspan ".concat(J?
"":'style\x3d""',"\x3e");z.default.show(J+F+"\x3c/span\x3e",I);y.default.once(I,B.default.leave,function(){z.default.hide(I)})};return G}()})},"arcgisonline/sharing/dijit/dialog/AcceptCollaborationGuestDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/dom ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/kernel dojo/on dijit/a11yclick dojo/string dojo/topic dojo/dom-construct dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/AcceptCollaborationGuestDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=
!0;this.templateString=d.default;this.i18n=a.__assign(a.__assign(a.__assign({},c.default.common),c.default.acceptCollabInviteDlg),c.default.acceptCollabGuestDlg)}w.prototype.postCreate=function(){this.inherited(arguments);var t=this._webAuthRadioClick.bind(this);this.own((0,p.default)(this._cancelBtn.domNode,this.hide.bind(this)),(0,g.default)(this._responseFile,"change",this._responseFileChange.bind(this)),(0,p.default)(this._webAuthYesRadio.domNode,t),(0,p.default)(this._webAuthNoRadio.domNode,
t),(0,p.default)(this._acceptBtn.domNode,this._acceptClick.bind(this)))};w.prototype.show=function(t){this._clear();this._collaboration=t;this._initAdminHelpMap();this._dialog.show()};w.prototype.hide=function(){this._dialog.hide()};w.prototype._clear=function(){this._validResponse=this._collaboration=void 0;this._dialog.set("title",this.i18n.acceptGuest);k.default.hideNode(this._acceptView);k.default.hideNode(this._responseView);k.default.hideNode(this._errorView);l.default.empty(this._responseMsg);
l.default.empty(this._responseContact);l.default.empty(this._responseUrl);l.default.empty(this._errorView);this._responseForm.reset();this._acceptBtn.domNode.style.display="";this._acceptBtn.set("disabled",!0);this._webAuthNoRadio.set("checked",!0);k.default.showNode(this._acceptView)};w.prototype._initAdminHelpMap=function(){f.default.isPortal()&&(this._adminGuideUrl=b.default.self.helpBase,this._adminHelpGuideMap=b.default.self.helpMap.m)};w.prototype._responseFileChange=function(){var t=this,z;
this.clearError();this._validateInvitationResponse(this._collaboration.id,this._responseForm).then(function(x){if(null===x||void 0===x?0:x.invitationResponse){var y=x.invitationResponse;x=n.default.substitute(t.i18n.responseText,{guest:y.guestPortalName||y.guestPortalUrl,collaboration:y.collaborationName});var A=l.default.create("span",{class:"esriItemLinks"}),B="ja"===v.default.locale?[y.contactLastname,y.contactFirstname].join(" "):[y.contactFirstname,y.contactLastname].join(" "),D=f.default.isPortal();
t._validResponse=y;D||k.default.hideNode(t._useWebAuthContainer);l.default.create("a",{href:"mailto:".concat(y.contactEmailAddress),innerHTML:B,"aria-label":n.default.substitute(t.i18n.sendEmailTo,{name:B})},A);t._responseMsg.innerHTML=x;t._responseUrl.innerHTML=y.guestPortalUrl;l.default.place(A,t._responseContact,"only");k.default.hideNode(t._errorView);k.default.showNode(t._responseView);t._acceptBtn.set("disabled",!1)}else(null===x||void 0===x?0:x.code)&&"COLLAB_0067"===x.messageCode?z=t.i18n.oneOnlineOrgAllowed:
"COLLAB_0065"===x.messageCode?z=t.i18n.portalUsedDifferentURL:"COLLAB_0070"===x.messageCode||"COLLAB_0071"===x.messageCode?z=t.i18n.unsupportedVersion:f.default.isPortal()&&"COLLAB_0064"===x.messageCode?(y=t._adminGuideUrl+t._adminHelpGuideMap["120001173"],x=x.message.substring(x.message.indexOf("'")+1,x.message.lastIndexOf("'")),y=n.default.substitute("".concat(t.i18n.sslCertValidationMsg).concat(t.i18n.sslCertNextStepsMsg),{portal:x,linkStart:'\x3cspan class\x3d"esriItemLinks"\x3e\x3ca href\x3d"'.concat(y,
'" target\x3d"_blank"\x3e'),linkEnd:"\x3c/a\x3e\x3c/span\x3e"}),z=t.i18n.errorAccepting,t._showModalError(y,t.i18n.sslCertError)):z=t.i18n.invalidResponse,t._showError(z),t._acceptBtn.set("disabled",!0)},function(x){z=t.i18n.invalidResponse;if(x.messageCode)if("COLLAB_0065"===x.messageCode)z=t.i18n.portalUsedDifferentURL;else if("COLLAB_0070"===x.messageCode||"COLLAB_0071"===x.messageCode)z=t.i18n.unsupportedVersion;else if(f.default.isPortal()&&"COLLAB_0064"===x.messageCode){var y="".concat(t._adminGuideUrl).concat(t._adminHelpGuideMap["120001173"]);
x=x.message.substring(x.message.indexOf("'")+1,x.message.lastIndexOf("'"));y=n.default.substitute(t.i18n.sslCertValidationMsg+t.i18n.sslCertNextStepsMsg,{portal:x,linkStart:'\x3cspan class\x3d"esriItemLinks"\x3e\x3ca href\x3d"'.concat(y,'" target\x3d"_blank"\x3e'),linkEnd:"\x3c/a\x3e\x3c/span\x3e"});z=t.i18n.errorAccepting;t._showModalError(y,t.i18n.sslCertError)}else f.default.isPortal()&&"COLLAB_0067"===x.messageCode&&(z=t.i18n.oneOnlineOrgAllowed);t._showError(z);t._acceptBtn.set("disabled",!0)})};
w.prototype._webAuthRadioClick=function(){var t=this._webAuthNoRadio.get("checked"),z=this._webAuthYesRadio.get("checked");t?(k.default.hideNode(this._webAuthContainer),this._webAuthUsername.set("value",""),this._webAuthPassword.set("value",""),this._webAuthCertificatePassword.set("value","")):z&&k.default.showNode(this._webAuthContainer)};w.prototype._acceptClick=function(){var t=this,z=!1;this._validResponse&&(this._acceptBtn.set("disabled",!0),this._importInvitationResponse(this._collaboration.id,
this._responseForm).then(function(x){t._acceptBtn.set("disabled",!1);x&&x.messageCode&&("COLLAB_0065"===x.messageCode?(t._showModalError(t.i18n.portalUsedDifferentURL),z=!0):"COLLAB_0037"===x.messageCode?(t._showModalError(t.i18n.invalidResponse),z=!0):"COLLAB_0086"===x.messageCode?(t._showModalError(t.i18n.webTierAuthInvalid),z=!0):"COLLAB_0088"===x.messageCode?(t._showModalError(t.i18n.webTierAuthRequired),z=!0):"COLLAB_0095"===x.messageCode&&(t._showModalError(t.i18n.unableToCommunicate),z=!0));
z||(q.default.publish("collaboration-guest/accept",x),t.hide())},function(x){t._acceptBtn.set("disabled",!1);var y=t.i18n.errorAccepting;x&&x.messageCode&&("COLLAB_0086"===x.messageCode?y=t.i18n.webTierAuthInvalid:"COLLAB_0088"===x.messageCode?y=t.i18n.webTierAuthRequired:"COLLAB_0095"===x.messageCode&&(y=t.i18n.unableToCommunicate));t._showModalError(y)}))};w.prototype.clearError=function(){l.default.empty(this._errorView);k.default.hideNode(this._errorView)};w.prototype._showError=function(t){k.default.hideNode(this._responseView);
t&&(this._errorView.innerHTML=t,k.default.showNode(this._errorView),this._errorView.focus())};return w=a.__decorate([(0,h.default)(u.default,r.default,e.default,m.default)],w)}()})},"arcgisonline/sharing/dijit/dialog/_CollaborationsDialogMixin":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/utils/arrays ../../../pages/utils/tooltips ../../util ../ComboBox ../Role dojo/_base/kernel dojo/on dojo/string dojo/dom-construct dojo/Deferred dojo/promise/all dojo/data/util/sorter esri/lang dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(){this.i18n=d.default;this._comboBoxes={};this.ACCESS_MODES=
{RECEIVE:"receive",SEND:"send",SEND_AND_RECEIVE:"sendAndReceive"};this.COLLABORATION_ROLE={HOST:"Host",GUEST:"Guest"};this.PORTAL_TYPES={ONLINE:"online",ON_PREMISES:"onpremises"}}w.prototype._registerDestruction=function(t){v.default.once(t._dialog,"hide",function(){t._dialog.destroyRecursive();t.destroyRecursive()});return t};w.prototype._portalSupports2Way=function(t){var z=/[1-9]+[1-9]+.[\d]+(.[\d]+)*/g;return-1<t.indexOf("10.9.")||"arcgisenterpriseonkubernetes"===t.toLowerCase()||"online"===t.toLowerCase()||
z.test(t)};w.prototype._createOneTimeTooltip=function(t,z,x){var y="\x3cspan ".concat(x?"":'style\x3d""',"\x3e");t="".concat(y).concat(t).concat("\x3c/span\x3e");if(x)m.default.oneTimeTooltip(t,z);else m.default.oneTimeError(t,z)};w.prototype._showModalError=function(t,z){this._generateGeneralDlg({title:z||d.default.common.errorTitle,description:t})};w.prototype._showModalNotice=function(t){this._generateGeneralDlg({title:d.default.common.notice,description:t})};w.prototype._nameContainsInvalidCharacters=
function(t){return t&&(-1<t.indexOf("%")||-1<t.indexOf("\x3c")||-1<t.indexOf("\x3e"))?!0:!1};w.prototype._participantCanSendData=function(t){return f.default.includes([this.ACCESS_MODES.SEND,this.ACCESS_MODES.SEND_AND_RECEIVE],t)};w.prototype._participantCanSendAndReceiveData=function(t){return this.ACCESS_MODES.SEND_AND_RECEIVE===t};w.prototype._createAccessModeSelectUI=function(t,z,x){z=new u.default({id:"workspace_".concat(t.id),store:x,class:"modeSelect"},p.default.create("div",null,z));z.startup();
this._comboBoxes[t.id]=z;z.set("value",this.i18n.sendContent)};w.prototype._findWorkspaceGroup=function(t,z){if(null===z||void 0===z?0:z.participantGroupLinks)for(var x=0;x<z.participantGroupLinks.length;x++){var y=z.participantGroupLinks[x];if(y.portalId===t)return{id:y.portalGroupId,title:y.portalGroupName}}return null};w.prototype._findWorkspaceGroupLink=function(t,z){if(null===z||void 0===z?0:z.participantGroupLinks)for(var x=0;x<z.participantGroupLinks.length;x++){var y=z.participantGroupLinks[x];
if(y.portalId===t)return y}return null};w.prototype._findWorkspaceAccessMode=function(t,z){if(null===z||void 0===z?0:z.participantGroupLinks)for(var x=0;x<z.participantGroupLinks.length;x++){var y=z.participantGroupLinks[x];if(y.portalId===t)return y.accessMode}if(z&&z.participantsWithoutGroupLinks)for(x=0;x<z.participantsWithoutGroupLinks.length;x++)if(y=z.participantsWithoutGroupLinks[x],y.portalId===t)return y.accessMode;return null};w.prototype._hasJoinedWorkspace=function(t,z){var x=!1;if(t.participantGroupLinks)for(var y=
0;y<t.participantGroupLinks.length;y++)if(t.participantGroupLinks[y].portalId===z){x=!0;break}return x};w.prototype._createFullName=function(t,z){return("ja"===e.default.locale?[z,t]:[t,z]).join(" ")};w.prototype._splitFullName=function(t){t=(null===t||void 0===t?void 0:t.split(" "))||["",""];var z=t.splice("ja"!==e.default.locale?t.length-1:0,1)[0];return{firstName:t.join(" "),lastName:z}};w.prototype._getRestURL=function(){return h.default.getSecureUrl(b.default.restBaseUrl)};w.prototype._loadGroups=
function(){var t=new n.default;h.default.getUser();var z=[];this._retrieveAllGroups().then(function(x){x&&(z=z.concat(x),z.sort(function(y,A){y=y.title?y.title.toLowerCase():y.title;A=A.title?A.title.toLowerCase():A.title;return l.default.basicComparator(y,A)}));t.resolve(z)},function(x){t.resolve(z)});return t};w.prototype._retrieveAllGroups=function(){var t=new n.default,z=h.default.getUser(),x=[],y=[],A,B,D,C="".concat(b.default.restBaseUrl,"community/groups"),E={q:"orgid:".concat(z.accountId||
z.orgId,' -owner:"esri_nav" -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"'),start:1,num:100},H=[],G=b.default.isRightToLeft?" \x26#8207;":" ";h.default.request({url:C,content:E}).then(function(F){if(null===F||void 0===F?0:F.results)if(F.results.forEach(function(I){H.push({id:I.id,owner:I.owner,capabilities:I.capabilities,title:-1<x.indexOf(I.title)?"".concat(I.title).concat(G,"(").concat(I.owner,")"):I.title})}),A=F.total-F.results.length,B=Math.ceil(A/100),0<F.nextStart){for(D=
0;D<B;D++)E.start=F.nextStart+100*D,y.push(h.default.request({url:C,content:E}));(0,q.default)(y).then(function(I){I.forEach(function(J){(null===J||void 0===J?0:J.results)&&J.results.forEach(function(K){H.push({id:K.id,owner:K.owner,capabilities:K.capabilities,title:-1<x.indexOf(K.title)?"".concat(K.title," (").concat(K.owner,")"):K.title})})});t.resolve(H)},function(I){t.resolve(H)})}else t.resolve(H)},function(F){t.resolve(H)});return t};w.prototype._createGroup=function(t,z){return h.default.request({url:"".concat(b.default.restBaseUrl,
"community/createGroup"),content:{title:t,tags:z,access:"private"}},{usePost:!0})};w.prototype._createCollaboration=function(t){var z="".concat(this._getRestURL(),"portals/self/createCollaboration");return h.default.request({url:z,content:t||{}},{usePost:!0})};w.prototype._updateCollaboration=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/updateInfo",{baseUrl:this._getRestURL(),collaborationId:t});z={name:x,description:y,config:JSON.stringify({ownerUsername:z})};
return h.default.request({url:t,content:z},{usePost:!0})};w.prototype._updateCollaborationDeletePolicy=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/participants/${participantId}/updateItemDeletePolicy",{baseUrl:this._getRestURL(),collaborationId:t,participantId:z});return h.default.request({url:t,content:{deleteContributedItems:x,deleteReceivedItems:y}},{usePost:!0})};w.prototype._loadWorkspaces=function(t){return this._fetchCollaborationResources(t,
"workspaces")};w.prototype._loadInvitations=function(t){return this._fetchCollaborationResources(t,"invitations")};w.prototype._addWorkspace=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/addWorkspace",{baseUrl:this._getRestURL(),collaborationId:t});return h.default.request({url:t,content:{collaborationWorkspaceName:z,collaborationWorkspaceDescription:x,portalGroupId:y,config:""}},{usePost:!0})};w.prototype._updateWorkpace=function(t,z,x,y,A){t=
g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/updateInfo",{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z});x={name:x,description:y,config:JSON.stringify(A?A:{})};return h.default.request({url:t,content:x},{usePost:!0})};w.prototype._updateParticipantContact=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/participants/${participantId}/updateInfo",{baseUrl:this._getRestURL(),collaborationId:t,
participantId:z});x=this._splitFullName(x);return h.default.request({url:t,content:{contactFirstname:x.firstName,contactLastname:x.lastName,contactEmailAddress:y}},{usePost:!0})};w.prototype._updateParticipantAccessModes=function(t,z,x){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/participants/${participantId}/updateAccessModes",{baseUrl:this._getRestURL(),collaborationId:t,participantId:z});x={collaborationWorkspacesAccessJSON:JSON.stringify(x)};return h.default.request({url:t,
content:x},{usePost:!0})};w.prototype._updatePortalGroupLink=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/updatePortalGroupLink",{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z});x={portalGroupId:x};c.default.isDefined(y)&&(c.default.isDefined(y.enableRealtimeSync)&&(x.enableRealtimeSync=y.enableRealtimeSync),c.default.isDefined(y.copyFeatureServiceData)&&(x.copyFeatureServiceData=y.copyFeatureServiceData),
c.default.isDefined(y.copyByRefIfCopyFail)&&(x.copyByRefIfCopyFail=y.copyByRefIfCopyFail),c.default.isDefined(y.enableFeatureServiceBidirectionalSync)&&(x.enableFeatureServiceBidirectionalSync=y.enableFeatureServiceBidirectionalSync));return h.default.request({url:t,content:x},{usePost:!0})};w.prototype._updatePortalGroupLinkWithCopyData=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/updatePortalGroupLink",{baseUrl:this._getRestURL(),
collaborationId:t,workspaceId:z});x={portalGroupId:x};c.default.isDefined(y)&&(x.enableCopyData=y);return h.default.request({url:t,content:x},{usePost:!0})};w.prototype._fetchSyncSchedule=function(t,z){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/schedule",{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z});return h.default.request({url:t})};w.prototype._updateSyncSchedule=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/schedule/update",
{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z});return h.default.request({url:t,content:{startTime:x,interval:y,repeatCount:-1}},{usePost:!0})};w.prototype._fetchSyncStatusSummary=function(t,z,x){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/syncStatus/${statusId}",{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z,statusId:x});return h.default.request({url:t})};w.prototype._validateInvitation=function(t){var z="".concat(this._getRestURL(),
"portals/self/validateCollaborationInvitation");return h.default.request({url:z,form:t},{usePost:!0})};w.prototype._acceptInvitation=function(t){var z="".concat(this._getRestURL(),"portals/self/acceptCollaborationInvitation");return h.default.request({url:z,form:t},{usePost:!0})};w.prototype._validateInvitationResponse=function(t,z){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/validateInvitationResponse",{baseUrl:this._getRestURL(),collaborationId:t});return h.default.request({url:t,
form:z},{usePost:!0})};w.prototype._importInvitationResponse=function(t,z){t=g.default.substitute("${baseUrl}portals/self/collaborations/${id}/importInvitationResponse",{baseUrl:this._getRestURL(),id:t});return h.default.request({url:t,form:z},{usePost:!0})};w.prototype._fetchCollaborationParticipants=function(t){return this._fetchCollaborationResources(t,"participants")};w.prototype._fetchCollaborationResources=function(t,z){var x=new n.default,y=g.default.substitute("${baseUrl}portals/self/collaborations/${id}/${resource}",
{baseUrl:this._getRestURL(),id:t,resource:z}),A=1,B=[],D={start:A,num:100},C={},E=z,H,G;"invitations"===z&&(E="collaborationInvitations");h.default.request({url:y,content:D}).then(function(F){if(F&&!F.code&&F[E]){B=B.concat(F[E]);A=F.nextStart;H=F.total-B.length;G=Math.ceil(H/100);F=[];for(var I=0;I<G;I++)D.start=A+100*I,F.push(h.default.request({url:y,content:D}));(0,q.default)(F).then(function(J){(J||[]).forEach(function(K){B=B.concat(K[E])});C[E]=B;x.resolve(C)},function(J){C[E]=B;x.resolve(C)})}else(null===
F||void 0===F?0:F.code)?x.reject(F):(C[E]=B,x.resolve(C))},function(F){x.reject(F)});return x};w.prototype._checkGroupOwnerForFeaturePublishCapabilities=function(t){var z=new n.default;t&&t.owner===h.default.getUser().username?z.resolve({ownerCanPublishFeatures:!0}):(t="".concat(b.default.restBaseUrl,"community/users/").concat(t.owner),h.default.request({url:t}).then(function(x){var y=new r.default({id:x.roleId?x.roleId:x.role,role:x.role});x.privileges&&y.setPrivileges(x.privileges);x=y.isAdmin()||
y.isPublisher()||y.isCustom()&&y.canPublishFeatures();z.resolve({ownerCanPublishFeatures:x})},function(){z.resolve({ownerCanPublishFeatures:!1})}));return z};w.prototype._setViewerCredentials=function(t,z,x,y){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/updateServiceProxyConfig",{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z});return h.default.request({url:t,content:{serviceProxyUsername:x,serviceProxyPassword:y}},{usePost:!0})};
w.prototype._removeViewerCredentials=function(t,z){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/workspaces/${workspaceId}/deleteServiceProxyConfig",{baseUrl:this._getRestURL(),collaborationId:t,workspaceId:z});return h.default.request({url:t},{usePost:!0})};w.prototype._setWebAuthentication=function(t,z,x){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/participants/${participantId}/updateWebAuthConfig",{baseUrl:this._getRestURL(),
collaborationId:t,participantId:z});return h.default.request({url:t,form:x},{usePost:!0})};w.prototype._removeWebAuthentication=function(t,z){t=g.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/participants/${participantId}/updateWebAuthConfig",{baseUrl:this._getRestURL(),collaborationId:t,participantId:z});return h.default.request({url:t,content:{clearWebAuthConfig:!0}},{usePost:!0})};w.prototype.isHostArcGISOnline=function(t){var z;return(null===(z=null===t||void 0===
t?void 0:t.portalInfo)||void 0===z?void 0:z.portalType)&&t.portalInfo.portalType===this.PORTAL_TYPES.ONLINE};w.prototype._checkErrorDetails=function(t,z){return(null===t||void 0===t?0:t.length)&&z?t.some(function(x){return-1<(null===x||void 0===x?void 0:x.toLowerCase().indexOf(z.toLowerCase()))}):!1};w.prototype._generateGeneralDlg=function(t){k.default.createConfirmationDialog({strings:t,autoCloseOnOk:!0,hideCancel:!0,renderHtmlDescription:!0})};return w}()})},"arcgisonline/sharing/dijit/dialog/AcceptCollaborationInvitationDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/dom ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/kernel dojo/on dijit/a11yclick dojo/string dojo/topic dojo/dom-construct dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/AcceptCollaborationInvitationDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=
!0;this.templateString=d.default;this.i18n=a.__assign(a.__assign({},c.default.common),c.default.acceptCollabInviteDlg)}w.prototype.postCreate=function(){this.inherited(arguments);var t=this._webAuthRadioClick.bind(this);this.own((0,p.default)(this._cancelBtn.domNode,this.hide.bind(this)),(0,g.default)(this._invitationFile,"change",this._invitationFileChange.bind(this)),(0,p.default)(this._webAuthYesRadio.domNode,t),(0,p.default)(this._webAuthNoRadio.domNode,t),(0,p.default)(this._acceptBtn.domNode,
this._acceptClick.bind(this)),(0,p.default)(this._saveBtn.domNode,this._saveClick.bind(this)))};w.prototype.show=function(t){this._clear();this._invitation=t;this._init();this._dialog.show()};w.prototype.hide=function(){this._dialog.hide()};w.prototype._clear=function(){this._validInvitation=this._invitation=void 0;this._dialog.set("title",this.i18n.title);k.default.hideNode(this._acceptView);k.default.hideNode(this._inviteView);k.default.hideNode(this._errorView);k.default.hideNode(this._saveView);
l.default.empty(this._inviteMsg);l.default.empty(this._inviteDesc);l.default.empty(this._inviteContact);l.default.empty(this._afterAcceptMsg);l.default.empty(this._errorView);l.default.empty(this._saveDesc);this._invitationForm.reset();this._acceptBtn.domNode.style.display="";this._saveBtn.domNode.style.display="none";this._acceptBtn.set("disabled",!0);this._webAuthNoRadio.set("checked",!0);k.default.showNode(this._acceptView)};w.prototype._init=function(){this._initSaveResponse(this._invitation);
this._initAdminHelpMap()};w.prototype._initAdminHelpMap=function(){f.default.isPortal()&&(this._adminGuideUrl=b.default.self.helpBase,this._adminGuideMap=b.default.self.helpMap.m)};w.prototype._initSaveResponse=function(t){if(null===t||void 0===t?0:t.invitationString){t=JSON.parse(t.invitationString);var z=t.invitationResponse||t.invitationRequest}else t&&(z=t);z&&(this._validInvitation=z,t=n.default.substitute(this.i18n.saveDesc,{host:z.hostPortalName||z.hostPortalUrl}),this._saveDesc.innerHTML=
t,this._dialog.set("title",this.i18n.saveTitle),k.default.hideNode(this._acceptView),k.default.showNode(this._saveView),this._acceptBtn.domNode.style.display="none",this._saveBtn.domNode.style.display="")};w.prototype._invitationFileChange=function(){var t=this;this.clearError();this._validateInvitation(this._invitationForm).then(function(z){if(null===z||void 0===z?0:z.invitationRequest){z=z.invitationRequest;var x=n.default.substitute(t.i18n.inviteText,{host:z.hostPortalName,collaboration:z.collaborationName}),
y=n.default.substitute(t.i18n.afterAccept,{collaboration:z.collaborationName}),A=n.default.substitute(t.i18n.saveDesc,{host:z.hostPortalName}),B=l.default.create("span",{class:"esriItemLinks"}),D="ja"===v.default.locale?[z.contactLastname,z.contactFirstname].join(" "):[z.contactFirstname,z.contactLastname].join(" ");t._validInvitation=z;"online"===z.hostPortalType&&k.default.hideNode(t._useWebAuthContainer);l.default.create("a",{href:"mailto:".concat(z.contactEmailAddress),innerHTML:D,"aria-label":n.default.substitute(t.i18n.sendEmailTo,
{name:D})},B);t._inviteMsg.innerHTML=x;t._inviteDesc.innerHTML=z.collaborationDescription;l.default.place(B,t._inviteContact,"only");t._afterAcceptMsg.innerHTML=y;t._saveDesc.innerHTML=A;k.default.hideNode(t._errorView);k.default.showNode(t._inviteView);t._acceptBtn.set("disabled",!1);t._positionDialog();t._positionDialog()}else t._showError(t.i18n.invalidInvitation),t._acceptBtn.set("disabled",!0)},function(z){var x=t.i18n.invalidInvitation;z.messageCode&&("COLLAB_0010"===z.messageCode?x=t.i18n.wrongRecipient:
"COLLAB_0036"===z.messageCode?x=t.i18n.usedInvitation:"COLLAB_0070"===z.messageCode||"COLLAB_0071"===z.messageCode?x=t.i18n.unsupportedVersion:"COLLAB_0072"===z.messageCode?x=t.i18n.multipleOnlineUnsupported:"COLLAB_0077"===z.messageCode?x=t.i18n.onlineGuestUnsupported:f.default.isPortal()&&"COLLAB_0064"===z.messageCode&&(x="".concat(t._adminGuideUrl).concat(t._adminGuideMap["120001173"]),z=z.message.substring(z.message.indexOf("'")+1,z.message.lastIndexOf("'")),z=n.default.substitute(t.i18n.sslCertValidationMsg+
t.i18n.sslCertNextStepsMsg,{portal:z,linkStart:'\x3cspan class\x3d"esriItemLinks"\x3e\x3ca href\x3d"'.concat(x,'" target\x3d"_blank"\x3e'),linkEnd:"\x3c/a\x3e\x3c/span\x3e"}),x=t.i18n.errorAccepting,t._showModalError(z,t.i18n.sslCertError)));t._showError(x);t._acceptBtn.set("disabled",!0)})};w.prototype._positionDialog=function(){this._dialog.resize();this._dialog._position()};w.prototype._webAuthRadioClick=function(){var t=this._webAuthNoRadio.get("checked"),z=this._webAuthYesRadio.get("checked");
t?(k.default.hideNode(this._webAuthContainer),this._webAuthUsername.set("value",""),this._webAuthPassword.set("value",""),this._webAuthCertificatePassword.set("value","")):z&&k.default.showNode(this._webAuthContainer);this._positionDialog()};w.prototype._acceptClick=function(){var t=this,z=b.default.self.user,x=!1,y;if(this._validInvitation){this._acceptBtn.set("disabled",!0);var A=l.default.create("input",{type:"hidden",name:"guestContactFirstname",value:z.firstName||z.fullName||""},this._invitationForm),
B=l.default.create("input",{type:"hidden",name:"guestContactLastname",value:z.lastName||""},this._invitationForm),D=l.default.create("input",{type:"hidden",name:"guestContactEmailAddress",value:z.email},this._invitationForm);this._acceptInvitation(this._invitationForm).then(function(C){t._acceptBtn.set("disabled",!1);l.default.destroy(A);l.default.destroy(B);l.default.destroy(D);C&&C.messageCode&&("COLLAB_0038"===C.messageCode?(t._showModalError(t.i18n.alreadyAccepted),x=!0):"COLLAB_0087"===C.messageCode?
(t._showModalError(t.i18n.webTierAuthInvalid),x=!0):"COLLAB_0089"===C.messageCode&&(t._showModalError(t.i18n.webTierAuthRequired),x=!0));x||(q.default.publish("collaboration-invitation/accept",C),t._initSaveResponse(t._validInvitation))},function(C){t._acceptBtn.set("disabled",!1);y=(null===C||void 0===C?0:C.messageCode)?"COLLAB_0077"===C.messageCode?t.i18n.onlineGuestUnsupported:"COLLAB_0072"===C.messageCode?t.i18n.multipleOnlineUnsupported:"COLLAB_0087"===C.messageCode?t.i18n.webTierAuthInvalid:
"COLLAB_0089"===C.messageCode?t.i18n.webTierAuthRequired:t.i18n.errorAccepting:t.i18n.errorAccepting;l.default.destroy(A);l.default.destroy(B);l.default.destroy(D);t._showModalError(y)})}};w.prototype._saveClick=function(){var t=f.default.getUser().token;if(this._invitation){var z=JSON.parse(this._invitation.invitationString);z=z.invitationRequest||z.invitationResponse}else z=this._validInvitation;this._saveBtn.set("disabled",!0);z=l.default.create("form",{target:"_blank",action:n.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/exportInvitationResponse",
{baseUrl:this._getRestURL(),collaborationId:z.collaborationId}),method:"post",enctype:"multipart/form-data"});l.default.create("input",{type:"hidden",name:"token",value:t},z);l.default.create("input",{type:"hidden",name:"f",value:"json"},z);document.body.appendChild(z);try{z.submit(),this._saveBtn.set("disabled",!1),l.default.destroy(z),this.hide()}catch(x){this._saveBtn.set("disabled",!1),l.default.destroy(z),this._showModalError(this.i18n.exportError)}};w.prototype.clearError=function(){l.default.empty(this._errorView);
k.default.hideNode(this._errorView)};w.prototype._showError=function(t){k.default.hideNode(this._inviteView);t&&(this._errorView.innerHTML=t,k.default.showNode(this._errorView),this._errorView.focus())};return w=a.__decorate([(0,h.default)(u.default,r.default,e.default,m.default)],w)}()})},"arcgisonline/sharing/dijit/dialog/CreateCollaborationDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/utils/dom ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/on dojo/string dojo/mouse dojo/topic dojo/promise/all dojo/dom dojo/Deferred dojo/store/Memory esri/lang dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/CreateCollaborationDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);return function(){function A(){this.baseClass="esriCollabWizDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=y.default;this.i18n=a.__assign(a.__assign(a.__assign({},x.default.common),x.default.createCollaborationDlg),{hoursLabel:x.default.guestEditWorkspaceDlg.hoursLabel,step4:x.default.createWorkspaceDlg.step3,featureLayersSent:x.default.createWorkspaceDlg.featureLayersSent,featureLayersSentPortal:x.default.createWorkspaceDlg.featureLayersSentPortal,byReference:x.default.createWorkspaceDlg.byReference,
byValue:x.default.createWorkspaceDlg.byValue,byReferenceDesc:x.default.createWorkspaceDlg.byReferenceDesc,byReferenceDescPortal:x.default.createWorkspaceDlg.byReferenceDescPortal,byValueDesc:x.default.createWorkspaceDlg.byValueDesc,byValueDescPortal:x.default.createWorkspaceDlg.byValueDescPortal,enableSyncTooltip:x.default.createWorkspaceDlg.enableSyncTooltip,enableSyncTooltipPortal:x.default.createWorkspaceDlg.enableSyncTooltipPortal,syncIntervalLabel:x.default.createWorkspaceDlg.syncIntervalLabel,
nextSyncLabel:x.default.createWorkspaceDlg.nextSyncLabel,groupOwnerNotPublisher:x.default.createWorkspaceDlg.groupOwnerNotPublisher,shareRefOnCopyFail:x.default.createWorkspaceDlg.shareRefOnCopyFail,allow2Way:x.default.createWorkspaceDlg.allow2Way})}A.prototype.destroy=function(){this.inherited(arguments);b.default.hideDefaultCheckErrorMessage=!1;this._enableSyncTooltipHandler&&this._enableSyncTooltipHandler.remove()};A.prototype.show=function(B){var D=this;this._portalVersion=B;this._initUI().then(function(){D._dialog.show()})};
A.prototype.hide=function(){this._dialog.hide()};A.prototype._initUI=function(){this._initHandlers();return this._configureUI()};A.prototype._initHandlers=function(){var B=this.hide.bind(this),D=this._copyDataChange.bind(this);this.own((0,g.default)(this._step1CancelBtn.domNode,B),(0,g.default)(this._step2CancelBtn.domNode,B),(0,g.default)(this._step3CancelBtn.domNode,B),(0,g.default)(this._step4CancelBtn.domNode,B),(0,g.default)(this._step2BackBtn.domNode,this._goToCollaborationDetails.bind(this)),
(0,g.default)(this._step3BackBtn.domNode,this._goToWorkspaceDetails.bind(this)),(0,g.default)(this._step4BackBtn.domNode,this._goToGroupDetails.bind(this)),(0,g.default)(this._step1NextBtn.domNode,this._checkCollaborationDetails.bind(this)),(0,g.default)(this._step2NextBtn.domNode,this._checkWorkspaceDetails.bind(this)),(0,g.default)(this._step3NextBtn.domNode,this._checkGroupDetails.bind(this)),(0,g.default)(this._createBtn.domNode,this._createNewCollaboration.bind(this)),(0,g.default)(this._createInviteBtn.domNode,
this._createNewCollaborationAndInvite.bind(this)),(0,g.default)(this._newGroupRadio.domNode,this._newGroupRadioClick.bind(this)),(0,g.default)(this._existingGroupRadio.domNode,this._existingGroupRadioClick.bind(this)),(0,p.default)(this._existingGroupSelect,"change",this._existingGroupChange.bind(this)),(0,g.default)(this._byReferenceRadio.domNode,D),(0,g.default)(this._byValueRadio.domNode,D))};A.prototype._configureUI=function(){var B=this,D;b.default.hideDefaultCheckErrorMessage=!0;var C=m.default.getUser(),
E=m.default.isPortal(),H=new w.default,G=null===(D=b.default.collaborationSettings)||void 0===D?void 0:D.supportsCopyFeatureServiceData,F,I;this._selectedStep=this._stackCollaboration;this._collaborationName.set("placeholder",this.i18n.collaborationNamePlaceholder);this._collaborationName.domNode.classList.add("collab-dijit-textbox");this._collaborationDesc.placeholder=this.i18n.collaborationDescPlaceholder;this._workspaceName.set("placeholder",this.i18n.workspaceNamePlaceholder);this._workspaceName.domNode.classList.add("collab-dijit-textbox");
this._workspaceDesc.placeholder=this.i18n.workspaceDescPlaceholder;this._newGroupRadio.set("checked",!0);this._newGroupName.set("placeholder",this.i18n.newGroupNamePlaceholder);this._newGroupName.set("required",!0);this._existingGroupSelect.set("required",!1);this._existingGroupSelect.set("disabled",!0);this._existingGroupSelect.set("searchAttr","title");this._copyDataTitle.innerHTML=this.i18n.featureLayersSentPortal;this._copyDataDesc.innerHTML=this.i18n.byReferenceDescPortal;m.default.createStepProgressIndicatorAndPlace(1,
4,this._stepHeader1,"first");m.default.createStepProgressIndicatorAndPlace(2,4,this._stepHeader2,"first");m.default.createStepProgressIndicatorAndPlace(3,4,this._stepHeader3,"first");m.default.createStepProgressIndicatorAndPlace(4,4,this._stepHeader4,"first");this._tagsLabel.setAttribute("for",this._tags._inputTextBox.id);this._syncSettingLabel.innerHTML=E?this.i18n.syncImmediately:this.i18n.syncScheduled;f.default.showHide(this._guestControlContainer,!E);f.default.showHide(this._copyDataContainer,
G);(0,c.default)({tags:m.default.loadUserTags(C.username),groups:this._loadGroups()}).then(function(J){F=J.tags||[];I=J.groups||[];B._tags.set("knownTags",F);B._existingGroupSelect.set("store",new t.default({idProperty:"id",label:"title",data:I}));0<I.length&&(B._existingGroupSelect.set("value",I[0].id),B._existingGroupSelect.set("displayedValue",I[0].title));H.resolve()},function(){B._existingGroupSelect.set("store",new t.default({idProperty:"id",label:"title",data:[]}));H.resolve()});return H};
A.prototype._checkCollaborationDetails=function(){var B=this._collaborationName.get("value"),D=n.default.trim(this._collaborationDesc.value);""===B?this._createOneTimeTooltip(this.i18n.collaborationNameRequired,this._step1NextBtn.domNode):this._nameContainsInvalidCharacters(B)?this._createOneTimeTooltip(this.i18n.collaborationNameInvalid,this._step1NextBtn.domNode):""===D?this._createOneTimeTooltip(this.i18n.collaborationDescRequired,this._step1NextBtn.domNode):this._goToWorkspaceDetails()};A.prototype._checkWorkspaceDetails=
function(){var B=this._workspaceName.get("value"),D=n.default.trim(this._workspaceDesc.value);""===B?this._createOneTimeTooltip(this.i18n.workspaceNameRequired,this._step2NextBtn.domNode):this._nameContainsInvalidCharacters(B)?this._createOneTimeTooltip(this.i18n.workspaceNameInvalid,this._step2NextBtn.domNode):""===D?this._createOneTimeTooltip(this.i18n.workspaceDescRequired,this._step2NextBtn.domNode):this._goToGroupDetails()};A.prototype._checkGroupDetails=function(){if(!0===this._newGroupRadio.get("checked")){var B=
this._newGroupName.get("value");B?this._nameContainsInvalidCharacters(B)?this._createOneTimeTooltip(this.i18n.groupNameInvalid,this._step3NextBtn.domNode):this._goToSyncDetails():this._createOneTimeTooltip(this.i18n.groupNameRequired,this._step3NextBtn.domNode)}else this._existingGroupSelect.get("value")?this._goToSyncDetails():this._createOneTimeTooltip(this.i18n.groupRequired,this._step3NextBtn.domNode)};A.prototype._goToCollaborationDetails=function(){this._stackContainer.selectChild(this._stackCollaboration,
!1);this._selectedStep=this._stackCollaboration;this._collaborationName.focus()};A.prototype._goToWorkspaceDetails=function(){this._stackContainer.selectChild(this._stackWorkspace,!1);this._selectedStep=this._stackWorkspace;this._workspaceName.focus()};A.prototype._goToGroupDetails=function(){this._stackContainer.selectChild(this._stackGroup,!1);this._selectedStep=this._stackGroup;this._newGroupName.focus()};A.prototype._goToSyncDetails=function(){this._stackContainer.selectChild(this._stackSync,
!1);this._selectedStep=this._stackSync};A.prototype._createNewCollaborationAndInvite=function(){this._inviteAfterCreate=!0;this._createNewCollaboration()};A.prototype._createNewCollaboration=function(){var B=this,D,C=this._collaborationName.get("value"),E=n.default.trim(this._collaborationDesc.value),H=this._workspaceName.get("value"),G=n.default.trim(this._workspaceDesc.value),F=!0===this._newGroupRadio.get("checked"),I=null===(D=b.default.collaborationSettings)||void 0===D?void 0:D.supportsCopyFeatureServiceData,
J=I&&!0===this._byValueRadio.get("checked"),K=I&&!0===this._allow2Way.checked,P=I&&!0===this._copyByRefOnCopyFail.checked,T=b.default.self.user;this._createBtn.set("disabled",!0);this._createInviteBtn.set("disabled",!0);if(F){var S=this._newGroupName.get("value");D=this._tags.get("value");D={groupResult:this._createGroup(S,D)}}else{var L=this._existingGroupSelect.get("value");D={groupResult:null}}(0,c.default)(D).then(function(N){var O=F&&N.groupResult.group.id?N.groupResult.group.id:L;N={name:C,
description:E,workspaceName:H,workspaceDescription:G,portalGroupId:O,hostContactFirstname:T.firstName,hostContactLastname:T.lastName,hostContactEmailAddress:T.email,accessMode:"sendAndReceive",config:JSON.stringify({})};O&&k.default.protectGroup({id:O});B._createCollaboration(N).then(function(Q){if(null===Q||void 0===Q?0:Q.code)B._createBtn.set("disabled",!1),B._createInviteBtn.set("disabled",!1),B._checkErrorDetails(Q.details,"must not be already linked")?B._showModalError(B.i18n.groupAlreadyLinked):
B._showModalError(B.i18n.createFailed);else{var V=Q.collaboration.id,X=Q.collaborationWorkspaceId,Z={enableRealtimeSync:!0,copyFeatureServiceData:J,enableFeatureServiceBidirectionalSync:K};J&&(Z.copyByRefIfCopyFail=P);B._updatePortalGroupLink(V,X,O,Z).then(function(ca){B._createBtn.set("disabled",!1);B._createInviteBtn.set("disabled",!1);(null===Q||void 0===Q?0:Q.code)?B._showModalError(B.i18n.linkGroupFailed):(B._inviteAfterCreate||B._showModalNotice(n.default.substitute(B.i18n.createSuccess,{collaboration:C})),
l.default.publish("collaboration/create".concat(B._inviteAfterCreate?"-invite":""),Q),B.hide())})}},function(Q){B._createBtn.set("disabled",!1);B._createInviteBtn.set("disabled",!1);Q&&B._checkErrorDetails(Q.details,"must not be already linked")?B._showModalError(B.i18n.groupAlreadyLinked):B._showModalError(B.i18n.createFailed)})},function(N){var O,Q;B._createBtn.set("disabled",!1);B._createInviteBtn.set("disabled",!1);(null===N||void 0===N?0:N.messageCode)&&"COM_0044"===N.messageCode&&-1<(null===
(Q=null===(O=N.details)||void 0===O?void 0:O[0])||void 0===Q?void 0:Q.indexOf("already have a group named"))?B._showModalError(n.default.substitute(B.i18n.duplicateGroup,{group:S})):N&&N.messageCode&&"GWM_0021"===N.messageCode?B._showModalError(N.message):B._showModalError(n.default.substitute(B.i18n.createGroupFailed,{group:S}))})};A.prototype._checkExistingGroup=function(){var B=this,D=this._existingGroupSelect.get("store").query({id:this._existingGroupSelect.get("value")}).shift();this._step3NextBtn.set("disabled",
!0);z.default.isDefined(D.ownerCanPublishFeatures)?D.ownerCanPublishFeatures?this._step3NextBtn.set("disabled",!1):this._showModalNotice(this.i18n.groupOwnerNotPublisher):this._checkGroupOwnerForFeaturePublishCapabilities(D).then(function(C){D.ownerCanPublishFeatures=C.ownerCanPublishFeatures;D.ownerCanPublishFeatures?B._step3NextBtn.set("disabled",!1):B._showModalNotice(B.i18n.groupOwnerNotPublisher)})};A.prototype._newGroupRadioClick=function(){this._existingGroupSelect.set("disabled",!0);this._newGroupName.set("disabled",
!1);this._tags._inputTextBox.set("disabled",!1);this._tags.domNode.classList.remove("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(B){B.classList.remove("disabledBorder")});this._step3NextBtn.set("disabled",!1);this._newGroupName.focus()};A.prototype._existingGroupRadioClick=function(){this._newGroupName.set("disabled",!0);this._tags._inputTextBox.set("disabled",!0);this._tags.domNode.classList.add("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(B){B.classList.add("disabledBorder")});
this._existingGroupSelect.set("disabled",!1);this._selectedStep===this._stackGroup&&this._checkExistingGroup()};A.prototype._existingGroupChange=function(){this._selectedStep===this._stackGroup&&this._checkExistingGroup()};A.prototype._copyDataChange=function(){var B=this,D="".concat(b.default.self.helpBase).concat(b.default.self.helpMap.m["120002141"]||""),C=this._byValueRadio.get("checked");D="".concat(n.default.substitute(this.i18n.byValueDescPortal,{tooltipStart:'\x3cspan id\x3d"create-collaboration-dlg-by-value-desc" class\x3d"hasTooltip"\x3e',
tooltipEnd:"\x3c/span\x3e"}),' \x3ca href\x3d"').concat(D,'" target\x3d"_blank"\x3e').concat(this.i18n.learnMore,"\x3c/a\x3e");var E=this._portalSupports2Way(this._portalVersion);this._copyDataDesc.innerHTML=C?D:this.i18n.byReferenceDescPortal;f.default.showHide(this._allow2WayOption,C&&E);f.default.showHide(this._copyDataFailureOption,C);if(C){var H=d.default.byId("create-collaboration-dlg-by-value-desc");this._enableSyncTooltipHandler=(0,p.default)(H,q.default.enter,function(){B._createOneTimeTooltip(B.i18n.enableSyncTooltipPortal,
H,!0)})}else this._enableSyncTooltipHandler&&this._enableSyncTooltipHandler.remove()};return A=a.__decorate([(0,u.default)(r.default,e.default,v.default,h.default)],A)}()})},"arcgisonline/sharing/dijit/dialog/CreateWorkspaceDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/utils/dom ../../util ../ComboBox ./_CollaborationsDialogMixin arcgisonline/tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/_base/kernel dojo/on dojo/string dojo/mouse dojo/topic dojo/promise/all dojo/dom-construct dojo/Deferred dojo/store/Memory esri/lang dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/CreateWorkspaceDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=
a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);return function(){function D(){this.baseClass="esriCollabWizDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=B.default;this.i18n=a.__assign(a.__assign(a.__assign({},A.default.common),A.default.createCollaborationDlg),A.default.createWorkspaceDlg);this.RECEIVE="receive";this.SEND="send";this.SEND_AND_RECEIVE="sendAndReceive";this.ACCESS_MODE_LABELS={};this.NEW_WORKSPACE="new";this.EDIT_WORKSPACE="edit"}
D.prototype.destroy=function(){this.inherited(arguments);b.default.hideDefaultCheckErrorMessage=!1;this._enableSyncTooltipHandler&&this._enableSyncTooltipHandler.remove()};D.prototype.show=function(C,E,H){var G=this;this._participant=C;this._participantId=C.portalInfo.id;this._collaboration=E;this._workspace=H;this._participants=void 0;this._comboBoxes={};this._mode=this._initMode(E,H);this.ACCESS_MODES[this.i18n.receiveContent]=this.RECEIVE;this.ACCESS_MODES[this.i18n.sendContent]=this.SEND;this.ACCESS_MODES[this.i18n.sendAndReceiveContent]=
this.SEND_AND_RECEIVE;this.ACCESS_MODE_LABELS={};this.ACCESS_MODE_LABELS[this.RECEIVE]=this.i18n.receiveContent;this.ACCESS_MODE_LABELS[this.SEND]=this.i18n.sendContent;this.ACCESS_MODE_LABELS[this.SEND_AND_RECEIVE]=this.i18n.sendAndReceiveContent;this._initUI().then(function(){G._dialog.show()})};D.prototype.hide=function(){this._dialog.hide()};D.prototype._initUI=function(){this._initHandlers();return this._configureUI()};D.prototype._initHandlers=function(){var C=this.hide.bind(this),E=this._copyDataChange.bind(this);
this.own((0,p.default)(this._step1CancelBtn.domNode,C),(0,p.default)(this._step2CancelBtn.domNode,C),(0,p.default)(this._step3CancelBtn.domNode,C),(0,p.default)(this._step4CancelBtn.domNode,C),(0,p.default)(this._step2BackBtn.domNode,this._goToWorkspaceDetails.bind(this)),(0,p.default)(this._step3BackBtn.domNode,this._goToGroupDetails.bind(this)),(0,p.default)(this._step4BackBtn.domNode,this._goToSyncDetails.bind(this)),(0,p.default)(this._step1NextBtn.domNode,this._checkWorkspaceDetails.bind(this)),
(0,p.default)(this._step2NextBtn.domNode,this._checkGroupDetails.bind(this)),(0,p.default)(this._step3NextBtn.domNode,this._goToAccessDetails.bind(this)),(0,p.default)(this._createBtn.domNode,this._checkAccessDetails.bind(this)),(0,p.default)(this._updateBtn.domNode,this._checkAccessDetails.bind(this)),(0,p.default)(this._newGroupRadio.domNode,this._newGroupRadioClick.bind(this)),(0,p.default)(this._existingGroupRadio.domNode,this._existingGroupRadioClick.bind(this)),(0,q.default)(this._existingGroupSelect,
"change",this._existingGroupChange.bind(this)),(0,p.default)(this._byReferenceRadio.domNode,E),(0,p.default)(this._byValueRadio.domNode,E))};D.prototype._initMode=function(C,E){return C&&(null===E||void 0===E?0:E.id)&&C.id===E.collaborationId?this.EDIT_WORKSPACE:this.NEW_WORKSPACE};D.prototype._configureUI=function(){var C=this,E;b.default.hideDefaultCheckErrorMessage=!0;var H=m.default.getUser(),G=m.default.isPortal(),F=new z.default,I=null===(E=b.default.collaborationSettings)||void 0===E?void 0:
E.supportsCopyFeatureServiceData,J,K,P,T,S,L;this._selectedStep=this._stackWorkspace;this._workspaceName.set("placeholder",this.i18n.workspaceNamePlaceholder);this._workspaceDesc.placeholder=this.i18n.workspaceDescPlaceholder;this._newGroupName.set("placeholder",this.i18n.newGroupNamePlaceholder);this._updateBtn.domNode.style.display="none";this._existingGroupSelect.set("searchAttr","title");this._copyDataTitle.innerHTML=this.i18n.featureLayersSentPortal;this._copyDataDesc.innerHTML=this.i18n.byReferenceDescPortal;
m.default.createStepProgressIndicatorAndPlace(1,4,this._stepHeader1,"first");m.default.createStepProgressIndicatorAndPlace(2,4,this._stepHeader2,"first");m.default.createStepProgressIndicatorAndPlace(3,4,this._stepHeader3,"first");m.default.createStepProgressIndicatorAndPlace(4,4,this._stepHeader4,"first");this._mode===this.EDIT_WORKSPACE&&(this._dialog.domNode.title=this.i18n.editTitle,this._createBtn.domNode.style.display="none",this._updateBtn.domNode.style.display="");this._tagsLabel.setAttribute("for",
this._tags._inputTextBox.id);this._syncSettingLabel.innerHTML=G?this.i18n.syncImmediately:this.i18n.syncScheduled;f.default.showHide(this._guestControlContainer,!G);(0,w.default)({participantsResult:this._fetchCollaborationParticipants(this._collaboration.id),tags:m.default.loadUserTags(H.username),groups:this._loadGroups()}).then(function(N){var O;C._participants=(null===(O=N.participantsResult)||void 0===O?void 0:O.participants)||[];L=N.tags||[];S=N.groups||[];C._tags.set("knownTags",L);C._existingGroupSelect.set("store",
new x.default({idProperty:"id",label:"title",data:S}));if(C._mode===C.EDIT_WORKSPACE){C._workspaceName.set("value",C._workspace.name);C._workspaceDesc.value=C._workspace.description;if(K=C._findWorkspaceGroup(C._participantId,C._workspace))J=C._existingGroupSelect.get("store"),T=J.query({id:K.id}),0===T.length?J.put(K):0<T.length&&(K=T[0]),C._existingGroupRadio.set("checked",!0),C._existingGroupRadioClick(),C._existingGroupSelect.set("value",K.id),C._existingGroupSelect.set("displayedValue",K.title);
P=C._findWorkspaceGroupLink(C._participantId,C._workspace);if(null===P||void 0===P?0:P.config)C._syncSettingLabel.innerHTML=G&&P.config.enableRealtimeSync?C.i18n.syncImmediately:C.i18n.syncScheduled;if(null===P||void 0===P?0:P.config)P.config.copyFeatureServiceData&&I?(C._byValueRadio.set("checked",!0),C._byReferenceRadio.set("disabled",!0),C._byValueRadio.set("disabled",!0),C._workspace.config&&y.default.isDefined(C._workspace.config.bidirectionalSyncCapable)&&(N=P.config.enableFeatureServiceBidirectionalSync,
C._allow2Way.disabled=!C._workspace.config.bidirectionalSyncCapable||N,C._allow2Way.checked=N),C._copyByRefOnCopyFail.checked=!!P.config.copyByRefIfCopyFail,C._copyDataChange()):C._byReferenceRadio.set("checked",!0)}else C._newGroupRadio.set("checked",!0),C._newGroupRadioClick(),0<S.length&&(C._existingGroupSelect.set("value",S[0].id),C._existingGroupSelect.set("displayedValue",S[0].title));f.default.showHide(C._copyDataContainer,I);C._buildParticipantUI(C._participants);F.resolve()},function(){C._existingGroupSelect.set("store",
new x.default({idProperty:"id",label:"title",data:[]}));F.resolve()});return F};D.prototype._checkWorkspaceDetails=function(){var C=this._workspaceName.get("value"),E=l.default.trim(this._workspaceDesc.value);""===C?this._createOneTimeTooltip(this.i18n.workspaceNameRequired,this._step1NextBtn.domNode):this._nameContainsInvalidCharacters(C)?this._createOneTimeTooltip(this.i18n.workspaceNameInvalid,this._step1NextBtn.domNode):""===E?this._createOneTimeTooltip(this.i18n.workspaceDescRequired,this._step1NextBtn.domNode):
this._goToGroupDetails()};D.prototype._checkGroupDetails=function(){if(!0===this._newGroupRadio.get("checked")){var C=this._newGroupName.get("value");C?this._nameContainsInvalidCharacters(C)?this._createOneTimeTooltip(this.i18n.groupNameInvalid,this._step2NextBtn.domNode):this._goToSyncDetails():this._createOneTimeTooltip(this.i18n.groupNameRequired,this._step2NextBtn.domNode)}else this._existingGroupSelect.get("value")?this._goToSyncDetails():this._createOneTimeTooltip(this.i18n.groupRequired,this._step2NextBtn.domNode)};
D.prototype._checkAccessDetails=function(){this._commitWorkspace()};D.prototype._goToWorkspaceDetails=function(){this._stackContainer.selectChild(this._stackWorkspace,!1);this._selectedStep=this._stackWorkspace;this._workspaceName.focus()};D.prototype._goToGroupDetails=function(){this._stackContainer.selectChild(this._stackGroup,!1);this._selectedStep=this._stackGroup;this._newGroupName.focus()};D.prototype._goToSyncDetails=function(){this._stackContainer.selectChild(this._stackSync,!1);this._selectedStep=
this._stackSync};D.prototype._goToAccessDetails=function(){this._stackContainer.selectChild(this._stackAccess,!1);this._selectedStep=this._stackAccess};D.prototype._commitWorkspace=function(){var C=this,E,H=this._mode,G=this._collaboration,F=this._workspaceName.get("value"),I=l.default.trim(this._workspaceDesc.value),J=H===this.EDIT_WORKSPACE,K=!0===this._newGroupRadio.get("checked"),P=(H=null===(E=b.default.collaborationSettings)||void 0===E?void 0:E.supportsCopyFeatureServiceData)&&!0===this._byValueRadio.get("checked"),
T=H&&!0===this._allow2Way.checked,S=H&&!0===this._copyByRefOnCopyFail.checked,L=G.id,N=J&&this._workspace?this._workspace.id:void 0;E=J&&this._workspace?this._workspace.config:{};var O=this._mode===this.EDIT_WORKSPACE?this._updateBtn:this._createBtn,Q={},V,X,Z,ca;O.set("disabled",!0);if(K){var R=this._newGroupName.get("value");G=this._tags.get("value");G={newGroup:this._createGroup(R,G)}}else{var Y=this._existingGroupSelect.get("value");G={newGroup:null}}E.enableCopyData=P;(0,w.default)(G).then(function(ba){var aa=
K&&ba.newGroup.group.id?ba.newGroup.group.id:Y;ba=J?C._updateWorkpace(L,N,F,I):C._addWorkspace(L,F,I,aa);aa&&k.default.protectGroup({id:aa});ba.then(function(W){if(J)if(null===W||void 0===W?0:W.code)O.set("disabled",!1),C._showModalError(C.i18n.updateFailed);else{var da=C._findWorkspaceGroupLink(C._participantId,C._workspace),ea=!1;da&&da.config?(Q.enableRealtimeSync=da.config.enableRealtimeSync,ea=da.config.bidirectionalSyncCapable):Q.enableRealtimeSync=!0;if(Q.copyFeatureServiceData=P)Q.copyByRefIfCopyFail=
S;Q.enableFeatureServiceBidirectionalSync=ea||T;C._updatePortalGroupLink(L,N,aa,Q).then(function(ja){(null===W||void 0===W?0:W.code)?(O.set("disabled",!1),C._checkErrorDetails(W.details,"must not be already linked")?C._showModalError(C.i18n.groupSwitchAlreadyLinked):C._showModalError(C.i18n.linkGroupFailed)):((C._participants||[]).forEach(function(fa){V=fa.portalInfo.id;ca=C._comboBoxes[V];Z={};X=[];fa.collaborationRole===C.COLLABORATION_ROLE.GUEST&&ca?(Z[N]=C.ACCESS_MODES[ca.get("value")],X.push(C._updateParticipantAccessModes(L,
V,[Z]))):fa.collaborationRole===C.COLLABORATION_ROLE.HOST&&(Z[N]=C.SEND_AND_RECEIVE,X.push(C._updateParticipantAccessModes(L,V,[Z])))}),(0,w.default)(X).then(function(fa){(null===W||void 0===W?0:W.code)?(O.set("disabled",!1),C._showModalError(C.i18n.accessModeFailed)):(O.set("disabled",!1),k.default.createConfirmationDialog({strings:{title:C.i18n.notice,ok:C.i18n.ok,description:l.default.substitute(C.i18n.updateSuccess,{workspace:F})},autoCloseOnOk:!0,hideCancel:!0}),d.default.publish("collaboration-workspace/update",
W),C.hide())},function(fa){O.set("disabled",!1);C._showModalError(C.i18n.accessModeFailed)}))},function(ja){O.set("disabled",!1);ja&&C._checkErrorDetails(ja.details,"must not be already linked")?C._showModalError(C.i18n.groupSwitchAlreadyLinked):C._showModalError(C.i18n.linkGroupFailed)})}else if(null===W||void 0===W?0:W.code)O.set("disabled",!1),C._checkErrorDetails(W.details,"must not be already linked")?C._showModalError(C.i18n.groupAlreadyLinked):C._showModalError(C.i18n.createFailed);else{J||
N||(N=W.workspace.id);Q.enableRealtimeSync=!0;if(Q.copyFeatureServiceData=P)Q.copyByRefIfCopyFail=S;Q.enableFeatureServiceBidirectionalSync=T;C._updatePortalGroupLink(L,N,aa,Q).then(function(ja){if(null===W||void 0===W?0:W.code)O.set("disabled",!1),C._checkErrorDetails(W.details,"must not be already linked")?C._showModalError(C.i18n.groupSwitchAlreadyLinked):C._showModalError(C.i18n.linkGroupFailed)},function(ja){O.set("disabled",!1);ja&&C._checkErrorDetails(ja.details,"must not be already linked")?
C._showModalError(C.i18n.groupSwitchAlreadyLinked):C._showModalError(C.i18n.linkGroupFailed)});(C._participants||[]).forEach(function(ja){V=ja.portalInfo.id;ca=C._comboBoxes[V];Z={};X=[];ja.collaborationRole===C.COLLABORATION_ROLE.GUEST&&ca?(Z[N]=C.ACCESS_MODES[ca.get("value")],X.push(C._updateParticipantAccessModes(L,V,[Z]))):ja.collaborationRole===C.COLLABORATION_ROLE.HOST&&(Z[N]=C.SEND_AND_RECEIVE,X.push(C._updateParticipantAccessModes(L,V,[Z])))});(0,w.default)(X).then(function(ja){(null===W||
void 0===W?0:W.code)?(O.set("disabled",!1),C._showModalError(C.i18n.accessModeFailed)):(O.set("disabled",!1),k.default.createConfirmationDialog({strings:{title:C.i18n.notice,description:l.default.substitute(C.i18n.createSuccess,{workspace:F})},autoCloseOnOk:!0,hideCancel:!0}),d.default.publish("collaboration-workspace/create",W),C.hide())},function(ja){O.set("disabled",!1);C._showModalError(C.i18n.accessModeFailed)})}},function(W){O.set("disabled",!1);!J&&W&&C._checkErrorDetails(W.details,"must not be already linked")?
C._showModalError(C.i18n.groupAlreadyLinked):C._showModalError(J?C.i18n.updateFailed:C.i18n.createFailed)})},function(ba){var aa,W;O.set("disabled",!1);"COM_0044"===(null===ba||void 0===ba?void 0:ba.messageCode)&&-1<(null===(W=null===(aa=ba.details)||void 0===aa?void 0:aa[0])||void 0===W?void 0:W.indexOf("already have a group named"))?C._showModalError(l.default.substitute(C.i18n.duplicateGroup,{group:R})):ba&&ba.messageCode&&"GWM_0021"===ba.messageCode?C._showModalError(ba.message):C._showModalError(l.default.substitute(C.i18n.createGroupFailed,
{group:R}))})};D.prototype._buildParticipantUI=function(C){var E=this,H=this._mode===this.NEW_WORKSPACE,G=this._workspace;(C||[]).forEach(function(F){F.collaborationRole===E.COLLABORATION_ROLE.GUEST&&(H||G)&&E._createParticipantUI(F)})};D.prototype._createParticipantUI=function(C){var E,H,G=(null===(E=C.portalInfo)||void 0===E?void 0:E.name)||(C.config?"ja"===n.default.locale?"".concat(C.config.contactLastname," ").concat(C.config.contactFirstname):"".concat(C.config.contactFirstname," ").concat(C.config.contactLastname):
"");E=(null===(H=C.portalInfo)||void 0===H?void 0:H.url)||"";H=t.default.create("div",{class:"access-list-row"},this._participantsContainer);t.default.create("div",{class:"left access-list-column",innerHTML:G,title:E},H);G=t.default.create("div",{class:"right access-list-column"},H);E=new x.default({data:[{id:0,name:this.i18n.sendContent,value:this.SEND},{id:1,name:this.i18n.receiveContent,value:this.RECEIVE},{id:2,name:this.i18n.sendAndReceiveContent,value:this.SEND_AND_RECEIVE}]});this._createAccessModeSelectUI(C,
G,E);t.default.create("br",{class:"clearBreak"},H)};D.prototype._createAccessModeSelectUI=function(C,E,H){var G=this,F=C.portalInfo.id,I=!1;C=new h.default({id:"participant_".concat(F),store:H,class:"modeSelect"},t.default.create("div",null,E));C.startup();this._comboBoxes[F]=C;this._mode===this.EDIT_WORKSPACE&&((this._workspace.participantGroupLinks||[]).forEach(function(K){I||K.portalId!==F||(I=!0,J=G.ACCESS_MODE_LABELS[K.accessMode])}),I||(this._workspace.participantsWithoutGroupLinks||[]).forEach(function(K){I||
K.portalId!==F||(I=!0,J=G.ACCESS_MODE_LABELS[K.accessMode])}));var J=I&&J?J:this.ACCESS_MODE_LABELS[this.SEND];C.set("value",J)};D.prototype._checkExistingGroup=function(){var C=this,E=this._existingGroupSelect.get("store").query({id:this._existingGroupSelect.get("value")}).shift();this._step2NextBtn.set("disabled",!0);y.default.isDefined(E.ownerCanPublishFeatures)?E.ownerCanPublishFeatures?this._step2NextBtn.set("disabled",!1):this._showModalNotice(this.i18n.groupOwnerNotPublisher):this._checkGroupOwnerForFeaturePublishCapabilities(E).then(function(H){E.ownerCanPublishFeatures=
H.ownerCanPublishFeatures;E.ownerCanPublishFeatures?C._step2NextBtn.set("disabled",!1):C._showModalNotice(C.i18n.groupOwnerNotPublisher)})};D.prototype._newGroupRadioClick=function(){this._existingGroupSelect.set("disabled",!0);this._newGroupName.set("disabled",!1);this._tags._inputTextBox.set("disabled",!1);this._tags.domNode.classList.remove("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(C){C.classList.remove("disabledBorder")});
this._step2NextBtn.set("disabled",!1);this._newGroupName.focus()};D.prototype._existingGroupRadioClick=function(){this._newGroupName.set("disabled",!0);this._tags._inputTextBox.set("disabled",!0);this._tags.domNode.classList.add("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(C){C.classList.add("disabledBorder")});this._existingGroupSelect.set("disabled",!1);this._selectedStep===this._stackGroup&&this._checkExistingGroup()};D.prototype._copyDataChange=
function(){var C=this,E="".concat(b.default.self.helpBase).concat(b.default.self.helpMap.m["120002141"]||""),H=this._byValueRadio.get("checked");E="".concat(l.default.substitute(this.i18n.byValueDescPortal,{tooltipStart:'\x3cspan id\x3d"create-workspace-dlg-by-value-desc" class\x3d"hasTooltip"\x3e',tooltipEnd:"\x3c/span\x3e"}),' \x3ca href\x3d"').concat(E,'" target\x3d"_blank"\x3e').concat(this.i18n.learnMore,"\x3c/a\x3e");var G=this._portalSupports2Way(this._participant.config.portalVersion),F=this._mode===
this.EDIT_WORKSPACE;this._copyDataDesc.innerHTML=H?E:this.i18n.byReferenceDescPortal;f.default.showHide(this._allow2WayOption,H&&G);f.default.showHide(this._copyDataFailureOption,H);F&&!this._workspace.config.bidirectionalSyncCapable&&(this._allow2Way.disabled=!0);if(H){var I=document.getElementById("create-workspace-dlg-by-value-desc");this._enableSyncTooltipHandler=(0,q.default)(I,c.default.enter,function(){C._createOneTimeTooltip(C.i18n.enableSyncTooltipPortal,I,!0)})}else this._enableSyncTooltipHandler&&
this._enableSyncTooltipHandler.remove()};D.prototype._existingGroupChange=function(){this._selectedStep===this._stackGroup&&this._checkExistingGroup()};return D=a.__decorate([(0,r.default)(e.default,v.default,g.default,u.default)],D)}()})},"arcgisonline/sharing/dijit/dialog/EditCollaborationDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../util ./_CollaborationsDialogMixin arcgisonline/tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/string dojo/topic dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/EditCollaborationDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(){this.baseClass="esriCollabWizDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=n.default;this.i18n=a.__assign(a.__assign(a.__assign({},p.default.common),
p.default.createCollaborationDlg),p.default.editCollaborationDlg)}q.prototype.postCreate=function(){this.inherited(arguments);var l=this.hide.bind(this);this.own((0,e.default)(this._step1Cancel.domNode,l),(0,e.default)(this._step2Cancel.domNode,l),(0,e.default)(this._step2Back.domNode,this._goToCollaborationDetails.bind(this)),(0,e.default)(this._step2Save.domNode,this._saveClick.bind(this)));k.default.isPortal()||b.default.collaborationDeletePolicyEnabled?this.own((0,e.default)(this._step1Next.domNode,
this._goToContentDeletion.bind(this))):(this.own((0,e.default)(this._step1Next.domNode,this._saveClick.bind(this))),this._step1Next.set("label",this.i18n.save))};q.prototype.show=function(l,c){this._host=l;this._collaboration=c;this._initUI();this._dialog.show()};q.prototype.hide=function(){this._dialog.hide()};q.prototype._initUI=function(){var l=this._host.config.collaborationItemDeletePolicy?this._host.config.collaborationItemDeletePolicy:{deleteItemsSharedToCollaboration:!1,deleteItemsReceivedFromCollaboration:!1},
c=this._createFullName(this._host.config.contactFirstname,this._host.config.contactLastname);this._collaborationName.set("value",this._collaboration.name);this._collaborationDesc.value=this._collaboration.description;this._contactName.set("value",c);this._contactEmail.set("value",this._host.config.contactEmailAddress);this._deleteSentTrue.checked=l.deleteItemsSharedToCollaboration;this._deleteSentFalse.checked=!l.deleteItemsSharedToCollaboration;this._deleteReceivedTrue.checked=l.deleteItemsReceivedFromCollaboration;
this._deleteReceivedFalse.checked=!l.deleteItemsReceivedFromCollaboration;if(k.default.isPortal()||b.default.collaborationDeletePolicyEnabled)k.default.createStepProgressIndicatorAndPlace(1,2,this._stepHeader1,"first"),k.default.createStepProgressIndicatorAndPlace(2,2,this._stepHeader2,"first")};q.prototype._validates=function(){var l=this._collaborationName.get("value"),c=v.default.trim(this._collaborationDesc.value),d=this._contactName.get("value"),w=this._contactEmail.get("value"),t=this._step2Save.domNode;
return""===l?(this._createOneTimeTooltip(this.i18n.collaborationNameRequired,t),!1):this._nameContainsInvalidCharacters(l)?(this._createOneTimeTooltip(this.i18n.collaborationNameInvalid,t),!1):""===c?(this._createOneTimeTooltip(this.i18n.collaborationDescRequired,t),!1):""===d||-1===d.indexOf(" ")?(this._createOneTimeTooltip(this.i18n.contactPersonNameRequired,t),!1):""!==w&&k.default.isValidEmailAddress(w)?!0:(this._createOneTimeTooltip(this.i18n.contactPersonEmailRequired,t),!1)};q.prototype._saveClick=
function(){var l=this,c=this._collaboration.id,d=this._collaboration.config.ownerUsername,w=this._host.portalInfo.id,t=this._collaborationName.get("value"),z=v.default.trim(this._collaborationDesc.value),x=this._contactName.get("value"),y=this._contactEmail.get("value"),A=this._deleteSentTrue.checked,B=this._deleteReceivedTrue.checked;this._validates()&&(this._step2Save.set("disabled",!0),this._updateCollaboration(c,d,t,z).then(function(D){D&&D.code?(l._step2Save.set("disabled",!1),l._showModalError(l.i18n.updateCollaborationError)):
l._updateCollaborationDeletePolicy(c,w,A,B).then(function(C){!0===C.success?l._updateParticipantContact(c,w,x,y).then(function(E){l._step2Save.set("disabled",!1);E&&E.code?l._showModalError(l.i18n.updateContactPersonError):(l._showModalNotice(l.i18n.collaborationEditSuccess),g.default.publish("collaboration/update",{collaboration:D,contact:E}),l.hide())},function(E){l._step2Save.set("disabled",!1);l._showModalError(l.i18n.updateContactPersonError)}):(l._step2Save.set("disabled",!1),l._showModalError(l.i18n.updateDeletePolicyError))},
function(C){l._step2Save.set("disabled",!1);l._showModalError(l.i18n.updateDeletePolicyError)})},function(D){l._step2Save.set("disabled",!1);l._showModalError(l.i18n.updateCollaborationError)}))};q.prototype._goToCollaborationDetails=function(){this._stackContainer.selectChild(this._stackCollaboration,!1);this._selectedStep=this._stackCollaboration;this._collaborationName.focus()};q.prototype._goToContentDeletion=function(){this._stackContainer.selectChild(this._stackContentDeletion,!1);this._selectedStep=
this._stackContentDeletion};return q=a.__decorate([(0,m.default)(h.default,u.default,r.default,f.default)],q)}()})},"arcgisonline/sharing/dijit/dialog/EditCollaborationGuestDlg":function(){define("require exports tslib ../../../pages/utils/dom ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic dojo/Deferred dojo/dom-construct dojo/store/Memory dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/EditCollaborationGuestDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=l.default;this.i18n=
a.__assign(a.__assign(a.__assign({},q.default.common),q.default.inviteCollabGuestDlg),q.default.editCollabGuestDlg);this.RECEIVE="receive";this.SEND="send";this.SEND_AND_RECEIVE="sendAndReceive";this.ACCESS_MODE_LABELS={}}c.prototype.postCreate=function(){this.inherited(arguments);this.own((0,e.default)(this._cancelBtn.domNode,this.hide.bind(this)),(0,e.default)(this._saveBtn.domNode,this._saveClick.bind(this)))};c.prototype.show=function(d,w,t){var z=this;this._collaboration=d;this._participant=
w;this._workspaces=[];this._comboBoxes={};this._contactOnly=t;this._initUI().then(function(){z._dialog.show()})};c.prototype.hide=function(){this._dialog.hide()};c.prototype._initUI=function(){var d=this,w=new g.default,t=this._collaboration.id,z=this._createFullName(this._participant.config.contactFirstname,this._participant.config.contactLastname);this.ACCESS_MODES[this.i18n.receiveContent]=this.RECEIVE;this.ACCESS_MODES[this.i18n.sendContent]=this.SEND;this.ACCESS_MODES[this.i18n.sendAndReceiveContent]=
this.SEND_AND_RECEIVE;this.ACCESS_MODE_LABELS={};this.ACCESS_MODE_LABELS[this.RECEIVE]=this.i18n.receiveContent;this.ACCESS_MODE_LABELS[this.SEND]=this.i18n.sendContent;this.ACCESS_MODE_LABELS[this.SEND_AND_RECEIVE]=this.i18n.sendAndReceiveContent;this._name.innerHTML=this._participant.portalInfo.name;this._url.innerHTML=this._participant.portalInfo.url;this._contactName.set("value",z);this._contactEmail.set("value",this._participant.config.contactEmailAddress);this._contactOnly?(this._dialog.set("title",
this.i18n.editContact),b.default.hideNode(this._workspaceAccessContainer),b.default.hideNode(this._editNoteContainer),b.default.showNode(this._editContactNoteContainer),this._orgNameLabelContainer.innerHTML=this.i18n.orgSelfNameLabel,this._saveBtn.set("label",this.i18n.save),w.resolve()):this._loadWorkspaces(t).then(function(x){d._workspaces=(null===x||void 0===x?void 0:x.workspaces)||[];d._buildWorkspaceUI(d._workspaces);w.resolve()},function(x){d._workspaces=[];d._buildWorkspaceUI(d._workspaces);
w.resolve()});return w};c.prototype._buildWorkspaceUI=function(d){var w=this;(d||[]).forEach(function(t){w._createWorkspaceUI(t)})};c.prototype._createWorkspaceUI=function(d){var w=p.default.create("div",{class:"workspace-row"},this._workspacesContainer),t=new n.default({data:[{id:0,name:this.i18n.sendContent,value:this.SEND},{id:1,name:this.i18n.receiveContent,value:this.RECEIVE},{id:2,name:this.i18n.sendAndReceiveContent,value:this.SEND_AND_RECEIVE}]}),z=this._participant.portalInfo.id;p.default.create("div",
{class:"left workspace-column-left",innerHTML:'\x3clabel for\x3d"workspace_'.concat(d.id,'"\x3e').concat(d.name,"\x3c/label\x3e")},w);var x=p.default.create("div",{class:"right workspace-column-right"},w);this._createAccessModeSelectUI(d,x,t);t=this._findWorkspaceAccessMode(z,d);d=this._comboBoxes[d.id];t?d.set("value",this.ACCESS_MODE_LABELS[t]):d.set("value",this.i18n.sendContent);p.default.create("br",{class:"clearBreak"},w)};c.prototype._validates=function(){var d=this._contactName.get("value"),
w=this._contactEmail.get("value"),t=this._saveBtn.domNode;return""===d||-1===d.indexOf(" ")?(this._createOneTimeTooltip(this.i18n.contactPersonNameRequired,t),!1):""!==w&&k.default.isValidEmailAddress(w)?!0:(this._createOneTimeTooltip(this.i18n.contactPersonEmailRequired,t),!1)};c.prototype._saveClick=function(){var d=this,w=this._collaboration.id,t=this._participant.portalInfo.id,z=this._contactName.get("value"),x=this._contactEmail.get("value"),y=[],A;this._validates()&&(this._saveBtn.set("disabled",
!0),(this._workspaces||[]).forEach(function(B){A={};A[B.id]=d.ACCESS_MODES[d._comboBoxes[B.id].get("value")];y.push(A)}),this._updateParticipantContact(w,t,z,x).then(function(B){(null===B||void 0===B?0:B.code)?(d._saveBtn.set("disabled",!1),d._showModalError(d.i18n.editError)):d._contactOnly?(d._saveBtn.set("disabled",!1),d._showModalNotice(d.i18n.editContactSuccess),v.default.publish("collaboration-guest/update",{contact:B,contactOnly:d._contactOnly}),d.hide()):d._updateParticipantAccessModes(w,
t,y).then(function(D){d._saveBtn.set("disabled",!1);(null===D||void 0===D?0:D.code)?d._showModalError(d.i18n.accessEditError):(d._showModalNotice(d.i18n.editSuccess),v.default.publish("collaboration-guest/update",{contact:B,access:D}),d.hide())},function(D){d._saveBtn.set("disabled",!1);d._showModalError(d.i18n.accessEditError)})},function(B){d._saveBtn.set("disabled",!1);d._showModalError(d.i18n.editError)}))};return c=a.__decorate([(0,m.default)(h.default,u.default,r.default,f.default)],c)}()})},
"arcgisonline/sharing/dijit/dialog/GuestEditCollaborationDlg":function(){define("require exports tslib ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/GuestEditCollaborationDlg.html".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);
u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=e.default;this.i18n=a.__assign(a.__assign(a.__assign({},r.default.common),r.default.createCollaborationDlg),r.default.editCollaborationDlg)}v.prototype.postCreate=function(){this.inherited(arguments);this.own((0,u.default)(this._cancelBtn.domNode,this.hide.bind(this)),(0,u.default)(this._saveBtn.domNode,this._saveClick.bind(this)))};
v.prototype.show=function(g,p){this._host=g;this._collaboration=p;this._initUI();this._dialog.show()};v.prototype.hide=function(){this._dialog.hide()};v.prototype._initUI=function(){var g=this._host.config.collaborationItemDeletePolicy?this._host.config.collaborationItemDeletePolicy:{deleteItemsSharedToCollaboration:!1,deleteItemsReceivedFromCollaboration:!1};this._deleteSentTrue.checked=g.deleteItemsSharedToCollaboration;this._deleteSentFalse.checked=!g.deleteItemsSharedToCollaboration;this._deleteReceivedTrue.checked=
g.deleteItemsReceivedFromCollaboration;this._deleteReceivedFalse.checked=!g.deleteItemsReceivedFromCollaboration};v.prototype._saveClick=function(){var g=this,p=this._collaboration.id,n=this._host.portalInfo.id,q=this._deleteSentTrue.checked,l=this._deleteReceivedTrue.checked;this._saveBtn.set("disabled",!0);this._updateCollaborationDeletePolicy(p,n,q,l).then(function(c){!0===c.success?(g._showModalNotice(g.i18n.collaborationEditSuccess),g.hide()):(g._saveBtn.set("disabled",!1),g._showModalError(g.i18n.updateDeletePolicyError))},
function(){g._saveBtn.set("disabled",!1);g._showModalError(g.i18n.updateDeletePolicyError)})};return v=a.__decorate([(0,k.default)(f.default,m.default,h.default,b.default)],v)}()})},"arcgisonline/sharing/dijit/dialog/GuestEditWorkspaceDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/utils/dom ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/TimeTextBox dijit/a11yclick dojo/on dojo/string dojo/mouse dojo/topic dojo/promise/all dojo/dom dojo/dom-construct dojo/Deferred dojo/store/Memory esri/lang dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!../../dijit/dialog/templates/GuestEditWorkspaceDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=
a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);return function(){function D(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=B.default;this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},A.default.common),A.default.joinWorkspaceDlg),A.default.guestEditWorkspaceDlg),{featureLayersSent:A.default.createWorkspaceDlg.featureLayersSent,featureLayersSentPortal:A.default.createWorkspaceDlg.featureLayersSentPortal,byReference:A.default.createWorkspaceDlg.byReference,
byValue:A.default.createWorkspaceDlg.byValue,byReferenceDesc:A.default.createWorkspaceDlg.byReferenceDesc,byReferenceDescPortal:A.default.createWorkspaceDlg.byReferenceDescPortal,byValueDesc:A.default.createWorkspaceDlg.byValueDesc,byValueDescPortal:A.default.createWorkspaceDlg.byValueDescPortal,enableSyncTooltip:A.default.createWorkspaceDlg.enableSyncTooltip,enableSyncTooltipPortal:A.default.createWorkspaceDlg.enableSyncTooltipPortal,groupOwnerNotPublisher:A.default.createWorkspaceDlg.groupOwnerNotPublisher,
shareRefOnCopyFail:A.default.createWorkspaceDlg.shareRefOnCopyFail,allow2Way:A.default.createWorkspaceDlg.allow2Way,duplicateGroup:A.default.createCollaborationDlg.duplicateGroup,groupNameInvalid:A.default.createCollaborationDlg.groupNameInvalid})}D.prototype.destroy=function(){this.inherited(arguments);b.default.hideDefaultCheckErrorMessage=!1;this._enableSyncTooltipHandler&&this._enableSyncTooltipHandler.remove()};D.prototype.show=function(C,E,H,G){var F=this;this._participantId=C;this._collaboration=
E;this._collaborationHost=H;this._workspace=G;this._initUI().then(function(){F._dialog.show()})};D.prototype.hide=function(){this._dialog.hide()};D.prototype._initUI=function(){this._initHandlers();this._createUIControls();return this._configureUI()};D.prototype._initHandlers=function(){var C=this._copyDataChange.bind(this);this.own((0,p.default)(this._saveBtn.domNode,this._updateWorkspace.bind(this)),(0,p.default)(this._cancelBtn.domNode,this.hide.bind(this)),(0,p.default)(this._newGroupRadio.domNode,
this._newGroupRadioClick.bind(this)),(0,p.default)(this._existingGroupRadio.domNode,this._existingGroupRadioClick.bind(this)),(0,n.default)(this._existingGroupSelect,"change",this._existingGroupChange.bind(this)),(0,p.default)(this._syncImmediateRadio.domNode,this._syncImmediateRadioClick.bind(this)),(0,p.default)(this._syncScheduledRadio.domNode,this._syncScheduledRadioClick.bind(this)),(0,p.default)(this._byReferenceRadio.domNode,C),(0,p.default)(this._byValueRadio.domNode,C))};D.prototype._createUIControls=
function(){this._startTime=new g.default({id:"sync-start-time",value:new Date,constraints:{timePattern:"HH:mm",clickableIncrement:"T00:30",visibleIncrement:"T00:15"},class:"timeSelect"},t.default.create("div",null,this._startTimeContainer));this._startTime.startup();this._featureLayerStartTime=new g.default({id:"feature-sync-start-time",value:new Date,constraints:{timePattern:"HH:mm",clickableIncrement:"T00:30",visibleIncrement:"T00:15"},class:"timeSelect"},t.default.create("div",null,this._featureLayerStartTimeContainer));
this._featureLayerStartTime.startup();this._tagsLabel.setAttribute("for",this._tags._inputTextBox.id)};D.prototype._configureUI=function(){var C=this,E;b.default.hideDefaultCheckErrorMessage=!0;var H=m.default.getUser(),G=m.default.isPortal(),F=new z.default,I=this._collaboration,J=this._workspace,K=null===(E=b.default.collaborationSettings)||void 0===E?void 0:E.supportsCopyFeatureServiceData;E=!0===J.config.bidirectionalSyncCapable;var P=!1,T,S=!1,L=!1,N=!1,O,Q,V;this._workspaceDesc.innerHTML=q.default.substitute(this.i18n.workspaceDesc,
{workspace:J.name});this._workspaceNameColumn.innerHTML=J.name;this._workspaceDescriptionColumn.innerHTML=J.description;this._copyDataTitle.innerHTML=this.i18n.featureLayersSentPortal;this._copyDataDesc.innerHTML=this.i18n.byReferenceDescPortal;this._syncSettingsTitle.innerHTML=this.i18n.featureLayerSyncSettingsPortal;this._newGroupRadio.set("checked",!0);this._newGroupName.set("placeholder",this.i18n.newGroupNamePlaceholder);this._newGroupName.set("required",!0);this._existingGroupSelect.set("required",
!1);this._existingGroupSelect.set("disabled",!0);this._existingGroupSelect.set("searchAttr","title");if(J.participantGroupLinks)for(V=0;V<J.participantGroupLinks.length;V++){var X=J.participantGroupLinks[V];if(X.portalId===this._participantId){this._accessMode.innerHTML=this.i18n["".concat(X.accessMode,"Content")];this._accessModeDesc.innerHTML=this.i18n["".concat(X.accessMode,"ContentNote")];var Z=X.portalGroupId;var ca=X.portalGroupName;X.config&&(S=X.config.enableRealtimeSync,L=X.config.copyFeatureServiceData,
N=X.config.enableFeatureServiceBidirectionalSync);P=!0;break}}if(P)if(this._canSendData=this._participantCanSendData(X.accessMode),this._canSendAndReceiveData=this._participantCanSendAndReceiveData(X.accessMode),this._canSendAndReceiveData||(this._allow2Way.disabled=!0),f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.feature-layer")),this._canSendData&&K),f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.feature-layer-sync")),
!(this._canSendData&&S&&K)),L){this._byValueRadio.set("checked",!0);this._byReferenceRadio.set("disabled",!0);this._byValueRadio.set("disabled",!0);if(null===X||void 0===X?0:X.config)this._copyByRefOnCopyFail.checked=!!X.config.copyByRefIfCopyFail;this._copyDataChange()}else this._byReferenceRadio.set("checked",!0);else this._accessMode.innerHTML=this.i18n.sendContent,this._accessModeDesc.innerHTML=this.i18n.sendContentNote,this._canSendData=!0,this._canSendAndReceiveData=!1,f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.feature-layer")),
K),this._byReferenceRadio.set("checked",!0);if(!E||N)this._allow2Way.disabled=!0;this._allow2Way.checked=N;(0,d.default)({tags:m.default.loadUserTags(H.username),groups:this._loadGroups(),schedule:this._fetchSyncSchedule(I.id,J.id)}).then(function(R){T=R.tags||[];O=R.groups||[];C._tags.set("knownTags",T);C._existingGroupSelect.set("store",new x.default({idProperty:"id",label:"title",data:O}));Z&&ca?(C._existingGroupSelect.set("value",Z),C._existingGroupSelect.set("displayedValue",ca),C._existingGroupRadio.set("checked",
!0),C._existingGroupRadioClick()):(0<O.length&&(C._existingGroupSelect.set("value",O[0].id),C._existingGroupSelect.set("displayedValue",O[0].title)),C._newGroupRadio.set("checked",!0),C._newGroupRadioClick());C.own((0,n.default)(C._existingGroupSelect,"change",C._existingGroupChange.bind(C)));C._interval.set("value",R.schedule.interval);C._featureLayerInterval.set("value",R.schedule.interval);Q=new Date(R.schedule.nextFireTime);C._startTime.set("value",Q);C._featureLayerStartTime.set("value",Q);G&&
!C._canSendData?(f.default.hideNodes([C._syncImmediateRow,C._syncScheduledRadioColumn]),C._syncScheduledLabelColumn.setAttribute("colspan","4"),C._syncScheduledRadio.set("checked",!0),C._syncScheduledRadioClick(),f.default.hideNodes(C._dialog.domNode.querySelectorAll("tr.feature-layer-sync"))):S?(C._syncImmediateRadio.set("checked",!0),f.default.hideNodes(C._dialog.domNode.querySelectorAll("tr.sync-scheduled")),f.default.showHideAll(f.default.nodeListToArray(C.domNode.querySelectorAll("tr.feature-layer-sync")),
C._canSendData&&L&&K),C._copyDataChange()):(C._syncScheduledRadio.set("checked",!0),C._syncScheduledRadioClick(),f.default.hideNodes(C._dialog.domNode.querySelectorAll("tr.feature-layer-sync")));F.resolve()},function(){Z&&ca?(C._existingGroupSelect.set("store",new x.default({idProperty:"id",label:"title",data:[{id:Z,title:ca}]})),C._existingGroupSelect.set("value",Z),C._existingGroupSelect.set("displayedValue",ca),C._existingGroupRadioClick()):(C._existingGroupSelect.set("store",new x.default({idProperty:"id",
label:"title",data:[]})),C._newGroupRadioClick());C._syncImmediateRadio.set("checked",!0);f.default.hideNodes(C._dialog.domNode.querySelectorAll("tr.sync-scheduled"));C._interval.set("value",24);C._featureLayerInterval.set("value",24);Q=new Date;Q.setMinutes(Q.getMinutes+30);C._startTime.set("value",Q);C._featureLayerStartTime.set("value",Q);F.resolve()});return F};D.prototype._updateWorkspace=function(){var C=this,E=!0===this._newGroupRadio.get("checked"),H=!0===this._syncImmediateRadio.get("checked"),
G=this._canSendData&&!0===this._byValueRadio.get("checked"),F=this._canSendData&&!0===this._copyByRefOnCopyFail.checked,I=this._canSendAndReceiveData&&this._allow2Way.checked,J=H&&G,K=this._collaboration.id,P=this._workspace.id,T=this._workspace.name;if(this._isValidGroup()){this._saveBtn.set("disabled",!0);if(E){var S=this._newGroupName.get("value");var L=this._tags.get("value");L={newGroup:this._createGroup(S,L)}}else{var N=this._existingGroupSelect.get("value");L={newGroup:null}}(0,d.default)(L).then(function(O){O=
E&&O.newGroup.group.id?O.newGroup.group.id:N;var Q=J?+C._featureLayerInterval.get("value"):+C._interval.get("value"),V=J?C._featureLayerStartTime.get("value"):C._startTime.get("value"),X=new Date;O&&k.default.protectGroup({id:O});V&&(X.setHours(V.getHours()),X.setMinutes(V.getMinutes()));H&&!G&&(Q=24);V={enableRealtimeSync:H,copyFeatureServiceData:G,enableFeatureServiceBidirectionalSync:I};G&&(V.copyByRefIfCopyFail=F);C._updatePortalGroupLink(K,P,O,V).then(function(Z){(null===Z||void 0===Z?0:Z.code)?
(C._saveBtn.set("disabled",!1),C._checkErrorDetails(Z.details,"must not be already linked")?C._showModalError(C.i18n.groupSwitchAlreadyLinked):C._showModalError(C.i18n.joinFailed)):H&&!G?(C._showModalNotice(q.default.substitute(C.i18n.joinSuccess,{workspace:T})),c.default.publish("collaboration-workspace/update",Z),C.hide()):C._updateSyncSchedule(K,P,X.getTime(),Q).then(function(ca){C._saveBtn.set("disabled",!1);(null===ca||void 0===ca?0:ca.code)?C._showModalError(q.default.substitute(C.i18n.scheduleFailed,
{workspace:T})):(C._showModalNotice(q.default.substitute(C.i18n.joinSuccess,{workspace:T})),c.default.publish("collaboration-workspace/update",Z),C.hide())},function(ca){C._saveBtn.set("disabled",!1);C._showModalError(q.default.substitute(C.i18n.scheduleFailed,{workspace:T}))})},function(Z){C._saveBtn.set("disabled",!1);Z&&C._checkErrorDetails(Z.details,"must not be already linked")?C._showModalError(C.i18n.groupSwitchAlreadyLinked):C._showModalError(C.i18n.joinFailed)})},function(O){var Q,V;C._saveBtn.set("disabled",
!1);"COM_0044"===(null===O||void 0===O?void 0:O.messageCode)&&-1<(null===(V=null===(Q=O.details)||void 0===Q?void 0:Q[0])||void 0===V?void 0:V.indexOf("already have a group named"))?C._showModalError(q.default.substitute(C.i18n.duplicateGroup,{group:S})):"GWM_0021"===(null===O||void 0===O?void 0:O.messageCode)?C._showModalError(O.message):C._showModalError(q.default.substitute(C.i18n.createGroupFailed,{group:S}))})}};D.prototype._isValidGroup=function(){var C=!0;if(!0===this._newGroupRadio.get("checked")){var E=
this._newGroupName.get("value");E?this._nameContainsInvalidCharacters(E)&&(this._createOneTimeTooltip(this.i18n.groupNameInvalid,this._saveBtn.domNode),C=!1):(this._createOneTimeTooltip(this.i18n.groupNameRequired,this._saveBtn.domNode),C=!1)}else this._existingGroupSelect.get("value")||(this._createOneTimeTooltip(this.i18n.groupRequired,this._saveBtn.domNode),C=!1);return C};D.prototype._displayScheduleInterface=function(C){f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.sync-scheduled")),
C)};D.prototype._checkExistingGroup=function(){var C=this,E=this._existingGroupSelect.get("store").query({id:this._existingGroupSelect.get("value")}).shift();this._saveBtn.set("disabled",!0);y.default.isDefined(E.ownerCanPublishFeatures)?E.ownerCanPublishFeatures?this._saveBtn.set("disabled",!1):this._showModalNotice(this.i18n.groupOwnerNotPublisher):this._checkGroupOwnerForFeaturePublishCapabilities(E).then(function(H){E.ownerCanPublishFeatures=H.ownerCanPublishFeatures;E.ownerCanPublishFeatures?
C._saveBtn.set("disabled",!1):C._showModalNotice(C.i18n.groupOwnerNotPublisher)})};D.prototype._newGroupRadioClick=function(){this._existingGroupSelect.set("disabled",!0);this._newGroupName.set("disabled",!1);this._tags._inputTextBox.set("disabled",!1);this._tags.domNode.classList.remove("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(C){C.classList.remove("disabledBorder")});this._saveBtn.set("disabled",!1);this._newGroupName.focus()};
D.prototype._existingGroupRadioClick=function(){this._newGroupName.set("disabled",!0);this._tags._inputTextBox.set("disabled",!0);this._tags.domNode.classList.add("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(C){C.classList.add("disabledBorder")});this._existingGroupSelect.set("disabled",!1)};D.prototype._syncImmediateRadioClick=function(){var C,E=null===(C=b.default.collaborationSettings)||void 0===C?void 0:C.supportsCopyFeatureServiceData;
this._syncImmediateRadio.set("checked",!0);this._canSendData&&E&&this._byValueRadio.get("checked")&&f.default.showNodes(this._dialog.domNode.querySelectorAll("tr.feature-layer-sync"));this._displayScheduleInterface(!1)};D.prototype._syncScheduledRadioClick=function(){var C,E=null===(C=b.default.collaborationSettings)||void 0===C?void 0:C.supportsCopyFeatureServiceData;this._syncScheduledRadio.set("checked",!0);this._canSendData&&E&&f.default.hideNodes(this._dialog.domNode.querySelectorAll("tr.feature-layer-sync"));
this._displayScheduleInterface(!0)};D.prototype._copyDataChange=function(){var C=this,E,H=null===(E=b.default.collaborationSettings)||void 0===E?void 0:E.supportsCopyFeatureServiceData;E=y.default.isDefined(this._workspace.config.bidirectionalSyncCapable);var G=this._syncImmediateRadio.get("checked"),F="".concat(b.default.self.helpBase).concat(b.default.self.helpMap.m["120002141"]||""),I=this._byValueRadio.get("checked");F="".concat(q.default.substitute(this.i18n.byValueDescPortal,{tooltipStart:'\x3cspan id\x3d"guest-edit-workspace-dlg-by-value-desc" class\x3d"hasTooltip"\x3e',
tooltipEnd:"\x3c/span\x3e"}),' \x3ca href\x3d"').concat(F,'" target\x3d"_blank"\x3e').concat(this.i18n.learnMore,"\x3c/a\x3e");this._copyDataDesc.innerHTML=I?F:this.i18n.byReferenceDescPortal;f.default.showHide(this._copyDataFailureOption,I);f.default.showHide(this._allow2WayOption,I&&E);if(I){var J=w.default.byId("guest-edit-workspace-dlg-by-value-desc");this._enableSyncTooltipHandler=(0,n.default)(J,l.default.enter,function(){C._createOneTimeTooltip(C.i18n.enableSyncTooltipPortal,J,!0)})}else this._enableSyncTooltipHandler&&
this._enableSyncTooltipHandler.remove();f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.feature-layer-sync")),G&&H&&I)};D.prototype._existingGroupChange=function(){this._checkExistingGroup()};return D=a.__decorate([(0,u.default)(r.default,e.default,v.default,h.default)],D)}()})},"arcgisonline/sharing/dijit/dialog/InviteCollaborationGuestDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/strings ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/Deferred dojo/store/Memory dojo/_base/url dojo/string dojo/topic dojo/promise/all dojo/dom-construct esri/lang dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/InviteCollaborationGuestDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);return function(){function x(){this.baseClass=
"esriCollabDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=z.default;this.i18n=a.__assign(a.__assign({},t.default.common),t.default.inviteCollabGuestDlg);this.EXPIRATION_DURATION="24";this.RECEIVE="receive";this.SEND="send";this.SEND_AND_RECEIVE="sendAndReceive";this.CREATE_INVITE_WAIT_DURATION=3E3;this.HOST_INVALIDATED="host_invalidated"}x.prototype.postCreate=function(){this.inherited(arguments);this.own((0,v.default)(this._inviteBtn.domNode,this._inviteClick.bind(this)),(0,v.default)(this._cancelBtn.domNode,
this.hide.bind(this)))};x.prototype.show=function(y){var A=this;this._collaboration=y;this._invitations=[];this._workspaces=[];this._comboBoxes={};this._init().then(function(){A._dialog.show()})};x.prototype.hide=function(){this._dialog.hide()};x.prototype._init=function(){var y=this,A=new g.default,B=this._collaboration.id;f.default.isPortal()?this._description.innerHTML="\x3cstrong\x3e".concat(this.i18n.inviteDesc,"\x3c/strong\x3e"):this._description.innerHTML="\x3cstrong\x3e".concat(this.i18n.inviteNoFileDesc,
"\x3c/strong\x3e");this.ACCESS_MODES[this.i18n.receiveContent]=this.RECEIVE;this.ACCESS_MODES[this.i18n.sendContent]=this.SEND;this.ACCESS_MODES[this.i18n.sendAndReceiveContent]=this.SEND_AND_RECEIVE;(0,c.default)({invitationResults:this._loadInvitations(B),workspaceResults:this._loadWorkspaces(B)}).then(function(D){var C,E;y._invitations=(null===(C=D.invitationResults)||void 0===C?void 0:C.collaborationInvitations)||[];y._workspaces=(null===(E=D.workspaceResults)||void 0===E?void 0:E.workspaces)||
[];y._buildWorkspaceUI(y._workspaces);A.resolve()},function(D){y._invitations=[];y._workspaces=[];A.resolve()});return A};x.prototype._buildWorkspaceUI=function(y){var A=this;(y||[]).forEach(function(B){A._createWorkspaceUI(B)})};x.prototype._createWorkspaceUI=function(y){var A=d.default.create("div",{class:"workspace-row"},this._workspacesContainer),B=new p.default({data:[{id:0,name:this.i18n.sendContent,value:this.SEND},{id:1,name:this.i18n.receiveContent,value:this.RECEIVE},{id:2,name:this.i18n.sendAndReceiveContent,
value:this.SEND_AND_RECEIVE}]});d.default.create("div",{class:"left workspace-column-left",innerHTML:'\x3clabel for\x3d"workspace_'.concat(y.id,'"\x3e').concat(y.name,"\x3c/label\x3e")},A);var D=d.default.create("div",{class:"right workspace-column-right"},A);this._createAccessModeSelectUI(y,D,B);d.default.create("br",{class:"clearBreak"},A)};x.prototype._isValid=function(y){var A=!0;if(y&&""!==y)if(-1===y.indexOf("://"))this._createOneTimeTooltip("".concat(this.i18n.invalidGuestOrg,"\x3cbr\x3e").concat(this.i18n.invalidGuestUrl),
this._inviteBtn.domNode),A=!1;else{var B=new n.default(y),D=B.authority||B.path;w.default.isDefined(B.scheme)&&"http"!==B.scheme&&"https"!==B.scheme&&(this._createOneTimeTooltip("".concat(this.i18n.invalidGuestOrg,"\x3cbr\x3e").concat(this.i18n.invalidGuestUrl),this._inviteBtn.domNode),A=!1);w.default.isDefined(B.scheme)&&"http"===B.scheme&&(this._createOneTimeTooltip("".concat(this.i18n.invalidGuestOrg,"\x3cbr\x3e").concat(this.i18n.invalidScheme),this._inviteBtn.domNode),A=!1);this._isValidDomainName(D)||
(this._createOneTimeTooltip("".concat(this.i18n.invalidGuestOrg,"\x3cbr\x3e").concat(this.i18n.invalidGuestUrl),this._inviteBtn.domNode),A=!1);this._matchesCurrentPortal(y)&&(this._createOneTimeTooltip(this.i18n.invalidInviteSelf,this._inviteBtn.domNode),A=!1);B.port&&"80"!==B.port&&"443"!==B.port&&(this._createOneTimeTooltip("".concat(this.i18n.invalidGuestOrg,"\x3cbr\x3e").concat(this.i18n.invalidPorts),this._inviteBtn.domNode),A=!1);this._hasOutstandingInvitation(y)&&(this._createOneTimeTooltip(this.i18n.invitationExists,
this._inviteBtn.domNode),A=!1);D=B.authority||B.host;this._containsWebAdaptor(y,B)?-1<D.indexOf(".arcgis.com")&&(this._createOneTimeTooltip(q.default.substitute(this.i18n.invalidOnlineGuest,{url:y}),this._inviteBtn.domNode),A=!1):(-1<D.indexOf(".arcgis.com")?this._createOneTimeTooltip(q.default.substitute(this.i18n.invalidOnlineGuestUrl,{url:y}),this._inviteBtn.domNode):this._createOneTimeTooltip(q.default.substitute(this.i18n.invalidPortalWebAdaptor,{url:y}),this._inviteBtn.domNode),A=!1)}else this._createOneTimeTooltip(this.i18n.guestURLRequired,
this._inviteBtn.domNode),A=!1;return A};x.prototype._matchesCurrentPortal=function(y){var A=b.default.self.portalHostname;y=this._stripTrailingSlash(this._stripProtocol(y));return A===y};x.prototype._containsWebAdaptor=function(y,A){if(!y)return!1;var B=y;A=A.authority||A.host;y.lastIndexOf("/")===y.length-1&&(B=y.substring(0,y.length-2));A=A?A.toLowerCase():A;var D=B?B.toLowerCase():B;if(-1<A.indexOf(".arcgis.com")){y=this._indexAfterProtocol(B);if(0>y)return!1;B=B.substring(y).split("/");if(1<B.length)return!1;
B=A.indexOf(".arcgis.com");return!(0>B||B!==A.length-11)}y=this._indexAfterProtocol(D);if(0>y)return!1;B=D.substring(y).split("/");return 2===B.length};x.prototype._indexAfterProtocol=function(y){return y.startsWith("https://")?8:y.startsWith("http://")?7:-1};x.prototype._stripProtocol=function(y){var A=y.indexOf("://");return-1<A?y.substring(A+3):y};x.prototype._stripTrailingSlash=function(y){return k.default.endsWith(y,"/")?y.substring(0,y.length-1):y};x.prototype._isValidDomainName=function(y){var A=
/^((?:(?:(?:\w[.\-+]?)*)\w)+)((?:(?:(?:\w[.\-+]?){0,62})\w)+)\.(\w{2,64})$/gi,B=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/g,D=/^\[(?:(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){6})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:::(?:(?:(?:[0-9a-fA-F]{1,4})):){5})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){4})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,1}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){3})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,2}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:(?:[0-9a-fA-F]{1,4})):){2})(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,3}(?:(?:[0-9a-fA-F]{1,4})))?::(?:(?:[0-9a-fA-F]{1,4})):)(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,4}(?:(?:[0-9a-fA-F]{1,4})))?::)(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9]))\.){3}(?:(?:25[0-5]|(?:[1-9]|1[0-9]|2[0-4])?[0-9])))))))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,5}(?:(?:[0-9a-fA-F]{1,4})))?::)(?:(?:[0-9a-fA-F]{1,4})))|(?:(?:(?:(?:(?:(?:[0-9a-fA-F]{1,4})):){0,6}(?:(?:[0-9a-fA-F]{1,4})))?::))))\]$/gi,
C=/^:(\d)+$/gi,E=0<(null===y||void 0===y?void 0:y.length)?y.indexOf(":"):-1;if(-1<E){var H=y.substring(0,E);y=y.substring(E);return 0<(null===H||void 0===H?void 0:H.length)&&(A.test(H)||B.test(H)||D.test(H))&&y&&0<y.length&&C.test(y)}return 0<(null===y||void 0===y?void 0:y.length)&&(A.test(y)||B.test(y)||D.test(y))};x.prototype._hasOutstandingInvitation=function(y){for(var A=0;A<this._invitations.length;A++){var B=this._invitations[A],D=this._stripTrailingSlash(this._stripProtocol(B.guestPortalUrl)),
C=this._stripTrailingSlash(this._stripProtocol(y));if(D===C&&B.status!==this.HOST_INVALIDATED)return!0}return!1};x.prototype._inviteClick=function(){var y=this,A=f.default.getUser().token,B=this._url.get("value"),D=[],C=[];if(this._isValid(B)){this._inviteBtn.set("disabled",!0);(this._workspaces||[]).forEach(function(H){var G={};G[H.id]=y.ACCESS_MODES[y._comboBoxes[H.id].get("value")];D.push(G)});var E=d.default.create("form",{target:"_blank",action:q.default.substitute("${baseUrl}portals/self/collaborations/${collaborationId}/inviteParticipant",
{baseUrl:this._getRestURL(),collaborationId:this._collaboration.id}),method:"post",enctype:"multipart/form-data"});C.push(d.default.create("input",{type:"hidden",name:"guestPortalUrl",value:B},E));C.push(d.default.create("input",{type:"hidden",name:"expiration",value:this.EXPIRATION_DURATION},E));C.push(d.default.create("input",{type:"hidden",name:"collaborationWorkspacesParticipantConfigJSON",value:JSON.stringify(D)},E));C.push(d.default.create("input",{type:"hidden",name:"token",value:A},E));C.push(d.default.create("input",
{type:"hidden",name:"f",value:"json"},E));document.body.appendChild(E);try{E.submit(),setTimeout(function(){y._inviteBtn.set("disabled",!1);l.default.publish("collaboration-invitation/create",{guestPortalUrl:B});d.default.destroy(E);y.hide()},this.CREATE_INVITE_WAIT_DURATION)}catch(H){this._inviteBtn.set("disabled",!1),d.default.destroy(E),this._showModalError(this.i18n.exportError)}}};return x=a.__decorate([(0,h.default)(u.default,r.default,e.default,m.default)],x)}()})},"arcgisonline/sharing/dijit/dialog/JoinWorkspaceDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/pageUtil ../../../pages/utils/dom ../../util ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/TimeTextBox dijit/a11yclick dojo/on dojo/string dojo/mouse dojo/topic dojo/promise/all dojo/dom-construct dojo/Deferred dojo/store/Memory esri/lang dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/JoinWorkspaceDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);A=a.__importDefault(A);return function(){function B(){this.baseClass="esriCollabDlg";this.widgetsInTemplate=!0;this.templateString=A.default;this.i18n=a.__assign(a.__assign(a.__assign({},y.default.common),y.default.joinWorkspaceDlg),{hoursLabel:y.default.guestEditWorkspaceDlg.hoursLabel,featureLayersSent:y.default.createWorkspaceDlg.featureLayersSent,featureLayersSentPortal:y.default.createWorkspaceDlg.featureLayersSentPortal,byReference:y.default.createWorkspaceDlg.byReference,
byValue:y.default.createWorkspaceDlg.byValue,byReferenceDesc:y.default.createWorkspaceDlg.byReferenceDesc,byReferenceDescPortal:y.default.createWorkspaceDlg.byReferenceDescPortal,byValueDesc:y.default.createWorkspaceDlg.byValueDesc,byValueDescPortal:y.default.createWorkspaceDlg.byValueDescPortal,enableSyncTooltip:y.default.createWorkspaceDlg.enableSyncTooltip,enableSyncTooltipPortal:y.default.createWorkspaceDlg.enableSyncTooltipPortal,syncIntervalLabel:y.default.guestEditWorkspaceDlg.syncIntervalLabel,
nextSyncLabel:y.default.guestEditWorkspaceDlg.nextSyncLabel,scheduleFailed:y.default.guestEditWorkspaceDlg.scheduleFailed,groupOwnerNotPublisher:y.default.createWorkspaceDlg.groupOwnerNotPublisher,shareRefOnCopyFail:y.default.createWorkspaceDlg.shareRefOnCopyFail,allow2Way:y.default.createWorkspaceDlg.allow2Way,duplicateGroup:y.default.createCollaborationDlg.duplicateGroup,groupNameInvalid:y.default.createCollaborationDlg.groupNameInvalid})}B.prototype.destroy=function(){this.inherited(arguments);
b.default.hideDefaultCheckErrorMessage=!1;this._enableSyncTooltipHandler&&this._enableSyncTooltipHandler.remove()};B.prototype.show=function(D,C,E,H){var G=this;this._participantId=D;this._collaboration=C;this._collaborationHost=E;this._workspace=H;this._initUI().then(function(){G._dialog.show()})};B.prototype.hide=function(){this._dialog.hide()};B.prototype._initUI=function(){this._initHandlers();this._createUIControls();return this._configureUI()};B.prototype._createUIControls=function(){this._featureLayerStartTime=
new g.default({id:"feature-sync-start-time",value:new Date,constraints:{timePattern:"HH:mm",clickableIncrement:"T00:30",visibleIncrement:"T00:15"},class:"timeSelect"},w.default.create("div",null,this._featureLayerStartTimeContainer));this._featureLayerStartTime.startup();this._tagsLabel.setAttribute("for",this._tags._inputTextBox.id)};B.prototype._initHandlers=function(){var D=this._copyDataChange.bind(this);this.own((0,p.default)(this._joinBtn.domNode,this._joinWorkspace.bind(this)),(0,p.default)(this._cancelBtn.domNode,
this.hide.bind(this)),(0,p.default)(this._newGroupRadio.domNode,this._newGroupRadioClick.bind(this)),(0,p.default)(this._existingGroupRadio.domNode,this._existingGroupRadioClick.bind(this)),(0,n.default)(this._existingGroupSelect,"change",this._existingGroupChange.bind(this)),(0,p.default)(this._byReferenceRadio.domNode,D),(0,p.default)(this._byValueRadio.domNode,D))};B.prototype._configureUI=function(){var D=this,C;b.default.hideDefaultCheckErrorMessage=!0;var E=m.default.getUser(),H=new t.default,
G=this._workspace,F=null===(C=b.default.collaborationSettings)||void 0===C?void 0:C.supportsCopyFeatureServiceData;C=!0===G.config.bidirectionalSyncCapable;var I=!1;this._workspaceDesc.innerHTML=q.default.substitute(this.i18n.workspaceDesc,{workspace:G.name});this._workspaceNameColumn.innerHTML=G.name;this._workspaceDescriptionColumn.innerHTML=G.description;this._copyDataTitle.innerHTML=this.i18n.featureLayersSentPortal;this._copyDataDesc.innerHTML=this.i18n.byReferenceDescPortal;this._syncSettingsTitle.innerHTML=
this.i18n.featureLayerSyncSettings;this._newGroupRadio.set("checked",!0);this._newGroupName.set("placeholder",this.i18n.newGroupNamePlaceholder);this._newGroupName.set("required",!0);this._existingGroupSelect.set("required",!1);this._existingGroupSelect.set("disabled",!0);this._existingGroupSelect.set("searchAttr","title");if(G.participantsWithoutGroupLinks)for(var J=0;J<G.participantsWithoutGroupLinks.length;J++){var K=G.participantsWithoutGroupLinks[J];if(K.portalId===this._participantId){this._accessMode.innerHTML=
this.i18n["".concat(K.accessMode,"Content")];this._accessModeDesc.innerHTML=this.i18n["".concat(K.accessMode,"ContentNote")];I=!0;break}}I?(this._canSendData=this._participantCanSendData(K.accessMode),this._canSendAndReceiveData=this._participantCanSendAndReceiveData(K.accessMode),this._canSendAndReceiveData||(this._allow2Way.disabled=!0)):(this._accessMode.innerHTML=this.i18n.sendContent,this._accessModeDesc.innerHTML=this.i18n.sendContentNote,this._canSendData=!0,this._allow2Way.disabled=!0,this._canSendAndReceiveData=
!1);C||(this._allow2Way.disabled=!0);f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.feature-layer")),this._canSendData&&F);f.default.hideNodes(this._dialog.domNode.querySelectorAll("tr.feature-layer-sync"));this._byReferenceRadio.set("checked",!0);(0,d.default)({tags:m.default.loadUserTags(E.username),groups:this._loadGroups()}).then(function(P){var T=P.groups||[];D._tags.set("knownTags",P.tags||[]);D._existingGroupSelect.set("store",new z.default({idProperty:"id",
label:"title",data:T}));0<T.length&&(D._existingGroupSelect.set("value",T[0].id),D._existingGroupSelect.set("displayedValue",T[0].title));H.resolve()},function(){D._existingGroupSelect.set("store",new z.default({idProperty:"id",label:"title",data:[]}));H.resolve()});return H};B.prototype._joinWorkspace=function(){var D=this,C=!0===this._newGroupRadio.get("checked"),E=this._canSendAndReceiveData&&this._allow2Way.checked,H=this._canSendData&&!0===this._byValueRadio.get("checked"),G=this._canSendData&&
!0===this._copyByRefOnCopyFail.checked,F=this._workspace.name;if(this._isValidGroup()){this._joinBtn.set("disabled",!0);if(C){var I=this._newGroupName.get("value");var J=this._tags.get("value");J={newGroup:this._createGroup(I,J)}}else{var K=this._existingGroupSelect.get("value");J={newGroup:null}}(0,d.default)(J).then(function(P){P=C&&P.newGroup.group.id?P.newGroup.group.id:K;var T=D._collaboration.id,S=D._workspace.id,L=+D._featureLayerInterval.get("value"),N=D._featureLayerStartTime.get("value"),
O=new Date;P&&k.default.protectGroup({id:P});O.setHours(N.getHours());O.setMinutes(N.getMinutes());H||(L=24);N={enableRealtimeSync:!0,copyFeatureServiceData:H,enableFeatureServiceBidirectionalSync:E};H&&(N.copyByRefIfCopyFail=G);D._updatePortalGroupLink(T,S,P,N).then(function(Q){(null===Q||void 0===Q?0:Q.code)?D._checkErrorDetails(Q.details,"must not be already linked")?D._showModalError(D.i18n.groupSwitchAlreadyLinked):D._showModalError(D.i18n.joinFailed):H?D._updateSyncSchedule(T,S,O.getTime(),
L).then(function(V){D._joinBtn.set("disabled",!1);D._showModalNotice(q.default.substitute(D.i18n.joinSuccess,{workspace:F}));c.default.publish("collaboration-workspace/join",Q);D.hide()},function(V){D._joinBtn.set("disabled",!1);D._showModalNotice(q.default.substitute(D.i18n.joinSuccess,{workspace:F}));c.default.publish("collaboration-workspace/join",Q);D.hide()}):(D._joinBtn.set("disabled",!1),D._showModalNotice(q.default.substitute(D.i18n.joinSuccess,{workspace:F})),c.default.publish("collaboration-workspace/join",
Q),D.hide())},function(Q){D._joinBtn.set("disabled",!1);Q&&D._checkErrorDetails(Q.details,"must not be already linked")?D._showModalError(D.i18n.groupSwitchAlreadyLinked):D._showModalError(D.i18n.joinFailed)})},function(P){var T,S;D._joinBtn.set("disabled",!1);"COM_0044"===(null===P||void 0===P?void 0:P.messageCode)&&-1<(null===(S=null===(T=P.details)||void 0===T?void 0:T[0])||void 0===S?void 0:S.indexOf("already have a group named"))?D._showModalError(q.default.substitute(D.i18n.duplicateGroup,{group:I})):
P&&P.messageCode&&"GWM_0021"===P.messageCode?D._showModalError(P.message):D._showModalError(q.default.substitute(D.i18n.createGroupFailed,{group:I}))})}};B.prototype._isValidGroup=function(){var D=!0;if(!0===this._newGroupRadio.get("checked")){var C=this._newGroupName.get("value");C?this._nameContainsInvalidCharacters(C)&&(this._createOneTimeTooltip(this.i18n.groupNameInvalid,this._joinBtn.domNode),D=!1):(this._createOneTimeTooltip(this.i18n.groupNameRequired,this._joinBtn.domNode),D=!1)}else this._existingGroupSelect.get("value")||
(this._createOneTimeTooltip(this.i18n.groupRequired,this._joinBtn.domNode),D=!1);return D};B.prototype._checkExistingGroup=function(){var D=this,C=this._existingGroupSelect.get("store").query({id:this._existingGroupSelect.get("value")}).shift();this._joinBtn.set("disabled",!0);x.default.isDefined(C.ownerCanPublishFeatures)?C.ownerCanPublishFeatures?this._joinBtn.set("disabled",!1):this._showModalNotice(this.i18n.groupOwnerNotPublisher):this._checkGroupOwnerForFeaturePublishCapabilities(C).then(function(E){C.ownerCanPublishFeatures=
E.ownerCanPublishFeatures;C.ownerCanPublishFeatures?D._joinBtn.set("disabled",!1):D._showModalNotice(D.i18n.groupOwnerNotPublisher)})};B.prototype._newGroupRadioClick=function(){this._existingGroupSelect.set("disabled",!0);this._newGroupName.set("disabled",!1);this._tags._inputTextBox.set("disabled",!1);this._tags.domNode.classList.remove("disabled");f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(D){D.classList.remove("disabledBorder")});this._joinBtn.set("disabled",
!1);this._newGroupName.focus()};B.prototype._existingGroupRadioClick=function(){this._newGroupName.set("disabled",!0);this._tags._inputTextBox.set("disabled",!0);this._tags.domNode.classList.add("disabled");this._existingGroupSelect.set("disabled",!1);f.default.nodeListToArray(this._tags.domNode.querySelectorAll("ul.select2-choices")).forEach(function(D){D.classList.add("disabledBorder")})};B.prototype._copyDataChange=function(){var D=this,C,E=null===(C=b.default.collaborationSettings)||void 0===
C?void 0:C.supportsCopyFeatureServiceData;C=x.default.isDefined(this._workspace.config.bidirectionalSyncCapable);var H="".concat(b.default.self.helpBase).concat(b.default.self.helpMap.m["120002141"]||""),G=this._byValueRadio.get("checked");H="".concat(q.default.substitute(this.i18n.byValueDescPortal,{tooltipStart:'\x3cspan id\x3d"join-workspace-dlg-by-value-desc" class\x3d"hasTooltip"\x3e',tooltipEnd:"\x3c/span\x3e"}),' \x3ca href\x3d"').concat(H,'" target\x3d"_blank"\x3e').concat(this.i18n.learnMore,
"\x3c/a\x3e");this._copyDataDesc.innerHTML=G?H:this.i18n.byReferenceDescPortal;f.default.showHide(this._copyDataFailureOption,G);f.default.showHideAll(f.default.nodeListToArray(this._dialog.domNode.querySelectorAll("tr.feature-layer-sync")),G&&E);f.default.showHide(this._allow2WayOption,G&&C);if(G){var F=document.getElementById("join-workspace-dlg-by-value-desc");this._enableSyncTooltipHandler=(0,n.default)(F,l.default.enter,function(){D._createOneTimeTooltip(D.i18n.enableSyncTooltipPortal,F,!0)})}else this._enableSyncTooltipHandler&&
this._enableSyncTooltipHandler.remove()};B.prototype._existingGroupChange=function(){this._checkExistingGroup()};return B=a.__decorate([(0,u.default)(r.default,e.default,v.default,h.default)],B)}()})},"arcgisonline/sharing/dijit/dialog/SyncStatusDlg":function(){define("require exports tslib ../../../esriGeowConfig ../../../pages/utils/arrays ../../../pages/utils/clone ../../../pages/utils/date ../../../pages/utils/dom ./_CollaborationsDialogMixin arcgisonline/tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/string dojo/dom-attr dojo/i18n!../../../nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/SyncStatusDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);var d;(function(t){t.SINGLE_REALTIME="single_realtime";t.DEFAULT="default"})(d||(d={}));var w;(function(t){t.COMPLETED=
"completed";t.FAILED="failed";t.PARTIALLY_FAILED="completed_with_failures";t.STARTED="started";t.IN_PROGRESS="in_progress"})(w||(w={}));return function(){function t(z){this.baseClass="esriCollabDlg";this.widgetsInTemplate=!0;this.templateString=c.default;this.i18n=a.__assign(a.__assign({},l.default.common),l.default.collaborations)}t.prototype.postCreate=function(){this.inherited(arguments);this.own((0,p.default)(this._closeBtn,this.hide.bind(this)))};t.prototype.show=function(z){var x=this;this._mode=
z.mode||d.DEFAULT;this._participantId=z.participantId;this._collaborationId=z.collaborationId;this._workspaceId=z.workspaceId;this._lastScheduledSync=z.lastScheduledSync;this._lastScheduledSyncIndex=z.lastScheduledSyncIndex;this._lastScheduledSyncSummary=(0,f.default)(z.lastScheduledSyncSummary);this._syncStatus=z.syncStatus;if(this._lastScheduledSyncStatusLabelProps=(0,f.default)(z.lastScheduledSyncStatusLabelProps))this._lastScheduledSyncStatusLabelProps.tabindex=-1,this._lastScheduledSyncStatusLabelProps["data-status"]===
w.PARTIALLY_FAILED&&(this._lastScheduledSyncSummary.status=w.PARTIALLY_FAILED),this._lastScheduledSyncStatusLabelProps["class"]="".concat(k.default.filterOut(this._lastScheduledSyncStatusLabelProps["class"].split(" "),["sync-status-link"]).join(" ")," trailer-0");this._initUI().then(function(){x._dialog.show()})};t.prototype.hide=function(){this._dialog.hide()};t.prototype._initUI=function(){var z=-1<this._lastScheduledSyncIndex;h.default.showHide(this._lastScheduledSyncContainer,z);h.default.hideNode(this._syncsSinceLastContainer);
z&&(this._writeDateLabel(this.i18n.syncAt,this._lastScheduledSync.startTime,this._lastScheduledSyncLabel),q.default.set(this._lastScheduledSyncStatusLabel,this._lastScheduledSyncStatusLabelProps),this._summarizeFailures(this._lastScheduledSyncSummary,this._lastScheduledSyncEvents));return Promise.resolve()};t.prototype._writeDateLabel=function(z,x,y){q.default.set(y,"innerHTML",n.default.substitute(z,{date:m.default.format(new Date(x),"long-date-long-time")}))};t.prototype._summarizeFailures=function(z,
x){var y=this,A,B,D=[];if(z){if(z.summary){var C=document.createElement("span");C.innerHTML=z.summary;var E=document.createElement("span");E.classList.add("leader-eigth");E.classList.add(z.status===w.COMPLETED?"sync-success":"sync-failure");E.appendChild(C);x.appendChild(E);x.appendChild(document.createElement("br"))}z=k.default.find(z.participants,function(H){return H.participantId===y._participantId});if(null===(A=null===z||void 0===z?void 0:z.taskStatus)||void 0===A?0:A.length)A=z.taskStatus[0],
z=(null===(B=A.results)||void 0===B?void 0:B.length)&&A.results[0]||void 0,D=D.concat(z&&z.failed||[]),D=D.concat(z&&z.notProcessed||[]),(null===D||void 0===D?0:D.length)&&D.forEach(function(H,G){var F=document.createElement("span");F.innerHTML=y._getSummaryMessage(H);E=document.createElement("span");0<G&&E.classList.add("leader-eighth");E.classList.add("sync-failure");E.appendChild(F);0<G&&x.appendChild(document.createElement("br"));x.appendChild(E)})}};t.prototype._getSummaryMessage=function(z){var x=
z.itemId,y=z.itemTitle;z=z.message;return x?n.default.substitute(this.i18n.syncMessage,{message:z,itemLink:'\x3cspan class\x3d"esriItemLinks"\x3e\x3ca target\x3d"_blank" href\x3d"'.concat(b.default.baseUrl,"item.html?id\x3d").concat(x,'"\x3e').concat(y,"\x3c/a\x3e\x3c/span\x3e")}):z};return t=a.__decorate([(0,r.default)(e.default,v.default,g.default,u.default)],t)}()})},"arcgisonline/sharing/dijit/dialog/EditWorkspaceViewerCredentialsDlg":function(){define("require exports tslib ../../../pages/utils/dom ./_CollaborationsDialogMixin arcgisonline/tsutils/declareDecorator dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/EditWorkspaceViewerCredentialsDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=g.default;this.i18n=a.__assign(a.__assign(a.__assign({},v.default.common),v.default.collaborations.viewerCredentialsDlg),
{yes:v.default.collaborations.yes,no:v.default.collaborations.no,workspaceViewerCredentials:v.default.collaborations.workspaceViewerCredentials})}p.prototype.postCreate=function(){this.inherited(arguments);var n=this.optionChange.bind(this);this.own((0,r.default)(this.yesRadio,n),(0,r.default)(this.noRadio,n),(0,r.default)(this.cancelBtn,this.hide.bind(this)),(0,r.default)(this.saveBtn,this.saveClick.bind(this)))};p.prototype.show=function(n,q,l){this.collaboration=n;this.workspace=q;this.isServiceProxyEnabled=
l;this.initUI();this._dialog.show()};p.prototype.hide=function(){this._dialog.hide()};p.prototype.initUI=function(){this.isServiceProxyEnabled?this.yesRadio.checked=!0:this.noRadio.checked=!0;this.optionChange()};p.prototype.optionChange=function(){b.default.showHide(this.credentialsContainer,this.yesRadio.checked)};p.prototype.validates=function(){var n=this.username.value.trim(),q=this.password.value.trim();return n?q?!0:(this.password.focus(),this._showModalNotice(this.i18n.passwordRequired),!1):
(this.username.focus(),this._showModalNotice(this.i18n.usernameRequired),!1)};p.prototype.saveClick=function(){var n=this;if(this.yesRadio.checked){if(this.validates()){var q=this.username.value.trim(),l=this.password.value.trim();this._setViewerCredentials(this.collaboration.id,this.workspace.id,q,l).then(function(c){(null===c||void 0===c?0:c.code)?n.handleSetCredentialsError(c):(n._showModalNotice(n.i18n.credentialsSet),e.default.publish("collaboration-workspace/update"),n.hide())},function(c){n.handleSetCredentialsError(c)})}}else this.isServiceProxyEnabled?
this._removeViewerCredentials(this.collaboration.id,this.workspace.id).then(function(c){(null===c||void 0===c?0:c.code)?n.handleRemoveCredentialsError():(n._showModalNotice(n.i18n.credentialsRemoved),e.default.publish("collaboration-workspace/update"),n.hide())},function(c){n.handleRemoveCredentialsError()}):this.hide()};p.prototype.handleSetCredentialsError=function(n){var q=this.i18n.unexpectedError;if(null===n||void 0===n?0:n.messageCode)"COLLAB_0093"===n.messageCode?q=this.i18n.invalidCredentials:
"COLLAB_0090"===n.messageCode?q=this.i18n.invalidUserType:"COLLAB_0092"===n.messageCode?q=this.i18n.invalidAccess:"COLLAB_0091"===n.messageCode&&(q=this.i18n.invalidGroup);this._showModalError(q)};p.prototype.handleRemoveCredentialsError=function(){this._showModalError(this.i18n.unableToRemove)};return p=a.__decorate([(0,f.default)(m.default,h.default,u.default,k.default)],p)}()})},"arcgisonline/sharing/dijit/dialog/EditWebAuthCredentialsDlg":function(){define("require exports tslib dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/a11yclick dojo/topic ../../../pages/utils/dom ./_CollaborationsDialogMixin ../../../tsutils/declareDecorator dojo/i18n!../../../nls/arcgisonline dojo/text!../../dijit/dialog/templates/EditWebAuthCredentialsDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(){this.baseClass="esriCollabDlg orgDlg";this.widgetsInTemplate=!0;this.templateString=g.default;this.i18n=a.__assign(a.__assign(a.__assign({},v.default.common),v.default.collaborations.webTierAuthDlg),{yes:v.default.collaborations.yes,
no:v.default.collaborations.no,or:v.default.acceptCollabInviteDlg.orLabel,guestUsername:v.default.acceptCollabGuestDlg.webTierUsernameLabel,guestPassword:v.default.acceptCollabGuestDlg.webTierPasswordLabel,guestCertificate:v.default.acceptCollabGuestDlg.webTierCertificateLabel,guestCertificatePassword:v.default.acceptCollabGuestDlg.webTierCertificatePasswordLabel,hostUsername:v.default.acceptCollabInviteDlg.webTierUsernameLabel,hostPassword:v.default.acceptCollabInviteDlg.webTierPasswordLabel,hostCertificate:v.default.acceptCollabInviteDlg.webTierCertificateLabel,
hostCertificatePassword:v.default.acceptCollabInviteDlg.webTierCertificatePasswordLabel,webAuthInvalid:v.default.acceptCollabInviteDlg.webTierAuthInvalid})}p.prototype.postCreate=function(){this.inherited(arguments);var n=this.optionChange.bind(this);this.own((0,m.default)(this.yesRadio,n),(0,m.default)(this.noRadio,n),(0,m.default)(this.cancelBtn,this.hide.bind(this)),(0,m.default)(this.saveBtn,this.saveClick.bind(this)))};p.prototype.show=function(n,q,l){var c;this.collaboration=n;this.participant=
q;this.requiresWebAuth=null===(c=this.participant.portalInfo)||void 0===c?void 0:c.requiresWebAuth;this.currentUserIsHost=l;this.initUI();this._dialog.show()};p.prototype.hide=function(){this._dialog.hide()};p.prototype.initUI=function(){this.requiresWebAuth?this.yesRadio.checked=!0:this.noRadio.checked=!0;this.usernameLabel.textContent=this.currentUserIsHost?this.i18n.guestUsername:this.i18n.hostUsername;this.passwordLabel.textContent=this.currentUserIsHost?this.i18n.guestPassword:this.i18n.hostPassword;
this.certificateLabel.textContent=this.currentUserIsHost?this.i18n.guestCertificate:this.i18n.hostCertificate;this.certificatePasswordLabel.textContent=this.currentUserIsHost?this.i18n.guestCertificatePassword:this.i18n.hostCertificatePassword;this.optionChange()};p.prototype.optionChange=function(){u.default.showHide(this.webAuthContainer,this.yesRadio.checked)};p.prototype.validates=function(){var n=this.username.value.trim(),q=this.password.value.trim(),l=this.certificate.value,c=this.certificatePassword.value.trim();
return!(n||q||l||c)||n&&q&&l&&c?(this.username.focus(),this._showModalNotice(this.i18n.requiresCredentialsOrCert),!1):n&&!q?(this.password.focus(),this._showModalNotice(this.i18n.requiresCredentials),!1):!n&&q?(this.username.focus(),this._showModalNotice(this.i18n.requiresCredentials),!1):l&&!c?(this.certificatePassword.focus(),this._showModalNotice(this.i18n.requiresCert),!1):!l&&c?(this.certificate.focus(),this._showModalNotice(this.i18n.requiresCert),!1):!0};p.prototype.saveClick=function(){var n=
this;this.yesRadio.checked?this.validates()&&this._setWebAuthentication(this.collaboration.id,this.participant.id,this.form).then(function(q){(null===q||void 0===q?0:q.code)?n.handleSetWebAuthenticationError(q):(n._showModalNotice(n.i18n.updateSuccess),n.currentUserIsHost?h.default.publish("collaboration-guest/update"):h.default.publish("collaboration-workspace/update"),n.hide())},function(q){n.handleSetWebAuthenticationError(q)}):this.requiresWebAuth?this._removeWebAuthentication(this.collaboration.id,
this.participant.id).then(function(q){(null===q||void 0===q?0:q.code)?n.handleRemoveWebAuthenticationError():(n._showModalNotice(n.i18n.removeSuccess),n.currentUserIsHost?h.default.publish("collaboration-guest/update"):h.default.publish("collaboration-workspace/update"),n.hide())},function(q){n.handleRemoveWebAuthenticationError()}):this.hide()};p.prototype.handleSetWebAuthenticationError=function(n){var q=this.i18n.unableToUpdate;(null===n||void 0===n?0:n.messageCode)&&"COLLAB_0086"===n.messageCode&&
(q=this.i18n.webAuthInvalid);this._showModalError(q)};p.prototype.handleRemoveWebAuthenticationError=function(){this._showModalError(this.i18n.unableToRemove)};return p=a.__decorate([(0,e.default)(b.default,k.default,f.default,r.default)],p)}()})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){e("dijit-legacy-requires")&&q(0,function(){U(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return a("dijit.Menu",n,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):M.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(l){return g.get(this._iframeContentDocument(l))||
this._iframeContentDocument(l).__parent__||l.name&&document.frames[l.name]||null},_iframeContentDocument:function(l){return l.contentDocument||l.contentWindow&&l.contentWindow.document||l.name&&document.frames[l.name]&&document.frames[l.name].document||null},bindDomNode:function(l){l=b.byId(l,this.ownerDocument);if("iframe"==l.tagName.toLowerCase()){var c=l;var d=this._iframeContentWindow(c);d=v.body(d.document)}else d=l==v.body(this.ownerDocument)?this.ownerDocument.documentElement:l;var w={node:l,
iframe:c};k.set(l,"_dijitMenu"+this.id,this._bindings.push(w));var t=u.hitch(this,function(z){var x=this.selector,y=x?function(B){return r.selector(x,B)}:function(B){return B},A=this;return[r(z,y(this.leftClickToOpen?"click":"contextmenu"),function(B){B.stopPropagation();B.preventDefault();(new Date).getTime()<A._lastKeyDown+500||A._scheduleOpen(this,c,{x:B.pageX,y:B.pageY},B.target)}),r(z,y("keydown"),function(B){if(93==B.keyCode||B.shiftKey&&B.keyCode==h.F10||A.leftClickToOpen&&B.keyCode==h.SPACE)B.stopPropagation(),
B.preventDefault(),A._scheduleOpen(this,c,null,B.target),A._lastKeyDown=(new Date).getTime()})]});w.connects=d?t(d):[];c&&(w.onloadHandler=u.hitch(this,function(){var z=this._iframeContentWindow(c);z=v.body(z.document);w.connects=t(z)}),c.addEventListener?c.addEventListener("load",w.onloadHandler,!1):c.attachEvent("onload",w.onloadHandler))},unBindDomNode:function(l){try{var c=b.byId(l,this.ownerDocument)}catch(z){return}l="_dijitMenu"+this.id;if(c&&k.has(c,l)){for(var d=k.get(c,l)-1,w=this._bindings[d],
t;t=w.connects.pop();)t.remove();(t=w.iframe)&&(t.removeEventListener?t.removeEventListener("load",w.onloadHandler,!1):t.detachEvent("onload",w.onloadHandler));k.remove(c,l);delete this._bindings[d]}},_scheduleOpen:function(l,c,d,w){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:w,delegatedTarget:l,iframe:c,coords:d})},1))},_openMyself:function(l){function c(){B.refocus&&D&&D.focus();p.close(B)}var d=l.target,w=l.iframe,t=l.coords,z=!t;this.currentTarget=
l.delegatedTarget;if(t){if(w){l=f.position(w,!0);d=this._iframeContentWindow(w);d=f.docScroll(d.document);var x=m.getComputedStyle(w),y=m.toPixelValue,A=(e("ie")&&e("quirks")?0:y(w,x.paddingLeft))+(e("ie")&&e("quirks")?y(w,x.borderLeftWidth):0);w=(e("ie")&&e("quirks")?0:y(w,x.paddingTop))+(e("ie")&&e("quirks")?y(w,x.borderTopWidth):0);t.x+=l.x+A-d.x;t.y+=l.y+w-d.y}}else t=f.position(d,!0),t.x+=10,t.y+=10;var B=this;w=this._focusManager.get("prevNode");l=this._focusManager.get("curNode");var D=!l||
b.isDescendant(l,this.domNode)?w:l;p.open({popup:this,x:t.x,y:t.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?"L":"R"});this.focus();z||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);p.close(this)}},destroy:function(){M.forEach(this._bindings,function(l){l&&this.unBindDomNode(l.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],
function(U,M,a,b){return U("dijit.DropDownMenu",b,{templateString:a,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(k){this._moveToPopup(k);k.stopPropagation();k.preventDefault()},_onLeftArrow:function(k){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else k.stopPropagation(),k.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){return M("dijit._MenuBase",[v,n,p,g],{selected:null,_setSelectedAttr:function(q){this.selected!=q&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),q&&q._setSelected(!0),this._set("selected",q))},activated:!1,_setActivatedAttr:function(q){k.toggle(this.domNode,"dijitMenuActive",q);k.toggle(this.domNode,"dijitMenuPassive",!q);this._set("activated",q)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(q){var l=e.byNode(q);return q.parentNode==this.containerNode&&l&&l.focus},postCreate:function(){var q=this,l="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(h(this.containerNode,h.selector(l,m.enter),function(){q.onItemHover(e.byNode(this))}),h(this.containerNode,h.selector(l,m.leave),function(){q.onItemUnhover(e.byNode(this))}),h(this.containerNode,h.selector(l,r),function(c){q.onItemClick(e.byNode(this),c);c.stopPropagation()}),
h(this.containerNode,h.selector(l,"focusin"),function(){q._onItemFocus(e.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(q,l,c,d){this.inherited(arguments);if(q&&(-1==d||q.popup&&1==d))this.onItemClick(q,l)},_keyboardSearchCompare:function(q,l){return q.shortcutKey?l==q.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(q){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
q);else(q=this._getTopMenu())&&q._isMenuBar&&q.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(q){this.activated?(this.set("selected",q),!q.popup||q.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(q)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(q,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=q;q._set("hovering",!0)},_onChildDeselect:function(q){this._stopPopupTimer();this.currentPopupItem==q&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;q._closePopup()},this.popupDelay))},onItemUnhover:function(q){this._hoveredChild==q&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);q._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var q=this;q.parentMenu;q=q.parentMenu);return q},onItemClick:function(q,l){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(q);if(q.disabled)return!1;q.popup?(this.set("selected",q),this.set("activated",!0),l=/^key/.test(l._origType||
l.type)||0==l.clientX&&0==l.clientY,this._openItemPopup(q,l)):(this.onExecute(),q._onClick?q._onClick(l):q.onClick(l))},_openItemPopup:function(q,l){if(q!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var c=q.popup;c.parentMenu=this;this.own(this._mouseoverHandle=h.once(c.domNode,"mouseover",f.hitch(this,"_onPopupHover")));var d=this;q._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){l&&
d.focusChild(q);d._cleanUp()},onExecute:f.hitch(this,"_cleanUp",!0),onClose:function(){d._mouseoverHandle&&(d._mouseoverHandle.remove(),delete d._mouseoverHandle)}},l);this.currentPopupItem=q}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(b.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(q){if(this._hoveredChild&&this._hoveredChild!=q)this.onItemUnhover(this._hoveredChild);this.set("selected",q)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(q){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);q&&this.set("selected",null)}})})},"arcgisonline/sharing/dijit/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/string dojo/_base/array dojo/on dojo/aspect dijit/_WidgetBase dijit/TooltipDialog dijit/popup dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem dgrid/Grid dgrid/extensions/Pagination dgrid/extensions/DijitRegistry dgrid/OnDemandGrid dgrid/extensions/ColumnResizer dgrid/Keyboard ./_RefreshMixin ./Rating dojo/query dojo/dom-class dojo/dom-style dojo/when dojo/store/Memory dgrid/Selection dgrid/selector dojo/store/Observable put-selector/put dgrid/util/mouse dgrid/util/touch arcgisonline/sharing/util ../../pages/utils/date ../../pages/utils/keys arcgisonline/sharing/geow/Content dojo/i18n!arcgisonline/nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T,S){esri.i18nBundle=S;return U("arcgisonline.sharing.dijit.Grid",[m],{postMixInProperties:function(){this.inherited(arguments);this._util=J;this._content=T;this._supportedViews=["gallery","details","table"];this._favorites={};this._portalUser=this._util.getUser();this._galleryTemplate=this._galleryTemplate||"\x3cdiv style\x3d'opacity:0;' class\x3d'grid-item gallery-view'\x3e${item:_formatThumbnail}\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e${item:_formatItemTypeIcon}\x3c/div\x3e";
this._detailsTemplate=this._detailsTemplate||'\x3cdiv style\x3d\'opacity:0;\' class\x3d\'grid-item detail-view\'\x3e${item:_formatThumbnail}\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e\x3cdiv class\x3d"rating-system"\x3e\x3cdiv data-dojo-type\x3d\'arcgisonline/sharing/dijit/Rating\' data-dojo-props\x3d\'numStars:5,value:${item.avgRating},disabled:true\'\x3e\x3c/div\x3e\x26nbsp;\x3cspan\x3e(${item.numRatings})\x3c/span\x3e\x3c/div\x3e${item:_formatItemTypeIcon}\x3cp class\x3d"grid-item-type"\x3e${item:_formatType}\x3c/p\x3e\x3cp class\x3d"grid-item-desc"\x3e${item.snippet}\x3c/p\x3e${item:_formatPremiumContentIcon}\x3cspan class\x3d"openItem" id\x3d"openItem"\x3e\x3c/span\x3e\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"calcite btn small primary details-button"\x3e${i18n.gallery.details}\x3c/a\x3e\x3c/div\x3e';
this._itemPopupTemplate=this._itemPopupTemplate||'\x3cdiv class\x3d"grid-item-hover"\x3e\x3ch5\x3e${item:_formatItemTitle}\x3c/h5\x3e\x3cspan id\x3d\'openItem\'\x3e\x3c/span\x3e\x3ca href\x3d"item.html?id\x3d${item.id}" class\x3d"calcite btn small primary details-button"\x3e${i18n.details}\x3c/a\x3e\x3cp class\x3d"item-hover-type"\x3e${item:_formatItemTypeIcon}${item:_formatType} by\x26nbsp;${item.owner:_formatOwnerLink}\x3c/p\x3e\x3cp class\x3d"item-hover-desc"\x3e${item.snippet}\x3c/p\x3e${item:_formatPremiumContentIcon}\x3cdiv class\x3d"rating-system"\x3e\x3cdiv data-dojo-type\x3d\'arcgisonline/sharing/dijit/Rating\' data-dojo-props\x3d\'numStars:5,value:${item.avgRating},disabled:true\'\x3e\x3c/div\x3e\x26nbsp;\x3cspan\x3e(${item.numRatings})\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e';
this._renderers=M.mixin(this._renderers||{},{gallery:M.hitch(this,function(L){L.snippet=L.snippet||"";var N=G("div"),O=new (U([m,r,e],{templateString:a.substitute(this._galleryTemplate,{item:L,i18n:S.gallery},null,this)}));L.widget=O;N.appendChild(O.domNode);return N}),details:M.hitch(this,function(L){L.snippet=L.snippet||"";var N=G("div"),O=new (U([m,r,e],{templateString:a.substitute(this._detailsTemplate,{item:L,i18n:S},null,this)})),Q=new v({label:S.gallery.open,className:"btn calcite primary",
dropDown:this._getOpenInMenu(L)},x(".openItem",N)[0]);L.widget=O;N.appendChild(O.domNode);x(".openItem",N).replaceWith(Q.domNode);0===Q.dropDown.getChildren().length&&Q.set("disabled",!0);return N}),table:function(){return G("div",n.prototype.renderRow.apply(this,arguments))}})},buildRendering:function(){this.inherited(arguments);var L=U([n,l,q,d,C,t]),N=this.columns||{title:{label:"title"},type:{label:"type"},modified:{label:"last modified"},access:{label:"sharing"}};this._view=this.view||"table";
this._query=this.query;this._sort=this.sort||[{attribute:"title",descending:!1}];this._queryOptions=this.queryOptions||{sort:this.sort};this._store=this.store||new D({data:[]});this._rowsPerPage=this.rowsPerPage||9;this._pagingLinks=this.pagingLinks?this.pagingLinks:3;this._showHeader=this.showHeader||!1;this._selectionMode=this.selectionMode||"extended";this._useTouchScroll=this.useTouchScroll||!1;this._grid=new L({columns:N,renderRow:this._renderers[this._view],noDataMessage:this.noDataMessage||
"",showHeader:this._showHeader,store:this._store,query:this._query,showLoadingMessage:!1,firstLastArrows:this._pagingLinks,previousNextArrows:this._pagingLinks,rowsPerPage:this._rowsPerPage,pagingLinks:this._pagingLinks,allowSelectAll:!0,selectionMode:this._selectionMode,sort:this._sort},this.domNode);this._grid.startup()},postCreate:function(){this.inherited(arguments);this.own(this._grid.on("refresh",M.hitch(this,function(){this._grid.showFooter=this._grid._total>this._grid.rowsPerPage;this._onGridRefresh()})),
f.before(this._grid,"removeRow",M.hitch(this,function(L){L&&(L=this._grid.row(L),(L=(L.data||L).widget)&&L.destroyRecursive())})),this._grid.on(".fav-icon a:click",M.hitch(this,function(L){L.preventDefault();var N=this._grid.row(L),O=L.target.parentNode.parentNode.parentNode,Q=y.contains(L.target.parentNode,"fav-off");L=this._content[Q?"addToFavorites":"removeFromFavorites"](N.data).then(M.hitch(this,function(){this._favorites[N.data.id].id=Q?N.data.id:!1}));x(".fav-on",O).style({display:Q?"":"none"});
x(".fav-off",O).style({display:Q?"none":""});setTimeout(M.hitch(this,function(){x(".fav-on",O).style({width:Q?"200px":"24px"});x(".fav-off",O).style({width:Q?"24px":"200px"});setTimeout(M.hitch(this,function(){x(".fav-on, .fav-off").style({width:"24px"})}),2500)}),50);L.then(M.hitch(this,function(){}))})),this._grid.on(".fav-icon a:mouseout",M.hitch(this,function(L){A.set(L.target.parentNode,{width:"24px"})})));!esri.isTouchEnabled||"gallery"!==this._view&&"details"!==this._view?"gallery"!==this._view&&
"details"!==this._view||this.own(this._grid.on(F.enterRow,M.hitch(this,function(L){if(L.relatedTarget&&!1===y.contains(L.relatedTarget,"dijitMenu")&&!1===y.contains(L.relatedTarget,"dijitReset")){var N=this._grid.row(L),O=x("img",N.element)[0];clearTimeout(this._showPopupTimeout);O&&(this._showPopupTimeout=setTimeout(M.hitch(this,function(){this._portalUser?this._isFavorite(N.data.id).then(M.hitch(this,function(Q){this._showPopup(N.data,O.parentNode)})):this._showPopup(N.data,O)}),400))}})),this._grid.on(F.leaveRow,
M.hitch(this,function(L){L.relatedTarget&&!1===y.contains(L.relatedTarget,"dijitTooltipDialog")&&!1===y.contains(L.relatedTarget,"dijitTooltipConnector")&&(clearTimeout(this._showPopupTimeout),clearTimeout(this._closePopupTimeout),this._closePopupTimeout=setTimeout(M.hitch(this,function(){x(".fav-on, .fav-off",this.domNode).style("display","none").style("width","24px");this._closePopup()}),10))}))):this.own(this._grid.on(I.selector(".dgrid-content .dgrid-row",I.tap),M.hitch(this,function(L){L.preventDefault();
var N=this._grid.row(L);this._portalUser?this._isFavorite(N.data.id).then(M.hitch(this,function(O){this._showPopup(N.data,x("img",N.element)[0].parentNode)})):this._showPopup(N.data,x("img",N.element)[0])})),this._grid.on(".dgrid-row:click",M.hitch(this,function(L){L.preventDefault();var N=this._grid.row(L);this._portalUser?this._isFavorite(N.data.id).then(M.hitch(this,function(O){this._showPopup(N.data,x("img",N.element)[0].parentNode)})):this._showPopup(N.data,x("img",N.element)[0])})))},_onGridRefresh:function(L){this.emit("onRefresh",
{currentPage:this._grid._currentPage});this._pagingLinks&&(x(".dgrid-navigation",this._grid.domNode)[this._grid._total<=this._grid.rowsPerPage?"addClass":"removeClass"]("hide"),x(".dgrid-pagination",this._grid.domNode)[0===this._grid._total?"addClass":"removeClass"]("hide"))},_getGridAttr:function(){return this._grid},_showPopup:function(L,N){"details"===this._view?this._portalUser&&this._isFavorite(L.id).then(M.hitch(this,function(O){x(".fav-on",N.parentNode).style("display",O.id?"":"none");x(".fav-off",
N.parentNode).style("display",O.id?"none":"")})):"gallery"===this._view&&L.id&&L.id!==this._popupId&&(this._portalUser&&this._isFavorite(L.id).then(M.hitch(this,function(O){x(".fav-on",N.parentNode).style("display",O.id?"":"none");x(".fav-off",N.parentNode).style("display",O.id?"none":"")})),this._closePopup(),this._popupId=L.id,this._tooltip=new h({onMouseLeave:M.hitch(this,"_closePopup"),content:new (U([m,r,e],{templateString:a.substitute(this._itemPopupTemplate,{item:L,i18n:S.gallery},null,this)}))}),
u.open({popup:this._tooltip,around:N,orient:["after-centered","before-centered"]}),this._popupButton=new v({label:S.gallery.open,className:"calcite btn small primary",dropDown:this._getOpenInMenu(L)}),x("#openItem").replaceWith(this._popupButton.domNode),0===this._popupButton.dropDown.getChildren().length&&this._popupButton.set("disabled",!0))},_closePopup:function(L){L&&L.relatedTarget&&(!0===y.contains(L.relatedTarget,"dijitBackgroundIframe")||!0===y.contains(L.relatedTarget,"dijitMenu")||!0===
y.contains(L.relatedTarget,"dijitReset"))||!this._tooltip||(u.close(this._tooltip),this._popupConnect&&this._popupConnect.remove(),this._popupButton&&this._popupButton.destroyRecursive(),this._tooltip.destroyRecursive(),this._popupId=this._tooltip=null)},_isFavorite:function(L){return B(this._favorites[L]||this._searchItems('(group:"'+this._portalUser.favGroupId+'" AND id:"'+L+'")').then(M.hitch(this,function(N){this._favorites[L]=N.results[0]||{id:!1};return this._favorites[L]})))},_searchItems:function(L){return this._util.request({url:esriGeowConfig.restBaseUrl+
"search",content:{q:L,f:"json"}})},refresh:function(){this._grid&&(this._grid.set("query",this._query,this._queryOptions),x(".dgrid-row",this._grid.domNode).attr("tabindex","0"),this.own(k(this._grid.domNode.querySelector(".dgrid-content"),"keyup",function(L){var N=L.target;N.classList.contains("dgrid-row")&&L.keyCode===P.ENTER&&("single"===this._grid.selectionMode&&this._grid.clearSelection(),this._grid.select(N))}.bind(this))))},gotoPage:function(L){this._grid.query=this._query;this._grid.queryOptions=
this._queryOptions;this._grid._sort=this._queryOptions.sort;this._grid.gotoPage(L)},_formatItemTitle:function(L){return L.title||L.name||""},_formatType:function(L){return this._content.changeTypename({type:L.type,typeKeywords:L.typeKeywords},!1)||L.type},_formatLargeThumbnail:function(L){return L?"\x3cimg class\x3d'grid-item-thumb' alt\x3d'' src\x3d'"+L+"'\x3e":"\x3cimg class\x3d'grid-item-thumb' alt\x3d'' src\x3d'"+this._util.getStaticImagesUrl()+"/desktopapp.png'\x3e"},_getDefaultThumbnail:function(L){var N=
this._util.getStaticImagesUrl();return"web mapping application"==L?N+"/webapp.png":"mobile application"==L?N+"/mobileapp.png":"workforce project"===L?N+"/workforceproject.png":"hub initiative"===L?N+"/hubinitiative.png":"hub page"===L?N+"/hubpage.png":"hub site application"===L?N+"/hubsite.png":"dashboard"===L?N+"/opsdashboard.png":"geoprocessing service"===L&&esriGeowConfig.self&&esriGeowConfig.self.isPortal?N+"/webtool.png":"web scene"===L||"scene service"===L?N+"/scene.png":"ortho mapping project"===
L?N+"/orthomappingproject.png":"ortho mapping template"===L?N+"/orthomappingtemplate.png":N+"/desktopapp.png"},_formatThumbnail:function(L){var N=L.thumbnailUrl||this._getDefaultThumbnail(L.type&&L.type.toLowerCase()),O=this._util.getHomePageGalleryLinkInfo(L),Q=-1<dojo.indexOf(L.typeKeywords,"Web AppBuilder for ArcGIS");Q=esriGeowConfig.self&&esriGeowConfig.self.isPortal&&Q||"Application"===L.type||"Web Mapping Application"===L.type&&!Q||"Mobile Application"===L.type||"Document Link"===L.type;var V=
"Application"===L.type||"Web Mapping Application"===L.type||"Mobile Application"===L.type||"Document Link"===L.type||"CityEngine Web Scene"===L.type||"Dashboard"===L.type;L='\x3ca href\x3d"'+(esri.isTouchEnabled?"#":Q?L.url||"item.html?id\x3d"+L.id:O&&O.href&&O.href.replace(/"/g,"'")||"item.html?id\x3d"+L.id)+'" target\x3d"'+(V?"_blank":"")+'"\x3e\x3cimg class\x3d"grid-item-thumb" alt\x3d"" src\x3d"'+N+'" /\x3e\x3c/a\x3e';N=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom();N=!N||N&&esriGeowConfig.userRole.canShareItemToGroup();
O='\x3cdiv class\x3d"gallery-img"\x3e\x3cdiv class\x3d"fav-icon"\x3e\x3ca href\x3d"#"\x3e\x3cdiv class\x3d"fav-on" style\x3d"display:none;"\x3e\x3cdiv class\x3d"star-on"\x3e\x3c/div\x3e\x3cp id\x3d"addString"\x3e'+S.gallery.addFavorite+'\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3ca href\x3d"#"\x3e\x3cdiv class\x3d"fav-off" style\x3d"display:none;"\x3e\x3cdiv class\x3d"star-off"\x3e\x3c/div\x3e\x3cp id\x3d"remString"\x3e'+S.gallery.removeFavorite+"\x3c/p\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e"+L+"\x3c/div\x3e";
return N&&this._portalUser?O:L},_formatItemTypeIcon:function(L){return"\x3cimg class\x3d'grid-item-icon' alt\x3d'' src\x3d'"+this._content._getItemIconUrl(L)+"'\x3e"},_formatPremiumContentIcon:function(L){var N=L.isPremiumContent,O=L.getTypeInfo(),Q=esriGeowConfig.self&&esriGeowConfig.self.isPortal?"portal":"";L=-1<b.indexOf(L.typeKeywords,"Requires Credits");return N?'\x3cp class\x3d"grid-item-type" title\x3d"'+(L?S.common["premiumcontentcreditstitle"+Q]:S.common["premiumcontenttitle"+Q])+"\"\x3e\x3cimg class\x3d'grid-premium-icon' alt\x3d'' src\x3d'"+
O.premiumIconUrl+"'\x3e"+(L?S.common.premiumcontent:S.common.subscriptioncontent)+"\x3c/p\x3e":""},_formatDate:function(L){!1===L instanceof Date&&(L=new Date(L));return L?K.format(L,"long-month-year"):""},_formatOwnerLink:function(L){return'\x3ca href\x3d"user.html?user\x3d'+L+'"\x3e'+L+"\x3c/a\x3e"},_getOpenInMenu:function(L){L=this._util.getItemOpenLinkObjects(L);var N;var O=new g({autoFocus:!0,_destroyOnRemove:!0,showTitle:!1});b.forEach(L,function(Q){N=new p({label:Q.label,onClick:function(){Q.onClick()}});
O.addChild(N)});O.startup();return O},_setViewAttr:function(L){this._view=L=-1===b.indexOf(this._supportedViews,L)?this._view:L;this._grid&&(this._grid.renderRow=this._renderers[L],G(this._grid.domNode,"!table!gallery!details."+L),this._grid.set("showHeader","table"===this._view))},_setStoreAttr:function(L){this._store=L},_setQueryAttr:function(L,N){this._query=L||this._query;this._queryOptions=N||this._queryOptions},_setItemsAttr:function(L){(this._store=this._store||new H(new D({data:L,identifier:"id",
label:"id"})),this._store.setData)?this._store.setData(L):this._store=new H(new D({data:L}));this.set("store",this._store);this.set("view",this._view)}})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(U,M,a,b,k,f,m){function h(e,v){v&&v.nodeType&&e.appendChild(v)}function u(e,v,g,p){if(this.formatter){p=this.formatter;var n=this.grid.formatterScope;g.innerHTML="string"===typeof p&&n?
n[p](v,e):this.formatter(v,e)}else null!=v&&g.appendChild(document.createTextNode(v))}var r=8>b("ie")&&!b("quirks");M=M("dgrid.Grid",f,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(e){return"object"!=typeof e?this.columns[e]:this.cell(e).column},listType:"grid",cell:function(e,v){if(e.column&&e.element)return e;e.target&&e.target.nodeType&&(e=e.target);if(e.nodeType){do{if(this._rowIdToObject[e.id])break;var g=e.columnId;if(g){v=g;var p=e;break}e=e.parentNode}while(e&&
e!=this.domNode)}if(!p&&"undefined"!=typeof v){var n=this.row(e);if(g=n&&n.element){g=g.getElementsByTagName("td");for(var q=0;q<g.length;q++)if(g[q].columnId==v){p=g[q];break}}}if(null!=e)return{row:n||this.row(e),column:v&&this.column(v),element:p}},createRowCells:function(e,v,g,p){var n=k("table.dgrid-row-table[role\x3dpresentation]"),q=9>b("ie")||b("quirks")?k(n,"tbody"):n,l,c,d;g=g||this.subRows;var w=0;for(l=g.length;w<l;w++){var t=g[w];var z=k(q,"tr");t.className&&k(z,"."+t.className);var x=
0;for(c=t.length;x<c;x++){var y=t[x];var A=y.id;var B=y.field?".field-"+m.escapeCssIdentifier(y.field,"-"):"";(d="function"===typeof y.className?y.className(p):y.className)&&(B+="."+d);B=k(e+(".dgrid-cell.dgrid-cell-padding"+(A?".dgrid-column-"+m.escapeCssIdentifier(A,"-"):"")+B.replace(/ +/g,"."))+"[role\x3d"+("th"===e?"columnheader":"gridcell")+"]");B.columnId=A;r?(A=k(B,"!dgrid-cell-padding div.dgrid-cell-padding"),B.contents=A):A=B;if(d=y.colSpan)B.colSpan=d;if(d=y.rowSpan)B.rowSpan=d;v(A,y);
z.appendChild(B)}}return n},left:function(e,v){e.element||(e=this.cell(e));return this.cell(this._move(e,-(v||1),"dgrid-cell"))},right:function(e,v){e.element||(e=this.cell(e));return this.cell(this._move(e,v||1,"dgrid-cell"))},renderRow:function(e,v){var g=this.createRowCells("td",function(p,n){var q=e;n.get?q=n.get(e):"field"in n&&"_item"!=n.field&&(q=q[n.field]);n.renderCell?h(p,n.renderCell(e,q,p,v)):u.call(n,e,q,p,v)},v&&v.subRows,e);return k("div[role\x3drow]\x3e",g)},renderHeader:function(){var e=
this,v=this.headerNode,g=v.childNodes.length;for(v.setAttribute("role","row");g--;)k(v.childNodes[g],"!");g=this.createRowCells("th",function(p,n){var q=n.headerNode=p;r&&(p=p.parentNode);var l=n.field;l&&(p.field=l);n.renderHeaderCell?h(q,n.renderHeaderCell(q)):("label"in n||n.field)&&q.appendChild(document.createTextNode("label"in n?n.label:n.field));!1!==n.sortable&&l&&"_item"!=l&&(p.sortable=!0,p.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[g.id=this.id+
"-header"]=this.columns;v.appendChild(g);this._sortListener&&this._sortListener.remove();this._sortListener=a(g,"click,keydown",function(p){if("click"==p.type||32==p.keyCode||!b("opera")&&13==p.keyCode){var n=p.target,q,l;do if(n.sortable){var c=[{attribute:q=n.field||n.columnId,descending:(l=e._sort[0])&&l.attribute==q&&!l.descending}];q={bubbles:!0,cancelable:!0,grid:e,parentType:p.type,sort:c};a.emit(p.target,"dgrid-sort",q)&&(e._sortNode=n,e.set("sort",c));break}while((n=n.parentNode)&&n!=v)}})},
resize:function(){var e=this.headerNode.firstChild,v=this.contentNode,g;this.inherited(arguments);if(!b("ie")||7<b("ie")&&!b("quirks"))v.style.width="",v&&e&&(g=e.offsetWidth)!=v.offsetWidth&&(v.style.width=g+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(e,v){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(e){var v=this.columns,g;for(g in v){var p=v[g];if(p.field==
e)return p.headerNode}},updateSortArrow:function(e,v){this._lastSortedArrow&&(k(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),k(this._lastSortedArrow,"!"),delete this._lastSortedArrow);v&&(this._sort=e);if(e[0]&&(v=e[0].attribute,e=e[0].descending,v=this._sortNode||this._findSortArrowParent(v),delete this._sortNode,v)){v=v.contents||v;var g=this._lastSortedArrow=k("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]");g.innerHTML="\x26nbsp;";v.insertBefore(g,v.firstChild);k(v,e?".dgrid-sort-down":
".dgrid-sort-up");this.resize()}},styleColumn:function(e,v){return this.addCssRule("#"+m.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+m.escapeCssIdentifier(e,"-"),v)},_configColumns:function(e,v){var g=[],p=v instanceof Array;m.each(v,function(n,q){"string"==typeof n&&(v[q]=n={label:n});p||n.field||(n.field=q);q=n.id=n.id||(isNaN(q)?q:e+q);this._configColumn&&(this._configColumn(n,q,v,e),q=n.id);p&&(this.columns[q]=n);n.grid=this;"function"===typeof n.init&&n.init();g.push(n)},this);return p?
v:g},_destroyColumns:function(){var e=this.subRows,v=e&&e.length,g,p;this.cleanup();for(g=0;g<v;g++){var n=0;for(p=e[g].length;n<p;n++){var q=e[g][n];"function"===typeof q.destroy&&q.destroy()}}},configStructure:function(){var e=this.subRows,v=this._columns=this.columns;this.columns=!v||v instanceof Array?{}:v;if(e)for(v=0;v<e.length;v++)e[v]=this._configColumns(v+"-",e[v]);else this.subRows=[this._configColumns("",v)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(e){this._destroyColumns();
this.subRows=null;this.columns=e;this._updateColumns()},_setSubRows:function(e){this._destroyColumns();this.subRows=e;this._updateColumns()},setColumns:function(e){U.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",e)},setSubRows:function(e){U.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",e)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);
this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});M.appendIfNode=h;M.defaultRenderCell=u;return M})},"put-selector/put":function(){(function(U){var M,a=/[-+,> ]/;U([],M=function(b,k){function f(e){function v(){l&&q&&l!=q&&(q==e&&(g||(g=a.test(t)&&b.createDocumentFragment()))?g:q).insertBefore(l,n||null)}for(var g,p,n,q,l,c=arguments,d=c[0],w=0;w<c.length;w++){var t=c[w];if("object"==typeof t){p=!1;if(t instanceof Array){l=b.createDocumentFragment();for(var z=
0;z<t.length;z++)l.appendChild(f(t[z]));t=l}if(t.nodeType)l=t,v(),q=t,n=0;else for(z in t)l[z]=t[z]}else if(p)p=!1,l.appendChild(b.createTextNode(t));else{1>w&&(e=null);p=!0;if(d=t.replace(m,function(x,y,A,B,D,C){y&&(v(),"-"==y||"+"==y?(q=(n=l||q).parentNode,l=null,"+"==y&&(n=n.nextSibling)):("\x3c"==y?q=l=(l||q).parentNode:(","==y?q=e:l&&(q=l),l=null),n=0),l&&(q=l));if((x=!A&&B)||!l&&(A||D))"$"==x?(x=c[++w],q.appendChild(b.createTextNode(x))):(x=x||f.defaultTag,(y=r&&c[w+1]&&c[w+1].name)&&(x="\x3c"+
x+' name\x3d"'+y+'"\x3e'),l=u&&~(h=x.indexOf("|"))?b.createElementNS(u[x.slice(0,h)],x.slice(h+1)):b.createElement(x));if(A)if("$"==B&&(B=c[++w]),"#"==A)l.id=B;else if(y=(x=l.className)&&(" "+x+" ").replace(" "+B+" "," "),"."==A)l.className=x?(y+B).substring(1):B;else if("!"==t){var E;r?f("div",l,"\x3c").innerHTML="":(E=l.parentNode)&&E.removeChild(l)}else y=y.substring(1,y.length-1),y!=x&&(l.className=y);D&&("$"==C&&(C=c[++w]),"style"==D?l.style.cssText=C:(A="!"==D.charAt(0)?(D=D.substring(1))&&
"removeAttribute":"setAttribute",C=""===C?D:C,u&&~(h=D.indexOf("|"))?l[A+"NS"](u[D.slice(0,h)],D.slice(h+1),C):l[A](D,C)));return""}))throw new SyntaxError("Unexpected char "+d+" in "+t);v();q=d=l||q}}e&&g&&e.appendChild(g);return d}a=k||a;var m=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,h,u=!1;b=b||document;var r="object"==typeof b.createElement;f.addNamespace=function(e,v){b.createElementNS?(u||(u={}))[e]=v:b.namespaces.add(e,v)};f.defaultTag=
"div";f.forDocument=M;return f})})(function(U,M,a){a=a||M;"function"===typeof define?define([],function(){return a()}):"undefined"==typeof window?require("./node-html")(module,a):put=a()})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/query dojo/has ./util/misc dojo/has!touch?./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),function(U,M,a,b,k,f,m,h,u,r){function e(z,x){return k("#"+m.escapeCssIdentifier(z),
x)[0]}function v(z,x){r(document.body,z,".dgrid-scrollbar-measure");x=z["offset"+x]-z["client"+x];z.className="";z.parentNode&&document.body.removeChild(z);return x}function g(z){var x=z?"."+z.replace(w,"."):"";this._class&&(x="!"+this._class.replace(w,"!")+x);r(this.domNode,x);this._class=z}function p(){return this._class}function n(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function q(z){"undefined"!==typeof z.x&&(this.bodyNode.scrollLeft=z.x);"undefined"!==typeof z.y&&(this.bodyNode.scrollTop=
z.y)}u("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var l,c;f.add("dom-scrollbar-width",function(z,x,y){return v(y,"Width")});f.add("dom-scrollbar-height",function(z,x,y){return v(y,"Height")});f.add("dom-rtl-scrollbar-left",function(z,x,y){z=r("div");r(document.body,y,".dgrid-scrollbar-measure[dir\x3drtl]");r(y,z);x=!!f("ie")||!!f("trident")||z.offsetLeft>=f("dom-scrollbar-width");y.className="";y.parentNode&&document.body.removeChild(y);r(z,"!");y.removeAttribute("dir");
return x});var d=0,w=/ +/g,t=7>f("ie")&&!f("quirks")?function(){if(this._started){var z=document.documentElement;var x=z.clientWidth;z=z.clientHeight;var y=this._prevWinDims||[];if(y[0]!==x||y[1]!==z)this.resize(),this._prevWinDims=[x,z]}}:function(){this._started&&this.resize()};return M("dgrid.List",f("touch")?h:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,shouldObserveStore:!0,cleanEmptyObservers:!0,highlightDuration:250,
postscript:function(z,x){var y=this;(this._Row=function(A,B,D){this.id=A;this.data=B;this.element=D}).prototype.remove=function(){y.removeRow(this.element)};x&&(this.srcNodeRef=x=x.nodeType?x:e(x));this.create(z,x)},listType:"list",create:function(z,x){x=this.domNode=x||r("div");if(z){this.params=z;M.safeMixin(this,z);var y=z["class"]||z.className||x.className;this._sort=z.sort||[];delete this.sort}else this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};
this.postMixInProperties&&this.postMixInProperties();this.id=x.id=x.id||this.id||"dgrid_"+d++;null===this.useTouchScroll&&(this.useTouchScroll=!f("dom-scrollbar-width"));this.buildRendering();y&&g.call(this,y);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var z=this.domNode,x=this.addUiClasses,y=this;var A=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();z.className="";r(z,
"[role\x3dgrid].dgrid.dgrid-"+this.listType+(x?".ui-widget":""));var B=this.headerNode=r(z,"div.dgrid-header.dgrid-header-row"+(x?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(f("quirks")||8>f("ie"))&&r(z,"div.dgrid-spacer");var D=this.bodyNode=r(z,"div.dgrid-scroller");f("ff")&&(D.tabIndex=-1);this.headerScrollNode=r(z,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(x?".ui-widget-header":""));var C=this.footerNode=r("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));
r(z,C);A&&(z.className+=" dgrid-rtl"+(f("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));b(D,"scroll",function(E){y.showHeader&&(B.scrollLeft=E.scrollLeft||D.scrollLeft);E.stopPropagation();b.emit(z,"scroll",{scrollTarget:D})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=r(this.bodyNode,"div.dgrid-content"+(x?".ui-widget-content":""));this._listeners.push(this._resizeHandle=b(window,"resize",m.throttleDelayed(t,this)))},postCreate:f("touch")?function(){this.useTouchScroll&&
this.inherited(arguments)}:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var z=this.bodyNode,x=this.headerNode,y=this.footerNode,A=x.offsetHeight,B=this.showFooter?y.offsetHeight:0,D=f("quirks")||7>f("ie");this.headerScrollNode.style.height=z.style.marginTop=A+"px";z.style.marginBottom=B+"px";D&&(z.style.height="",z.style.height=Math.max(this.domNode.offsetHeight-
A-B,0)+"px",B&&(y.style.bottom="1px",setTimeout(function(){y.style.bottom=""},0)));l||(l=f("dom-scrollbar-width"),c=f("dom-scrollbar-height"),f("ie")&&(l++,c++),m.addCssRule(".dgrid-scrollbar-width","width: "+l+"px"),m.addCssRule(".dgrid-scrollbar-height","height: "+c+"px"),17==l||D||(m.addCssRule(".dgrid-header-row","right: "+l+"px"),m.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+l+"px")));D&&(x.style.width=z.clientWidth+"px",setTimeout(function(){x.scrollLeft=z.scrollLeft},0))},addCssRule:function(z,
x){z=m.addCssRule(z,x);this.cleanAddedRules&&this._listeners.push(z);return z},on:function(z,x){z=b(this.domNode,z,x);f("dom-addeventlistener")||this._listeners.push(z);return z},cleanup:function(){var z=this.observers,x;for(x in this._rowIdToObject)if(this._rowIdToObject[x]!=this.columns){var y=e(x,this.domNode);y&&this.removeRow(y,!0)}for(x=0;x<z.length;x++)(y=z[x])&&y.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var z=this._listeners.length;z--;)this._listeners[z].remove();
delete this._listeners}this._started=!1;this.cleanup();r(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(z,x,y,A,B){if(x){var D=this.insertRow(z,x,y,A,B);r(D,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){r(D,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return D}},adjustRowIndices:function(z){var x=
z.rowIndex;if(-1<x){do-1<z.rowIndex&&(this.maintainOddEven&&-1<(z.className+" ").indexOf("dgrid-row ")&&r(z,"."+(1==x%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==x%2?"dgrid-row-odd":"dgrid-row-even")),z.rowIndex=x++);while((z=z.nextSibling)&&z.rowIndex!=x)}},renderArray:function(z,x,y){function A(){var O=arguments;if(-1<J)for(var Q=0;Q<O.length;Q++){var V=O[Q],X=S[V?0:S.length-1];if(X=X&&B(X)){var Z=X[V?"previousSibling":"nextSibling"];Z&&(Z=E.row(Z));Z&&Z.element!=X&&(V=V?"unshift":"push",z[V](Z.data),
S[V](Z.element),y.count++)}}}function B(O){return!a.isDescendant(O,E.domNode)&&e(O.id)?E.row(O.id.slice(E.id.length+5)).element:O}function D(O){P=E.insertRow(O,K,null,H++,y);P.observerIndex=J;return P}function C(O){T=O.slice(0);(F=x?x.parentNode:E.contentNode)&&F.parentNode&&(F!==E.contentNode||O.length)?(F.insertBefore(K,x||null),(P=O[O.length-1])&&E.adjustRowIndices(P)):G[J]&&E.cleanEmptyObservers&&E._onEmptyRender(J);S=O;I&&(I.rows=S)}y=y||{};var E=this,H=y.start||0,G=this.observers,F;x||(this._lastCollection=
z);if(z.observe&&this.shouldObserveStore){E._numObservers++;var I=z.observe(function(O,Q,V){var X;if(-1<Q&&S[Q]){var Z=S.splice(Q,1)[0];Z.parentNode==F&&((X=Z.nextSibling)&&Q!=V&&X.rowIndex--,E.removeRow(Z));y.count--;E._processScroll&&E._processScroll()}if(-1<V){if(S.length)if(0===V)var ca=(ca=S[V])&&B(ca);else{if(ca=S[V-1])ca=B(ca),ca=(ca.connected||ca).nextSibling}else ca=E._getFirstRowSibling&&E._getFirstRowSibling(F);Z&&ca&&Z.id===ca.id&&(ca=(ca.connected||ca).nextSibling);ca&&!ca.parentNode&&
(ca=e(ca.id));Z=x&&x.parentNode||ca&&ca.parentNode||E.contentNode;if(Z=E.newRow(O,Z,ca,y.start+V,y))if(Z.observerIndex=J,S.splice(V,0,Z),!X||V<Q)X=(X=Z.previousSibling)&&X.rowIndex+1!=Z.rowIndex&&0!=Z.rowIndex?X:Z;y.count++}0===Q?A(1,1):Q===z.length-(-1===V?0:1)&&A(0,0);Q!=V&&X&&E.adjustRowIndices(X);E._onNotification(S,O,Q,V)},!0);var J=G.push(I)-1}var K=document.createDocumentFragment(),P,T;if(z.map){var S=z.map(D,console.error);if(S.then)return z.then(function(O){z=O;return S.then(function(Q){C(Q);
A(1,1,0,0);return T})})}else{S=[];for(var L=0,N=z.length;L<N;L++)S[L]=D(z[L])}C(S);A(1,1,0,0);return T},_onEmptyRender:function(z){"undefined"!==typeof z&&(this.observers[z].cancel(),this.observers[z]=0,this._numObservers--)},_onNotification:function(z,x,y,A){},renderHeader:function(){},_autoId:0,insertRow:function(z,x,y,A,B){var D=B.parentId;D=this.id+"-row-"+(D?D+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(z):this._autoId++);var C=e(D,this.domNode),E=C&&C.previousSibling;
C&&(C===y&&(y=(y.connected||y).nextSibling),this.removeRow(C));C=this.renderRow(z,B);C.className=(C.className||"")+" dgrid-row "+(1==A%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[C.id=D]=z;x.insertBefore(C,y||null);E&&this.adjustRowIndices(E);C.rowIndex=A;return C},renderRow:function(z,x){return r("div",""+z)},removeRow:function(z,x){z=z.element||z;delete this._rowIdToObject[z.id];x||r(z,"!")},row:function(z){var x;if(z instanceof this._Row)return z;
z.target&&z.target.nodeType&&(z=z.target);if(z.nodeType){do{var y=z.id;if(x=this._rowIdToObject[y])return new this._Row(y.substring(this.id.length+5),x,z);z=z.parentNode}while(z&&z!=this.domNode)}else return"object"==typeof z?x=this.store.getIdentity(z):(x=z,z=this._rowIdToObject[this.id+"-row-"+x]),new this._Row(x,z,e(this.id+"-row-"+x,this.domNode))},cell:function(z){return{row:this.row(z)}},_move:function(z,x,y,A){var B;var D=B=z.element;x=x||1;do if(z=B[0>x?"previousSibling":"nextSibling"]){do if((B=
z)&&-1<(B.className+" ").indexOf(y+" ")){D=B;x+=0>x?1:-1;break}while(z=(!A||!B.hidden)&&B[0>x?"lastChild":"firstChild"])}else if(B=B.parentNode,!B||B===this.bodyNode||B===this.headerNode)break;while(x);return D},up:function(z,x,y){z.element||(z=this.row(z));return this.row(this._move(z,-(x||1),"dgrid-row",y))},down:function(z,x,y){z.element||(z=this.row(z));return this.row(this._move(z,x||1,"dgrid-row",y))},scrollTo:f("touch")?function(z){return this.useTouchScroll?this.inherited(arguments):q.call(this,
z)}:q,getScrollPosition:f("touch")?function(){return this.useTouchScroll?this.inherited(arguments):n.call(this)}:n,get:function(z){var x="_get"+z.charAt(0).toUpperCase()+z.slice(1);return"function"===typeof this[x]?this[x].apply(this,[].slice.call(arguments,1)):this[z]},set:function(z,x){if("object"===typeof z)for(var y in z)this.set(y,z[y]);else y="_set"+z.charAt(0).toUpperCase()+z.slice(1),"function"===typeof this[y]?this[y].apply(this,[].slice.call(arguments,1)):this[z]=x;return this},_getClass:p,
_setClass:g,_getClassName:p,_setClassName:g,_setSort:function(z,x){this._sort="string"!=typeof z?z:[{attribute:z,descending:x}];this.refresh();this._lastCollection&&(z.length&&("string"!=typeof z&&(x=z[0].descending,z=z[0].attribute),this._lastCollection.sort(function(y,A){y=y[z];A=A[z];void 0===y&&(y="");void 0===A&&(A="");return y==A?0:y>A==!x?1:-1})),this.renderArray(this._lastCollection))},sort:function(z,x){U.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",
z,x)},_getSort:function(){return this._sort},_setShowHeader:function(z){var x=this.headerNode;this.showHeader=z;r(x,(z?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();z&&(x.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(z){U.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",z)},_setShowFooter:function(z){this.showFooter=z;r(this.footerNode,(z?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has"],
function(U){U.add("dom-contains",function(r,e,v){return!!v.contains});var M=[],a,b,k,f=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,m=setTimeout,h=clearTimeout;U.add("requestidlecallback",function(r){return"function"===typeof r.requestIdleCallback});var u={defaultDelay:15,throttle:function(r,e,v){var g=!1;v=v||u.defaultDelay;return function(){g||(g=!0,r.apply(e,arguments),m(function(){g=!1},v))}},throttleDelayed:function(r,e,v){var g=!1;v=v||u.defaultDelay;return function(){if(!g){g=!0;var p=arguments;m(function(){g=
!1;r.apply(e,p)},v)}}},debounce:function(r,e,v){var g;v=v||u.defaultDelay;return function(){g&&(h(g),g=null);var p=arguments;g=m(function(){g=null;r.apply(e,p)},v)}},each:function(r,e,v){var g;if(r)if("number"===typeof r.length){var p=0;for(g=r.length;p<g;p++)e.call(v,r[p],p,r)}else for(p in r)e.call(v,r[p],p,r)},contains:function(r,e){return U("dom-contains")?r.contains(e):r.compareDocumentPosition(e)&8},addCssRule:function(r,e){a||(a=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(a),
a=a.sheet||a.styleSheet,b=a.deleteRule?"deleteRule":"removeRule",k=a.cssRules?"cssRules":"rules");var v=M.length;M[v]=(a.cssRules||a.rules).length;a.addRule?a.addRule(r,e):a.insertRule(r+"{"+e+"}",M[v]);return{get:function(g){return a[k][M[v]].style[g]},set:function(g,p){"undefined"!==typeof M[v]&&(a[k][M[v]].style[g]=p)},remove:function(){var g=M[v],p;if(void 0!==g){a[b](g);M[v]=void 0;var n=v+1;for(p=M.length;n<p;n++)M[n]>g&&M[n]--}}}},escapeCssIdentifier:function(r,e){return"string"===typeof r?
r.replace(f,e||"\\$1"):r}};return u})},"xstyle/has-class":function(){define(["dojo/has"],function(U){var M={};return function(){for(var a,b=arguments,k=0;k<b.length;k++)if(a=b[k],!M[a]){M[a]=!0;var f=a.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),m=U(f[2]),h=-f[4];(0<h?h<=m&&(-f[5]||h)>=m:!!m)==!f[1]&&(document.documentElement.className+=" has-"+a)}}})},"dgrid/extensions/Pagination":function(){define("../_StoreMixin dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/on dojo/query dojo/string dojo/has put-selector/put ../util/misc dojo/i18n!./nls/pagination dojo/_base/sniff xstyle/css!../css/extensions/Pagination.css".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){function g(n){n.noDataNode?(r(n.noDataNode,"!"),delete n.noDataNode):n.cleanup();n.contentNode.innerHTML=""}function p(n){if(n.loadingNode)r(n.loadingNode,"!"),delete n.loadingNode;else if(n._oldPageNodes){for(var q in n._oldPageNodes)n.removeRow(n._oldPageNodes[q]);delete n._oldPageNodes;n._oldPageObserver&&(n._oldPageObserver.cancel(),n._numObservers--,delete n._oldPageObserver)}delete n._isLoading}return M("dgrid.extensions.Pagination",U,{rowsPerPage:10,pagingTextBox:!1,
previousNextArrows:!0,firstLastArrows:!1,pagingLinks:2,pageSizeOptions:null,showLoadingMessage:!0,i18nPagination:v,showFooter:!0,_currentPage:1,_total:0,buildRendering:function(){this.inherited(arguments);var n=this,q=this.paginationNode=r(this.footerNode,"div.dgrid-pagination"),l=this.paginationStatusNode=r(q,"div.dgrid-status"),c=this.i18nPagination;l.tabIndex=0;this._updatePaginationSizeSelect();this._updateRowsPerPageOption();l.innerHTML=h.substitute(c.status,{start:1,end:1,total:0});q=this.paginationNavigationNode=
r(q,"div.dgrid-navigation");this.firstLastArrows&&(l=this.paginationFirstNode=r(q,"span.dgrid-first.dgrid-page-link","\u00ab"),l.setAttribute("aria-label",c.gotoFirst),l.tabIndex=0);this.previousNextArrows&&(l=this.paginationPreviousNode=r(q,"span.dgrid-previous.dgrid-page-link","\u2039"),l.setAttribute("aria-label",c.gotoPrev),l.tabIndex=0);this.paginationLinksNode=r(q,"span.dgrid-pagination-links");this.previousNextArrows&&(l=this.paginationNextNode=r(q,"span.dgrid-next.dgrid-page-link","\u203a"),
l.setAttribute("aria-label",c.gotoNext),l.tabIndex=0);this.firstLastArrows&&(l=this.paginationLastNode=r(q,"span.dgrid-last.dgrid-page-link","\u00bb"),l.setAttribute("aria-label",c.gotoLast),l.tabIndex=0);this._listeners.push(f(q,".dgrid-page-link:click,.dgrid-page-link:keydown",function(d){if("keydown"!==d.type||13===d.keyCode)if(d=this.className,!(n._isLoading||-1<d.indexOf("dgrid-page-disabled"))){var w=n._currentPage;var t=Math.ceil(n._total/n.rowsPerPage);this===n.paginationPreviousNode?n.gotoPage(w-
1):this===n.paginationNextNode?n.gotoPage(w+1):this===n.paginationFirstNode?n.gotoPage(1):this===n.paginationLastNode?n.gotoPage(t):"dgrid-page-link"===d&&n.gotoPage(+this.innerHTML)}}))},destroy:function(){this.inherited(arguments);this._pagingTextBoxHandle&&this._pagingTextBoxHandle.remove()},_updatePaginationSizeSelect:function(){var n=this.pageSizeOptions,q=this.paginationSizeSelect;if(n&&n.length){if(!q){q=this.paginationSizeSelect=r(this.paginationNode,"select.dgrid-page-size[aria-label\x3d"+
this.i18nPagination.rowsPerPage+"]");var l=this._paginationSizeChangeHandle=f(q,"change",b.hitch(this,function(){this.set("rowsPerPage",+this.paginationSizeSelect.value)}));this._listeners.push(l)}for(l=q.options.length=0;l<n.length;l++)r(q,"option",n[l],{value:n[l],selected:this.rowsPerPage===n[l]});this._updateRowsPerPageOption()}else n&&n.length||!q||(r(q,"!"),this.paginationSizeSelect=null,this._paginationSizeChangeHandle.remove())},_setPageSizeOptions:function(n){this.pageSizeOptions=n&&n.sort(function(q,
l){return q-l});this._updatePaginationSizeSelect()},_updateRowsPerPageOption:function(){var n=this.rowsPerPage,q=this.pageSizeOptions,l=this.paginationSizeSelect;l&&(0>a.indexOf(q,n)?this._setPageSizeOptions(q.concat([n])):l.value=""+n)},_setRowsPerPage:function(n){this.rowsPerPage=n;this._updateRowsPerPageOption();this.gotoPage(1)},_updateNavigation:function(){function n(C,E){if(l.pagingTextBox&&C==w&&1<x)E=r(d,"input.dgrid-page-input[type\x3dtext][value\x3d$]",w),E.setAttribute("aria-label",c.jumpPage),
l._pagingTextBoxHandle=f(E,"change",function(){var G=+this.value;!isNaN(G)&&0<G&&G<=x&&l.gotoPage(+this.value)}),A&&"INPUT"===A.tagName&&E.focus();else{var H=C===w;E=r(d,"span"+(H?".dgrid-page-disabled":"")+".dgrid-page-link",C+(E?" ":""));E.setAttribute("aria-label",c.gotoPage);E.tabIndex=H?-1:0;B===C&&(H?C<x?B++:D.focus():E.focus());H||(D=E)}}function q(C,E){r(C,(E?".":"!")+"dgrid-page-disabled");C.tabIndex=E?-1:0}var l=this,c=this.i18nPagination,d=this.paginationLinksNode,w=this._currentPage,t=
this.pagingLinks,z=this.paginationNavigationNode,x=Math.ceil(this._total/this.rowsPerPage),y=this._pagingTextBoxHandle,A=document.activeElement,B,D;A&&e.contains(this.paginationNavigationNode,A)?"dgrid-page-link"===A.className&&(B=+A.innerHTML):A=null;y&&y.remove();d.innerHTML="";m(".dgrid-first, .dgrid-previous",z).forEach(function(C){q(C,1===w)});m(".dgrid-last, .dgrid-next",z).forEach(function(C){q(C,w>=x)});if(t&&0<x){n(1,!0);z=w-t;for(2<z?r(d,"span.dgrid-page-skip","..."):z=2;z<Math.min(w+t+
1,x);z++)n(z,!0);w+t+1<x&&r(d,"span.dgrid-page-skip","...");1<x&&n(x)}else l.pagingTextBox&&n(w);A&&-1===A.tabIndex&&(t=m("[tabindex\x3d'0']",this.paginationNavigationNode),A===this.paginationPreviousNode||A===this.paginationFirstNode?A=t[0]:t.length&&(A=t[t.length-1]),A&&A.focus())},refresh:function(){var n=this;this.inherited(arguments);if(this.store)return this.gotoPage(1).then(function(q){setTimeout(function(){f.emit(n.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:n,results:q})},
0);return q})},_onNotification:function(n){n.length!==this._rowsOnPage&&this.gotoPage(this._currentPage)},renderArray:function(n,q){var l=this,c=this.inherited(arguments);this._lastCollection=null;q||(this._topLevelRequest&&this._topLevelRequest!==n&&(this._topLevelRequest.cancel(),delete this._topLevelRequest),"function"===typeof n.cancel&&(this._topLevelRequest=n),k.when(n,function(){l._topLevelRequest&&delete l._topLevelRequest}));return c},insertRow:function(){var n=this._oldPageNodes,q=this.inherited(arguments);
n&&q===n[q.id]&&delete n[q.id];return q},gotoPage:function(n){var q=this,l=new k;this._trackError(function(){var c=q.rowsPerPage,d=(n-1)*c,w=b.mixin(q.get("queryOptions"),{start:d,count:c}),t=q.contentNode,z;if(q.showLoadingMessage){g(q);var x=q.loadingNode=r(t,"div.dgrid-loading");x.innerHTML=q.loadingMessage}else{q._oldPageNodes=x={};t=t.children;var y=0;for(z=t.length;y<z;y++)x[t[y].id]=t[y];q._oldPageObserver=q.observers.pop()}q._isLoading=!0;var A=q.store.query(q.query,w);k.when(q.renderArray(A,
null,w),function(B){p(q);q.scrollTo({y:0});k.when(A.total,function(D){D||(q.noDataNode&&(r(q.noDataNode,"!"),delete q.noDataNode),q.noDataNode=r(q.contentNode,"div.dgrid-no-data"),q.noDataNode.innerHTML=q.noDataMessage);q.paginationStatusNode.innerHTML=h.substitute(q.i18nPagination.status,{start:Math.min(d+1,D),end:Math.min(D,d+c),total:D});q._total=D;q._currentPage=n;q._rowsOnPage=B.length;q._updateNavigation()});(7>u("ie")||u("ie")&&u("quirks"))&&q.resize();l.resolve(A)},function(B){p(q);l.reject(B)});
return l.promise})||l.reject();return l.promise}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(U,M,a,b,k,f,m){function h(r){return r}function u(r){if("object"!==typeof r)r=Error(r);else if("cancel"===r.dojoType)return;r.grid=this;k.emit(this.domNode,"dgrid-error",{grid:this,error:r,cancelable:!0,bubbles:!0})}return M("dgrid._StoreMixin",null,{store:null,query:null,queryOptions:null,
getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};f.before(this,"configStructure",a.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(r){r.set&&(this._columnsWithSet[r.field]=
r);this.inherited(arguments)},_updateNotifyHandle:function(r){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);r&&"function"===typeof r.notify&&this.shouldObserveStore&&(this._notifyHandle=f.after(r,"notify",a.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(r,e,v){this._updateNotifyHandle(r);this.store=r;this.dirty={};this.set("query",e,v)},_setQuery:function(r,e){var v=e&&e.sort;this.query=void 0!==r?r:this.query;this.queryOptions=e||this.queryOptions;
this._started&&(v?this.set("sort",v):this.refresh())},setStore:function(r,e,v){U.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",r,e,v)},setQuery:function(r,e){U.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",r,e)},_getQueryOptions:function(){var r=a.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)r.sort=this._sort;return r},_getQuery:function(){var r=this.query;return"object"==typeof r&&
null!=r?a.delegate(r,{}):r},_setSort:function(r,e){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(r,e){this.inherited(arguments);r&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var r=this.inherited(arguments);this.store||(this.noDataNode=m(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return r},renderArray:function(){var r=this,e=this.inherited(arguments);this.store||b.when(e,function(v){v.length&&
r.noDataNode&&m(r.noDataNode,"!")});return e},_onEmptyRender:function(){},insertRow:function(r,e,v,g,p){var n=this.store,q=this.dirty;n=n&&n.getIdentity(r);var l;n in q&&!(n in this._updating)&&(l=q[n]);l&&(r=a.delegate(r,l));return this.inherited(arguments)},updateDirty:function(r,e,v){var g=this.dirty,p=g[r];p||(p=g[r]={});p[e]=v},setDirty:function(r,e,v){U.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(r,e,v)},save:function(){function r(d,w){return function(t){var z=
e._columnsWithSet,x=e._updating,y;if("function"===typeof t.set)t.set(w);else for(y in w)t[y]=w[y];for(y in z){var A=z[y].set(t);void 0!==A&&(t[y]=A)}x[d]=!0;return b.when(v.put(t),function(){delete g[d];delete x[d]})}}var e=this,v=this.store,g=this.dirty,p=new b,n=p.promise,q=function(d){var w;return e.getBeforePut||!(w=e.row(d).data)?function(){return v.get(d)}:function(){return w}},l;for(l in g){var c=r(l,g[l]);n=n.then(q(l)).then(c)}p.resolve();return n},revert:function(){this.dirty={};this.refresh()},
_trackError:function(r){"string"==typeof r&&(r=a.hitch(this,r));try{var e=r()}catch(v){u.call(this,v)}return b.when(e,h,a.hitch(this,u))},newRow:function(){var r=this.inherited(arguments);this.noDataNode&&(m(this.noDataNode,"!"),delete this.noDataNode);return r},removeRow:function(r,e){var v={element:r};!e&&this.noDataMessage&&this.up(v).element===r&&this.down(v).element===r&&(this.noDataNode=m(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},
"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(U,M,a){return U("dgrid.extensions.DijitRegistry",null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){a.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var b=a.getEnclosingWidget(this.domNode.parentNode);b&&b.isLayoutContainer&&this._resizeHandle.remove()}},
destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);a.remove(this.id)},getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},resize:function(b){b&&M.setMarginBox(this.domNode,b);this.inherited(arguments)},_set:function(b,k){this[b]=k},watch:function(){},getParent:function(){return a.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(U,M,a){return U("dgrid.OnDemandGrid",
[M,a],{})})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(U,M,a,b,k,f,m,h,u){return a("dgrid.OnDemandList",[U,M],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:h.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var r=
this;m(this.bodyNode,"scroll",h[this.pagingMethod](function(e){r._processScroll(e)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},renderQuery:function(r,e){function v(t){u(w,"!");if(t)throw g._refreshDeferred&&(g._refreshDeferred.reject(t),delete g._refreshDeferred),t;}var g=this,p=e&&e.container||this.contentNode,n={query:r,count:0,options:e},q,l=this.preload,c,d={node:u(p,"div.dgrid-preload",{rowIndex:0}),count:0,
query:r,next:n,options:e};d.node.style.height="0";n.node=q=u(p,"div.dgrid-preload");n.previous=d;q.rowIndex=this.minRowsPerPage;l?((n.next=l.next)&&q.offsetTop>=l.node.offsetTop?n.previous=l:(n.next=l,n.previous=l.previous),n.previous.next=n,n.next.previous=n):this.preload=n;var w=u(q,"-div.dgrid-loading");u(w,"div.dgrid-below").innerHTML=this.loadingMessage;e=b.mixin(this.get("queryOptions"),e,{start:0,count:this.minRowsPerPage},"level"in r?{queryLevel:r.level}:null);this._trackError(function(){return c=
r(e)});if("undefined"===typeof c)v();else return k.when(g.renderArray(c,q,e),function(t){return k.when("undefined"===typeof c.total?c.length:c.total,function(z){var x=t.length,y=q.parentNode,A=g.noDataNode;u(w,"!");"queryLevel"in e||(g._total=z);0===z&&y&&(A&&(u(A,"!"),delete g.noDataNode),g.noDataNode=A=u("div.dgrid-no-data"),y.insertBefore(A,g._getFirstRowSibling(y)),A.innerHTML=g.noDataMessage);for(var B=A=0;B<x;B++)A+=g._calcRowHeight(t[B]);x&&A&&(g.rowHeight=A/x);A=g.rowHeight*g.bufferRows;A>
g.farOffRemoval&&(g.farOffRemoval=A);z-=x;n.count=z;q.rowIndex=x;z?q.style.height=Math.min(z*g.rowHeight,g.maxEmptySpace)+"px":(q.style.display="none",e.count++);g._previousScrollPosition&&y&&y.offsetHeight&&(g.scrollTo(g._previousScrollPosition),delete g._previousScrollPosition);g._processScroll();g._refreshDeferred&&(g._refreshDeferred.resolve(c),delete g._refreshDeferred);return t},v)},v),c},refresh:function(r){var e=this,v=r&&r.keepScrollPosition;"undefined"===typeof v&&(v=this.keepScrollPosition);
v&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store){v=this._refreshDeferred=new k;var g=e.renderQuery(function(p){return e.store.query(e.query,p)});"undefined"===typeof g&&v.reject();return v.then(function(p){e._refreshTimeout=setTimeout(function(){m.emit(e.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:e,results:p});e._refreshTimeout=null},0);delete e._refreshDeferred;return p},function(p){delete e._refreshDeferred;throw p;})}},resize:function(){this.inherited(arguments);
this._processScroll()},_getFirstRowSibling:function(r){return r.lastChild},_calcRowHeight:function(r){var e=r.nextSibling;return e&&!/\bdgrid-preload\b/.test(e.className)?e.offsetTop-r.offsetTop:r.offsetHeight},lastScrollTop:0,_processScroll:function(r){function e(K,P,T,S){var L=p.farOffRemoval,N=K.node;if(P>2*L){for(var O,Q=N[T],V=0,X=0,Z=[];O=Q;){var ca=p._calcRowHeight(O);if(V+ca+L>P||0>Q.className.indexOf("dgrid-row")&&0>Q.className.indexOf("dgrid-loading"))break;Q=O[T];V+=ca;X+=O.count||1;p.removeRow(O,
!0);Z.push(O)}K.count+=X;S?(N.rowIndex-=X,v(K)):N.style.height=N.offsetHeight+V+"px";var R=u("div",Z);setTimeout(function(){u(R,"!")},1)}}function v(K,P){K.node.style.height=Math.min(K.count*p.rowHeight,P?Infinity:p.maxEmptySpace)+"px"}function g(K,P){do K=P?K.next:K.previous;while(K&&!K.node.offsetWidth);return K}var p=this,n=p.bodyNode;r=r&&r.scrollTop||this.getScrollPosition().y;n=n.offsetHeight+r;var q=p.preload,l=p.lastScrollTop,c=p.bufferRows*p.rowHeight,d=c-p.rowHeight,w,t,z,x=!0;for(p.lastScrollTop=
r;q&&!q.node.offsetWidth;)q=q.previous;for(;q&&q!=y;){var y=p.preload;p.preload=q;var A=q.node;var B=A.offsetTop;if(n+1+d<B)q=g(q,x=!1);else if(r-1-d>B+A.offsetHeight)q=g(q,x=!0);else{var D=((A.rowIndex?r-c:n)-B)/p.rowHeight;B=(n-r+2*c)/p.rowHeight;B+=Math.min(Math.abs(Math.max(Math.min((r-l)*p.rowHeight,p.maxRowsPerPage/2),p.maxRowsPerPage/-2)),10);0==A.rowIndex&&(D-=B);D=Math.max(D,0);10>D&&0<D&&B+D<p.maxRowsPerPage&&(B+=Math.max(0,D),D=0);B=Math.min(Math.max(B,p.minRowsPerPage),p.maxRowsPerPage,
q.count);if(0==B)q=g(q,x);else{B=Math.ceil(B);D=Math.min(Math.floor(D),q.count-B);var C=b.mixin(p.get("queryOptions"),q.options);q.count-=B;var E=A,H=p.queryRowsOverlap,G=(0<A.rowIndex||A.offsetTop>r)&&q;if(G){var F=q.previous;F&&(e(F,r-(F.node.offsetTop+F.node.offsetHeight),"nextSibling"),0<D&&F.node==A.previousSibling?(D=Math.min(q.count,D),q.previous.count+=D,v(q.previous,!0),A.rowIndex+=D,H=0):B+=D,q.count-=D);C.start=A.rowIndex-H;C.count=Math.min(B+H,p.maxRowsPerPage);A.rowIndex=C.start+C.count}else{if(q.next)if(e(q.next,
q.next.node.offsetTop-n,"previousSibling",!0),E=A.nextSibling,E==q.next.node)q.next.count+=q.count-D,q.next.node.rowIndex=D+B,v(q.next),q.count=D,H=0;else var I=!0;C.start=q.count;C.count=Math.min(B+H,p.maxRowsPerPage)}I&&E&&E.offsetWidth&&(I=E.offsetTop);v(q);"level"in q.query&&(C.queryLevel=q.query.level);if("queryLevel"in C||!(C.start>p._total||0>C.count)){A=u(E,"-div.dgrid-loading[style\x3dheight:"+B*p.rowHeight+"px]");u(A,"div.dgrid-"+(G?"below":"above")).innerHTML=p.loadingMessage;A.count=B;
var J=q.query(C);if(void 0===p._trackError(function(){return J})){u(A,"!");return}(function(K,P,T,S){z=k.when(p.renderArray(S,K,C),function(L){t=S;E=K.nextSibling;u(K,"!");if(T&&E&&E.offsetWidth){var N=p.getScrollPosition();p.scrollTo({x:N.x,y:N.y+E.offsetTop-T,preserveMomentum:!0})}k.when(S.total||S.length,function(O){"queryLevel"in C||(p._total=O);P&&(P.count=O-P.node.rowIndex,0===P.count&&C.count++,v(P))});p._processScroll();return L},function(L){u(K,"!");throw L;})}).call(this,A,G,I,J);q=q.previous}}}}z&&
(w=this._refreshDeferred)&&(delete this._refreshDeferred,k.when(z,function(){w.resolve(t)}))},removeRow:function(r,e){if(r){var v=r.previousSibling,g=r.nextSibling,p;if(p=v)p=v.observerIndex,p=null!=p?p:v.previousObserverIndex;v=p;if(p=g)p=g.observerIndex,p=null!=p?p:g.nextObserverIndex;g=r.observerIndex;r.observerIndex=void 0;e&&(r.nextObserverIndex=p,r.previousObserverIndex=v);if(this.cleanEmptyObservers&&-1<g&&g!==v&&g!==p&&(v=this.observers,p=v[g])){if(!e)for(var n=p.rows,q=0;q<n.length;q++)if(n[q]!=
r&&f.isDescendant(n[q],this.domNode))return this.inherited(arguments);p.cancel();this._numObservers--;v[g]=0}}this.inherited(arguments)}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has ../util/misc put-selector/put dojo/_base/html xstyle/css!../css/extensions/ColumnResizer.css".split(" "),function(U,M,a,b,k,f,m,h,u){function r(n){for(var q=n.length,l=q,c=n[0].length,d=Array(q);q--;)d[q]=Array(c);var w=
{};for(q=0;q<l;q++)for(var t=d[q],z=n[q],x=0,y=0;x<c;x++){var A=z[y];if("undefined"==typeof t[x]){t[x]=A.id;if(A.rowSpan&&1<A.rowSpan){var B=d;for(var D=A.rowSpan,C=q,E=x,H=A.id,G=1;G<D;G++)B[C+G][E]=H}if(0<q&&A.colSpan&&1<A.colSpan)for(B=1;B<A.colSpan;B++)if(t[++x]=A.id,A.rowSpan&&1<A.rowSpan){D=d;C=A.rowSpan;E=q;H=x;G=A.id;for(var F=1;F<C;F++)D[E+F][H]=G}w[A.id]=n[0][x].id;y++}}return w}function e(n,q,l,c,d){if(!(0>=l)){var w=n.columns[q];if(w){var t={grid:n,columnId:q,width:l,bubbles:!0,cancelable:!0};
c&&(t.parentType=c);if(!n._resizedColumns||M.emit(n.headerNode,"dgrid-columnresize",t))return"auto"===l?delete w.width:(w.width=l,l+="px"),(c=n._columnSizes[q])?c.set("width",l):c=h.addCssRule("#"+h.escapeCssIdentifier(n.domNode.id)+" .dgrid-column-"+h.escapeCssIdentifier(q,"-"),"width: "+l+";"),n._columnSizes[q]=c,!1!==d&&n.resize(),!0}}}var v,g=0,p={create:function(){v=u("div.dgrid-column-resizer")},destroy:function(){u(v,"!");v=null},show:function(n){n=f.position(n.domNode,!0);v.style.top=n.y+
"px";v.style.height=n.h+"px";u(document.body,v)},move:function(n){v.style.left=n+"px"},hide:function(){v.parentNode.removeChild(v)}};return U("dgrid.extensions.ColumnResizer",null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);g++||p.create()},destroy:function(){this.inherited(arguments);for(var n in this._columnSizes)this._columnSizes[n].remove();--g||p.destroy()},resizeColumnWidth:function(n,q){return e(this,n,q)},configStructure:function(){var n=
this._oldColumnSizes=b.mixin({},this._columnSizes),q;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(q in n)q in this._columnSizes||n[q].remove();delete this._oldColumnSizes},_configColumn:function(n){this.inherited(arguments);var q=n.id,l;"width"in n&&((l=this._oldColumnSizes[q])?l.set("width",n.width+"px"):l=h.addCssRule("#"+h.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+h.escapeCssIdentifier(q,"-"),"width: "+n.width+"px;"),this._columnSizes[q]=l)},renderHeader:function(){this.inherited(arguments);
var n=this;if(this.columnSets&&this.columnSets.length)for(var q=this.columnSets.length;q--;)var l=b.mixin(l||{},r(this.columnSets[q]));else this.subRows&&1<this.subRows.length&&(l=r(this.subRows));q=a(".dgrid-cell",n.headerNode);for(var c=q.length;c--;){var d=q[c],w=d.columnId,t=n.columns[w],z=d.childNodes;if(t&&!1!==t.resizable){t=u("div.dgrid-resize-header-container");for(d.contents=t;0<z.length;)u(t,z[0]);u(d,t,"div.dgrid-resize-handle.resizeNode-"+h.escapeCssIdentifier(w,"-")).columnId=l&&l[w]||
w}}n.mouseMoveListen||(M(n.headerNode,".dgrid-resize-handle:mousedown"+(m("touch")?",.dgrid-resize-handle:touchstart":""),function(x){n._resizeMouseDown(x,this);n.mouseMoveListen.resume();n.mouseUpListen.resume()}),n._listeners.push(n.mouseMoveListen=M.pausable(document,"mousemove"+(m("touch")?",touchmove":""),h.throttleDelayed(function(x){n._updateResizerPosition(x)}))),n._listeners.push(n.mouseUpListen=M.pausable(document,"mouseup"+(m("touch")?",touchend":""),function(x){n._resizeMouseUp(x);n.mouseMoveListen.pause();
n.mouseUpListen.pause()})),n.mouseMoveListen.pause(),n.mouseUpListen.pause())},_resizeMouseDown:function(n,q){n.preventDefault();k.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(n);this._targetCell=a(".dgrid-column-"+h.escapeCssIdentifier(q.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(n);p.show(this)},_resizeMouseUp:function(n){var q=this._columnSizes,l;this.adjustLastColumn&&(l=this.headerNode.clientWidth-1);if(!this._resizedColumns){var c=a(".dgrid-cell",
this.headerNode);this.columnSets&&this.columnSets.length?c=c.filter(function(A){return"0"==A.columnId.split("-")[0]&&!(A.columnId in q)}):this.subRows&&1<this.subRows.length&&(c=c.filter(function(A){return"0"==A.columnId.charAt(0)&&!(A.columnId in q)}));var d=c.map(function(A){return A.offsetWidth});c.forEach(function(A,B){e(this,A.columnId,d[B],null,!1)},this);this._resizedColumns=!0}k.setSelectable(this.domNode,!0);c=this._targetCell;var w=this._getResizeMouseLocation(n)-this._startX,t=c.offsetWidth+
w,z=this._getResizedColumnWidths(),x=z.totalWidth;z=z.lastColId;var y=a(".dgrid-column-"+h.escapeCssIdentifier(z,"-"),this.headerNode)[0].offsetWidth;t<this.minWidth&&(t=this.minWidth);e(this,c.columnId,t,n.type)&&c.columnId!=z&&this.adjustLastColumn&&(x+w<l?e(this,z,"auto",n.type):y-w<=this.minWidth&&e(this,z,this.minWidth,n.type));p.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(n){if(this._targetCell){n=this._getResizeMouseLocation(n);var q=this._targetCell.offsetWidth,
l=n;q+(n-this._startX)<this.minWidth&&(l=this._startX-(q-this.minWidth));p.move(l)}},_getResizeMouseLocation:function(n){var q=0;n.pageX?q=n.pageX:n.clientX&&(q=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return q},_getResizedColumnWidths:function(){var n=0,q=a((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),l=q.length;if(!l)return{};for(var c=q[l-1].columnId;l--;)n+=q[l].offsetWidth;return{totalWidth:n,lastColId:c}}})})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(U,M,a,b,k,f,m,h){function u(A){A.preventDefault()}var r={checkbox:1,radio:1,button:1},e=/\bdgrid-cell\b/,v=/\bdgrid-row\b/,g=U("dgrid.Keyboard",null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=b.mixin({},g.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=b.mixin({},g.defaultHeaderKeyMap))},postCreate:function(){function A(C){var E=C.target;return E.type&&(!r[E.type]||32==C.keyCode)}function B(C){function E(){D._focusedHeaderNode&&
(D._focusedHeaderNode.tabIndex=-1);if(D.showHeader){if(H)for(var J=0,K,P=D.headerNode.getElementsByTagName("th");K=P[J];++J){if(G.test(K.className)){D._focusedHeaderNode=I=K;break}}else D._focusedHeaderNode=I=D.headerNode;I&&(I.tabIndex=D.tabIndex)}}var H=D.cellNavigation,G=H?e:v,F=C===D.headerNode,I=C;F?(E(),M.after(D,"renderHeader",E,!0)):M.after(D,"renderArray",function(J){return h.when(J,function(K){var P=D._focusedNode||I;if(G.test(P.className)&&m.contains(C,P))return K;for(var T=0,S=C.getElementsByTagName("*"),
L;L=S[T];++T)if(G.test(L.className)){P=D._focusedNode=L;break}P.tabIndex=D.tabIndex;return K})});D._listeners.push(a(C,"mousedown",function(J){A(J)||D._focusOnNode(J.target,F,J)}));D._listeners.push(a(C,"keydown",function(J){if(!J.metaKey&&!J.altKey){var K=D[F?"headerKeyMap":"keyMap"][J.keyCode];K&&!A(J)&&K.call(D,J)}}))}this.inherited(arguments);var D=this;this.tabableHeader&&(B(this.headerNode),this._listeners.push(a(this.headerNode,"dgrid-cellfocusin",function(){D.scrollTo({x:this.scrollLeft})})));
B(this.contentNode);this._debouncedEnsureScroll=m.debounce(this._ensureScroll,this)},removeRow:function(A){if(!this._focusedNode)return this.inherited(arguments);var B=this,D=document.activeElement===this._focusedNode,C=this[this.cellNavigation?"cell":"row"](this._focusedNode),E=C.row||C,H;A=A.element||A;A===E.element&&((H=this.down(E,!0))&&H.element!==A||(H=this.up(E,!0)),this._removedFocus={active:D,rowId:E.id,columnId:C.column&&C.column.id,siblingId:H&&H.element!==A?H.id:void 0},setTimeout(function(){B._removedFocus&&
B._restoreFocus(E.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(A){var B=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(B);return B},_restoreFocus:function(A){var B=this._removedFocus,D;if((A=(A=A&&this.row(A))&&A.element&&A.id===B.rowId?A:"undefined"!==typeof B.siblingId&&this.row(B.siblingId))&&A.element){if(!A.element.parentNode.parentNode){B.wait=!0;return}"undefined"!==typeof B.columnId&&(D=this.cell(A,B.columnId))&&
D.element&&(A=D);B.active&&0!==A.element.offsetHeight?this._focusOnNode(A,!1,null):(f(A.element,".dgrid-focus"),A.element.tabIndex=this.tabIndex,this._focusedNode=A.element)}delete this._removedFocus},addKeyHandler:function(A,B,D){return M.after(this[D?"headerKeyMap":"keyMap"],A,B,!0)},_ensureRowScroll:function(A){var B=this.getScrollPosition().y;B>A.offsetTop?this.scrollTo({y:A.offsetTop}):B+this.contentNode.offsetHeight<A.offsetTop+A.offsetHeight&&this.scrollTo({y:A.offsetTop-this.contentNode.offsetHeight+
A.offsetHeight})},_ensureColumnScroll:function(A){var B=this.getScrollPosition().x,D=A.offsetLeft;if(B>D)this.scrollTo({x:D});else{var C=this.bodyNode.clientWidth;A=A.offsetWidth;var E=D+A;B+C<E&&this.scrollTo({x:C>A?E-C:D})}},_ensureScroll:function(A,B){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!B&&this._ensureRowScroll(A.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(A.element)},_focusOnNode:function(A,B,D){var C="_focused"+(B?
"Header":"")+"Node",E=this[C],H=this.cellNavigation?"cell":"row",G=this[H](A),F;if(A=G&&G.element){if(this.cellNavigation){var I=A.getElementsByTagName("input");var J=0;for(F=I.length;J<F;J++){var K=I[J];if((-1!=K.tabIndex||"_dgridLastValue"in K)&&!K.disabled){8>k("ie")&&(K.style.position="relative");K.focus();8>k("ie")&&(K.style.position="");var P=!0;break}}}null!==D&&(D=b.mixin({grid:this},D),D.type&&(D.parentType=D.type),D.bubbles||(D.bubbles=!0));E&&(f(E,"!dgrid-focus[!tabIndex]"),8>k("ie")&&
(E.style.position=""),D&&(D[H]=this[H](E),a.emit(E,"dgrid-cellfocusout",D)));E=this[C]=A;D&&(D[H]=G);C=this.cellNavigation?e:v;!P&&C.test(A.className)&&(8>k("ie")&&(A.style.position="relative"),A.tabIndex=this.tabIndex,A.focus());f(A,".dgrid-focus");D&&a.emit(E,"dgrid-cellfocusin",D);this._debouncedEnsureScroll(G,B)}},focusHeader:function(A){this._focusOnNode(A||this._focusedHeaderNode,!0)},focus:function(A){(A=A||this._focusedNode)?this._focusOnNode(A,!1):this.contentNode.focus()}}),p=g.moveFocusVertical=
function(A,B){if(this._focusOnNode&&A.target!==this.contentNode){var D=this.cellNavigation,C=this[D?"cell":"row"](A);C=D&&C.column.id;B=this.down(this._focusedNode,B,!0);D&&(B=this.cell(B,C));this._focusOnNode(B,!1,A);A.preventDefault()}};U=g.moveFocusUp=function(A){p.call(this,A,-1)};var n=g.moveFocusDown=function(A){p.call(this,A,1)},q=g.moveFocusPageUp=function(A){p.call(this,A,-this.pageSkip)},l=g.moveFocusPageDown=function(A){p.call(this,A,this.pageSkip)},c=g.moveFocusHorizontal=function(A,B){if(this.cellNavigation&&
A.target!==this.contentNode){var D=!this.row(A);this._focusOnNode(this.right(this["_focused"+(D?"Header":"")+"Node"],B),D,A);A.preventDefault()}},d=g.moveFocusLeft=function(A){c.call(this,A,-1)},w=g.moveFocusRight=function(A){c.call(this,A,1)},t=g.moveHeaderFocusEnd=function(A,B){if(this.cellNavigation){var D=this.headerNode.getElementsByTagName("th");this._focusOnNode(D[B?0:D.length-1],!0,A)}A.preventDefault()},z=g.moveHeaderFocusHome=function(A){t.call(this,A,!0)},x=g.moveFocusEnd=function(A,B){var D=
this,C=this.cellNavigation,E=this.contentNode,H=E.scrollTop+(B?0:E.scrollHeight);E=E[B?"firstChild":"lastChild"];var G=-1<E.className.indexOf("dgrid-preload"),F=G?E[(B?"next":"previous")+"Sibling"]:E,I=F.offsetTop+(B?0:F.offsetHeight);if(G){for(;F&&0>F.className.indexOf("dgrid-row");)F=F[(B?"next":"previous")+"Sibling"];if(!F)return}if(!G||1>E.offsetHeight)C&&(F=this.cell(F,this.cell(A).column.id)),this._focusOnNode(F,!1,A);else{k("dom-addeventlistener")||(A=b.mixin({},A));var J=M.after(this,"renderArray",
function(K){J.remove();return h.when(K,function(P){P=P[B?0:P.length-1];C&&(P=D.cell(P,D.cell(A).column.id));D._focusOnNode(P,!1,A)})})}H===I&&A.preventDefault()},y=g.moveFocusHome=function(A){x.call(this,A,!0)};g.defaultKeyMap={32:u,33:q,34:l,35:x,36:y,37:d,38:U,39:w,40:n};g.defaultHeaderKeyMap={32:u,35:t,36:z,37:d,39:w};return g})},"arcgisonline/sharing/dijit/_RefreshMixin":function(){define("require exports tslib dojo/_base/lang dojo/_base/Deferred dojo/on".split(" "),function(U,M,a,b,k,f){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);return function(){function m(){}m.prototype.emitError=function(h){"object"!==typeof h&&(h=Error(h));h.grid=this;f.default.emit(this.domNode,"dgrid-error",{grid:this,error:h,cancelable:!0,bubbles:!0})};m.prototype._trackError=function(h){var u=this;"string"===typeof h&&(h=b.default.hitch(this,h));try{var r=h()}catch(e){this.emitError.call(this,e)}return k.default.when(r,function(){f.default.emit(u.domNode,"refresh",{cancelable:!0,bubbles:!0})},this.emitError.bind(this))};
return m}()})},"arcgisonline/sharing/dijit/Rating":function(){define("dojo/_base/declare dojox/form/Rating dojo/dom-attr dojo/dom-construct dojo/string ../../pages/utils/icons dojo/i18n!../../nls/arcgisonline".split(" "),function(U,M,a,b,k,f,m){return U([M],{constructor:function(h){U.safeMixin(this,h)},postCreate:function(){this.inherited(arguments);var h=k.substitute(m.common.ratingMsg2,{stars:this.params.value});a.set(this.domNode,"aria-label",h);a.set(this.domNode,"tabindex",0);[].slice.call(this.domNode.querySelectorAll(".dojoxRatingInput")).forEach(function(u){b.place(f["star-f"]["16"],
u,"after");b.place(f.star["16"],u,"after")})},_onMouse:function(){this.get("disabled")||this.inherited(arguments)},onStarClick:function(){this.get("disabled")||this.inherited(arguments)},_setValueAttr:function(h){h=Math.round(h);this.inherited(arguments)}})})},"dojox/form/Rating":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/mouse dojo/on dojo/string dojo/query dijit/form/_FormWidget".split(" "),function(U,M,a,b,k,f,m,h,u){return U("dojox.form.Rating",u,{templateString:null,
numStars:3,value:0,buildRendering:function(r){this.name=this.name||"rating-"+Math.random().toString(36).substring(2);for(var e='\x3clabel class\x3d"dojoxRatingStar dijitInline ${hidden}"\x3e\x3cspan class\x3d"dojoxRatingLabel"\x3e${value} stars\x3c/span\x3e\x3cinput type\x3d"radio" name\x3d"'+this.name+'" value\x3d"${value}" dojoAttachPoint\x3d"focusNode" class\x3d"dojoxRatingInput"\x3e\x3c/label\x3e',v='\x3cdiv dojoAttachPoint\x3d"domNode" class\x3d"dojoxRating dijitInline"\x3e\x3cdiv data-dojo-attach-point\x3d"list"\x3e'+
m.substitute(e,{value:0,hidden:"dojoxRatingHidden"})+"${stars}\x3c/div\x3e\x3c/div\x3e",g="",p=0;p<this.numStars;p++)g+=m.substitute(e,{value:p+1,hidden:""});this.templateString=m.substitute(v,{stars:g});this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);this.own(f(this.list,f.selector(".dojoxRatingStar","mouseover"),M.hitch(this,"_onMouse")),f(this.list,f.selector(".dojoxRatingStar","click"),M.hitch(this,"_onClick")),f(this.list,f.selector(".dojoxRatingInput",
"change"),M.hitch(this,"onStarChange")),f(this.list,k.leave,M.hitch(this,function(){this._renderStars(this.value)})))},_onMouse:function(r){var e=+a.get(r.target.querySelector("input"),"value");this._renderStars(e,!0);this.onMouseOver(r,e)},_onClick:function(r){if("LABEL"===r.target.tagName){var e=+a.get(r.target.querySelector("input"),"value");r.target.value=e;this.onStarClick(r,e);e==this.value&&(r.preventDefault(),this.onStarChange(r))}},_renderStars:function(r,e){h(".dojoxRatingStar",this.domNode).forEach(function(v,
g){g>r?(b.remove(v,"dojoxRatingStarHover"),b.remove(v,"dojoxRatingStarChecked")):(b.remove(v,"dojoxRatingStar"+(e?"Checked":"Hover")),b.add(v,"dojoxRatingStar"+(e?"Hover":"Checked")))})},onStarChange:function(r){r=+a.get(r.target,"value");this.setAttribute("value",r==this.value?0:r);this._renderStars(this.value);this.onChange(this.value)},onStarClick:function(r,e){},onMouseOver:function(){},setAttribute:function(r,e){this.set(r,e)},_setValueAttr:function(r){this._set("value",r);this._renderStars(r);
var e=h("input[type\x3dradio]",this.domNode)[r];e&&(e.checked=!0);this.onChange(r)}})})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/mouse dojo/aspect ./List dojo/has!touch?./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),function(U,M,a,b,k,f,m,h,u,r){function e(c,d){d=c.unselectable=d?"on":"";c=c.getElementsByTagName("*");for(var w=c.length;--w;)"INPUT"!==c[w].tagName&&"TEXTAREA"!==c[w].tagName&&(c[w].unselectable=
d)}function v(c,d){var w=c.bodyNode,t=d?"text":21>k("ff")?"-moz-none":"none";p&&"msUserSelect"!==p?w.style[p]=t:k("dom-selectstart")?d||c._selectstartHandle?d&&c._selectstartHandle&&(c._selectstartHandle.remove(),delete c._selectstartHandle):c._selectstartHandle=b(w,"selectstart",function(z){var x=z.target&&z.target.tagName;"INPUT"!==x&&"TEXTAREA"!==x&&z.preventDefault()}):(e(w,!d),d||c._unselectableHandle)?d&&c._unselectableHandle&&(c._unselectableHandle.remove(),delete c._unselectableHandle):c._unselectableHandle=
m.after(c,"renderRow",function(z){e(z,!0);return z})}k.add("dom-comparedocumentposition",function(c,d,w){return!!w.compareDocumentPosition});k.add("pointer",function(c){return"PointerEvent"in c?"pointer":"MSPointerEvent"in c?"MSPointer":!1});k.add("css-user-select",function(c,d,w){c=w.style;d=["Khtml","O","ms","Moz","Webkit"];w=d.length;var t="userSelect";do if("undefined"!==typeof c[t])return t;while(w--&&(t=d[w]+"UserSelect"));return!1});k.add("dom-selectstart","undefined"!==typeof document.onselectstart);
var g=k("mac")?"metaKey":"ctrlKey",p=k("css-user-select"),n=(h=k("pointer"))&&"MS"===h.slice(0,2),q=h?h+(n?"Down":"down"):"mousedown",l=h?h+(n?"Up":"up"):"mouseup";"WebkitUserSelect"===p&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(p=!1);return M("dgrid.Selection",null,{selectionDelegate:".dgrid-row",selectionEvents:q+","+l+",dgrid-cellfocusin",selectionTouchEvents:k("touch")?u.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,
_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var c=this.selectionMode;this.selectionMode="";this._setSelectionMode(c)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(c){c!=
this.selectionMode&&(this.clearSelection(),this.selectionMode=c,this._selectionHandlerName="_"+c+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(c){U.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");this.set("selectionMode",c)},_setAllowTextSelection:function(c){"undefined"!==typeof c?v(this,c):v(this,"none"===this.selectionMode);this.allowTextSelection=c},_handleSelect:function(c,d){if(!f.isRight(c)&&this[this._selectionHandlerName]&&
this.allowSelect(this.row(d))&&("dgrid-cellfocusin"!==c.type||"mousedown"!==c.parentType)&&(c.type!==l||d==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=c;if(!c.keyCode||!c.ctrlKey||32==c.keyCode)if(!c.shiftKey&&c.type===q&&this.isSelected(d))this._waitForMouseUp=d;else this[this._selectionHandlerName](c,d);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(c,d){c=c.keyCode?c.ctrlKey:c[g];this._lastSelected===d?this.select(d,null,!c||!this.isSelected(d)):
(this.clearSelection(),this.select(d),this._lastSelected=d)},_multipleSelectionHandler:function(c,d){var w=this._lastSelected,t=c.keyCode?c.ctrlKey:c[g];if(!c.shiftKey){var z=t?null:!0;w=null}this.select(d,w,z);w||(this._lastSelected=d)},_extendedSelectionHandler:function(c,d){if(c[g]||!this.isSelected(d)||1!==this.getSelectedCount())(2===c.button?this.isSelected(d):c.keyCode?c.ctrlKey:c[g])||this.clearSelection(null,!0),this._multipleSelectionHandler(c,d)},_toggleSelectionHandler:function(c,d){this.select(d,
null,null)},_initSelectionEvents:function(){var c=this,d=this.contentNode,w=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};k("touch")&&!k("pointer")&&this.selectionTouchEvents?(b(d,u.selector(w,this.selectionTouchEvents),function(t){c._handleSelect(t,this);c._ignoreMouseSelect=this}),b(d,b.selector(w,this.selectionEvents),function(t){c._ignoreMouseSelect!==this?c._handleSelect(t,this):t.type===l&&(c._ignoreMouseSelect=null)})):b(d,b.selector(w,this.selectionEvents),function(t){c._handleSelect(t,
this)});this.addKeyHandler&&this.addKeyHandler(32,function(t){c._handleSelect(t,t.target)});if(this.allowSelectAll)this.on("keydown",function(t){t[g]&&65==t.keyCode&&!/\bdgrid-input\b/.test(t.target.className)&&(t.preventDefault(),c[c.allSelected?"clearSelection":"selectAll"]())});this._setStore&&m.after(this,"_setStore",function(){c._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function c(x,y,A){x=y||x&&x[d.idProperty||"id"];if(null!=x&&(y=(x=d.row(x))&&
d.selection[x.id]))d[A](x,null,y)}var d=this,w=this.store;this._removeDeselectSignals&&this._removeDeselectSignals();if(w&&w.notify){var t=m.before(w,"notify",function(x,y){x||c(x,y,"deselect")});var z=m.after(w,"notify",function(x,y){c(x,y,"select")},!0);this._removeDeselectSignals=function(){t.remove();z.remove()}}else t=m.before(this,"removeRow",function(x,y){y||(x=this.row(x))&&x.id in this.selection&&this.deselect(x)}),this._removeDeselectSignals=function(){t.remove()}},allowSelect:function(c){return!0},
_fireSelectionEvent:function(c){var d=this._selectionEventQueues[c],w=this._selectionTriggerEvent;var t={bubbles:!0,grid:this};w&&(t.parentType=w.type);t[this._selectionTargetType]=d;this._selectionEventQueues[c]=[];b.emit(this.contentNode,"dgrid-"+c,t)},_fireSelectionEvents:function(){var c=this._selectionEventQueues,d;for(d in c)c[d].length&&this._fireSelectionEvent(d)},_select:function(c,d,w){"undefined"===typeof w&&(w=!0);c.element||(c=this.row(c));if(!1===w||this.allowSelect(c)){var t=this.selection;
var z=!!t[c.id];null===w&&(w=!z);var x=c.element;w||this.allSelected?t[c.id]=w:delete this.selection[c.id];x&&(w?r(x,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):r(x,"!dgrid-selected!ui-state-active"));w!==z&&x&&this._selectionEventQueues[(w?"":"de")+"select"].push(c);if(d)if(d.element||(d=this.row(d)),d){if(d=d.element)for(t=this._determineSelectionDirection(x,d),t||(d=document.getElementById(d.id),t=this._determineSelectionDirection(x,d));c.element!=d&&(c=this[t](c));)this._select(c,
null,w)}else this._lastSelected=x}},_determineSelectionDirection:k("dom-comparedocumentposition")?function(c,d){c=d.compareDocumentPosition(c);return c&1?!1:2===c?"down":"up"}:function(c,d){return 1>d.sourceIndex?!1:d.sourceIndex>c.sourceIndex?"down":"up"},select:function(c,d,w){this._select(c,d,w);this._fireSelectionEvents()},deselect:function(c,d){this.select(c,d,!1)},clearSelection:function(c,d){this.allSelected=!1;for(var w in this.selection)c!==w&&this._select(w,null,!1);d||(this._lastSelected=
null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var c in this._rowIdToObject){var d=this.row(this._rowIdToObject[c]);this._select(d.id,null,!0)}this._fireSelectionEvents()},getSelectedCount:function(){var c=0,d;for(d in this.selection)d&&(c+=1);return c},isSelected:function(c){if("undefined"===typeof c||null===c)return!1;c.element||(c=this.row(c));return c.id in this.selection?!!this.selection[c.id]:this.allSelected&&(!c.data||this.allowSelect(c))},
refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var c=this,d=this.inherited(arguments);a.when(d,function(w){var t=c.selection,z,x;for(z=0;z<w.length;z++){var y=c.row(w[z]);(x=y.id in t?t[y.id]:c.allSelected)&&c._select(y,null,x)}c._fireSelectionEvents()});return d}})})},"dgrid/selector":function(){define("dojo/_base/kernel dojo/_base/array dojo/_base/lang dojo/on dojo/aspect dojo/_base/sniff put-selector/put".split(" "),
function(U,M,a,b,k,f,m){a.getObject("dgrid.selector",!0);return dgrid.selector=function(h,u){function r(c){return!n.allowSelect(n.row(c))}function e(c){return function(d){var w=d.rows,t=w.length;d="false";var z;for(z=0;z<t;z++){var x=n.cell(w[z],h.id).element;x&&(x=(x.contents||x).input)&&!x.disabled&&(x.checked=c,x.setAttribute("aria-checked",c))}if("checkbox"==q.type){w=n.selection;t=!1;for(z in w)if(w[z]!=n.allSelected){t=!0;break}q.indeterminate=t;q.checked=n.allSelected;t?d="mixed":n.allSelected&&
(d="true");q.setAttribute("aria-checked",d)}}}function v(c){if("click"==c.type||32==c.keyCode||!f("opera")&&13==c.keyCode||0===c.keyCode){var d=n.row(c);n._selectionTriggerEvent=c;if(d){if(n.allowSelect(d)){var w=n._lastSelected&&n.row(n._lastSelected);"radio"==u?w&&w.id==d.id||(n.clearSelection(),n.select(d,null,!0),n._lastSelected=d.element):d&&(c.shiftKey?e(!0)({rows:[d]}):w=null,w=c.shiftKey?w:null,n.select(w||d,d,w?void 0:null),n._lastSelected=d.element)}}else m(this,(n.allSelected?"!":".")+
"dgrid-select-all"),n[n.allSelected?"clearSelection":"selectAll"]();n._selectionTriggerEvent=null}}function g(){n._hasSelectorInputListener=!0;p.push(n.on(".dgrid-selector:click,.dgrid-selector:keydown",v));var c=n._handleSelect;n._handleSelect=function(t){this.cell(t).column!=h&&c.apply(this,arguments)};if("function"==typeof h.disabled){var d=n.allowSelect,w=h.disabled;n.allowSelect=function(t){var z=d.call(this,t);return w===r?z:z&&!w.call(h,t.data)}}h.disabled=r;p.push(n.on("dgrid-select",e(!0)));
p.push(n.on("dgrid-deselect",e(!1)))}var p=[],n,q;h||(h={});h.type&&(h.selectorType=h.type,U.deprecated("columndef.type","use columndef.selectorType instead","dgrid 0.4"));h.selectorType=u=u||h.selectorType||"checkbox";h.sortable=!1;var l="function"==typeof u?u:function(c,d,w){var t=d.parentNode;n._hasSelectorInputListener||g();var z=h.disabled;m(t&&t.contents?t:d,".dgrid-selector");d=d.input||(d.input=m(d,"input[type\x3d"+u+"]",{tabIndex:isNaN(h.tabIndex)?-1:h.tabIndex,disabled:z&&("function"==typeof z?
z.call(h,w):z),checked:c}));d.setAttribute("aria-checked",!!c);return d};k.after(h,"init",function(){n=h.grid});k.after(h,"destroy",function(){M.forEach(p,function(c){c.remove()});n._hasSelectorInputListener=!1});h.renderCell=function(c,d,w,t,z){d=(d=c&&n.row(c))&&n.selection[d.id];l(d,w,c)};h.renderHeaderCell=function(c){var d="label"in h?h.label:h.field||"";"radio"!=u&&n.allowSelectAll?l(!1,c,{}):(c.appendChild(document.createTextNode(d)),n._hasSelectorInputListener||g());q=c.lastChild};return h}})},
"dojo/store/Observable":function(){define(["../_base/lang","../when","../_base/array"],function(U,M,a){var b=function(k){function f(e,v){var g=k[e];g&&(k[e]=function(p,n){var q;"put"===e&&(q=k.getIdentity(p));if(r)return g.apply(this,arguments);r=!0;try{var l=g.apply(this,arguments);M(l,function(c){v("object"==typeof c&&c||p,q,n)});return l}finally{r=!1}})}var m=[],h=0;k=U.delegate(k);k.notify=function(e,v,g){h++;for(var p=m.slice(),n=0,q=p.length;n<q;n++)p[n](e,v,g)};var u=k.query;k.query=function(e,
v){v=v||{};var g=u.apply(this,arguments);if(g&&g.forEach){var p=U.mixin({},v);delete p.start;delete p.count;var n=k.queryEngine&&k.queryEngine(e,p),q=h,l=[],c;g.observe=function(d,w){1==l.push(d)&&m.push(c=function(z,x,y){var A=y&&y.before&&k.getIdentity(y.before);M(g,function(B){var D=B.length!=v.count,C;if(++q!=h)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var E=-1,H=-1;if(void 0!==x){var G=[].concat(B);n&&!z&&(G=n(B));var F=0;for(C=B.length;F<
C;F++){var I=B[F];if(k.getIdentity(I)==x&&!(0>G.indexOf(I))){var J=I;E=F;!n&&z||B.splice(F,1);break}}}if(n){if(z&&(n.matches?n.matches(z):n([z]).length))if(F=-1<E?E:B.length,B.splice(F,0,z),H=a.indexOf(n(B),z),B.splice(F,1),v.start&&0==H||!D&&H==B.length)H=-1;else{if(y&&void 0!==y.before){if(null===y.before)F=B.length;else a:{F=k;D=C=void 0;D=void 0==D?B.length:D;for(C=void 0==C?0:C;C<D;++C)if(F.getIdentity(B[C])===A){F=C;break a}F=-1}-1!==F&&(H=F)}B.splice(H,0,z)}}else z&&(void 0!==x?H=E:v.start||
(H=k.defaultIndex||0,B.splice(H,0,z)));if((-1<E||-1<H)&&(w||!n||E!=H))for(D=l.slice(),F=0;B=D[F];F++)B(z||J,E,H)})});var t={};t.remove=t.cancel=function(){var z=a.indexOf(l,d);-1<z&&(l.splice(z,1),l.length||m.splice(a.indexOf(m,c),1))};return t}}return g};var r;f("put",function(e,v,g){k.notify(e,v,g)});f("add",function(e,v,g){k.notify(e,v,g)});f("remove",function(e){k.notify(void 0,e)});return k};U.setObject("dojo.store.Observable",b);return b})},"dgrid/util/mouse":function(){define(["dojo/_base/lang",
"dojo/on","dojo/dom","dojo/query"],function(U,M,a){function b(f,m){return function(h,u){return M(h,f+":"+m,function(r){if(!a.isDescendant(r.relatedTarget,this))return u.call(this,r)})}}var k={enterRow:b(".dgrid-content .dgrid-row","mouseover"),enterCell:b(".dgrid-content .dgrid-cell","mouseover"),enterHeaderCell:b(".dgrid-header .dgrid-cell","mouseover"),leaveRow:b(".dgrid-content .dgrid-row","mouseout"),leaveCell:b(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:b(".dgrid-header .dgrid-cell",
"mouseout"),createDelegatingHandler:b};U.getObject("dgrid.util.mouse",!0);U.mixin(dgrid.util.mouse,k);return k})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(U,M){function a(k,f,m,h){if(!(1<m.targetTouches.length)){var u=m.changedTouches[0],r=u.screenX,e=u.screenY;h&&m.preventDefault();var v=U(k,"touchend",function(g){var p=g.changedTouches[0];g.targetTouches.length||(Math.abs(p.screenX-r)<b.tapRadius&&Math.abs(p.screenY-e)<b.tapRadius&&(h&&g.preventDefault(),f.call(this,
g)),v.remove())})}}var b={tapRadius:10,dbltapTime:250,selector:function(k,f,m){return function(h,u){var r=f.bubble;r?f=r:!1!==m&&(m=!0);return U(h,f,function(e){var v=e.target;3==v.nodeType&&(v=v.parentNode);for(;!M.matches(v,k,h);)if(v==h||!m||!(v=v.parentNode))return;return u.call(v,e)})}},countCurrentTouches:function(k,f){if(!("touches"in k))return-1;var m,h,u;for(h=m=0;u=k.touches[m];++m)f.contains(u.target)&&++h;return h},tap:function(k,f){return U(k,"touchstart",function(m){a(k,f,m)})},dbltap:function(k,
f){var m,h;return U(k,"touchstart",function(u){m?a(k,function(r){if(m){var e=r.changedTouches[0];Math.abs(e.screenX-m.screenX)<b.tapRadius&&Math.abs(e.screenY-m.screenY)<b.tapRadius&&(h&&clearTimeout(h),m=h=null,f.call(this,r))}},u,!0):a(k,function(r){m=r.changedTouches[0];h=setTimeout(function(){m=h=null},b.dbltapTime)},u)})}};return b})},"arcgisonline/sharing/dijit/Breadcrumb":function(){define("require exports tslib ../../pages/utils/dom ../../tsutils/declareDecorator dijit/a11yclick dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/text!./templates/Breadcrumb.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(){this.baseClass="esriBreadcrumb";this.templateString=r.default;this.initialLabel="";this.initialHandler=null;this._breadcrumbs=[]}e.prototype.postCreate=function(){this.inherited(arguments);this.initialHandler||(this.initialHandler=(0,f.default)(this._baseBreadcrumb,this.reset.bind(this)))};
e.prototype.destroy=function(){this.inherited(arguments);this._destroyInitialHandler();this._destroyBreadcrumbHandlers()};e.prototype._setInitialHandlerAttr=function(v){var g=this;this._destroyInitialHandler();this.initialHandler=(0,f.default)(this._baseBreadcrumb,function(p){var n;(null===(n=null===p||void 0===p?void 0:p.target)||void 0===n?0:n.parentNode)&&!p.target.parentNode.classList.contains("current-breadcrumb")&&(g.reset(),null===v||void 0===v?void 0:v.call(g))})};e.prototype.add=function(v){var g=
this,p=this.domNode.querySelector(".current-breadcrumb"),n=this._breadcrumbs.length;p.classList.replace("current-breadcrumb","breadcrumb");p=document.createElement("div");p.classList.add("current-breadcrumb");p.dataset.id="".concat(n);n=document.createElement("div");n.classList.add("breadcrumb-label");n.tabIndex=0;n.textContent=v.label;p.appendChild(n);this.domNode.appendChild(p);v.id=this._breadcrumbs.length;v.handler=(0,f.default)(n,function(q){var l;if((null===(l=null===q||void 0===q?void 0:q.target)||
void 0===l?0:l.parentNode)&&!q.target.parentNode.classList.contains("current-breadcrumb")){q=g._breadcrumbs.length-1-v.id;for(l=0;l<q;l++)g.drop();v.click.call(g)}});this._breadcrumbs.push(v)};e.prototype.drop=function(){var v,g=this.domNode.querySelector(".current-breadcrumb"),p=this.domNode.querySelector(".initial-breadcrumb"),n=b.default.querySelectorAllAsArray(".breadcrumb",this.domNode).pop();g!==p&&(n.classList.replace("breadcrumb","current-breadcrumb"),u.default.destroy(g),null===(v=this._breadcrumbs.pop().handler)||
void 0===v?void 0:v.remove())};e.prototype.reset=function(){var v=this.domNode.querySelector(".current-breadcrumb"),g=this.domNode.querySelector(".initial-breadcrumb");v!==g&&(v.classList.replace("current-breadcrumb","breadcrumb"),g.classList.replace("breadcrumb","current-breadcrumb"));b.default.querySelectorAllAsArray(".breadcrumb",this.domNode).forEach(u.default.destroy);this._destroyBreadcrumbHandlers()};e.prototype._destroyInitialHandler=function(){var v;null===(v=this.initialHandler)||void 0===
v?void 0:v.remove();this.initialHandler=void 0};e.prototype._destroyBreadcrumbHandlers=function(){var v;null===(v=this._breadcrumbs)||void 0===v?void 0:v.forEach(function(g){var p;return null===(p=g.handler)||void 0===p?void 0:p.remove()})};return e=a.__decorate([(0,k.default)(m.default,h.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/CollabOrgsRow":function(){define("require exports tslib preact calcite-web/js/calcite-web dojo/Deferred dojo/on dojo/promise/all dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/CollabOrgsRow.html ./SettingsRow ../StartCollabOverlay ../PendingCollabOverlay ../TrustedOrgItem ../CollabDetailsOverlay ../EndCollabOverlay ../AddCoordinatorsToGroupsOverlay arcgisonline/pages/utils/dom arcgisonline/pages/utils/organization arcgisonline/pages/utils/alerts arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/components/Collaborations/SuspendCollaboration arcgisonline/pages/components/Collaborations/collab-service arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=
a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);return function(){function D(C,E){this.templateString=e.default;this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),r.default.common),r.default.collaborationsTab.online.orgs);this.trustedOrgs=[];this.hubCollabs=[];this.confirmedOrgs=[];this.pendingRequests=[];this.confirmedOrgItems=[];this.hasGroupsAllowExternal=!1;this.endingCheckIntervals={};this.handleModalClose=this.handleModalClose.bind(this);this.modalContainer=document.createElement("div");
document.body.appendChild(this.modalContainer)}D.prototype.postCreate=function(){this.inherited(arguments)};D.prototype.render=function(){var C=this;this.getTrustedOrgs().then(function(E){var H;C.trustedOrgs=0<(null===E||void 0===E?void 0:E.length)?E:[];C.confirmedOrgs.filter(function(G){return"deleting"===G.to.state}).forEach(function(G){C.pollForEndingCollab(G.to.orgId)});C.reviewBtn.querySelector(".js-request-num").textContent="".concat(C.pendingRequests.length);d.default.showHide(C.reviewBtn,
0<C.pendingRequests.length);C.toggleTip();C.renderConfirmedOrgs();null===(H=C.pendingOverlay)||void 0===H?void 0:H.updateTrustedOrgs(C.trustedOrgs);C.renderMaxNotice()})};D.prototype.addEventListeners=function(){var C=this;this.own((0,m.default)(this.startBtn,"click",function(){return C.handleStartClick()}),(0,m.default)(this.reviewBtn,"click",function(){return C.handleReviewClick()}),u.default.subscribe("collaboration/sent",function(){return C.render()}),u.default.subscribe("collaboration/updated",
function(){return C.render()}),(0,m.default)(this.dismissTipBtn,"click",function(){w.default.createOnboardCookie("collab-tip");d.default.hideNode(C.onboardTip)}))};D.prototype.renderMaxNotice=function(){var C,E=this.collaborationLimit,H=(null===(C=this.trustedOrgs)||void 0===C?void 0:C.length)||0;H<Math.floor(.9*E)||(this.maxNoticeDesc.textContent=this.i18n[H>=E?"maxCollabs":"nearMaxCollabs"].replace("${number}",E),d.default.showNode(this.maxNotice),this.startBtn.disabled=H>=E)};D.prototype.toggleTip=
function(){d.default.showHide(this.onboardTip,this.confirmedOrgs.length&&w.default.shouldShowOnboard("collab-tip",new Date("June 1, 2021"))&&!this.portal.isPortal)};D.prototype.renderConfirmedOrgs=function(){var C=this;this.confirmedOrgItems.forEach(function(E){return E.destroy()});this.confirmedOrgItems=[];this.confirmedOrgsContainer.innerHTML="";this.confirmedOrgs.forEach(function(E){var H=new n.default({trustedOrg:E,partnerOrg:{id:E.to.orgId,name:E.to.name,startDate:E.to.established,state:E.to.state},
portal:C.portal,portalUser:C.portalUser,hasGroupsAllowExternal:C.hasGroupsAllowExternal});C.confirmedOrgsContainer.appendChild(H.domNode);C.confirmedOrgItems.push(H);C.own(H.on("delete",function(){C.handleDeleteItem(H)}),H.on("suspend",function(){C.handleSuspend(H)}),H.on("resume",function(){C.handleResume(H)}),H.on("details",function(){C.handleViewDetails(H)}),H.on("addToGroups",function(){C.handleAddToGroups(H)}))});d.default.showHide(this.confirmedOrgsContainer,0<this.confirmedOrgItems.length);
d.default.showHide(this.domNode.querySelector(".js-existing-collabs"),0<this.confirmedOrgs.length);k.default.dropdown()};D.prototype.handleAddToGroups=function(C){var E=C.partnerOrg;(new c.default({portal:this.portal,partnerOrg:{id:E.id,name:E.name,coordinators:C.coordinators}})).open()};D.prototype.handleModalClose=function(){(0,b.render)(null,this.modalContainer)};D.prototype.handleSuspend=function(C){(0,b.render)((0,b.h)(y.default,{partner:C.partnerOrg,onClose:this.handleModalClose}),this.modalContainer)};
D.prototype.handleResume=function(C){return a.__awaiter(this,void 0,void 0,function(){var E=this;return a.__generator(this,function(H){try{A.default.resume(C.partnerOrg.id),t.default.showAlert("success",this.i18n.resumeSuccess),setTimeout(function(){E.render()},300)}catch(G){t.default.showAlert("error",this.i18n.resumeError)}return[2]})})};D.prototype.handleDeleteItem=function(C){var E=this,H=new l.default({org:C.partnerOrg,portal:this.portal});H.open();this.own(H.on("end-collab/confirm",function(G){E.proceedToDelete(C.partnerOrg,
G.message)}))};D.prototype.handleViewDetails=function(C){(new q.default({collaboration:C.trustedOrg,coordinators:C.coordinators,portal:this.portal,portalUser:this.portalUser,hasGroupsAllowExternal:this.hasGroupsAllowExternal,opener:C.domNode.querySelector(".js-dropdown-toggle")})).open()};D.prototype.proceedToDelete=function(C,E){var H=this;A.default.remove(C.id,E).then(function(){H.render()})};D.prototype.pollForEndingCollab=function(C){var E=this;if(!this.endingCheckIntervals[C]){var H=window.setInterval(function(){return a.__awaiter(E,
void 0,void 0,function(){var G;return a.__generator(this,function(F){switch(F.label){case 0:return[4,A.default.getCollaborationByOrgId(C)];case 1:G=F.sent();if("deleting"===(null===G||void 0===G?void 0:G.to.state))return[2];G?this.confirmedOrgs.forEach(function(I){G.to.orgId===I.to.orgId&&(I.to.state=G.to.state)}):this.confirmedOrgs=this.confirmedOrgs.filter(function(I){return I.to.orgId===C});clearInterval(this.endingCheckIntervals[C]);delete this.endingCheckIntervals[C];this.renderConfirmedOrgs();
return[2]}})})},15E3);this.endingCheckIntervals[C]=H}};D.prototype.checkJob=function(C){var E=this;window.setInterval(function(){return a.__awaiter(E,void 0,void 0,function(){return a.__generator(this,function(H){switch(H.label){case 0:return[4,z.default.request({url:"".concat(x.default.restBaseUrl,"portals/self/jobs/").concat(C)})];case 1:return H.sent(),[2]}})})},1E4)};D.prototype.getGroups=function(){var C=this,E=new f.default;z.default.request({url:"".concat(x.default.restBaseUrl,"community/groups"),
content:{start:1,q:"orgid:".concat(this.portal.id,' -membershipaccess:"org"')}}).then(function(H){C.hasGroupsAllowExternal=0<(null===H||void 0===H?void 0:H.total);E.resolve()},function(){E.resolve()});return E};D.prototype.getTrustedOrgs=function(){var C=this;this.confirmedOrgs=[];this.pendingRequests=[];return(0,h.default)({collaborations:A.default.getCollaborations(!0),hubCollabs:A.default.getCollaborations(!1),collabLimit:A.default.getCollaborationLimit(),groups:this.getGroups()}).then(function(E){var H=
E.collaborations,G=E.hubCollabs;E=E.collabLimit;var F=(null===H||void 0===H?void 0:H.trustedOrgs)||[];F.sort(function(I,J){var K,P;I=null===(K=I.to.name)||void 0===K?void 0:K.toLowerCase();J=null===(P=J.to.name)||void 0===P?void 0:P.toLowerCase();return I>J?1:I<J?-1:0}).forEach(function(I){-1===I.from.established||-1===I.to.established?C.pendingRequests.push(I):C.confirmedOrgs.push(I)});C.hubCollabs=(null===G||void 0===G?void 0:G.trustedOrgs)||[];u.default.publish("collaborations/loaded",F);C.collaborationLimit=
E;return null===H||void 0===H?void 0:H.trustedOrgs})};D.prototype.handleStartClick=function(){(new g.default({portal:this.portal,trustedOrgs:this.trustedOrgs,hubCollabs:this.hubCollabs,collaborationLimit:this.collaborationLimit})).open()};D.prototype.handleReviewClick=function(){var C=this;this.pendingOverlay=new p.default({trustedOrgs:this.trustedOrgs,portal:this.portal});this.pendingOverlay.open();this.own(this.pendingOverlay.on("updated",function(){C.render()}),this.pendingOverlay.on("close",function(){C.pendingOverlay=
void 0}))};return D=a.__decorate([(0,B.default)(v.default)],D)}()})},"arcgisonline/pages/organization/widgets/settings/StartCollabOverlay":function(){define("require exports tslib preact esri/request dojo/text!./templates/StartCollabOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/topic dojo/Deferred dojo/debounce dojox/data/CsvStore arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/dom arcgisonline/pages/pageUtil arcgisonline/pages/utils/validation arcgisonline/pages/utils/icons arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/utils/alerts arcgisonline/pages/utils/promises arcgisonline/pages/utils/culture arcgisonline/pages/components/Collaborations/collab-service arcgisonline/pages/components/Collaborations/CollabInvitationCard arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=
a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);return function(){function D(C,E){this.i18n=m.default;this.texts=a.__assign(a.__assign(a.__assign({},h.default.common),h.default.collaborationsTab.online.orgs),h.default.collaborationsTab.online.orgs.startCollabOverlay);this.title=this.texts.startCollaboration;this.overlayContents=u.default.substitute(f.default,{i18n:this.texts,icons:d.default});this.maxWidth=800;this.constrain=!0;this.closeOnScrimClick=!1;this.primaryBtnText=this.texts.primaryBtnText;
this.invitations=[];this.inviteMode="single";this.stepNum=1;this.selectedInvitations=[];this.maxInvitations=20;this.isTruncated=!1;this.handleCollabInviteUpdate=this.handleCollabInviteUpdate.bind(this);this.handleToggleInvitation=this.handleToggleInvitation.bind(this)}D.prototype.open=function(){this.inherited(arguments);this.saveElRefs();this.emailTextarea.value=u.default.substitute(this.texts.emailText,{orgName:this.portal.name});this.backBtn.textContent=this.i18n.common.back;this.accessSwitch=
new w.default({label:this.texts.grantSearch.replace("${orgName}",this.portal.name),trackId:"collab-access-switch",baseClass:"start-collab__access-switch leader-quarter",labelPosition:"left",isChecked:!0},this.domNode.querySelector(".js-access-switch"));this.domNode.querySelector(".js-dragdrop-text").innerHTML=u.default.substitute(this.texts.dragDrop,{linkStart:'\x3cbutton class\x3d"btn-link js-browse-btn"\x3e',linkEnd:"\x3c/button\x3e"});var C=this.collaborationLimit-this.trustedOrgs.length;this.maxInvitations=
20>C?C:20;this.domNode.querySelector(".js-max-invitations").textContent=this.texts.maxInvitations.replace("${number}",this.maxInvitations);this.addListeners()};D.prototype.close=function(){this.inherited(arguments)};D.prototype.handlePrimary=function(){var C=this,E;"multiple"===this.inviteMode?1===this.stepNum?(this.isTruncated&&t.default.showAlert("warning",this.texts.overMax),this.showMultiStep2(),this.stepNum++):2===this.stepNum?(this.showMultiStep3(),this.stepNum++):3===this.stepNum&&z.default.eachAlways(this.invitations.filter(function(H){return H.urlKey}).map(function(H){return y.default.add({urlKey:H.urlKey,
searchUsers:H.memberSearch,message:C.domNode.querySelector("#start-collab-email-text-multi").value})})).then(function(H){H.some(function(G){return!!G.error})?(H.some(function(G){return"ORG_1404"===G.error.messageCode})&&t.default.showAlert("error",C.texts.errors.existing),C.close(),H.every(function(G){return!!G.error})||e.default.publish("collaboration/sent")):(e.default.publish("collaboration/sent"),C.close())}):"single"===this.inviteMode&&(this.selectedOrg&&null!==(E=this.selectedOrg)&&void 0!==
E&&E.urlKey?(E=document.getElementById("start-collab-email-text").value,E={urlKey:this.selectedOrg.urlKey,searchUsers:this.accessSwitch.checked(),message:E},y.default.add(E).then(function(){e.default.publish("collaboration/sent");C.close()},function(H){"ORG_1404"===(null===H||void 0===H?void 0:H.messageCode)?C.showInputError(C.texts.errors.existing):t.default.showAlert("error",m.default.resendInviteDlg.errorSendingInvite)})):this.searchError.classList.contains("is-active")||this.showInputError())};
D.prototype.showMultiStep1=function(){this._primaryBtn.textContent=this.i18n.common.next;this._primaryBtn.disabled=!1;q.default.hideNode(this.domNode.querySelector(".js-multi-step-2"));q.default.showNode(this.domNode.querySelector(".js-multi-step-1"));q.default.hideNode(this.backBtn);q.default.showNode(this.domNode.querySelector(".js-choose-file"));q.default.hideNodes([this.domNode.querySelector(".js-file-processed"),this.domNode.querySelector(".js-invalid-fields"),this.domNode.querySelector(".js-valid-orgUrl"),
this.domNode.querySelector(".js-invalid-orgUrl"),this.domNode.querySelector(".js-valid-search"),this.domNode.querySelector(".js-invalid-search"),this.domNode.querySelector(".js-invalid-url-num"),this.domNode.querySelector(".js-invalid-search-num")]);q.default.hideNode(this.domNode.querySelector(".js-file-processed"));this.domNode.querySelector(".js-file-input").value=""};D.prototype.showMultiStep2=function(){this._primaryBtn.textContent=this.i18n.common.next;this.renderPageRange();this.renderInvitations();
q.default.hideNode(this.domNode.querySelector(".js-multi-step-1"));q.default.hideNode(this.domNode.querySelector(".js-multi-step-3"));q.default.showNode(this.domNode.querySelector(".js-multi-step-2"));q.default.showNode(this.backBtn)};D.prototype.renderPageRange=function(){this.domNode.querySelector(".js-page-range").textContent=l.default.getPageRangeString({start:1,end:this.invitations.length,total:this.invitations.length})};D.prototype.showMultiStep3=function(){this._primaryBtn.textContent=this.texts.primaryBtnText;
this.domNode.querySelector(".js-summary-text").textContent=x.default.getString(this.texts.summaryText,this.invitations.length);q.default.hideNode(this.domNode.querySelector(".js-multi-step-2"));q.default.showNode(this.domNode.querySelector(".js-multi-step-3"));this.domNode.querySelector("#start-collab-email-text-multi").value=u.default.substitute(this.texts.emailText,{orgName:this.portal.name})};D.prototype.getPortal=function(C){var E=new v.default;-1===C.indexOf("http")&&(C="https://".concat(C));
var H=C.indexOf("/home");-1<H&&(C=C.substr(0,H));(0,k.default)({url:"".concat(C,"/sharing/rest/portals/self"),content:{f:"json"}},{disableIdentityLookup:!0}).then(function(G){E.resolve(G)},function(G){E.resolve(G)});return E};D.prototype.handleToggleInvitation=function(C,E){if(E&&!this.isSelected(C))this.selectedInvitations.push(C);else if(!E){var H=-1;this.selectedInvitations.forEach(function(G,F){G.idx===C.idx&&(H=F)});-1<H&&this.selectedInvitations.splice(H,1)}this.renderInvitations()};D.prototype.isSelected=
function(C){return this.selectedInvitations.some(function(E){return E.idx===C.idx})};D.prototype.renderInvitations=function(){var C=this,E=this.domNode.querySelector(".js-delete-btn");q.default.showHide(E,0<this.selectedInvitations.length);E.disabled=this.selectedInvitations.length===this.invitations.length;(0,b.render)((0,b.h)("div",null,this.invitations.map(function(H){return(0,b.h)(A.default,{key:H.idx,invitation:H,portal:C.portal,checked:C.isSelected(H),onUpdate:C.handleCollabInviteUpdate,onToggle:C.handleToggleInvitation})})),
this.domNode.querySelector(".js-collab-invitations"));this._primaryBtn.disabled=this.invitations.some(function(H){return H.notFound||void 0===H.memberSearch})};D.prototype.handleCollabInviteUpdate=function(C){var E=this;this.invitations.forEach(function(H){H.idx===C.idx&&(H.memberSearch=C.memberSearch,H.url!==C.url&&(H.url=C.url,E.getPortal(C.url).then(function(G){(null===G||void 0===G?0:G.error)||null===G||void 0===G||!G.urlKey?H.notFound=!0:(H.urlKey=G.urlKey,H.notFound=!1);E.renderInvitations()})))})};
D.prototype.saveElRefs=function(){this.searchInput=this.domNode.querySelector(".js-org-search");this.searchError=this.domNode.querySelector(".js-search-error");this.resultsList=this.domNode.querySelector(".js-results-list");this.orgOption=this.domNode.querySelector(".js-org-option");this.noResults=this.domNode.querySelector(".js-no-results");this.whereLink=this.domNode.querySelector(".js-where-link");this.selectedOrgSection=this.domNode.querySelector(".js-selected-org-section");this.searchSection=
this.domNode.querySelector(".js-search-section");this.selectedOrgEdit=this.domNode.querySelector(".js-selected-org-edit");this.emailTextarea=this.domNode.querySelector("#start-collab-email-text")};D.prototype.addListeners=function(){var C=this,E=this.domNode.querySelector(".js-single-invite-tab"),H=this.domNode.querySelector(".js-multi-invite-tab"),G=this.domNode.querySelector(".js-single-invite-content"),F=this.domNode.querySelector(".js-multi-invite-content"),I=this.domNode.querySelector(".js-file-input"),
J=this.domNode.querySelector(".js-file-drop");this.own((0,r.default)(this.searchInput,"input",(0,g.default)(function(){return C.handleSearchInput()},300)),(0,r.default)(this.orgOption,"click",function(){return C.handleSelectOrg()}),(0,r.default)(this.selectedOrgEdit,"click",function(){return C.handleEditSelectedOrg()}),(0,r.default)(E,"click",function(){H.classList.remove("start-collab__tab--active");H.setAttribute("aria-selected","false");E.classList.add("start-collab__tab--active");E.setAttribute("aria-seleced",
"true");q.default.hideNode(F);q.default.showNode(G);C._primaryBtn.textContent=C.texts.primaryBtnText;C.inviteMode="single";C.toggleNextBtn()}),(0,r.default)(H,"click",function(){E.classList.remove("start-collab__tab--active");E.setAttribute("aria-seleced","false");H.classList.add("start-collab__tab--active");H.setAttribute("aria-selected","true");q.default.hideNode(G);q.default.showNode(F);C._primaryBtn.textContent=C.i18n.common.next;C.inviteMode="multiple";C.toggleNextBtn()}),(0,r.default)(this.domNode.querySelector(".js-browse-btn"),
"click",function(){I.click()}),(0,r.default)(this.domNode.querySelector(".js-choose-diff"),"click",function(){I.click()}),(0,r.default)(I,"change",function(){C.handleFile(I.files[0])}),(0,r.default)(this.backBtn,"click",function(){3===C.stepNum?C.showMultiStep2():2===C.stepNum&&C.showMultiStep1();C.stepNum--}),(0,r.default)(J,"dragover",function(K){K.preventDefault()}),(0,r.default)(J,"drop",function(K){K.preventDefault();var P;K.dataTransfer.items?"file"===K.dataTransfer.items[0].kind&&(P=K.dataTransfer.items[0].getAsFile()):
0<K.dataTransfer.files.length&&(P=K.dataTransfer.files[0]);P&&C.handleFile(P)}),(0,r.default)(this.domNode.querySelector(".js-delete-btn"),"click",function(){C.selectedInvitations.forEach(function(K){var P=-1;C.invitations.forEach(function(T,S){T.idx===K.idx&&(P=S)});-1<P&&C.invitations.splice(P,1)});C.selectedInvitations=[];C.renderInvitations();C.renderPageRange()}))};D.prototype.toggleNextBtn=function(){this._primaryBtn.disabled="multiple"===this.inviteMode&&1===this.stepNum&&0===this.invitations.length};
D.prototype.handleFile=function(C){var E=this;if(-1!==C.name.toLowerCase().indexOf(".csv")){this.domNode.querySelector(".js-file-name").textContent=C.name;var H=new FileReader;H.onload=function(){var G=H.result,F=G.indexOf("\n");F=G.substr(0,F).trim();var I=F.toLowerCase(),J=E.getSeparator(F);G=G.replace(F,I);E.processCSVData(G,J);E.domNode.querySelector(".js-browse-btn").focus()};H.readAsText(C)}else t.default.showAlert("error",m.default.addItemFrm.errors.unknownType.message)};D.prototype.processCSVData=
function(C,E){var H=this,G=new p.default({data:C,separator:","});G.fetch({onComplete:function(F){var I=0,J=0;H.invitations=[];F.forEach(function(K,P){P=G.getValue(K,H.texts.orgUrl.toLowerCase())||"";var T=(K=(null===(T=G.getValue(K,H.texts.memberSearch.toLowerCase()))||void 0===T?void 0:T.toLowerCase())||void 0)?"true"===K?!0:!1:void 0;K={url:P,notFound:!P,memberSearch:T};P&&void 0!==T||I++;H.invitations.push(K)});H.showLoader();z.default.eachAlways(H.invitations.filter(function(K){return K.url}).map(function(K){-1===
K.url.indexOf("http")&&(K.url="https://".concat(K.url));return H.getPortal(K.url)})).then(function(K){K.forEach(function(T,S){var L,N,O=T.error,Q=null===(L=null===T||void 0===T?void 0:T.value)||void 0===L?void 0:L.urlKey;O||!Q?(I++,H.invitations[S].notFound=!0):(H.invitations[S].urlKey=Q,H.invitations[S].orgId=null===(N=null===T||void 0===T?void 0:T.value)||void 0===N?void 0:N.id)});(K=H.invitations.some(function(T){return H.portal.id===T.orgId||H.trustedOrgs.some(function(S){return S.to.orgId===
T.orgId})||H.hubCollabs.some(function(S){return S.to.orgId===T.orgId})}))&&q.default.showHide(H.domNode.querySelector(".js-not-included"),K);H.invitations=H.invitations.filter(function(T){return H.portal.id!==T.orgId&&!H.trustedOrgs.some(function(S){return S.to.orgId===T.orgId})});H.isTruncated=H.invitations.length>H.maxInvitations;H.invitations=H.invitations.slice(0,H.maxInvitations).map(function(T,S){return a.__assign(a.__assign({},T),{idx:S})});I=0;H.invitations.forEach(function(T){T.notFound&&
I++;void 0===T.memberSearch&&J++});H.hideLoader();if(0===H.invitations.length)t.default.showAlert("error",H.texts.errors.invalidFile),H._primaryBtn.disabled=!0,H.domNode.querySelector(".js-file-input").value="";else{q.default.hideNode(H.domNode.querySelector(".js-choose-file"));K=0<J||0<I;var P=H.domNode.querySelector(".js-invitations");P.textContent=x.default.getString(H.texts.invitations,H.invitations.length);H._primaryBtn.disabled=!1;q.default.addRemoveClass(P,"start-collab__invitations-num--error",
K);q.default.addRemoveClass(H.domNode.querySelector(".js-file-name"),"start-collab__file-name--error",K);q.default.showHide(H.domNode.querySelector(".js-invalid-fields"),K);q.default.showHide(H.domNode.querySelector(".js-valid-orgUrl"),0===I);q.default.showHide(H.domNode.querySelector(".js-invalid-orgUrl"),0<I);q.default.showHide(H.domNode.querySelector(".js-valid-search"),0===J);q.default.showHide(H.domNode.querySelector(".js-invalid-search"),0<J);K=H.domNode.querySelector(".js-invalid-url-num");
P=H.domNode.querySelector(".js-invalid-search-num");K.textContent="".concat(I);P.textContent="".concat(J);q.default.showHide(K,0<I);q.default.showHide(P,0<J);q.default.showNode(H.domNode.querySelector(".js-file-processed"));H.toggleNextBtn()}})}})};D.prototype.getSeparator=function(C){var E=0,H="";[","," ",";","|","\t"].forEach(function(G){var F=C.split(G).length;F>E&&(E=F,H=G)});return H};D.prototype.handleEditSelectedOrg=function(){q.default.hideNode(this.selectedOrgSection);q.default.showNode(this.searchSection)};
D.prototype.clearErrors=function(){c.default.clearState([this.searchInput,this.searchError])};D.prototype.showInputError=function(C){void 0===C&&(C=this.texts.errors.selectOrg);this.searchError.textContent=C;c.default.setInvalidState(this.searchInput,this.searchError);this.selectedOrg=void 0;this._primaryBtn.disabled=!0;this.searchInput.scrollIntoView({behavior:"smooth"});this.searchInput.focus()};D.prototype.handleSelectOrg=function(){if(this.selectedOrg){var C=this.selectedOrgSection.querySelector(".js-selected-org-thumb");
this.renderOrgThumb(this.selectedOrg,C);this.selectedOrgSection.querySelector(".js-selected-org-name").textContent=this.selectedOrg.name;q.default.showNode(this.selectedOrgSection);q.default.hideNode(this.searchSection)}};D.prototype.handleSearchInput=function(){var C=this,E=this.texts.errors,H=E.yourOwnOrg,G=E.existing;E=this.searchInput.value.trim();q.default.hideNode(this.resultsList);-1<E.indexOf("http://")&&(E=E.replace("http://","https://"),this.searchInput.value=E);-1===E.indexOf("http")&&
(E="https://".concat(E));var F="https://".concat(this.portal.urlKey,".").concat(this.portal.customBaseUrl);-1<E.search(new RegExp(F,"i"))?this.showInputError(H):-1<E.indexOf("arcgis.com")?(-1===E.indexOf("http")&&(E="https://".concat(E)),H=E.indexOf("/home"),-1<H&&(E=E.substr(0,H)),this.clearErrors(),(0,k.default)({url:"".concat(E,"/sharing/rest/portals/self"),content:{f:"json"}},{disableIdentityLookup:!0}).then(function(I){if(null===I||void 0===I?0:I.name){var J=function(P){return P.some(function(T){var S=
T.from;T=T.to;return(S.orgId===C.portal.id?T.orgId:S.orgId)===I.id})},K=J(C.trustedOrgs);J=J(C.hubCollabs);K||J?C.showInputError(G):C.showOrgItem(I)}else(null===I||void 0===I?0:I.urlKey)?(C.selectedOrg=I,C._primaryBtn.disabled=!1,q.default.hideNode(C.noResults)):C.showNoResults()},function(){C.showNoResults()})):0===E.length?(q.default.hideNodes([this.resultsList,this.noResults]),q.default.showNode(this.whereLink),this.selectedOrg=void 0):this.showInputError()};D.prototype.showNoResults=function(){q.default.hideNode(this.resultsList);
q.default.showNode(this.whereLink);this.showInputError(this.texts.notFound)};D.prototype.showOrgItem=function(C){var E=this.orgOption.querySelector(".js-org-thumb");this.renderOrgThumb(C,E);this.orgOption.querySelector(".js-org-name").textContent=C.name;q.default.showNode(this.resultsList);q.default.hideNodes([this.whereLink,this.noResults]);this.selectedOrg=C;this._primaryBtn.disabled=!1};D.prototype.getIconUrl=function(C){return"https://".concat(C.portalHostname,"/sharing/rest/portals/").concat(C.id,
"/resources/").concat(C.thumbnail)};D.prototype.renderOrgThumb=function(C,E){C.thumbnail?(E.src=this.getIconUrl(C),q.default.showNode(E)):q.default.hideNode(E)};return D=a.__decorate([(0,B.default)(n.default)],D)}()})},"dojox/data/CsvStore":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/xhr dojo/_base/kernel dojo/data/util/filter dojo/data/util/simpleFetch".split(" "),function(U,M,a,b,k,f){M=M("dojox.data.CsvStore",null,{constructor:function(m){this._attributes=[];this._attributeIndexes=
{};this._dataArray=[];this._arrayOfAllItems=[];this._loadFinished=!1;m.url&&(this.url=m.url);this._csvData=m.data;m.label?this.label=m.label:""===this.label&&(this.label=void 0);this._storeProp="_csvStore";this._idProp="_csvId";this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._loadInProgress=!1;this._queuedFetches=[];this.identifier=m.identifier;""===this.identifier?delete this.identifier:this._idMap={};"separator"in m&&(this.separator=m.separator);"urlPreventCache"in m&&
(this.urlPreventCache=m.urlPreventCache?!0:!1)},url:"",label:"",identifier:"",separator:",",urlPreventCache:!1,_assertIsItem:function(m){if(!this.isItem(m))throw Error(this.declaredClass+": a function was passed an item argument that was not an item");},_getIndex:function(m){m=this.getIdentity(m);this.identifier&&(m=this._idMap[m]);return m},getValue:function(m,h,u){this._assertIsItem(m);var r=u;if("string"===typeof h)h=this._attributeIndexes[h],null!=h&&(r=this._dataArray[this._getIndex(m)][h]||
u);else throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");return r},getValues:function(m,h){return(m=this.getValue(m,h))?[m]:[]},getAttributes:function(m){this._assertIsItem(m);var h=[];m=this._dataArray[this._getIndex(m)];for(var u=0;u<m.length;u++)""!==m[u]&&h.push(this._attributes[u]);return h},hasAttribute:function(m,h){this._assertIsItem(m);if("string"===typeof h)return h=this._attributeIndexes[h],m=this._dataArray[this._getIndex(m)],"undefined"!==
typeof h&&h<m.length&&""!==m[h];throw Error(this.declaredClass+": a function was passed an attribute argument that was not a string");},containsValue:function(m,h,u){var r=void 0;"string"===typeof u&&(r=k.patternToRegExp(u,!1));return this._containsValue(m,h,u,r)},_containsValue:function(m,h,u,r){m=this.getValues(m,h);for(h=0;h<m.length;++h){var e=m[h];if("string"===typeof e&&r)return null!==e.match(r);if(u===e)return!0}return!1},isItem:function(m){if(m&&m[this._storeProp]===this)if(m=m[this._idProp],
this.identifier){if(this._dataArray[this._idMap[m]])return!0}else if(0<=m&&m<this._dataArray.length)return!0;return!1},isItemLoaded:function(m){return this.isItem(m)},loadItem:function(m){},getFeatures:function(){return this._features},getLabel:function(m){if(this.label&&this.isItem(m))return this.getValue(m,this.label)},getLabelAttributes:function(m){return this.label?[this.label]:null},_fetchItems:function(m,h,u){var r=this,e=function(n,q){var l=null;if(n.query){var c;l=[];var d=n.queryOptions?
n.queryOptions.ignoreCase:!1,w={};for(c in n.query){var t=n.query[c];"string"===typeof t&&(w[c]=k.patternToRegExp(t,d))}for(d=0;d<q.length;++d){var z=!0,x=q[d];for(c in n.query)t=n.query[c],r._containsValue(x,c,t,w[c])||(z=!1);z&&l.push(x)}}else l=q.slice(0,q.length);h(l,n)};if(this._loadFinished)e(m,this._arrayOfAllItems);else if(""!==this.url)if(this._loadInProgress)this._queuedFetches.push({args:m,filter:e});else{this._loadInProgress=!0;var v=a.get({url:r.url,handleAs:"text",preventCache:r.urlPreventCache});
v.addCallback(function(n){try{r._processData(n),e(m,r._arrayOfAllItems),r._handleQueuedFetches()}catch(q){u(q,m)}});v.addErrback(function(n){r._loadInProgress=!1;if(u)u(n,m);else throw n;});var g=null;m.abort&&(g=m.abort);m.abort=function(){var n=v;n&&-1===n.fired&&(n.cancel(),n=null);g&&g.call(m)}}else if(this._csvData)try{this._processData(this._csvData),this._csvData=null,e(m,this._arrayOfAllItems)}catch(n){u(n,m)}else{var p=Error(this.declaredClass+": No CSV source data was provided as either URL or String data input.");
if(u)u(p,m);else throw p;}},close:function(m){},_getArrayOfArraysFromCsvFileContents:function(m){if(U.isString(m)){var h=RegExp("^\\s+","g"),u=RegExp("\\s+$","g"),r=RegExp('""',"g"),e=[],v=this._splitLines(m);for(m=0;m<v.length;++m){var g=v[m];if(0<g.length){g=g.split(this.separator);for(var p=0;p<g.length;){var n=g[p].replace(h,""),q=n.replace(u,""),l=q.charAt(0),c=q.charAt(q.length-1),d=q.charAt(q.length-2),w=q.charAt(q.length-3);if(2===q.length&&'""'==q)g[p]="";else if('"'==l&&('"'!=c||'"'==c&&
'"'==d&&'"'!=w)){if(p+1===g.length)return;g[p]=n+this.separator+g[p+1];g.splice(p+1,1)}else'"'==l&&'"'==c&&(q=q.slice(1,q.length-1),q=q.replace(r,'"')),g[p]=q,p+=1}e.push(g)}}this._attributes=e.shift();for(m=0;m<this._attributes.length;m++)this._attributeIndexes[this._attributes[m]]=m;this._dataArray=e}},_splitLines:function(m){var h=[],u,r="",e=!1;for(u=0;u<m.length;u++){var v=m.charAt(u);switch(v){case '"':e=!e;r+=v;break;case "\r":e?r+=v:(h.push(r),r="",u<m.length-1&&"\n"==m.charAt(u+1)&&u++);
break;case "\n":e?r+=v:(h.push(r),r="");break;default:r+=v}}""!==r&&h.push(r);return h},_processData:function(m){this._getArrayOfArraysFromCsvFileContents(m);this._arrayOfAllItems=[];if(this.identifier&&void 0===this._attributeIndexes[this.identifier])throw Error(this.declaredClass+": Identity specified is not a column header in the data set.");for(m=0;m<this._dataArray.length;m++){var h=m;this.identifier&&(h=this._dataArray[m][this._attributeIndexes[this.identifier]],this._idMap[h]=m);this._arrayOfAllItems.push(this._createItemFromIdentity(h))}this._loadFinished=
!0;this._loadInProgress=!1},_createItemFromIdentity:function(m){var h={};h[this._storeProp]=this;h[this._idProp]=m;return h},getIdentity:function(m){return this.isItem(m)?m[this._idProp]:null},fetchItemByIdentity:function(m){var h=m.scope?m.scope:b.global;if(this._loadFinished){var u=this._createItemFromIdentity(m.identity);this.isItem(u)||(u=null);m.onItem&&m.onItem.call(h,u)}else{var r=this;if(""!==this.url)this._loadInProgress?this._queuedFetches.push({args:m}):(this._loadInProgress=!0,u=a.get({url:r.url,
handleAs:"text"}),u.addCallback(function(e){try{r._processData(e);var v=r._createItemFromIdentity(m.identity);r.isItem(v)||(v=null);m.onItem&&m.onItem.call(h,v);r._handleQueuedFetches()}catch(g){m.onError&&m.onError.call(h,g)}}),u.addErrback(function(e){this._loadInProgress=!1;m.onError&&m.onError.call(h,e)}));else if(this._csvData)try{r._processData(r._csvData),r._csvData=null,u=r._createItemFromIdentity(m.identity),r.isItem(u)||(u=null),m.onItem&&m.onItem.call(h,u)}catch(e){m.onError&&m.onError.call(h,
e)}}},getIdentityAttributes:function(m){return this.identifier?[this.identifier]:null},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var m=0;m<this._queuedFetches.length;m++){var h=this._queuedFetches[m],u=h.filter,r=h.args;u?u(r,this._arrayOfAllItems):this.fetchItemByIdentity(h.args)}this._queuedFetches=[]}}});U.extend(M,f);return M})},"arcgisonline/pages/components/Collaborations/CollabInvitationCard":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);M.default=function(m){var h=m.invitation,u=m.checked,r=m.portal,e=m.onUpdate,v=m.onToggle;m=a.__assign(a.__assign(a.__assign({},f.default.common),f.default.collaborationsTab.online.orgs),f.default.collaborationsTab.online.orgs.startCollabOverlay);var g=(0,k.useState)(!1),p=g[0],n=g[1];g=(0,k.useState)("");var q=g[0],l=g[1];g=(0,k.useState)(!1);var c=g[0],d=g[1];g=(0,k.useState)(!0);var w=g[0],t=g[1],z=(0,k.useRef)(null),
x=(0,k.useRef)(null);(0,k.useEffect)(function(){l(h.url);d(h.memberSearch)},[]);(0,k.useEffect)(function(){w?t(!1):p?x.current.focus():z.current.focus()},[p]);g=function(G){l(G.target.value)};var y=function(G){d(G.target.checked)},A=function(G){G.preventDefault();G.stopPropagation();p||n(!0)},B=function(){l(h.url);d(h.memberSearch);n(!1)},D=function(){n(!1);e({url:q,memberSearch:c,idx:h.idx})},C=function(G){G.stopPropagation();v(h,G.target.checked)},E=h.url?m.editInviteFor.replace("${url}",h.url):
m.editInviteNoUrl,H=h.url?m.selectInvite.replace("${url}",h.url):m.selectInviteNoUrl;return(0,b.h)(b.Fragment,null,!p&&(0,b.h)("button",{ref:z,"aria-label":E,class:"btn-link btn-link-darker-gray text-left leader-1 collab-invite-card__wrapper",onClick:A},(0,b.h)("div",{class:"padding-1 flex collab-invitation-card"},(0,b.h)("div",{class:"flex full-width"},(0,b.h)("div",{class:"flex-1 flex flex-align-center"},(0,b.h)("input",{type:"checkbox","aria-label":H,class:"margin-right-1",onClick:C,checked:u}),
(0,b.h)("div",null,(0,b.h)("div",{class:"flex avenir-demi"},(!h.url||void 0===h.memberSearch||h.notFound)&&(0,b.h)("div",{class:"start-collab__error-icon margin-right-half"},(0,b.h)("calcite-icon",{icon:"exclamation-mark-circle",scale:"s"})),h.url),void 0!==h.memberSearch&&(0,b.h)("div",{class:"leader-quarter"},(h.memberSearch?m.grantSearch:m.noSearch).replace("${orgName}",r.name)),void 0===h.memberSearch&&(0,b.h)("div",{class:"leader-quarter"},m.specifyMemberSearch))),(0,b.h)("div",{class:"flex-0"},
(0,b.h)("calcite-icon",{icon:"pencil",scale:"s"}))))),p&&(0,b.h)("div",{class:"padding-1 flex leader-1 collab-invitation-card"},(0,b.h)("div",{class:"full-width"},(0,b.h)("div",{class:"trailer-1 avenir-demi"},m.editInvite),(0,b.h)("label",null,(0,b.h)("div",null,m.enterUrl),(0,b.h)("input",{ref:x,type:"text",value:q,onChange:g,class:"full-width"})),(0,b.h)("label",{class:"flex collab-invite__toggle-container"},(0,b.h)("div",{class:"flex-1"},m.grantSearch.replace("${orgName}",r.name)),(0,b.h)("calcite-switch",
{checked:c,oncalciteSwitchChange:y})),(0,b.h)("div",{class:"flex"},(0,b.h)("div",{class:"flex-1"}),(0,b.h)("div",null,(0,b.h)("button",{onClick:B,class:"btn btn-clear margin-right-half"},m.cancel),(0,b.h)("button",{onClick:D,class:"btn"},m.update))))))}})},"arcgisonline/pages/organization/widgets/settings/PendingCollabOverlay":function(){define("require exports tslib esri/Evented dojo/topic dojo/string dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!./templates/AccessConfirm.html dojo/text!./templates/PendingCollabOverlay.html ./PendingCollabRequest arcgisonline/pages/dijit/Overlay arcgisonline/pages/dijit/OverlayConfirm arcgisonline/pages/utils/dom arcgisonline/pages/components/Collaborations/collab-service arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.i18n=m.default;this.texts=a.__assign({},h.default.collaborationsTab.online.orgs.pendingCollabOverlay);this.title=this.texts.title;
this.overlayContents=f.default.substitute(r.default,{i18n:this.texts});this.maxWidth=650;this.background="white";this.constrain=!0;this.closeOnScrimClick=!1;this.requests=[]}l.prototype.postCreate=function(){var c=this;this.inherited(arguments);this.receivedRequests=this.domNode.querySelector(".js-received-requests");this.sentRequests=this.domNode.querySelector(".js-sent-requests");p.default.hideNode(this._primaryBtn);this._cancelBtn.textContent=this.i18n.common.close;this.renderOrgs();this.own(k.default.subscribe("pending-collab/close",
function(){c.close()}))};l.prototype.updateTrustedOrgs=function(c){this.trustedOrgs=c;this.renderOrgs()};l.prototype.renderOrgs=function(){var c=this,d=!1,w=!1;this.requests.forEach(function(z){return z.destroy()});this.requests=[];var t=this.trustedOrgs.filter(function(z){return-1===z.from.established||-1===z.to.established});0===t.length&&this.close();t.forEach(function(z){var x=z.from,y=z.to;z=new e.default({trustedOrg:z,portal:c.portal});-1===x.established?(d=!0,c.receivedRequests.appendChild(z.domNode)):
-1===y.established&&(w=!0,c.sentRequests.appendChild(z.domNode));c.requests.push(z);c.own(z.on("revoke",function(A){return c.handleRevoke(A)}),z.on("decline",function(A){return c.handleRevoke(A)}),z.on("accept",function(A){return c.handleAccept(A)}))});d||p.default.hideNode(this.receivedRequests);w||p.default.hideNode(this.sentRequests);d&&w&&this.receivedRequests.classList.add("trailer-1")};l.prototype.handleAccept=function(c){var d=this,w=this.texts.accessConfirm,t=w.title,z=w.description,x=w.noSearch,
y=w.grantAccess;w=w.doNotGrant;z=f.default.substitute(c.trustedOrg.to.usersAccess?z:x,{orgName:c.getOrgName()});t=new g.default({title:t,description:z,confirmText:y,cancelText:w,showClose:!0,isActions:!0,templateString:u.default});this._overlay.insertBefore(t.domNode,this._overlay.firstChild);t.show().then(function(A){"onClose"!==A&&n.default.add({orgId:c.trustedOrg.to.orgId,searchUsers:"onOk"===A}).then(function(){d.emit("updated");k.default.publish("collaboration/accepted");d.renderOrgs()})})};
l.prototype.handleRevoke=function(c){var d=this;n.default.remove(c.trustedOrg.to.orgId).then(function(){d.emit("updated")})};return l=a.__decorate([(0,q.default)(v.default,b.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/PendingCollabRequest":function(){define("require exports tslib esri/request esri/Evented dojo/on dojo/text!./templates/PendingCollabRequest.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/dom arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=m.default;this.i18n=a.__assign({},h.default.collaborationsTab.online.orgs.pendingCollabOverlay)}p.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};
p.prototype.getOrgName=function(){return this.orgName.textContent};p.prototype.render=function(){var n=this,q=this.trustedOrg,l=q.from,c=q.to;-1===l.established?e.default.showNodes([this.acceptBtn,this.declineBtn]):(e.default.showNode(this.revokeBtn),l.usersAccess&&e.default.showNode(this.capabilities));this.getOrg(c.orgId).then(function(d){d&&(d.thumbnail?(n.thumbImg.src="https://".concat(d.portalHostname,"/sharing/rest/portals/").concat(d.id,"/resources/").concat(d.thumbnail),e.default.showNode(n.thumbImg)):
e.default.showNode(n.thumbPlaceholder),n.orgName.textContent=d.name||c.name)},function(){e.default.showNode(n.thumbPlaceholder);n.orgName.textContent=c.name})};p.prototype.addEventListeners=function(){var n=this;this.own((0,f.default)(this.revokeBtn,"click",function(){return n.emit("revoke",n)}),(0,f.default)(this.declineBtn,"click",function(){return n.emit("decline",n)}),(0,f.default)(this.acceptBtn,"click",function(){return n.emit("accept",n)}))};p.prototype.getOrg=function(n){return(0,b.default)({url:"https://".concat(v.default.portalHostname,
"/sharing/rest/portals/").concat(n),content:{f:"json"}},{disableIdentityLookup:!0})};return p=a.__decorate([(0,g.default)(r.default,u.default,k.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/TrustedOrgItem":function(){define("require exports tslib esri/Evented esri/request dojo/on dojo/Deferred dojo/text!./templates/TrustedOrgItem.html dojo/i18n!../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup arcgisonline/pages/utils/dom arcgisonline/pages/utils/promises arcgisonline/pages/utils/icons arcgisonline/pages/dijit/Dropdown/Dropdown arcgisonline/pages/components/Collaborations/collab-service arcgisonline/pages/dijit/InfoTooltip arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);return function(){function z(x,y){this.templateString=
h.default;this.i18n=a.__assign(a.__assign(a.__assign({},u.default.common),u.default.collaborationsTab.online),u.default.collaborationsTab.online.orgs);this.icons=q.default;this.hasGroupsAllowExternal=!1;this.coordinators=[]}z.prototype.postCreate=function(){this.inherited(arguments);this.render()};z.prototype.destroy=function(){var x;g.default.close(this.tooltipDlg);null===(x=this.tooltipDlg)||void 0===x?void 0:x.destroy()};z.prototype.render=function(){var x=this,y=this.partnerOrg.id;n.default.eachAlways({portal:this.getOrg(y),
orgCoordinators:this.portalUser.userRole.canViewUsers?c.default.getCoordinatorsByOrg(y):null}).then(function(A){var B,D,C=(null===(B=null===A||void 0===A?void 0:A.orgCoordinators)||void 0===B?void 0:B.value)||{};A=(null===(D=null===A||void 0===A?void 0:A.portal)||void 0===D?void 0:D.value)||{};D=C.users||[];x.coordinators=D;(null===A||void 0===A?0:A.thumbnail)?(x.thumbImg.src="https://".concat(A.portalHostname,"/sharing/rest/portals/").concat(A.id,"/resources/").concat(A.thumbnail),p.default.showNode(x.thumbImg)):
p.default.showNode(x.thumbPlaceholder);x.orgName.textContent=x.partnerOrg.name||(null===A||void 0===A?void 0:A.name);x.renderInfoTooltip(D);D=new l.default({options:a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray([{text:x.i18n.details,value:"details"}],D.length&&x.hasGroupsAllowExternal&&"active"===x.partnerOrg.state?[{text:x.i18n.addToGroups,value:"addToGroups"}]:[],!0),"active"===x.partnerOrg.state?[{text:x.i18n.suspendCollaboration,value:"suspend"}]:[],!0),"suspended"===x.partnerOrg.state?
[{text:x.i18n.resumeCollaboration,value:"resume"}]:[],!0),[{text:x.i18n.endCollaboration,value:"delete"}],!1),toggleLabel:x.icons["ellipsis-f"]["16"],ariaLabel:x.i18n.actions.replace("${name}",x.partnerOrg.name||(null===A||void 0===A?void 0:A.name))},x.domNode.querySelector(".js-actions"));x.own(D.on("change",function(E){x.emit(E.value)}));"deleting"===x.partnerOrg.state?(x.domNode.classList.add("trusted-org-card--ending"),D.domNode.classList.add("visibility-hidden"),p.default.showNode(x.endingLabel)):
("deleteFailed"===x.partnerOrg.state&&p.default.showNode(x.endFailedEl),"suspended"===x.partnerOrg.state&&(x.suspendedLearnLink.href="".concat(x.portal.helpBase).concat(x.portal.helpMap.m["120002847"]||""),x.domNode.classList.add("trusted-org-card--suspended"),x.suspendedLabel.classList.remove("visibility-hidden"),x.tooltipDlg=new v.default({id:"suspended-".concat(x.partnerOrg.id),class:"popover suspended-collab-popover",title:x.i18n.suspended,content:x.tooltipEl}),p.default.showNode(x.tooltipEl),
x.own((0,f.default)(x.suspendedBtn,"click",function(){g.default.open({popup:x.tooltipDlg,orient:["below-centered","above-centered"],around:x.suspendedBtn})}),(0,f.default)(x.closeTooltipBtn,"click",function(){g.default.close(x.tooltipDlg)}))))});this.getOrg(this.partnerOrg.id).then(function(A){})};z.prototype.renderInfoTooltip=function(x){var y;null===(y=this.infoTooltip)||void 0===y?void 0:y.destroy();y=document.createElement("div");this.tooltipContainer.append(y);this.infoTooltip=new d.default({title:this.i18n.coordinators,
content:'\x3cul class\x3d"padding-left-2 leader-0 trailer-0"\x3e\x3cli\x3e'.concat(x.map(function(A){return"".concat(A.fullName)}).join("\x3c/li\x3e\x3cli\x3e"),"\x3c/li\x3e\x3c/ul\x3e"),calciteIcon:"group",infoText:x.length,buttonAriaLabel:"".concat(this.i18n.coordinators," ").concat(x.length),orient:["below-centered","above-centered"],popoverClass:"coordinators-tooltip",hideCloseBtn:!0,disabled:0===x.length},y)};z.prototype.getOrg=function(x){var y=new m.default;(0,k.default)({url:"https://".concat(w.default.portalHostname,
"/sharing/rest/portals/").concat(x),content:{f:"json"}},{disableIdentityLookup:!0}).then(function(A){y.resolve(A)},function(){y.resolve(void 0)});return y};return z=a.__decorate([(0,t.default)(e.default,r.default,b.default)],z)}()})},"arcgisonline/pages/dijit/Dropdown/Dropdown":function(){define("require exports tslib esri/Evented dojo/text!./Dropdown.html dijit/_TemplatedMixin dijit/_WidgetBase ./DropdownOption arcgisonline/pages/utils/dropdown arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=k.default;this.ariaLabel=this.buttonClasses=this.toggleLabel=""}v.prototype.postCreate=function(){this.inherited(arguments);this.render();(0,u.dropdown)()};v.prototype.updateToggleLabel=function(g){this.toggleBtn.innerHTML=this.toggleLabel=g};v.prototype.show=
function(){r.default.showNode(this.domNode)};v.prototype.hide=function(){r.default.hideNode(this.domNode)};v.prototype.render=function(){var g=this;this.options.forEach(function(p){p=new h.default(p);g.optionsEl.appendChild(p.domNode);g.own(p.on("click",function(n){g.emit("change",n)}))})};return v=a.__decorate([(0,e.default)(m.default,f.default,b.default)],v)}()})},"arcgisonline/pages/dijit/Dropdown/DropdownOption":function(){define("require exports tslib esri/Evented dojo/text!./DropdownOption.html dojo/on dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString=k.default;this.value=this.text=""}r.prototype.postCreate=function(){this.inherited(arguments);this.addEventListeners()};r.prototype.addEventListeners=function(){var e=this;this.own((0,f.default)(this.domNode,"click",function(){e.emit("click",{value:e.value})}))};return r=a.__decorate([(0,u.default)(h.default,
m.default,b.default)],r)}()})},"arcgisonline/pages/utils/dropdown":function(){define(["require","exports","tslib","calcite-web/js/calcite-web","dojo/query"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});M.dropdown=void 0;b=a.__importDefault(b);k=a.__importDefault(k);M.dropdown=function(){b.default.dropdown();(0,k.default)(".dropdown-link").on("mouseover",function(f){var m;null===(m=f.target)||void 0===m?void 0:m.focus()})}})},"arcgisonline/pages/organization/widgets/settings/CollabDetailsOverlay":function(){define("require exports tslib preact dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/topic arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/dom arcgisonline/pages/components/Collaborations/CollabDetails arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.i18n=k.default;this.texts=a.__assign(a.__assign(a.__assign({},f.default.collaborationsTab.online),f.default.collaborationsTab.online.orgs),f.default.collaborationsTab.online.orgs.detailsOverlay);this.overlayContents='\x3cdiv class\x3d"js-collab-details collab-details__content"\x3e\x3c/div\x3e';
this.maxWidth=600;this.constrain=!0;this.closeOnScrimClick=!1;this.coordinators=[];this.hasGroupsAllowExternal=!1}v.prototype.postMixInProperties=function(){this.inherited(arguments);this.title=this.texts.title.replace("${orgName}",this.collaboration.to.name)};v.prototype.postCreate=function(){var g=this;this.inherited(arguments);(0,b.render)((0,b.h)(r.default,{collaboration:this.collaboration,coordinators:this.coordinators,portal:this.portal,portalUser:this.portalUser,texts:this.texts,hasGroupsAllowExternal:this.hasGroupsAllowExternal}),
this.domNode.querySelector(".js-collab-details"));u.default.hideNode(this._primaryBtn);this._cancelBtn.textContent=k.default.common.close;this.own(m.default.subscribe("collab-details/close",function(){return g.close()}))};return v=a.__decorate([(0,e.default)(h.default)],v)}()})},"arcgisonline/pages/components/Collaborations/CollabDetails":function(){define("require exports tslib preact ./collab-service ./CollabCoordinators ./CollabGroups arcgisonline/pages/utils/formatters arcgisonline/pages/utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(r){var e=r.collaboration,v=r.coordinators,g=r.portal,p=r.portalUser,n=r.hasGroupsAllowExternal,q=r.texts,l=e.to,c=e.from;r={id:e.to.orgId,name:e.to.name,coordinators:v};return(0,b.h)("div",null,(0,b.h)("div",{class:"trailer-1"},(0,b.h)("h3",{class:"font-size-0 avenir-demi trailer-quarter"},
q.startDate),(0,b.h)("p",{class:"font-size--1"},h.default.fullDate(l.established))),(0,b.h)("div",{class:"trailer-1"},(0,b.h)("h3",{class:"font-size-0 avenir-demi trailer-quarter"},q.memberVis),(0,b.h)("div",null,(0,b.h)("div",{class:"collab-details__switch-container flex flex-align-center"},(0,b.h)("div",{class:"flex-1 margin-right-2"},q.grantSearch.replace("${orgName}",g.name)),(0,b.h)("calcite-switch",{class:"flex-0",checked:c.usersAccess,oncalciteSwitchChange:function(){c.usersAccess=!c.usersAccess;
k.default.update(l.orgId,{searchUsers:c.usersAccess}).then(function(){u.default.showAlert("success",q.updateSuccess)},function(){u.default.showAlert("error",q.updateError)})}}))),l.usersAccess&&(0,b.h)("p",{class:"leader-quarter font-size--1"},q.otherMembersAccess.replace("${orgName}",l.name))),p.userRole.canViewUsers()&&(0,b.h)(f.default,{texts:q,coordinators:v,portal:g,partnerOrg:r,collaboration:e,hasGroupsAllowExternal:n}),(0,b.h)(m.default,{texts:q,portal:g,collaboration:e,orgId:l.orgId,orgName:l.name}))}})},
"arcgisonline/pages/components/Collaborations/CollabCoordinators":function(){define("require exports tslib preact preact/hooks dojo/topic arcgisonline/pages/components/MemberThumb arcgisonline/pages/organization/widgets/settings/AddCoordinatorsToGroupsOverlay".split(" "),function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);h=a.__importDefault(h);M.default=function(u){var r=u.texts,e=u.coordinators,v=u.portal,g=u.partnerOrg,p=u.collaboration;u=u.hasGroupsAllowExternal;
var n=(0,k.useState)(!0),q=n[0],l=n[1];n=function(){f.default.publish("collab-details/close");setTimeout(function(){(new h.default({portal:v,partnerOrg:g})).open()},100)};return(0,b.h)("div",{class:"trailer-1 accordion-section ".concat(q?"is-active":"")},(0,b.h)("h3",{class:"font-size-0 avenir-demi trailer-0 flex flex-align-center accordion-title collab-detail__heading"},(0,b.h)("button",{"aria-expanded":q,onClick:function(){l(!q)},class:"btn-link btn-link-darker-gray full-width padding-trailer-quarter text-left avenir-demi accordion-title__btn"},
(0,b.h)("calcite-icon",{class:"margin-right-half margin-left-0 icon-inline",scale:"m",icon:"chevron-down"}),r.coordinators)),(0,b.h)("div",{class:"accordion-content"},(0,b.h)("p",{class:"trailer-half font-size--1"},r.coordinatorsDesc),!!e.length&&u&&(0,b.h)("button",{class:"trailer-half btn btn-clear",onClick:n,disabled:"active"!==p.to.state},r.addCoordinators),(0,b.h)("div",null,e.map(function(c){return(0,b.h)("div",{key:c.username,class:"flex flex-align-center collab-group-row"},(0,b.h)(m.MemberThumb,
{member:c,showName:!0}))}))))}})},"arcgisonline/pages/organization/widgets/settings/AddCoordinatorsToGroupsOverlay":function(){define("require exports tslib preact calcite-web/js/calcite-web dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!./templates/AddCoordinatorsToGroupsOverlay.html dojo/string dojo/on dojo/promise/all dojo/topic arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/dom arcgisonline/sharing/util arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/icons arcgisonline/pages/dijit/SearchInput arcgisonline/pages/components/Collaborations/AddCoordinatorsToGroups/SelectCoordinators arcgisonline/pages/components/Collaborations/AddCoordinatorsToGroups/SelectGroups arcgisonline/pages/components/SortDropdown arcgisonline/pages/dijit/Pagination arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);
A=a.__importDefault(A);return function(){function B(D,C){this.title=m.default.collaborationsTab.online.orgs.coordinatorsGroupsOverlay.title;this.i18n=f.default;this.texts=a.__assign(a.__assign({},m.default.common),m.default.collaborationsTab.online.orgs.coordinatorsGroupsOverlay);this.overlayContents=u.default.substitute(h.default,{texts:this.texts,groupIcon:c.default.group["32"]});this.maxWidth=800;this.constrain=!0;this.closeOnScrimClick=!1;this.selectedCoordinators=[];this.groups=[];this.selectedGroups=
[];this.step=1;this.topicPrefix="add-coords-groups-";this.searchTerm="";this.sortField="title";this.sortOrder="asc";this.pageStart=1;this.handleCoordinatorsToggle=this.handleCoordinatorsToggle.bind(this);this.handleGroupsToggle=this.handleGroupsToggle.bind(this)}B.prototype.postCreate=function(){var D=this;this.inherited(arguments);this.own((0,r.default)(this.backBtn,"click",function(){D.renderStep(1)}),v.default.subscribe("".concat(this.topicPrefix,"search/update"),function(C){D.searchTerm=C;D.getGroups().then(function(){D.renderGroups()})}),
v.default.subscribe("".concat(this.topicPrefix,"sort/update"),function(C){D.sortField=C.property;D.sortOrder=C.ascending?"asc":"desc";D.getGroups().then(function(){D.renderGroups()})}),v.default.subscribe("".concat(this.topicPrefix,"pagination/page"),function(C){D.pageStart=C.start;D.getGroups().then(function(){D.renderGroups()})}))};B.prototype.open=function(){var D=this;this.inherited(arguments);this._primaryBtn.textContent=this.texts.next;this.backBtn.textContent=this.texts.back;this._primaryBtn.disabled=
!0;this.domNode.querySelector(".js-desc").innerHTML="".concat(this.texts.groupsDesc," ").concat(u.default.substitute(this.texts.groupsNote,{linkStart:'\x3ca href\x3d"groups.html?membershipaccess\x3dorg" target\x3d"_blank"\x3e',linkEnd:"\x3c/a\x3e"}));this.pagination=new x.default({start:1,num:40,hideDropdown:!0,topic:this.topicPrefix},this.domNode.querySelector(".js-groups-pagination"));(new d.default({topic:this.topicPrefix,placeholder:this.texts.searchGroups,cssTheme:"control-bar__search-input"},
this.domNode.querySelector(".js-group-search-input"))).domNode.classList.add("groups-search-bar__input-wrapper");(0,b.render)((0,b.h)(z.default,{options:[{property:"modified",label:f.default.sortDropdown.modified,ascending:!1,active:!0},{property:"created",label:f.default.sortDropdown.created,ascending:!0},{property:"title",label:f.default.sortDropdown.title,ascending:!0}],topic:this.topicPrefix}),this.domNode.querySelector(".js-group-sort"));setTimeout(function(){k.default.dropdown()});this.renderCoordinators();
this.renderStep(1);this.getGroups().then(function(){D.groups.length||(p.default.hideNode(D.domNode.querySelector(".js-groups-view")),p.default.showNode(D.domNode.querySelector(".js-no-groups")));D.renderGroups();D.renderStep(1)})};B.prototype.handlePrimary=function(){1===this.step?(this.renderStep(2),this.renderGroups()):this.batchAssignGroups()};B.prototype.batchAssignGroups=function(){var D=this;this.showLoader();(0,e.default)(this.selectedGroups.map(function(C){return D.assignUsers(C)})).then(function(C){D.hideLoader();
var E=[];C.forEach(function(H){var G;if(null===(G=null===H||void 0===H?void 0:H.notAdded)||void 0===G?0:G.length)E=a.__spreadArray(a.__spreadArray([],E,!0),(null===H||void 0===H?void 0:H.notAdded)||[],!0)});E.length?l.default.showAlert("warning",D.texts.notAdded):l.default.showAlert("success",D.texts.success);D.close()})};B.prototype.assignUsers=function(D){return n.default.request({url:"".concat(A.default.restBaseUrl,"community/groups/").concat(D.id,"/addUsers"),content:{users:this.selectedCoordinators.filter(function(C){return!D.coordinators.some(function(E){return E.username===
C.username})}).map(function(C){return C.username}).join(", ")}},{usePost:!0})};B.prototype.getGroups=function(){var D=this;return n.default.request({url:"".concat(A.default.restBaseUrl,"community/groups"),content:{num:40,sortField:this.sortField,sortOrder:this.sortOrder,start:this.pageStart,q:"".concat(this.searchTerm," orgid:").concat(this.portal.id,' -membershipaccess:"org"')}}).then(function(C){if(C){D.pagination.render(C);var E=C.start+C.num-1;E>C.total&&(E=C.total);D.domNode.querySelector(".js-groups-range").textContent=
q.default.getPageRangeString({start:0===C.total?0:C.start,end:E,total:C.total},D.texts.groupsPageRange);D.groups=C.results}return Promise.all(D.groups.map(function(H){return D.getGroupMembers(H.id)}))})};B.prototype.getGroupMembers=function(D){var C=this;return new Promise(function(E,H){n.default.request({url:"".concat(A.default.restBaseUrl,"community/groups/").concat(D,"/userlist"),content:{orgIds:"".concat(C.partnerOrg.id)}}).then(function(G){C.groups.forEach(function(F){F.id===D&&(F.coordinators=
G.users.filter(function(I){return C.partnerOrg.coordinators.some(function(J){return J.username===I.username})}))});E(G.users||[])},function(){E([])})})};B.prototype.renderStep=function(D){var C=this.domNode.querySelector(".js-coordinators"),E=this.domNode.querySelector(".js-groups"),H=this.domNode.querySelector(".js-group-bar");this.step=D;p.default.showHide(C,1===D);p.default.showHide(this.backBtn,2===D);p.default.showHide(E,2===D);p.default.showHide(H,2===D);this._primaryBtn.textContent=1===D?this.texts.next:
this.texts.save};B.prototype.handleCoordinatorsToggle=function(D){var C=D.coordinator;D.selected?this.selectedCoordinators.push(C):this.selectedCoordinators=this.selectedCoordinators.filter(function(E){return E.username!==C.username});this._primaryBtn.disabled=0===this.selectedCoordinators.length;this.renderCoordinators()};B.prototype.handleGroupsToggle=function(D){var C=D.group;D.selected?this.selectedGroups.push(C):this.selectedGroups=this.selectedGroups.filter(function(E){return E.id!==C.id});
this.renderGroups()};B.prototype.renderGroups=function(){var D=this;this.groups.forEach(function(C){var E=[];C.coordinators.forEach(function(H){D.selectedCoordinators.some(function(G){return G.username===H.username})&&E.push(H.fullName)});C.coordinatorsInGroup=E});(0,b.render)((0,b.h)(t.default,{selectedGroups:this.selectedGroups,selectedCoordinators:this.selectedCoordinators,groups:this.groups,portal:this.portal,onChange:this.handleGroupsToggle}),this.domNode.querySelector(".js-groups-wrapper"))};
B.prototype.renderCoordinators=function(){(0,b.render)((0,b.h)(w.default,{partnerOrg:this.partnerOrg,selectedCoordinators:this.selectedCoordinators,onChange:this.handleCoordinatorsToggle}),this.domNode.querySelector(".js-coordinators"))};return B=a.__decorate([(0,y.default)(g.default)],B)}()})},"arcgisonline/pages/components/Collaborations/AddCoordinatorsToGroups/SelectCoordinators":function(){define("require exports tslib preact dojo/i18n!../../../../nls/org-settings ./SelectCoordinator".split(" "),
function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);M.default=function(m){var h=m.partnerOrg,u=m.selectedCoordinators,r=m.onChange;m=a.__assign({},k.default.collaborationsTab.online.orgs.coordinatorsGroupsOverlay);return(0,b.h)("div",null,(0,b.h)("p",{class:"font-size--1"},m.coordinatorsDesc.replace("${orgName}",h.name)),(0,b.h)("div",null,h.coordinators.map(function(e){var v=u.some(function(g){return g.username===e.username});return(0,b.h)(f.default,
{key:e.username,coordinator:e,selected:v,onToggle:r})})))}})},"arcgisonline/pages/components/Collaborations/AddCoordinatorsToGroups/SelectCoordinator":function(){define(["require","exports","preact","arcgisonline/pages/components/MemberThumb"],function(U,M,a,b){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(k){var f=k.coordinator,m=k.selected,h=k.onToggle;return(0,a.h)("label",{class:"trailer-0 flex flex-align-center checkbox-row ".concat(m?"checkbox-row--selected":"")},(0,a.h)(b.MemberThumb,
{member:f,showName:!0}),(0,a.h)("div",{class:"flex-1"}),(0,a.h)("input",{type:"checkbox",class:"flex-0",checked:m,onClick:function(u){h({coordinator:f,selected:!m})}}))}})},"arcgisonline/pages/components/Collaborations/AddCoordinatorsToGroups/SelectGroups":function(){define("require exports tslib preact dojo/i18n!../../../../nls/org-settings ./SelectGroup".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);M.default=function(m){var h=
m.groups,u=m.selectedGroups,r=m.selectedCoordinators,e=m.portal,v=m.onChange;a.__assign({},k.default.collaborationsTab.online.orgs.coordinatorsGroupsOverlay);return(0,b.h)("div",null,h.map(function(g){var p=u.some(function(n){return n.id===g.id});return(0,b.h)(f.default,{key:g.id,group:g,selected:p||0<g.coordinatorsInGroup.length,indeterminate:0<g.coordinatorsInGroup.length&&g.coordinatorsInGroup.length<r.length&&!p,selectedCoordinators:r,portal:e,onToggle:v})}))}})},"arcgisonline/pages/components/Collaborations/AddCoordinatorsToGroups/SelectGroup":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/organization/widgets/GroupIcon arcgisonline/pages/dijit/InfoTooltip arcgisonline/pages/utils/culture arcgis-components/wrappers/BasicWrappers/GroupBadges dojo/i18n!../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(e){var v=e.selected,g=e.indeterminate,p=e.group,n=e.portal,q=e.onToggle,l=(0,k.useState)(void 0);e=l[0];l=l[1];var c=(0,k.useRef)(null),d=(0,k.useRef)(null),w=(0,k.useRef)(null),t=(0,k.useRef)(null),z=a.__assign({},r.default.collaborationsTab.online.orgs.coordinatorsGroupsOverlay);(0,k.useEffect)(function(){setTimeout(function(){new f.default({portal:n,
group:p,scale:"m",cssClasses:"org-settings__group-icon-tile"},c.current);new u.default(w.current,{key:p.id,group:p,portal:n})},100)},[]);if(p.coordinatorsInGroup.length){var x=h.default.getString(z.coordinatorsNum,p.coordinatorsInGroup.length),y='\x3cli class\x3d"license-type-desc__list-item"\x3e'.concat(p.coordinatorsInGroup.join('\x3c/li\x3e\x3cli class\x3d"license-type-desc__list-item"\x3e'),"\x3c/li\x3e");e?e.update(x,y):l(new m.default({hideIcon:!0,infoText:x,buttonClasses:"licenses-card__level-desc margin-right-1",
content:y,title:z.coordinatorsInGroup,popoverClass:"coordinators-popover",hideCloseBtn:!0,isBlue:!0,orient:["below-centered","above-centered"]},d.current))}else!p.coordinatorsInGroup.length&&e&&(e.destroy(),l(void 0));t.current&&(t.current.indeterminate=g);return(0,b.h)("label",{class:"trailer-0 flex flex-align-center checkbox-row coordinators-group ".concat(v?"checkbox-row--selected":"")},(0,b.h)("input",{ref:t,type:"checkbox",class:"margin-right-1 flex-0",checked:v,onClick:function(A){q({group:p,
selected:g?!0:!v})}}),(0,b.h)("div",{ref:c}),(0,b.h)("div",{class:"margin-left-half flex-1 text-ellipsis"},p.title),(0,b.h)("div",{ref:d}),(0,b.h)("div",{ref:w}))}})},"arcgis-components/wrappers/BasicWrappers/GroupBadges":function(){define(["../../GroupBadges/index","../../wrappers/BasicWrappers/BasicWrapper"],function(U,M){return function(a){function b(f){if(k[f])return k[f].exports;var m=k[f]={i:f,l:!1,exports:{}};return a[f].call(m.exports,m,m.exports,b),m.l=!0,m.exports}var k={};return b.m=a,
b.c=k,b.d=function(f,m,h){b.o(f,m)||Object.defineProperty(f,m,{enumerable:!0,get:h})},b.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})},b.t=function(f,m){if((1&m&&(f=b(f)),8&m)||4&m&&"object"==typeof f&&f&&f.__esModule)return f;var h=Object.create(null);if(b.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:f}),2&m&&"string"!=typeof f)for(var u in f)b.d(h,u,function(r){return f[r]}.bind(null,
u));return h},b.n=function(f){var m=f&&f.__esModule?function(){return f.default}:function(){return f};return b.d(m,"a",m),m},b.o=function(f,m){return Object.prototype.hasOwnProperty.call(f,m)},b.p="",b(b.s=928)}({1:function(a,b,k){function f(p,n){function q(){this.constructor=p}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");v(p,n);p.prototype=null===n?Object.create(n):(q.prototype=n.prototype,new q)}function m(p,n){var q={},
l;for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&0>n.indexOf(l)&&(q[l]=p[l]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(l=Object.getOwnPropertySymbols(p);c<l.length;c++)0>n.indexOf(l[c])&&Object.prototype.propertyIsEnumerable.call(p,l[c])&&(q[l[c]]=p[l[c]])}return q}function h(p,n,q,l){var c,d=arguments.length,w=3>d?n:null===l?l=Object.getOwnPropertyDescriptor(n,q):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(p,n,q,l);else for(var t=
p.length-1;0<=t;t--)(c=p[t])&&(w=(3>d?c(w):3<d?c(n,q,w):c(n,q))||w);return 3<d&&w&&Object.defineProperty(n,q,w),w}function u(p,n,q,l){return new (q||(q=Promise))(function(c,d){function w(x){try{z(l.next(x))}catch(y){d(y)}}function t(x){try{z(l.throw(x))}catch(y){d(y)}}function z(x){var y;x.done?c(x.value):(y=x.value,y instanceof q?y:new q(function(A){A(y)})).then(w,t)}z((l=l.apply(p,n||[])).next())})}function r(p,n){function q(z){return function(x){return function(y){if(l)throw new TypeError("Generator is already executing.");
for(;w&&(w=0,y[0]&&(t=0)),t;)try{if(l=1,c&&(d=2&y[0]?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[2&y[0],d.value]),y[0]){case 0:case 1:d=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++;c=y[1];y=[0];continue;case 7:y=t.ops.pop();t.trys.pop();continue;default:if(!(d=t.trys,(d=0<d.length&&d[d.length-1])||6!==y[0]&&2!==y[0])){t=0;continue}if(3===y[0]&&(!d||y[1]>d[0]&&y[1]<d[3]))t.label=y[1];else if(6===y[0]&&t.label<
d[1])t.label=d[1],d=y;else if(d&&t.label<d[2])t.label=d[2],t.ops.push(y);else{d[2]&&t.ops.pop();t.trys.pop();continue}}y=n.call(p,t)}catch(A){y=[6,A],c=0}finally{l=d=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([z,x])}}var l,c,d,w,t={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return w={next:q(0),throw:q(1),return:q(2)},"function"==typeof Symbol&&(w[Symbol.iterator]=function(){return this}),w}function e(p,n,q){if(q||2===arguments.length)for(var l,c=
0,d=n.length;c<d;c++)!l&&c in n||(l||(l=Array.prototype.slice.call(n,0,c)),l[c]=n[c]);return p.concat(l||Array.prototype.slice.call(n))}k.d(b,"d",function(){return f});k.d(b,"a",function(){return g});k.d(b,"f",function(){return m});k.d(b,"c",function(){return h});k.d(b,"b",function(){return u});k.d(b,"e",function(){return r});k.d(b,"g",function(){return e});var v=function(p,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,l){q.__proto__=l}||function(q,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,
c)&&(q[c]=l[c])})(p,n)},g=function(){return(g=Object.assign||function(p){for(var n,q=1,l=arguments.length;q<l;q++)for(var c in n=arguments[q])Object.prototype.hasOwnProperty.call(n,c)&&(p[c]=n[c]);return p}).apply(this,arguments)};Object.create;Object.create},333:function(a,b){a.exports=U},371:function(a,b){a.exports=M},928:function(a,b,k){k.r(b);var f=k(1);a=k(371);a=k.n(a);var m=k(333),h=k.n(m).a;k=function(u){function r(e,v){return u.call(this,h,e,v)||this}return Object(f.d)(r,u),r}(a.a);b.default=
k}})})},"arcgis-components/wrappers/BasicWrappers/BasicWrapper":function(){define(["../../Component"],function(U){return function(M){function a(k){if(b[k])return b[k].exports;var f=b[k]={i:k,l:!1,exports:{}};return M[k].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};return a.m=M,a.c=b,a.d=function(k,f,m){a.o(k,f)||Object.defineProperty(k,f,{enumerable:!0,get:m})},a.r=function(k){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"});Object.defineProperty(k,
"__esModule",{value:!0})},a.t=function(k,f){if((1&f&&(k=a(k)),8&f)||4&f&&"object"==typeof k&&k&&k.__esModule)return k;var m=Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:k}),2&f&&"string"!=typeof k)for(var h in k)a.d(m,h,function(u){return k[u]}.bind(null,h));return m},a.n=function(k){var f=k&&k.__esModule?function(){return k.default}:function(){return k};return a.d(f,"a",f),f},a.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)},a.p="",a(a.s=
888)}({1:function(M,a,b){function k(g,p){function n(){this.constructor=g}if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");e(g,p);g.prototype=null===p?Object.create(p):(n.prototype=p.prototype,new n)}function f(g,p){var n={},q;for(q in g)Object.prototype.hasOwnProperty.call(g,q)&&0>p.indexOf(q)&&(n[q]=g[q]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(q=Object.getOwnPropertySymbols(g);l<q.length;l++)0>
p.indexOf(q[l])&&Object.prototype.propertyIsEnumerable.call(g,q[l])&&(n[q[l]]=g[q[l]])}return n}function m(g,p,n,q){var l,c=arguments.length,d=3>c?p:null===q?q=Object.getOwnPropertyDescriptor(p,n):q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(g,p,n,q);else for(var w=g.length-1;0<=w;w--)(l=g[w])&&(d=(3>c?l(d):3<c?l(p,n,d):l(p,n))||d);return 3<c&&d&&Object.defineProperty(p,n,d),d}function h(g,p,n,q){return new (n||(n=Promise))(function(l,c){function d(z){try{t(q.next(z))}catch(x){c(x)}}
function w(z){try{t(q.throw(z))}catch(x){c(x)}}function t(z){var x;z.done?l(z.value):(x=z.value,x instanceof n?x:new n(function(y){y(x)})).then(d,w)}t((q=q.apply(g,p||[])).next())})}function u(g,p){function n(t){return function(z){return function(x){if(q)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(w=0)),w;)try{if(q=1,l&&(c=2&x[0]?l.return:x[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,x[1])).done)return c;switch(l=0,c&&(x=[2&x[0],c.value]),x[0]){case 0:case 1:c=
x;break;case 4:return w.label++,{value:x[1],done:!1};case 5:w.label++;l=x[1];x=[0];continue;case 7:x=w.ops.pop();w.trys.pop();continue;default:if(!(c=w.trys,(c=0<c.length&&c[c.length-1])||6!==x[0]&&2!==x[0])){w=0;continue}if(3===x[0]&&(!c||x[1]>c[0]&&x[1]<c[3]))w.label=x[1];else if(6===x[0]&&w.label<c[1])w.label=c[1],c=x;else if(c&&w.label<c[2])w.label=c[2],w.ops.push(x);else{c[2]&&w.ops.pop();w.trys.pop();continue}}x=p.call(g,w)}catch(y){x=[6,y],l=0}finally{q=c=0}if(5&x[0])throw x[1];return{value:x[0]?
x[1]:void 0,done:!0}}([t,z])}}var q,l,c,d,w={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function r(g,p,n){if(n||2===arguments.length)for(var q,l=0,c=p.length;l<c;l++)!q&&l in p||(q||(q=Array.prototype.slice.call(p,0,l)),q[l]=p[l]);return g.concat(q||Array.prototype.slice.call(p))}b.d(a,"d",function(){return k});b.d(a,"a",function(){return v});b.d(a,"f",
function(){return f});b.d(a,"c",function(){return m});b.d(a,"b",function(){return h});b.d(a,"e",function(){return u});b.d(a,"g",function(){return r});var e=function(g,p){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,q){n.__proto__=q}||function(n,q){for(var l in q)Object.prototype.hasOwnProperty.call(q,l)&&(n[l]=q[l])})(g,p)},v=function(){return(v=Object.assign||function(g){for(var p,n=1,q=arguments.length;n<q;n++)for(var l in p=arguments[n])Object.prototype.hasOwnProperty.call(p,
l)&&(g[l]=p[l]);return g}).apply(this,arguments)};Object.create;Object.create},18:function(M,a){M.exports=U},888:function(M,a,b){b.r(a);var k=b(1),f=b(18);M=function(){function m(h,u,r){var e=this;this.SET_PROPS="SET_PROPS";var v=Object(f.connect)(function(g){return Object(k.a)({},g)},function(){return{}})(h);this.renderContainer=u;this.store=Object(f.createStore)(function(g,p){var n=p.payload;return p.type===e.SET_PROPS?n:g},r);this.projector=Object(f.createProjector)(this.store,function(g){return g(v,
Object(k.a)({},r))},this.renderContainer)}return m.prototype.destroy=function(){this.projector.stop();this.renderContainer.remove?this.renderContainer.remove():this.renderContainer.parentNode&&this.renderContainer.parentNode.removeChild(this.renderContainer)},m.prototype.getProps=function(){return this.store.getState()},m.prototype.setProps=function(h){this.store.dispatch({type:this.SET_PROPS,payload:h})},m.prototype.watchProps=function(h){var u=this;return this.store.subscribe(function(){return h(u.store.getState())})},
m}();a.default=M}})})},"arcgisonline/pages/components/Collaborations/CollabGroups":function(){define("require exports tslib preact preact/hooks ./collab-service ./CollabGroupRow arcgisonline/pages/group/widgets/CreateGroup/CreateGroup".split(" "),function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(u){var r=u.texts,e=u.portal,v=u.orgId,g=u.orgName,p=u.collaboration;u=u.hideCreate;var n=(0,k.useState)([]),
q=n[0],l=n[1];n=(0,k.useState)(!0);var c=n[0],d=n[1],w=(0,k.useRef)(null);(0,k.useEffect)(function(){f.default.getCollabGroups(e,v).then(function(t){(null===t||void 0===t?0:t.results)&&l(t.results)})},[]);n=function(){(new h.default({portal:e,portalUser:e.portalUser,opener:w.current,hasTrustedOrgs:!0,defaultMemberAccess:"collaboration"})).open()};return(0,b.h)("div",{class:"accordion-section ".concat(c?"is-active":"")},(0,b.h)("h3",{class:"font-size-0 avenir-demi trailer-0 flex flex-align-center accordion-title collab-detail__heading"},
(0,b.h)("button",{"aria-expanded":c,onClick:function(){d(!c)},class:"btn-link btn-link-darker-gray full-width padding-trailer-quarter text-left avenir-demi accordion-title__btn"},(0,b.h)("calcite-icon",{class:"margin-right-half margin-left-0 icon-inline",scale:"m",icon:"chevron-down"}),r.collabGroups.replace("${orgName}",g))),(0,b.h)("div",{class:"accordion-content"},!u&&(0,b.h)("button",{onClick:n,class:"btn btn-clear font-size--1",ref:w,disabled:"active"!==(null===p||void 0===p?void 0:p.to.state)},
r.createGroup),0<(null===q||void 0===q?void 0:q.length)&&(0,b.h)("div",{class:"leader-half"},q.map(function(t){return(0,b.h)(m.default,{key:t.id,group:t,portal:e})})),0===(null===q||void 0===q?void 0:q.length)&&(0,b.h)("p",{class:"font-size--1 leader-half"},r.noGroupsYet)))}})},"arcgisonline/pages/components/Collaborations/CollabGroupRow":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/organization/widgets/GroupIcon".split(" "),function(U,M,a,b,k,f){Object.defineProperty(M,
"__esModule",{value:!0});f=a.__importDefault(f);M.default=function(m){var h=m.group,u=m.portal,r=(0,k.useRef)(null);(0,k.useEffect)(function(){setTimeout(function(){new f.default({portal:u,group:h,scale:"m",cssClasses:"org-settings__group-icon-tile"},r.current)},100)},[]);return(0,b.h)("div",{class:"flex flex-align-center collab-group-row"},(0,b.h)("div",{class:"js-icon",ref:r}),(0,b.h)("a",{href:"group.html?id\x3d".concat(h.id),target:"_blank",class:"font-size--1 margin-left-1"},h.title))}})},"arcgisonline/pages/group/widgets/CreateGroup/CreateGroup":function(){define("require exports tslib preact dojo/on dojo/text!./templates/CreateGroup.html dojo/i18n!../../../../nls/arcgisonline esri/lang dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts ./Overview ./Membership ./GroupDesignations arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/SubscriptionStatusDlg arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg arcgisonline/esriGeowConfig ../../../components/Group/MembershipAndDesignations/MembershipAndDesignations arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);return function(){function x(y,A){this.title=
m.default.createGroupOverlay.title;this.i18n=m.default;this.overlayContents=f.default;this.maxWidth=1080;this.constrain=!0;this.hasTrustedOrgs=this.closeOnScrimClick=!1;this.defaultMemberAccess="org";this.isSharedUpdate=this.isAdminGroup=this.isAdmin=!1;this.MAX_GROUPS_DEFAULT=512;this.handleMembershipAndDesignationsChange=this.handleMembershipAndDesignationsChange.bind(this)}x.prototype.open=function(){var y=this;this.inherited(arguments);this._primaryBtn.id="create-group-save-btn";this._cancelBtn.id=
"create-group-cancel-btn";var A=this.portalUser.userRole,B=!this.portalUser.orgId,D=(this.isAdmin=!B&&this.portalUser.isOrgAdmin)||A.canShareOthersItemsToPublic()||this.portal.canSharePublic&&A.canShareGroupToPublic(),C=this.isAdmin||A.canShareGroupToOrg(),E=!B&&(this.isAdmin||A.isCustom()&&A.canManageEnterpriseGroups());B={portal:this.portal,portalUser:this.portalUser,canSharePublic:D,canShareToOrg:C,isAdmin:this.isAdmin,isPublicUser:B,checkForEnterpriseGroupSupport:E,hasTrustedOrgs:this.hasTrustedOrgs,
defaultMemberAccess:this.defaultMemberAccess};this.membershipCard=new n.default(B,this.domNode.querySelector(".js-membership"));this.designations=new q.default(a.__assign(a.__assign({},B),{membershipAccess:this.defaultMemberAccess}),this.domNode.querySelector(".js-group-designations"));this.overviewCard=new p.default(B,this.domNode.querySelector(".js-overview"));this.own(this.membershipCard.on("membership/change",function(H){y.designations.membershipAccess=H;y.designations.calculateToggleStates()}),
this.designations.on("admin-group/toggle",function(H){y.isAdminGroup=H.checked;y.updateMembershipOptions()}),this.designations.on("shared-update/toggle",function(H){y.isSharedUpdate=H.checked;y.updateMembershipOptions()}));(null===A||void 0===A?0:A.canAddExternalMembersToGroup())||this.membershipCard.disableMembershipOptions(["collaboration","anyOrg"])};x.prototype.close=function(){this.inherited(arguments)};x.prototype.handlePrimary=function(){var y=this;this.validate()&&this.getFormData().then(function(A){y.showLoader(y.i18n.createGroupOverlay.creating);
var B=w.default.hideDefaultCheckErrorMessage;w.default.hideDefaultCheckErrorMessage=!0;l.default.request({url:"".concat(w.default.restBaseUrl,"community/createGroup"),form:A},{usePost:!0}).then(function(D){w.default.hideDefaultCheckErrorMessage=B;y.hideLoader();y.close();(null===D||void 0===D?0:D.success)&&(null===D||void 0===D?0:D.group)?window.location.href="group.html?id\x3d".concat(D.group.id):y.handleCreateGroupFailure(D)},function(D){y.hideLoader();y.handleCreateGroupFailure(D);w.default.hideDefaultCheckErrorMessage=
B;y.close()})})};x.prototype.renderMembershipAndDesignations=function(){var y=a.__assign(a.__assign(a.__assign({},this.i18n.common),this.i18n.GroupWidget),this.i18n.createGroupOverlay);(0,b.render)((0,b.h)(t.default,{portal:this.portal,portalUser:this.portalUser,hasTrustedOrgs:this.hasTrustedOrgs,texts:y,enterpriseGroupType:"saml",supportsEnterpriseGroups:!1,request:l.default.request,esriGeowConfig:w.default,onChange:this.handleMembershipAndDesignationsChange}),this.domNode.querySelector(".js-membership-preact"))};
x.prototype.handleMembershipAndDesignationsChange=function(y){this.membershipAndDesignations=y};x.prototype.showError=function(y){g.default.showAlert("error",y)};x.prototype.generateSubscriptionStatusDlg=function(){var y=new c.default;k.default.once(y.subscriptionStatusDlg,"hide",function(){y.subscriptionStatusDlg.destroyRecursive();y.destroyRecursive()});return y};x.prototype.handleCreateGroupFailure=function(y){var A=this,B,D,C=["SB_0005","SB_0006","SB_0007"],E=this.overviewCard.getValues().title,
H=function(){window.location.href="group.html?owner\x3d"+encodeURIComponent(A.portalUser.username)+"\x26title\x3d"+encodeURIComponent(E)};-1!==["SB_0001","SB_0002","SB_0003","SB_0004"].indexOf(null===y||void 0===y?void 0:y.messageCode)?this.generateSubscriptionStatusDlg().show(this.portal.subscriptionInfo):-1!==C.indexOf(null===y||void 0===y?void 0:y.messageCode)?this.generateSubscriptionStatusDlg().showOther(y.messageCode):-1<(null===(B=null===y||void 0===y?void 0:y.message)||void 0===B?void 0:B.indexOf("file exceeds the max size"))?
(this.showError(y.message),setTimeout(H,3E3)):"COM_0044"===(null===y||void 0===y?void 0:y.messageCode)?-1<(null===(D=null===y||void 0===y?void 0:y.details[0])||void 0===D?void 0:D.indexOf("open data"))?this.showError(this.i18n.GroupWidget.error.cantEnableOpenData):(y=h.default.substitute({name:E},this.i18n.GroupWidget.error.nonUniqueName),this.showError("".concat(this.i18n.GroupWidget.error.cantCreateGroup," ").concat(y))):"COM_1064"===(null===y||void 0===y?void 0:y.messageCode)||"COM_0065"===(null===
y||void 0===y?void 0:y.messageCode)?(y=this.retrieveMaxGroupsFromErrorMessage(y.message),y=h.default.substitute({numGroups:y},this.i18n.GroupWidget.error.groupMax),this.showError("".concat(this.i18n.GroupWidget.error.cantCreateGroup," ").concat(y))):"GWM_0021"===(null===y||void 0===y?void 0:y.messageCode)?this.showError(y.message):this.showError(this.i18n.GroupWidget.error.cantCreateGroup)};x.prototype.retrieveMaxGroupsFromErrorMessage=function(y){var A=/'(\d*)?'/;try{var B=A.exec(y);if(null!==B){var D=
parseInt(B[B.length-1],10);if(!h.default.isDefined(D)||isNaN(D))D=this.MAX_GROUPS_DEFAULT}else D=this.MAX_GROUPS_DEFAULT}catch(C){D=this.MAX_GROUPS_DEFAULT}return D};x.prototype.updateMembershipOptions=function(){this.membershipCard.disableOptionsByDesignations({leavingDisallowed:this.isAdminGroup,isSharedOwnership:this.isSharedUpdate})};x.prototype.validate=function(){return this.overviewCard.validate()&&this.membershipCard.validate()};x.prototype.getFormData=function(){var y=this,A=this.overviewCard.getValues(),
B=A.title,D=A.snippet,C=A.tags,E=A.thumbnailBlob,H=A.fileName,G=this.membershipCard.getValues();A=G.autoJoin;var F=G.useEnterpriseGroup,I=G.isInvitationOnly,J=G.isViewOnly,K=G.contribute,P=G.enterpriseGroup,T=G.hiddenMembers,S=G.access,L=G.privacy;G=G.membershipAccess;var N=this.designations.getValues(),O=N.update,Q=N.isOpenData;N=N.adminGroup;var V=this.membershipCard.enterpriseGroupType,X=new FormData;E&&X.append("thumbnail",E,H);X.append("access",S);X.append("tags",C);X.append("autoJoin","".concat(A));
X.append("isInvitationOnly","".concat(I));X.append("isViewOnly","".concat(J));X.append("sortField","title");X.append("sortOrder","asc");X.append("displaySettings","");X.append("isOpenData","".concat(Q));C=[];O&&C.push("updateitemcontrol");X.append("capabilities",C.join(","));X.append("title",B);X.append("snippet",D);X.append("privacy",L);X.append("enterpriseGroup",P);X.append("update","".concat(O));X.append("contribute",K);this.isAdmin&&!F&&X.append("hiddenMembers","".concat(T));this.portal.isPortal||
!G&&""!==G||X.append("membershipAccess",G);!this.isAdmin||F||A||(X.append("leavingDisallowed","".concat(N)),N&&X.append("membershipAccess","org"));return new Promise(function(Z,ca){if(y.portal.isPortal&&"saml"!==V&&F){var R=new d.default;R._searchEnterpriseGroups(P,10).then(function(Y){var ba;R._dialog.destroyRecursive();R.destroyRecursive();v.default.enterpriseGroupMatches(null===(ba=null===Y||void 0===Y?void 0:Y.groups[0])||void 0===ba?void 0:ba.rolename,P)?(X.append("provider","enterprise"),X.append("providerGroupName",
Y.groups[0].rolename),Z(X)):(g.default.showAlert("error",y.i18n.GroupWidget.enterpriseGroups.invalidEnterpriseGroup),ca())},function(){R._dialog.destroyRecursive();R.destroyRecursive();g.default.showAlert("error",y.i18n.GroupWidget.enterpriseGroups.searchEnterpriseGroupFailure);ca()})}else"saml"===V&&F&&(X.append("provider","enterprise"),X.append("providerGroupName",P)),Z(X)})};return x=a.__decorate([(0,z.default)(r.default,u.default,e.default)],x)}()})},"arcgisonline/pages/group/widgets/CreateGroup/Overview":function(){define("require exports tslib preact dojo/text!./templates/Overview.html dojo/i18n!../../../../nls/arcgisonline dojo/topic dojo/on dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/utils/icons arcgisonline/pages/utils/dom arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/components/ImageUploadModal/ImageUploadModal arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.templateString=k.default;this.i18n=a.__assign(a.__assign(a.__assign({},f.default.GroupWidget),f.default.createGroupOverlay),
{addTags:f.default.itemCompleteness.addTags});this.icons=v.default;this.thumbExtension="";this.duplicateTitle=!1;this.handleThumbnailSave=this.handleThumbnailSave.bind(this);this.hideThumbnailModal=this.hideThumbnailModal.bind(this)}c.prototype.postCreate=function(){var d=this;this.inherited(arguments);this.render();this.populateTags();this.own((0,h.default)(this.uploadBtn,"click",function(){d.handleUploadClick()}),m.default.subscribe("thumbnail/change",function(w){return d.handleThumbUpload(w)}))};
c.prototype.getValues=function(){var d,w;return{title:this.nameInput.getValue(),snippet:this.summaryInput.getValue(),tags:null!==(w=null===(d=this.selectedTags)||void 0===d?void 0:d.join(","))&&void 0!==w?w:"",thumbnailBlob:this.thumbBlob,fileName:"thumbnail ".concat((new Date).getTime(),".").concat(this.thumbExtension)}};c.prototype.validate=function(){var d=this.nameInput.validate()&&!this.duplicateTitle;d||(this.nameInput.domNode.scrollIntoView({behavior:"smooth"}),this.nameInput.focus(),this.duplicateTitle&&
this.showDuplicateTitleError());return d};c.prototype.checkExistingGroupByTitle=function(d){return a.__awaiter(this,void 0,void 0,function(){var w;return a.__generator(this,function(t){switch(t.label){case 0:if(!d)return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,p.default.request({url:"".concat(n.default.restBaseUrl,"community/groups"),content:{q:"orgid:".concat(this.portal.id," owner:").concat(this.portalUser.username),filter:'title:"'.concat(d,'"')}})];case 2:return w=t.sent(),[2,0<
w.total];case 3:return t.sent(),[2,!1];case 4:return[2]}})})};c.prototype.render=function(){var d=this;this.nameInput=new e.default({labelText:this.i18n.name,placeholder:this.i18n.nameHelp,requiredMsg:this.i18n.enterName,baseClass:"avenir-demi",inputId:"create-group-name-input",debounceDelay:500,maxLength:250},this.domNode.querySelector(".js-name-input"));this.own((0,h.default)(this.nameInput,"input",function(){return a.__awaiter(d,void 0,void 0,function(){var w,t;return a.__generator(this,function(z){switch(z.label){case 0:return w=
this.nameInput.getValue(),[4,this.checkExistingGroupByTitle(w)];case 1:return(this.duplicateTitle=t=z.sent())&&this.showDuplicateTitleError(),[2]}})})}));this.summaryInput=new e.default({labelText:this.i18n.newSummaryLabel,placeholder:this.i18n.newSummaryHelp,rows:4,type:"textarea",baseClass:"avenir-demi",maxLength:250,inputId:"create-group-summary-input"},this.domNode.querySelector(".js-summary-input"))};c.prototype.showDuplicateTitleError=function(){this.nameInput.showError(this.i18n.groupExists.replace("${title}",
this.nameInput.getValue()))};c.prototype.handleThumbUpload=function(d){this.thumbImg.src=d.base64;this.thumbBlob=d.blob;this.thumbExtension=d.format;g.default.showNode(this.thumbImg)};c.prototype.handleUploadClick=function(){this.thumbModalContainer||(this.thumbModalContainer=document.createElement("div"),this.thumbModalContainer.classList.add("create-group-thumbnail-modal-container"),document.body.appendChild(this.thumbModalContainer));this.renderThumbnailModal()};c.prototype.renderThumbnailModal=
function(){(0,b.render)((0,b.h)(q.default,{texts:{title:f.default.GroupWidget.uploadThumbnail,size:f.default.GroupWidget.thumbnailDlg.sizeSpecGroup},onSave:this.handleThumbnailSave,onCancel:this.hideThumbnailModal,height:233,zoomToFull:!0,fillBackground:!0}),this.thumbModalContainer)};c.prototype.handleThumbnailSave=function(d){m.default.publish("thumbnail/change",d);this.hideThumbnailModal()};c.prototype.hideThumbnailModal=function(){(0,b.render)(null,this.thumbModalContainer)};c.prototype.populateTags=
function(){var d=this;p.default.loadUserTags(this.portalUser.username).then(function(w){d.tagsInput=document.createElement("arcgis-tags-picker");d.tagsInput.api=3;d.tagsInput.hideLabel=!0;d.tagsInput.id="groupTagsInput";d.tagsInput.knownTags=null===w||void 0===w?void 0:w.filter(function(z){return!!z.tag}).map(function(z){return z.tag});var t=d.portal.portalUser;t.contentTags=null===w||void 0===w?void 0:w.filter(function(z){return!!z.tag});d.tagsInput.user=t;d.own((0,h.default)(d.tagsInput,"arcgisTagsPickerChange",
function(z){d.selectedTags=z.detail}));d.tagsLabel.appendChild(d.tagsInput);d.domNode.querySelector(".js-tags-label").setAttribute("for",d.tagsInput.id)})};return c=a.__decorate([(0,l.default)(r.default,u.default)],c)}()})},"arcgisonline/pages/group/widgets/CreateGroup/Membership":function(){define("require exports tslib esri/Evented dojo/Deferred dojo/on dojo/promise/all dojo/topic dojo/text!./templates/Membership.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/SelectOptions arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation arcgisonline/pages/group/widgets/HideMembers arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg arcgisonline/pages/dijit/_CheckReadonlyMixin arcgisonline/tsutils/declareDecorator arcgisonline/esriGeowConfig".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
return function(){function y(A,B){this.templateString=u.default;this.i18n=a.__assign(a.__assign(a.__assign({},r.default.common),r.default.GroupWidget),r.default.createGroupOverlay);this.hasTrustedOrgs=this.isEditing=!1;this.defaultMemberAccess="org";this.enterpriseGroupType="";this.loaded=this.supportsEnterpriseGroups=!1;this.currentAccess="";this.lastJoinValue="invitation";this.isArabic=this.isSharedOwnership=this.leavingDisallowed=!1;this.oidcName=""}y.prototype.postMixInProperties=function(){this.inherited(arguments);
this.isArabic="ar"===document.documentElement.lang};y.prototype.postCreate=function(){this.inherited(arguments);this.render()};y.prototype.getValues=function(){var A,B,D=this.joinOptions.value(),C=this.contributeOptions.value(),E=this.membersOptions.value(),H=this.portal.isPortal||!this.portal.id?"":null===(A=this.membershipOptions)||void 0===A?void 0:A.value();A=this.isPublicUser?"public":null===(B=this.viewOptions)||void 0===B?void 0:B.value();return{autoJoin:"autoJoin"===D,useEnterpriseGroup:"enterprise"===
D,isInvitationOnly:"invitation"===D,isViewOnly:"orgManagers"===C||"owners"===C,contribute:C,enterpriseGroup:"enterprise"===D?this.enterpriseGroupInput.getValue().trim():"",hiddenMembers:"ownerAndManagers"===E,access:A,privacy:A,membershipAccess:"anyOrg"===H?"":H}};y.prototype.validate=function(){var A=this.joinOptions.value(),B="enterprise"!==A||this.enterpriseGroupInput.validate();B||(this.enterpriseGroupInput.domNode.scrollIntoView({behavior:"smooth"}),this.enterpriseGroupInput.focus());A=A!==this.oidcName||
this.oidcGroupInput.validate();A||(this.oidcGroupInput.domNode.scrollIntoView({behavior:"smooth"}),this.oidcGroupInput.focus());return B&&A};y.prototype.disableOptionsByDesignations=function(A){var B=this,D,C,E=A.leavingDisallowed,H=A.isSharedOwnership,G="enterprise"===((null===(D=this.joinOptions)||void 0===D?void 0:D.value())||"");this.leavingDisallowed=E;this.isSharedOwnership=H;null===(C=this.membershipOptions)||void 0===C?void 0:C.selectOptions.forEach(function(F){"anyOrg"===F.value&&(E||H||
G)?F.disable():"collaboration"===F.value&&(E||G)?F.disable():B.group&&!B.group.isGroupOwnerOrgMember()&&"org"===F.value?F.disable():F.enable()});this.disableJoinOptionsByDesignations()};y.prototype.disableMembershipOptions=function(A){var B;null===(B=this.membershipOptions)||void 0===B?void 0:B.selectOptions.forEach(function(D){-1<A.indexOf(D.value)&&D.disable()})};y.prototype.disableJoinOptionsByDesignations=function(){var A=this,B,D,C=(null===(B=this.group)||void 0===B?void 0:B.membershipAccess)||
(null===(D=this.membershipOptions)||void 0===D?void 0:D.value())||"org";this.joinOptions.selectOptions.forEach(function(E){"autoJoin"===E.value&&(A.leavingDisallowed||A.isSharedOwnership)?E.disable():"enterprise"!==E.value&&E.value!==A.oidcName||!A.leavingDisallowed&&"org"===C?E.enable():E.disable()})};y.prototype.disableAutoJoin=function(){this.joinOptions.selectOptions.forEach(function(A){"autoJoin"===A.value&&A.disable()})};y.prototype.enableAutoJoin=function(){this.joinOptions.selectOptions.forEach(function(A){"autoJoin"===
A.value&&A.enable()})};y.prototype.disableOptions=function(){var A,B,D,C,E;null===(A=this.membershipOptions)||void 0===A?void 0:A.disable();null===(B=this.joinOptions)||void 0===B?void 0:B.disable();null===(D=this.viewOptions)||void 0===D?void 0:D.disable();null===(C=this.contributeOptions)||void 0===C?void 0:C.disable();null===(E=this.membersOptions)||void 0===E?void 0:E.disable()};y.prototype.enableMembershipOptions=function(){var A;null===(A=this.membershipOptions)||void 0===A?void 0:A.enable()};
y.prototype.handleHideMembersClick=function(){var A=this;if(!this.checkReadonly(this.portal)){var B=new c.default({onConfirm:function(){A.page._updateGroup({hiddenMembers:!0}).then(function(D){B.close();A.viewMembersValue.textContent=A.i18n.onlyGroupManagers;q.default.hideNode(A.hideMembersBtn);A.group.hiddenMembers=!0;n.default.showAlert("success",A.i18n.settingsSuccess.hideMembers)},function(D){B.close();h.default.publish("group-settings/error",D)})}});B.open()}};y.prototype.render=function(){var A=
this;this.contributeOptions=this.createRadioGroup(this.getContributeOptions(),".js-contribute-options");this.membersOptions=this.createRadioGroup(this.getDisplayOptions(),".js-display-options");this.group&&q.default.hideNode(this.hideMembersTooltip);this.group&&this.contributeOptions.select(this.group.isViewOnly?"owners":"members");this.own(this.contributeOptions.on("change",function(C){A.group&&h.default.publish("group/update",{successMessage:A.i18n.settingsSuccess.contribute,params:{isViewOnly:"owners"===
C}})}),this.membersOptions.on("change",function(C){A.renderJoinOptions()}));this.group&&(q.default.hideNode(this.membersOptions.domNode),this.group.hiddenMembers||!this.group.hiddenMembers&&this.isAdmin&&this.group.isOwner&&!this.group.isBackedByEnterpriseGroup)&&(this.viewMembersValue.textContent=this.group.hiddenMembers?this.i18n.onlyGroupManagers:this.i18n.groupViewers,q.default.showHide(this.hideMembersBtn,!this.group.hiddenMembers),this.own((0,f.default)(this.hideMembersBtn,"click",function(){return A.handleHideMembersClick()})),
q.default.showNode(this.editViewMembersSection));!this.portal.isPortal&&this.portal.id&&(this.membershipOptions=this.createRadioGroup(this.getMemberOptions(),".js-member-options"),this.own(this.membershipOptions.on("change",function(C){var E=A.portalUser.userRole,H=new k.default;A.group&&"org"===C&&!E.canAddExternalMembersToGroup()?A.confirmIrreversible().then(function(G){G?H.resolve(!0):(A.membershipOptions.select("anyOrg"),H.resolve(!1))}):H.resolve(!0);H.then(function(G){G&&(A.checkEnterpriseOptionState(C),
A.emit("membership/change",C),G={membershipAccess:"anyOrg"===C?"":C},G.membershipAccess||(G.clearEmptyFields=!0),h.default.publish("group/update",{successMessage:A.i18n.settingsSuccess.allowedMembership,params:G,errorCallback:function(){A.checkEnterpriseOptionState(A.membershipOptions.previousValue);A.membershipOptions.revert()}}))})})));this.renderViewOptions();q.default.showHide(this.membersSection,this.isAdmin&&(!this.group||this.group.isOwner&&!this.group.isBackedByEnterpriseGroup));q.default.showHide(this.membershipSection,
!this.portal.isPortal&&!!this.portal.id);var B=this.portalUser.userRole,D=(!this.group||this.group.isGroupOwnerOrgMember())&&!this.isPublicUser&&(this.isAdmin||B.isCustom()&&B.canManageEnterpriseGroups());this.getEnterpriseInfo(D).then(function(){A.checkOIDC(D).then(function(){A.renderJoinOptions();A.checkMembershipOptionState(A.joinOptions.value());A.emit("loaded");A.loaded=!0})})};y.prototype.checkEnterpriseOptionState=function(A){var B=this;this.joinOptions&&this.joinOptions.selectOptions.forEach(function(D){if("enterprise"===
D.value||D.value===B.oidcName)B.leavingDisallowed||"org"!==A?D.disable():D.enable()})};y.prototype.checkMembershipOptionState=function(A){var B=this;this.membershipOptions&&this.membershipOptions.selectOptions.forEach(function(D){var C="anyOrg"===D.value&&(B.leavingDisallowed||B.isSharedOwnership),E="collaboration"===D.value&&B.leavingDisallowed;"org"!==D.value&&("enterprise"===A||A===B.oidcName)||C||E?D.disable():"org"===D.value&&B.group&&!B.group.isGroupOwnerOrgMember()?D.disable():D.enable()})};
y.prototype.renderViewOptions=function(){var A=this;if(this.isPublicUser)q.default.hideNode(this.domNode.querySelector(".js-view-section"));else{var B="public";this.group?B=this.group.access:this.isPublicUser||(this.canSharePublic||(B="org"),this.canShareToOrg||(B="private"));this.viewOptions=this.createRadioGroup(this.getViewOptions(),".js-view-options");this.viewOptions.select(B);this.viewOptions.selectOptions.forEach(function(D){A.canSharePublic||"public"!==D.value?A.canShareToOrg||"org"!==D.value||
D.disable():D.disable()});this.currentAccess=B;this.own(this.viewOptions.on("change",function(){var D=A.viewOptions.value();if(A.currentAccess!==D){var C=new k.default;if(A.group){if(d.default.groupUsedInOrgSettings(A.group.id)&&"private"===D){n.default.showAlert("error",A.portal.isPortal?A.i18n.error.usedInPortalSettings:A.i18n.error.usedInOrgSettings);A.viewOptions.select(A.currentAccess);return}var E=A.portalUser.userRole;"public"===A.group.access&&(!E.canShareGroupToPublic()||!A.isAdmin&&!A.portal.canSharePublic)||
"org"===A.group.access&&!E.canShareGroupToOrg()?A.confirmIrreversible().then(function(H){H?C.resolve(!0):(A.viewOptions.select(A.currentAccess),C.resolve(!1))}):C.resolve(!0)}else C.resolve(!0);C.then(function(H){H&&(A.group&&h.default.publish("group/update",{successMessage:A.i18n.settingsSuccess.view,params:{access:D}}),h.default.publish("group-access/change",D),"private"!==A.currentAccess&&"private"!==D||A.renderJoinOptions(),A.currentAccess=D)})}}))}};y.prototype.renderJoinOptions=function(){var A=
this,B,D;this.joinOptions&&(this.joinOptions.domNode.insertAdjacentHTML("afterend",'\x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e'),this.searchEnterpriseBtn.insertAdjacentHTML("beforebegin",'\x3cdiv class\x3d"js-enterprise-group-input"\x3e\x3c/div\x3e'),this.joinOptions.destroy());this.joinOptions=this.createRadioGroup(this.getJoinOptions(),".js-join-options");var C=(null===(B=this.enterpriseGroupInput)||void 0===B?void 0:B.getValue())||"";this.enterpriseGroupInput=new l.default({labelText:this.i18n.joinOptions.enterpriseLabel,
placeholder:this.i18n.joinOptions.enterprisePlaceholder,requiredMsg:this.i18n.enterpriseGroups.missingEnterpriseGroupName,baseClass:"trailer-0"},this.enterpriseInputContainer.querySelector(".js-enterprise-group-input"));C&&this.enterpriseGroupInput.setValue(C);this.oidcName&&(B=(null===(D=this.oidcGroupInput)||void 0===D?void 0:D.getValue())||"",this.oidcGroupInput=new l.default({labelText:this.i18n.joinOptions.enterpriseLabel,placeholder:this.i18n.joinOptions.enterprisePlaceholder,requiredMsg:this.i18n.joinOptions.missingOIDCGroupName,
baseClass:"trailer-0"},this.oidcInputContainer.querySelector(".js-oidc-group-input")),B&&this.oidcGroupInput.setValue(B));this.group&&("enterprise"===this.group.provider&&this.group.providerGroupName?(this.enterpriseGroupInput.setValue(this.group.providerGroupName),this.joinOptions.select("enterprise")):this.oidcName&&this.group.provider===this.oidcName&&this.group.providerGroupName?(this.oidcGroupInput.setValue(this.group.providerGroupName),this.joinOptions.select(this.oidcName)):this.group.isInvitationOnly?
this.joinOptions.select("invitation"):this.group.autoJoin?this.joinOptions.select("autoJoin"):this.joinOptions.select("request"));this.supportsEnterpriseGroups&&(this.group?(this.enterpriseInputContainer.className="hide position-relative",this.enterpriseInputContainer.querySelector(".js-group-name-wrapper").classList.add("enterprise-group-name-wrapper"),q.default.showNode(this.enterpriseButtons),"enterprise"===this.group.provider&&this.group.providerGroupName&&(q.default.showNode(this.enterpriseInputContainer),
q.default.hideNode(this.cancelEnterpriseBtn))):this.enterpriseInputContainer.className="hide leader-quarter margin-left-2 margin-right-3 trailer-half",this.joinOptions.selectOptions.forEach(function(E){"enterprise"===E.value&&E.domNode.insertAdjacentElement("afterend",A.enterpriseInputContainer)}));this.oidcName&&(this.oidcInputContainer.className="hide position-relative",this.oidcInputContainer.querySelector(".js-group-name-wrapper").classList.add("enterprise-group-name-wrapper"),q.default.showNode(this.oidcButtons),
this.group.provider===this.oidcName&&this.group.providerGroupName&&(q.default.showNode(this.oidcInputContainer),q.default.hideNode(this.cancelOIDCBtn)),this.joinOptions.selectOptions.forEach(function(E){E.value===A.oidcName&&E.domNode.insertAdjacentElement("afterend",A.oidcInputContainer)}));this.joinOptions.value()||(this.joinOptions.select("invitation"),this.lastJoinValue="invitation");"enterprise"===this.joinOptions.value()&&q.default.showNode(this.enterpriseInputContainer);this.joinOptions.value()===
this.oidcName&&q.default.showNode(this.oidcInputContainer);this.disableJoinOptionsByDesignations();this.own(this.joinOptions.on("change",function(E){"enterprise"!==E&&E!==A.oidcName&&h.default.publish("group/update",{successMessage:A.i18n.settingsSuccess.join,params:{isInvitationOnly:"invitation"===E,autoJoin:"autoJoin"===E,provider:"",providerGroupName:"",clearEmptyFields:!0}});A.lastJoinValue=E;A.publishJoinChange()}),(0,f.default)(this.cancelEnterpriseBtn,"click",function(){A.joinOptions.select(A.joinOptions.previousValue);
A.publishJoinChange()}),(0,f.default)(this.saveEnterpriseBtn,"click",function(){A.validate()&&h.default.publish("group/update",{successMessage:A.i18n.settingsSuccess.join,params:{isInvitationOnly:!1,autoJoin:!1,provider:"enterprise",providerGroupName:A.enterpriseGroupInput.getValue(),clearEmptyFields:!0}})}),(0,f.default)(this.cancelOIDCBtn,"click",function(){A.joinOptions.select(A.joinOptions.previousValue);A.publishJoinChange()}),(0,f.default)(this.saveOIDCBtn,"click",function(){A.validate()&&h.default.publish("group/update",
{successMessage:A.i18n.settingsSuccess.join,params:{isInvitationOnly:!1,autoJoin:!1,provider:A.oidcName,providerGroupName:A.oidcGroupInput.getValue(),clearEmptyFields:!0}})}))};y.prototype.publishJoinChange=function(){var A=this.joinOptions.value();h.default.publish("group-join/change",A);this.enterpriseGroupInput.clearError();"request"===A?(this.joinDesc.textContent=this.i18n.joinOptions["requestDesc".concat(this.isPublicUser?"Public":"")],q.default.showNode(this.joinDesc)):q.default.hideNode(this.joinDesc);
"enterprise"===A?(q.default.hideNode(this.oidcInputContainer),q.default.showNode(this.enterpriseInputContainer),q.default.showNode(this.cancelEnterpriseBtn),this.membersOptions.selectOptions.forEach(function(B){"ownerAndManagers"===B.value&&B.disable()})):A.includes("oidc_")?(q.default.hideNode(this.enterpriseInputContainer),q.default.showNode(this.oidcInputContainer),q.default.showNode(this.cancelOIDCBtn),this.membersOptions.selectOptions.forEach(function(B){"ownerAndManagers"===B.value&&B.disable()})):
(q.default.hideNode(this.enterpriseInputContainer),q.default.hideNode(this.oidcInputContainer),this.membersOptions.enable());this.checkMembershipOptionState(A)};y.prototype.getEnterpriseInfo=function(A){var B=new k.default;A?this.portal.isPortal?this.checkEnterprisePortal().then(function(){B.resolve()}):this.checkEnterprise().then(function(){B.resolve()}):(this.enterpriseGroupType=void 0,this.supportsEnterpriseGroups=!1,B.resolve());return B};y.prototype.checkEnterprisePortal=function(){var A=this,
B=new k.default;(0,m.default)({enterpriseGroupConfig:p.default.checkEnterpriseGroupStore(),idpConfig:p.default.fetchIDPConfig()}).then(function(D){var C=D.enterpriseGroupConfig;D=D.idpConfig;(null===C||void 0===C?0:C.supportsEnterpriseGroups)?(D=C.supportsEnterpriseGroups,A.enterpriseGroupType=C.storeType,A.supportsEnterpriseGroups=D):(null===D||void 0===D?0:D.updateGroupsAtSignin)?(A.enterpriseGroupType="saml",A.supportsEnterpriseGroups=D.updateGroupsAtSignin):(A.enterpriseGroupType=void 0,A.supportsEnterpriseGroups=
!1);"saml"!==A.enterpriseGroupType&&(q.default.showNode(A.searchEnterpriseBtn),A.own((0,f.default)(A.searchEnterpriseBtn,"click",function(){p.default.createSpecifiedDialog(w.default,{},A.searchEnterpriseBtn).show(A.enterpriseGroupInput.getValue())}),h.default.subscribe("enterprise-group-selected",function(E){A.enterpriseGroupInput.setValue(E.rolename)})));B.resolve()},function(){A.enterpriseGroupType=void 0;A.supportsEnterpriseGroups=!1;B.resolve()});return B};y.prototype.checkEnterprise=function(){var A=
this,B=new k.default;d.default.request({url:"".concat(d.default.getSecureUrl(x.default.restBaseUrl),"portals/self/idp")}).then(function(D){A.enterpriseGroupType="saml";A.supportsEnterpriseGroups=null===D||void 0===D?void 0:D.updateGroupsAtSignin;B.resolve()},function(){A.enterpriseGroupType=void 0;A.supportsEnterpriseGroups=!1;B.resolve()});return B};y.prototype.checkOIDC=function(A){return a.__awaiter(this,void 0,void 0,function(){var B,D,C,E;return a.__generator(this,function(H){switch(H.label){case 0:if(!A)return[2];
H.label=1;case 1:return H.trys.push([1,3,,4]),[4,d.default.request({url:"".concat(d.default.getSecureUrl(x.default.restBaseUrl),"portals/self/oidc")})];case 2:B=H.sent();if(D=null===(E=null===(C=null===B||void 0===B?void 0:B.oidcProviders)||void 0===C?void 0:C.find(function(G){var F;return null===(F=null===G||void 0===G?void 0:G.providerConfig)||void 0===F?void 0:F.updateGroupsAtSignin}))||void 0===E?void 0:E.id)this.oidcName="oidc_".concat(D);return[3,4];case 3:return H.sent(),[3,4];case 4:return[2]}})})};
y.prototype.getMemberOptions=function(){var A,B,D=this.i18n.memberOptions,C=D.org,E=D.collab;D=D.external;return a.__spreadArray(a.__spreadArray([{inputId:"".concat("can-be-members","-org"),name:"can-be-members",text:C,value:"org",selected:this.group?"org"===this.group.membershipAccess:"org"===this.defaultMemberAccess}],!this.portal.isPortal&&this.portal.canHavePartnerCollab()&&this.hasTrustedOrgs?[{inputId:"".concat("can-be-members","-collaboration"),name:"can-be-members",text:E,value:"collaboration",
selected:"collaboration"===this.defaultMemberAccess||"collaboration"===(null===(A=this.group)||void 0===A?void 0:A.membershipAccess)}]:[],!0),[{inputId:"".concat("can-be-members","-anyOrg"),name:"can-be-members",text:D,value:"anyOrg",selected:""===(null===(B=this.group)||void 0===B?void 0:B.membershipAccess)||this.group&&!this.group.membershipAccess}],!1)};y.prototype.getViewOptions=function(){var A=this.i18n.viewOptions,B=A.groupMembers,D=A.orgMembers;A=A.everyone;return[{inputId:"".concat("can-view-group",
"-private"),name:"can-view-group",text:B,value:"private",selected:!0},{inputId:"".concat("can-view-group","-org"),name:"can-view-group",text:D,value:"org"},{inputId:"".concat("can-view-group","-public"),name:"can-view-group",text:A,value:"public"}]};y.prototype.getJoinOptions=function(){var A,B,D=this.i18n.joinOptions,C=D.request,E=D.invitation,H=D.add;D=D.oidcGroup;var G=this.supportsEnterpriseGroups&&this.i18n.joinOptions["".concat(this.enterpriseGroupType,"Enterprise")],F=null===(A=this.viewOptions)||
void 0===A?void 0:A.value();A="ownerAndManagers"===(null===(B=this.membersOptions)||void 0===B?void 0:B.value());return a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray([{inputId:"".concat("join-group-by","-invitation"),name:"join-group-by",text:E,value:"invitation",selected:"invitation"===this.lastJoinValue}],"private"!==F?[{inputId:"".concat("join-group-by","-request"),name:"join-group-by",text:C,value:"request",selected:"request"===this.lastJoinValue}]:[],!0),this.supportsEnterpriseGroups&&
!A?[{inputId:"".concat("join-group-by","-enterprise"),name:"join-group-by",text:G,value:"enterprise",selected:"enterprise"===this.lastJoinValue}]:[],!0),this.oidcName?[{inputId:"".concat("join-group-by","-oidc"),name:"join-group-by",text:D,value:this.oidcName,selected:this.lastJoinValue===this.oidcName}]:[],!0),this.isPublicUser||"private"===F?[]:[{inputId:"".concat("join-group-by","-autoJoin"),name:"join-group-by",text:H,value:"autoJoin",selected:"autoJoin"===this.lastJoinValue}],!0)};y.prototype.getContributeOptions=
function(){var A=this.i18n,B=A.allMembers,D=A.ownerAndManagers;A=A.ownerOnly;return[{inputId:"".concat("contribute-by","-members"),name:"contribute-by",text:B,value:"members",selected:!0},{inputId:"".concat("contribute-by","-owners"),name:"contribute-by",text:this.isPublicUser?A:D,value:"owners"}]};y.prototype.getDisplayOptions=function(){var A=this.i18n,B=A.groupViewers;A=A.ownerAndManagers;return[{inputId:"".concat("display-members-to","-members"),name:"display-members-to",text:B,value:"allMembers",
selected:!0},{inputId:"".concat("display-members-to","-owner"),name:"display-members-to",text:A,value:"ownerAndManagers"}]};y.prototype.createRadioGroup=function(A,B){return new g.default({options:A,rounded:!0,vertical:!0},this.domNode.querySelector(B))};y.prototype.confirmIrreversible=function(){var A=new k.default;p.default.createConfirmationDialog({strings:{title:this.i18n.notice,description:this.i18n.changeSettingIrreversible},autoCloseOnOk:!0,onOk:function(){A.resolve(!0)},onCancel:function(){A.resolve(!1)}});
return A};return y=a.__decorate([(0,z.default)(v.default,e.default,t.default,b.default)],y)}()})},"arcgisonline/pages/group/widgets/HideMembers":function(){define("require exports tslib dojo/string dijit/_TemplatedMixin dijit/_WidgetBase ../../dijit/Overlay ../../../tsutils/declareDecorator dojo/text!./templates/HideMembers.html dojo/i18n!../../../nls/arcgisonline ../../utils/icons".split(" "),function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.title=r.default.GroupWidget.hideMembersDlg.title;this.primaryBtnText=r.default.GroupWidget.hideMembersDlg.hide;this.i18n=r.default;this.icons=e.default;this.constrain=!0;this.overlayContents=b.default.substitute(u.default,{i18n:r.default,icons:e.default});this.maxWidth=500;this.background="white"}v.prototype.handlePrimary=function(){this.onConfirm()};v.prototype.open=
function(){this.inherited(arguments)};v.prototype.close=function(){this.inherited(arguments)};return v=a.__decorate([(0,h.default)(f.default,k.default,m.default)],v)}()})},"arcgisonline/sharing/dijit/dialog/SelectEnterpriseGroupDlg":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/event dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dojo/keys dojo/topic dojo/store/Memory esri/lang esri/request arcgisonline/sharing/util arcgisonline/sharing/dijit/Grid arcgisonline/esriGeowConfig dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Button dijit/form/TextBox dojo/i18n!arcgisonline/nls/arcgisonline dojo/text!arcgisonline/sharing/dijit/dialog/templates/SelectEnterpriseGroupDlg.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y){var A=M("arcgisonline.sharing.dijit.dialog.SelectEnterpriseGroupDlg",[c,d,w],{declaredClass:"arcgisonline.sharing.dijit.dialog.SelectEnterpriseGroupDlg",basePath:U.toUrl("esri/arcgisonline/sharing/dijit/dialog"),baseClass:"esriSelectEnterpriseGroupDlg",widgetsInTemplate:!0,templateString:y,rowsPerPage:10,_maxGroups:1E3,_searchEnterpriseGroupsAPI:"/security/groups/searchEnterpriseGroups",postMixInProperties:function(){this.inherited(arguments);
this.i18n={};a.mixin(this.i18n,x.common);a.mixin(this.i18n,x.selectEnterpriseGroupDlg)},postCreate:function(){this.inherited(arguments);this._portalAdminUrl=n.getPortalAdminBaseUrl()},startup:function(){this.inherited(arguments)},show:function(B){this._clear();this._initSearch(B);this._dialog.show();this._groupsGrid&&this._groupsGrid._started&&(this._groupsGrid._grid.resize(),this._groupsGrid._grid.refresh());this.onSearch()},onSearchKeyDown:function(B){B.keyCode==r.ENTER&&(k.stop(B),this.onSearch())},
onSearch:function(B){B&&B.preventDefault();this._clearGroupsGrid();this._groupsGrid.refresh();this._setSearchingMessage(this.i18n.searching);(B=this._search.get("value"))&&""!==B?this._searchEnterpriseGroups(B).then(a.hitch(this,function(D){if(D&&D.groups&&0<D.groups.length){var C=this._groupsGrid.get("store"),E;for(E=0;E<D.groups.length;E++)C.put(D.groups[E])}this._groupsGrid.refresh()}),a.hitch(this,function(D){this._groupsGrid.refresh()})):this._defaultGroupsQuery()},onGoToPageKeyDown:function(B){B.keyCode==
r.ENTER&&(k.stop(B),this.onGoToPage())},onGoToPage:function(){var B=this._goTo.get("value"),D=Math.ceil(this._groupsGrid._grid._total/this._groupsGrid._grid._rowsOnPage);try{B=parseInt(B),B<=D?this._groupsGrid._grid.gotoPage(B).then(a.hitch(this,function(){this._goTo.set("value","")})):this._goTo.set("value","")}catch(C){this._goTo.set("value","")}},onCancel:function(){this._dialog.hide()},onOk:function(){e.publish("enterprise-group-selected",this._selectedGroup);this._dialog.hide()},_setSearchingMessage:function(B){if(this._groupsGrid){var D=
this._groupsGrid.domNode.querySelector(".dgrid-no-data");D&&(D.textContent=B)}},_searchEnterpriseGroups:function(B,D){var C=n.formatPortalOrgUrl(this._portalAdminUrl,this._searchEnterpriseGroupsAPI,(l.portal||{}).id);D={maxCount:g.isDefined(D)?D:this._maxGroups};g.isDefined(B)&&0<B.length&&(D.filter=B);return n.request({url:C,content:D})},_defaultGroupsQuery:function(){this._clearGroupsGrid();this._searchEnterpriseGroups().then(a.hitch(this,function(B){if(B&&B.groups&&0<B.groups.length){var D=this._groupsGrid.get("store"),
C;for(C=0;C<B.groups.length;C++)D.put(B.groups[C])}this._groupsGrid.refresh()}),a.hitch(this,function(B){this._groupsGrid.refresh()}))},_groupsGridColumns:function(){return{rolename:{label:" "+this.i18n.groupNameCol,sortable:!1,formatter:a.hitch(this,function(B){return'\x3cspan class\x3d"esriContentTypeName"\x3e'+B+"\x3c/span\x3e"})},description:{label:" "+this.i18n.descCol,sortable:!1,formatter:a.hitch(this,function(B){B=g.isDefined(B)?B:"";return'\x3cspan class\x3d"esriContentTypeName"\x3e'+B+"\x3c/span\x3e"})}}},
_createGroupsGrid:function(){this._groupsGrid=new q({columns:this._groupsGridColumns(),id:"groupsGrid",region:"center",noDataMessage:this.i18n.noGroupsFound,showLoadingMessage:!0,showHeader:!0,rowsPerPage:this.rowsPerPage,pagingLinks:!0,selectionMode:"single",store:new v({identifier:"rolename",label:"rolename",data:[]})},h.create("div",null,this._gridContainer));this._groupsGrid.startup();this._groupsGrid.on("dgrid-select",a.hitch(this,this._selectedGridRow));this._groupsGrid.on("dgrid-deselect",
a.hitch(this,this._deselectedGridRow));this._groupsGrid.on("dgrid-refresh-complete",a.hitch(this,function(){1<Math.ceil(this._groupsGrid._grid._total/this._groupsGrid._grid._rowsOnPage)?u.set(this._goToPageContainer,"display",""):u.set(this._goToPageContainer,"display","none")}))},_selectedGridRow:function(B){m.add(B.rows[0].element,"selectedGroup");this._selectedGroup=B.rows[0].data;this._okBtn.set("disabled",!1)},_deselectedGridRow:function(B){m.remove(B.rows[0].element,"selectedGroup");this._selectedGroup&&
this._selectedGroup.name===B.rows[0].data.name&&(this._selectedGroup=null,this._okBtn.set("disabled",!0))},_initGrid:function(){this._groupsGrid?this._clearGroupsGrid():this._createGroupsGrid();this._groupsGrid.refresh()},_clearGroupsGrid:function(){var B=this._groupsGrid.get("store"),D=B.query(),C;for(C=0;C<D.length;C++)D[C]&&D[C].id&&B.remove(D[C].id)},_clear:function(){this._search.set("value","");this._selectedGroup=null;this._okBtn.set("disabled",!0);this._initGrid()},_initSearch:function(B){g.isDefined(B)&&
this._search.set("value",B)}});A.prototype.statics={_instance:null,getInstance:function(){null==this._instance&&(this._instance=new A);return this._instance}};return A})},"arcgisonline/pages/group/widgets/CreateGroup/GroupDesignations":function(){define("require exports tslib esri/Evented dojo/text!./templates/GroupDesignations.html dojo/i18n!../../../../nls/arcgisonline dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/ToggleSwitch arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=k.default;this.i18n=a.__assign(a.__assign({},f.default.GroupWidget),f.default.createGroupOverlay);this.membershipAccess="org";this.joinOption="invitation"}g.prototype.postCreate=function(){this.inherited(arguments);
this.render();this.calculateToggleStates()};g.prototype.getValues=function(){return{update:this.sharedUpdateToggle.checked(),isOpenData:this.openDataToggle.checked(),adminGroup:this.adminGroupToggle.checked()}};g.prototype.disableAdminGroup=function(){this.adminGroupToggle.disable()};g.prototype.enableAdminGroup=function(){this.adminGroupToggle.enable()};g.prototype.disableSharedUpdate=function(){this.sharedUpdateToggle.disable()};g.prototype.enableSharedUpdate=function(){this.sharedUpdateToggle.enable()};
g.prototype.disabledOpenData=function(){this.openDataToggle.disable()};g.prototype.calculateToggleStates=function(){"enterprise"===this.joinOption||"autoJoin"===this.joinOption||"org"!==this.membershipAccess?this.adminGroupToggle.disable():this.adminGroupToggle.enable();"autoJoin"===this.joinOption||"anyOrg"===this.membershipAccess?this.sharedUpdateToggle.disable():this.sharedUpdateToggle.enable()};g.prototype.getTooltipIcon=function(p){var n='\x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"'.concat("ar"===
document.documentElement.lang?"true":"false",'"\x3e\x3c/calcite-icon\x3e');return'\x3cbutton class\x3d"btn-link margin-left-quarter tooltip tooltip-multiline" aria-label\x3d"'.concat(p,'"\x3e').concat(n,"\x3c/button\x3e")};g.prototype.render=function(){var p=this,n,q,l,c=this.portalUser.userRole,d=this.isAdmin||c.canCreateUpdateCapableGroup(),w=this.i18n,t=w.sharedUpdateNote,z=w.cannotLeave,x=w.openDataGroup,y=w.adminNote;this.sharedUpdateToggle=this.createToggle("".concat(w.editableByAll).concat(this.getTooltipIcon(this.group?
this.i18n.sharedOwnershipTipSettings:this.i18n.sharedOwnershipTip)).concat(this.portal.isPortal?"":"\x3cbr\x3e".concat(t)),"shared-update-toggle",".js-shared-update-toggle");this.sharedUpdateToggle.domNode.classList.add("trailer-quarter");w="".concat(z).concat(this.group?"":this.getTooltipIcon(this.i18n.cantChangeTip)).concat(this.portal.isPortal?"":"\x3cbr\x3e".concat(y));this.adminGroupToggle=this.createToggle(w,"admin-group-toggle",".js-admin-group-toggle");this.openDataToggle=this.createToggle(x,
"open-data-toggle",".js-open-data-toggle");d=d&&(!this.group||this.group&&-1<(null===(n=this.group.capabilities)||void 0===n?void 0:n.indexOf("updateitemcontrol")));e.default.showHide(this.sharedUpdateSection,d);this.group&&-1<(null===(q=this.group.capabilities)||void 0===q?void 0:q.indexOf("updateitemcontrol"))&&this.sharedUpdateToggle.hideSwitch();n=(this.isAdmin||c.canCreateLeavingDisallowedGroup())&&(!this.group||this.group&&this.group.leavingDisallowed);e.default.showHide(this.adminGroupSection,
n);this.group&&this.group.leavingDisallowed&&this.adminGroupToggle.hideSwitch();this.checkOpenData();e.default.showHide(this.openDataSection,this.canShowOpenData);this.canShowOpenData&&(null===(l=this.group)||void 0===l?0:l.isOpenData)&&(this.openDataToggle.check(),this.group.isGroupOwnerOrgMember()||this.openDataToggle.disable());this.sharedUpdateSection.classList.contains("hide")&&this.adminGroupSection.classList.contains("hide")&&this.openDataSection.classList.contains("hide")&&e.default.hideNode(this.domNode);
this.own(m.default.subscribe("group-access/change",function(A){"public"!==A&&p.openDataToggle.uncheck();e.default.showHide(p.openDataSection,p.canShowOpenData&&"public"===A)}),m.default.subscribe("group-join/change",function(A){p.joinOption=A;p.calculateToggleStates()}),this.openDataToggle.on("change",function(A){m.default.publish("group/update",{successMessage:f.default.GroupWidget.settingsSuccess.openData,params:{isOpenData:A}})}),this.adminGroupToggle.on("change",function(A){p.emit("admin-group/toggle",
{checked:A})}),this.sharedUpdateToggle.on("change",function(A){p.emit("shared-update/toggle",{checked:A})}))};g.prototype.checkOpenData=function(){var p,n,q,l=(!this.group||this.group.isOpenData||this.group.isGroupOwnerOrgMember())&&!0===(null===(q=null===(n=null===(p=this.portal)||void 0===p?void 0:p.portalProperties)||void 0===n?void 0:n.openData)||void 0===q?void 0:q.enabled)&&(this.isAdmin||this.portalUser.userRole.canDesignateOpenDataGroups());this.canShowOpenData=!this.portal.isPortal&&!this.isPublicUser&&
l};g.prototype.createToggle=function(p,n,q){return new r.default({label:p,trackId:n,baseClass:"create-group__toggle-switch leader-quarter",labelPosition:"left"},this.domNode.querySelector(q))};return g=a.__decorate([(0,v.default)(u.default,h.default,b.default)],g)}()})},"arcgisonline/pages/components/Group/MembershipAndDesignations/MembershipAndDesignations":function(){define("require exports tslib preact preact/hooks ./store-context ./reducer ./Membership/Membership ./Designations/Designations".split(" "),
function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(r){var e=r.onChange,v={membershipAccess:"org",autoJoin:!1,isInvitationOnly:!0,isViewOnly:!1,provider:"",providerGroupName:"",hiddenMembers:!1,access:"public",capabilities:[]};r=(0,k.useReducer)(m.reducer,{portal:r.portal,portalUser:r.portalUser,texts:r.texts,hasTrustedOrgs:r.hasTrustedOrgs||!1,group:r.group||v,enterpriseGroupType:r.enterpriseGroupType,supportsEnterpriseGroups:r.supportsEnterpriseGroups,
request:r.request,esriGeowConfig:r.esriGeowConfig});var g=r[0],p=r[1];r=(0,k.useMemo)(function(){return{state:g,dispatch:p}},[g]);(0,k.useEffect)(function(){null===e||void 0===e?void 0:e(g.group)},[g.group]);return(0,b.h)("div",null,(0,b.h)(f.StoreContext.Provider,{value:r},(0,b.h)(h.default,null),(0,b.h)(u.default,null)))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/store-context":function(){define(["require","exports","preact","preact/hooks"],function(U,M,a,b){Object.defineProperty(M,
"__esModule",{value:!0});M.useStoreContext=M.StoreContext=void 0;M.StoreContext=(0,a.createContext)({});M.useStoreContext=function(){return(0,b.useContext)(M.StoreContext)}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/reducer":function(){define(["require","exports","tslib"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.reducer=M.toggleOpenData=M.toggleAdminGroup=M.toggleSharedUpdate=M.updateEnterprise=M.updateViewOnly=M.updateProviderGroupName=M.updateAccess=
M.updateJoinValue=M.updateMembershipAccess=M.TOGGLE_OPEN_DATA=M.TOGGLE_ADMIN_GROUP=M.TOGGLE_SHARED_UPDATE=M.UPDATE_ENTERPRISE=M.UPDATE_VIEW_ONLY=M.UPDATE_PROVIDER_GROUP_NAME=M.UPDATE_ACCESS=M.UPDATE_JOIN=M.UPDATE_MEMBERSHIP_ACCESS=void 0;M.UPDATE_MEMBERSHIP_ACCESS="UPDATE_MEMBERSHIP_ACCESS";M.UPDATE_JOIN="UPDATE_JOIN";M.UPDATE_ACCESS="UPDATE_ACCESS";M.UPDATE_PROVIDER_GROUP_NAME="UPDATE_PROVIDER_GROUP_NAME";M.UPDATE_VIEW_ONLY="UPDATE_VIEW_ONLY";M.UPDATE_ENTERPRISE="UPDATE_ENTERPRISE";M.TOGGLE_SHARED_UPDATE=
"TOGGLE_SHARED_UPDATE";M.TOGGLE_ADMIN_GROUP="TOGGLE_ADMIN_GROUP";M.TOGGLE_OPEN_DATA="TOGGLE_OPEN_DATA";M.updateMembershipAccess=function(b){return{type:M.UPDATE_MEMBERSHIP_ACCESS,payload:b}};M.updateJoinValue=function(b){return{type:M.UPDATE_JOIN,payload:b}};M.updateAccess=function(b){return{type:M.UPDATE_ACCESS,payload:b}};M.updateProviderGroupName=function(b){return{type:M.UPDATE_PROVIDER_GROUP_NAME,payload:b}};M.updateViewOnly=function(b){return{type:M.UPDATE_VIEW_ONLY,payload:b}};M.updateEnterprise=
function(b){return{type:M.UPDATE_ENTERPRISE,payload:b}};M.toggleSharedUpdate=function(b){return{type:M.TOGGLE_SHARED_UPDATE,payload:b}};M.toggleAdminGroup=function(b){return{type:M.TOGGLE_ADMIN_GROUP,payload:b}};M.toggleOpenData=function(b){return{type:M.TOGGLE_OPEN_DATA,payload:b}};M.reducer=function(b,k){var f=k.payload;switch(k.type){case M.UPDATE_MEMBERSHIP_ACCESS:return a.__assign(a.__assign({},b),{group:a.__assign(a.__assign({},b.group),{membershipAccess:k.payload})});case M.UPDATE_JOIN:return a.__assign(a.__assign({},
b),{group:a.__assign(a.__assign({},b.group),f)});case M.UPDATE_ACCESS:return a.__assign(a.__assign({},b),{group:a.__assign(a.__assign({},b.group),{access:f})});case M.UPDATE_PROVIDER_GROUP_NAME:return a.__assign(a.__assign({},b),{group:a.__assign(a.__assign({},b.group),{providerGroupName:f})});case M.UPDATE_VIEW_ONLY:return a.__assign(a.__assign({},b),{group:a.__assign(a.__assign({},b.group),{isViewOnly:f})});case M.UPDATE_ENTERPRISE:return a.__assign(a.__assign({},b),{enterpriseGroupType:f.enterpriseGroupType,
supportsEnterpriseGroups:f.supportsEnterpriseGroups});case M.TOGGLE_SHARED_UPDATE:return k=k.payload?a.__spreadArray(a.__spreadArray([],b.group.capabilities,!0),["updateitemcontrol"],!1):b.group.capabilities.filter(function(m){return"updateitemcontrol"!==m}),a.__assign(a.__assign({},b),{group:a.__assign(a.__assign({},b.group),{capabilities:k})});case M.TOGGLE_ADMIN_GROUP:return a.__assign(a.__assign({},b),{group:a.__assign(a.__assign({},b.group),{leavingDisallowed:k.payload})});case M.TOGGLE_OPEN_DATA:return a.__assign(a.__assign({},
b),{group:a.__assign(a.__assign({},b.group),{isOpenData:k.payload})});default:return a.__assign({},b)}}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/Membership":function(){define("require exports tslib preact ../store-context ./MembershipOptions/MembershipOptions ./JoinOptions/JoinOptions ./ViewOptions/ViewOptions ./ContributeOptions/ContributeOptions".split(" "),function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(){var r=(0,k.useStoreContext)().state.texts;return(0,b.h)("div",{class:"create-group-card"},(0,b.h)("h2",{class:"font-size-2 avenir-demi trailer-1"},r.membership),(0,b.h)("div",{class:"create-group-card__body"},(0,b.h)(f.default,null),(0,b.h)(m.default,null),(0,b.h)(h.default,null),(0,b.h)(u.default,null)))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/MembershipOptions/MembershipOptions":function(){define("require exports tslib preact ../MembershipRadioGroup/MembershipRadioGroup ../../store-context ../../reducer ../../../util".split(" "),
function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(){var u=(0,f.useStoreContext)(),r=u.state,e=u.dispatch,v=r.portal,g=r.group;u=r.texts;r=r.hasTrustedOrgs;var p=u.memberOptions||{},n=p.org,q=p.collab;p=p.external;var l=!!g.provider||g.leavingDisallowed,c=!!g.provider||(0,h.isSharedUpdate)(g)||g.leavingDisallowed;v=a.__spreadArray(a.__spreadArray([{text:n,value:"org"}],!v.isPortal&&v.canHavePartnerCollab()&&r?[{text:q,value:"collaboration",
disabled:l}]:[],!0),[{text:p,value:"",disabled:c}],!1).map(function(d){return a.__assign(a.__assign({},d),{id:"".concat("membership-access","-").concat(d.value||"external"),checked:d.value===g.membershipAccess})});return(0,b.h)(k.default,{title:u.whoCanJoin,inputName:"membership-access",options:v,onChange:function(d){e((0,m.updateMembershipAccess)(d))}})}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/MembershipRadioGroup/MembershipRadioGroup":function(){define(["require",
"exports","tslib","preact","../MembershipRadioOption/MembershipRadioOption"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(f){var m=f.inputName,h=f.options,u=f.onChange;return(0,b.h)("div",{class:"trailer-1"},(0,b.h)("div",{class:"avenir-demi"},f.title),(0,b.h)("div",{class:"flex select-options--vertical"},h.map(function(r){return(0,b.h)(k.default,{inputId:r.id,inputName:m,labelText:r.text,value:r.value,onClick:u,checked:r.checked,disabled:r.disabled})})))}})},
"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/MembershipRadioOption/MembershipRadioOption":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.inputName,f=b.inputId,m=b.value,h=b.labelText,u=b.checked,r=b.disabled,e=b.onClick;return(0,a.h)("label",{class:"flex ".concat("select-option__radio-label"," font-size--1 ").concat(u?"".concat("select-option__radio-label","--selected"):"",
" ").concat(r?"select-option--disabled":""),for:f},(0,a.h)("input",{type:"radio",id:f,name:k,checked:u,disabled:r,onClick:function(){null===e||void 0===e?void 0:e(m)}}),h)}})},"arcgisonline/pages/components/Group/util":function(){define(["require","exports"],function(U,M){Object.defineProperty(M,"__esModule",{value:!0});M.isSharedUpdate=void 0;M.isSharedUpdate=function(a){var b;return-1<(null===(b=a.capabilities)||void 0===b?void 0:b.indexOf("updateitemcontrol"))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/JoinOptions/JoinOptions":function(){define("require exports tslib preact preact/hooks ../../store-context ../../../util ../../reducer ../MembershipRadioOption/MembershipRadioOption".split(" "),
function(U,M,a,b,k,f,m,h,u){Object.defineProperty(M,"__esModule",{value:!0});u=a.__importDefault(u);M.default=function(){var r=(0,f.useStoreContext)(),e=r.state,v=r.dispatch,g=e.portalUser,p=e.texts,n=e.group;r=e.enterpriseGroupType;var q=e.supportsEnterpriseGroups,l=e.request,c=e.esriGeowConfig;(0,k.useEffect)(function(){null===l||void 0===l?void 0:l({url:"".concat(null===c||void 0===c?void 0:c.restBaseUrl,"portals/self/idp")}).then(function(E){v((0,h.updateEnterprise)({enterpriseGroupType:"saml",
supportsEnterpriseGroups:null===E||void 0===E?void 0:E.updateGroupsAtSignin}))},function(){v((0,h.updateEnterprise)({enterpriseGroupType:void 0,supportsEnterpriseGroups:!1}))})},[]);e=!g.orgId;g=n.leavingDisallowed||"org"!==n.membershipAccess;var d=(0,m.isSharedUpdate)(n)||n.leavingDisallowed,w=p.joinOptions||{},t=w.request,z=w.invitation,x=w.add,y=w.samlEnterprise,A=w.ldapEnterprise;w=w.windowsEnterprise;var B="";if(r)switch(r){case "saml":B=y;break;case "ldap":B=A;break;case "windows":B=w;break;
default:B=""}r=a.__spreadArray(a.__spreadArray(a.__spreadArray([{id:"".concat("join-radio","-invitation"),text:z,value:"invitation",checked:n.isInvitationOnly}],"private"!==n.access?[{id:"".concat("join-radio","-request"),text:t,value:"request",checked:!n.isInvitationOnly&&!n.autoJoin&&!n.provider}]:[],!0),q&&!n.hiddenMembers?[{id:"".concat("join-radio","-enterprise"),text:B,value:"enterprise",checked:!!n.provider,disabled:g}]:[],!0),e||"private"===n.access?[]:[{id:"".concat("join-radio","-autoJoin"),
text:x,value:"autoJoin",checked:n.autoJoin,disabled:d}],!0);var D=function(E){var H;E=(null===(H=E.target)||void 0===H?void 0:H.value)||"";v((0,h.updateProviderGroupName)(E))},C=function(E){v((0,h.updateJoinValue)({autoJoin:"autoJoin"===E,isInvitationOnly:"invitation"===E,provider:"enterprise"===E?"enterprise":""}))};return(0,b.h)("div",{class:"trailer-1"},(0,b.h)("div",{class:"avenir-demi"},p.whoCanJoin),(0,b.h)("div",{class:"flex select-options--vertical"},r.map(function(E){return(0,b.h)(b.Fragment,
null,(0,b.h)(u.default,{inputId:E.id,inputName:"join-radio",labelText:E.text,value:E.value,onClick:C,checked:E.checked,disabled:E.disabled}),"enterprise"===E.value&&E.checked&&(0,b.h)("div",{class:"leader-quarter margin-left-2 margin-right-3 trailer-half"},(0,b.h)("label",{class:"trailer-0"},(0,b.h)("span",null,p.joinOptions.enterpriseLabel),(0,b.h)("input",{type:"text",placeholder:p.joinOptions.enterprisePlaceholder,class:n.providerGroupName?"":"input-error",onInput:D}),(0,b.h)("div",{class:"input-error-message ".concat(n.providerGroupName?
"":"is-active")},p.enterpriseGroups.missingEnterpriseGroupName))))})))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/ViewOptions/ViewOptions":function(){define("require exports tslib preact ../../store-context ../../reducer ../MembershipRadioGroup/MembershipRadioGroup".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});m=a.__importDefault(m);M.default=function(){var h=(0,k.useStoreContext)(),u=h.state,r=h.dispatch;h=u.texts;var e=u.group,
v=h.viewOptions||{};u=v.groupMembers;var g=v.orgMembers;v=v.everyone;u=a.__spreadArray(a.__spreadArray([],e.isInvitationOnly||e.provider?[{text:u,value:"private"}]:[],!0),[{text:g,value:"org"},{text:v,value:"public"}],!1).map(function(p){return a.__assign(a.__assign({},p),{id:"".concat("group-access","-").concat(p.value),checked:p.value===e.access})});return(0,b.h)(m.default,{title:h.whoCanView,inputName:"group-access",options:u,onChange:function(p){r((0,f.updateAccess)(p))}})}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Membership/ContributeOptions/ContributeOptions":function(){define("require exports tslib preact ../MembershipRadioGroup/MembershipRadioGroup ../../store-context ../../reducer".split(" "),
function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(){var h=(0,f.useStoreContext)(),u=h.state,r=h.dispatch;h=u.texts;var e=u.group,v=h.ownerAndManagers,g=h.ownerOnly;u=[{text:h.allMembers,value:"members"},{text:u.portalUser.orgId?v:g,value:"owner"}].map(function(p){var n=!1;"members"===p.value?n=!e.isViewOnly:"owner"===p.value&&(n=e.isViewOnly||!1);return a.__assign(a.__assign({},p),{id:"".concat("contribute-options","-").concat(p.value),
checked:n})});return(0,b.h)(k.default,{title:h.contributeBy,inputName:"contribute-options",options:u,onChange:function(p){r((0,m.updateViewOnly)("owner"===p))}})}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Designations/Designations":function(){define("require exports tslib preact ../store-context ../reducer ./DesignationOption/DesignationOption".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});m=a.__importDefault(m);M.default=function(){var h=
(0,k.useStoreContext)(),u=h.state,r=h.dispatch;h=u.texts;u=u.group;var e=-1<u.capabilities.indexOf("updateitemcontrol"),v=""===u.membershipAccess||u.autoJoin,g="org"!==u.membershipAccess||u.autoJoin;return(0,b.h)("div",{class:"create-group-card"},(0,b.h)("h2",{class:"font-size-2 avenir-demi trailer-1"},h.groupDesignations),(0,b.h)("div",{class:"create-group-card__body"},(0,b.h)(m.default,{switchId:"shared-update-toggle",title:h.sharedUpdate,description1:h.editableByAll,tooltip:h.sharedOwnershipTip,
description2:h.sharedUpdateNote,onChange:function(p){r((0,f.toggleSharedUpdate)(p.target.checked))},switched:e,disabled:v}),(0,b.h)(m.default,{switchId:"admin-group-toggle",title:h.adminGroup,description1:h.cannotLeave,description2:h.adminNote,onChange:function(p){r((0,f.toggleAdminGroup)(p.target.checked))},switched:u.leavingDisallowed,disabled:g}),(0,b.h)(m.default,{switchId:"open-data-toggle",title:h.openData,description1:h.openDataGroup,onChange:function(p){r((0,f.toggleOpenData)(p.target.checked))},
switched:u.isOpenData})))}})},"arcgisonline/pages/components/Group/MembershipAndDesignations/Designations/DesignationOption/DesignationOption":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.title,f=b.description1,m=b.onChange,h=b.tooltip,u=b.description2,r=b.switched,e=b.disabled;b=b.switchId;return(0,a.h)("div",{class:"trailer-1",id:"".concat(b,"-option")},(0,a.h)("div",{class:"avenir-demi","data-test":"title"},
k),(0,a.h)("div",{class:"flex create-group__toggle-switch leader-quarter trailer-quarter"},(0,a.h)("div",{class:"flex-1 margin-right-1"},f&&(0,a.h)("p",{class:"trailer-quarter","data-test":"desc1"},f,h&&(0,a.h)("button",{class:"btn-link margin-left-quarter tooltip tooltip-multiline","aria-label":h},(0,a.h)("calcite-icon",{icon:"question",scale:"s"}))),u&&(0,a.h)("p",{class:"trailer-0","data-test":"desc2"},u)),(0,a.h)("div",{class:"flex-0"},(0,a.h)("calcite-switch",{id:b,oncalciteSwitchChange:m,checked:r,
disabled:e,"data-test":"switch"}))))}})},"arcgisonline/pages/organization/widgets/settings/EndCollabOverlay":function(){define("require exports tslib preact esri/Evented dojo/promise/all dojo/on dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings arcgisonline/pages/dijit/Overlay arcgisonline/pages/portal/PortalGroup arcgisonline/pages/pageUtil arcgisonline/pages/utils/channels arcgisonline/pages/utils/dom arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/pages/components/Collaborations/EndCollaboration/EndCollaboration arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.title=u.default.collaborationsTab.online.orgs.deleteConfirm.title;this.i18n=h.default;this.overlayContents='\x3cdiv class\x3d"js-end-collab-content"\x3e\x3c/div\x3e';
this.maxWidth=700;this.constrain=!0;this.closeOnScrimClick=!1;this.step=1;this.groupIconCount=5;this.collabOnlyGroups=[];this.additionalCollabOnlyCount=0;this.anyOrgGroups=[];this.additionalAnyOrgCount=0;this.usersInExternalGroups=[];this.externalPartneredGroups=[];this.usersInExternalPartnerGroups=[];this.externalAnyOrgGroups=[];this.usersInExternalAnyOrgGroups=[];this.emailMessage="";this.endMode="review";this.handleCheckboxChange=this.handleCheckboxChange.bind(this);this.handleNotifiedChange=this.handleNotifiedChange.bind(this);
this.handleModeChange=this.handleModeChange.bind(this);this.handleMessageChange=this.handleMessageChange.bind(this)}d.prototype.open=function(){var w=this;this.inherited(arguments);this.domNode.classList.add("end-collab-overlay");this.emailMessage=u.default.collaborationsTab.online.endCollab.emailMessage.defaultText.replace("${orgName}",this.portal.name);this._primaryBtn.textContent=u.default.common.next;this.renderContent();this.getData().then(function(){w.collabOnlyGroups.length||w.anyOrgGroups.length||
(w.step=w.usersInExternalGroups.length?2:3);w.renderContent()});this.backBtn.textContent=this.i18n.common.back;this.own((0,m.default)(this.backBtn,"click",function(){var t=w.step-1;2!==t||w.usersInExternalGroups.length||(t=1);"immediate"===w.endMode&&(t=1);w.step=t;w.renderContent();1===w.step&&p.default.hideNode(w.backBtn)}));(0,g.handleGroupSettingsUpdate)(function(){w.handleGroupUpdate()})};d.prototype.handlePrimary=function(){3===this.step?(this.emit("end-collab/confirm",{message:this.emailMessage}),
this.close()):("immediate"===this.endMode?this.step=3:(this.step++,2!==this.step||this.usersInExternalGroups.length||(this.step=3)),this.renderContent())};d.prototype.handleGroupUpdate=function(){var w=this;this.domNode&&setTimeout(function(){w.getData().then(function(){2!==w.step||w.collabOnlyGroups.length||(w.step=3);3!==w.step||w.anyOrgGroups.length||(w.step=4);w.renderContent()})},300)};d.prototype.getData=function(){return(0,f.default)([this.getCollabOnlyGroups(),this.getAnyOrgGroups(),this.getUsersInExternalGroups()])};
d.prototype.handleModeChange=function(w){this.endMode=w;this.renderContent()};d.prototype.handleNotifiedChange=function(w){this._primaryBtn.disabled=!w.target.checked};d.prototype.renderContent=function(){1<this.step&&p.default.showNode(this.backBtn);3===this.step?(this._primaryBtn.textContent=this.title,this._primaryBtn.disabled=!0):(this._primaryBtn.textContent=this.i18n.common.next,this._primaryBtn.disabled=!1);(0,b.render)((0,b.h)(l.default,{step:this.step,portal:this.portal,orgId:this.org.id,
orgName:this.org.name,collabOnlyGroups:this.collabOnlyGroups,additionalCollabOnlyCount:this.additionalCollabOnlyCount,anyOrgGroups:this.anyOrgGroups,additionalAnyOrgCount:this.additionalAnyOrgCount,usersInExternalGroups:this.usersInExternalGroups,onNotifiedChange:this.handleNotifiedChange,onModeChange:this.handleModeChange,endMode:this.endMode,emailMessage:this.emailMessage,onEmailMessageChange:this.handleMessageChange}),this.domNode.querySelector(".js-end-collab-content"))};d.prototype.handleMessageChange=
function(w){this.emailMessage=w.target.value};d.prototype.handleCheckboxChange=function(w){this._primaryBtn.disabled=!w.target.checked};d.prototype.getGroupsByAccess=function(w){w=w?"membershipaccess:".concat(w):"-membershipaccess:org -membershipaccess:collaboration";return n.default.request({url:"".concat(q.default.restBaseUrl,"community/groups"),content:{q:"orgid:".concat(this.portal.id," memberorgids:").concat(this.org.id," ").concat(w),start:1,num:this.groupIconCount,sortField:"title",sortOrder:"asc"}})};
d.prototype.getCollabOnlyGroups=function(){var w=this;return this.getGroupsByAccess("collaboration").then(function(t){var z;w.collabOnlyGroups=null===(z=null===t||void 0===t?void 0:t.results)||void 0===z?void 0:z.map(function(x){return new e.default(a.__assign(a.__assign({},x),{portal:w.portal}))});w.additionalCollabOnlyCount=t.total-w.groupIconCount})};d.prototype.getAnyOrgGroups=function(){var w=this;return this.getGroupsByAccess().then(function(t){var z;w.anyOrgGroups=null===(z=null===t||void 0===
t?void 0:t.results)||void 0===z?void 0:z.map(function(x){return new e.default(a.__assign(a.__assign({},x),{portal:w.portal}))});w.additionalAnyOrgCount=t.total-w.groupIconCount})};d.prototype.getUsersInExternalGroups=function(){return a.__awaiter(this,void 0,void 0,function(){var w;return a.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,v.default.fetchAllResources("".concat(q.default.restBaseUrl,"portals/self/users/search"),{q:"accountid:".concat(this.portal.id,
" AND joinedgroupsorgids:").concat(this.org.id)})];case 1:return this.usersInExternalGroups=w=t.sent(),[4,this.getExternalPartneredGroups()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})})};d.prototype.getExternalPartneredGroups=function(){return a.__awaiter(this,void 0,void 0,function(){var w,t=this;return a.__generator(this,function(z){try{return w=Promise.all(this.usersInExternalGroups.map(function(x){return t.getGroupsForUser(x)})),[2,w]}catch(x){return[2,void 0]}})})};
d.prototype.getGroupsForUser=function(w){return a.__awaiter(this,void 0,void 0,function(){var t,z=this;return a.__generator(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,v.default.fetchAllResources("".concat(q.default.restBaseUrl,"community/groups"),{searchUserAccess:"groupMember",searchUserName:w.username})];case 1:return t=x.sent(),t.forEach(function(y){"collaboration"===y.membershipAccess?(z.externalPartneredGroups.filter(function(A){return A.id===y.id})[0]||z.externalPartneredGroups.push(y),
z.usersInExternalPartnerGroups.filter(function(A){return A.username===w.username})[0]||z.usersInExternalPartnerGroups.push(w)):y.membershipAccess||(z.externalAnyOrgGroups.push(y),z.usersInExternalAnyOrgGroups.push(w))}),[3,3];case 2:return x.sent(),[3,3];case 3:return[2]}})})};d.prototype.groupFound=function(w,t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(z){return[2]})})};return d=a.__decorate([(0,c.default)(r.default,k.default)],d)}()})},"arcgisonline/pages/utils/channels":function(){define(["require",
"exports"],function(U,M){function a(u){k[u]=k[u]||new BroadcastChannel(u);return k[u]}Object.defineProperty(M,"__esModule",{value:!0});M.handleRecycleUpdate=M.broadcastRecyleUpdate=M.handleGroupSettingsUpdate=M.broadcastGroupSettingsUpdate=M.handleItemSettingsUpdate=M.broadcastItemSettingsUpdate=void 0;var b;(function(u){u.ITEM_SETTINGS_UPDATE="ITEM_SETTINGS_UPDATE";u.GROUP_SETTINGS_UPDATE="GROUP_SETTINGS_UPDATE";u.RECYCLE_UPDATE="RECYCLE_UPDATE"})(b||(b={}));var k={},f={},m=function(u,r){"BroadcastChannel"in
self&&a(u).postMessage(r)},h=function(u,r){if("BroadcastChannel"in self){var e=a(u);f[u]=f[u]||[];f[u].push(r);e.onmessage||(e.onmessage=function(v){f[u].forEach(function(g){return g(v.data)})})}};M.broadcastItemSettingsUpdate=function(u){return m(b.ITEM_SETTINGS_UPDATE,u)};M.handleItemSettingsUpdate=function(u){return h(b.ITEM_SETTINGS_UPDATE,u)};M.broadcastGroupSettingsUpdate=function(){return m(b.GROUP_SETTINGS_UPDATE,!0)};M.handleGroupSettingsUpdate=function(u){return h(b.GROUP_SETTINGS_UPDATE,
u)};M.broadcastRecyleUpdate=function(){return m(b.RECYCLE_UPDATE,!0)};M.handleRecycleUpdate=function(u){return h(b.RECYCLE_UPDATE,u)}})},"arcgisonline/pages/components/Collaborations/EndCollaboration/EndCollaboration":function(){define("require exports tslib preact preact/hooks ../../GroupIcon ./ExternalGroups arcgisonline/sharing/util arcgisonline/esriGeowConfig dojo/i18n!../../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h,u,r){var e=this;Object.defineProperty(M,"__esModule",{value:!0});
f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);M.default=function(v){var g=v.step,p=v.portal,n=v.orgName,q=v.orgId,l=v.collabOnlyGroups,c=v.additionalCollabOnlyCount,d=v.anyOrgGroups,w=v.additionalAnyOrgCount,t=v.usersInExternalGroups,z=v.emailMessage,x=v.onNotifiedChange;v=v.onEmailMessageChange;var y=a.__assign(a.__assign({},r.default.common),r.default.collaborationsTab.online.endCollab),A=(0,k.useState)(0),B=A[0],D=A[1];A=(0,k.useState)(0);
var C=A[0],E=A[1],H=function(J){return a.__awaiter(e,void 0,void 0,function(){var K;return a.__generator(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,h.default.request({url:"".concat(u.default.restBaseUrl,"community/groups/").concat(J,"/userlist"),content:{orgIds:q}})];case 1:return K=P.sent(),[2,K];case 2:return P.sent(),[2,void 0];case 3:return[2]}})})},G=function(){return a.__awaiter(e,void 0,void 0,function(){var J,K;return a.__generator(this,function(P){switch(P.label){case 0:return[4,
Promise.all(l.map(function(T){return H(T.id)}))];case 1:return J=P.sent(),K=0,J.forEach(function(T){T&&(K+=T.total)}),D(K),[2]}})})},F=function(){return a.__awaiter(e,void 0,void 0,function(){var J,K;return a.__generator(this,function(P){switch(P.label){case 0:return[4,Promise.all(d.map(function(T){return H(T.id)}))];case 1:return J=P.sent(),K=0,J.forEach(function(T){T&&(K+=T.total)}),E(K),[2]}})})};(0,k.useEffect)(function(){G()},[l]);(0,k.useEffect)(function(){F()},[d]);var I=function(J){window.open("group.html?id\x3d".concat(J.id),
"_blank")};return(0,b.h)("div",null,1===g&&(0,b.h)("div",null,(0,b.h)("p",{class:"margin-left-1 leader-1"},y.yourGroupsDesc.replace("${orgName}",n)),(0,b.h)("div",{class:"end-collaboration__step-content"},(0,b.h)("p",{class:"avenir-bold trailer-1"},y.collabOnlyGroups.desc),(0,b.h)("p",{class:"trailer-0"},y.collabOnlyGroups.title),(0,b.h)("div",{class:"trailer-1 flex flex-align-center"},l.map(function(J){return(0,b.h)(f.default,{key:J.id||J.title,group:J,portal:p,onClick:I,scale:"m"})}),0<c&&(0,b.h)("div",
{class:"end-collaboration__plus-groups font-size--1"},"+",c),(0,b.h)("div",{class:"margin-left-1"},(0,b.h)("a",{href:"groups.html?membershipaccess\x3dcollaboration\x26memberorgids\x3d".concat(q,"#organization"),target:"_blank",class:"flex flex-align-center"},y.viewAll," ",(0,b.h)("calcite-icon",{class:"margin-left-half",icon:"launch",scale:"s"})))),(0,b.h)("div",null,(0,b.h)("p",{class:"trailer-0"},y.membersFromOther.replace("${orgName}",n)),(0,b.h)("p",{class:"trailer-1"},B?B:(0,b.h)("calcite-loader",
{label:"",scale:"m",inline:!0}))),(0,b.h)("div",{class:"end-collaboration__tip-wrapper flex flex-align-center"},(0,b.h)("calcite-icon",{icon:"lightbulb",scale:"s",class:"end-collaboration__tip-icon"}),(0,b.h)("p",{class:"trailer-0 margin-left-1 font-size--1"},y.collabOnlyGroups.tip))),0<d.length&&(0,b.h)("div",{class:"end-collaboration__step-content"},(0,b.h)("p",{class:"trailer-1"},(0,b.h)("b",null,y.anyOrgGroups.remain),y.anyOrgGroups.demote),(0,b.h)("p",{class:"trailer-0"},y.anyOrgGroups.title),
(0,b.h)("div",{class:"trailer-1 flex flex-align-center"},d.map(function(J){return(0,b.h)(f.default,{key:J.id||J.title,portal:p,group:J,onClick:I,scale:"m"})}),0<w&&(0,b.h)("div",{class:"end-collaboration__plus-groups font-size--1"},"+",w),(0,b.h)("div",{class:"margin-left-1"},(0,b.h)("a",{href:"groups.html?membershipaccess\x3danyOrg\x26memberorgids\x3d".concat(q),target:"_blank",class:"flex flex-align-center"},y.viewAll," ",(0,b.h)("calcite-icon",{class:"margin-left-half",icon:"launch",scale:"s"})))),
(0,b.h)("div",null,(0,b.h)("p",{class:"trailer-0"},y.membersFromOther.replace("${orgName}",n)),(0,b.h)("p",{class:"trailer-1"},C?C:(0,b.h)("calcite-loader",{label:"",scale:"m",inline:!0}))))),2===g&&0<(null===t||void 0===t?void 0:t.length)&&(0,b.h)(m.default,{usersInExternalGroups:t,orgName:n,orgId:q}),3===g&&(0,b.h)("div",{class:"end-collaboration__step-content"},(0,b.h)("label",{class:"flex avenir-demi"},(0,b.h)("input",{class:"margin-right-half",type:"checkbox",onChange:x}),r.default.collaborationsTab.online.orgs.deleteConfirm.checkboxLabel.replace("${orgName}",
n)),(0,b.h)("label",null,y.emailMessage.label,(0,b.h)("textarea",{rows:5,onInput:v,class:"end-collab__message-textarea"},z))))}})},"arcgisonline/pages/components/GroupIcon":function(){define(["require","exports","preact"],function(U,M,a){Object.defineProperty(M,"__esModule",{value:!0});M.default=function(b){var k=b.group,f=b.onClick;return(0,a.h)("arcgis-group-thumbnail",{class:b.cssClasses||"",onClick:function(){f(k)},group:k,portal:b.portal,scale:b.scale,tooltip:b.tooltip})}})},"arcgisonline/pages/components/Collaborations/EndCollaboration/ExternalGroups":function(){define("require exports tslib preact preact/hooks arcgisonline/pages/pageUtil arcgisonline/esriGeowConfig dojo/i18n!../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h){var u=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);M.default=function(r){var e=r.usersInExternalGroups,v=r.orgName,g=r.orgId;r=a.__assign(a.__assign({},h.default.common),h.default.collaborationsTab.online.endCollab);var p=(0,k.useState)({externalPartneredGroups:[],usersInExternalParternedGroups:[],externalAnyOrgGroups:[],usersInExternalAnyOrgGroups:[]}),n=p[0],q=p[1];p=(0,k.useState)(!0);var l=
p[0],c=p[1],d=function(){return a.__awaiter(u,void 0,void 0,function(){var t,z;return a.__generator(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,Promise.all(e.map(function(y){return w(y)}))];case 1:return t=x.sent(),z=a.__assign({},n),t.forEach(function(y,A){var B=e[A];y.forEach(function(D){var C=D.id;D=D.membershipAccess;"collaboration"===D?(-1===z.externalPartneredGroups.indexOf(C)&&z.externalPartneredGroups.push(C),-1===z.usersInExternalParternedGroups.indexOf(B.username)&&
z.usersInExternalParternedGroups.push(B.username)):D||(-1===z.externalAnyOrgGroups.indexOf(C)&&z.externalAnyOrgGroups.push(C),-1===z.usersInExternalAnyOrgGroups.indexOf(B.username)&&z.usersInExternalAnyOrgGroups.push(B.username))})}),q(z),c(!1),[3,3];case 2:return x.sent(),[3,3];case 3:return[2]}})})},w=function(t){return a.__awaiter(u,void 0,void 0,function(){var z;return a.__generator(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,f.default.fetchAllResources("".concat(m.default.restBaseUrl,
"community/groups"),{searchUserAccess:"groupMember",searchUserName:t.username,q:"orgid:".concat(g)})];case 1:return z=x.sent(),[2,z];case 2:return x.sent(),[2,[]];case 3:return[2]}})})};(0,k.useEffect)(function(){(null===e||void 0===e?0:e.length)&&d()},[e]);return(0,b.h)("div",null,(0,b.h)("p",{class:"margin-left-1 leader-1"},r.otherGroupsDesc.replace("${orgName}",v)),(l||0<n.externalPartneredGroups.length)&&(0,b.h)("div",{class:"end-collaboration__step-content"},(0,b.h)("p",{class:"avenir-demi"},
r.removedFromGroups),(0,b.h)("p",{class:"trailer-0"},r.partneredMembership),(0,b.h)("div",{class:"trailer-1"},l?(0,b.h)("calcite-loader",{label:"",scale:"m",inline:!0}):n.externalPartneredGroups.length),(0,b.h)("p",{class:"trailer-0"},r.membersFromYourOrg),(0,b.h)("div",{class:"trailer-1"},l?(0,b.h)("calcite-loader",{label:"",scale:"m",inline:!0}):n.usersInExternalParternedGroups.length)),0<n.externalAnyOrgGroups.length&&(0,b.h)("div",{class:"end-collaboration__step-content"},(0,b.h)("p",null,(0,b.h)("span",
{class:"avenir-demi"},r.remainInGroups)," ",r.demoteCoordinators),(0,b.h)("p",{class:"trailer-0"},r.anyOrgMembership),(0,b.h)("div",{class:"trailer-1"},l?(0,b.h)("calcite-loader",{label:"",scale:"m",inline:!0}):n.externalAnyOrgGroups.length),(0,b.h)("p",{class:"trailer-0"},r.membersFromYourOrg),(0,b.h)("div",{class:"trailer-1"},l?(0,b.h)("calcite-loader",{label:"",scale:"m",inline:!0}):n.usersInExternalAnyOrgGroups.length)))}})},"arcgisonline/pages/components/Collaborations/SuspendCollaboration":function(){define("require exports tslib preact preact/hooks dojo/i18n!../../../nls/org-settings dojo/topic arcgisonline/pages/utils/alerts arcgisonline/pages/components/Collaborations/collab-service".split(" "),
function(U,M,a,b,k,f,m,h,u){var r=this;Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);M.default=function(e){var v=e.partner,g=e.onClose,p=(0,k.useState)(!1);e=p[0];var n=p[1],q=(0,k.useState)(!1)[1],l=(0,k.useState)(!1);p=l[0];var c=l[1],d=(0,k.useRef)(null),w=a.__assign(a.__assign(a.__assign({},f.default.common),f.default.collaborationsTab.online.orgs),f.default.collaborationsTab.online.orgs.suspendConfirm);
l=function(z){return z.replace("${orgName}",v.name)};var t=function(){n(!1);g()};(0,k.useEffect)(function(){n(!0)},[]);(0,k.useEffect)(function(){d.current&&n(!0)},[d.current]);return(0,b.h)("calcite-modal",{ref:d,"aria-labelledby":"suspend-collab-title",open:e,oncalciteModalClose:t},(0,b.h)("h3",{slot:"header",id:"suspend-collab-title"},w.title),(0,b.h)("div",{slot:"content"},(0,b.h)("p",null,l(w.description)),(0,b.h)("div",{class:"suspend-collab__content"},(0,b.h)("calcite-accordion",{iconType:"chevron",
"icon-position":"start",appearance:"transparent"},(0,b.h)("calcite-accordion-item",{heading:w.inMyOrgGroups,open:!0},(0,b.h)("ul",null,(0,b.h)("li",null,l(w.cannotPromote)),(0,b.h)("li",null,l(w.cannotInvite)))),(0,b.h)("calcite-accordion-item",{heading:l(w.inExternalGroups),open:!0},(0,b.h)("ul",null,(0,b.h)("li",null,l(w.myCoordinators)))),(0,b.h)("calcite-accordion-item",{heading:w.notImpacted,open:!0},(0,b.h)("ul",null,(0,b.h)("li",null,w.membershipAndPermissions),(0,b.h)("li",null,w.canManageItems),
(0,b.h)("li",null,w.canRemove),(0,b.h)("li",null,l(w.canChangeRole)))))),(0,b.h)("div",null,(0,b.h)("input",{type:"checkbox",onChange:function(z){c(z.target.checked)}})," ",l(w.notified)," ",l(w.notifiedNote))),(0,b.h)("calcite-button",{slot:"secondary",appearance:"outline",onClick:t},w.cancel),(0,b.h)("calcite-button",{slot:"primary",onClick:function(){return a.__awaiter(r,void 0,void 0,function(){return a.__generator(this,function(z){switch(z.label){case 0:q(!0),z.label=1;case 1:return z.trys.push([1,
3,,4]),[4,u.default.suspend(v.id)];case 2:return z.sent(),h.default.showAlert("success",w.suspendSuccess),[3,4];case 3:return z.sent(),h.default.showAlert("error",w.suspendError),[3,4];case 4:return q(!1),n(!1),g(),setTimeout(function(){m.default.publish("collaboration/updated")},300),[2]}})})},disabled:!p},l(w.suspendCollaboration)))}})},"arcgisonline/pages/organization/widgets/settings/rows/CollabContactsRow":function(){define("require exports tslib dojo/topic dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/CollabContactsRow.html ./SettingsRow ../MemberListItem ../CollabContactsOverlay arcgisonline/pages/portal/PortalUser arcgisonline/pages/pageUtil arcgisonline/pages/utils/alerts arcgisonline/pages/components/Collaborations/collab-service arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.templateString=m.default;this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},
this.i18n),f.default.common),f.default.collaborationsTab.online),f.default.collaborationsTab.online.contacts);this.trustedOrgs=[];this.coordinators=[];this.listItems=[];this.handleRemove=this.handleRemove.bind(this);this.handleCollabSent=this.handleCollabSent.bind(this);this.manageContacts=this.manageContacts.bind(this);this.label=this.i18n.coordinators;this.description=this.i18n.description;this.render=this.render.bind(this)}d.prototype.render=function(){var w=this;this.getCollabContacts().then(function(){w.renderItems()})};
d.prototype.addEventListeners=function(){var w=this;this.own(b.default.subscribe("collaboration/sent",this.handleCollabSent),b.default.subscribe("collaboration/accepted",function(){0===w.coordinators.length&&(w.createCoordinatorsPrompt(w.i18n.requestAccepted),b.default.publish("pending-collab/close"))}),(0,k.default)(this.manageBtn,"click",this.manageContacts),b.default.subscribe("collaborations/loaded",function(t){w.trustedOrgs=t;w.preventRemoveLastCoordinator()}))};d.prototype.renderItems=function(){var w=
this;this.listItems.forEach(function(t){return t.destroy()});this.listItems=[];this.coordinators.forEach(function(t){var z=new e.default(a.__assign(a.__assign({},t),{portal:w.portal}));z.id=t.username;t=new u.default({member:z,isCoordinator:!0});w.own(t.on("remove",w.handleRemove));w.contactsContainer.appendChild(t.domNode);w.listItems.push(t)});this.preventRemoveLastCoordinator()};d.prototype.preventRemoveLastCoordinator=function(){0<this.trustedOrgs.length&&1===this.listItems.length&&this.listItems[0].hideRemoveBtn()};
d.prototype.handleCollabSent=function(){0===this.coordinators.length?this.createCoordinatorsPrompt():g.default.showAlert("success",f.default.collaborationsTab.online.collabSentSuccess)};d.prototype.createCoordinatorsPrompt=function(w){var t=this.i18n.requestSentDlg,z=t.title,x=t.message;t=t.buttonText;var y=v.default.createSpecifiedDialog(n.default,{onHide:this.manageContacts});y._dialog.domNode.classList.add("request-sent-dlg");y.show({title:w||z,message:x,buttonText:t})};d.prototype.manageContacts=
function(){var w=this,t=new r.default({portal:this.portal,portalUser:this.portalUser,contacts:this.coordinators.map(function(z){return a.__assign(a.__assign({},z),{thumbnailUrl:""})}),hasTrustedOrgs:0<this.trustedOrgs.length});t.open();this.own(t.on("save",function(){w.getCollabContacts().then(function(){w.renderItems()})}))};d.prototype.handleRemove=function(w){var t=-1;this.coordinators.some(function(x,y){x.username===w.member.username&&(t=y)});-1<t&&this.coordinators.splice(t,1);q.default.request({url:"".concat(l.default.restBaseUrl,
"portals/self/updateContacts"),content:{users:this.coordinators.map(function(x){return x.username}).join(","),type:"collaboration"}},{usePost:!0});var z=-1;this.listItems.forEach(function(x,y){x.member.username===w.member.username&&(z=y)});-1<z&&this.listItems.splice(z,1);w.destroy();this.preventRemoveLastCoordinator()};d.prototype.getCollabContacts=function(){var w=this;return p.default.getCoordinators(!0).then(function(t){w.coordinators=(null===t||void 0===t?void 0:t.users)||[];t="(username:".concat(w.coordinators.map(function(z){return z.username}).join(" OR username:"),
")");return q.default.request({url:"".concat(l.default.restBaseUrl,"portals/self/users/search"),content:{filter:t}})}).then(function(t){var z;(null===(z=null===t||void 0===t?void 0:t.results)||void 0===z?0:z.length)&&w.coordinators.forEach(function(x){var y,A=null===(y=t.results.filter(function(B){return B.username===x.username})[0])||void 0===y?void 0:y.access;A&&(x.access=A)});return w.coordinators})};return d=a.__decorate([(0,c.default)(h.default)],d)}()})},"arcgisonline/pages/organization/widgets/settings/CollabContactsOverlay":function(){define("require exports tslib esri/Evented dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings arcgisonline/pages/dijit/Overlay ../../../dijit/MemberBrowser ../../../dijit/MemberBrowser/MemberBrowserRow ../../../utils/culture ../../../utils/alerts arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.i18n=k.default;this.texts=a.__assign({},f.default.collaborationsTab.online.contacts);this.title=this.texts.manage;this.constrain=!0;this.overlayContents='\x3cdiv\x3e\x3cdiv class\x3d"js-member-browser"\x3e\x3c/div\x3e\x3c/div\x3e';
this.contacts=[];this.hasTrustedOrgs=!1}n.prototype.open=function(){var q=this;this.inherited(arguments);this.memberBrowser=new h.default({userTypeFilter:!0,groupsFilter:!0,portal:this.portal,user:this.portalUser,row:u.default,showSelected:!0,overlay:!0,selected:a.__spreadArray([],this.contacts,!0),baseQuery:"(role:org_admin OR role:iCCCCCCCCCCCCCCC) -access:private disabled:false",selectionLimit:20,limitText:r.default.getString(this.texts.selectionLimit,20)},this.domNode.querySelector(".js-member-browser"));
this.own(this.memberBrowser.on("selectUpdate",function(l){q.showRequiredMessage(l)}))};n.prototype.handlePrimary=function(){var q=this,l=this.memberBrowser.selected;this.showRequiredMessage(l)||v.default.request({url:"".concat(g.default.restBaseUrl,"portals/self/updateContacts"),content:{users:l.map(function(c){return c.username}).join(","),type:"collaboration"}},{usePost:!0}).then(function(){q.emit("save");q.close()},function(){e.default.showAlert("error",q.texts.coordinatorsError)})};n.prototype.showRequiredMessage=
function(q){return 0===q.length&&this.hasTrustedOrgs?(e.default.showAlert("error",this.texts.atLeast),!0):!1};return n=a.__decorate([(0,p.default)(m.default,b.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/MarketplaceTab":function(){define("require exports tslib ../../../../../esriGeowConfig ./BaseSettingsTab ../cards/PurchasersCard ../settings-shared ../rows/ContactEmailRow ../rows/ContactPhoneRow ../rows/ContactWebsiteRow ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.i18n=v.default.marketplaceTab;this.TAB_KEY=m.SettingsTabKeys.Marketplace}g.prototype.render=function(){var p=b.default.purchasersEnabled,n=this.portal.canListApps||this.portal.canListData,q=this.portalUser&&this.portalUser.userRole&&(this.portalUser.userRole.isAdmin()||
this.portalUser.userRole.canManageMarketplace());p&&n&&q&&this.createOrgContactCard();this.createPurchasersCard();this.inherited(arguments)};g.prototype.createOrgContactCard=function(){var p=this.getDefaultRowParams();this.createCard({id:"org-marketplace-contact-card",name:this.i18n.orgContact.name,description:this.i18n.orgContact.description,keywords:["feedback"],rows:[new h.default(a.__assign(a.__assign({},p),{label:this.i18n.orgContact.email,editA11yLabel:this.i18n.orgContact.editEmail,value:this.portal.orgEmail})),
new r.default(a.__assign(a.__assign({},p),{label:this.i18n.orgContact.website,editA11yLabel:this.i18n.orgContact.editWebsite,value:this.portal.orgUrl})),new u.default(a.__assign(a.__assign({},p),{label:this.i18n.orgContact.phone,editA11yLabel:this.i18n.orgContact.editPhone,value:this.portal.orgPhone}))]})};g.prototype.createPurchasersCard=function(){var p=this.portal.getHelpUrl("120002540");p='\x3cp class\x3d"trailer-half"\x3e'.concat(this.i18n.purchasers.description,' \x3ccalcite-link href\x3d"').concat(p,
'" target\x3d"_blank"\x3e').concat(this.i18n.purchasers.learnPurchasers,'\x3c/calcite-link\x3e\x3c/p\x3e\x3cp class\x3d"trailer-0"\x3e').concat(this.i18n.purchasers.toSend,"\x3c/p\x3e");this.createCustomCard(f.default,{id:"org-marketplace-purchasers-card",name:this.i18n.purchasers.name,description:p,keywords:["purchasers","ecommerce"]})};return g=a.__decorate([(0,e.default)(k.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/cards/PurchasersCard":function(){define("require exports tslib calcite-web/js/calcite-web dojo/on dojo/string dojo/promise/all dojo/topic ./SettingsCard ../../../../pageUtil ../../../../utils/dom ../../../../utils/alerts ../../../../utils/arrays ../MemberListItem ../../../../portal/PortalUser ../PurchasersOverlay ../../../../../sharing/util ../../../../../esriGeowConfig ../../../../../sharing/geow/Purchasers ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.purchasers=[];this.purchaserRows=
[]}t.prototype.render=function(){this.purchasersAPI=new d.default;this._title.textContent=this.name;this._description.innerHTML=this.description;this.showHeaderBtn(this.i18n.marketplaceTab.purchasers.managePurchasers);this.refreshRows()};t.prototype.addEventListeners=function(){this.inherited(arguments);this.own(h.default.subscribe("purchasers/refresh",this.refreshRows.bind(this)))};t.prototype.handleBtnClick=function(){(new q.default({portal:this.portal,portalUser:this.portalUser,purchasers:this.purchasers,
opener:this._headerBtn,closeOnScrimClick:!1,telemetry:this.telemetry})).open()};t.prototype.refreshRows=function(){var z=this;this.getData().then(function(x){0<z.purchaserRows.length&&z.purchaserRows.forEach(function(y){y.destroy()});z._content.innerHTML="";z.purchasers=[];z.purchaserRows=x.map(function(y){var A=new n.default(a.__assign(a.__assign({},y),{portal:z.portal}));A.id=y.id;z.purchasers.push(A);y=new p.default({member:A,isPurchaser:!0});z.own((0,k.default)(y,"remove",z.handleRemove.bind(z)),
(0,k.default)(y,"undo",z.handleUndo.bind(z)));return y});e.default.appendChildren(z.purchaserRows.map(function(y){return y.domNode}),z._content);b.default.dropdown()})};t.prototype.handleRemove=function(z){var x=this,y=z.member;this.purchasersAPI.removePurchasers([y.username]).then(function(A){var B,D;A.code?(null===(B=x.telemetry)||void 0===B?void 0:B.logError({error:"".concat(A.messageCode,": ").concat(A.message)}),x.showRemoveError(y)):(null===(D=x.telemetry)||void 0===D?void 0:D.logEvent({category:x.tab,
label:"purchasers",action:"Remove"}),v.default.showAlert("success",f.default.substitute(x.i18n.marketplaceTab.purchasers.removeSuccess,{fullname:y.fullName})),A=g.default.findIndex(x.purchasers,function(C){return C.username===y.username}),x.purchasers.splice(A,1),z.showRemoved())},function(A){var B;null===(B=x.telemetry)||void 0===B?void 0:B.logError({error:A});x.showRemoveError(y)})};t.prototype.handleUndo=function(z){var x=this;this.purchasersAPI.addPurchasers([z.member.username]).then(function(y){var A,
B;y.code?(null===(A=x.telemetry)||void 0===A?void 0:A.logError({error:"".concat(y.messageCode,": ").concat(y.message)}),v.default.showAlert("error",x.i18n.marketplaceTab.purchasers.error)):(null===(B=x.telemetry)||void 0===B?void 0:B.logEvent({category:x.tab,label:"purchasers",action:"Undo remove"}),v.default.showAlert("success",x.i18n.marketplaceTab.purchasers.success),x.purchasers.push(z.member),z.hideRemoved())},function(y){var A;null===(A=x.telemetry)||void 0===A?void 0:A.logError({error:y});
v.default.showAlert("error",x.i18n.marketplaceTab.purchasers.error)})};t.prototype.showRemoveError=function(z){v.default.showAlert("error",f.default.substitute(this.i18n.marketplaceTab.purchasers.removeError,{fullname:z.fullName}))};t.prototype.getData=function(){var z=this;return this.getPurchasers().then(function(x){return(0,m.default)(x.map(function(y){return z.getUser(y)}))})};t.prototype.getPurchasers=function(){return r.default.fetchAllResources("".concat(c.default.restBaseUrl,"portals/self/purchasers"),
{},"users")};t.prototype.getUser=function(z){return l.default.request({url:"".concat(c.default.restBaseUrl,"community/users/").concat(z)})};return t=a.__decorate([(0,w.default)(u.default)],t)}()})},"arcgisonline/pages/organization/widgets/settings/PurchasersOverlay":function(){define("require exports tslib dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/promise/all dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/dijit/Overlay ../../../dijit/MemberBrowser ../../../dijit/MemberBrowser/MemberBrowserRow ../../../utils/alerts ../../../../sharing/geow/Purchasers arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.title=k.default.marketplaceTab.purchasers.managePurchasers;this.i18n=b.default;this.constrain=!0;this.overlayContents='\x3cdiv\x3e\x3cdiv class\x3d"js-member-browser"\x3e\x3c/div\x3e\x3c/div\x3e';
this.purchasers=[]}q.prototype.open=function(){this.inherited(arguments);this._purchasersAPI=new p.default;this._memberBrowser=new e.default({userTypeFilter:!0,roleFilter:!0,groupsFilter:!0,portal:this.portal,user:this.portalUser,row:v.default,showSelected:!0,overlay:!0,selected:a.__spreadArray([],this.purchasers,!0)},this.domNode.querySelector(".js-member-browser"))};q.prototype.close=function(){this.inherited(arguments)};q.prototype.handlePrimary=function(){var l=this,c=this.purchasers.map(function(x){return x.username}),
d=this._memberBrowser.selected.map(function(x){return x.username}),w=[],t=[];c.forEach(function(x){-1===d.indexOf(x)&&t.push(x)});d.forEach(function(x){-1===c.indexOf(x)&&w.push(x)});var z=[];0<w.length&&z.push(this._purchasersAPI.addPurchasers(w));0<t.length&&z.push(this._purchasersAPI.removePurchasers(t));(0,f.default)(z).then(function(x){var y;x.some(function(A){return!!A.code})?g.default.showAlert("error",k.default.marketplaceTab.purchasers.error):(null===(y=l.telemetry)||void 0===y?void 0:y.logEvent({category:"marketplace",
label:"purchasers",action:"Save"}),g.default.showAlert("success",k.default.marketplaceTab.purchasers.success),m.default.publish("purchasers/refresh"))},function(x){var y;null===(y=l.telemetry)||void 0===y?void 0:y.logError({error:x});g.default.showAlert("error",k.default.marketplaceTab.purchasers.error)});this.close()};return q=a.__decorate([(0,n.default)(u.default,h.default,r.default)],q)}()})},"arcgisonline/sharing/geow/Purchasers":function(){define(["require","exports","tslib","../../esriGeowConfig",
"../util"],function(U,M,a,b,k){b=a.__importDefault(b);k=a.__importDefault(k);return function(){function f(){}f.prototype.addPurchasers=function(m){var h="".concat(b.default.restBaseUrl,"portals/self/addPurchasers");m={users:m?m.join(","):""};return k.default.request({url:h,content:m},{usePost:!0})};f.prototype.removePurchasers=function(m){var h="".concat(b.default.restBaseUrl,"portals/self/removePurchasers");m={users:m?m.join(","):""};return k.default.request({url:h,content:m},{usePost:!0})};f.prototype.getPurchasers=
function(m,h){var u="".concat(b.default.restBaseUrl,"portals/self/purchasers");return k.default.request({url:u,content:{start:m,num:h}})};return f}()})},"arcgisonline/pages/organization/widgets/settings/rows/ContactEmailRow":function(){define("require exports tslib ./SettingsRow ../../../../../tsutils/declareDecorator dojo/dom-construct dojo/on dojo/i18n!../../../../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);return function(){function u(r,e){this.settingsProps=["orgEmail"]}u.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),h.default.marketplaceTab.orgContact);this.valueType="text";this.inherited(arguments)};u.prototype.render=function(){this.textbox=f.default.create("input",{type:"text",value:this.value,maxLength:55},this._formContent);this.inherited(arguments)};u.prototype.addEventListeners=function(){var r=this;this.inherited(arguments);this.own((0,m.default)(this.textbox,
"keyup",function(e){13===e.keyCode&&r.save()}))};u.prototype.save=function(){var r=this,e=this.textbox.value.trim();e!==this.value?this.updateSetting({orgEmail:e},this.i18n.emailError,this.i18n.emailSuccess).then(function(){r.value=e;r._displayValue.textContent=e},function(){return r.toggleEdit(!1)}):this.toggleEdit(!1)};u.prototype.resetFormValues=function(){this.textbox.value=this.value};return u=a.__decorate([(0,k.default)(b.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ContactPhoneRow":function(){define(["require",
"exports","tslib","./ContactEmailRow","../../../../../tsutils/declareDecorator"],function(U,M,a,b,k){b=a.__importDefault(b);k=a.__importDefault(k);return function(){function f(m,h){this.settingsProps=["orgPhone"]}f.prototype.save=function(){var m=this,h=this.textbox.value.trim();h!==this.value?this.updateSetting({orgPhone:h},this.i18n.phoneError,this.i18n.phoneSuccess).then(function(){m.value=h;m._displayValue.textContent=h},function(){return m.toggleEdit(!1)}):this.toggleEdit(!1)};return f=a.__decorate([(0,k.default)(b.default)],
f)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ContactWebsiteRow":function(){define(["require","exports","tslib","./ContactEmailRow","../../../../../tsutils/declareDecorator"],function(U,M,a,b,k){b=a.__importDefault(b);k=a.__importDefault(k);return function(){function f(m,h){this.settingsProps=["orgUrl"]}f.prototype.save=function(){var m=this,h=this.textbox.value.trim();h!==this.value?this.updateSetting({orgUrl:h},this.i18n.websiteError,this.i18n.websiteSuccess).then(function(){m.value=
h;m._displayValue.textContent=h},function(){return m.toggleEdit(!1)}):this.toggleEdit(!1)};return f=a.__decorate([(0,k.default)(b.default)],f)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/MemberDefaultsTab":function(){define("require exports tslib esri/lang dojo/Deferred dojo/i18n!../../../../../nls/org-settings dojo/i18n!../../../../../nls/arcgisonline dojo/promise/all dojo/topic ./BaseSettingsTab ../settings-shared ../../UserDefaults/DefaultUserTypeRoleOverlay ../rows/DefaultUserTypeRow ../rows/DefaultRoleRow ../cards/DefaultLicensesCard ../cards/DefaultGroupsCard ../cards/DefaultCategoriesCard ../cards/DefaultCreditsCard ../cards/DefaultEsriAccessCard ../cards/UsernameFormatCard ../../SecurityAlert ../../../../pageUtil ../../../../utils/alerts ../../../../utils/dom ../../../../components/MemberCategories/api ../../../../../sharing/util ../../../../../sharing/geow/Licenses ../../../../../sharing/geow/Roles ../../../../../sharing/dijit/_LevelAwareMixin ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);G=a.__importDefault(G);return function(){function F(I,J){this.i18n=f.default.memberDefaultsTab;this.TAB_KEY=e.SettingsTabKeys.NewMemberDefaults;this.memberCategories=[]}F.prototype.startup=function(){return this.render()};F.prototype.render=function(){var I=this;this._licensesAPI=new D.default;this._rolesAPI=new C.default;this._checkPermissions();this._addEventListeners();
return this._getData().then(function(){I._createUserTypeRoleCard();I._createLicensesCard();I._createGroupsCard();I.memberCategories.length&&I.createCategoriesCard();I._createCreditsCard();I._createEsriAccessCard();I.createUsernameFormatCard();y.default.appendChildren(I._cards.map(function(J){return J.domNode}),I.domNode)})};F.prototype.getMemberCategories=function(){var I=new k.default;(0,A.getMemberCategories)().then(function(J){I.resolve(J)});return I};F.prototype._addEventListeners=function(){var I=
this;this.own(u.default.subscribe("default-user-type-role/edit",this._editDefaultUserTypeRole.bind(this)),u.default.subscribe("default-user-type-role/save",function(J){I._setUserDefaultSettings(J,I.i18n.defaultUserTypeRoleSuccess).then(function(){var K;u.default.publish("default-user-type/change",I._userDefaults);null===(K=I.telemetry)||void 0===K?void 0:K.logEvent({category:I.TAB_KEY,label:"userLicenseType/role",action:"Save"});I._updateUserTypeRow();I._updateRoleRow();I._defaultGroupsCard.updateDefaultUserTypeRole(I._defaultUserType,
I._defaultRole);I._defaultLicensesCard.updateDefaultUserType(I._defaultUserType);u.default.publish("default-role/change")},function(K){var P;null===(P=I.telemetry)||void 0===P?void 0:P.logError({error:K})})}),u.default.subscribe("default-esri-access/save",function(J){I._setUserDefaultSettings({userType:J?"both":"arcgisonly"},I.i18n.defaultEsriAccessSuccess).then(function(){var K;null===(K=I.telemetry)||void 0===K?void 0:K.logEvent({category:I.TAB_KEY,label:"Esri access",action:"Save"});I._updateEsriAccessCard()},
function(K){var P;null===(P=I.telemetry)||void 0===P?void 0:P.logError({error:K})})}),u.default.subscribe("default-licenses/save",function(J){I._setUserDefaultSettings(J,I.i18n.defaultLicensesSuccess).then(function(){var K;null===(K=I.telemetry)||void 0===K?void 0:K.logEvent({category:I.TAB_KEY,label:"add-on licenses",action:"Save"});I._updateLicensesCard()},function(K){var P;null===(P=I.telemetry)||void 0===P?void 0:P.logError({error:K})})}),u.default.subscribe("default-groups/save",function(J){I._setUserDefaultSettings({clearEmptyFields:!0,
groups:0<J.length?JSON.stringify(J.map(function(K){return K.id})):""},I.i18n.defaultGroupsSuccess).then(function(){var K;null===(K=I.telemetry)||void 0===K?void 0:K.logEvent({category:I.TAB_KEY,label:"groups",action:"Save"});I._updateGroupsCard()},function(K){var P;null===(P=I.telemetry)||void 0===P?void 0:P.logError({error:K})})}),u.default.subscribe("default-categories/save",function(J){I._setUserDefaultSettings({clearEmptyFields:!0,categories:0<J.length?JSON.stringify(J):""},I.i18n.defaultCategoriesSuccess).then(function(){var K;
null===(K=I.telemetry)||void 0===K?void 0:K.logEvent({category:I.TAB_KEY,label:"member categories",action:"save",count:J.length});I._userDefaults.categories=J;I.defaultCategoriesCard.update(J)},function(K){var P;null===(P=I.telemetry)||void 0===P?void 0:P.logError({error:K})})}),u.default.subscribe("roles/updated",function(J){I._roles=J}))};F.prototype.confirmMigration=function(){var I=this,J=new k.default,K=m.default.myOrganization.defaultsTab,P=K.migrateWarning,T=K.errorUpdatingIDP;this._shouldMigrate?
z.default.createConfirmationDialog({strings:{title:m.default.common.notice,description:P},autoCloseOnOk:!0,onOk:function(){I._emptyIDPSettings().then(function(){var S=I.currentIdp,L=S.roleId,N=S.userLicenseType,O=S.userType,Q=S.userCreditAssignment;(0,h.default)({userDefaults:I._setUserDefaultSettings({groups:JSON.stringify(S.groups),role:L||void 0,userLicenseType:N||void 0,userType:O||void 0}),credits:b.default.isDefined(Q)&&-1<Q?I.updateDefaultCredits(Q):null}).then(function(){I._shouldShowCredits&&
(I._userDefaults.credits=Q,u.default.publish("default-credits-change",{credits:Q}));I._shouldMigrate=!1;I.updateRows();J.resolve(!0)})},function(){x.default.showAlert("error",T)})},onCancel:function(){J.resolve(!1)}}):J.resolve(!0);return J};F.prototype.updateDefaultCredits=function(I){return B.default.request({url:B.default.getSecureUrl(H.default.restBaseUrl)+"portals/self/update",content:{defaultUserCreditAssignment:I,clearEmptyFields:!0}},{usePost:!0})};F.prototype._emptyIDPSettings=function(){var I=
"".concat(H.default.restBaseUrl,"portals/self/idp/").concat(this.currentIdp.isFederation?"federation/":"").concat(this.currentIdp.id,"/update");return B.default.request({url:I,content:a.__assign(a.__assign({},this.currentIdp),{groups:"",roleId:"",userCreditAssignment:-1,userLicenseType:"",userType:"",clearEmptyFields:!0})},{usePost:!0})};F.prototype._editDefaultUserTypeRole=function(I){var J=this;this.confirmMigration().then(function(){var K=J._getDefaultGroups().some(function(P){return-1<P.capabilities.indexOf("updateitemcontrol")});
(new v.default({portal:J.portal,userType:J._defaultUserType,role:J._defaultRole,level:J._defaultLicensesCard?J._defaultLicensesCard.getHighestLicenseLevel():void 0,canManageLicenses:J._canManageLicenses,disableProUserTypes:J._defaultLicensesCard?J._defaultLicensesCard.containsPro():!1,disableNonProUserTypes:J._defaultLicensesCard?J._defaultLicensesCard.containsProExtensions():!1,groupsCanUpdate:K,opener:"userType"===I?J._defaultUserTypeRow._editBtn:J._defaultRoleRow._editBtn,defaultLicenses:J._userDefaults.apps,
defaultEntitlements:J._defaultLicensesCard.defaultLicenses,closeOnScrimClick:!1})).open()})};F.prototype._checkPermissions=function(){var I=this.portalUser.userRole;if(I){var J=I.isAdmin(),K="enabled"===this.portal.creditAssignments||"validated"===this.portal.creditAssignments,P=J||I.canManageCredits(),T=J||I.canInviteUsers(),S=J||I.canManageRoles(),L=J||I.canManageLicenses();T=T||S||L;this._canManageLicenses=L;this._canManageSecurity=J||I.canManageSecurity();this._shouldShowCredits=H.default.creditBudgetingEnabled&&
P&&K;this._shouldShowRole=this._shouldShowUserType=this._canManageSecurity&&T;this._shouldShowLicenses=this._canManageSecurity&&L;this._shouldShowEsriAccess=(this._shouldShowGroup=this._canManageSecurity)&&!this.portal.isPortal}};F.prototype._getData=function(){var I=this,J=new k.default;(0,h.default)({userDefaults:this._canManageSecurity?this._getUserDefaults():null,userTypes:this._shouldShowUserType?this._licensesAPI.getLicenseTypes():null,roles:this._shouldShowRole?this._rolesAPI.getAllRoles(!0):
null,groups:this._shouldShowGroup?this._getGroups():null,idp:this._canManageSecurity?this.getIdentityProvider():null,memberCategories:this.getMemberCategories()}).then(function(K){var P=K.userTypes,T=K.roles,S=K.groups;K=K.memberCategories;if(I._userDefaults&&0===Object.keys(I._userDefaults).length&&I.currentIdp){var L=I.currentIdp,N=L.groups,O=L.userCreditAssignment;N=N&&0<N.length;var Q=L.roleId,V=L.userType;L=L.userLicenseType;O=b.default.isDefined(O)&&-1<O;I._shouldMigrate=Q||V||L||N||O}I._shouldShowCredits&&
(I._userDefaults||(I._userDefaults={}),I._userDefaults.credits=I.portal.defaultUserCreditAssignment);I._userTypes=P&&P.userLicenseTypes||[];P=[{id:"org_publisher",name:I.i18n.rolePublisher},{id:"org_admin",name:I.i18n.roleAdmin},{id:"org_user",name:I.i18n.roleUser}];T&&(I._roles=a.__spreadArray(a.__spreadArray([],T,!0),P,!0),I._roles.forEach(function(X){X.id===I.SYSTEM_ROLES.VIEWER?X.name=I.i18n.roleViewer:X.id===I.SYSTEM_ROLES.DATA_EDITOR?X.name=I.i18n.roleEditor:X.id===I.SYSTEM_ROLES.FACILITATOR&&
(X.name=I.i18n.roleFacilitator)}));I._orgGroups=S;I.memberCategories=K||[];J.resolve()},function(){J.resolve()});return J};F.prototype._setUserDefaultSettings=function(I,J){var K=this;return B.default.request({url:"".concat(H.default.restBaseUrl,"portals/self/setUserDefaultSettings"),content:I},{usePost:!0}).then(function(){J&&x.default.showAlert("success",J);return K._getUserDefaults()},function(){x.default.showAlert("error",K.i18n.defaultsError)})};F.prototype.getIdentityProvider=function(){var I=
this,J=new k.default,K="".concat(H.default.restBaseUrl,"portals/self/idp");(0,h.default)({idp:B.default.request({url:K}),fedIdp:B.default.request({url:"".concat(K,"/federation")})}).then(function(P){var T,S;(null===(T=P.idp)||void 0===T?0:T.id)?I.currentIdp=P.idp:(null===(S=P.fedIdp)||void 0===S?0:S.id)?(I.currentIdp=P.fedIdp,I.currentIdp.isFederation=!0):I.currentIdp=void 0;J.resolve()},function(){I.currentIdp=void 0;J.resolve()});return J};F.prototype._getUserDefaults=function(){var I=this;return B.default.request({url:"".concat(H.default.restBaseUrl,
"portals/self/userDefaultSettings"),content:{}}).then(function(J){I._userDefaults=a.__assign({},J);delete I._userDefaults._ssl})};F.prototype._getGroups=function(){return z.default.fetchAllResources("".concat(this.portal.url,"community/groups"),{q:"orgid:".concat(this.portal.id," AND -provider:enterprise")})};F.prototype.updateRows=function(){this._updateUserTypeRow();this._updateRoleRow();this._updateLicensesCard();this._updateGroupsCard();this._updateEsriAccessCard()};F.prototype._updateUserTypeRow=
function(){var I;this._defaultUserTypeRow.update(this._getUserTypeName());null===(I=this.userTypeAlert)||void 0===I?void 0:I.destroy();this._defaultUserTypeRow.hideUserTypeError()};F.prototype._updateRoleRow=function(){this._defaultRoleRow.update(this._getRoleName())};F.prototype._createUserTypeRoleCard=function(){var I=this,J,K=this.getDefaultRowParams();this._shouldShowUserType&&this._shouldShowRole&&(this._defaultUserTypeRow=new g.default(a.__assign(a.__assign({},K),{label:this.i18n.userType,editA11yLabel:this.i18n.editUserTypeLabel,
value:this._getUserTypeName()})),this._defaultRoleRow=new p.default(a.__assign(a.__assign({},K),{label:this.i18n.role,editA11yLabel:this.i18n.editRoleLabel,value:this._getRoleName()})),K=this.i18n.userTypeAndRole,K=this.createCard({id:"org-default-usertype-role-card",name:K.name,description:K.description,rows:[this._defaultUserTypeRow,this._defaultRoleRow],keywords:["newUsers","onboarding","invitations","memberInvite"]}),(null===(J=this._userTypes)||void 0===J?0:J.length)&&this._userDefaults.userLicenseType&&
!this._userTypes.filter(function(P){return P.id===I._userDefaults.userLicenseType})[0]&&(this.userTypeAlert=new t.default({baseClass:"trailer-1",content:'\x3cspan class\x3d"org-overview__security-alert-title avenir-bold"\x3e'.concat(f.default.memberDefaultsTab.warning,"\x3c/span\x3e ").concat(f.default.memberDefaultsTab["userTypeWarning".concat(this.portal.isPortal?"Portal":"")]),portal:this.portal}),K._header.classList.remove("flex"),K._header.appendChild(this.userTypeAlert.domNode),this.userTypeAlert.show(),
this._defaultUserTypeRow.showUserTypeError()))};F.prototype._createLicensesCard=function(){if(this._shouldShowLicenses){var I=this.i18n.addonLicenses;this._defaultLicensesCard=this.createCustomCard(n.default,{id:"org-default-licenses-card",name:I.name,description:I.description,apps:this._userDefaults.apps,appBundles:this._userDefaults.appBundles,defaultUserType:this._defaultUserType,confirmMigration:this.confirmMigration,keywords:["appLicenses","mobileApp","fieldApp","extensions"]})}};F.prototype._getDefaultGroups=
function(){var I=this;return this._userDefaults.groups?this._orgGroups.filter(function(J){return-1<I._userDefaults.groups.indexOf(J.id)}):[]};F.prototype._createGroupsCard=function(){if(this._shouldShowGroup){var I=this.i18n.groups;this._defaultGroupsCard=this.createCustomCard(q.default,{id:"org-default-groups-card",name:I.name,description:I.description,keywords:["faction","department","company","division","team"],groups:this._getDefaultGroups(),defaultRole:this._defaultRole,defaultUserType:this._defaultUserType,
confirmMigration:this.confirmMigration})}};F.prototype.createCategoriesCard=function(){var I=this.i18n.memberCategories;this.defaultCategoriesCard=this.createCustomCard(l.default,{id:"org-defaults-categories-card",name:I.name,description:I.description,keywords:["categories"],defaultCategories:this._userDefaults.categories||[]})};F.prototype.createUsernameFormatCard=function(){var I=this.i18n.usernameFormat,J=I.description,K=I.descriptionPortal;this.createCustomCard(w.default,{id:"org-defaults-username-format-card",
name:I.name,description:this.portal.isPortal?K:J,keywords:["username"]})};F.prototype._createCreditsCard=function(){var I,J=this.i18n.credits;this.createCustomCard(c.default,{id:"org-default-credits-card",name:J.name,description:J.description,credits:null===(I=this._userDefaults)||void 0===I?void 0:I.credits,keywords:["allocation","creditLimit","creditBudget"],shouldBeHidden:!this._shouldShowCredits})};F.prototype._createEsriAccessCard=function(){if(this._shouldShowEsriAccess){var I=this.i18n.esriAccess;
this._defaultEsriAccessCard=this.createCustomCard(d.default,{id:"org-default-esri-access-card",name:I.name,description:I.description,confirmMigration:this.confirmMigration,keywords:"academy myEsri geonet training courses forums access".split(" ")});this._updateEsriAccessCard()}};F.prototype._updateEsriAccessCard=function(){this._defaultEsriAccessCard.setChecked(this._userDefaults.userType&&"both"===this._userDefaults.userType)};F.prototype._updateLicensesCard=function(){this._defaultLicensesCard.update(this._userDefaults.apps,
this._userDefaults.appBundles)};F.prototype._updateGroupsCard=function(){this._defaultGroupsCard.update(this._getDefaultGroups())};F.prototype._getRoleName=function(){var I=this,J=this.i18n.notSet;this._userDefaults.role&&(this._defaultRole=this._roles.filter(function(K){return K.id===I._userDefaults.role})[0])&&(J=this._defaultRole.name);return J};F.prototype._getUserTypeName=function(){var I=this,J=this.i18n.notSet;this._userDefaults.userLicenseType&&(this._defaultUserType=this._userTypes.filter(function(K){return K.id===
I._userDefaults.userLicenseType})[0])&&(u.default.publish("default-user-type/loaded",this._defaultUserType.id),J=this._defaultUserType.name);return J};return F=a.__decorate([(0,G.default)(r.default,E.default)],F)}()})},"arcgisonline/pages/organization/widgets/UserDefaults/DefaultUserTypeRoleOverlay":function(){define("require exports tslib esri/lang dojo/text!./templates/DefaultUserTypeRoleOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/string dojo/promise/all dojo/on dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/FilteringSelect arcgisonline/pages/dijit/Overlay ../../../utils/organization ../../../utils/dom ../../../utils/icons ../../../dijit/InviteMembers/LicenseTypeSelect arcgisonline/pages/utils/alerts arcgisonline/pages/dijit/CaseInsensitiveMemory arcgisonline/sharing/geow/Licenses arcgisonline/sharing/geow/Roles arcgisonline/sharing/dijit/_LevelAwareMixin arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);
y=a.__importDefault(y);return function(){function A(B,D){this.title=f.default.myOrganization.defaultsTab.defaultUserTypeRole;this.i18n=f.default;this.overlayContents=m.default.substitute(k.default,{i18n:this.i18n,infoIcon:l.default["inline-end"].info["16"]});this.constrain=!0;this.defaultLicenses=[];this.defaultEntitlements=[];this.disabledList=[]}A.prototype.open=function(){var B=this;this.inherited(arguments);q.default.addClasses(this.domNode,["manage-license-types","default-usertype-role-overlay"]);
this._licensesAPI=new t.default;this._rolesAPI=new z.default;this._getElementRefs();this._getData().then(function(){B._render();q.default.hideNode(B._loader);q.default.showNode(B._content)});document.body.classList.add("manage-user-type--open")};A.prototype.close=function(){this.inherited(arguments);document.body.classList.remove("manage-user-type--open")};A.prototype.handlePrimary=function(){var B=this._validateUserType(),D=this._validateRole();B&&D&&(r.default.publish("default-user-type-role/save",
{userLicenseType:this._selectedUserTypeOption.licenseType.id,role:this._rolesSelect.value}),this.close())};A.prototype._getElementRefs=function(){this._userTypeOptionsContainer=this.domNode.querySelector(".js-license-type-options");this._rolesContainer=this.domNode.querySelector(".js-roles");this._content=this.domNode.querySelector(".js-content");this._loader=this.domNode.querySelector(".js-loader");this._roleError=this.domNode.querySelector(".js-role-error")};A.prototype._getData=function(){var B=
this;return(0,h.default)({userTypes:this._licensesAPI.getLicenseTypes(!0),entitlements:this.canManageLicenses?this._licensesAPI.getLicensedEntitlements():null,appBundles:this._licensesAPI.getAppBundles(),roles:this._getRoles()}).then(function(D){B._userTypes=D.userTypes.userLicenseTypes;B._userTypes=(B._userTypes||[]).filter(function(F){return B.userType&&F.id===B.userType.id||0!==F.assigned||0!==F.maxUsers});var C=n.default.convertAppBundletoEntitlement(D.appBundles.appBundles);B._apps=[];if(D.entitlements){var E=
n.default.filterOutProExtensions(D.entitlements);B._apps=a.__spreadArray(a.__spreadArray([],E,!0),C,!0)}var H=B.portal.getPortalUser(),G=H.userRole.isAdmin();B._roles=D.roles.map(function(F){return{id:F.id,name:F.name,privileges:F.privileges,compatibleLevels:F.compatibleLevels}});B._nonAdminRoles=B._roles.filter(function(F){var I=!1;F.privileges&&(I=b.default.isDefined(F.privileges.filter(function(J){return-1<J.indexOf(":admin")})[0]));return!I||B.portal.isPortal&&G||B.portal.isPortal&&H.userRole.canChangeUserRoles()&&
"org_admin"!==F.id})})};A.prototype._render=function(){this._initUserTypeOptions();this.portal.isPortal&&q.default.hideNode(this.domNode.querySelector(".js-role-tooltip"));this._initRolesSelect()};A.prototype._initRolesSelect=function(){var B=this.createRoleStore(this._selectedUserTypeOption?this._selectedUserTypeOption.licenseType.level:this.LICENSE_LEVELS.TWO);this._rolesSelect=new g.default({displayedValue:this.role?this.role.name:this.i18n.myOrganization.manageLicenseTypes.noRoleSelected,searchAttr:"name",
store:B,fetchProperties:{sort:[{attribute:"name",descending:!1}]},title:f.default.myOrganization.formatters.roleUser,onChange:this._validateRole.bind(this)},this._rolesContainer);this._rolesSelect.domNode.appendChild(this._roleError)};A.prototype.createRoleStore=function(B){var D=this,C=this._nonAdminRoles.filter(function(E){return!D.groupsCanUpdate||!E.privileges||-1<E.privileges.indexOf("portal:user:createItem")});B=n.default.filterRoles(C,this._viewerRole,B===this.LICENSE_LEVELS.TWO,B);return new w.default({idProperty:"role",
data:B})};A.prototype._validateRole=function(){var B=0<this._rolesSelect.value.length;B?(q.default.removeClasses(this._rolesSelect.domNode,["input-error","invite-members__form-role-error"]),this._roleError.classList.remove("is-active")):(q.default.addClasses(this._rolesSelect.domNode,["input-error","invite-members__form-role-error"]),this._roleError.classList.add("is-active"));return B};A.prototype._validateUserType=function(){var B,D=null===(B=this._selectedUserTypeOption)||void 0===B?void 0:B.licenseType;
D||d.default.showAlert("error",this.i18n.myOrganization.defaultsTab.userTypeRequired);return D};A.prototype._initUserTypeOptions=function(){var B=this;this._userTypeSelect=new c.default({userLicenseTypes:this._userTypes,portal:this.portal,roles:this._roles,apps:this._apps,userType:this.userType,comboboxId:"member-default-user-type-combobox",listboxId:"member-default-user-type-listbox"},this._userTypeOptionsContainer);this._userTypes.forEach(function(D){var C,E,H,G,F;if((null===(C=B.userType)||void 0===
C?void 0:C.id)!==D.id){C=!1;B.level&&B.level===B.LICENSE_LEVELS.TWO&&(C=D.level!==B.LICENSE_LEVELS.TWO);var I=!1;0<(null===(E=B.defaultLicenses)||void 0===E?void 0:E.length)&&D.supportsSignInOnlyFromUTApps&&(I=!0);E=B.groupsCanUpdate&&D.level!==B.LICENSE_LEVELS.TWO;var J=!1;B.disableProUserTypes&&D.apps&&D.apps.some(function(V){return"ArcGIS Pro"===V.title})&&(J=!0);var K=!1;if(B.disableNonProUserTypes){var P=!D.apps||!D.apps.some(function(V){return"ArcGIS Pro"===V.title}),T=!1;if(!P){T=D.apps.filter(function(V){return"ArcGIS Pro"===
V.title})[0];var S=t.default.getExtNotSupported(T.entitlements[0]);T=S&&0<S.length&&B.defaultLicenses.some(function(V){return V.entitlements.some(function(X){return-1<S.indexOf(X)})})}if(P||T)K=!0}var L=!1,N="";if(0<(null===(H=B.defaultLicenses)||void 0===H?void 0:H.length)&&0<(null===(G=D.apps)||void 0===G?void 0:G.length)){var O=B.defaultLicenses.map(function(V){return V.itemId}),Q=[];B.defaultLicenses.forEach(function(V){Q=a.__spreadArray(a.__spreadArray([],Q,!0),V.entitlements,!0)});D.apps.forEach(function(V){var X;
Q.forEach(function(ca){!V.isAppBundle&&-1<V.entitlements.indexOf(ca)?X=!0:V.isAppBundle&&-1<O.indexOf(V.id)&&(X=!0)});var Z=V.isAppBundle&&V.apps.some(function(ca){return-1<O.indexOf(ca.id)});if(X||Z)0<N.length&&(N+=", "),N+=V.title,L=!0});D.extensions.forEach(function(V){-1<O.indexOf(V.id)&&(0<N.length&&(N+=", "),N+=V.title,L=!0)})}H=(null===(F=B.defaultEntitlements)||void 0===F?void 0:F.length)&&B.defaultEntitlements.some(function(V){return V.isEsriApp});F=D.preventSignInFromNonUTEsriApps&&H;if(D.assigned>
D.maxUsers||C||J||E||L||K||I||F)F={userType:D,tooLowLevel:C,doubleAssignPro:J,tooLowLevelForGroups:E,doubleAssignLicense:L,doubleAssignTitle:N,cantHaveProExts:K,cantHaveAddons:I,cantHaveAddonEsriApps:F},B.disabledList.push(F),B._userTypeSelect.disableOption(D,B._handleDisabledOptionClick.bind(B,F))}});this.own((0,u.default)(this._userTypeSelect,"change",this._handleUserTypeSelect.bind(this)));this._selectedUserTypeOption=this._userTypeSelect.getSelectedOption()};A.prototype._handleDisabledOptionClick=
function(B,D){D=B.tooLowLevel;var C=B.doubleAssignPro,E=B.tooLowLevelForGroups,H=B.doubleAssignLicense,G=B.doubleAssignTitle,F=B.cantHaveProExts,I=B.cantHaveAddons;B=B.cantHaveAddonEsriApps;if(E||D||C||H||F||I||B)B=E?f.default.myOrganization.defaultsTab.notCompatibleGroupsWarning:D||B?f.default.myOrganization.defaultsTab.notCompatibleWarning:C?f.default.myOrganization.defaultsTab.includedWarning:F?f.default.myOrganization.defaultsTab.includedWarning:I?f.default.myOrganization.defaultsTab.noAddonsWarning:
m.default.substitute(f.default.myOrganization.defaultsTab.doubleAssignWarning,{title:G}),d.default.showAlert("warning",B,{cssClasses:"overlay__alert"})};A.prototype._handleUserTypeSelect=function(B){var D=this,C=this._userTypes.filter(function(E){return E.id===B})[0];this.disabledList.forEach(function(E){D._userTypeSelect.disableOption(E.userType,D._handleDisabledOptionClick.bind(D,E))});this._selectedUserTypeOption&&C.id===this._selectedUserTypeOption.licenseType.id||(C=this.createRoleStore(C.level),
this._rolesSelect.set("store",C),C.get(this._rolesSelect.get("value"))||this._rolesSelect.set("displayedValue",f.default.myOrganization.manageLicenseTypes.noRoleSelected),this._selectedUserTypeOption=this._userTypeSelect.getSelectedOption())};A.prototype._getRoles=function(){var B=this;return this._rolesAPI.getAllRoles(!0).then(function(D){B._viewerRole=D.filter(function(C){return C.id===B.SYSTEM_ROLES.VIEWER})[0];B._viewerEditRole=D.filter(function(C){return C.id===B.SYSTEM_ROLES.DATA_EDITOR})[0];
D.forEach(function(C){C.id===B.SYSTEM_ROLES.VIEWER&&(C.name=f.default.myOrganization.formatters.roleViewer);C.id===B.SYSTEM_ROLES.DATA_EDITOR&&(C.name=f.default.myOrganization.formatters.roleViewerEdit);C.id===B.SYSTEM_ROLES.FACILITATOR&&(C.name=f.default.myOrganization.formatters.roleFacilitator);C.compatibleLevels=[B.LICENSE_LEVELS.TWO];z.default.exceedsRolePrivileges(B._viewerEditRole.privileges,C.privileges,!0)||C.compatibleLevels.push(B.LICENSE_LEVELS.ONE_PLUS_EDIT);z.default.exceedsRolePrivileges(B._viewerRole.privileges,
C.privileges,!0)||C.compatibleLevels.push(B.LICENSE_LEVELS.ONE)});D=a.__spreadArray(a.__spreadArray([],D,!0),[{id:"org_publisher",name:f.default.myOrganization.formatters.rolePublisher,compatibleLevels:[B.LICENSE_LEVELS.TWO]},{id:"org_user",name:f.default.myOrganization.formatters.roleUser,compatibleLevels:[B.LICENSE_LEVELS.TWO]}],!1);D.sort(function(C,E){C=C.name.toLowerCase();E=E.name.toLowerCase();return C>E?1:C<E?-1:0});return D})};return A=a.__decorate([(0,y.default)(v.default,e.default,p.default,
x.default)],A)}()})},"arcgisonline/pages/dijit/InviteMembers/LicenseTypeSelect":function(){define("require exports tslib dojo/topic dojo/dom-construct dojo/dom-class dojo/keys dojo/on dojo/Evented dojo/debounce dojo/text!./templates/LicenseTypeSelect.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./LicenseTypeOption ../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){var w=this;this.templateString=e.default;this.i18n=v.default;this.labelId="";this._isOpen=this.hasChanged=!1;this._currentOptionIndex=0;this._onSelectedKeydown=(0,r.default)(function(t){switch(t.keyCode){case m.default.UP_ARROW:if(!w._isOpen)w._toggleTypeSelect();
else if(0<w._currentOptionIndex){var z=0===w._currentOptionIndex?w.licenseTypeOptions.length-1:w._currentOptionIndex-1;w._traverseOption(z)}break;case m.default.DOWN_ARROW:w._isOpen?w._currentOptionIndex<w.licenseTypeOptions.length-1&&(z=w._currentOptionIndex===w.licenseTypeOptions.length-1?0:w._currentOptionIndex+1,w._traverseOption(z)):w._toggleTypeSelect();break;case m.default.ESCAPE:case m.default.ENTER:case m.default.SPACE:t.preventDefault();w._isOpen?w.selectAndCloseDropdown():w._toggleTypeSelect();
break;case m.default.TAB:w._isOpen&&(t.preventDefault(),w.selectAndCloseDropdown())}t.stopPropagation()},100)}l.prototype.postCreate=function(){var c=this;this.labelId&&(this._selectedOption.setAttribute("aria-labelledby",this.labelId),this._options.setAttribute("aria-labelledby",this.labelId));this._renderOptions(this.userType?this.userType:this.userLicenseTypes[0]);this._selectedOption.setAttribute("aria-expanded","false");this.own(b.default.subscribe("invite-apps/loaded",function(d){c.apps=d}),
(0,h.default)(document.documentElement,"click",function(d){d=d.target;d===c.domNode||c.domNode.contains(d)||(f.default.remove(c.domNode,"license-type--is-open"),c._isOpen=!1)}))};l.prototype.select=function(c){var d;this.value=null!==(d=null===c||void 0===c?void 0:c.id)&&void 0!==d?d:"";this._removeInvalidOption();this._renderOptions(c)};l.prototype.isvalid=function(){return this.userLicenseTypes.length&&!this.userLicenseTypes[0].invalid};l.prototype.getSelectedOption=function(){return this._selectedTypeOption};
l.prototype.disableOption=function(c,d){this.licenseTypeOptions.forEach(function(w){w.licenseType.id===c.id&&w.disable(d)})};l.prototype.enableOption=function(c){this.licenseTypeOptions.forEach(function(d){d.licenseType.id===c.id&&d.enable()})};l.prototype.collapseIfExpanded=function(){this._isOpen&&this._toggleTypeSelect(void 0,!1)};l.prototype._toggleTypeSelect=function(c,d){void 0===d&&(d=!0);1>=this.userLicenseTypes.length||(this._isOpen?(f.default.remove(this.domNode,"license-type--is-open"),
this._selectedOption.setAttribute("aria-expanded","false")):(f.default.add(this.domNode,"license-type--is-open"),this._selectedOption.setAttribute("aria-expanded","true")),(this._isOpen=!this._isOpen)&&this.value?this.setActiveDescendant(this.value):this.setActiveDescendant(),d&&b.default.publish("user-types-select/toggle"))};l.prototype.setActiveDescendant=function(c){this._selectedOption.setAttribute("aria-activedescendant",c?"user-type-option-".concat(c.toLowerCase()):"")};l.prototype._onSelectedChange=
function(c){this._isOpen=!1;this._selectedOption.setAttribute("aria-expanded","false");f.default.remove(this.domNode,"license-type--is-open");c.id!==this._currentSelectedType.id&&(this._removeInvalidOption(),this.hasChanged=!0,this._renderOptions(c),f.default.remove(this.domNode,"license-type--is-open"),this.emit("change",this.value))};l.prototype._removeInvalidOption=function(){this.domNode.classList.remove("license-type-select--hide-compat");for(var c=0;c<this.userLicenseTypes.length;c++)if(this.userLicenseTypes[c].invalid||
this.userLicenseTypes[c].userTypeCount){this.userLicenseTypes.splice(c,1);break}};l.prototype._renderOptions=function(c){var d=this,w,t;this._currentSelectedType=c;1===this.userLicenseTypes.length&&this.domNode.classList.add("license-type__single-option");0<(null===(w=this.licenseTypeOptions)||void 0===w?void 0:w.length)&&this.licenseTypeOptions.forEach(function(z){z.destroy()});this._selectedTypeOption&&this._selectedTypeOption.destroy();this.licenseTypeOptions=[];this.value=null!==(t=null===c||
void 0===c?void 0:c.id)&&void 0!==t?t:"";this._selectedOption.innerHTML="";this._options.innerHTML="";this.userLicenseTypes.forEach(function(z,x){var y,A=new n.default({licenseType:z,checked:(null===c||void 0===c?void 0:c.id)===z.id,preventDefaultOnClick:!0,portal:d.portal,roles:d.roles,apps:d.apps,optionId:"user-type-option-".concat((null===(y=z.id)||void 0===y?void 0:y.toLowerCase())||x)});A.domNode.setAttribute("role","option");(null===c||void 0===c?void 0:c.id)===z.id&&(d._currentOptionIndex=
x,d._selectedTypeOption=new n.default({licenseType:z,radioName:"selectedLicenseType",preventDefaultOnClick:!0,portal:d.portal,roles:d.roles,apps:d.apps}),d.own((0,h.default)(d._selectedTypeOption,"select",d._toggleTypeSelect.bind(d)),(0,h.default)(d._selectedOption,"keyup",d._onSelectedKeydown.bind(d))),k.default.place(d._selectedTypeOption.domNode,d._selectedOption));d.own((0,h.default)(A,"select",d._onSelectedChange.bind(d)));k.default.place(A.domNode,d._options);d._options.querySelectorAll("button").forEach(function(B){B.tabIndex=
-1});d.licenseTypeOptions.push(A)})};l.prototype.selectAndCloseDropdown=function(){var c=this;if(this._isOpen){this._toggleTypeSelect();var d=this.userLicenseTypes.filter(function(w){return w.id===c.value})[0];this._onSelectedChange(d);this._selectedOption&&this._selectedOption.focus()}};l.prototype._traverseOption=function(c){this.licenseTypeOptions.forEach(function(w){w.deselect()});var d=this.licenseTypeOptions[c];d.select();this.value=d.licenseType.id;this._currentOptionIndex=c;this.setActiveDescendant(this.value)};
return l=a.__decorate([(0,q.default)(p.default,g.default,u.default)],l)}()})},"arcgisonline/pages/dijit/InviteMembers/LicenseTypeOption":function(){define("require exports tslib calcite-web/js/calcite-web dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick dojo/on dojo/Evented dojo/text!./templates/LicenseTypeOption.html dojo/i18n!../../../nls/arcgisonline ../../utils/dom ./AppIconWithLabel ../../organization/widgets/UserTypeName ../CompatibleBadge ../../organization/widgets/AvailableText ../../dijit/MemberThumb ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);return function(){function d(w,t){this.templateString=r.default;this.i18n=e.default;this.radioName="licenseType";
this._selectedClass="license-type-option--selected"}d.prototype.postMixInProperties=function(){this.inherited(arguments)};d.prototype.postCreate=function(){this.inherited(arguments);this.optionId&&(this.domNode.id=this.optionId);this.expandedSelected&&(this._selectedClass="license-type-option--selected-expanded");this._radioButton.checked=this.checked;this._radioButton.setAttribute("aria-checked",this._radioButton.checked?"true":"false");this.checked&&(this.domNode.classList.add(this._selectedClass),
this.domNode.setAttribute("aria-selected","true"));this.licenseType.invalid?(this.licenseType.name&&(this._userTypeName.textContent=this.licenseType.name,this.domNode.setAttribute("aria-label",this.licenseType.name)),this.domNode.classList.add("license-type-option--error")):this.licenseType.userTypeCount?(this.domNode.classList.add("multiple-assigned-option"),v.default.showNode(this.userTypesAssigned),this.userTypesAssignedCount.textContent="".concat(this.licenseType.userTypeCount)):(this._renderAppIcons(),
this._userTypeName=new p.default({userType:this.licenseType,portal:this.portal},this._userTypeName),this._radioButton.setAttribute("aria-label",this._userTypeName.labelText),this.domNode.setAttribute("aria-label",this.licenseType.name),this.domNode.setAttribute("aria-selected",this.checked?"true":"false"),this._available=new q.default({used:this.licenseType.assigned,total:this.licenseType.maxUsers,warnPercent:100},this._available),this.domNode.setAttribute("aria-label","".concat(this.licenseType.name,
", ").concat(this._available.domNode.textContent)),this._description=new n.default({item:this.licenseType,apps:this.apps,roles:this.roles,portal:this.portal,cssClasses:"leader-quarter compatible-badge__dropdown-container--right"},this._description),setTimeout(function(){b.default.dropdown()},100));this._addEventListeners()};d.prototype.deselect=function(){this.checked=!1;this._radioButton.setAttribute("aria-checked","false");this._radioButton.checked=this.checked;this.domNode.classList.remove(this._selectedClass);
this.domNode.setAttribute("aria-selected","false")};d.prototype.select=function(){this.checked=!0;this._radioButton.setAttribute("aria-checked","true");this._radioButton.checked=this.checked;this.domNode.classList.add(this._selectedClass);this.domNode.setAttribute("aria-selected","true")};d.prototype.disable=function(w){this._radioButton.disabled=!0;this.domNode.classList.add("license-type-option--disabled");this._disableClickCallback=w};d.prototype.enable=function(){this._radioButton.disabled=!1;
this.domNode.classList.remove("license-type-option--disabled")};d.prototype.showMembers=function(w){this.domNode.classList.add(this._selectedClass);this.domNode.setAttribute("aria-selected","true");v.default.hideNode(this._description.domNode);var t=w.slice(0,5).map(function(z){return new l.default({member:z,showTooltip:!0})});v.default.appendChildren(t.map(function(z){return z.domNode}),this.memberIcons);5<w.length&&(t=document.createElement("div"),t.className="org-member-card__more-tile link-darker-gray flex-center",
t.textContent="+".concat(w.length-5),this.memberIcons.appendChild(t))};d.prototype._renderAppIcons=function(){var w=this;if(this.expandedSelected){var t=[];this.licenseType.apps.forEach(function(z){z=new g.default({app:z,portal:w.portal});t.push(z.domNode)});v.default.appendChildren(t,this._expandedAppList)}};d.prototype._addEventListeners=function(){var w=this;this.own((0,h.default)(this.domNode,"mousedown",function(t){w._radioButton.disabled&&t.preventDefault()}),(0,m.default)(this.domNode,function(t){t.stopPropagation();
w.preventDefaultOnClick&&t.preventDefault();w._radioButton.disabled&&w._disableClickCallback?w._disableClickCallback(w):(w.select(),w.emit("select",w.licenseType))}));this._radioButton.addEventListener("change",function(){w._radioButton.setAttribute("aria-checked",w._radioButton.checked?"true":"false")})};return d=a.__decorate([(0,c.default)(f.default,k.default,u.default)],d)}()})},"arcgisonline/pages/dijit/InviteMembers/AppIconWithLabel":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline dojo/text!./templates/AppIconWithLabel.html dijit/_TemplatedMixin dijit/_WidgetBase ../../../sharing/geow/Licenses ../../utils/organization ./AppIcon ../../organization/widgets/BlockedAppPopup ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.i18n=b.default;this.templateString=k.default;this.cssClasses=this.textCssClasses="";this.blocked=this.hideIcon=!1}g.prototype.postCreate=function(){this.inherited(arguments);var p=this.app.title;if(!u.default.isEntitlement(this.app)){var n=
this.app;n.entitlements&&1===n.entitlements.length&&(n=h.default.getProEntitlementTitle(n.entitlements[0]),0<n.length&&(p=n))}this._titleLabel.textContent=p;this._titleLabel.title=p;this.hideIcon?(this.domNode.removeChild(this._appIcon),this._appIcon=void 0):this._appIcon=new r.default({app:this.app,portal:this.portal},this._appIcon);this.adjustForBlocked()};g.prototype.addAsterisk=function(){this._titleLabel.textContent+=" *"};g.prototype.showAddonBadge=function(){this._appIcon.showAddonBadge()};
g.prototype.adjustForBlocked=function(){this.blocked&&(this.content.classList.add("blocked-app-info"),new e.default({aroundEl:this.content}))};return g=a.__decorate([(0,v.default)(m.default,f.default)],g)}()})},"arcgisonline/pages/dijit/InviteMembers/AppIcon":function(){define("require exports tslib dojo/text!./templates/AppIcon.html dojo/on dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/organization ../../utils/dom ../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=
a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=b.default;this.defaultIcon=this.cssClasses="";this.hasTooltip=!1}e.prototype.postCreate=function(){var v=this;this.hasTooltip&&(this.domNode.classList.add("tooltip"),this.domNode.setAttribute("aria-label",this.app.title));h.default.initLicensesConfig(this.portal).then(function(){var g;v.icon=
h.default.getAppIcon(v.app,v.defaultIcon);0<(null===(g=v.icon.shapeClass)||void 0===g?void 0:g.length)&&v.domNode.classList.add(v.icon.shapeClass);v._img.src=v.icon.imagePath;v.icon.showAbbr&&(v._abbr.innerHTML=v.icon.abbr,u.default.showNode(v._abbr));v.own((0,k.default)(v._img,"error",function(){v._img.src="js/arcgisonline/sharing/dijit/css/images/app-icons/generic-app.png"}))})};e.prototype.setAbbr=function(v){this.icon.showAbbr&&(this._abbr.innerHTML=v,u.default.showNode(this._abbr))};e.prototype.showAddonBadge=
function(){u.default.showNode(this.addonBadge)};return e=a.__decorate([(0,r.default)(m.default,f.default)],e)}()})},"arcgisonline/pages/organization/widgets/BlockedAppPopup":function(){define("require exports tslib dojo/text!./templates/BlockedAppPopup.html dojo/i18n!../../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/TooltipDialog dijit/popup arcgisonline/pages/utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=b.default;this.i18n=k.default;this.popupId="";this.opened=!1}g.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};g.prototype.openPopover=function(p){p.stopPropagation();p.preventDefault();r.default.open({popup:this.dialog,
orient:["below-centered","above-centered"],around:this.aroundEl});e.default.showNode(this.domNode);this.closeIcon.focus();this.opened=!0};g.prototype.closePopover=function(){r.default.close(this.dialog);this.aroundEl.focus();this.opened=!1};g.prototype.render=function(){this.dialog=new u.default({class:"popover",title:"",content:this.domNode})};g.prototype.addEventListeners=function(){var p=this;this.own((0,f.default)(this.aroundEl,"click",function(n){p.openPopover(n)}),(0,f.default)(this.closeIcon,
"click",function(){p.closePopover()}),(0,f.default)(document.body,"click",function(n){p.opened&&!p.domNode.contains(n.target)&&p.closePopover()}))};return g=a.__decorate([(0,v.default)(h.default,m.default)],g)}()})},"arcgisonline/pages/organization/widgets/UserTypeName":function(){define("require exports tslib dojo/text!./templates/licenses/UserTypeName.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,
f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.templateString=b.default;this.i18n=k.default;this.labelText=this.cssClasses=""}return u=a.__decorate([(0,h.default)(m.default,f.default)],u)}()})},"arcgisonline/pages/dijit/CompatibleBadge":function(){define("require exports tslib calcite-web/js/calcite-web dojo/topic dojo/text!./CompatibleBadge/templates/CompatibleBadge.html dojo/i18n!../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./InviteMembers/AppIconWithLabel ../utils/dom ../utils/organization ../utils/icons ./Popover/Popover ../../sharing/dijit/_LevelAwareMixin ../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.templateString=f.default;this.i18n=m.default;this.icons=g.default;this.cssClasses=""}l.prototype.postCreate=function(){this.inherited(arguments);
this._render();b.default.dropdown()};l.prototype._render=function(){v.default.isEntitlement(this.item)?this._handleEntitlement():(this._handleLicenseType(),this.own(k.default.subscribe("invite-apps/loaded",this.handleAppsLoaded.bind(this))))};l.prototype.handleAppsLoaded=function(c){0===this.apps.length&&(this.apps=c,this._handleLicenseType())};l.prototype._handleEntitlement=function(){var c=v.default.getCompatibleUserTypes(this.item,this.licenseTypes,this.apps);c.length===this.licenseTypes.length?
(this._compatibleAllText.textContent=this.i18n.myOrganization.licensesTab.compatibleWithAllLicenseTypes,e.default.showNode(this._compatibleAllText)):this._compatibleTypesSection=this._createPopover({selector:".js-user-types-section",title:this.i18n.myOrganization.licensesTab.compatibleLicenseTypes,buttonText:c.length,content:c.reduce(function(d,w){return"".concat(d,"\x3cli\x3e").concat(w.name,"\x3c/li\x3e")},"")})};l.prototype._handleLicenseType=function(){var c=this,d=this.item,w=[],t=[];this.roles.forEach(function(x){var y=
!0;if(!v.default.canSupportAdminRoles(d)||c.portal.isPortal&&d.supportsSignInOnlyFromUTApps)y=!v.default.isAdminRole(x);-1!==x.compatibleLevels.indexOf(d.level)&&y&&w.push(x)});this.apps&&this.apps.forEach(function(x){var y=v.default.alreadyIncludedInUserType(d,x),A=x.expiration&&-1!==x.expiration&&x.expiration<Date.now()||0===x.total&&0<x.used,B=v.default.userTypePassesRequired(d,x),D=d.preventSignInFromNonUTEsriApps&&(x.isEsriApp||x.isAppBundle);-1===x.allowedLevels.indexOf(d.level)&&0!==x.allowedLevels.length||
y||A||!B||D||d.supportsSignInOnlyFromUTApps||t.push(x)});if(d.supportsSignInOnlyFromUTApps&&!this.portal.isPortal)this._compatibleAllText.textContent=this.i18n.myOrganization.licensesTab.compatibleWithNonAdminRoles,e.default.showNode(this._compatibleAllText);else if(w.length!==this.roles.length||t.length!==this.apps.length||d.supportsSignInOnlyFromUTApps){if(0<w.length&&!this._compatibleRolesSection&&(this._compatibleRolesSection=this._createPopover({baseClass:"compatible-roles-section",selector:".js-roles-section",
title:this.i18n.myOrganization.licensesTab.compatibleRoles,buttonText:w.length,content:w.reduce(function(x,y){return"".concat(x,"\x3cli\x3e").concat(y.name,"\x3c/li\x3e")},"")})),0<t.length){var z=[];t.forEach(function(x){x=new r.default({app:x,portal:c.portal});z.push(x)});this._createPopover({selector:".js-apps-section",buttonText:t.length,title:this.i18n.myOrganization.licensesTab.compatibleApps,content:z.map(function(x){return x.domNode})})}}else this._compatibleAllText.textContent=this.i18n.myOrganization.licensesTab.compatibleWithAllRolesAndApps,
e.default.showNode(this._compatibleAllText)};l.prototype._createPopover=function(c){var d=c.title,w=c.baseClass;c=new p.default({baseClass:w?w:"",buttonText:c.buttonText,buttonClass:"compatible-badge__count-btn",buttonLabel:d,menuClass:"compatible-badge__dropdown",contentTitle:d,content:c.content,ariaLabel:""},this.domNode.querySelector(c.selector));c.domNode.querySelector(".compatible-badge__dropdown").addEventListener("click",function(t){t.stopPropagation()});return c};return l=a.__decorate([(0,q.default)(u.default,
h.default,n.default)],l)}()})},"arcgisonline/pages/dijit/Popover/Popover":function(){define("require exports tslib calcite-web/js/calcite-web dojo/text!./Popover.html dojo/i18n!../../../nls/arcgisonline dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../../utils/icons ../../utils/dom ../../utils/organization arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);
h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=k.default;this.i18n=f.default;this.icons=e.default;this.ariaLabel=this.contentTitle=this.titleClass=this.menuClass=this.buttonText=this.buttonClass=this.buttonLabel=""}n.prototype.postCreate=function(){this.inherited(arguments);this._render();this._addEventListeners();b.default.dropdown();
this._button.setAttribute("aria-label",this.ariaLabel)};n.prototype.destroy=function(){this._mobileDropdown&&document.body.removeChild(this._mobileDropdown);this.inherited(arguments)};n.prototype._render=function(){this._list.innerHTML="";Array.isArray(this.content)?v.default.appendChildren(this.content,this._list):this._list.innerHTML=this.content;this.buttonLabel&&v.default.showNode(this._buttonLabel)};n.prototype._addEventListeners=function(){var q=this;this.own((0,r.default)(this._button,function(l){q.domNode.classList.contains("is-active")?
q.domNode.removeAttribute("aria-expanded"):(q.domNode.setAttribute("aria-expanded","true"),setTimeout(function(){q._menu.focus();q.dropdownContent.style.height=160>q.dropdownContent.clientHeight?"".concat(q.dropdownContent.clientHeight+8,"px"):"auto"},10));q._openMobileDropdown.bind(q)}),(0,r.default)(this._mobileCloseBtn,function(){q._mobileDropdown.classList.remove("is-active")}),(0,m.default)(this._menu,"focusin",function(l){l.stopPropagation()}),(0,m.default)(document.body,"click",function(){q.domNode.removeAttribute("aria-expanded")}),
(0,m.default)(this.domNode,"keydown, keyup",function(l){" "!==l.key&&"Enter"!==l.key||l.stopPropagation()}))};n.prototype._openMobileDropdown=function(){g.default.isMobile()&&(this._mobileDropdown||(this._mobileDropdown=document.createElement("div"),this._mobileDropdown.className="mobile-dropdown",this._mobileDropdown.appendChild(this._mobileMask),this._mobileDropdown.appendChild(this._menu),document.body.appendChild(this._mobileDropdown)),this._mobileDropdown.classList.add("is-active"))};return n=
a.__decorate([(0,p.default)(u.default,h.default)],n)}()})},"arcgisonline/pages/organization/widgets/AvailableText":function(){define("require exports tslib esri/lang dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./_ProgressMixin ../../utils/culture ../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);
return function(){function e(v,g){this.templateString='\x3cdiv class\x3d"${cssClasses}"\x3e\x3c/div\x3e';this.i18n=k.default;this.cssClasses="";b.default.isDefined(v.warnPercent)||(this.warnPercent=-1)}e.prototype.postCreate=function(){this.inherited(arguments);this._render()};e.prototype._render=function(){this._currentColor=this.getProgressCss().color;this.domNode.classList.add("text-".concat(this._currentColor));this.domNode.textContent=u.default.getString(this.i18n.myOrganization.licensesTab.numberAvailable,
this.total-this.used)};e.prototype.update=function(v){this.used=v;this.domNode.classList.remove(this._currentColor);this._render()};return e=a.__decorate([(0,r.default)(m.default,f.default,h.default)],e)}()})},"arcgisonline/pages/organization/widgets/_ProgressMixin":function(){define(["require","exports"],function(U,M){return function(){function a(){this.cssClasses="";this.showAvailable=!1;this.warnPercent=90;this.noRounding=!1;this._green="dark-green";this._red="red"}a.prototype.getProgressCss=function(){var b=
this.used,k=this.total;0===b&&0<k?b=0:0<b&&0===k||b>k?b=100:this.noRounding?b=b/k*100:(b=Math.round(b/k*100)/10,b=10*Math[1>b&&0<b?"ceil":"round"](b));return this.progressCss={percent:this.showAvailable?100-b:b,color:this.getProgressColor(b)}};a.prototype.getProgressColor=function(b){return 0===b?this._green:this.used>this.total?this._red:-1!==this.warnPercent&&b>=this.warnPercent?this._red:this._green};return a}()})},"arcgisonline/pages/organization/widgets/settings/rows/DefaultUserTypeRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/topic ./SettingsRow ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){}h.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.memberDefaultsTab);this.valueType="text";this.inherited(arguments)};h.prototype.showUserTypeError=function(){this._valueContainer.classList.add("org-settings__user-type-error");this._displayValue.textContent=b.default.memberDefaultsTab.updateUserType};
h.prototype.hideUserTypeError=function(){this._valueContainer.classList.remove("org-settings__user-type-error")};h.prototype.toggleEdit=function(u){k.default.publish("default-user-type-role/edit","userType")};return h=a.__decorate([(0,m.default)(f.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/rows/DefaultRoleRow":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/topic ./SettingsRow ../../../../../tsutils/declareDecorator".split(" "),function(U,
M,a,b,k,f,m){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);return function(){function h(u,r){}h.prototype.postMixInProperties=function(){this.i18n=a.__assign(a.__assign({},this.i18n),b.default.memberDefaultsTab);this.valueType="text";this.inherited(arguments)};h.prototype.toggleEdit=function(u){k.default.publish("default-user-type-role/edit","role")};return h=a.__decorate([(0,m.default)(f.default)],h)}()})},"arcgisonline/pages/organization/widgets/settings/cards/DefaultLicensesCard":function(){define("require exports tslib dojo/promise/all dojo/i18n!../../../../../nls/arcgisonline ./SettingsCard ../../../../../tsutils/declareDecorator ../rows/DefaultLicenseRow ../../UserDefaults/DefaultLicensesOverlay ../../../../utils/alerts ../../../../utils/dom ../../../../utils/organization ../../../../../sharing/dijit/_LevelAwareMixin ../../../../../sharing/geow/Licenses".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.apps=[];this.appBundles=[];this.defaultLicenses=[]}n.prototype.updateDefaultUserType=function(q){this.defaultUserType=q};n.prototype._getLicenses=function(){var q=this;return(0,b.default)({apps:this._licensesAPI.getLicensedEntitlements(),
appBundles:this._licensesAPI.getAppBundles()}).then(function(l){q._apps=l.apps;q._appBundles=v.default.convertAppBundletoEntitlement(l.appBundles.appBundles)})};n.prototype._createRows=function(){var q=this,l,c=[],d=!1;this._content.innerHTML="";this._containsProExtensions=this._containsPro=!1;this._licenseRows&&(this._licenseRows.forEach(function(w){w.destroy()}),this._licenseRows=[]);this._nonProExtensions.forEach(function(w){w.isExpired&&(w.total=void 0);if(q.apps&&q.apps.filter(function(z){return z.itemId===
w.itemId&&-1<z.entitlements.indexOf(w.key)})[0]){var t=v.default.isProKey(w.key);t&&!d?(c.push(w),d=!0,q._containsPro=!0):t||c.push(w)}});d||this._apps.some(function(w){q.apps&&q.apps.filter(function(t){return t.itemId===w.itemId&&-1<t.entitlements.indexOf(w.key)&&w.isExtension&&w.isPro})[0]&&(c.push(w),d=q._containsProExtensions=!0);return d});null===(l=this.apps)||void 0===l?void 0:l.forEach(function(w){if(!q._apps.filter(function(z){return z.itemId===w.itemId})[0]){var t=q._licensesAPI._productListings.map(function(z){return z.listing}).filter(function(z){return z.itemId===
w.itemId})[0];t&&(t={key:w.itemId,itemId:w.itemId,title:t.title,owner:t.owner,type:t.type,isExpired:!0,allowedLevels:t.allowedUserLevels?t.allowedUserLevels.split(",").map(function(z){return z.trim()}):[]},q._apps.push(t),c.push(t))}});this._appBundles.forEach(function(w){q.appBundles&&-1<q.appBundles.indexOf(w.itemId)&&c.push(w)});this.defaultLicenses=c;this._licenseRows=c.map(function(w){return new h.default({portal:q.portal,app:w.isExtension?a.__assign(a.__assign({},w),{title:k.default.myOrganization.inviteMembers.arcgisProExtensions}):
w})});e.default.appendChildren(this._licenseRows.map(function(w){return w.domNode}),this._content)};n.prototype.render=function(){var q=this;this._licensesAPI=new p.default;this.showHeaderBtn(this.i18n.memberDefaultsTab.manageLicenses);this._title.textContent=this.name;this._description.textContent=this.description;this._getLicenses().then(function(){q._nonProExtensions=v.default.filterOutProExtensions(q._apps);q._createRows()})};n.prototype.handleBtnClick=function(){var q=this;this.confirmMigration().then(function(){var l;
!q.defaultUserType||(null===(l=q.defaultUserType)||void 0===l?0:l.supportsSignInOnlyFromUTApps)?r.default.showAlert("warning",q.i18n.memberDefaultsTab.userTypeNoAddon):(new u.default({portal:q.portal,licenses:{apps:q.apps,appBundles:q.appBundles},apps:q._apps,appBundles:q._appBundles,userType:q.defaultUserType,opener:q._headerBtn,closeOnScrimClick:!1})).open()})};n.prototype.update=function(q,l){this.apps=q;this.appBundles=l;this._createRows()};n.prototype.getHighestLicenseLevel=function(){var q=
this,l=this.LICENSE_LEVELS.ONE;this.apps&&this.apps.forEach(function(c){var d,w=null===(d=q._apps)||void 0===d?void 0:d.filter(function(t){return t.itemId===c.itemId})[0];0<(null===w||void 0===w?void 0:w.allowedLevels.length)&&-1===(null===w||void 0===w?void 0:w.allowedLevels.indexOf(q.LICENSE_LEVELS.ONE))&&(l=q.LICENSE_LEVELS.TWO)});this.appBundles&&l!==this.LICENSE_LEVELS.TWO&&this.appBundles.forEach(function(c){var d=q._appBundles.filter(function(w){return w.itemId===c})[0];d&&-1<d.allowedLevels.indexOf(q.LICENSE_LEVELS.TWO)&&
(l=q.LICENSE_LEVELS.TWO)});return l};n.prototype.containsPro=function(){return this._containsPro};n.prototype.containsProExtensions=function(){return this._containsProExtensions};return n=a.__decorate([(0,m.default)(f.default,g.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/rows/DefaultLicenseRow":function(){define("require exports tslib dojo/text!./templates/DefaultLicenseRow.html dojo/on dijit/_TemplatedMixin dijit/_WidgetBase ../../../../utils/icons ../../../../dijit/InviteMembers/AppIcon ../../BlockedAppPopup arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=b.default;this.icons=h.default}v.prototype.postCreate=function(){this.inherited(arguments);new u.default({app:this.app,portal:this.portal},this.domNode.querySelector(".js-thumb"));if(this.app.blocked){this.domNode.classList.add("blocked-app-info");
var g=new r.default({aroundEl:this.domNode.querySelector(".js-default-license-title")});this.own((0,k.default)(this.domNode,"click",function(p){g.openPopover(p)}))}};return v=a.__decorate([(0,e.default)(m.default,f.default)],v)}()})},"arcgisonline/pages/organization/widgets/UserDefaults/DefaultLicensesOverlay":function(){define("require exports tslib calcite-web/js/calcite-web dojo/text!./templates/DefaultLicensesOverlay.html dojo/i18n!../../../../nls/arcgisonline dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../../dijit/Overlay ../../../utils/organization ../../../pageUtil ../../../utils/dom ../../../dijit/InviteMembers/LicenseAssignments ../../../../sharing/dijit/_LevelAwareMixin arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.title=f.default.myOrganization.defaultsTab.defaultLicenses;this.i18n=f.default;this.overlayContents=
m.default.substitute(k.default,{i18n:f.default})}c.prototype.postMixInProperties=function(){this.constrain=!0;this.inherited(arguments)};c.prototype.open=function(){this.inherited(arguments);this._overlayLoaderText.textContent=this.i18n.myOrganization.manageLicenses.loadingLicenses;this._render()};c.prototype.close=function(){this.inherited(arguments)};c.prototype.handlePrimary=function(){var d=this,w=[],t=this._licenseAssignments.getSelectedState(),z=t.pro,x=t.appBundles;t=a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray([],
t.apps,!0),t.data,!0),t.userTypeExtensions,!0),t.runtime,!0);w=t.filter(function(A){return!A.isExpired}).map(function(A){return{itemId:A.itemId,entitlements:[A.key]}});if(0<z.length){var y={itemId:z[0].itemId,entitlements:[]};z.forEach(function(A){y.entitlements.push(A.key)});w.push(y)}t.some(function(A){return A.isExpired})?g.default.createConfirmationDialog({strings:{title:this.i18n.myOrganization.defaultsTab.expiredTitle,description:this.i18n.myOrganization.defaultsTab.expiredWarning},autoCloseOnOk:!0,
onOk:function(){d.save(w,x)}}):this.save(w,x)};c.prototype.save=function(d,w){h.default.publish("default-licenses/save",{clearEmptyFields:!0,apps:0<d.length?JSON.stringify(d):"",appBundles:0<w.length?JSON.stringify(w.map(function(t){return t.itemId})):""});this.close()};c.prototype._render=function(){var d=this,w;this._overlayLoader.classList.add("is-active");this._initLicenseAssignments();null!==(w=this.apps)&&void 0!==w&&w.length||(w=this.domNode.querySelector(".js-no-licenses"),w.textContent=this.i18n.myOrganization.licensesTab["noAddOnLicenses".concat(this.portal.isPortal?
"Portal":"")],p.default.showNode(w));w=this.apps?v.default.getProEntitlements(this.apps):[];var t=v.default.categorizeEntitlements(this.apps),z=t.apps,x=t.data,y=t.userTypeExtensions,A=t.runtime;if(0<w.length)var B=w[0].itemId;B||this.userType.apps.some(function(D){return"ArcGIS Pro"===D.title?(B=D.id,!0):!1});this._overlayLoader.classList.remove("is-active");b.default.accordion();this._licenseAssignments.startup().then(function(){if(d.licenses&&(0<d.licenses.apps.length||0<d.licenses.appBundles.length)){var D=
[];if(B){var C=d.licenses.apps.filter(function(E){return E.itemId===B})[0];C&&(D=d.apps.filter(function(E){return-1<C.entitlements.indexOf(E.key)}))}d._licenseAssignments.setSelectedState({pro:D,apps:d._filterSelected(z),data:d._filterSelected(x),appBundles:d.appBundles.filter(function(E){return-1<d.licenses.appBundles.indexOf(E.itemId)}),userTypeExtensions:d._filterSelected(y),runtime:d._filterSelected(A)});0!==D.length||v.default.userTypeIncludesPro(d.userType)||d._licenseAssignments.hideProExtenisions()}})};
c.prototype._filterSelected=function(d){var w=this;return d.filter(function(t){return!!w.licenses.apps.filter(function(z){var x;return z.itemId===t.itemId&&-1<(null===(x=z.entitlements)||void 0===x?void 0:x.indexOf(t.key))})[0]})};c.prototype._initLicenseAssignments=function(){this._licenseAssignments=new n.default({entitlements:this.apps,portal:this.portal,appsLimit:10,appBundlesLimit:5,appsLimitText:this.i18n.myOrganization.defaultsTab.maxApps,appBundlesLimitText:this.i18n.myOrganization.defaultsTab.maxAppBundles,
userType:this.userType},this.domNode.querySelector(".js-panels-container"))};return c=a.__decorate([(0,l.default)(r.default,u.default,e.default,q.default)],c)}()})},"arcgisonline/pages/dijit/InviteMembers/LicenseAssignments":function(){define("require exports tslib calcite-web/js/calcite-web dojo/Deferred dojo/on dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ./LicenseAssignPanel ../../utils/dom ../../utils/organization ../../utils/alerts ../../../sharing/geow/Licenses ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString='\x3cdiv class\x3d"js-accordion"\x3e\x3c/div\x3e';this.i18n=m.default;this.members=[];this.proCount=0;this.appsLimitAlertId="app-limit-alert";
this.appBundlesLimitAlertId="app-bundles-limit-alert"}q.prototype.postCreate=function(){this.inherited(arguments);this._licensesAPI=new p.default};q.prototype.startup=function(){var l=this;this.inherited(arguments);return v.default.initLicensesConfig(this.portal).then(function(){return l._render()})};q.prototype.destroy=function(){var l,c;this.inherited(arguments);null===(l=document.getElementById(this.appsLimitAlertId))||void 0===l?void 0:l.remove();null===(c=document.getElementById(this.appBundlesLimitAlertId))||
void 0===c?void 0:c.remove()};q.prototype._render=function(){var l=this,c=[],d=v.default.categorizeEntitlements(this.entitlements),w=d.pro,t=d.proExtensions,z=d.apps,x=d.data,y=d.userTypeExtensions,A=d.runtime,B=new k.default;this.appBundles?(c=this.appBundles,B.resolve()):this._licensesAPI.getAppBundles().then(function(D){D.appBundles.forEach(function(C){c.push({key:C.appBundleItemId,itemId:C.appBundleItemId,title:C.name,isPro:!1,used:C.assigned,total:C.maxUsers,isAppBundle:!0,apps:C.apps,allowedLevels:C.allowedLevels})});
B.resolve()},function(){B.resolve()});return B.then(function(D){var C,E=[],H=[];l.members.forEach(function(G){E.filter(function(F){return F.id===G.licenseType.id})[0]||E.push(G.licenseType);G.appBundles&&G.appBundles.forEach(function(F){H.filter(function(I){return I.id===F.id})[0]||H.push(F)})});l._appLicensePanel&&(l._appLicensePanel.destroyRecursive(),l._proLicensePanel.destroyRecursive(),l._dataLicensePanel.destroyRecursive(),l._appBundleLicensePanel.destroyRecursive(),l._userTypeExtensionPanel.destroyRecursive());
l._appBundleLicensePanel=new r.default({entitlements:c,panelName:m.default.myOrganization.inviteMembers.appBundles,portal:l.portal,licenseTypes:E,members:l.members,userType:l.userType});l._appLicensePanel=new r.default({entitlements:z,panelName:m.default.myOrganization.inviteMembers.applications,portal:l.portal,licenseTypes:E,appBundles:H,members:l.members,userType:l.userType});(0<t.length||0<w.length)&&l.userLicenseTypes&&l.userLicenseTypes.forEach(function(G){l.members.some(function(F){var I;return(null===
(I=F.licenseType)||void 0===I?void 0:I.id)===G.id})&&G.apps.forEach(function(F){if(!F.isAppBundle&&"ArcGIS Pro"===F.title){var I=F.entitlements[0];w.filter(function(J){return J.key===I})[0]||w.push({title:p.default.getProEntitlementTitle(I),key:I,total:0,used:0,isPro:!0,allowedLevels:["2"],itemId:F.id,usernames:[],extNotSupported:p.default.getExtNotSupported(I),throughUserTypeOnly:!0})}})});(null===(C=l.userType)||void 0===C?0:C.apps)&&l.userType.apps.forEach(function(G){if("ArcGIS Pro"===G.title){var F=
G.entitlements[0];w.filter(function(I){return I.key===F})[0]||w.push({title:p.default.getProEntitlementTitle(F),key:F,total:0,used:0,isPro:!0,allowedLevels:["2"],itemId:G.id,usernames:[],extNotSupported:p.default.getExtNotSupported(F),throughUserTypeOnly:!0})}});l._proLicensePanel=new r.default({entitlements:w,extensions:t,panelName:m.default.myOrganization.inviteMembers.arcgisPro,radioName:"arcgisPro",portal:l.portal,members:l.members,supportedLevels:["2"],licenseTypes:E,appBundles:H,userType:l.userType});
l._dataLicensePanel=new r.default({entitlements:x,panelName:m.default.myOrganization.inviteMembers.data,portal:l.portal,members:l.members,appBundles:H,userType:l.userType});l._userTypeExtensionPanel=new r.default({entitlements:y,panelName:m.default.myOrganization.licensesTab.userTypeExtensions,portal:l.portal,members:l.members,licenseTypes:E,appBundles:H,userType:l.userType});l.runtimePanel=new r.default({entitlements:A,panelName:m.default.myOrganization.inviteMembers.arcgisRuntimeExtensions,portal:l.portal,
members:l.members,licenseTypes:E,appBundles:H,userType:l.userType});l.own((0,f.default)(l._appLicensePanel,"change",l._calculateAppsSelected.bind(l)),(0,f.default)(l._userTypeExtensionPanel,"change",l._calculateAppsSelected.bind(l)),(0,f.default)(l.runtimePanel,"change",l._calculateAppsSelected.bind(l)),(0,f.default)(l._dataLicensePanel,"change",l._calculateAppsSelected.bind(l)),(0,f.default)(l._proLicensePanel,"change",l._calculateAppsSelected.bind(l)),(0,f.default)(l._proLicensePanel,"deselect",
l._calculateAppsSelected.bind(l)),(0,f.default)(l._proLicensePanel,"select-all",l._calculateAppsSelected.bind(l)),(0,f.default)(l._appBundleLicensePanel,"change",l._calculateAppsSelected.bind(l)));e.default.appendChildren([l._proLicensePanel.domNode,l._appBundleLicensePanel.domNode,l._appLicensePanel.domNode,l._dataLicensePanel.domNode,l._userTypeExtensionPanel.domNode,l.runtimePanel.domNode],l.domNode);b.default.accordion();b.default.dropdown()})};q.prototype._calcuteAppBundlesSelected=function(){this.appBundlesLimit&&
(this.getProductLicenses().filter(function(l){return l.isAppBundle}).length>this.appBundlesLimit?(g.default.showAlert("warning",this.appBundlesLimitText||this.i18n.myOrganization.inviteMembers.maxAppBundlesWarning[1<this.members.length?"multipleUsers":"singleUser"],null,this.appBundlesLimitAlertId),this._appBundleLicensePanel.disableAllUnselectedOptions()):this._appBundleLicensePanel.enableAllUnSelectedOptions())};q.prototype._calculateAppsSelected=function(l){if(this.appsLimit){var c=this.proCount,
d=this.getProductLicenses(),w=this.getProLicenses(),t=0;0<w.length&&(t=1);this.proCount=w.length;t+=d.length;t>=this.appsLimit?(d=this.appsLimitText||this.i18n.myOrganization.inviteMembers.maxAppsWarning[1<this.members.length?"multipleUsers":"singleUser"],l&&l.isExtension&&(1!==w.length||0!==c)||g.default.showAlert("warning",d,null,this.appsLimitAlertId),this._appLicensePanel.disableAllUnselectedOptions(),this._dataLicensePanel.disableAllUnselectedOptions(),this._userTypeExtensionPanel.disableAllUnselectedOptions(),
this.runtimePanel.disableAllUnselectedOptions(),this._appBundleLicensePanel.disableAllUnselectedOptions(),0===w.length&&(this._proLicensePanel.disableAllUnselectedOptions(),this._proLicensePanel.disableSelectAll())):(this._appLicensePanel.enableAllUnSelectedOptions(),this._dataLicensePanel.enableAllUnSelectedOptions(),this._userTypeExtensionPanel.enableAllUnSelectedOptions(),this.runtimePanel.enableAllUnSelectedOptions(),this._proLicensePanel.enableAllUnSelectedOptions(),this._proLicensePanel.enableSelectAll(),
this._appBundleLicensePanel.enableAllUnSelectedOptions())}};q.prototype.hideProExtenisions=function(){this._proLicensePanel.hideExtensions()};q.prototype.setAppLimits=function(l,c){this.appsLimit=l;this.appBundlesLimit=c};q.prototype.updatePanels=function(){var l=[],c=[];this.members.forEach(function(d){l.filter(function(w){return w.id===d.licenseType.id})[0]||l.push(d.licenseType);d.appBundles&&d.appBundles.forEach(function(w){c.filter(function(t){return t.id===w.id})[0]||c.push(w)})});this._appLicensePanel.render(l,
c);this._appBundleLicensePanel.render(l);this._proLicensePanel.render(l,c);this._dataLicensePanel.render(l,c);this._userTypeExtensionPanel.render(l,c);this.runtimePanel.render(l,c)};q.prototype.getSelectedLicenses=function(){return{proLicenses:this.getProLicenses(),productLicenses:this.getProductLicenses()}};q.prototype.getProductLicenses=function(){return a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray([],this._appBundleLicensePanel.getSelected(),!0),this._appLicensePanel.getSelected(),
!0),this._dataLicensePanel.getSelected(),!0),this._userTypeExtensionPanel.getSelected(),!0),this.runtimePanel.getSelected(),!0)};q.prototype.getProLicenses=function(){return 0<this._proLicensePanel.getSelected().length?a.__spreadArray([],this._proLicensePanel.getSelected(),!0):[]};q.prototype.getSelectedState=function(){return{pro:this.getProLicenses(),appBundles:this._appBundleLicensePanel.getSelected(),apps:this._appLicensePanel.getSelected(),data:this._dataLicensePanel.getSelected(),userTypeExtensions:this._userTypeExtensionPanel.getSelected(),
runtime:this.runtimePanel.getSelected()}};q.prototype.getChangedRows=function(){return a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray(a.__spreadArray([],this._appLicensePanel.getChangedRows(),!0),this._proLicensePanel.getChangedRows(),!0),this._dataLicensePanel.getChangedRows(),!0),this._userTypeExtensionPanel.getChangedRows(),!0),this.runtimePanel.getChangedRows(),!0)};q.prototype.getProRowByKey=function(l){return this._proLicensePanel.getRowByKey(l)};q.prototype.setSelectedState=
function(l){this._proLicensePanel.setSelected(l.pro);this._appBundleLicensePanel.setSelected(l.appBundles,!0);this._appLicensePanel.setSelected(l.apps);this._dataLicensePanel.setSelected(l.data);this._userTypeExtensionPanel.setSelected(l.userTypeExtensions);this.runtimePanel.setSelected(l.runtime);this._calculateAppsSelected()};return q=a.__decorate([(0,n.default)(u.default,h.default)],q)}()})},"arcgisonline/pages/dijit/InviteMembers/LicenseAssignPanel":function(){define("require exports tslib dojo/topic dojo/string dojo/on dojo/Evented dojo/text!./templates/LicenseAssignPanel.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/dom ../../utils/organization ./LicenseAssignRow ../../utils/icons ../../../sharing/geow/Licenses ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);return function(){function c(d,w){this.templateString=h.default;this.i18n=u.default;this.icons=n.default;this._rows=[];this._extensionRows=
[];this.allowedProUpgrade=this._includedThroughUserType=this._hasMembersAssigned=!1;this.panelName="";this.entitlements=[];this.extensions=[];this.radioName="";this.members=[]}c.prototype.postCreate=function(){this.inherited(arguments);this._inputType=0<this.radioName.length?"radio":"checkbox";0<this.entitlements.length?this.render():v.default.hideNode(this.domNode);this._addEventListeners()};c.prototype.render=function(d,w){var t=this;0<this._rows.length&&(this._rows.forEach(function(A){A.destroy()}),
this._rows=[]);this._extensionRows=[];d&&(this.licenseTypes=d);w&&(this.appBundles=w);this.entitlements.forEach(function(A){t._createRow(A,t._rowsContainer)});0<this.extensions.length&&this.extensions.forEach(function(A){t._createRow(A,t._extensionsContainer,!0)});if(this.supportedLevels){var z=[];d=z.join(",");this.members.forEach(function(A){-1===t.supportedLevels.indexOf(A.licenseType.level)&&z.push(A.licenseType.name)});0===z.length&&this.userType&&-1===this.supportedLevels.indexOf(this.userType.level)&&
z.push(this.userType.name);0<z.length?(v.default.hideNode(this._extensionsPanel),this._warningText.textContent=k.default.substitute(this.i18n.myOrganization.manageLicenses.notCompatibleLicenseTypes,{licenseTypeNames:d}),v.default.showNode(this._warning),this._rows.forEach(function(A){A.disable()}),this._hasMembersAssigned&&v.default.showNode(this._unassignedAllBtn),b.default.publish("licenses/warning",d)):(v.default.hideNode(this._warning),v.default.hideNode(this._unassignedAllBtn),this._rows.forEach(function(A){A.entitlement.total-
A.entitlement.used>=t.members.length&&!A.includedThroughLicenseTypes&&!A.includedOtherVersions&&!A.entitlement.isExpired&&A.enable()}))}this._rows.forEach(function(A){var B,D=A.entitlement.requiredListings;0<(null===D||void 0===D?void 0:D.length)&&t.members.some(function(E){return!g.default.userTypePassesRequired(E.licenseType,A.entitlement)})&&(A.disable(),b.default.publish("licenses/warning"));D=t.members.some(function(E){return E.licenseType.supportsSignInOnlyFromUTApps});var C=t.members.some(function(E){return E.licenseType.preventSignInFromNonUTEsriApps})||
(null===(B=t.userType)||void 0===B?void 0:B.preventSignInFromNonUTEsriApps);if(D||(A.entitlement.isEsriApp||A.entitlement.isAppBundle)&&C)A.incompatible=!0,A.disable()});if(0<this.extensions.length){var x="desktopAdvN",y=0;this.members.forEach(function(A){var B,D=!1;A.entitlements&&A.entitlements.forEach(function(C){"desktopStdN"===C&&"desktopAdvN"===x?x="desktopStdN":"desktopBasicN"===C&&(x="desktopBasicN");-1!==["desktopBasicN","desktopStdN","desktopAdvN"].indexOf(C)&&(y++,D=!0)});!D&&(null===(B=
A.licenseType)||void 0===B?0:B.apps)&&A.licenseType.apps.forEach(function(C){C.isAppBundle||C.entitlements.forEach(function(E){"desktopStdN"===E&&"desktopAdvN"===x?x="desktopStdN":"desktopBasicN"===E&&(x="desktopBasicN");-1!==["desktopBasicN","desktopStdN","desktopAdvN"].indexOf(E)&&y++})})});!y&&this.userType&&this.userType.apps.forEach(function(A){A.isAppBundle||A.entitlements.forEach(function(B){"desktopStdN"===B&&"desktopAdvN"===x?x="desktopStdN":"desktopBasicN"===B&&(x="desktopBasicN");-1!==
["desktopBasicN","desktopStdN","desktopAdvN"].indexOf(B)&&y++})});0<y&&(y===this.members.length||0===this.members.length)&&(v.default.showNode(this._extensionsPanel),this.disableExtensionOptions(q.default.getExtNotSupported(x),!0))}this._includedThroughUserType=this._rows.some(function(A){return A.includedThroughLicenseTypes});this.allowedProUpgrade=this._rows.some(function(A){return A.allowProUpgrade});this._includedThroughUserType&&!this.allowedProUpgrade?v.default.hideNode(this._unassignedAllBtn):
this.radioName&&this._hasMembersAssigned&&v.default.showNode(this._unassignedAllBtn);this._extensionRows.every(function(A){return A.disabled()})?v.default.hideNode(this._selectAllRow):v.default.showNode(this._selectAllRow)};c.prototype.getSelected=function(){return this._rows.filter(function(d){return d.checked()&&!d.includedThroughLicenseTypes}).map(function(d){return d.entitlement})};c.prototype.getChangedRows=function(){return this._rows.filter(function(d){return d.hasChanged})};c.prototype.getRowByKey=
function(d){return this._rows.filter(function(w){return w.entitlement.key===d})[0]};c.prototype.hide=function(){v.default.hideNode(this.domNode)};c.prototype.show=function(){v.default.showNode(this.domNode)};c.prototype.disableExtensionOptions=function(d,w){d&&this._rows.forEach(function(t){t.isExtension&&(-1!==d.indexOf(t.entitlement.key)?(w?t.setDisableOnly():t.disable(),t.notSupported=!0):(t.notSupported=!1,t.hasEnough&&!t.entitlement.isExpired&&t.enable()))})};c.prototype.disableAllUnselectedOptions=
function(){this._rows.forEach(function(d){d.checked()||d.disable()})};c.prototype.enableAllUnSelectedOptions=function(){var d=g.default.userTypeIncludesPro(this.userType)||this._rows.some(function(w){return w.includedThroughLicenseTypes});this._rows.forEach(function(w){w.checked()||!w.hasEnough||w.entitlement.isExpired||w.incompatible||w.includedThroughLicenseTypes||w.includedThroughAppBundles||w.hasOverlap||w.entitlement.isPro&&d&&!w.isExtension||w.enable()})};c.prototype.setSelected=function(d,
w){var t=0,z=!1;this._rows.forEach(function(x){if(d.filter(function(y){return y.key===x.entitlement.key})[0]&&(!x.includedThroughLicenseTypes||x.isExtension)&&!x.incompatible&&!x.notSupported&&x.hasEnough){x.check();if(w)x.onChange();x.enable();t++}else if(!x.includedThroughLicenseTypes&&(x.uncheck(),w))x.onChange();x.includedThroughLicenseTypes&&(z=!0)});0<this.extensions.length&&(0<d.length||z)?v.default.showNode(this._extensionsPanel):v.default.hideNode(this._extensionsPanel);0<t&&this.radioName&&
!this._includedThroughUserType&&v.default.showNode(this._unassignedAllBtn);this.checkIfAllExtsChecked()};c.prototype.hideExtensions=function(){v.default.hideNode(this._extensionsPanel)};c.prototype.disableSelectAll=function(){this._selectAllRow.classList.add("license-assign-row--disabled");this._selectAllCheckbox.disabled=!0};c.prototype.enableSelectAll=function(){this._selectAllRow.classList.remove("license-assign-row--disabled");this._selectAllCheckbox.disabled=!1};c.prototype._createRow=function(d,
w,t){var z=this,x,y=new p.default({entitlement:d,radioName:t?"":this.radioName,portal:this.portal,licenseTypes:this.licenseTypes,appBundles:this.appBundles,isExtension:t,members:this.members,userType:this.userType}),A=!1;w.appendChild(y.domNode);this._rows.push(y);t&&this._extensionRows.push(y);this.own((0,f.default)(y,"change",this._onRowChange.bind(this)));var B=[];this.members.forEach(function(C){(d.isAppBundle?C.appBundles&&C.appBundles.filter(function(E){return E.id===d.itemId||E.id===d.key})[0]:
C.entitlements&&C.entitlements.filter(function(E){return d.isBusinessAnalyst||d.isDrone2Map?E===d.itemId||E===d.key:E===d.key})[0])?(B.push(C),z._hasMembersAssigned=!0):d.throughUserTypeOnly&&C.licenseType.apps.filter(function(E){E.isAppBundle||E.entitlements[0]!==d.key||(B.push(C),A=!0)})});d.isExpired&&(y.showExpired(),0===B.length&&y.disable());B.length===this.members.length&&0<B.length?(y.check(),A&&y.makeUnselectable()):0<B.length&&y.setAssigned(B,this.members.length);this.members.length-B.length>
d.total-d.used&&(0===B.length&&y.disable(),y.hasEnough=!1);if(0<(null===(x=d.allowedLevels)||void 0===x?void 0:x.length)){var D=!1;this.members.some(function(C){-1===d.allowedLevels.indexOf(C.level)&&(D=!0);return D});!D&&this.userType&&(D=-1===d.allowedLevels.indexOf(this.userType.level));D&&(y.incompatible=!0,y.disable())}this.checkIfAllExtsChecked()};c.prototype._addEventListeners=function(){this._unassignedAllBtn.addEventListener("click",this._unassignAll.bind(this));this._selectAllCheckbox.addEventListener("change",
this._onSelectAllChange.bind(this))};c.prototype.checkIfAllExtsChecked=function(){var d=!0;this._rows.forEach(function(w){!w.isExtension||w.checked()||w.disabled()||(d=!1)});this._selectAllCheckbox.checked=d};c.prototype._onSelectAllChange=function(){var d=this,w=this._selectAllCheckbox.checked;this._rows.forEach(function(t){if(!t.disabled()&&t.isExtension){t[w?"check":"uncheck"](!0);var z=d._getAssignedMembers(t.entitlement);w?t.update(d.members.length-z.length+t.entitlement.used,t.entitlement.total):
t.update(t.entitlement.used-z.length,t.entitlement.total)}});this.emit("select-all")};c.prototype._unassignAll=function(){var d=this,w=!1;this._rows.forEach(function(t){t.includedThroughLicenseTypes||!t.checked()&&!t.partiallyAssigned||(t.uncheck(),t.hasChanged=!0,t.entitlement.isExpired&&t.disable());var z=d._getAssignedMembers(t.entitlement);t.update(t.entitlement.used-z.length,t.entitlement.total)});this._rows.forEach(function(t){t.includedThroughLicenseTypes&&(w=!0,t.check())});this.extensions.length&&
!w&&v.default.hideNode(this._extensionsPanel);v.default.hideNode(this._unassignedAllBtn);this.emit("deselect")};c.prototype._onRowChange=function(d){var w=this;"radio"!==this._inputType||d.isExtension||this._rows.forEach(function(x){if(d!==x&&!x.isExtension){x.unhighlight();var y=w._getAssignedMembers(x.entitlement);x.update(x.entitlement.used-y.length,x.entitlement.total);x.hideAssignedPopover()}});0<this.extensions.length&&(this.disableExtensionOptions(q.default.getExtNotSupported(d.entitlement.key)),
v.default.showNode(this._extensionsPanel));var t=this._getAssignedMembers(d.entitlement);d.checked()?d.update(this.members.length-t.length+d.entitlement.used,d.entitlement.total):d.update(d.entitlement.used-t.length,d.entitlement.total);var z=!0;this._rows.forEach(function(x){!x.isExtension||x.checked()||x.disabled()||(z=!1);if(!d.isExtension&&!d.radioName&&d.checked&&x.entitlement.itemId===d.entitlement.itemId&&x.entitlement.key!==d.entitlement.key){x.uncheck();var y=w._getAssignedMembers(x.entitlement);
x.update(x.entitlement.used-y.length,x.entitlement.total)}});this._selectAllCheckbox.checked=z;(!this._includedThroughUserType||this.allowedProUpgrade)&&this.radioName&&d.checked()&&v.default.showNode(this._unassignedAllBtn);d.entitlement.isExpired&&d.disable();this.emit("change",d.entitlement)};c.prototype._getAssignedMembers=function(d){var w=[];this.members.forEach(function(t){t.entitlements&&t.entitlements.filter(function(z){return z===d.itemId||z===d.key})[0]&&w.push(t)});return w};return c=
a.__decorate([(0,l.default)(e.default,r.default,m.default)],c)}()})},"arcgisonline/pages/dijit/InviteMembers/LicenseAssignRow":function(){define("require exports tslib dojo/string dojo/dom-class dojo/topic dojo/on dojo/Evented dojo/text!./templates/LicenseAssignRow.html dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../organization/widgets/AvailableText ../../utils/dom ../../utils/icons ./AppIcon ./AppIconList ../Popover/Popover ../ToggleSwitch ../../utils/organization ../../organization/widgets/BlockedAppPopup ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);return function(){function x(y,
A){this.templateString=u.default;this.i18n=r.default;this.partiallyAssigned=!1;this.radioName="";this.isExtension=!1;this.members=[];this._rowClass="invite-members__tab-item-row";this._selectedClass="".concat(this._rowClass,"--selected");this._disabledClass="license-assign-row--disabled";this.doubleAssigned=this.allowProUpgrade=this.includedThroughAppBundles=this.includedOtherVersions=this.includedThroughLicenseTypes=this.hasChanged=!1;this.hasEnough=!0;this.notSupported=this.hasOverlap=this.incompatible=
!1}x.prototype.postMixInProperties=function(){this.inherited(arguments)};x.prototype.postCreate=function(){var y=this,A;this.inherited(arguments);this._toggleSwitch=new d.default(void 0,this._toggleSwitchEl);0<this.radioName.length?(p.default.showNode(this._radioButton),p.default.hideNode(this._checkbox),p.default.hideNode(this._toggleSwitch.domNode),this._inputElement=this._radioButton):(p.default.hideNode(this._radioButton),p.default.showNode(this._checkbox),p.default.showNode(this._toggleSwitch.domNode),
this._inputElement=this._checkbox);var B=[];if(this.licenseTypes||this.userType)(0<(null===(A=this.licenseTypes)||void 0===A?void 0:A.length)?this.licenseTypes:[this.userType]).forEach(function(E){E.apps.forEach(function(H){var G;H.id===y.entitlement.itemId&&(0<(null===(G=H.entitlements)||void 0===G?void 0:G.length)?-1!==H.entitlements.indexOf(y.entitlement.key)?(y.includedThroughLicenseTypes=!0,B.push(E)):y.isExtension||(y.isProUpgrade(H.entitlements,y.entitlement.key)?y.allowProUpgrade=!0:y.includedOtherVersions=
!0):(y.includedThroughLicenseTypes=!0,B.push(E)));H.isAppBundle&&H.apps&&H.apps.forEach(function(F){var I;F.id===y.entitlement.itemId&&(0<(null===(I=F.entitlements)||void 0===I?void 0:I.length)?-1!==F.entitlements.indexOf(y.entitlement.key)?(y.includedThroughLicenseTypes=!0,B.push(E)):y.isExtension||(y.includedOtherVersions=!0):(y.includedThroughLicenseTypes=!0,B.push(E)))})});E.extensions.forEach(function(H){H.id===y.entitlement.itemId&&(y.includedThroughLicenseTypes=!0,B.push(E))})}),this.includedOtherVersions&&
(this.domNode.classList.add(this._disabledClass),this._inputElement.disabled=!0);this.appBundles&&(this.matchedBundles=[],this.appBundles.forEach(function(E){E.apps.forEach(function(H){var G;H.id===y.entitlement.itemId&&(0<(null===(G=H.entitlements)||void 0===G?void 0:G.length)?-1!==H.entitlements.indexOf(y.entitlement.key)&&(y.includedThroughAppBundles=!0,y.matchedBundles.push(E)):(y.includedThroughAppBundles=!0,y.matchedBundles.push(E)))})}));if(this.includedThroughLicenseTypes||this.includedThroughAppBundles){this.domNode.classList.add(this._disabledClass);
this._inputElement.disabled=!0;var D=0;this.matchedBundles&&this.members.forEach(function(E){(E.appBundles||[]).some(function(H){return!!y.matchedBundles.filter(function(G){return G.id===H.id})[0]})&&D++});this.appBundles&&D===this.members.length||this.licenseTypes&&B.length===this.licenseTypes.length||B.length+D===this.members.length||this.userType&&0<B.length?(this._inputElement.checked=!0,this._toggleSwitch.setChecked(!0,!0)):this._inputElement.indeterminate=!0;this.doubleAssigned=this.members.some(function(E){var H;
return-1<(null===(H=E.doubleAssignedList)||void 0===H?void 0:H.indexOf(y.entitlement.key))});A=B.map(function(E){return E.name});var C=r.default.myOrganization.manageLicenseMembers.includedButtonLabel.replace("${appName}",this.entitlement.title).replace("${userType}",A[0]);this.doubleAssigned?(this.domNode.classList.remove(this._disabledClass),this._inputElement.disabled=!1,new c.default({baseClass:"display-inline",buttonText:this.i18n.myOrganization.manageLicenseMembers.doubleAssigned,buttonClass:"licenses-card__level-desc",
menuClass:"license-type-desc__dropdown double-assigned__dropdown",titleClass:"invite-members__row-pop-title",content:this.i18n.myOrganization.manageLicenseMembers.doubleAssignedDescription.replace("${license}",this.entitlement.title),contentTitle:"",ariaLabel:C},this.domNode.querySelector(".js-double-popover"))):this.includedThroughLicenseTypes&&this._createPopover({buttonText:1===this.members.length?this.i18n.myOrganization.manageLicenseMembers.included:this.i18n.myOrganization.inviteMembers.includedInLicenseTypes,
items:A,selector:".js-included-popover",contentTitle:this.i18n.myOrganization.licensesTab.licenseTypes,ariaLabel:C})}this.entitlement.total&&this._renderAvailable(this.entitlement.used,this.entitlement.total);this.entitlement.apps?(this._appIcon=new q.default({app:this.entitlement,portal:this.portal,cssClasses:"margin-right-1 assign-licenses__app-icon"},this._appIcon),p.default.showNode(this._appIconList),A=w.default.transformAppBundleApps(this.entitlement.apps,this.portal.isPortal),this._appIconList=
new l.default({apps:A,cssClasses:"margin-right-2"},this._appIconList),setTimeout(function(){y._appIconList.startup()},0)):this._appIcon=new q.default({app:this.entitlement,portal:this.portal,cssClasses:"margin-right-1 assign-licenses__app-icon"},this._appIcon);this.checkBlocked();this._addEventListeners()};x.prototype.checked=function(){var y;return null===(y=this._inputElement)||void 0===y?void 0:y.checked};x.prototype.disabled=function(){var y;return null===(y=this._inputElement)||void 0===y?void 0:
y.disabled};x.prototype.unhighlight=function(){k.default.remove(this.domNode,this._selectedClass)};x.prototype.check=function(y){this.partiallyAssigned&&(this._hideAssignedPopover(),this.partiallyAssigned=!1,this._inputElement.indeterminate=!1);this._inputElement.checked=!0;this._toggleSwitch.setChecked(!0,!0);k.default.add(this.domNode,this._selectedClass);y&&(this.hasChanged=!0)};x.prototype.uncheck=function(y){this.partiallyAssigned&&(this._hideAssignedPopover(),this.partiallyAssigned=!1,this._inputElement.indeterminate=
!1);this._inputElement.checked=!1;this._toggleSwitch.setChecked(!1,!0);k.default.remove(this.domNode,this._selectedClass);y&&(this.hasChanged=!0)};x.prototype.setAssigned=function(y,A){this.partiallyAssigned=!0;0===this.radioName.length&&(this._inputElement.indeterminate=!0);A=b.default.substitute(this.i18n.myOrganization.manageLicenses.assignedTo,{assigned:y.length,total:A});y=y.map(function(B){return B.fullName});this._assignedPopover=this._createPopover({buttonText:A,items:y,selector:".js-assigned-popover",
contentTitle:this.i18n.myOrganization.manageLicenses.assignedMembers,ariaLabel:""})};x.prototype.showExpired=function(){this._expiration.innerHTML=n.default.inline["exclamation-mark-triangle"]["16"]+this.i18n.myOrganization.licensesTab[this.entitlement.trial?"trialsExpired":"expired"];p.default.showNode(this._expiration)};x.prototype.disable=function(){this._inputElement.disabled=!0;this._inputElement.checked&&(this._inputElement.checked=!1,this._toggleSwitch.setChecked(!1,!0),this.hasChanged=!0);
this._inputElement.indeterminate&&(this._inputElement.indeterminate=!1,this._hideAssignedPopover(),this.hasChanged=!0);this.domNode.classList.add(this._disabledClass);this.unhighlight()};x.prototype.setDisableOnly=function(){this._inputElement.disabled=!0;this.domNode.classList.add(this._disabledClass)};x.prototype.makeUnselectable=function(){this._inputElement.disabled=!0;this.domNode.classList.add(this._disabledClass)};x.prototype.enable=function(){this.notSupported||(this._inputElement.disabled=
!1,this.domNode.classList.remove(this._disabledClass))};x.prototype.update=function(y,A){this.entitlement.total&&this._renderAvailable(y,A)};x.prototype.hideAssignedPopover=function(){this._hideAssignedPopover()};x.prototype.onChange=function(){this.partiallyAssigned&&this._hideAssignedPopover();this.checked()?k.default.add(this.domNode,this._selectedClass):this.unhighlight();this.emit("change",this);this.hasChanged=!0;f.default.publish("license-row/change",this)};x.prototype._createPopover=function(y){var A=
y.buttonText,B=y.selector,D=y.contentTitle,C=y.ariaLabel;y=y.items.map(function(E){var H=document.createElement("li");H.classList.add("license-type-desc__list-item");H.textContent=E;return H});return new c.default({baseClass:"display-inline",buttonText:A,buttonClass:"licenses-card__level-desc",menuClass:"license-type-desc__dropdown",titleClass:"invite-members__row-pop-title",content:y,contentTitle:D,ariaLabel:C},this.domNode.querySelector(B))};x.prototype.checkBlocked=function(){this.entitlement.blocked&&
(p.default.showNode(this.blockedBtn),new t.default({aroundEl:this.blockedBtn}))};x.prototype._renderAvailable=function(y,A){this._availableText?this._availableText.update(y):this._availableText=new g.default({used:y,total:A,warnPercent:100,cssClasses:"flex-column-justify-center assign-licenses__available-text"},this._available)};x.prototype._addEventListeners=function(){var y=this;this.own((0,m.default)(this._inputElement,"change",this.onChange.bind(this)),(0,m.default)(this._toggleSwitch,"change",
function(){y._checkbox.checked=y._toggleSwitch.checked();y.onChange()}),f.default.subscribe("license-row/change",function(A){if(A.entitlement.isAppBundle&&!y.entitlement.isAppBundle){var B=!1;A.entitlement.apps.forEach(function(D){D.id===y.entitlement.itemId&&(B=!0)});B&&(A.checked()?(y.domNode.classList.add(y._disabledClass),y._inputElement.disabled=!0,!y._inputElement.checked&&!y._inputElement.indeterminate||y.hasChanged||(y.hasChanged=!0),y._inputElement.indeterminate=!1,y._inputElement.checked=
!1,y._toggleSwitch.setChecked(!1,!0),y._hideAssignedPopover(),y.hasOverlap=!0):y.includedThroughLicenseTypes||(y.hasOverlap=!1,y.incompatible||(y.domNode.classList.remove(y._disabledClass),y._inputElement.disabled=!1),y._inputElement.checked=!1,y._toggleSwitch.setChecked(!1,!0)))}}))};x.prototype._hideAssignedPopover=function(){var y;(null===(y=this._assignedPopover)||void 0===y?0:y.domNode)&&p.default.hideNode(this._assignedPopover.domNode)};x.prototype.isProUpgrade=function(y,A){return y.includes("desktopAdvN")?
!1:y.includes("desktopBasicN")?!0:"desktopAdvN"===A};return x=a.__decorate([(0,z.default)(v.default,e.default,h.default)],x)}()})},"arcgisonline/pages/dijit/InviteMembers/AppIconList":function(){define("require exports tslib esri/lang dojo/on dojo/debounce dojo/text!./templates/AppIconList.html dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/dom ./AppIcon ../../organization/widgets/GroupIcon ../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);return function(){function p(n,q){this.templateString=m.default;this.iconCssClasses=this.cssClasses="";this.iconType="license"}p.prototype.postCreate=function(){this.inherited(arguments)};p.prototype.startup=function(){this.inherited(arguments);this.render(this.apps);(0,k.default)(window,"resize",
(0,f.default)(this._onWindowResize.bind(this),300))};p.prototype.render=function(n){var q=this;if(this.domNode){this.apps=n;this.domNode.innerHTML="";var l=[],c=[];n.forEach(function(t){c.push(t)});n=32*c.length;var d=c.length,w=this.domNode.clientWidth;b.default.isDefined(this.limit)?d=this.limit:w<n&&(w-=48,d=32>w?0:Math.floor(w/32));n=c.length-d;0<d&&c.some(function(t,z){l.push(q._createAppIcon(t));return z>=d-1});"license"===this.iconType&&l.sort(function(t,z){return t.app.isAppBundle&&!z.app.isAppBundle?
-1:!t.app.isAppBundle&&z.app.isAppBundle?1:t.app.title>z.app.title?1:t.app.title<z.app.title?-1:0});r.default.appendChildren(l.map(function(t){return t.domNode}),this.domNode);0<n&&(n=d?"+".concat(n):n.toString(),w=document.createElement("div"),w.classList.add("org-member-card__more-tile"),w.classList.add("link-darker-gray"),w.textContent=n,this.domNode.appendChild(w))}};p.prototype._createAppIcon=function(n){return"group"===this.iconType?new v.default({portal:this.portal,group:n,scale:"m"}):new e.default({app:n,
portal:this.portal,cssClasses:this.iconCssClasses,hasTooltip:!0})};p.prototype._onWindowResize=function(){this.render(this.apps)};return p=a.__decorate([(0,g.default)(u.default,h.default)],p)}()})},"arcgisonline/pages/organization/widgets/settings/cards/DefaultGroupsCard":function(){define("require exports tslib ./SettingsCard ../../../../../tsutils/declareDecorator ../rows/GroupRow ../../UserDefaults/DefaultGroupsOverlay ../../../../utils/dom".split(" "),function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this._groupRows=[]}u.prototype.update=function(r){this.groups=r;this._createRows()};u.prototype.updateDefaultUserTypeRole=function(r,e){this.defaultUserType=r;this.defaultRole=e};u.prototype.render=function(){this.showHeaderBtn(this.i18n.memberDefaultsTab.manageGroups);this._title.textContent=this.name;this._description.textContent=this.description;this._createRows()};u.prototype.handleBtnClick=
function(){var r=this;this.confirmMigration().then(function(){(new m.default({portal:r.portal,groups:r.groups,extraQuery:"AND -provider:enterprise",defaultRole:r.defaultRole,defaultUserType:r.defaultUserType,opener:r._headerBtn,closeOnScrimClick:!1})).open()})};u.prototype._createRows=function(){var r=this;this._content.innerHTML="";0<this._groupRows.length&&(this._groupRows.forEach(function(e){e.destroy()}),this._groupRows=[]);this._groupRows=this.groups.map(function(e){return new f.default({portal:r.portal,
group:e,hideActions:!0})});h.default.appendChildren(this._groupRows.map(function(e){return e.domNode}),this._content)};return u=a.__decorate([(0,k.default)(b.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/cards/DefaultCategoriesCard":function(){define("require exports tslib preact dojo/topic ./SettingsCard ../../../../../tsutils/declareDecorator ../../../../components/MemberCategories/DefaultCategoriesModal/DefaultCategoriesModal ../../../../components/MemberCategories/CategoryPicker/CategoryChips".split(" "),
function(U,M,a,b,k,f,m,h,u){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){var g=this;this.defaultCategories=[];this.handleClose=function(){(0,b.render)(null,g.domNode);g._headerBtn.focus()};this.handleSave=function(p){k.default.publish("default-categories/save",p);g.handleClose();g._headerBtn.focus()}}r.prototype.update=function(e){this.defaultCategories=e;this.renderChips()};r.prototype.render=
function(){var e=this;this._title.textContent=this.name;this._description.textContent=this.description;this.renderChips();this.showHeaderBtn(this.i18n.memberDefaultsTab.memberCategories.manage);this.own(k.default.subscribe("manage-default-categories/open",function(){e.domNode.scrollIntoView({behavior:"smooth"})}))};r.prototype.handleBtnClick=function(){(0,b.render)((0,b.h)(h.default,{defaultCategories:this.defaultCategories,onClose:this.handleClose,onSave:this.handleSave}),this.domNode)};r.prototype.renderChips=
function(){this.chipsContainer||(this.chipsContainer=document.createElement("div"),this.chipsContainer.classList.add("margin-left-1"),this._content.appendChild(this.chipsContainer));(0,b.render)((0,b.h)(u.default,{selectedCategories:this.defaultCategories}),this.chipsContainer)};return r=a.__decorate([(0,m.default)(f.default)],r)}()})},"arcgisonline/pages/components/MemberCategories/DefaultCategoriesModal/DefaultCategoriesModal":function(){define("require exports tslib preact preact/hooks preact/compat ../CategoryPicker/CategoryPicker ../api ../helpers dojo/i18n!../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,"__esModule",{value:!0});m=a.__importDefault(m);r=a.__importDefault(r);M.default=function(e){function v(B){w(function(D){D=a.__spreadArray([],D,!0);var C=-1<d.indexOf(B.path)||d.some(function(E){return-1<"".concat(E,"/").indexOf("".concat(B.path,"/"))});C&&(D=D.filter(function(E){return E!==B.path&&-1==="".concat(E,"/").indexOf("".concat(B.path,"/"))}));!C&&20>d.length&&(D=D.filter(function(E){return-1==="".concat(B.path,"/").indexOf("".concat(E,
"/"))}),D=a.__spreadArray(a.__spreadArray([],D,!0),[B.path],!1));return D})}function g(B){w(function(D){return D.filter(function(C){return C!==B})})}var p=e.title,n=e.defaultCategories,q=e.onSave;e=e.onClose;var l=a.__assign(a.__assign({},r.default.common),r.default.memberDefaultsTab.memberCategories.modal),c=(0,k.useState)([]),d=c[0],w=c[1],t=(0,k.useState)([]);c=t[0];var z=t[1];t=(0,k.useState)(!1);var x=t[0],y=t[1],A=(0,k.useRef)(null);(0,k.useEffect)(function(){w(n);(function(){return a.__awaiter(this,
void 0,void 0,function(){var B,D;return a.__generator(this,function(C){switch(C.label){case 0:return B=z,D=u.convertToCategoryData,[4,(0,h.getMemberCategories)()];case 1:return B.apply(void 0,[D.apply(void 0,[C.sent()])]),[2]}})})})()},[]);(0,k.useEffect)(function(){A.current&&y(!0)},[A.current]);return(0,b.h)(b.Fragment,null,(0,f.createPortal)((0,b.h)("calcite-modal",{class:"default-categories-modal",role:"dialog","aria-modal":"true",ref:A,open:x,outsideCloseDisabled:!0,"aria-labelledby":"default-categories-header",
oncalciteModalClose:e},(0,b.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"default-categories-header"},p||l.title),(0,b.h)("div",{slot:"content",class:"default-categories-modal__content"},!(null===d||void 0===d?0:d.length)&&(0,b.h)("p",{class:"trailer-0"},l.selectCategories),!(null===c||void 0===c||!c.length)&&(0,b.h)(m.default,{memberCategories:c,selectedCategories:d,alwaysShow:!0,hideMaxWarning:!0,onChange:v,onRemove:g})),(0,b.h)("calcite-button",{slot:"secondary",width:"full",appearance:"outline",
onClick:e},r.default.common.cancel),(0,b.h)("calcite-button",{slot:"primary",width:"full",onClick:function(){return q(d)}},r.default.common.save)),document.body))}})},"arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoryPicker":function(){define("require exports tslib preact ./CategoryChip ./CategoriesDropdown dojo/i18n!../../../../nls/arcgisonline".split(" "),function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);f=a.__importDefault(f);m=
a.__importDefault(m);M.default=function(h){var u=h.memberCategories,r=h.selectedCategories,e=h.defaultText,v=h.alwaysShow,g=h.memberName,p=h.hideMaxWarning,n=h.onChange,q=h.onRemove;h=a.__assign({},m.default.contentCategories);return(0,b.h)("div",{class:v?"":"leader-half"},(0,b.h)("div",{class:"alert alert-red font-size--3 padding-leader-quarter padding-trailer-quarter trailer-quarter ".concat(20<=r.length&&!p?"is-active":"")},h.addCategoryError.replace("${number}","".concat(20))),(0,b.h)("div",{class:"category-picker"},
(0,b.h)("div",{class:"font-size--1 category-picker__chip-wrap"},r.map(function(l){return(0,b.h)(k.default,{key:l,categoryPath:l,onRemove:q})})),e&&(0,b.h)("div",{class:"category-picker__default-text font-size--1"},e),(0,b.h)(f.default,{memberCategories:u,selectedCategories:r,onChange:n,alwaysShow:v,memberName:g})))}})},"arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoryChip":function(){define("require exports tslib preact ../helpers arcgisonline/pages/utils/formatters dojo/i18n!../../../../nls/arcgisonline".split(" "),
function(U,M,a,b,k,f,m){Object.defineProperty(M,"__esModule",{value:!0});f=a.__importDefault(f);m=a.__importDefault(m);M.default=function(h){var u=h.categoryPath,r=h.onRemove,e=a.__assign({},m.default.contentCategories);h=(0,k.getPartialPath)(u);e=e.removeCategoryX.replace("${category}",h);var v=function(g){g.preventDefault();r(u)};return(0,b.h)("span",{class:"label categorize-member-card__category-chip margin-right-quarter"},(0,b.h)("div",{class:"flex flex-align-center"},f.default.formatCategoryChip(h),
r&&(0,b.h)("button",{type:"button",class:"btn-link filter-label-remove margin-left-quarter right member-category__remove","aria-label":e,onClick:v},(0,b.h)("calcite-icon",{icon:"x",scale:"m"}))))}})},"arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoriesDropdown":function(){define("require exports tslib preact preact/hooks ./CategoryListItem ../helpers dojo/i18n!../../../../nls/arcgisonline".split(" "),function(U,M,a,b,k,f,m,h){Object.defineProperty(M,"__esModule",{value:!0});f=
a.__importDefault(f);h=a.__importDefault(h);M.default=function(u){function r(){t(!1);x("");A(d.map(function(G){return a.__assign({},G)}))}var e,v=u.memberCategories,g=u.selectedCategories,p=u.alwaysShow,n=u.memberName,q=u.onChange;u=a.__assign({},h.default.contentCategories);var l=u.addCategoryError.replace("${number}","".concat(20)),c=20<=g.length,d=(null===(e=v[0])||void 0===e?void 0:e.categories)||[];e=(0,k.useState)(!1);var w=e[0],t=e[1],z=(0,k.useState)("");e=z[0];var x=z[1],y=(0,k.useState)(d);
z=y[0];var A=y[1],B=(0,k.useRef)(null),D=(0,k.useRef)(null),C=(0,k.useRef)(null);y=function(){var G=!w;G?t(G):r()};var E=function(G){C.current===G.target||D.current===G.target||D.current.contains(G.target)||C.current.contains(G.target)||r()},H=function(G){"Tab"===G.key&&setTimeout(function(){B.current.contains(document.activeElement)||r()},100)};(0,k.useEffect)(function(){if(!p)return document.body.addEventListener("click",E),document.body.addEventListener("keydown",H),function(){document.body.removeEventListener("click",
E);document.body.removeEventListener("keydown",H)}},[]);n=n?u.assignCategoryTo.replace("${memberName}",n):u.addCategory;return(0,b.h)("div",{ref:B,class:"dropdown leader-half trailer-half category-picker__dropdown ".concat(w||p?"is-active":"")},!p&&(0,b.h)("span",{class:"font-size--1 category-picker__dropdown-btn"},(0,b.h)("button",{ref:D,class:"btn-link btn-link-off-black font-size--1 flex flex-align-center",tabIndex:0,"aria-label":n,"aria-haspopup":"true","aria-expanded":"false",type:"button",onClick:y},
(0,b.h)("span",{class:"text-green margin-right-half member-category__assign"},(0,b.h)("calcite-icon",{icon:"plus",scale:"m"})),u.addCategory,(0,b.h)("calcite-icon",{class:"margin-left-half",icon:"chevron-down",scale:"s"}))),(0,b.h)("div",{ref:C,class:"dropdown-menu leader-quarter category-picker__dropdown-menu"},(0,b.h)("div",{class:"category-picker-search-wrap"},(0,b.h)("input",{type:"text",class:"add-category-input leader-0",placeholder:u.filterCategories,"aria-label":u.addCategoryToItem,onInput:function(G){var F;
x(G.target.value);var I=(null===(F=v[0])||void 0===F?void 0:F.categories)||[];A((0,m.filterCategoriesBySearchTerm)(G.target.value,I))},value:e})),(0,b.h)("div",{class:"category-picker-dropdown-nav padding-leader-half padding-trailer-half padding-left-half padding-right-half filter-tree--always-open",role:"menu"},(0,b.h)("ul",{class:"filter-tree",role:"tree"},z.map(function(G){return(0,b.h)(f.default,{key:G.path,category:G,selectedCategories:g,onChange:q})})))),c&&(0,b.h)("calcite-tooltip",{class:"max-categories-tooltip",
label:l,referenceElement:C.current},l))}})},"arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoryListItem":function(){define(["require","exports","tslib","preact","dojo/i18n!../../../../nls/arcgisonline"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);var f=function(m){var h,u=m.category,r=m.selectedCategories,e=m.onChange;m=r.some(function(p){return-1<"".concat(p,"/").indexOf("".concat(u.path,"/"))});var v=k.default.memberCategories,
g=v.categorySelected;v=v.categoryNotSelected;g=(m?g:v).replace("${title}",u.title);return(0,b.h)("li",{class:"filter-tree-item category-picker--add-category-dropdown ".concat(m?"is-active":""),role:"treeitem"},(0,b.h)("span",{class:"category-picker--add-category-dropdown-icon"},(0,b.h)("calcite-icon",{icon:"check",scale:"s"})),(0,b.h)("a",{href:"#","aria-label":g,class:"filter-tree-link category-picker--add-category-dropdown-link",onClick:function(p){p.preventDefault();e(u)}},u.title),0<(null===(h=
u.categories)||void 0===h?void 0:h.length)&&(0,b.h)("ul",{class:"filter-tree",role:"group"},u.categories.map(function(p){return(0,b.h)(f,{category:p,selectedCategories:r,onChange:e})})))};M.default=f})},"arcgisonline/pages/components/MemberCategories/CategoryPicker/CategoryChips":function(){define(["require","exports","tslib","preact","./CategoryChip"],function(U,M,a,b,k){Object.defineProperty(M,"__esModule",{value:!0});k=a.__importDefault(k);M.default=function(f){var m=f.onRemove;return(0,b.h)("div",
{class:"flex flex-wrap font-size--1"},f.selectedCategories.map(function(h){return(0,b.h)(k.default,{key:h,categoryPath:h,onRemove:m})}))}})},"arcgisonline/pages/organization/widgets/settings/cards/DefaultCreditsCard":function(){define("require exports tslib dojo/text!./templates/DefaultCreditsCard.html dojo/i18n!../../../../../nls/arcgisonline dojo/i18n!../../../../../nls/org-settings dojo/on dojo/topic dijit/form/NumberTextBox ../../../../utils/icons ./SettingsCard ../../../../utils/dom ../../../../utils/alerts ../../../../utils/number ../../../../utils/validation ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.icons=r.default;this.templateString=b.default;this.i18n=a.__assign(a.__assign(a.__assign({},k.default.common),k.default.assignCreditsDlg),
f.default.memberDefaultsTab)}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n.keywords=f.default.keywords};l.prototype.updateStatus=function(c){c?(this.credits=-1,this._updateCreditsValue(),this.shouldBeHidden=!1):this.shouldBeHidden=!0};l.prototype.addEventListeners=function(){var c=this;this.own((0,m.default)(this._editBtn,"click",this._toggleEdit.bind(this,!0)),(0,m.default)(this._saveBtn,"click",this._save.bind(this)),(0,m.default)(this._cancelBtn,"click",this._cancel.bind(this)),
(0,m.default)(this._creditsSelect,"change",this._handleSelectChange.bind(this)),h.default.subscribe("credits-budgeting/enable",function(){c.credits=-1;c._updateCreditsValue();c.shouldBeHidden=!1}),h.default.subscribe("credits-budgeting/disable",function(){c.shouldBeHidden=!0}),h.default.subscribe("default-credits-change",function(d){c.credits=d;c._updateCreditsValue();c.shouldBeHidden=!1}));this.inherited(arguments)};l.prototype.render=function(){this._title.textContent=this.name;this._description.textContent=
this.description;this._orgCreditsValue.textContent=p.default.format(this.portal.availableCredits);this._updateCreditsValue()};l.prototype._handleSelectChange=function(){var c="noLimit"===this._creditsSelect.value;v.default.showHide(this._valueContainer,!c);c||-1!==this.credits||(this._displayValue.textContent=this.i18n.notSet);c&&-1!==this.credits&&this._save()};l.prototype._updateCreditsValue=function(){-1===this.credits?(this._creditsSelect.value="noLimit",v.default.hideNode(this._valueContainer)):
(this._creditsSelect.value="allocation",this._displayValue.textContent=p.default.format(this.credits));this._creditsTextbox||(this._creditsTextbox=new u.default({trim:!0,constraints:{min:-1}},this.domNode.querySelector(".js-credits-textbox")));this._creditsTextbox.set("value",-1<this.credits?this.credits:"")};l.prototype._toggleEdit=function(c){v.default.showHide(this._editForm,c)};l.prototype._cancel=function(){this._toggleEdit(!1);this._creditsTextbox.set("value",-1<this.credits?this.credits:"");
n.default.clearState([this._creditsTextbox.domNode,this.creditsErrorEl])};l.prototype._save=function(){var c=this,d=-1;if("allocation"===this._creditsSelect.value){d=+this._creditsTextbox.get("value");if(isNaN(d))return;if(d>this.portal.availableCredits){n.default.setInvalidState(this._creditsTextbox.domNode,this.creditsErrorEl);return}n.default.clearState([this._creditsTextbox.domNode,this.creditsErrorEl])}this.updateSelf({defaultUserCreditAssignment:d,clearEmptyFields:!0}).then(function(){c._toggleEdit(!1);
g.default.showAlert("success",c.i18n.defaultCreditsSuccess);c.credits=c.portal.defaultUserCreditAssignment=d;c._updateCreditsValue()},function(){c._toggleEdit(!1);g.default.showAlert("error",c.i18n.defaultCreditsError)})};return l=a.__decorate([(0,q.default)(e.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/cards/DefaultEsriAccessCard":function(){define("require exports tslib dojo/text!./templates/DefaultEsriAccess.html dojo/string dojo/on dojo/topic ./SettingsCard ../../../../dijit/ToggleSwitch ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){}e.prototype.render=function(){var v=this;this._title.textContent=this.name;this._description.textContent=this.description;this._content.innerHTML=k.default.substitute(b.default,{i18n:this.i18n});this._toggleSwitch=new u.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-toggle-switch"));
this.own((0,f.default)(this._toggleSwitch,"change",function(g){v.confirmMigration().then(function(p){p?m.default.publish("default-esri-access/save",g):v._toggleSwitch.setChecked(!g,!0)})}));this._toggleSwitch.setChecked("both"===this.value,!0)};e.prototype.setChecked=function(v){this._toggleSwitch.setChecked(v,!0)};return e=a.__decorate([(0,r.default)(h.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/UsernameFormatCard":function(){define("require exports tslib preact ./SettingsCard ../../../../../tsutils/declareDecorator ../../../../utils/alerts ../../../../utils/dom ../../../../../esriGeowConfig ../../../../components/UsernameFormatModal dojo/on".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){var n=this;this.handleClose=function(){(0,b.render)(null,n.domNode);n._headerBtn.focus()};this.handleSave=function(q){return a.__awaiter(n,void 0,void 0,function(){var l,c;return a.__generator(this,function(d){switch(d.label){case 0:l=this.portal.portalProperties?a.__assign({},
this.portal.portalProperties):{},l.usernameFormat=q,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.updateSelf({portalProperties:JSON.stringify(l)})];case 2:return c=d.sent(),c.code||(m.default.showAlert("success",this.i18n.memberDefaultsTab.usernameFormat.success),this.portal.set("portalProperties",l),u.default.self.portalProperties=l,this.showManageButton()),[3,4];case 3:return d.sent(),[3,4];case 4:return this.handleClose(),this._headerBtn.focus(),[2]}})})}}v.prototype.render=function(){this._title.textContent=
this.name;this._description.textContent=this.description;this.showManageButton()};v.prototype.handleBtnClick=function(){var g,p=(null===(g=this.portal.portalProperties)||void 0===g?void 0:g.usernameFormat)||"emailPrefix".concat(this.portal.urlKey?" _ urlKey":"");(0,b.render)((0,b.h)(r.default,{format:p,urlKey:this.portal.urlKey,onSave:this.handleSave,onClose:this.handleClose}),this.domNode)};v.prototype.showManageButton=function(){var g=this,p,n,q=a.__assign({},this.i18n.memberDefaultsTab.usernameFormat.modal.chips),
l="";((null===(n=null===(p=this.portal.portalProperties)||void 0===p?void 0:p.usernameFormat)||void 0===n?void 0:n.split(" "))||[]).forEach(function(c){l=q[c]?l+"{".concat(q[c],"}"):l+c});l?(l&&!this.editButton&&(p=document.createElement("calcite-button"),p.iconEnd="pencil",p.appearance="outline",p.kind="neutral",p.width="auto",p.classList.add("max-full-width"),this._headerBtn.insertAdjacentElement("afterend",p),this.editButton=p,this.own((0,e.default)(this.editButton,"click",function(){g.handleBtnClick()}))),
this.editButton.textContent=l,h.default.hideNode(this._headerBtn),h.default.showNode(this._btnContainer)):this.showHeaderBtn(this.i18n.memberDefaultsTab.usernameFormat.setup)};return v=a.__decorate([(0,f.default)(k.default)],v)}()})},"arcgisonline/pages/components/UsernameFormatModal":function(){define("require exports tslib preact preact/hooks preact/compat ../utils/timeout ./preactHooks dojo/i18n!../../nls/arcgisonline dojo/i18n!../../nls/org-settings".split(" "),function(U,M,a,b,k,f,m,h,u,r){Object.defineProperty(M,
"__esModule",{value:!0});u=a.__importDefault(u);r=a.__importDefault(r);var e=/^[a-zA-Z0-9@_\-.]+$/;M.default=function(v){function g(Z,ca){var R="";ca.forEach(function(Y){Y=Y.value;R="firstInitial"===Y?R+Z.firstName[0]:"lastInitial"===Y?R+Z.lastName[0]:Z[Y]?R+Z[Y]:R+Y});return R}function p(){window.setTimeout(function(){var Z=Q.current.shadowRoot.querySelector(".icon-end");Z?(Q.current.shadowRoot.querySelectorAll("ul").forEach(function(ca){ca.style.display="none"}),Z&&(Z.style.display="none"),Z=Q.current.shadowRoot.querySelector("input[type\x3d'text']"),
Z.addEventListener("keydown",function(ca){if("Enter"===ca.key||"Tab"===ca.key){var R=ca.target.value;R&&(ca.preventDefault(),ca.stopPropagation(),I({value:R}))}}),Z.addEventListener("keyup",function(ca){ca=ca.target.value;var R=e.test(ca);K(ca&&!R)}),L(!1)):p()},500)}function n(Z){B.some(function(ca){return ca.value===Z.value})||(D(function(ca){return a.__spreadArray(a.__spreadArray([],ca,!0),[a.__assign(a.__assign({},Z),{selected:!0})],!1)}),Q.current.setFocus())}function q(){A(!1);window.setTimeout(function(){d()},
300)}function l(){return B.some(function(Z){Z=Z.value;return"firstName"===Z||"firstInitial"===Z||"lastName"===Z||"lastInitial"===Z||"emailPrefix"===Z})}function c(){var Z=g(V[0],B);return["@",".","-"].some(function(ca){return Z.startsWith(ca)||Z.endsWith(ca)})}var d=v.onClose,w=v.onSave,t=v.format,z=v.urlKey;v=a.__assign(a.__assign(a.__assign({},r.default.common),r.default.securityTab.passwordPolicy),r.default.memberDefaultsTab.usernameFormat.modal);var x=(0,k.useState)(!1),y=x[0],A=x[1];x=(0,k.useState)([]);
var B=x[0],D=x[1];(0,k.useState)("");var C=(0,k.useState)([]);x=C[0];var E=C[1],H=(0,k.useState)(!1);C=H[0];var G=H[1],F=(0,k.useState)(void 0);H=F[0];var I=F[1],J=(0,k.useState)(!1);F=J[0];var K=J[1],P=(0,k.useState)(!1);J=P[0];var T=P[1];P=(0,k.useState)(!0);var S=P[0],L=P[1],N=(0,h.useDebounce)(H,300),O=(0,k.useRef)(null),Q=(0,k.useRef)(null),V=[{firstName:"john",lastName:"smith",emailPrefix:"jdsmith",urlKey:z},{firstName:"tom",lastName:"jones",emailPrefix:"tjones27",urlKey:z},{firstName:"ashley",
lastName:"adams",emailPrefix:"aadams2000",urlKey:z}];(0,k.useEffect)(function(){var Z=[];t.split(" ").forEach(function(ca){var R=X.find(function(Y){return Y.value===ca});R?Z.push(a.__assign({},R)):Z.push({label:ca,value:ca})});D(Z.map(function(ca){return a.__assign(a.__assign({},ca),{selected:!0})}))},[t]);(0,k.useEffect)(function(){var Z=[];V.forEach(function(ca){ca=g(ca,B);Z.push(ca)});E(Z);l()&&G(!1);c()||T(!1)},[B]);(0,k.useEffect)(function(){if(N){var Z=N.value,ca=e.test(Z);D(function(R){return ca?
a.__spreadArray(a.__spreadArray([],R,!0),[{label:Z,value:Z}],!1):R})}},[N]);(0,k.useEffect)(function(){Q.current&&p()},[Q.current]);(0,k.useEffect)(function(){O.current&&window.setTimeout(function(){A(!0)},300)},[O.current]);var X=[{label:v.chips.firstName,value:"firstName"},{label:v.chips.firstInitial,value:"firstInitial"},{label:v.chips.lastInitial,value:"lastInitial"},{label:v.chips.lastName,value:"lastName"},{label:v.chips.emailPrefix,value:"emailPrefix"}];z&&X.push({label:v.chips.urlKey,value:"urlKey"});
return(0,b.h)(b.Fragment,null,(0,f.createPortal)((0,b.h)("calcite-modal",{ref:O,role:"dialog","aria-modal":"true",open:y,outsideCloseDisabled:!0,"aria-labelledby":"username-format-modal-title",oncalciteModalClose:q},(0,b.h)("h3",{slot:"header",class:"font-size-2 trailer-0",id:"username-format-modal-title"},v.title),(0,b.h)("div",{slot:"content"},S&&(0,b.h)("calcite-loader",{class:"username-format-loader",label:u.default.common.loading}),(0,b.h)("div",{class:"".concat(S?"visibility-hidden":"")},(0,b.h)("div",
{class:"flex flex-wrap trailer-half"},X.map(function(Z){var ca=Z.label,R=Z.value;Z=B.some(function(Y){return Y.value===R});return(0,b.h)("calcite-button",{key:R,iconEnd:Z?"check-circle":"plus-circle",kind:"neutral",appearance:Z?"outline":"solid",round:!0,class:"margin-right-half trailer-half ".concat(Z?"username-format-part--added":""),onClick:function(){n({label:ca,value:R})}},ca)})),(0,b.h)("calcite-label",null,v.placeholder,(0,b.h)("calcite-combobox",{ref:Q,label:"",allowCustomValues:!0,oncalciteComboboxChange:function(Z){Z=
Z.target.value?Array.isArray(Z.target.value)?Z.target.value:[Z.target.value]:[];(null===Z||void 0===Z?0:Z.length)||D([])},oncalciteComboboxChipClose:function(Z){var ca=[];(Z.target.value?Array.isArray(Z.target.value)?Z.target.value:[Z.target.value]:[]).forEach(function(R){if(/^[a-zA-Z0-9@_\-.]+$/.test(R)){var Y=X.find(function(ba){return ba.value===R});Y?ca.push(a.__assign({},Y)):ca.push({label:R,value:R})}});D(ca)},overlayPositioning:"fixed",value:B.map(function(Z){return Z.value})},B.map(function(Z){var ca=
Z.value;return(0,b.h)("calcite-combobox-item",{key:ca,value:ca,textLabel:Z.label,selected:Z.selected,hidden:!0,style:"display: none"})}))),F&&(0,b.h)("div",{class:"input-error-message username-format-error is-active"},u.default.organizationInvite.step2Create.invalid.usernameInvalidChars),J&&(0,b.h)("div",{class:"input-error-message username-format-error is-active"},u.default.organizationInvite.step2Create.invalid.usernameStartEndChars),(0,b.h)("calcite-label",{class:"leader-1"},v.preview,(0,b.h)("ul",
{class:"username-format__preview-list"},x.map(function(Z){return Z?(0,b.h)("li",{key:Z},Z):null}))),(0,b.h)("calcite-button",{class:"leader-quarter trailer-1",appearance:"transparent",iconStart:"refresh",onClick:function(){return a.__awaiter(this,void 0,void 0,function(){var Z,ca;return a.__generator(this,function(R){switch(R.label){case 0:return D([]),[4,(0,m.timeout)(10)];case 1:return R.sent(),Z=[],ca="emailPrefix".concat(z?" _ urlKey":"").split(" "),ca.forEach(function(Y){var ba=X.find(function(aa){return aa.value===
Y});ba?Z.push(a.__assign({},ba)):Z.push({label:Y,value:Y})}),D(Z.map(function(Y){return a.__assign(a.__assign({},Y),{selected:!0})})),[2]}})})}},v.restoreDefaults),C&&(0,b.h)("div",{class:"modal__alert-wrapper"},(0,b.h)("calcite-alert",{open:C,icon:"information",kind:"brand",label:v.selectUnique,oncalciteAlertClose:function(){G(!1)},placement:"bottom"},(0,b.h)("div",{slot:"message"},v.selectUnique))))),(0,b.h)("calcite-button",{slot:"secondary",width:"full",appearance:"outline",onClick:q},v.cancel),
(0,b.h)("calcite-button",{slot:"primary",width:"full",onClick:function(){if(l())if(c())T(!0);else{T(!1);var Z=B.map(function(ca){return ca.value});w(Z.join(" "))}else G(!0)}},v.save)),document.body))}})},"arcgisonline/pages/organization/widgets/settings/tabs/OpenDataTab":function(){define("require exports tslib ./BaseSettingsTab ../settings-shared ../rows/ToggleOpenDataRow ../rows/OpenDataGroupsRow ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.i18n=r.default.openDataTab;this.TAB_KEY=k.SettingsTabKeys.OpenData}e.prototype.render=function(){var v=this.getDefaultRowParams(),g=this.i18n.openDataSite.name,p=h.default.injectHelpLink(this.portal,this.i18n.openDataSite.description,"120000905","open-data-learn-more");this.createCard({id:"org-open-data-card",
name:g,description:p,rows:[new f.default(a.__assign(a.__assign({},v),{keywords:"public download export publicAccess website configure update".split(" ")})),new m.default(a.__assign(a.__assign({},v),{portalUser:this.portalUser,keywords:"manage publicData download export publicAccess designate hub order".split(" ")}))]});this.inherited(arguments)};return e=a.__decorate([(0,u.default)(b.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/ToggleOpenDataRow":function(){define("require exports tslib dojo/topic dojo/_base/lang dojo/on dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/ToggleOpenDataRow.html ../../../../../esriGeowConfig ../../../../utils/dom ../../../../dijit/ToggleSwitch ./SettingsRow ../../../../../sharing/util ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=h.default;this.i18n=a.__assign(a.__assign({},this.i18n),m.default.openDataTab.openDataSite);this.disableEditPopup=!0;this.settingsProps=["portalProperties.openData"]}
n.prototype.render=function(){this.toggleSwitch=new e.default({labelClasses:"trailer-0"},this.domNode.querySelector(".js-toggle-switch"));var q=!1;this.portal.portalProperties&&this.portal.portalProperties.openData&&(q=!!this.portal.portalProperties.openData.enabled);this.toggleSwitch.setChecked(q,!0);r.default.showHide(this.configureContainer,q);q=this.configureLink.href=g.default.getSecureUrl(u.default.openDataUrl);this.configureLink.innerHTML="".concat(q).concat(u.default.isRightToLeft?"\x26lrm;":
"")};n.prototype.addEventListeners=function(){this.own((0,f.default)(this.toggleSwitch,"change",this.handleChange.bind(this)))};n.prototype.handleChange=function(){var q=this,l=this.toggleSwitch.checked();if(this.portal.portalProperties){var c=k.default.clone(this.portal.portalProperties);c.openData={enabled:l}}else c={openData:{enabled:l}};this.updateSetting({access:this.portal.access,portalProperties:JSON.stringify(c)},this.i18n.error,this.i18n.success).then(function(){q.portal.portalProperties=
c;b.default.publish("open-data/change",l);r.default.showHide(q.configureContainer,l);q.domNode.classList[l?"remove":"add"]("no-border")},function(){q.toggleSwitch.setChecked(!l,!0)})};return n=a.__decorate([(0,p.default)(v.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/rows/OpenDataGroupsRow":function(){define("require exports tslib dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/OpenDataGroupsRow.html ../../../../portal/PortalGroup ../../../../utils/dom ../../../../../sharing/util ../../../../dijit/Pagination ./OpenDataGroup ./SettingsRow ../../../../../esriGeowConfig ../../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);return function(){function n(q,l){this.templateString=f.default;this.i18n=a.__assign(a.__assign({},this.i18n),k.default.openDataTab.openDataSite.group);this.disableEditPopup=!0;this.items=[];this.groupsPerPage=
20;this.start=1;this.topicPrefix="open-data-groups"}n.prototype.render=function(){this._label.textContent=this.i18n.name;this._description.textContent=this.i18n.description;this.renderPage()};n.prototype.addEventListeners=function(){var q=this;this.own(b.default.subscribe("open-data/change",this.handleOpenDataChange.bind(this)),b.default.subscribe("".concat(this.topicPrefix,"pagination/page"),function(l){return q.paginationPage(l)}))};n.prototype.paginationPage=function(q){this.start=q.start;this.renderPage()};
n.prototype.renderPage=function(){return a.__awaiter(this,void 0,void 0,function(){var q,l=this;return a.__generator(this,function(c){switch(c.label){case 0:return[4,this.getOpenDataGroups()];case 1:return q=c.sent(),this.items.forEach(function(d){return d.destroy()}),this.items=[],q.forEach(function(d){d=new e.default({portal:l.portal,portalUser:l.portalUser,group:new m.default(a.__assign(a.__assign({},d),{portal:l.portal}))});l.items.push(d)}),0<this.items.length&&h.default.appendChildren(this.items.map(function(d){return d.domNode}),
this.list),[2]}})})};n.prototype.handleOpenDataChange=function(q){h.default.showHide(this.domNode,q)};n.prototype.getOpenDataGroups=function(){return a.__awaiter(this,void 0,void 0,function(){var q,l;return a.__generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,u.default.request({url:"".concat(g.default.restBaseUrl,"community/groups"),content:{start:this.start,num:this.groupsPerPage,q:"orgid:".concat(this.portal.id," isopendata:true"),sortField:"title"}})];case 1:return q=
c.sent(),this.pagination||(this.pagination=new r.default({topic:this.topicPrefix,start:this.start,num:this.groupsPerPage,hideDropdown:!0},this.domNode.querySelector(".js-pagination")),l=this.start+this.groupsPerPage,l>q.total&&(l=-1),this.pagination.render({total:q.total,start:this.start,nextStart:l})),[2,q.results];case 2:return c.sent(),[2,[]];case 3:return[2]}})})};return n=a.__decorate([(0,p.default)(v.default)],n)}()})},"arcgisonline/pages/organization/widgets/settings/rows/OpenDataGroup":function(){define("require exports tslib dojo/on dojo/text!./templates/OpenDataGroup.html dojo/i18n!../../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase ../../../../../esriGeowConfig ../../../../group/widgets/InviteMembers ../../GroupIcon arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=k.default;this.i18n=a.__assign({},f.default.openDataTab.openDataSite.group);this.shareLink=""}g.prototype.postMixInProperties=function(){this.inherited(arguments);this.shareLink="".concat(u.default.baseUrl,
"group.html?id\x3d").concat(this.group.id,"#content")};g.prototype.postCreate=function(){this.inherited(arguments);new e.default({portal:this.portal,group:this.group,scale:"m"},this.domNode.querySelector(".js-thumb"));this.addEventListeners()};g.prototype.addEventListeners=function(){this.own((0,b.default)(this.assignBtn,"click",this.handleAssignClick.bind(this)))};g.prototype.handleAssignClick=function(){(new r.default({group:this.group,portal:this.portal,user:this.portalUser,opener:this.assignBtn})).open()};
return g=a.__decorate([(0,v.default)(h.default,m.default)],g)}()})},"arcgisonline/pages/group/widgets/InviteMembers":function(){define("require exports tslib dojo/i18n!../../../nls/arcgisonline dojo/debounce dojo/dom-construct dojo/promise/all dojo/_base/Deferred dojo/string dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase ../../utils/culture ../../utils/arrays ../../../esriGeowConfig ../../../sharing/util esri/request ../../dijit/Checkbox ./InviteMemberRow ../../dijit/Overlay ../../dijit/MemberBrowser ../../dijit/OverlayConfirm ../../dijit/MemberThumb ../../../tsutils/declareDecorator dojo/text!./templates/members/invite.html dojo/text!./templates/members/invite-loader.html dojo/text!./templates/members/invite-error.html dojo/text!./templates/members/invite-error-row.html ../../../sharing/dijit/_LevelAwareMixin ../../utils/alerts".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importStar(H);return function(){function G(F,I){this.title=b.default.GroupWidget.inviteUsers;this.i18n=b.default;this.constrain=!0;this.overlayContents=u.default.substitute(A.default,{i18n:b.default});this._addDirect=!0;this._hasOutsideMembers=!1;this._invitees=[];this._progress={total:0,current:0,increment:0};this.PER_PAGE=25;this.SELECTION_LIMIT=
500;this.membersPerPage=100}G.prototype.postMixInProperties=function(){this.inherited(arguments);this._addDirect=this.user.isOrgUser};G.prototype.postCreate=function(){this.inherited(arguments);this.domNode.classList.add("invite-group-users");this._cancelBtn=this.domNode.querySelector(".js-overlay-cancel");this._saveBtn=this.domNode.querySelector(".js-overlay-primary");this._saveBtn.innerHTML=this._addDirect?b.default.GroupWidget.addToGroup:b.default.GroupWidget.inviteUsers;this.group.isGroupOwnerOrgMember()&&
this.getMaxExternalOrgsNum()};G.prototype.open=function(){var F=this,I,J,K;this.inherited(arguments);var P="-group:".concat(this.group.id," "),T=this.user.isOrgAdmin,S=this.group.isSharedOwnership;if(S){var L=this.LICENSE_LEVELS,N=L.ONE_PLUS_EDIT,O=this.SYSTEM_ROLES,Q=O.VIEWER;O=O.DATA_EDITOR;P+="-level:".concat(L.ONE," -level:").concat(N," -role:").concat(Q," -role:").concat(O," ")}L=this.portal.canSearchPublic||T;N="org"===this.group.membershipAccess||!(null===(I=this.user.userRole)||void 0===I?
0:I.canAddExternalMembersToGroup())||!this.group.isGroupOwnerOrgMember()&&"collaboration"===this.group.membershipAccess;this._memberBrowser=new t.default({group:this.group,baseQuery:P,hideFilters:!1,outsideOrgFilter:this.user.isOrgUser&&L,outsideOrgFilterDisable:N,outsideOrgFilterDisableText:"org"===this.group.membershipAccess?b.default.GroupWidget.allowOutside:"",showCategoryFilter:T||(null===(J=this.user.userRole)||void 0===J?void 0:J.canViewOrgUsers()),userTypeFilter:T&&!S,roleFilter:T,roleFilterExclude:this._isValidRole.bind(this),
myGroupsFilter:!0,groupsFilter:!0,portal:this.portal,row:d.default,user:this.user,showSelected:!0,showExactMatchedUser:!0,excludeCurrentUser:"none"!==(null===(K=this.group.userMembership)||void 0===K?void 0:K.memberType),overlay:!0,emptyText:b.default.GroupWidget.noMembersInvite,showCollabOrgsFilter:this.group.allowExternalMembers(),allowSelectAll:!0},this.domNode.querySelector(".js-group-invite-browser"));this._initAddDirectCheckbox();this._memberBrowser.on("member-browser/trusted-orgs",function(V){0<
V.trustedOrgs.length&&(F._addDirectCheckbox.domNode.querySelector(".js-checkbox-label-text ").textContent=b.default.GroupWidget.noConfirmationWithCoords)});this._addListeners()};G.prototype.close=function(){this.inherited(arguments)};G.prototype._addListeners=function(){this.user.isOrgUser&&this.own(this._addDirectCheckbox.on("change",this._updateAddDirect.bind(this)),this._memberBrowser.on("outsideOrgChange",this._handleOutsideOrgChange.bind(this)));this.own(this._memberBrowser.on("selectUpdate",
(0,k.default)(this._selectUpdate.bind(this),30)));this._cancelBtn.addEventListener("click",this.close.bind(this));this._saveBtn.addEventListener("click",this._onSaveClick.bind(this))};G.prototype._selectUpdate=function(F){var I=this,J,K,P;this._selected=F;this._invitees=F.map(function(O){return O.username});0<F.length&&this._mustSelect&&H.default.clearAlerts();if(this.user.isOrgUser){var T=this._memberBrowser.coordinators,S=this._memberBrowser.collabOrgs.filter(function(O){return"suspended"===O.to.state}).some(function(O){return F.some(function(Q){return Q.orgId===
O.to.orgId})}),L=null===(K=null===(J=this.group)||void 0===J?void 0:J.userMembership)||void 0===K?void 0:K.memberType,N="owner"===L||"admin"===L||this.user.isOrgAdmin||(null===(P=this.user.userRole)||void 0===P?void 0:P.canAssignUsersToOrgGroups());(this._hasOutsideMembers=!!p.default.find(F,function(O){return!N||S||!T.some(function(Q){return Q.username===O.username})&&(!O.orgUrl||O.orgUrl!==I.user.orgUrl)}))?(this._addDirectCheckbox.setChecked(!1),this._addDirectCheckbox.disable()):this._addDirectCheckbox.enable();
F.some(function(O){return T.some(function(Q){return Q.username===O.username})})&&!this._hasOutsideMembers&&this._addDirectCheckbox.setChecked(!0)}};G.prototype._updateAddDirect=function(F){this._saveBtn.innerHTML=b.default.GroupWidget[F?"addToGroup":"inviteUsers"];this._addDirect=F;this._memberBrowser.showExactMatchedUser=!F};G.prototype._handleOutsideOrgChange=function(F){F&&!this._hasOutsideMembers?this._addDirectCheckbox.enable():(this._addDirectCheckbox.setChecked(!1),this._addDirectCheckbox.disable())};
G.prototype.sendInvitesSerially=function(){return a.__awaiter(this,void 0,void 0,function(){var F,I,J,K;return a.__generator(this,function(P){F=this._invitees.length;if(0===F)return I=b.default.GroupWidget.mustSelect,(0,H.showAlert)("error",I),[2];J=Math.ceil(F/this.PER_PAGE);K=this._initLoader(J);1<J&&K.show();this.sendAllMembersInvitePage(a.__spreadArray([],this._invitees,!0),K);return[2]})})};G.prototype.getAllMembers=function(F,I){return a.__awaiter(this,arguments,void 0,function(J,K,P,T){var S,
L,N;void 0===P&&(P=1);void 0===T&&(T=[]);return a.__generator(this,function(O){switch(O.label){case 0:return S=Math.ceil(J/this.membersPerPage),L=(P-1)*this.membersPerPage+1,[4,this._memberBrowser.getMembers({num:this.membersPerPage,start:L})];case 1:return N=O.sent(),T=a.__spreadArray(a.__spreadArray([],T,!0),(null===N||void 0===N?void 0:N.results)||[],!0),this._incrementProgress(void 0,K.domNode),P<S?[2,this.getAllMembers(J,K,P+1,T)]:[2,T]}})})};G.prototype.sendAllMembersInvitePage=function(F,I){return a.__awaiter(this,
arguments,void 0,function(J,K,P,T){var S,L,N,O,Q=this;void 0===P&&(P=[]);void 0===T&&(T=[]);return a.__generator(this,function(V){switch(V.label){case 0:S=J.splice(0,this.membersPerPage),L=p.default.batch(S,this.PER_PAGE).map(function(X){return Q._sendInvites(X.join(","),K.domNode)}),V.label=1;case 1:return V.trys.push([1,6,,7]),[4,(0,m.default)(L)];case 2:return N=V.sent(),P=N.reduce(function(X,Z){Z=Z.notAdded||[];return a.__spreadArray(a.__spreadArray([],X,!0),Z,!0)},P),T=N.reduce(function(X,Z){Z=
Z.notAddedDetails||[];return a.__spreadArray(a.__spreadArray([],X,!0),Z,!0)},T),J.length?[4,this.sendAllMembersInvitePage(J,K,P,T)]:[3,4];case 3:return V.sent(),[3,5];case 4:this._addDirect&&0<P.length?(K.hide(),setTimeout(function(){return Q._showErrorSummary(P,T)},350)):this._showSuccess(),V.label=5;case 5:return[3,7];case 6:return O=V.sent(),K.hide(),setTimeout(function(){return Q._showError(O)},350),[2];case 7:return[2]}})})};G.prototype._onSaveClick=function(){this._mustSelect&&H.default.clearAlerts();
this.sendInvitesSerially()};G.prototype._isValidRole=function(F){if(this.group.isSharedOwnership){var I=F.privileges||[];F=F.id||"";var J=-1<I.indexOf("portal:user:createItem");I=-1<I.indexOf("portal:user:joinGroup");return-1<["org_publisher","org_admin","org_user"].indexOf(F)||J&&I}return!0};G.prototype._initAddDirectCheckbox=function(){if(this.user.isOrgUser){var F=document.createElement("div");this._overlayActionBar.insertBefore(F,this._overlayActionBar.querySelector("nav"));this._addDirectCheckbox=
new c.default({label:b.default.GroupWidget.noConfirmation,labelClass:"font-size--1 left trailer-0 leader-quarter tablet-hide",modifiers:["white"],isChecked:!0},F)}};G.prototype._initLoader=function(F){this._progress={total:this._invitees.length,increment:100/F,current:0};F=b.default.GroupWidget.progress[this._addDirect?"add":"invite"];F=new z.default({title:F.title,description:u.default.substitute(B.default,F),showClose:!1,showActions:!1,cssClasses:"full-width text-constrain"});this._overlay.appendChild(F.domNode);
return F};G.prototype._sendInvites=function(F,I){var J=this,K=this._addDirect?"addUsers":"invite",P=new h.default;(0,l.default)({url:"".concat(n.default.restBaseUrl,"/community/groups/").concat(this.group.id,"/").concat(K),content:{users:F,token:this.user.getToken(),f:"json"}},{usePost:!0}).then(function(T){J._addDirect||T.success||J._successfulInvites.concat(F.split(","));J._incrementProgress(T,I);return P.resolve(T)},function(T){return P.reject(T)});return P};G.prototype._incrementProgress=function(F,
I){this._progress.current+=this._progress.increment;F="".concat(Math.floor(this._progress.current));I.querySelector(".js-progress-bar").setAttribute("aria-valuenow",F);I.querySelector(".js-progress-bar-fill").setAttribute("style","width: ".concat(this._progress.current,"%"));I.querySelector(".js-progress-bar-percentage").innerHTML="".concat(F,"%")};G.prototype._showSuccess=function(){var F=g.default.getString(b.default.GroupWidget[this._addDirect?"addedToGroup":"invitedToGroup"],this._invitees.length);
(0,H.showAlert)("success",F);this.close();this._addDirect?r.default.publish("memberlist/refresh",{addedMembers:this._invitees}):r.default.publish("memberlist/refresh")};G.prototype._showErrorSummary=function(F,I){var J=this,K=b.default.GroupWidget.partialError[this._addDirect?"add":"invite"],P=[];I.forEach(function(L){if(L=L.error)L=L.messageCode,-1===P.indexOf(L)&&P.push(L)});if(this._addDirect&&1===P.length){var T=b.default.GroupWidget.partialError;I=T.privilege;T=T.maxGroups;switch(P[0]){case "COM_1207":K=
I;break;case "COM_1220":K=T}}K=new z.default({title:K.title,description:u.default.substitute(D.default,{errorStrings:K}),showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});this._overlay.appendChild(K.domNode);var S=K.domNode.querySelector(".js-notadded");F.forEach(function(L,N,O){var Q=p.default.find(J._selected,function(V){return V.username===L});Q&&(N=a.__assign(a.__assign({border:N===O.length-1?"":"border-bottom-clear"},Q),{fullName:Q.fullName||""}),N=f.default.place(u.default.substitute(C.default,
N),S),new x.default({member:Q,cssClasses:"member-browser-row-thumbnail margin-right-half"},N.querySelector(".js-member-thumbnail")))});r.default.publish("memberlist/refresh");K.show().then(function(){return J.close()})};G.prototype._showError=function(F){var I,J,K,P;this._successfulInvites&&0<this._successfulInvites.length&&this._memberBrowser.deselectMembers(this._successfulInvites);var T=b.default.GroupWidget.partialInviteError,S=(null===(J=null===(I=this.portal)||void 0===I?void 0:I.helpMap)||
void 0===J?void 0:J.m)||(null===(P=null===(K=n.default.self)||void 0===K?void 0:K.helpMap)||void 0===P?void 0:P.m)||{};I="".concat(n.default.self.helpBase).concat(S["120001872"]||"reference/troubleshoot.htm#ESRI_QUESTIONANSWERS_893AC5EF1A3C48C0A7E3B2CC14CC5C25");J=u.default.substitute(T.text,{helpUrl:I});I=T.title;"ORG_3103"===F.messageCode?(F="",this._addDirect?(F=b.default.GroupWidget.partialError,T=F.maxExternalOrgs,F=F.maxExternalOrgsNum,T=this.maxOrgsPerGroup?F:T,F=T.text,I=T.title):(F=b.default.GroupWidget.partialInviteError,
T=F.maxExternalOrgs,F=F.maxExternalOrgsNum,F=this.maxOrgsPerGroup?F:T,I=b.default.GroupWidget.partialInviteError.title),J=this.maxOrgsPerGroup?u.default.substitute(F,{number:this.maxOrgsPerGroup}):F):"COM_1049"===F.messageCode&&(T=b.default.GroupWidget.partialInviteError,I=T.title,J=T.privilegeError);var L=new z.default({title:I,description:'\x3cp class\x3d"trailer-half leader-quarter font-size--1"\x3e'.concat(J,"\x3c/p\x3e"),showActions:!1,cssClasses:"full-width text-constrain overlay-confirm-pane--error"});
this._overlay.appendChild(L.domNode);if(T=L.domNode.querySelector("a"))T.setAttribute("target","_blank"),T.setAttribute("rel","noopener noreferrer");L.show().then(function(){return L.hide()})};G.prototype.getMaxExternalOrgsNum=function(){return a.__awaiter(this,void 0,void 0,function(){var F;return a.__generator(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,q.default.request({url:"".concat(n.default.restBaseUrl,"portals/self/limits"),content:{limitsType:"Groups",limitName:"MaxExternalMemberOrgsInGroup"}})];
case 1:return F=I.sent(),this.maxOrgsPerGroup=null===F||void 0===F?void 0:F.limitValue,[3,3];case 2:return I.sent(),[3,3];case 3:return[2]}})})};return G=a.__decorate([(0,y.default)(v.default,e.default,E.default,w.default)],G)}()})},"arcgisonline/pages/group/widgets/InviteMemberRow":function(){define("require exports tslib dojo/string dojo/i18n!../../../nls/arcgisonline ../../dijit/MemberBrowser/MemberBrowserRow dojo/text!./templates/members/invite-user-row.html ../../utils/icons ../../utils/dom ../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.i18n=k.default;this.templateString=m.default;this.icons=h.default}e.prototype.postMixInProperties=function(){this.inherited(arguments);this.rowSelectLabel=b.default.substitute(k.default.memberBrowser.inviteToGroup,{name:this.member.fullName})};e.prototype.postCreate=function(){this.member.orgName&&
(this.collabOrgNameEl.textContent=this.member.orgName,u.default.showNode(this.collabOrgBadge));u.default.showHide(this.collabOrgBadgeIcon,this.member.isCoordinator);this.member.isCoordinator&&(this.collabOrgBadge.classList.add("tooltip"),this.collabOrgBadge.setAttribute("aria-label",k.default.GroupWidget.collabContact))};return e=a.__decorate([(0,r.default)(f.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/HubTab":function(){define("require exports tslib ../../../../../esriGeowConfig ./BaseSettingsTab ../cards/HubCard ../settings-shared ../../../../../tsutils/declareDecorator dojo/string dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.i18n=r.default.hubTab;this.TAB_KEY=m.SettingsTabKeys.Hub}e.prototype.render=function(){var v=this.portal.subscriptionInfo.companionOrganizations,g=!(!v||!v.length);v=g?v.map(function(q){return q.organizationUrl}).join(", "):"";v=u.default.substitute(this.i18n.communityOrg,{name:v});var p=b.default.openDataUrl,
n=p.substring(p.indexOf("://")+3);n=n.substring(0,n.indexOf("/"));n='\x3ca href\x3d"'.concat(p,'"\x3e').concat(n,"\x3c/a\x3e");p=u.default.substitute(this.i18n.manageHub,{url:n});this.createCustomCard(f.default,{name:this.i18n.name,description:g?"".concat(v," ").concat(p):p,keywords:"initiatives community arcgisHub hubSites geohub sharedContent".split(" "),rows:[]});this.inherited(arguments)};return e=a.__decorate([(0,h.default)(k.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/cards/HubCard":function(){define("require exports tslib ../../../../../esriGeowConfig ./SettingsCard ../../../../../sharing/util ../../../../../tsutils/declareDecorator dijit/a11yclick dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){}r.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign(a.__assign({},this.i18n),u.default.hubTab),{keywords:u.default.keywords})};r.prototype.render=function(){this.inherited(arguments);var e=document.createElement("div");e.className="org-settings__card-row";
this._content.appendChild(e);this.initiativesBtn=document.createElement("button");this.initiativesBtn.className="btn btn-clear calcite-web-btn-clear";this.initiativesBtn.textContent=this.i18n.manageInitiatives;e.appendChild(this.initiativesBtn);var v=document.createElement("span");v.className="margin-left-quarter margin-right-quarter";e.appendChild(v);this.communityBtn=document.createElement("button");this.communityBtn.className="btn btn-clear calcite-web-btn-clear";this.communityBtn.textContent=
this.i18n.manageCommunity;e.appendChild(this.communityBtn)};r.prototype.addEventListeners=function(){var e=f.default.getSecureUrl(b.default.openDataUrl);this.own((0,h.default)(this.initiativesBtn,function(){window.location.href="".concat(e,"initiatives")}),(0,h.default)(this.communityBtn,function(){window.location.href="".concat(e,"community")}))};return r=a.__decorate([(0,m.default)(k.default)],r)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/LocationTrackingTab":function(){define("require exports tslib ../rows/LocationTrackingRow ./BaseSettingsTab ../settings-shared ../../../../utils/organization ../../../../../tsutils/declareDecorator dojo/topic dojo/i18n!../../../../../nls/org-settings".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.i18n=r.default.locationTrackingTab;this.TAB_KEY=f.SettingsTabKeys.OrgExtensions}e.prototype.render=function(){var v=this,g=this.i18n.name,p=m.default.injectHelpLink(this.portal,this.i18n.description,"120001753","location-tracking-learn-more"),n=this.createCard({id:"org-location-tracking-card",
name:g,description:p,keywords:["tracker","trackViewer","locationTrackingService","trackerForArcGIS"],rows:[new b.default(a.__assign(a.__assign({},this.getDefaultRowParams()),{portalUser:this.portalUser}))]});this.own(u.default.subscribe("location-tracking/has-indoors",function(q){n.setDescription(q?v.i18n.descriptionIndoors:p)}));this.inherited(arguments)};return e=a.__decorate([(0,h.default)(k.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/rows/LocationTrackingRow":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../pageUtil ./SettingsRow ../../RoleInfo ../../../../utils/alerts ../../../../utils/arrays ../../../../utils/date ../../../../utils/dom ../../../../utils/organization ../../../../../sharing/util ../../../../../sharing/dijit/_LevelAwareMixin ../../../../../sharing/geow/Roles ../../../../../sharing/geow/Licenses ../../../../../tsutils/declareDecorator dijit/a11yclick dojo/promise/all dojo/on dojo/Deferred dojo/string dojo/topic dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/LocationTrackingRow.html dojo/text!./templates/EnableLocationTrackDialog.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=
a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);var D;(function(H){H.TwoWeeks="14";H.ThirtyDays="30";H.NinetyDays="90";H.SixMonths="6";H.OneYear="1";H.Always="ALWAYS";H.Custom="CUSTOM"})(D||(D={}));var C;(function(H){H.Days="DAYS";H.Month="MONTHS";H.Years="YEARS"})(C||(C={}));var E;(function(H){H.Query="Query";H.Create="Create";H.Update="Update"})(E||(E={}));return function(){function H(G,F){this.templateString=A.default;this.i18n=a.__assign(a.__assign(a.__assign(a.__assign({},
this.i18n),y.default.common),y.default.locationTrackingTab),y.default.roles);this.disableEditPopup=!0;this.roleCount={};this.isPortal=!1;this.INDOOR_KEY="indoors";this.LOCATION_SHARING_KEY="locsharing";this.TRACKER_KEY="tracker";this.FIELD_WORKER="fieldWorkerUT"}H.prototype.render=function(){var G=this;this.rolesAPI=new n.default;this.isPortal=this.portal.isPortal;this.determineAbilityToEnable().then(function(F){G.allowedToEnable=F;G.renderUI()})};H.prototype.determineAbilityToEnable=function(){var G=
this,F=new t.default;this.isPortal?F.resolve(!0):(this.licensesAPI=new q.default,(0,d.default)({entitlements:this.licensesAPI.getLicensedEntitlements(),subInfo:v.default.getSubscriptionInfo(),userTypes:this.licensesAPI.getLicenseTypes()}).then(function(I){var J,K,P,T,S,L;G.hasIndoors=null===(K=null===(J=null===I||void 0===I?void 0:I.subInfo)||void 0===J?void 0:J.orgCapabilities)||void 0===K?void 0:K.some(function(N){return N.id===G.INDOOR_KEY});G.hasTracker=null===(P=null===I||void 0===I?void 0:I.entitlements)||
void 0===P?void 0:P.some(function(N){return N.key===G.TRACKER_KEY});G.hasLocationSharing=null===(T=null===I||void 0===I?void 0:I.entitlements)||void 0===T?void 0:T.some(function(N){return N.key===G.LOCATION_SHARING_KEY});G.hasFieldWorkers=(null===(L=null===(S=null===I||void 0===I?void 0:I.userTypes)||void 0===S?void 0:S.userLicenseTypes)||void 0===L?void 0:L.some(function(N){return N.id===G.FIELD_WORKER}))||!1;G.hasIndoors&&x.default.publish("location-tracking/has-indoors",!0);F.resolve(G.hasTracker||
G.hasIndoors||G.hasLocationSharing||G.hasFieldWorkers)},function(){F.resolve(!1)}));return F};H.prototype.renderUI=function(){var G=this,F,I,J,K;this.rolesAPI=new n.default;this.isPortal=this.portal.isPortal;this.rolesInfoDesc.innerHTML=z.default.substitute(this.i18n.rolesInfoDesc,{linkStart:'\x3ca class\x3d"org-settings__clickable js-roles-link" tabindex\x3d"0"\x3e',linkEnd:"\x3c/a\x3e"});var P=this.rolesInfoDesc.querySelector("a.js-roles-link");P&&this.own((0,c.default)(P,function(){x.default.publish("settings-tab/select",
"memberRoles")}));(null===(I=null===(F=this.portal.helperServices)||void 0===F?void 0:F.locationTracking)||void 0===I?0:I.url)&&this.renderFirstEnabled(!0).then(function(T){T.username===G.portalUser.username&&e.default.showNode(G.disableBtn)});this.renderRetainDropdown();this.renderRoles();!this.isPortal||this.isPortal&&this.portal.hasRelationalArcGISDataStore&&this.portal.hasSpatioTemporalArcGISDataStore?(null===(K=null===(J=this.portal.helperServices)||void 0===J?void 0:J.locationTracking)||void 0===
K?0:K.url)?g.default.request({url:this.portal.helperServices.locationTracking.url}).then(function(T){var S=T.capabilities;T=-1<S.indexOf(E.Query);var L=-1<S.indexOf(E.Create);S=-1<S.indexOf(E.Update);T&&L&&S?(G.showEnabledInfo(),G.checkForUpgrade()):T&&G.showResume()},function(){G.showEnableBtn();h.default.showAlert("error","".concat(G.i18n.errors.cantFindService,"\n").concat(G.portal.helperServices.locationTracking.url))}):this.showEnableBtn():this.showDisabledDataStore()};H.prototype.checkForUpgrade=
function(){var G=this;this.upgradeMustAddFields=[];(0,d.default)({tracksLayer:g.default.request({url:"".concat(this.portal.helperServices.locationTracking.url,"/0")}),lastKnownLocationLayer:g.default.request({url:"".concat(this.portal.helperServices.locationTracking.url,"/1")})}).then(function(F){var I,J,K,P,T=["category","full_name","level_id"],S=null===(J=null===(I=null===F||void 0===F?void 0:F.tracksLayer)||void 0===I?void 0:I.fields)||void 0===J?void 0:J.map(function(L){return L.name});F=null===
(P=null===(K=null===F||void 0===F?void 0:F.lastKnownLocationLayer)||void 0===K?void 0:K.fields)||void 0===P?void 0:P.map(function(L){return L.name});0<(null===S||void 0===S?void 0:S.length)&&0<(null===F||void 0===F?void 0:F.length)&&((K=G.isPortal&&!u.default.includesAll(S,T)&&!u.default.includesAll(F,T))&&T.forEach(function(L){S.includes(L)||G.upgradeMustAddFields.push(L)}),e.default.showHide(G.upgradeBtn,K))})};H.prototype.addEventListeners=function(){var G=this;this.own((0,w.default)(this.openBtn,
"click",function(){window.location.href=b.default.openTrackViewer}),(0,w.default)(this.enableBtn,"click",this.handleEnableClick.bind(this)),(0,w.default)(this.disableBtn,"click",this.handleDisableClick.bind(this)),(0,w.default)(this.pauseBtn,"click",this.handlePauseClick.bind(this)),(0,w.default)(this.resumeBtn,"click",this.handleResumeClick.bind(this)),(0,w.default)(this.retainSelect,"change",this.handleRetainChange.bind(this)),(0,w.default)(this.upgradeBtn,"click",this.handleUpgradeClick.bind(this)),
x.default.subscribe("roles/updated",function(){var F;null===(F=G.roleWidgets)||void 0===F?void 0:F.forEach(function(I){I.destroy()});G.renderRoles()}))};H.prototype.showResume=function(){this.statusText.textContent=this.i18n.paused;e.default.hideNodes([this.checkIcon,this.enableBtn,this.pauseBtn,this.disableDSContainer]);e.default.showNodes([this.pauseIcon,this.resumeBtn,this.enabledInfo])};H.prototype.showEnabledInfo=function(){this.statusText.textContent=this.i18n.enabled;e.default.hideNodes([this.pauseIcon,
this.enableBtn,this.resumeBtn,this.disableDSContainer]);e.default.showNodes([this.checkIcon,this.pauseBtn,this.enabledInfo])};H.prototype.showEnableBtn=function(){e.default.hideNodes([this.pauseBtn,this.resumeBtn,this.disableDSContainer,this.enabledInfo]);e.default.showNode(this.enableBtn);this.allowedToEnable||(this.enableBtn.disabled=!0,e.default.showNode(this.licenseInfoContainer))};H.prototype.showDisabledDataStore=function(){var G,F,I=(null===(F=null===(G=this.portal.helpMap)||void 0===G?void 0:
G.m)||void 0===F?void 0:F["120000916"])||"";G='\x3ca href\x3d"'.concat(this.portal.helpBase).concat(I,'" title\x3d"').concat(this.i18n.noDataStoreLinkText,'" target\x3d"_blank" \x3e');this.disableDSEl.innerHTML=z.default.substitute(this.i18n.noDataStore,{linkStart:G,linkEnd:"\x3c/a\x3e"});e.default.hideNodes([this.enableBtn,this.pauseBtn,this.resumeBtn,this.disableBtn,this.enabledInfo]);e.default.showNode(this.disableDSContainer)};H.prototype.renderRoles=function(){var G=this;this.getRoles().then(function(){if(G.roles&&
0!==G.roles.length){var F=G.roles.map(function(I){return new m.default({role:I})});G.roleWidgets=F;e.default.appendChildren(F.map(function(I){return I.domNode}),G.rolesContainer)}else e.default.hideNode(G.rolesSection)})};H.prototype.renderRetainDropdown=function(){var G=this;this.getRetentionValue().then(function(F){F?G.retainSelect.value=F:(G.retainSelect.add(G.createOption(D.Custom,G.i18n.retainOptions.custom)),G.retainSelect.value=D.Custom);e.default.showHide(G.retainSelect,G.isPortal);e.default.showHide(G.retainReadonly,
!G.isPortal)})};H.prototype.createOption=function(G,F){var I=document.createElement("option");I.value=G;I.text=F;return I};H.prototype.getRetentionValue=function(){var G=this,F,I,J=new t.default;(null===(I=null===(F=this.portal.helperServices)||void 0===F?void 0:F.locationTracking)||void 0===I?0:I.url)?(F="".concat(this.portal.helperServices.locationTracking.url,"/0"),I=F.split("/rest/"),F=-1<F.indexOf("rest/admin")?F:"".concat(I[0],"/rest/admin/").concat(I[1]),g.default.request({url:F}).then(function(K){var P;
if((null===(P=K.adminLayerInfo)||void 0===P?0:P.tableMetadata)&&!1!==K.adminLayerInfo.tableMetadata.dataRetention&&"false"!==K.adminLayerInfo.tableMetadata.dataRetention)return{strat:K.adminLayerInfo.tableMetadata.dataRetentionStrategy,unit:K.adminLayerInfo.tableMetadata.dataRetentionStrategyUnits}},function(){return J.resolve(D.ThirtyDays)}).then(function(K){K?G.isAcceptedValue(K)?J.resolve(K.strat):J.resolve(void 0):J.resolve(D.Always)},function(){return J.resolve(D.ThirtyDays)})):J.resolve(D.ThirtyDays);
return J};H.prototype.isAcceptedValue=function(G){return[{strat:D.ThirtyDays,unit:"DAYS"},{strat:D.NinetyDays,unit:"DAYS"},{strat:D.SixMonths,unit:"MONTHS"},{strat:D.OneYear,unit:"YEARS"}].some(function(F){return F.strat===G.strat&&F.unit===G.unit})};H.prototype.renderFirstEnabled=function(G){var F=this;return this.getFolderUrl(G).then(function(){return g.default.request({url:F.portal.helperServices.locationTracking.url}).then(function(I){return g.default.request({url:"".concat(b.default.restBaseUrl,
"content/items/").concat(I.serviceItemId)})},function(){h.default.showAlert("error",F.i18n.errors.cantFindService)}).then(function(I){return g.default.request({url:"".concat(b.default.restBaseUrl,"community/users/").concat(I.owner)}).then(function(J){var K=J.fullName,P=r.default.format(new Date(I.created),"day-short-month-year");F.startedInfo.textContent=z.default.substitute(F.i18n.firstEnabledName,{date:P,name:K});return J})})})};H.prototype.getFolderUrl=function(G){var F=this,I="".concat(b.default.restBaseUrl,
"content/users/").concat(this.portalUser.username);return g.default.request({url:I}).then(function(J){if(J=J.folders.filter(function(K){return K.title===F.i18n.folderName})[0])return J.id;if(!G)return g.default.request({url:"".concat(I,"/createFolder"),content:{title:F.i18n.folderName}},{usePost:!0}).then(function(K){return K.folder.id})})};H.prototype.handleRetainChange=function(){var G=this;this.showLoader();var F=this.retainSelect.value,I="true",J=C.Days;F===D.Always?(F=D.ThirtyDays,I="false"):
F===D.OneYear?J=C.Years:F===D.SixMonths?J=C.Month:F===D.NinetyDays&&(J=C.Days);var K="".concat(this.portal.helperServices.locationTracking.url,"/0");this.updateLayerDefinition(K,{tableMetadata:{dataRetentionStrategy:F,dataRetentionStrategyUnits:J,dataRetention:I}}).then(function(){G.hideLoader()},function(){G.hideLoader();h.default.showAlert("error",G.i18n.errors.cantFindService)})};H.prototype.handleEnableClick=function(){var G=this;k.default.createConfirmationDialog({strings:{title:this.i18n.folderName,
description:z.default.substitute(B.default,{enableMessages:this.i18n.enableMessages}),ok:this.i18n.continue,cancel:this.i18n.cancel},autoCloseOnOk:!0,renderHtmlDescription:!0,onOk:function(){G.showLoader();G.getFolderUrl().then(function(F){return G.enableLocationTracking(F)}).then(function(){G.showEnabledInfo();G.renderFirstEnabled().then(function(F){F.username===G.portalUser.username&&e.default.showNode(G.disableBtn)});G.hideLoader()},function(){G.hideLoader();G.enableBtn.disabled=!1;h.default.showAlert("error",
G.i18n.errors.cantEnableService)})}})};H.prototype.enableLocationTracking=function(G){var F=this,I=new t.default;this.enableBtn.disabled=!0;this.createLocationService().then(function(J){if(J&&!1===J.success)F.enableBtn.disabled=!1,I.reject();else{var K={url:J.serviceurl||J.url,id:J.itemId||J.id};F.createServiceProcess(K,G).then(function(){F.portal.helperServices.locationTracking=K;F.enableBtn.disabled=!1;I.resolve()},function(){h.default.showAlert("error",F.i18n.errors.cantFindService);F.enableBtn.disabled=
!1;I.reject()})}},function(){F.enableBtn.disabled=!1;I.reject()});return I};H.prototype.createServiceProcess=function(G,F){var I=this,J=G.id;return g.default.request({url:"".concat(b.default.restBaseUrl,"portals/self/update"),content:{locationTrackingService:JSON.stringify(G)}},{usePost:!0}).then(function(){return g.default.request({url:"".concat(b.default.restBaseUrl,"content/users/").concat(I.portalUser.username,"/moveItems"),content:{items:J,folder:F}},{usePost:!0})}).then(function(){return g.default.request({url:"".concat(b.default.restBaseUrl,
"content/users/").concat(I.portalUser.username,"/").concat(F,"/items/").concat(J,"/update"),content:{title:I.i18n.folderName}},{usePost:!0})}).then(function(){return g.default.request({url:"".concat(b.default.restBaseUrl,"content/users/").concat(I.portalUser.username,"/").concat(F,"/items/").concat(J,"/protect")},{usePost:!0})}).then(function(){return g.default.request({url:"".concat(b.default.restBaseUrl,"content/items/").concat(J,"/share"),content:{everyone:!1,org:!0,groups:"",confirmItemControl:!1}},
{usePost:!0})})};H.prototype.createLocationService=function(G){var F=this,I=G||"location_tracking";return g.default.request({url:"".concat(b.default.restBaseUrl,"portals/self/isServiceNameAvailable"),content:{name:I,type:"Feature Service"}}).then(function(J){if(J&&!0===J.available)return F.createServiceRequest(I);J=(new Date).getTime().toString();J="location_tracking_".concat(J.substring(J.length-4));return F.createLocationService(J)})};H.prototype.createServiceRequest=function(G){var F=this.isPortal?
"30":"14",I="".concat(b.default.restBaseUrl,"content/users/").concat(this.portalUser.username,"/createService");G={outputType:"locationTrackingService",createParameters:JSON.stringify({name:G,layers:[{adminLayerInfo:{tableMetadata:{numberOfShards:"6",rollingIndexStrategy:"Yearly",dataRetentionStrategy:F,dataRetentionStrategyUnits:"DAYS",dataRetention:"true"}}},{adminLayerInfo:{tableMetadata:{numberOfShards:"3",rollingIndexStrategy:"Century",dataRetentionStrategy:F,dataRetentionStrategyUnits:"DAYS",
dataRetention:"false"}}}]}),description:this.i18n.serviceDescription,snippet:this.i18n.serviceSnippet};return g.default.request({url:I,content:G},{usePost:!0})};H.prototype.handleDisableClick=function(){var G=this,F=this.i18n.disableMessages,I="".concat(F.message1,"\x3c/br\x3e\x3c/br\x3e").concat(F.message2," ").concat(F.message3);k.default.createConfirmationDialog({strings:{title:F.title,description:I,ok:this.i18n.disable},renderHtmlDescription:!0,okColor:"red",autoCloseOnOk:!0,onOk:function(){G.disableLocationTracking()}})};
H.prototype.disableLocationTracking=function(){var G=this;this.showLoader();var F=this.portal.helperServices.locationTracking.id;this.disableBtn.disabled=!0;g.default.request({url:"".concat(b.default.restBaseUrl,"content/items/").concat(F,"/relatedItems?relationshipType\x3dService2Service\x26direction\x3dforward")}).then(function(I){G.deleteItems(I.relatedItems).then(function(){return G.deleteObject("".concat(b.default.restBaseUrl,"content/users/").concat(G.portalUser.username,"/items/").concat(F),
{permanentDelete:!0})}).then(function(){return G.getFolderUrl()}).then(function(J){return g.default.request({url:"".concat(b.default.restBaseUrl,"content/users/").concat(G.portalUser.username,"/").concat(J)})}).then(function(J){if(!(0<J.total))return G.deleteObjectRequest("".concat(b.default.restBaseUrl,"content/users/").concat(G.portalUser.username,"/").concat(J.currentFolder.id))}).then(function(){return g.default.request({url:"".concat(b.default.restBaseUrl,"portals/self/update"),content:{locationTrackingService:"",
clearEmptyFields:!0}},{usePost:!0})}).then(function(){G.hideLoader();G.portal.helperServices.locationTracking=null;G.showEnableBtn();G.disableBtn.disabled=!1},function(){G.hideLoader();h.default.showAlert("error",G.i18n.errors.cantDisableService);G.disableBtn.disabled=!1})},function(){G.hideLoader()})};H.prototype.deleteItems=function(G){var F=this,I=new t.default;if(G&&G.length){var J=(new t.default).resolve();G.forEach(function(K){return J=J.then(function(){return F.deleteGroupAndItem(K)})});return J}I.resolve();
return I};H.prototype.deleteGroupAndItem=function(G){var F=this,I,J="".concat(b.default.restBaseUrl,"content/users/").concat(this.portalUser.username,"/items/").concat(G.id);return(null===(I=G.properties)||void 0===I?0:I.trackViewGroup)?(G=G.properties.trackViewGroup,G="".concat(b.default.restBaseUrl,"community/groups/").concat(G),this.deleteObject(G).then(function(){return F.deleteObject(J)},function(){return F.deleteObject(J)})):this.deleteObject(J)};H.prototype.deleteObjectRequest=function(G,F){void 0===
F&&(F={});return g.default.request({url:"".concat(G,"/delete"),content:F},{usePost:!0})};H.prototype.deleteObject=function(G,F){var I=this;void 0===F&&(F={});return g.default.request({url:"".concat(G,"/unprotect")},{usePost:!0}).then(function(){return I.deleteObjectRequest(G,F)},function(){return I.deleteObjectRequest(G,F)})};H.prototype.handlePauseClick=function(){var G=this,F=this.i18n.pauseMessages;k.default.createConfirmationDialog({strings:{title:F.title,description:"\x3cp\x3e".concat(F.message1,
"\x3c/p\x3e\x3cp\x3e").concat(F.message2," ").concat(F.message3,"\x3c/p\x3e"),ok:this.i18n.pause,cancel:this.i18n.cancel,close:this.i18n.close},onOk:function(){G.showLoader();G.pauseLocationTracking().then(function(){G.showResume();G.hideLoader()},function(){G.hideLoader();h.default.showAlert("error",G.i18n.errors.cantPauseService)})},autoCloseOnOk:!0,renderHtmlDescription:!0,okColor:"red",width:"s"})};H.prototype.pauseLocationTracking=function(){var G="Query".concat(this.portal.isPortal?"":",Extract");
return this.updateDefinition(G)};H.prototype.handleResumeClick=function(){var G=this;this.showLoader();var F="Query,Create,Update".concat(this.portal.isPortal?"":",Extract");this.updateDefinition(F).then(function(){G.showEnabledInfo();G.hideLoader()},function(){G.hideLoader();h.default.showAlert("error",G.i18n.errors.cantResumeService)})};H.prototype.handleUpgradeClick=function(){var G=this,F={fields:[]};this.upgradeMustAddFields.forEach(function(K){"full_name"===K&&F.fields.push({name:"full_name",
type:"esriFieldTypeString",alias:"Full Name",length:1E6,nullable:!0,editable:!0,domain:null,defaultValue:null});"category"===K&&F.fields.push({name:"category",type:"esriFieldTypeString",alias:"Category",length:1E6,nullable:!0,editable:!0,domain:null,defaultValue:null});"level_id"===K&&F.fields.push({name:"level_id",type:"esriFieldTypeString",alias:"Level ID",length:255,nullable:!0,editable:!0,domain:null,defaultValue:null})});var I="".concat(this.portal.helperServices.locationTracking.url,"/0"),J=
"".concat(this.portal.helperServices.locationTracking.url,"/1");this.showLoader();this.updateLayerDefinition(I,F,!0).then(function(){G.updateLayerDefinition(J,F,!0).then(function(){e.default.hideNode(G.upgradeBtn);G.checkForUpgrade();h.default.showAlert("success",G.i18n.upgradeMessages.success);G.hideLoader()},function(){h.default.showAlert("error",G.i18n.errors.cantUpgradeService);G.hideLoader()})},function(){h.default.showAlert("error",G.i18n.errors.cantUpgradeService);G.hideLoader()})};H.prototype.updateDefinition=
function(G){var F="".concat(this.portal.helperServices.locationTracking.url,"/updateDefinition"),I=F.split("/rest/");F=-1<F.indexOf("rest/admin")?F:"".concat(I[0],"/rest/admin/").concat(I[1]);G={updateDefinition:JSON.stringify({capabilities:G})};return g.default.request({url:F,content:G},{usePost:!0})};H.prototype.updateLayerDefinition=function(G,F,I){var J=I?"addToDefinition":"updateDefinition";G="".concat(G,"/").concat(J);J=G.split("/rest/");G=-1<G.indexOf("rest/admin")?G:"".concat(J[0],"/rest/admin/").concat(J[1]);
F=JSON.stringify(F);return g.default.request({url:G,content:I?{addToDefinition:F}:{updateDefinition:F}},{usePost:!0})};H.prototype.getRoles=function(){var G=this;return this.rolesAPI.getAllRoles(!0).then(function(F){G.roles=F;G.viewerRole=G.getRoleById(G.SYSTEM_ROLES.VIEWER);G.editorRole=G.getRoleById(G.SYSTEM_ROLES.DATA_EDITOR);return G.getUserCount()}).then(function(){G.roles=G.roles.filter(function(F){return-1<F.privileges.indexOf("portal:user:viewTracks")});G.roles.unshift({id:"org_admin",name:G.i18n.admin});
G.roles.forEach(function(F){F.level=G.computeRoleLevel(F);F.memberCount=G.roleCount[F.id]||0})})};H.prototype.getRoleById=function(G){return this.roles.filter(function(F){return F.id===G})[0]};H.prototype.getUserCount=function(){var G=this,F="".concat(g.default.getSecureUrl(b.default.restBaseUrl),"portals/self/users/counts");return k.default.fetchAllResources(F,{type:"role"}).then(function(I){G.roleCount=I.reduce(function(J,K){var P=K.key.replace("account_","org_");J[P]=K.count;return J},{})})};H.prototype.computeRoleLevel=
function(G){var F=a.__spreadArray(a.__spreadArray([],n.default.extraLevelOnePrivileges,!0),this.viewerRole.privileges,!0),I=a.__spreadArray(a.__spreadArray([],n.default.extraLevelOnePrivileges,!0),this.editorRole.privileges,!0);return this.viewerRole&&G.privileges&&!n.default.exceedsRolePrivileges(F,G.privileges)?this.LICENSE_LEVELS.ONE:this.editorRole&&G.privileges&&!n.default.exceedsRolePrivileges(I,G.privileges)?this.LICENSE_LEVELS.ONE_PLUS_EDIT:this.LICENSE_LEVELS.TWO};H.prototype.showLoader=
function(){e.default.activateNode(this.loader)};H.prototype.hideLoader=function(){e.default.deactivateNode(this.loader)};return H=a.__decorate([(0,l.default)(f.default,p.default)],H)}()})},"arcgisonline/pages/organization/widgets/RoleInfo":function(){define("require exports tslib dojo/on dojo/text!./templates/RoleInfo.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/pageUtil arcgisonline/pages/dijit/RoleSummaryDlg arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);return function(){function v(g,p){this.templateString=k.default;this.icons=h.default}v.prototype.postCreate=function(){this.inherited(arguments);this.addEventListeners()};v.prototype.addEventListeners=function(){this.own((0,b.default)(this.infoBtn,"click",this.handleInfoClick.bind(this)))};
v.prototype.handleInfoClick=function(){u.default.createSpecifiedDialog(r.default,{role:this.role}).show()};return v=a.__decorate([(0,e.default)(m.default,f.default)],v)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/ServersTab":function(){define("require exports tslib ../../../../../esriGeowConfig ../../../../../sharing/util ../../../../utils/arrays ./BaseSettingsTab ../cards/FederatedServersCard ../../../../serviceUtil ../settings-shared ../../../../../tsutils/declareDecorator dojo/promise/all dojo/Deferred dojo/i18n!../../../../../nls/org-settings dojo/_base/lang dojo/topic".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.i18n=p.default.serversTab;this.TAB_KEY=r.SettingsTabKeys.Servers;this.servers=[];this.previousServers=[];this.serverTypesExcludedFromBackingStoreLookup=
["ARCGIS_NOTEBOOK_SERVER","ARCGIS_MISSION_SERVER","ARCGIS_VIDEO_SERVER"]}l.prototype.postCreate=function(){this.inherited(arguments);this.addEventListeners()};l.prototype.startup=function(){var c=this,d=new g.default;this.fetchFederatedServers().promise.always(function(){c.render();d.resolve()});return d.promise};l.prototype.render=function(){this.createFederatedServersCard();this.inherited(arguments)};l.prototype.addEventListeners=function(){var c=this;this.own(q.default.subscribe("federated-servers/refresh-servers",
this.refreshFederatedServers.bind(this)),q.default.subscribe("federated-servers/hide-server-roles-card",function(){var d=setInterval(function(){var w;if(null===(w=c.serverRolesCard)||void 0===w?0:w.domNode)c.serverRolesCard.hide(),clearInterval(d),d=void 0},100)}))};l.prototype.createFederatedServersCard=function(){var c=this.i18n.federatedServers;this.createCustomCard(h.default,{name:c.name,description:c.description,servers:this.servers,keywords:["servers","federatedServers"]})};l.prototype.handleNotebookToggle=
function(c){return a.__awaiter(this,void 0,void 0,function(){function d(x){return"NotebookServer"===x.serverFunction}var w,t,z;return a.__generator(this,function(x){switch(x.label){case 0:return w=this.previousServers.some(d),t=c.some(d),!w&&t||w&&!t?[4,k.default.request({url:"".concat(b.default.restBaseUrl,"portals/self")})]:[3,2];case 1:z=x.sent(),b.default.self.supportsHostedNotebooks=this.portal.supportsHostedNotebooks=z.supportsHostedNotebooks,q.default.publish("top-nav/update",this.portal.portalProperties.topNav),
x.label=2;case 2:return[2]}})})};l.prototype.refreshFederatedServers=function(){var c=this;this.previousServers=a.__spreadArray([],this.servers,!0);this.fetchFederatedServers().then(function(d){c.handleNotebookToggle(d);q.default.publish("federated-servers/servers-refreshed",d)})};l.prototype.fetchFederatedServers=function(){var c=this,d=new g.default,w=function(){b.default.federatedServers=c.servers;var t=n.default.clone(c.servers);q.default.publish("federated-servers/fetched",t);d.resolve(t)};this.portal.getFederatedServers(!0).then(function(t){c.computeServerLabels(t&&
t.servers||[]).forEach(function(y){var A=f.default.findIndex(c.servers,function(B){return B.id===y.id});-1<A?c.servers[A]=a.__assign(a.__assign({},c.servers[A]),y):c.servers.push(y)});if(c.portal.isPortal){var z=[];c.servers.forEach(function(y,A){var B,D=null!==(B=y.isSDS)&&void 0!==B?B:!1;y=f.default.includes(c.serverTypesExcludedFromBackingStoreLookup,y.serverType);D||y||z.push(A)});if(z.length){var x={};z.forEach(function(y){x[y]=u.default.isBackedBySDS(c.servers[y])});(0,v.default)(x).then(function(y){z.forEach(function(A){c.servers[A].isSDS=
y[A]});w()},function(){w()})}else w()}else w()},function(){d.resolve([])});return d};l.prototype.computeServerLabels=function(c){return c.map(function(d){var w=n.default.clone(d);w.label=d.url.substring(d.url.indexOf("://")+3);return w})};return l=a.__decorate([(0,e.default)(m.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/cards/FederatedServersCard":function(){define("require exports tslib ./SettingsCard ../rows/FederatedServerRow ../../../../utils/arrays ../../../../utils/dom ../../../../utils/promises ../FederateServerOverlay arcgisonline/pages/utils/dropdown ../../../../../tsutils/declareDecorator dojo/on dojo/topic dojo/_base/lang dojo/i18n!../../../../../nls/org-settings dojo/text!./templates/FederatedServersCard.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.templateString=q.default;this.servers=[];this.serverRows=[]}l.prototype.postMixInProperties=function(){this.inherited(arguments);this.i18n=a.__assign(a.__assign({},
this.i18n.common),this.i18n.serversTab.federatedServers);this.i18n.keywords=n.default.keywords};l.prototype.show=function(){this.inherited(arguments);this.validateServers()};l.prototype.render=function(){var c=this;this.showHeaderButtons();this._title.textContent=this.name;this._description.textContent=this.description;this._content.innerHTML="";this.portal.isKubernetes()&&(this.servers=this.servers.filter(function(d){return"HOSTING_SERVER"!==d.serverRole}));this.servers=this.servers.filter(function(d){return"ARCGIS_VELOCITY_SERVER"!==
d.serverType});this.servers.forEach(function(d){d=c.addFederatedServerRow(d);c._content.appendChild(d.domNode)});setTimeout(function(){(0,r.dropdown)()},500);this.inherited(arguments)};l.prototype.addEventListeners=function(){this.inherited(arguments);this.own((0,v.default)(this.addBtn,"click",this.handleAddClick.bind(this)),(0,v.default)(this.validateBtn,"click",this.handleValidateClick.bind(this)),g.default.subscribe("federate-server-register",this.handleServerFederated.bind(this)),g.default.subscribe("federated-servers/update",
this.refreshFederatedServer.bind(this)),g.default.subscribe("federated-servers/servers-refreshed",this.refreshFederatedServers.bind(this)))};l.prototype.showHeaderButtons=function(){m.default.showNode(this._btnContainer)};l.prototype.handleAddClick=function(){(new u.default({portal:this.portal,opener:this.addBtn})).open()};l.prototype.handleValidateClick=function(){this.validateServers()};l.prototype.refreshFederatedServer=function(c){var d=f.default.findIndex(this.servers,function(z){return z.id===
c.id}),w=f.default.find(this.serverRows,function(z){return z.server.id===c.id});if(-1<d&&w){var t=a.__assign(a.__assign({},this.servers[d]),c);this.updateFederatedServer(d,w,t)}};l.prototype.refreshFederatedServers=function(c){var d=this;c.forEach(function(w){var t=f.default.findIndex(d.servers,function(x){return x.id===w.id}),z=f.default.find(d.serverRows,function(x){return x.server.id===w.id});-1<t&&z?d.updateFederatedServer(t,z,w):d.addFederatedServer(w)})};l.prototype.computeServerLabels=function(c){return c.map(function(d){var w=
p.default.clone(d);w.label=d.url.substring(d.url.indexOf("://")+3);return w})};l.prototype.validateServers=function(){var c=this;this.setValidating(!0);var d=[];this.serverRows.forEach(function(w){d.push(w.validateServer())});h.default.eachAlways(d).then(function(){c.setValidating(!1)})};l.prototype.setValidating=function(c){this.validateBtn.disabled=c;this.validateBtn.innerHTML=c?this.i18n.validating:this.i18n.validate};l.prototype.handleServerFederated=function(c){c=this.computeServerLabels([c]).shift();
c=this.addFederatedServer(c);this._content.appendChild(c.domNode);this.requestFederatedServerRefresh();setTimeout(function(){(0,r.dropdown)()},500)};l.prototype.requestFederatedServerRefresh=function(){g.default.publish("federated-servers/refresh-servers")};l.prototype.addFederatedServer=function(c){this.servers.push(c);c=this.addFederatedServerRow(c);c.validateServer();return c};l.prototype.addFederatedServerRow=function(c){c=new k.default({server:c,portal:this.portal});this.serverRows.push(c);return c};
l.prototype.updateFederatedServer=function(c,d,w){this.servers[c]=a.__assign(a.__assign({},this.servers[c]),w);d.update(w)};return l=a.__decorate([(0,e.default)(b.default)],l)}()})},"arcgisonline/pages/organization/widgets/settings/rows/FederatedServerRow":function(){define("require exports tslib dojo/Deferred dojo/string dojo/on dojo/text!./templates/FederatedServerRow.html dojo/i18n!../../../../../nls/org-settings dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick esri/Evented ../../../../utils/icons ../../../../utils/alerts ../ServerDetailsOverlay ../ServerUrlsOverlay ../../../../dijit/TextboxWithValidation/TextboxWithValidation ../../../../utils/dom ../settings-shared arcgisonline/tsutils/declareDecorator ../../../../../sharing/util ../../../../../esriGeowConfig ../FederateServerOverlay".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);return function(){function y(A,
B){this.templateString=m.default;this.i18n=a.__assign(a.__assign({},h.default.common),h.default.serversTab.federatedServers);this.icons=g.default;this.serverFunctions=[];this.NOTEBOOK_SERVER="ARCGIS_NOTEBOOK_SERVER";this.MISSION_SERVER="ARCGIS_MISSION_SERVER";this.VIDEO_SERVER="ARCGIS_VIDEO_SERVER"}y.prototype.postCreate=function(){this.inherited(arguments);this.nameInput=new l.default({labelText:this.i18n.editServerName.label,labelDescription:this.i18n.editServerName.description,requiredMsg:this.i18n.editServerName.required},
this.domNode.querySelector(".js-name-input"));this.nameInput.setValue(this.server.name);c.default.showHide(this.typeEl.parentElement,!this.portal.isKubernetes());c.default.showHide(this.configureBtn,!this.portal.isKubernetes());this.addEventListeners();this.update(this.server,!0)};y.prototype.update=function(A,B){this.updateServerName(A.name);this.updateServerLink(A);B&&this.updateServerStatus(A);this.updateType(A)};y.prototype.addEventListeners=function(){var A=this;this.own((0,e.default)(this.titleEl,
function(){A.domNode.classList.toggle("is-active")}),(0,e.default)(this.typeEl,function(B){var D;null===(D=null===B||void 0===B?void 0:B.stopPropagation)||void 0===D?void 0:D.call(B);A.configureServer(A.typeEl)}),(0,f.default)(this.detailsBtn,"click",function(B){B.stopPropagation();A.viewDetails()}),(0,f.default)(this.validateBtn,"click",function(B){B.stopPropagation();c.default.deactivateNode(A.actions);A.validateServer();A.actionsBtn.focus()}),(0,f.default)(this.configureBtn,"click",function(B){B.stopPropagation();
A.configureServer(A.actionsBtn)}),(0,f.default)(this.urlsBtn,"click",function(B){B.stopPropagation();A.editUrls()}),(0,f.default)(this.editNameBtn,"click",function(B){B.stopPropagation();c.default.showNode(A.nameForm)}),(0,f.default)(this.cancelNameBtn,"click",function(){A.handleCancelName()}),(0,f.default)(this.saveNameBtn,"click",function(){A.handleSaveName()}),(0,f.default)(this.nameForm,"click",function(B){B.stopPropagation()}))};y.prototype.handleCancelName=function(){c.default.hideNode(this.nameForm);
this.nameInput.setValue(this.server.name)};y.prototype.handleSaveName=function(){var A=this;if(this.nameInput.validate()){var B=this.nameInput.getValue(),D=this.i18n.editServerName,C=D.success,E=D.error;t.default.request({url:"".concat(z.default.restBaseUrl,"portals/self/servers/").concat(this.server.id,"/update"),content:{name:B}},{usePost:!0}).then(function(H){A.urlTitle.textContent=B;A.updateServerName(B);c.default.hideNode(A.nameForm);p.default.showAlert("success",C)},function(){p.default.showAlert("error",
E)})}};y.prototype.configureServer=function(A){(new x.default({portal:this.portal,opener:A})).edit(this.server)};y.prototype.editUrls=function(){var A=this,B=new q.default({server:this.server,portal:this.portal});B.open();f.default.once(B,"updated",function(D){var C=D.adminUrl;A.server.url=D.url;A.server.adminUrl=C;A.serviceUrlLink.textContent=A.serviceUrlLink.href=A.urlTitle.textContent=A.server.url;A.updateServerLink(A.server);A.validateServer()})};y.prototype.validateServer=function(){var A=this,
B=new b.default;this.statusEl.innerHTML='\x3cdiv class\x3d"org-settings__save-loader margin-right-1 inline-block" \x3e\x3c/div\x3e'.concat(this.i18n.status.validating);this.statusEl.className="flex flex-align-center";var D="/federation/servers/".concat(this.server.id,"/validate");D="".concat(t.default.getPortalAdminBaseUrl()).concat(this.portal.isKubernetes()?"/orgs/".concat(this.portal.id):"").concat(D);this.server.id?t.default.request({url:D},{useProxy:z.default.isDebug}).then(function(C){if(C.serverId&&
C.serverId===A.server.id){var E=C.status;C=C.messages;A.server.status="success"===E?"valid":"success with warnings"===E?"warn":"invalid";A.server.message=C.join(" ");A.updateServerStatus(A.server)}B.resolve()}):B.resolve();return B};y.prototype.viewDetails=function(){(new n.default({server:this.server,serverFunctions:this.serverFunctions,portal:this.portal})).open()};y.prototype.updateType=function(A){this.typeEl.textContent=this.getTypeLabel(A)};y.prototype.getTypeLabel=function(A){var B=A.serverFunction?
A.serverFunction.split(","):[];A.isHosted&&B.push(d.ServerFunction.Hosting);this.serverFunctions=B;return 0<B.length?B.reduce(function(D,C){var E;C=(null===(E=d.ServerTypeInfo[C])||void 0===E?void 0:E.name)||"";return"".concat(D).concat(D&&C?", ":""," ").concat(C)},""):this.i18n.configureType};y.prototype.updateServerName=function(A){this.server.name=A;this.actionsBtn.setAttribute("aria-label",k.default.substitute(this.i18n.actions.open,{name:A}))};y.prototype.updateServerLink=function(A){var B=this;
var D=A.serverType?A.serverType.split(","):[];D.some(function(C){return C===B.NOTEBOOK_SERVER})?D=z.default.baseUrl+"notebook/manager.html":(D=D.some(function(C){return C===B.MISSION_SERVER||C===B.VIDEO_SERVER})?"/admin":"/manager",D="".concat(A.adminUrl).concat(D));A='\x3ccalcite-link href\x3d"'.concat(D,'" target\x3d"_blank"\x3e').concat(A.adminUrl,"\x3c/calcite-link\x3e");this.serverEl.innerHTML=A};y.prototype.updateServerStatus=function(A){var B=this.i18n.status,D=B.valid,C=B.warn,E=B.invalid;
B=B.validating;if(A.status){var H=A.message?A.message:"",G=void 0,F="";switch(A.status){case "valid":G=g.default.inline["check-circle"]["24"];F=D;break;case "warn":G=g.default.inline["exclamation-mark-triangle"]["24"];F=C;break;case "invalid":G=g.default.inline["exclamation-mark-circle"]["24"];F=E;break;default:G='\x3cdiv class\x3d"org-settings__save-loader margin-right-1 inline-block" \x3e\x3c/div\x3e',F=B}this.statusEl.innerHTML='\x3cspan class\x3d"'.concat(H?"tooltip tooltip-multiline tooltip-wide":
"",'" aria-label\x3d"').concat(H?H:"",'"\x3e').concat(G," ").concat(F,"\x3c/span\x3e");this.statusEl.className="flex flex-align-center ".concat(F===B?"":"fed-server__status--".concat(A.status))}else this.statusEl.innerHTML='\x3cdiv class\x3d"org-settings__save-loader margin-right-1 inline-block" \x3e\x3c/div\x3e'.concat(this.i18n.status.validating),this.statusEl.className="flex flex-align-center"};return y=a.__decorate([(0,w.default)(r.default,u.default,v.default)],y)}()})},"arcgisonline/pages/organization/widgets/settings/ServerDetailsOverlay":function(){define("require exports tslib dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/text!./templates/ServerDetailsOverlay.html dojo/text!./ServerDetails/templates/TypeInfo.html dojo/text!./ServerDetails/templates/LicenseRow.html dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/serviceUtil arcgisonline/pages/utils/dom arcgisonline/pages/utils/formatters arcgisonline/pages/dijit/Overlay ./settings-shared arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);return function(){function t(z,x){this.title="";this.i18n=b.default;this.icons=v.default;
this.i18nSettings=a.__assign(a.__assign(a.__assign({},k.default.common),k.default.serversTab.federatedServers),k.default.serversTab.serverDetails);this.maxWidth=900;this.closeOnScrimClick=!1;this.constrain=!0;this.workgroup="";z=z.server;this.title=f.default.substitute(this.i18nSettings.title,{serverName:z.name});this.overlayContents=f.default.substitute(m.default,{i18n:this.i18n,i18nSettings:this.i18nSettings,chevronDown:this.icons["chevron-down"]["24"],server:z})}t.prototype.postCreate=function(){var z=
this;this.inherited(arguments);var x=this.domNode.querySelector(".js-desc");x.innerHTML=this.i18nSettings.description;d.default.isArcGISEnterpriseOnKubernetes()||(x.innerHTML+=' \x3ca href\x3d"'.concat(this.portal.helpBase).concat(this.portal.helpMap.m["120002641"]||"",'" target\x3d"_blank"\x3e').concat(this.i18nSettings.learnMore,"\x3c/a\x3e"));g.default.getServerLicenseInfo(this.server.adminUrl).then(function(y){var A;"svrworkgroup"===(null===(A=y.level)||void 0===A?void 0:A.name)&&(z.workgroup=
z.i18nSettings.workgroup);y.features&&(z.renderRoles(y.features),z.renderExtensions(y.features))});this.renderAdminUrl(this.server);this.renderServerTypes(this.serverFunctions);p.default.hideNode(this._cancelBtn);this._primaryBtn.textContent=this.i18nSettings.close};t.prototype.open=function(){this.inherited(arguments)};t.prototype.close=function(){this.inherited(arguments)};t.prototype.handlePrimary=function(){this.close()};t.prototype.renderRoles=function(z){var x=this,y={esriServerLicenseAdvanced:"ArcGIS GIS Server ${workgroup} Advanced",
esriServerLicenseStandard:"ArcGIS GIS Server ${workgroup} Standard",esriServerLicenseBasic:"ArcGIS GIS Server ${workgroup} Basic",esriServerImg:"ArcGIS Image Server",esriServerGeoAnalytics:"ArcGIS GeoAnalytics Server",esriServerGeoEvent:"ArcGIS GeoEvent Server",esriServerBusiness:"ArcGIS Business Analyst Enterprise",esriServerKnowledge:"ArcGIS Knowledge Server",esriServerWorkflow:"ArcGIS Workflow Manager Server Standard",esriServerWorkflowAdvanced:"ArcGIS Workflow Manager Server Advanced",esriServerNoteBooksStandard:"ArcGIS Notebook Server Standard",
esriServerNoteBooksAdvanced:"ArcGIS Notebook Server Advanced",esriServerMission:"ArcGIS Mission Server",esriServerVideo:"ArcGIS Video Server"};z=z.filter(function(A){return y[A.name]}).sort(function(A,B){A=f.default.substitute(y[A.name],{workgroup:x.workgroup});B=f.default.substitute(y[B.name],{workgroup:x.workgroup});return A>B?1:A<B?-1:0});z=z.reduce(function(A,B){if(y[B.name]){var D=f.default.substitute(y[B.name],{workgroup:x.workgroup});B=B.canExpire?n.default.fullDate(B.expiration):x.i18nSettings.never;
return"".concat(A).concat(f.default.substitute(u.default,{name:D,expiration:B}))}return A},"");(this.domNode.querySelector(".js-license-roles").innerHTML=z)||p.default.hideNode(this.domNode.querySelector(".js-license-roles-card"))};t.prototype.renderExtensions=function(z){var x=this,y="capacitysvr_4 capacitysvr_2 runtimestandard runtimebasic runtime3d runtimenetwork runtimespatial defenseintlsvr duntimespatial defenseussvr esriRuntimeStandard esriRuntimeBasic esriRuntimeNetwork esriRuntimeSpatial esriRuntime3D esriServerSchematics esriServerGeoStat esriServer3D esriServerSpatial esriServerSDEEnterprise esriServerSDEWorkgroup esriServerLicenseAdvanced esriServerLicenseStandard esriServerLicenseBasic esriServerImg esriServerGeoAnalytics esriServerGeoEvent esriServerBusiness esriServerEnterprise esriServerKnowledge esriServerWorkflow esriServerWorkflowAdvanced esriServerNoteBooksStandard esriServerNoteBooksAdvanced esriServerMission esriServerVideo".split(" ");
z=z.reduce(function(A,B){if(-1<B.name.indexOf("portal_")||-1<y.indexOf(B.name))return A;var D=B.canExpire?n.default.fullDate(B.expiration):x.i18nSettings.never;return"".concat(A).concat(f.default.substitute(u.default,{name:"".concat(B.displayName).concat("ArcGIS Workflow Manager"===B.displayName?" (Classic)":""),expiration:D}))},"");(this.domNode.querySelector(".js-license-extensions").innerHTML=z)||p.default.hideNode(this.domNode.querySelector(".js-licenses-extensions-card"))};t.prototype.renderAdminUrl=
function(z){var x,y,A;((null===(x=z.serverType)||void 0===x?void 0:x.split(","))||[]).forEach(function(B){B===l.ServerType.Notebook?y=!0:B===l.ServerType.Mission&&(A=!0)});x="";x=y?"".concat(c.default.baseUrl,"notebook/manager.html"):"".concat(z.adminUrl,"/").concat(A?"admin":"manager");this.domNode.querySelector(".js-admin-url").innerHTML='\x3ca href\x3d"'.concat(x,'" target\x3d"_blank"\x3e').concat(z.adminUrl,"\x3c/a\x3e")};t.prototype.renderServerTypes=function(z){null!==z&&void 0!==z&&z.length?
this.domNode.querySelector(".js-types-container").innerHTML=z.reduce(function(x,y){return"".concat(x).concat(f.default.substitute(h.default,l.ServerTypeInfo[y]))},""):p.default.showNode(this.domNode.querySelector(".js-no-type-desc"))};return t=a.__decorate([(0,w.default)(e.default,r.default,q.default)],t)}()})},"arcgisonline/pages/organization/widgets/settings/ServerUrlsOverlay":function(){define("require exports tslib esri/Evented dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/string dojo/on dojo/text!./templates/ServerUrlsOverlay.html arcgisonline/pages/utils/icons arcgisonline/pages/dijit/Overlay arcgisonline/pages/utils/alerts arcgisonline/pages/utils/validation arcgisonline/esriGeowConfig arcgisonline/sharing/util arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);return function(){function l(c,d){this.title="";this.i18n=k.default;this.icons=r.default;this.i18nSettings=a.__assign(a.__assign(a.__assign({},f.default.serversTab.federateServer),
f.default.serversTab.federatedServers),f.default.serversTab.serverURLs);this.maxWidth=700;this.closeOnScrimClick=!1;this.constrain=!0;var w=c.server;this.title=m.default.substitute(this.i18nSettings.title,{serverName:w.name});this.inherited(arguments);this.overlayContents=m.default.substitute(u.default,{i18n:this.i18n,i18nSettings:this.i18nSettings,exclamation:this.icons.inline["exclamation-mark-circle"]["16"],server:w})}l.prototype.postCreate=function(){var c=this;this.inherited(arguments);this.serviceUrlInput=
this.domNode.querySelector(".js-url-input");this.adminUrlInput=this.domNode.querySelector(".js-admin-url-input");this.serviceUrlError=this.domNode.querySelector(".js-service-url-error");this.adminUrlError=this.domNode.querySelector(".js-admin-url-error");this.own((0,h.default)(this.serviceUrlInput,"input",function(){c.validateInput(c.serviceUrlInput,c.serviceUrlError)}),(0,h.default)(this.adminUrlInput,"input",function(){c.validateInput(c.adminUrlInput,c.adminUrlError)}))};l.prototype.open=function(){this.inherited(arguments)};
l.prototype.close=function(){this.inherited(arguments)};l.prototype.handlePrimary=function(){var c=this;if(this.validateForm()){var d=this.serviceUrlInput.value.trim(),w=this.adminUrlInput.value.trim();n.default.request({url:"".concat(p.default.restBaseUrl,"portals/self/servers/").concat(this.server.id,"/update"),content:a.__assign(a.__assign({},this.server),{url:d,adminUrl:w})},{usePost:!0}).then(function(t){t.error?v.default.showAlert("error",c.i18nSettings.error):(c.server.url=d,c.server.adminUrl=
w,v.default.showAlert("success",c.i18nSettings.success),c.emit("updated",{url:d,adminUrl:w}),c.close())},function(){v.default.showAlert("error",c.i18nSettings.error)})}};l.prototype.validateInput=function(c,d){var w=!c.value.trim();g.default.toggleError(c,d,w);return!w};l.prototype.validateForm=function(){return this.validateInput(this.serviceUrlInput,this.serviceUrlError)&&this.validateInput(this.adminUrlInput,this.adminUrlError)};return l=a.__decorate([(0,q.default)(e.default,b.default)],l)}()})},
"arcgisonline/pages/organization/widgets/settings/FederateServerOverlay":function(){define("require exports tslib ../../../../esriGeowConfig ../../../pageUtil ../../../serviceUtil ../../../dijit/Overlay/OverlayWithSteps ../../../dijit/ToggleSwitch ../../../dijit/InfoTooltip ../../../utils/alerts ../../../utils/arrays ../../../utils/dom ../../../utils/icons ../../../utils/validation ../../../../sharing/util ../../../../tsutils/declareDecorator dojo/_base/kernel dojo/string dojo/on dojo/promise/all dojo/topic dojo/Deferred dojo/_base/url dijit/a11yclick dijit/popup dijit/TooltipDialog dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!./templates/FederateServerOverlay.html dojo/text!../../../../sharing/dijit/dialog/templates/AdministrationUrlExamples.html".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);t=a.__importDefault(t);z=a.__importDefault(z);
x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);var G;(function(I){I.GeoAnalytics="GeoAnalytics";I.Hosting="Hosting";I.ImageHosting="ImageHosting";I.KnowledgeServer="KnowledgeServer";I.RasterAnalytics="RasterAnalytics";I.MissionServer="MissionServer";I.NotebookServer="NotebookServer";I.WorkflowManager="WorkflowManager";I.VideoServer="VideoServer"})(G||(G={}));var F;
(function(I){I.MissionServer="ARCGIS_MISSION_SERVER";I.NotebookServer="ARCGIS_NOTEBOOK_SERVER";I.VideoServer="ARCGIS_VIDEO_SERVER";I.ArcGISServer="ArcGIS"})(F||(F={}));return function(){function I(J,K){var P,T;this.title=C.default.serversTab.federateServer.title;this.i18n=D.default;this.constrain=!0;this.background="white";this.maxWidth=900;this.closeOnScrimClick=!1;this.configs=[{stepNum:1,text:C.default.serversTab.federateServer.step1,titleTemplate:C.default.serversTab.federateServer.step1,buttonText:D.default.common.next,
cancelButtonText:D.default.common.cancel,active:!0},{stepNum:2,text:C.default.serversTab.federateServer.step2,titleTemplate:C.default.serversTab.federateServer.step2,buttonText:C.default.serversTab.federateServer.saveType,cancelButtonText:D.default.common.done}];this.getServersPath="/federation/servers";this.registerServerPath="/federation/servers/federate";this.alreadyConfigured=(P={},P[G.GeoAnalytics]=!1,P[G.Hosting]=!1,P[G.ImageHosting]=!1,P[G.KnowledgeServer]=!1,P[G.VideoServer]=!1,P[G.MissionServer]=
!1,P[G.NotebookServer]=!1,P[G.RasterAnalytics]=!1,P[G.WorkflowManager]=!1,P);this.requirementsMessages=(T={},T[G.GeoAnalytics]=[],T[G.Hosting]=[],T[G.ImageHosting]=[],T[G.KnowledgeServer]=[],T[G.VideoServer]=[],T[G.MissionServer]=[],T[G.NotebookServer]=[],T[G.RasterAnalytics]=[],T[G.WorkflowManager]=[],T);this.requirementsOrientation=["above-centered","below-centered"]}I.prototype.postMixInProperties=function(){var J;this.inherited(arguments);this.overlayContents=c.default.substitute(E.default,{i18n:a.__assign(a.__assign(a.__assign(a.__assign({},
D.default.federateServerDlg),C.default.common),C.default.serversTab),C.default.serversTab.federateServer),icons:g.default});this.docUrl="".concat(b.default.self.helpBase).concat((null===(J=b.default.self.helpMap)||void 0===J?void 0:J.m["120001765"])||"")};I.prototype.open=function(){this.inherited(arguments);this.domNode.classList.add("fed-server-overlay");(this.editing||this.portal.isKubernetes())&&this.hideSteps();this.initUI()};I.prototype.edit=function(J){this.registeredServer=J;this.editing=
!0;this.open()};I.prototype.close=function(){var J;t.default.publish("federated-servers/refresh-servers");null===(J=this.requirementsDlg)||void 0===J?void 0:J.destroy();this.closeMissingRequirements();this.inherited(arguments)};I.prototype.hideSteps=function(){this.inherited(arguments);this.domNode.classList.add("federate-server-overlay__edit");this._overlay.classList.remove("overlay--white");this._overlay.classList.add("overlay--off-white")};I.prototype.initUI=function(){var J=this;this.initOverlay();
var K=a.__assign(a.__assign({},D.default.common),D.default.federateServerDlg);new u.default({content:c.default.substitute(H.default,{i18n:K,link:{helpLink:this.docUrl},hide:n.default.isArcGISEnterpriseOnKubernetes()?"hide":"",hideVideoServer:!b.default.videoServerEnabled||n.default.isArcGISEnterpriseOnKubernetes()?"hide":""}),buttonAriaLabel:K.adminUrlExamples,buttonClasses:"tooltip",tooltipId:"federateServerOverlay__url_examples"},this.domNode.querySelector(".js-admin-url-info"));this.editing&&(this._overlayContentWrapper.style.visibility=
"hidden",this.setRegistering(!0));this.initServerTypeSwitches();this.getCurrentServers().then(function(){J.initAvailableServerTypes();J.initConfiguredServers();J.initEditServer();J.editing&&J.loadServerInfo()})};I.prototype.initOverlay=function(){var J;this._overlayTitleBar.classList.add("padding-left-2");v.default.addClasses(this.domNode,["hosting-server-overlay","hosting-server-overlay--set"]);v.default.addClasses(this.stepsHeader.domNode,["padding-left-2","padding-right-2"]);this._overlayLoader.classList.add("federate-server-overlay__loader-container");
this._overlayLoaderText.innerHTML=this.editing?C.default.serversTab.federateServer.loading:C.default.serversTab.federateServer.addingServer;this.editing&&(this.overlayTitle.innerText=c.default.substitute(C.default.serversTab.federateServer.editTitle,{name:this.registeredServer.name}),this.configs[1].buttonText=C.default.common.save,this._primaryBtn.textContent=C.default.common.save);this.portal.isKubernetes()&&(this.configs[1].buttonText=C.default.common.save,this._primaryBtn.textContent=C.default.common.save);
this.domNode.querySelector(".js-learn-server-roles").href="".concat(b.default.self.helpBase).concat((null===(J=b.default.self.helpMap)||void 0===J?void 0:J.m["120002640"])||"");this.serviceUrl=this.domNode.querySelector(".js-service-url");this.serviceUrlError=this.domNode.querySelector(".js-service-url-error");this.adminUrl=this.domNode.querySelector(".js-admin-url");this.adminUrlError=this.domNode.querySelector(".js-admin-url-error");this.username=this.domNode.querySelector(".js-username");this.usernameError=
this.domNode.querySelector(".js-username-error");this.password=this.domNode.querySelector(".js-password");this.passwordError=this.domNode.querySelector(".js-password-error");this.hostingContainer=this.domNode.querySelector(".js-hosting-container");this.hostingLicense=this.domNode.querySelector(".js-hosting-license");this.hostingConfigured=this.domNode.querySelector(".js-hosting-configured");this.imageHostingContainer=this.domNode.querySelector(".js-imagehosting-container");this.imageHostingLicense=
this.domNode.querySelector(".js-imagehosting-license");this.imageHostingConfigured=this.domNode.querySelector(".js-imagehosting-configured");this.geoanalyticsContainer=this.domNode.querySelector(".js-geoanalytics-container");this.geoanalyticsLicense=this.domNode.querySelector(".js-geoanalytics-license");this.geoanalyticsConfigured=this.domNode.querySelector(".js-geoanalytics-configured");this.rasterAnalysisContainer=this.domNode.querySelector(".js-rasteranalysis-container");this.rasterAnalysisLicense=
this.domNode.querySelector(".js-rasteranalysis-license");this.rasterAnalysisConfigured=this.domNode.querySelector(".js-rasteranalysis-configured");this.missionContainer=this.domNode.querySelector(".js-mission-container");this.missionLicense=this.domNode.querySelector(".js-mission-license");this.missionConfigured=this.domNode.querySelector(".js-mission-configured");this.videoContainer=this.domNode.querySelector(".js-video-container");this.videoLicense=this.domNode.querySelector(".js-video-license");
this.videoConfigured=this.domNode.querySelector(".js-video-configured");this.notebookContainer=this.domNode.querySelector(".js-notebook-container");this.notebookLicense=this.domNode.querySelector(".js-notebook-license");this.notebookConfigured=this.domNode.querySelector(".js-notebook-configured");this.workflowContainer=this.domNode.querySelector(".js-workflow-container");this.workflowLicense=this.domNode.querySelector(".js-workflow-license");this.workflowConfigured=this.domNode.querySelector(".js-workflow-configured");
this.knowledgeContainer=this.domNode.querySelector(".js-knowledge-container");this.knowledgeLicense=this.domNode.querySelector(".js-knowledge-license");this.knowledgeConfigured=this.domNode.querySelector(".js-knowledge-configured");this.requirementsPopover=this.domNode.querySelector(".js-requirements");this.requirementsPopoverContent=this.domNode.querySelector(".js-requirements-content");this.requirementsCloseIcon=this.domNode.querySelector(".js-requirements-close");this.requirementsDlg=new B.default({id:"missing-requirements",
class:"popover",title:this.title,content:this.requirementsPopover});this.initEventListeners()};I.prototype.initEventListeners=function(){var J=this;this.own((0,y.default)(this.domNode.querySelector(".js-hosting-license"),this.showMissingRequirements.bind(this,G.Hosting)),(0,y.default)(this.domNode.querySelector(".js-imagehosting-license"),this.showMissingRequirements.bind(this,G.ImageHosting)),(0,y.default)(this.domNode.querySelector(".js-geoanalytics-license"),this.showMissingRequirements.bind(this,
G.GeoAnalytics)),(0,y.default)(this.domNode.querySelector(".js-rasteranalysis-license"),this.showMissingRequirements.bind(this,G.RasterAnalytics)),(0,y.default)(this.domNode.querySelector(".js-mission-license"),this.showMissingRequirements.bind(this,G.MissionServer)),(0,y.default)(this.domNode.querySelector(".js-video-license"),this.showMissingRequirements.bind(this,G.VideoServer)),(0,y.default)(this.domNode.querySelector(".js-notebook-license"),this.showMissingRequirements.bind(this,G.NotebookServer)),
(0,y.default)(this.domNode.querySelector(".js-workflow-license"),this.showMissingRequirements.bind(this,G.WorkflowManager)),(0,y.default)(this.domNode.querySelector(".js-knowledge-license"),this.showMissingRequirements.bind(this,G.KnowledgeServer)),(0,y.default)(this.requirementsCloseIcon,function(){A.default.close(J.requirementsDlg);J.requirementsOpener.focus()}),(0,d.default)(this.requirementsPopover,"click",function(K){K.stopPropagation()}))};I.prototype.getCurrentServers=function(){var J=this,
K=new z.default;this.portal.getFederatedServers().then(function(P){var T;J.currentServers=null!==(T=null===P||void 0===P?void 0:P.servers)&&void 0!==T?T:[];J.currentServers.forEach(function(L){var N;return L.name=null!==(N=L.name)&&void 0!==N?N:L.url.substring(L.url.indexOf("://")+3)});var S=e.default.findIndex(J.currentServers,function(L){return L.isHosted});-1<S?f.default.isBackedBySDS(J.currentServers[S]).then(function(L){J.currentServers[S].isSDS=L;J.separateServers();K.resolve(J.currentServers)}):
(J.separateServers(),K.resolve(J.currentServers))},function(P){J.currentServers=[];K.resolve(J.currentServers)});return K};I.prototype.getServer=function(J){var K=new z.default;J="".concat(b.default.restBaseUrl,"portals/self/servers/").concat(J);n.default.request({url:J}).then(function(P){K.resolve(P)},function(){K.resolve(void 0)});return K};I.prototype.separateServers=function(){var J=this;if(this.editing){var K=e.default.findIndex(this.currentServers,function(P){return P.id===J.registeredServer.id});
-1<K&&(this.registeredServer=this.currentServers.splice(K,1).shift())}};I.prototype.initAvailableServerTypes=function(){v.default.showHide(this.missionContainer,!!b.default.missionServerEnabled);v.default.showHide(this.notebookContainer,!!b.default.notebookServerEnabled);v.default.showHide(this.workflowContainer,!!b.default.workflowManagerServerEnabled);v.default.showHide(this.videoContainer,!!b.default.videoServerEnabled)};I.prototype.initConfiguredServers=function(){var J=this;(this.editing?this.currentServers.concat([this.registeredServer]):
this.currentServers).forEach(function(K){K.isHosted&&(J.hostingSwitch.disable(),J.editing&&(!J.editing||K.id===J.registeredServer.id)||J.isAlreadyConfiguredOnAnotherServer(G.Hosting)||J.setServerTypeConfigured(J.hostingConfigured,K.name,G.Hosting,J.hostingSwitch));K.serverFunction&&(!J.editing||J.editing&&K.id!==J.registeredServer.id)&&K.serverFunction.split(",").forEach(function(P){P!==G.GeoAnalytics||J.isAlreadyConfiguredOnAnotherServer(G.GeoAnalytics)||J.setServerTypeConfigured(J.geoanalyticsConfigured,
K.name,G.GeoAnalytics,J.geoanalyticsSwitch);P!==G.ImageHosting||J.isAlreadyConfiguredOnAnotherServer(G.ImageHosting)||J.setServerTypeConfigured(J.imageHostingConfigured,K.name,G.ImageHosting,J.imageHostingSwitch);P!==G.MissionServer||J.isAlreadyConfiguredOnAnotherServer(G.MissionServer)||J.setServerTypeConfigured(J.missionConfigured,K.name,G.MissionServer,J.missionSwitch);P!==G.VideoServer||J.isAlreadyConfiguredOnAnotherServer(G.VideoServer)||J.setServerTypeConfigured(J.videoConfigured,K.name,G.VideoServer,
J.videoSwitch);P!==G.NotebookServer||J.isAlreadyConfiguredOnAnotherServer(G.NotebookServer)||J.setServerTypeConfigured(J.notebookConfigured,K.name,G.NotebookServer,J.notebookSwitch);P!==G.RasterAnalytics||J.isAlreadyConfiguredOnAnotherServer(G.RasterAnalytics)||J.setServerTypeConfigured(J.rasterAnalysisConfigured,K.name,G.RasterAnalytics,J.rasterAnalysisSwitch);P!==G.WorkflowManager||J.isAlreadyConfiguredOnAnotherServer(G.WorkflowManager)||J.setServerTypeConfigured(J.workflowConfigured,K.name,G.WorkflowManager,
J.workflowSwitch);P!==G.KnowledgeServer||J.isAlreadyConfiguredOnAnotherServer(G.KnowledgeServer)||J.setServerTypeConfigured(J.knowledgeConfigured,K.name,G.KnowledgeServer,J.knowledgeSwitch)})})};I.prototype.isAlreadyConfiguredOnAnotherServer=function(J){return!!this.alreadyConfigured[J]};I.prototype.isAlreadyConfiguredOnThisServer=function(J){return-1<this.registeredServer.serverFunction.indexOf(J)};I.prototype.isAlreadyConfigured=function(J){return this.isAlreadyConfiguredOnThisServer(J)||this.isAlreadyConfiguredOnAnotherServer(J)};
I.prototype.setServerTypeConfigured=function(J,K,P,T){K=c.default.substitute(C.default.serversTab.federateServer.configuredOn,{serverName:K});J.innerHTML='\x3cspan class\x3d"blue"\x3e'.concat(g.default.inline["check-circle"]["16"],"\x3c/span\x3e ").concat(K);v.default.showNode(J);v.default.hideNode(T.domNode);this.alreadyConfigured[P]=!0};I.prototype.addMissingRequirement=function(J,K,P,T){this.requirementsMessages[P].push(T);this.isAlreadyConfiguredOnAnotherServer(P)||(v.default.hideNode(K.domNode),
v.default.showNode(J))};I.prototype.initServerTypeSwitches=function(){this.hostingSwitch=new h.default({labelClasses:"trailer-0",trackId:"hosting-toggle"},this.domNode.querySelector(".js-hosting-switch"));this.imageHostingSwitch=new h.default({labelClasses:"trailer-0",trackId:"image-hosting-toggle"},this.domNode.querySelector(".js-image-hosting-switch"));this.geoanalyticsSwitch=new h.default({labelClasses:"trailer-0",trackId:"geo-analytics-toggle"},this.domNode.querySelector(".js-geoanalytics-switch"));
this.rasterAnalysisSwitch=new h.default({labelClasses:"trailer-0",trackId:"raster-analysis-toggle"},this.domNode.querySelector(".js-raster-analysis-switch"));this.missionSwitch=new h.default({labelClasses:"trailer-0",trackId:"mission-toggle"},this.domNode.querySelector(".js-mission-switch"));this.videoSwitch=new h.default({labelClasses:"trailer-0",trackId:"video-toggle"},this.domNode.querySelector(".js-video-switch"));this.notebookSwitch=new h.default({labelClasses:"trailer-0",trackId:"notebook-toggle"},
this.domNode.querySelector(".js-notebook-switch"));this.workflowSwitch=new h.default({labelClasses:"trailer-0",trackId:"workflow-toggle"},this.domNode.querySelector(".js-workflow-switch"));this.knowledgeSwitch=new h.default({labelClasses:"trailer-0",trackId:"knowledge-toggle"},this.domNode.querySelector(".js-knowledge-switch"))};I.prototype.showMissingRequirements=function(J,K){var P;K.stopPropagation();this.requirementsOpener=K.target;J=this.requirementsMessages[J];K="".concat(b.default.self.helpBase).concat((null===
(P=b.default.self.helpMap)||void 0===P?void 0:P.m["120002640"])||"");this.requirementsPopoverContent.innerHTML="\x3cp\x3e".concat(J.join("\x3c/p\x3e\x3cp\x3e"),'\x3c/p\x3e\x3cp\x3e\x3ca href\x3d"').concat(K,'" target\x3d"_blank"\x3e').concat(C.default.serversTab.federateServer.learnServerRoleRequirements,"\x3c/a\x3e\x3c/p\x3e");A.default.open({popup:this.requirementsDlg,orient:this.requirementsOrientation,around:this.requirementsOpener});v.default.showNode(this.requirementsPopover);this.requirementsCloseIcon.focus();
this.requirementsBodyClickHandler=(0,d.default)(document.body,"click",this.closeMissingRequirements.bind(this))};I.prototype.closeMissingRequirements=function(){var J;A.default.close(this.requirementsDlg);null===(J=this.requirementsBodyClickHandler)||void 0===J?void 0:J.remove()};I.prototype.noOtherServerHasImageHostingEnabled=function(){return this.currentServers.every(function(J){var K;return-1===(null===(K=J.serverFunction)||void 0===K?void 0:K.indexOf(G.ImageHosting))})};I.prototype.initEditServer=
function(){var J=this,K;this.editing&&this.registeredServer&&(this.own((0,d.default)(this.rasterAnalysisSwitch,"change",function(P){J.editing&&J.noOtherServerHasImageHostingEnabled()&&(P?(J.imageHostingSwitch.check(),J.imageHostingSwitch.disable()):J.imageHostingSwitch.enable())})),this.registeredServer.isHosted&&(this.hostingSwitch.check(),this.hostingSwitch.disable()),((null===(K=this.registeredServer.serverFunction)||void 0===K?void 0:K.split(","))||[]).forEach(function(P){switch(P){case G.GeoAnalytics:J.geoanalyticsSwitch.check();
break;case G.ImageHosting:J.imageHostingSwitch.check();break;case G.RasterAnalytics:J.rasterAnalysisSwitch.check();J.noOtherServerHasImageHostingEnabled()&&(J.imageHostingSwitch.check(),J.imageHostingSwitch.disable());break;case G.MissionServer:J.missionSwitch.check();break;case G.VideoServer:J.videoSwitch.check();break;case G.NotebookServer:J.notebookSwitch.check();break;case G.WorkflowManager:J.workflowSwitch.check();break;case G.KnowledgeServer:J.knowledgeSwitch.check()}}))};I.prototype.handlePrimary=
function(){this.maxStepNum===this.currentStep?this.save():this.federate()};I.prototype.isValidInfo=function(J,K,P,T){var S=!0;if(this.isURL(J))p.default.clearState([this.serviceUrl,this.serviceUrlError]);else{S=!1;p.default.setInvalidState(this.serviceUrl,this.serviceUrlError,C.default.serversTab.federateServer.required.serviceUrl);var L=this.serviceUrl}this.isURL(K)?p.default.clearState([this.adminUrl,this.adminUrlError]):(S=!1,p.default.setInvalidState(this.adminUrl,this.adminUrlError,C.default.serversTab.federateServer.required.adminUrl),
L=this.adminUrl);P&&0!==P.length?p.default.clearState([this.username,this.usernameError]):(S=!1,p.default.setInvalidState(this.username,this.usernameError,C.default.serversTab.federateServer.required.username),L=this.username);T&&0!==T.length?p.default.clearState([this.password,this.passwordError]):(S=!1,p.default.setInvalidState(this.password,this.passwordError,C.default.serversTab.federateServer.required.password),L=this.password);null===L||void 0===L?void 0:L.focus();return S};I.prototype.isURL=
function(J){return 0<(null===J||void 0===J?void 0:J.length)&&-1<J.indexOf("http")&&-1<J.indexOf("://")};I.prototype.isNotRegistered=function(J,K){for(var P=!0,T=0;T<this.currentServers.length;T++){var S=this.currentServers[T];if(S.url===J||S.adminUrl===K||S.url===K||S.adminUrl===J){P=!1;break}}return P};I.prototype.setRegistering=function(J){this._primaryBtn.disabled=J;v.default.addRemoveClass(this._overlayLoader,"is-active",J)};I.prototype.stripTrailingSlash=function(J){if(J){var K=J.indexOf("/",
J.length-1);if(-1!==K)return J.substring(0,K)}return J};I.prototype.cleanUrl=function(J){var K=null===J||void 0===J?void 0:J.match(/^http.+(arcgis)$/gi);K=0<(null===K||void 0===K?void 0:K.length)?K[0]:null;null===K&&(K=this.stripTrailingSlash(J));return K};I.prototype.publishServerRegistered=function(J,K,P,T,S,L,N){var O=(new x.default(P)).authority,Q=K.substring(K.indexOf("://")+3);this.registeredServer=J={id:J,url:K,name:O,label:Q,adminUrl:P,username:T,password:S,isHosted:!1,serverFunction:"",serverType:L,
serverRole:N};t.default.publish("federate-server-register",J)};I.prototype.registerServer=function(J,K,P,T){var S="".concat(n.default.getPortalAdminBaseUrl()).concat(this.portal.isKubernetes()?"/orgs/".concat(this.portal.id):"").concat(this.registerServerPath);return n.default.request({url:S,content:{url:J,adminUrl:K,username:P,password:T,culture:l.default.locale}},{usePost:!0})};I.prototype.federate=function(){var J=this,K=this.cleanUrl(this.serviceUrl.value),P=this.cleanUrl(this.adminUrl.value),
T=this.username.value,S=this.password.value;this.isValidInfo(K,P,T,S)&&(this.isNotRegistered(K,P)?(this.setRegistering(!0),this.registerServer(K,P,T,S).then(function(L){!L||L.code&&L.message?(J.setRegistering(!1),k.default.createConfirmationDialog({strings:{title:D.default.common.errorTitle,description:L.message},hideCancel:!0,autoCloseOnOk:!0})):J.getServer(L.serverId).then(function(N){var O,Q,V=null!==(O=null===N||void 0===N?void 0:N.id)&&void 0!==O?O:L.serverId;J.publishServerRegistered(V,K,P,
T,S,null===N||void 0===N?void 0:N.serverType,null===N||void 0===N?void 0:N.serverRole);null===(Q=L.messages)||void 0===Q||!Q.length||L.status&&"success with warnings"===L.status||r.default.showAlert("warning",L.messages.join(" "));J.portal.isKubernetes()?(J.setRegistering(!1),J.close()):J.loadServerInfo()})},function(L){var N,O;J.setRegistering(!1);var Q=null!==(O=null!==(N=null===L||void 0===L?void 0:L.message)&&void 0!==N?N:L)&&void 0!==O?O:C.default.serversTab.federateServer.errors.registration;
r.default.showAlert("error",Q,{textIncludesHTML:!0})})):r.default.showAlert("error",C.default.serversTab.federateServer.errors.serverAlreadyRegistered))};I.prototype.fetchHostingServerDataStoreInfo=function(){if(this.currentServers.some(function(K){return K.isHosted})){var J=e.default.find(this.currentServers,function(K){return K.isHosted});if(this.editing&&(null===J||void 0===J?void 0:J.id)===this.registeredServer.id)return null;if(null===J||void 0===J?0:J.id)return f.default.getBackingDataStoreInfo(J)}else return null};
I.prototype.fetchServerDataStoreInfo=function(){var J=this.registeredServer.serverType;return J!==F.MissionServer&&J!==F.NotebookServer&&J!==F.VideoServer?f.default.getBackingDataStoreInfo(this.registeredServer):null};I.prototype.fetchServerRasterStoreInfo=function(){var J=this.registeredServer.serverType;return J!==F.MissionServer&&J!==F.NotebookServer&&J!==F.VideoServer?f.default.findRasterStoreItems(this.registeredServer.adminUrl):null};I.prototype.fetchServerLicenseInfo=function(){return f.default.getServerLicenseInfo(this.registeredServer.adminUrl)};
I.prototype.initServerTypeVisibility=function(){var J=this.registeredServer.serverType;J===F.MissionServer&&v.default.hideNodes([this.hostingContainer,this.imageHostingContainer,this.geoanalyticsContainer,this.rasterAnalysisContainer,this.notebookContainer,this.workflowContainer,this.knowledgeContainer,this.videoContainer]);J===F.NotebookServer&&v.default.hideNodes([this.hostingContainer,this.imageHostingContainer,this.geoanalyticsContainer,this.rasterAnalysisContainer,this.missionContainer,this.workflowContainer,
this.knowledgeContainer,this.videoContainer]);J===F.VideoServer&&v.default.hideNodes([this.hostingContainer,this.imageHostingContainer,this.geoanalyticsContainer,this.rasterAnalysisContainer,this.missionContainer,this.workflowContainer,this.knowledgeContainer,this.notebookContainer])};I.prototype.loadServerInfo=function(){var J=this;this.initServerTypeVisibility();(0,w.default)({hostingDataStoreResult:this.fetchHostingServerDataStoreInfo(),dataStoreResult:this.fetchServerDataStoreInfo(),rasterStoreResult:this.fetchServerRasterStoreInfo(),
licenseResult:this.fetchServerLicenseInfo()}).then(function(K){J.setRegistering(!1);J.initServerInfo(K.dataStoreResult,K.licenseResult,K.rasterStoreResult,K.hostingDataStoreResult);J.editing&&(J._overlayContentWrapper.style.visibility="visible");J.goToConfigureStep()},function(K){J.setRegistering(!1);r.default.showAlert("error",C.default.serversTab.federateServer.errors.errorLoadingStep2);J.close()})};I.prototype.goToConfigureStep=function(){this.goToStep(2);v.default.forEachNode(this.stepsHeader.domNode.querySelectorAll(".overlay-steps__item--previous"),
function(J){J.disabled=!0})};I.prototype.initServerInfo=function(J,K,P,T){var S=this.registeredServer.serverType,L=K.edition,N=K.features;K=(this.editing?this.currentServers.concat([this.registeredServer]):this.currentServers).some(function(da){return da.isHosted});var O=!(null===J||void 0===J||!J.isSDS),Q=!(null===J||void 0===J||!J.isSTDS);Q=this.registeredServer.isHosted?Q:!(null===T||void 0===T||!T.isSTDS);J=!(null===J||void 0===J||!J.isGraph);T=this.registeredServer.isHosted?J:!(null===T||void 0===
T||!T.isGraph);var V=(J=0<(null===(V=null===P||void 0===P?void 0:P.items)||void 0===V?void 0:V.length))&&P.items.some(function(da){return"fileShare"===da.info.connectionType});var X=J&&P.items.some(function(da){var ea;da=null===(ea=JSON.parse(da.info.connectionString))||void 0===ea?void 0:ea.path;return 0===(null===da||void 0===da?void 0:da.indexOf("/enterpriseDatabases/"))});P=J&&P.items.some(function(da){var ea;da=null===(ea=JSON.parse(da.info.connectionString))||void 0===ea?void 0:ea.path;return 0===
(null===da||void 0===da?void 0:da.indexOf("/cloudStores/"))});P=V||X&&P;L=e.default.includes(["esriServerLicenseStandard","esriServerLicenseAdvanced"],null===L||void 0===L?void 0:L.featureName);V=S!==F.MissionServer&&S!==F.NotebookServer&&S!==F.VideoServer;var Z=!1,ca=!1,R=!1,Y=!1,ba=!1,aa=!1,W=!1;null===N||void 0===N?void 0:N.forEach(function(da){"esriServerGeoAnalytics"===da.name&&(Z=!0);"esriServerImg"===da.name&&(ca=!0);"esriServerMission"===da.name&&(R=!0);"esriServerVideo"===da.name&&(W=!0);
e.default.includes(["esriServerNoteBooksStandard","esriServerNoteBooksAdvanced"],da.name)&&(Y=!0);if("esriServerWorkflow"===da.name||"esriServerWorkflowAdvanced"===da.name)ba=!0;"esriServerKnowledge"===da.name&&(aa=!0)});!this.isAlreadyConfiguredOnAnotherServer(G.Hosting)&&V&&(O||(this.addMissingRequirement(this.hostingLicense,this.hostingSwitch,G.Hosting,C.default.serversTab.federateServer.required.dataStore),this.hostingSwitch.disable()),L||this.addMissingRequirement(this.hostingLicense,this.hostingSwitch,
G.Hosting,C.default.serversTab.federateServer.required.hostingLicense));!this.isAlreadyConfigured(G.ImageHosting)&&V&&(K||(this.addMissingRequirement(this.imageHostingLicense,this.imageHostingSwitch,G.ImageHosting,C.default.serversTab.federateServer.required.hostingServer),this.imageHostingSwitch.disable()),P||this.addMissingRequirement(this.imageHostingLicense,this.imageHostingSwitch,G.ImageHosting,C.default.serversTab.federateServer.required.imageStore),ca||this.addMissingRequirement(this.imageHostingLicense,
this.imageHostingSwitch,G.ImageHosting,C.default.serversTab.federateServer.required.imageLicense));!this.isAlreadyConfigured(G.GeoAnalytics)&&V&&(K||(this.addMissingRequirement(this.geoanalyticsLicense,this.geoanalyticsSwitch,G.GeoAnalytics,C.default.serversTab.federateServer.required.hostingServer),this.geoanalyticsSwitch.disable()),Q||(this.addMissingRequirement(this.geoanalyticsLicense,this.geoanalyticsSwitch,G.GeoAnalytics,C.default.serversTab.federateServer.required.spatioTemporal),this.geoanalyticsSwitch.disable()),
Z||this.addMissingRequirement(this.geoanalyticsLicense,this.geoanalyticsSwitch,G.GeoAnalytics,C.default.serversTab.federateServer.required.geoanalyticsLicense));!this.isAlreadyConfigured(G.RasterAnalytics)&&V&&(K||(this.addMissingRequirement(this.rasterAnalysisLicense,this.rasterAnalysisSwitch,G.RasterAnalytics,C.default.serversTab.federateServer.required.hostingServer),this.rasterAnalysisSwitch.disable()),J||this.addMissingRequirement(this.rasterAnalysisLicense,this.rasterAnalysisSwitch,G.RasterAnalytics,
C.default.serversTab.federateServer.required.rasterStore),ca||this.addMissingRequirement(this.rasterAnalysisLicense,this.rasterAnalysisSwitch,G.RasterAnalytics,C.default.serversTab.federateServer.required.imageLicense));this.isAlreadyConfiguredOnThisServer(G.MissionServer)||(this.isAlreadyConfiguredOnAnotherServer(G.MissionServer)||S!==F.MissionServer?this.addMissingRequirement(this.missionLicense,this.missionSwitch,G.MissionServer,C.default.serversTab.federateServer.required.missionSite):(K||(this.addMissingRequirement(this.missionLicense,
this.missionSwitch,G.MissionServer,C.default.serversTab.federateServer.required.hostingServer),this.missionSwitch.disable()),R||this.addMissingRequirement(this.missionLicense,this.missionSwitch,G.MissionServer,C.default.serversTab.federateServer.required.missionLicense)));this.isAlreadyConfiguredOnThisServer(G.VideoServer)||(this.isAlreadyConfiguredOnAnotherServer(G.VideoServer)||S!==F.VideoServer?this.addMissingRequirement(this.videoLicense,this.videoSwitch,G.VideoServer,C.default.serversTab.federateServer.required.videoSite):
(K||(this.addMissingRequirement(this.videoLicense,this.videoSwitch,G.VideoServer,C.default.serversTab.federateServer.required.hostingServer),this.missionSwitch.disable()),W||this.addMissingRequirement(this.videoLicense,this.videoSwitch,G.VideoServer,C.default.serversTab.federateServer.required.videoLicense)));this.isAlreadyConfiguredOnThisServer(G.NotebookServer)||(this.isAlreadyConfiguredOnAnotherServer(G.NotebookServer)||S!==F.NotebookServer?this.addMissingRequirement(this.notebookLicense,this.notebookSwitch,
G.NotebookServer,C.default.serversTab.federateServer.required.notebookSite):(K||(this.addMissingRequirement(this.notebookLicense,this.notebookSwitch,G.NotebookServer,C.default.serversTab.federateServer.required.hostingServer),this.notebookSwitch.disable()),Y||this.addMissingRequirement(this.notebookLicense,this.notebookSwitch,G.NotebookServer,C.default.serversTab.federateServer.required.notebookLicense)));!this.isAlreadyConfigured(G.WorkflowManager)&&V&&(K||(this.addMissingRequirement(this.workflowLicense,
this.workflowSwitch,G.WorkflowManager,C.default.serversTab.federateServer.required.hostingServer),this.workflowSwitch.disable()),ba||this.addMissingRequirement(this.workflowLicense,this.workflowSwitch,G.WorkflowManager,C.default.serversTab.federateServer.required.workflowLicense));this.isAlreadyConfigured(G.KnowledgeServer)||(K&&aa||(N=C.default.serversTab.federateServer.required,S=N.hostingServer,N=N.knowledgeLicense,this.addMissingRequirement(this.knowledgeLicense,this.knowledgeSwitch,G.KnowledgeServer,
K?N:S)),T||this.addMissingRequirement(this.knowledgeLicense,this.knowledgeSwitch,G.KnowledgeServer,C.default.serversTab.federateServer.required.graphStore))};I.prototype.save=function(){var J=this;this._overlayLoaderText.innerHTML=C.default.serversTab.federateServer.configuringRole;this.setRegistering(!0);var K=[],P=this.computeUpdatedServerFunctions();Object.keys(P).forEach(function(T){T!==J.registeredServer.id&&K.push(T)});t.default.publish("server-roles/lock");this.updateServersSequentially(K,
P).then(function(){J.updateRegisteredServerFunction(P[J.registeredServer.id]).then(function(){var T,S=-1<(null===(T=J.registeredServer.serverFunction)||void 0===T?void 0:T.indexOf(G.RasterAnalytics));J.editing&&(S=P[J.registeredServer.id],T={id:J.registeredServer.id,serverFunction:S},J.registeredServer.isHosted&&(T.isHosted=J.registeredServer.isHosted),S=-1<(null===S||void 0===S?void 0:S.indexOf(G.RasterAnalytics)),t.default.publish("federated-servers/update",T));var L=C.default.serversTab.federateServer.configurationSuccess;
S&&J.noOtherServerHasImageHostingEnabled()&&(L="".concat(L," ").concat(C.default.serversTab.rasterServerProvidesImageHosting));J.newHostingServer?J.postAddHostingServer(J.registeredServer).then(function(){t.default.publish("server-roles/unlock");r.default.showAlert("success",L);t.default.publish("federated-servers/update",J.registeredServer);J.close()}):(t.default.publish("server-roles/unlock"),r.default.showAlert("success",L),J.close())},function(T){var S=c.default.substitute(C.default.serversTab.federateServer.errors.configure,
{server:J.registeredServer.label||J.registeredServer.name||""});T="".concat(S).concat((null===T||void 0===T?0:T.message)?"\x3cbr\x3e\x3cbr\x3e".concat(T.message):"");J.setRegistering(!1);r.default.showAlert("error",T);t.default.publish("server-roles/unlock")})},function(){J.setRegistering(!1);t.default.publish("server-roles/unlock")})};I.prototype.updateServersSequentially=function(J,K){var P=this,T=new z.default,S=-1,L=function(){S+=1;if(S<J.length-1){var N=J[S],O=K[N];P.updateServerFunction(N,O).then(function(){t.default.publish("federated-servers/update",
{id:N,serverFunction:O});L()},function(Q){var V=e.default.find(P.currentServers,function(X){return X.id===N});V=c.default.substitute(C.default.serversTab.federatedServer.errors.reconfigure,{oldServer:V.label||V.name||"",newServer:P.registeredServer.label||P.registeredServer.name||""});V="".concat(V).concat((null===Q||void 0===Q?0:Q.message)?"\x3cbr\x3e\x3cbr\x3e".concat(Q.message):"");r.default.showAlert("error",V);T.reject(Q)})}else T.resolve()};L();return T};I.prototype.updateRegisteredServerFunction=
function(J){var K="".concat(n.default.getPortalAdminBaseUrl(),"/federation/servers/").concat(this.registeredServer.id,"/update");J={serverFunction:J};this.registeredServer.isHosted&&(J.isHosted=this.registeredServer.isHosted);return n.default.request({url:K,content:J},{usePost:!0})};I.prototype.updateServerFunction=function(J,K){J="".concat(n.default.getPortalAdminBaseUrl(),"/federation/servers/").concat(J,"/update");return n.default.request({url:J,content:{serverFunction:K}},{usePost:!0})};I.prototype.computeUpdatedServerFunctions=
function(){var J={},K=this.hostingSwitch.checked(),P=this.imageHostingSwitch.checked(),T=this.geoanalyticsSwitch.checked(),S=this.rasterAnalysisSwitch.checked(),L=this.missionSwitch.checked(),N=this.videoSwitch.checked(),O=this.notebookSwitch.checked(),Q=this.workflowSwitch.checked(),V=this.knowledgeSwitch.checked();K&&(this.registeredServer.isHosted||(this.newHostingServer=!0),this.registeredServer.isHosted=!0);T&&((K=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.GeoAnalytics)}))&&
this.updateServerEntry(J,K.id,G.GeoAnalytics,!1),this.updateServerEntry(J,this.registeredServer.id,G.GeoAnalytics,!0));S&&((K=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.RasterAnalytics)}))&&this.updateServerEntry(J,K.id,G.RasterAnalytics,!1),this.updateServerEntry(J,this.registeredServer.id,G.RasterAnalytics,!0));P&&((P=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.ImageHosting)}))&&this.updateServerEntry(J,P.id,G.ImageHosting,
!1),S||this.updateServerEntry(J,this.registeredServer.id,G.ImageHosting,!0));L&&((S=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.MissionServer)}))&&this.updateServerEntry(J,S.id,G.MissionServer,!1),this.updateServerEntry(J,this.registeredServer.id,G.MissionServer,!0));N&&((N=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.VideoServer)}))&&this.updateServerEntry(J,N.id,G.VideoServer,!1),this.updateServerEntry(J,this.registeredServer.id,
G.VideoServer,!0));O&&((O=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.NotebookServer)}))&&this.updateServerEntry(J,O.id,G.NotebookServer,!1),this.updateServerEntry(J,this.registeredServer.id,G.NotebookServer,!0));Q&&((Q=e.default.find(this.currentServers,function(X){return-1<X.serverFunction.indexOf(G.WorkflowManager)}))&&this.updateServerEntry(J,Q.id,G.WorkflowManager,!1),this.updateServerEntry(J,this.registeredServer.id,G.WorkflowManager,!0));V&&((V=e.default.find(this.currentServers,
function(X){return-1<X.serverFunction.indexOf(G.KnowledgeServer)}))&&this.updateServerEntry(J,V.id,G.KnowledgeServer,!1),this.updateServerEntry(J,this.registeredServer.id,G.KnowledgeServer,!0));return J};I.prototype.updateServerEntry=function(J,K,P,T){var S=J[K]||"";S=T?this.addServerFunction(S,P):this.removeServerFunction(S,P);J[K]=S};I.prototype.addServerFunction=function(J,K){J=""===J?[]:J.split(",");-1===J.indexOf(K)&&J.push(K);return J.join(",")};I.prototype.removeServerFunction=function(J,K){J=
J.split(",");K=J.indexOf(K);-1<K&&J.splice(K,1);return J.join(",")};I.prototype.postAddHostingServer=function(J){var K=this,P,T,S,L,N,O,Q=new z.default,V=0<this.portal.helperServices.printTask.url.indexOf("/sharing/tools/newPrint"),X=!(null===(T=null===(P=this.portal.helperServices.analysis)||void 0===P?void 0:P.url)||void 0===T?0:T.length);P=!(null===(L=null===(S=this.portal.helperServices.asyncGeocode)||void 0===S?void 0:S.url)||void 0===L?0:L.length);S=!(null===(O=null===(N=this.portal.helperServices.symbols)||
void 0===N?void 0:N.url)||void 0===O?0:O.length);var Z={},ca=[];V&&(N={url:this.generateHostedServerPrintURL(J)},O=this.generateHostedServerAdminPrintURL(J,N.url),Z.printServiceTask=JSON.stringify(N),ca.push(O));X&&(X={url:this.generateHostedServerAnalysisURL(J)},Z.analysisService=JSON.stringify(X));P&&(X={url:this.generateHostedServerAsyncGeocodeURL(J)},P=this.generateHostedServerAdminGPStartURL(J,X.url),Z.asyncGeocodeService=JSON.stringify(X),ca.push(P));S&&(X={url:this.generateHostedServerSymbolUrl(J)},
J=this.generateHostedServerAdminSymbolStartURL(J,X.url),Z.symbolsService=JSON.stringify(X),ca.push(J));this.updateSetting(Z).then(function(){if(Z.printServiceTask){var R=JSON.parse(Z.printServiceTask);b.default.self.helperServices.printTask=K.portal.helperServices.printTask=R;t.default.publish("helperService-update/printTask",R)}Z.analysisService&&(R=JSON.parse(Z.analysisService),b.default.self.helperServices.analysis=K.portal.helperServices.analysis=R,t.default.publish("helperService-update/analysis",
R));Z.asyncGeocodeService&&(R=JSON.parse(Z.asyncGeocodeService),b.default.self.helperServices.asyncGeocode=K.portal.helperServices.asyncGeocode=R,t.default.publish("helperService-update/asyncGeocode",R));Z.symbolsService&&(R=JSON.parse(Z.symbolsService),b.default.self.helperServices.symbols=K.portal.helperServices.symbols=R,t.default.publish("helperService-update/symbols",R));ca.forEach(function(Y){n.default.request({url:Y},{usePost:!0})});Q.resolve()},function(){Q.resolve()});return Q};I.prototype.generateHostedServerPrintURL=
function(J){return"".concat(J.url).concat("/rest/services/Utilities/PrintingTools/GPServer/Export%20Web%20Map%20Task")};I.prototype.generateHostedServerAdminPrintURL=function(J,K){return K.replace(J.url,J.adminUrl).replace("/rest/","/admin/").replace("/GPServer/",".GPServer/").replace("/Export%20Web%20Map%20Task","/start")};I.prototype.generateHostedServerAnalysisURL=function(J){return"".concat(J.url).concat("/rest/services/System/SpatialAnalysisTools/GPServer")};I.prototype.generateHostedServerAsyncGeocodeURL=
function(J){return"".concat(J.url).concat("/rest/services/Utilities/GeocodingTools/GPServer")};I.prototype.generateHostedServerAdminGPStartURL=function(J,K){J=K.replace(J.url,J.adminUrl).replace("/rest/","/admin/").replace("/GPServer",".GPServer");return"".concat(J,"/start")};I.prototype.generateHostedServerSymbolUrl=function(J){return"".concat(J.url).concat("/rest/services/Utilities/Symbols/SymbolServer")};I.prototype.generateHostedServerAdminSymbolStartURL=function(J,K){J=K.replace(J.url,J.adminUrl).replace("/rest/",
"/admin/").replace("/SymbolServer",".SymbolServer");return"".concat(J,"/start")};I.prototype.updateSetting=function(J){var K=this,P=new z.default;k.default.isEmptyObject(J)?P.resolve():n.default.request({url:"".concat(b.default.restBaseUrl,"portals/self/update"),content:J},{usePost:!0}).then(function(T){(null===T||void 0===T?0:T.code)?P.reject():(K.portal.set(J),P.resolve(J))},function(){P.reject()});return P};return I=a.__decorate([(0,q.default)(m.default)],I)}()})},"arcgisonline/pages/organization/widgets/settings/SearchSuggestion":function(){define("require exports tslib dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);return function(){function u(r,e){this.templateString='\x3cbutton class\x3d"btn-link btn-link-darker-gray settings-search-suggestion" tabindex\x3d"0" role\x3d"option"\x3e\x3c/button\x3e'}u.prototype.postCreate=function(){var r=this;this.inherited(arguments);this.domNode.textContent=this.keyword;this.own((0,m.default)(this.domNode,function(e){e.stopPropagation();
b.default.publish("search-suggestion/select",{keyword:r.keyword,card:r.card,row:r.row})}))};return u=a.__decorate([(0,h.default)(f.default,k.default)],u)}()})},"arcgisonline/pages/organization/widgets/settings/JumpToSection":function(){define("require exports tslib dojo/text!./templates/JumpToSection.html dojo/i18n!../../../../nls/org-settings dojo/query dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/dom arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);
k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=b.default;this.i18n=k.default;this.cards=[]}e.prototype.postCreate=function(){this.inherited(arguments)};e.prototype.update=function(v){this.cards=v;this.render()};e.prototype.position=function(v){this.isLeftToRight()?(this.domNode.style.right="auto",this.domNode.style.left="calc(".concat(v,"px + 2rem)")):(this.domNode.style.left=
"auto",this.domNode.style.right="calc(".concat(v,"px + 2rem)"))};e.prototype.render=function(){this.links.innerHTML="";var v=this.cards.reduce(function(g,p){return"".concat(g,' \x3cli\x3e\x3cbutton class\x3d"btn-link btn-link-dark-blue trailer-1 font-size--1 text-left" data-tab\x3d"').concat(p.tab,'"\x3e').concat(p.name,"\x3c/button\x3e\x3c/li\x3e")},"");this.links.innerHTML=v;u.default.showHide(this.domNode,2<this.cards.length);this.own((0,f.default)("button",this.domNode).on("click",this.handleLinkClick.bind(this)))};
e.prototype.handleLinkClick=function(v){var g,p=v.target;if(v=this.cards.filter(function(n){return n.name===p.textContent&&n.tab===p.dataset.tab})[0])v.domNode.scrollIntoView({behavior:"smooth"}),v.domNode.tabIndex=-1,v.domNode.focus();null===(g=this.telemetry)||void 0===g?void 0:g.logEvent({category:"Scroll to section",action:"".concat(p.dataset.tab,"/").concat(p.textContent)})};return e=a.__decorate([(0,r.default)(h.default,m.default)],e)}()})},"arcgisonline/pages/organization/widgets/settings/MobileNavItem":function(){define("require exports tslib dojo/text!./templates/MobileNavItem.html dojo/i18n!../../../../nls/org-settings dojo/on dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);return function(){function e(v,g){this.templateString=b.default;this.i18n=k.default.tabs;this.key=""}e.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};e.prototype.render=function(){this.nameEl.textContent=this.i18n[this.key]};e.prototype.addEventListeners=function(){var v=
this;this.own((0,f.default)(this.domNode,"click",function(){m.default.publish("settings-tab/select",v.key)}))};e.prototype.select=function(){this.domNode.classList.add("is-active")};e.prototype.deselect=function(){this.domNode.classList.remove("is-active")};return e=a.__decorate([(0,r.default)(u.default,h.default)],e)}()})},"arcgisonline/pages/organization/widgets/MigrateUserDefaultsAlert":function(){define("require exports tslib esri/lang dojo/on dojo/promise/all dojo/Deferred dojo/text!./templates/MigrateUserDefaultsAlert.html dojo/i18n!../../../nls/org-settings dojo/i18n!../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/pages/utils/alerts arcgisonline/pages/utils/dom arcgisonline/pages/pageUtil arcgisonline/sharing/util arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.templateString=h.default;this.i18n=a.__assign({},
u.default.memberDefaultsTab);this.icons=g.default;this.shouldMigrate=!1}w.prototype.postCreate=function(){this.inherited(arguments);this.render();this.addEventListeners()};w.prototype.show=function(){n.default.showNode(this.domNode)};w.prototype.hide=function(){n.default.hideNode(this.domNode)};w.prototype.render=function(){var t=this;n.default.showNode(this.actionBtn);this.getData().then(function(){if(t.userDefaults&&t.currentIdp){var z=t.currentIdp.userLicenseType;t.shouldMigrate=z&&z!==t.userDefaults.userLicenseType;
t.shouldMigrate&&n.default.showNode(t.domNode)}})};w.prototype.getData=function(){var t=new m.default;this.userDefaults&&this.currentIdp?t.resolve():(0,f.default)({idp:this.getIdentityProvider(),userDefaults:this.getUserDefaults()}).then(function(){t.resolve()});return t};w.prototype.addEventListeners=function(){this.own((0,k.default)(this.actionBtn,"click",this.confirmMigration.bind(this)))};w.prototype.getIdentityProvider=function(){var t=this,z=new m.default,x="".concat(c.default.restBaseUrl,"portals/self/idp");
(0,f.default)({idp:l.default.request({url:x}),fedIdp:l.default.request({url:"".concat(x,"/federation")})}).then(function(y){var A,B;(null===(A=y.idp)||void 0===A?0:A.id)?t.currentIdp=y.idp:(null===(B=y.fedIdp)||void 0===B?0:B.id)?(t.currentIdp=y.fedIdp,t.currentIdp.isFederation=!0):t.currentIdp=void 0;z.resolve()},function(){t.currentIdp=void 0;z.resolve()});return z};w.prototype.getUserDefaults=function(){var t=this;return l.default.request({url:"".concat(c.default.restBaseUrl,"portals/self/userDefaultSettings"),
content:{}}).then(function(z){t.userDefaults=a.__assign({},z);delete t.userDefaults._ssl})};w.prototype.updateDefaultCredits=function(t){return l.default.request({url:l.default.getSecureUrl(c.default.restBaseUrl)+"portals/self/update",content:{defaultUserCreditAssignment:t,clearEmptyFields:!0}},{usePost:!0})};w.prototype.emptyIDPSettings=function(){var t="".concat(c.default.restBaseUrl,"portals/self/idp/").concat(this.currentIdp.isFederation?"federation/":"").concat(this.currentIdp.id,"/update");
return l.default.request({url:t,content:a.__assign(a.__assign({},this.currentIdp),{groups:"",roleId:"",userCreditAssignment:-1,userLicenseType:"",userType:"",clearEmptyFields:!0})},{usePost:!0})};w.prototype.setUserDefaultSettings=function(t,z){var x=this;return l.default.request({url:"".concat(c.default.restBaseUrl,"portals/self/setUserDefaultSettings"),content:t},{usePost:!0}).then(function(){z&&p.default.showAlert("success",z);return x.getUserDefaults()},function(){p.default.showAlert("error",
x.i18n.defaultsError)})};w.prototype.confirmMigration=function(){var t=this,z=new m.default,x=r.default.myOrganization.defaultsTab,y=x.errorUpdatingIDP;q.default.createConfirmationDialog({strings:{title:r.default.common.notice,description:x.migrateWarning},autoCloseOnOk:!0,onOk:function(){t.emptyIDPSettings().then(function(){var A=t.currentIdp,B=A.roleId,D=A.userLicenseType,C=A.userType,E=A.userCreditAssignment;(0,f.default)({userDefaults:t.setUserDefaultSettings({groups:JSON.stringify(A.groups),
role:B||void 0,userLicenseType:D||void 0,userType:C||void 0}),credits:b.default.isDefined(E)&&-1<E?t.updateDefaultCredits(E):null}).then(function(){z.resolve(!0)})},function(){p.default.showAlert("error",y);z.resolve(!1)})},onCancel:function(){z.resolve(!1)}});return z};return w=a.__decorate([(0,d.default)(v.default,e.default)],w)}()})},"arcgisonline/pages/organization/widgets/onboard/OnboardBanner":function(){define("require exports tslib dojo/topic dojo/text!./templates/OnboardBanner.html dojo/i18n!../../../../nls/arcgisonline dijit/_TemplatedMixin dijit/_WidgetBase ../../../utils/dom ../../../utils/organization ../../../utils/icons ../../../../tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);return function(){function g(p,n){this.templateString=k.default;this.i18n=f.default;this.icons=e.default;this.messageClasses=this.contentClasses="";this.hideClose=this.hideLearnMore=!1;this.content=""}g.prototype.postCreate=function(){var p=this;this.inherited(arguments);
this._closeBtn.addEventListener("click",function(){r.default.createOnboardCookie(p.cookieKey);b.default.publish("onboard-banner/close");u.default.hideNode(p.domNode)});this.content?this.contentContainer.innerHTML=this.content:(this.hideLearnMore&&u.default.hideNode(this._learnMoreBtn),this.hideClose&&u.default.hideNode(this._closeBtn),this.learnMoreText&&(this._learnMoreBtn.textContent=this.learnMoreText),this._learnMoreBtn.addEventListener("click",function(){p.handleLearnMoreClick()}))};g.prototype.handleLearnMoreClick=
function(){b.default.publish("onboard-banner/learn-more")};g.prototype.focusOnMore=function(){this._learnMoreBtn.focus()};return g=a.__decorate([(0,v.default)(h.default,m.default)],g)}()})},"arcgisonline/pages/organization/widgets/settings/HomePageOnboardingOverlay":function(){define("require exports tslib ../../../dijit/Overlay ./settings-shared ../../../utils/dom ../../../utils/icons ../../../utils/organization ../../../../sharing/util dojo/string dojo/on dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick dojo/i18n!../../../../nls/arcgisonline dojo/i18n!../../../../nls/org-settings dojo/text!./templates/HomePageOnboardingOverlay.html arcgisonline/tsutils/declareDecorator".split(" "),
function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d){b=a.__importDefault(b);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);return function(){function w(t,z){this.title=l.default.onboarding.newHomePage.title;this.i18n=q.default;this.overlayContents=
r.default.substitute(c.default,{i18n:l.default.onboarding.newHomePage});this.constrain=!0;this.maxWidth=750}w.prototype.open=function(){this.inherited(arguments);this.domNode.querySelector(".js-banner-image").src=u.default.relativeToExplicitUrl("./js/arcgisonline/img/home-page-onboarding-banner.png");this.launchEditor=this._overlayContentWrapper.querySelector(".js-launch-editor");this.launchEditor.id="launchNewHomePageEditor";this.warningContainer=this._overlayContentWrapper.querySelector(".js-warning-container");
this._overlayContentWrapper.querySelector(".js-warning-icon").innerHTML=m.default.inline["exclamation-mark-triangle"]["16"];this._overlayContentWrapper.querySelector(".js-browser-icon").innerHTML=m.default.inline.browser["32"];this._overlayContentWrapper.querySelector(".js-grid-icon").innerHTML=m.default.inline.grid["32"];this._overlayContentWrapper.querySelector(".js-wrench-icon").innerHTML=m.default.inline.wrench["32"];f.default.hideNode(this._overlayActionBar);var t=!h.default.hasModernHomePageEnabled(this.portal);
f.default.showHide(this.warningContainer,t);this.addListeners()};w.prototype.close=function(){this.inherited(arguments)};w.prototype.addListeners=function(){var t=this;this.own((0,n.default)(this.launchEditor,function(){v.default.publish("settings-tab/select",k.SettingsTabKeys.HomePage);t.close();v.default.publish("home-page-editor/launch")}),(0,e.default)(this,"close",function(){h.default.createOnboardCookie("homePageOnboardOverlay")}))};return w=a.__decorate([(0,d.default)(p.default,g.default,b.default)],
w)}()})},"arcgisonline/pages/organization/widgets/SqlAlert":function(){define("require exports tslib esri/Evented dojo/text!./templates/SqlAlert.html dojo/i18n!../../../nls/arcgisonline dojo/on dojo/Deferred dijit/_TemplatedMixin dijit/_WidgetBase arcgisonline/pages/utils/icons arcgisonline/sharing/util arcgisonline/pages/utils/dom arcgisonline/esriGeowConfig arcgisonline/tsutils/declareDecorator".split(" "),function(U,M,a,b,k,f,m,h,u,r,e,v,g,p,n){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);
m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);return function(){function q(l,c){this.templateString=k.default;this.i18n=a.__assign(a.__assign({},f.default.common),f.default.myOrganization.overviewTab.sqlAlert);this.icons=e.default;this.learnUrl=""}q.prototype.postMixInProperties=function(){this.inherited(arguments);this.learnUrl="".concat(this.portal.helpBase).concat(this.portal.helpMap.m["120001521"])};
q.prototype.postCreate=function(){this.inherited(arguments);m.default.once(this.dismissBtn,"click",this.handleDismiss.bind(this))};q.prototype.show=function(){g.default.showNode(this.domNode)};q.prototype.hide=function(){g.default.hideNode(this.domNode)};q.prototype.handleDismiss=function(){var l=this;this.setStdSQL().then(function(){l.portal.useStandardizedQuery=!0;l.emit("destroy");l.destroy()})};q.prototype.setStdSQL=function(){var l=new h.default;v.default.request({url:"".concat(p.default.restBaseUrl,
"portals/self/update"),content:{useStandardizedQuery:!0}},{usePost:!0}).then(function(){l.resolve()},function(){l.resolve()});return l};return q=a.__decorate([(0,n.default)(r.default,u.default,b.default)],q)}()})},"arcgisonline/pages/organization/widgets/settings/tabs/SettingsTab":function(){define("require exports tslib dojo/i18n!../../../../../nls/org-settings dojo/topic dijit/_TemplatedMixin dijit/_WidgetBase dijit/a11yclick ../../../../../tsutils/declareDecorator".split(" "),function(U,M,a,b,
k,f,m,h,u){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);return function(){function r(e,v){this.templateString='\x3cli\x3e\x3cbutton class\x3d"btn-link btn-link-darker-gray font-size--1 org-settings__menu-item js-button"\x3e\x3c/button\x3e\x3c/li\x3e';this.i18n=b.default.tabs;this.key="";this.ACTIVE_CLASS="org-settings__menu-item--active"}r.prototype.postCreate=function(){this.inherited(arguments);this.button=
this.domNode.querySelector(".js-button");this.render();this.addEventListeners()};r.prototype.render=function(){this.button.textContent=this.i18n[this.key]};r.prototype.addEventListeners=function(){var e=this;this.own((0,h.default)(this.button,function(){k.default.publish("settings-tab/select",e.key)}))};r.prototype.select=function(){this.button.classList.add(this.ACTIVE_CLASS);this.button.setAttribute("aria-current","page")};r.prototype.deselect=function(){this.button.classList.remove(this.ACTIVE_CLASS);
this.button.removeAttribute("aria-current")};return r=a.__decorate([(0,u.default)(m.default,f.default)],r)}()})},"url:arcgisonline/pages/organization/widgets/templates/_settings2.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"control-bar control-bar--hide-mobile-actions control-bar--hide-right control-bar--no-margin"\x3e\r\n    \x3cdiv class\x3d"grid-container"\x3e\r\n      \x3cdiv class\x3d"column-24 flex"\x3e\r\n        \x3cdiv class\x3d"control-bar__search flex-1 flex js-control-bar-search-wrap"\x3e\r\n          \x3cspan class\x3d"control-bar__search-icon"\x3e${!icons.search-f.24}\x3c/span\x3e\r\n          \x3cdiv class\x3d"js-control-bar-search"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"org-settings__search-suggestions hide" role\x3d"listbox" data-dojo-attach-point\x3d"_suggestionsContainer"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"settings__onboard-section leader-1 overflow-hidden tablet-hide" data-dojo-attach-point\x3d"_onboardBannerContainer"\x3e\r\n    \x3cdiv class\x3d"grid-container"\x3e\r\n      \x3cdiv class\x3d"js-onboard-banner"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__grid-container grid-container flex"  id\x3d"main-content-area"\x3e\r\n    \x3cdiv class\x3d"org-settings__menu-placeholder margin-right-2 flex-0" data-dojo-attach-point\x3d"menuPlaceholder"\x3e\r\n      \x3cfieldset class\x3d"org-settings__menu margin-right-2 flex-0 trailer-0" data-dojo-attach-point\x3d"_tabsContainer"\x3e\r\n        \x3clegend class\x3d"left-menu__legend" data-dojo-attach-point\x3d"tabsLegend"\x3e\x3c/legend\x3e\r\n        \x3cul class\x3d"clear-list-style" data-dojo-attach-point\x3d"tabsList"\x3e\x3c/ul\x3e\r\n      \x3c/fieldset\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"flex-1 leader-1 org-settings__main-content"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"loader is-active"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"content"\x3e\r\n        \x3ch1 class\x3d"hide-on-mobile font-size-4 trailer-1 avenir-bold org-settings__main-title" data-dojo-attach-point\x3d"_title"\x3e\x3c/h1\x3e\r\n        \x3cdiv class\x3d"only-on-mobile position-relative org-settings__mobile-nav-container"\x3e\r\n          \x3cbutton class\x3d"flex flex-align-center btn-link btn-link-darker-gray trailer-1 org-settings__title-btn" data-dojo-attach-point\x3d"mobileTitleBtn"\x3e\r\n            \x3cdiv class\x3d"font-size-4 avenir-bold org-settings__main-title" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"margin-left-quarter"\x3e${!icons.chevron-down.24}\x3c/div\x3e\r\n          \x3c/button\x3e\r\n          \x3cdiv class\x3d"org-settings__mobile-menu" data-dojo-attach-point\x3d"mobileMenu"\x3e\r\n            \x3cdiv class\x3d"org-settings__mobile-nav-mask"\x3e\x3c/div\x3e\r\n            \x3cnav class\x3d"org-settings__mobile-nav flex-0 flex flex-column" role\x3d"tablist" aria-labelledby\x3d"pagetitle" data-dojo-attach-point\x3d"mobileNav"\x3e\r\n              \x3cdiv class\x3d"flex trailer-half"\x3e\r\n                \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n                \x3cbutton class\x3d"btn-link btn-link-darker-gray tooltip tooltip-bottom-right" aria-label\x3d"${i18n.common.close}" data-dojo-attach-point\x3d"closeMobileNavBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv class\x3d"org-settings__mobile-nav-content" data-dojo-attach-point\x3d"mobileNavContent"\x3e\x3c/div\x3e\r\n            \x3c/nav\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-sql-alert"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"hide js-no-privileges"\x3e\r\n            ${i18n.common.noPrivileges}\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-migrate-alert"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-general-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-home-page-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-gallery-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-map-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-items-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-hosted-layers-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-groups-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-webhooks-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-utility-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-livingatlas-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-agol-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-servers-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-member-roles-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-member-defaults-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-marketplace-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-collaborations-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-credits-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-security-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-open-data-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-hub-tab-content"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-location-tracking-tab-content"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-jump-to-section"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SearchInput/SearchInput.html":'\x3cdiv class\x3d"full-width position-relative"\x3e\r\n  \x3cinput type\x3d"search" placeholder\x3d"${placeholder}" aria-label\x3d"${placeholder}" class\x3d"flex-1 input-minimal search-input ${cssTheme}" data-dojo-attach-point\x3d"searchInput"\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray search-input__clear-btn hide" data-dojo-attach-point\x3d"clearBtn" aria-label\x3d"${i18n.common.clearValue}"\x3e${!icons.x.16}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/tabs/templates/BaseSettingsTab.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"hide font-size-3 avenir-bold trailer-half org-settings__search-section-title" data-dojo-attach-point\x3d"_searchTitle"\x3e${_titleText}\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_cardsContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/cards/templates/SettingsCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-bold" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half  org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__card-btn-container" data-dojo-attach-point\x3d"_btnContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"_headerBtn"\x3e\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content" data-dojo-attach-point\x3d"_content"\x3e\r\n    \x3cdiv class\x3d"loader org-settings__card-loader leader-2" data-dojo-attach-point\x3d"_loader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/OnboardCard.html":'\x3cdiv class\x3d"org-settings__card org-settings__on-board trailer-1"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center trailer-1"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e${!icons.inline.lightbulb.24} ${!description}\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn btn-clear flex-0" data-dojo-attach-point\x3d"dismissBtn"\x3e${i18n.dismiss}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"full-width text-center"\x3e\r\n    \x3cimg src\x3d"js/arcgisonline/img/onboard-settings-moved.svg" /\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ComboBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"combobox" aria-haspopup\x3d"true"\r\n     data-dojo-attach-point\x3d"_popupStateNode"\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n       data-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1"\r\n           readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true" ${_buttonInputDisabled}/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\x3e\r\n    \x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text"\r\n           tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\x3e\r\n    \x3cinput class\x3d\'dijitReset dijitInputInner\' readonly\x3d"readonly" ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\r\n           data-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"/\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/ToggleSwitch/templates/ToggleSwitch.html":'\x3cdiv class\x3d"toggle-switch clearfix ${labelClasses} ${hasTooltip}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"toggle-switch-input" aria-label\x3d"${ariaLabel}" data-dojo-attach-point\x3d"_checkbox"\x3e\r\n  \x3cspan class\x3d"toggle-switch-track ${direction} ${switchTrackClasses}" data-dojo-attach-point\x3d"toggleTrack"\x3e\x3c/span\x3e\r\n  \x3cdiv class\x3d"inline-block margin-${direction}-half toggle-switch-label ${tooltipClass} padding-leader-quarter padding-trailer-quarter" data-dojo-attach-point\x3d"_label"\x3e\r\n    \x3clabel class\x3d"toggle-switch-label--text trailer-0" for\x3d"${uid}" data-dojo-attach-point\x3d"labelWrapper"\x3e${!label}\x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loaderContainer" class\x3d"toggle-switch__loader-container hide ${loaderClasses}"\x3e\r\n    \x3ccalcite-loader scale\x3d"l" inline data-dojo-attach-point\x3d"loader"\x3e\x3c/calcite-loader\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ConfigureAGOLUtilServices.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"trailer-1"\x3e\r\n    ${i18n.description}\r\n    \x3col\x3e\r\n      \x3cli\x3e${i18n.descriptionPoint1}\x3c/li\x3e\r\n      \x3cli\x3e${i18n.descriptionPoint2}\x3c/li\x3e\r\n      \x3cli\x3e${i18n.descriptionPoint3}\x3c/li\x3e\r\n    \x3c/ol\x3e\r\n    \x3clabel data-dojo-attach-point\x3d"_descriptionNote"\x3e${i18n.descriptionNote}\x3c/label\x3e\r\n    \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"_networkTrafficNote"\x3e${i18n.networkTrafficNote}\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half"\x3e${i18n.deselectNote}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"configure-agol__options-container serviceContainer flex"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.elevation}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_elevationSwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.geoenrichment}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_geoenrichmentSwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row hide flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.network}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_networkSwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row hide flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.trafficData}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_trafficDataSwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.orthomappingElevation}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_orthomappingSwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.geocode}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_geocodeSwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e${i18n.services.hydrology}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_hydrologySwitch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_credentialContainer"\x3e\r\n    \x3cdiv class\x3d"trailer-0"\x3e\r\n      \x3cdiv class\x3d"trailer-half" data-dojo-attach-point\x3d"_credentialsRequired"\x3e${i18n.enterCredentials}\x3c/div\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_servicesSelected"\x3e\x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_credentials" class\x3d"${baseClass} credentials esriAlignLeading valignTop" style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"folderLabel" data-dojo-attach-point\x3d"_folderLabel"\x3e${i18n.folderLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"arrowSpaceMedium" data-dojo-attach-point\x3d"_folderSelect"\r\n         data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox" data-dojo-props\x3d"trim:true"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"leader-1 text-right"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_okBtn"\x3e${i18n.configure}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/ConfigureUtilityServicesCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-bold" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content" data-dojo-attach-point\x3d"_content"\x3e\r\n    \x3cdiv class\x3d"loader org-settings__card-loader leader-2" data-dojo-attach-point\x3d"_loader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/templates/ConfigureLivingAtlasContent.html":'\x3cdiv class\x3d"${baseClass} position-relative"\x3e\r\n  \x3cdiv class\x3d"${baseClass} position-relative"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_configureLoader" class\x3d"loader js-configure-living-atlas-loader overlay-white fullscreen padding-leader-3 padding-trailer-3"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text" data-dojo-attach-point\x3d"_configureLoaderMsg"\x3e${i18n.configuringLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e${i18n.accessContent}\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_enableChkBox"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"serviceContainer leader-1"\x3e\r\n      \x3cp\x3e${i18n.accessContentNote}\x3c/p\x3e\r\n      \x3cp\x3e${i18n.accessContentDesc}\x3c/p\x3e\r\n      \x3cp\x3e${i18n.accessContentRemove}\x3c/p\x3e\r\n      \x3cdiv class\x3d"flex configure-agol__options-container"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n              ${i18n.subscriberLabel}\r\n              \x3cspan class\x3d"esriItemLinks hide" data-dojo-attach-point\x3d"_updateSubscriber"\x3e\x3ca tabindex\x3d"0" data-dojo-attach-point\x3d"_updateSubscriberLink"\x3e${i18n.update}\x3c/a\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_subscriberChkBox"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"inlineBlockLong flex-1"\x3e\r\n          \x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n              ${i18n.premiumLabel}\r\n              \x3cspan data-dojo-attach-point\x3d"_premiumCreditsLabel"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"esriItemLinks hide" data-dojo-attach-point\x3d"_updatePremium"\x3e\x3ca tabindex\x3d"0" data-dojo-attach-point\x3d"_updatePremiumLink"\x3e${i18n.update}\x3c/a\x3e\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_premiumChkBox"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3cdiv class\x3d"leader-1" id\x3d"configure-living-atlas-credential-container" data-dojo-attach-point\x3d"_credentialContainer"\x3e\r\n        \x3cdiv\x3e\r\n          \x3clabel data-dojo-attach-point\x3d"_contentSelected"\x3e\x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_credentials" class\x3d"${baseClass} credentials esriAlignLeading valignTop leader-1" style\x3d"clear:both;"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_credentialError" class\x3d"hide"\x3e\x3cspan class\x3d"configure-living-atlas__credentials-warning-icon"\x3e\x3ccalcite-icon scale\x3d"s" icon\x3d"exclamation-mark-triangle"\x3e\x3c/calcite-icon\x3e\x3c/span\x3e ${i18n.needCredentials}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-1 text-right"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_upgradeBtn"\x3e${i18n.upgradeLabel}\x3c/button\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_okBtn"\x3e${i18n.configureLabel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/ConfigureLivingAtlasCard.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n    \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3ch2 class\x3d"font-size-2 trailer-0 avenir-bold" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n        \x3cdiv class\x3d"font-size--1 leader-half org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__card-content" data-dojo-attach-point\x3d"_content"\x3e\r\n      \x3cdiv class\x3d"loader org-settings__card-loader leader-2" data-dojo-attach-point\x3d"_loader"\x3e\r\n          \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card"\x3e\r\n    \x3cdiv class\x3d"contentVersion"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/organization/widgets/settings/templates/MemberListItem.html":'\x3cdiv class\x3d"org-settings__card-list-row flex flex-align-center"\x3e\r\n  \x3cdiv class\x3d"flex flex-1" data-dojo-attach-point\x3d"itemInfo"\x3e\r\n    \x3cdiv class\x3d"js-member-thumb"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"nameEl" class\x3d"flex-1 font-size--1"\x3e\r\n      ${member.fullName}\r\n      \x3cdiv class\x3d"org-settings__mobile-member-username font-size--2"\x3e${member.username}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-incompatible-tooltip"\x3e\x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" aria-label\x3d"${removeLabel}" data-dojo-attach-point\x3d"removeBtn"\x3e\r\n    \x3cspan class\x3d"screen-readers-only"\x3e${removeLabel}\x3c/span\x3e\r\n    ${!icons.x.16}\r\n  \x3c/button\x3e\r\n  \x3cdiv class\x3d"hide font-size--1" data-dojo-attach-point\x3d"removedContainer"\x3e\r\n    ${i18n.removed} \x3ccalcite-link data-dojo-attach-point\x3d"undoBtn"\x3e${i18n.undo}\x3c/calcite-link\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InfoTooltip/templates/InfoTooltip.html":'\x3cdiv class\x3d"inline-block"\x3e\r\n    \x3cbutton type\x3d"button" class\x3d"btn-link btn-link-darker-gray info-icon ${buttonClasses}" aria-label\x3d"${buttonAriaLabel}" data-dojo-attach-point\x3d"_infoButton"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"iconWrapper"\x3e${!icons.inline.info.16}\x3c/div\x3e\r\n        \x3cdiv class\x3d"hide margin-left-quarter font-size--1" data-dojo-attach-point\x3d"infoTextEl"\x3e${infoText}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_popover" class\x3d"text-left"\x3e\r\n        \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"_closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n        \x3cdiv class\x3d"popover-title"\x3e${title}\x3c/div\x3e\r\n        \x3cdiv class\x3d"popover-text leader-half" data-dojo-attach-point\x3d"_popoverContent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Overlay/templates/Overlay.html":'\x3cdiv class\x3d"overlay-background js-overlay-background" data-dojo-attach-point\x3d"_backgroundScrim" id\x3d"${id}"\x3e\r\n  \x3cdiv\r\n    class\x3d"overlay overlay--${background} ${class} js-overlay"\r\n    role\x3d"dialog"\r\n    aria-labelledby\x3d"overlay-title-${uid}"\r\n    aria-modal\x3d"true"\r\n    data-dojo-attach-point\x3d"_overlay"\r\n  \x3e\r\n    \x3cdiv\r\n      class\x3d"js-overlay-loader overlay-loader-container overlay-white fullscreen"\r\n      data-dojo-attach-point\x3d"_overlayLoader"\r\n    \x3e\r\n      \x3cdiv class\x3d"loader is-active"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"loader-text overlay-loader-text" data-dojo-attach-point\x3d"_overlayLoaderText"\x3e\r\n          ${!loadingText}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"overlay-title-bar flex js-overlay-title-bar" data-dojo-attach-point\x3d"_overlayTitleBar"\x3e\r\n      \x3cdiv class\x3d"flex overlay-mobile__title font-size-2"\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__back-arrow" data-dojo-attach-point\x3d"_backArrow" aria-label\x3d"${i18n.common.close}" tabindex\x3d"0"\x3e${!icons.arrow-left.24}\x3c/div\x3e\r\n        \x3cdiv class\x3d"overlay-mobile__title-text" data-dojo-attach-point\x3d"mobileTitle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3ch3 id\x3d"overlay-title-${uid}" class\x3d"overlay-title flex-1" title\x3d"${title}" data-dojo-attach-point\x3d"overlayTitle"\x3e${title}\x3c/h3\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 margin-right-half flex-0 overlay-help hide"\r\n          data-dojo-attach-point\x3d"_helpBtn"\r\n          aria-label\x3d"help"\r\n        \x3e\r\n          ${!icons.question.32}\x3c/button\r\n        \x3e\x3cbutton\r\n          class\x3d"btn-link btn-link-off-black font-size-2 flex-0 overlay-close"\r\n          data-dojo-attach-point\x3d"closeBtn"\r\n          aria-label\x3d"${i18n.common.close}"\r\n        \x3e\r\n          ${!icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-overlay-control-bar"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-control-bar-filters js-overlay-control-bar-filters"\x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      class\x3d"overlay-content js-overlay-content"\r\n      data-dojo-attach-point\x3d"_overlayContentWrapper"\r\n      id\x3d"overlay-content-${uid}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-action-bar ${showActionBar:hide}" data-dojo-attach-point\x3d"_overlayActionBar"\x3e\r\n      \x3cbutton class\x3d"hide btn-link" data-dojo-attach-point\x3d"backBtn"\x3e\x3c/button\x3e\r\n      \x3cnav class\x3d"right"\x3e\r\n        \x3cbutton class\x3d"btn js-overlay-primary" data-dojo-attach-point\x3d"_primaryBtn"\x3e${primaryBtnText}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear js-overlay-cancel" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.common.cancel}\r\n        \x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-folder-loader folder-loader loader loader-centered overlay-white"\x3e\r\n      \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/MemberBrowser/templates/MemberBrowser.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-top-bar sticky-top"\x3e\r\n    \x3cdiv class\x3d"js-control-bar"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-wrapper-loader is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseMembers.loadingMembers}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"grid-container padding-trailer-half padding-leader-half hide js-member-browser-wrapper"\x3e\r\n    \x3cdiv class\x3d"flex column-24"\x3e\r\n      \x3cdiv class\x3d"js-filters-panel"\x3e\r\n        \x3cdiv class\x3d"js-membership-notice group-membership-notice font-size--1 hide"\x3e\r\n          \x3cdiv class\x3d"avenir-demi"\x3e${i18n.createGroupOverlay.whoCanJoin}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-membership-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-half font-size--1 avenir-demi tablet-hide js-filters-title"\x3e${i18n.myOrganization.manageLicenseMembers.filters}\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-outside-org-toggle"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-mfa-toggle"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"filters--accordion js-member-filters"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\r\n        \x3cdiv class\x3d"flex flex-wrap trailer-half font-size--2"\x3e\r\n          \x3cdiv class\x3d"js-filter-status-mobile"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex full-width flex-space-between"\x3e\r\n            \x3cdiv class\x3d"js-show-on-select hide flex-0 flex-center"\x3e\r\n              \x3cdiv class\x3d"js-selected-members"\x3e\x3c/div\x3e\r\n              \x3cbutton\r\n                class\x3d"btn btn-link btn-link--inherit margin-left-1 leader-quarter trailer-quarter js-deselect"\x3e${i18n.GroupWidget.deselect}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-1 flex flex-align-center js-count-and-status"\x3e\r\n              \x3cdiv class\x3d"js-grid-member-count flex-0 padding-right-1 padding-leader-quarter padding-trailer-quarter"\x3e\x3c/div\x3e\r\n              \x3cdiv class\x3d"js-filter-status flex-1"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex"\x3e\r\n              \x3cdiv class\x3d"js-select-all-wrapper hide"\x3e\r\n                \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit margin-left-1 leader-quarter trailer-quarter js-select-all phone-hide"\x3e${i18n.filters.selectAll}\x3c/button\x3e\r\n                \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit margin-left-1 leader-quarter trailer-quarter js-deselect-all phone-hide hide"\x3e${i18n.filters.deselectAll}\x3c/button\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv class\x3d"js-select-page-wrapper"\x3e\r\n                \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit margin-left-1 leader-quarter trailer-quarter js-select-page phone-hide"\x3e${i18n.filters.selectPage}\x3c/button\x3e\r\n                \x3cbutton class\x3d"flex-0 btn btn-link btn-link--inherit margin-left-1 leader-quarter trailer-quarter js-deselect-page hide phone-hide"\x3e${i18n.filters.deselectPage}\x3c/button\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-grid"\x3e\r\n          \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-loader"\x3e\r\n            \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseMembers.loadingMembers}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"hide leader-3 text-center js-no-results"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-members-list"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide text-center panel js-search-for-results"\x3e\r\n          \x3csvg viewBox\x3d"0 0 64 64" width\x3d"128" height\x3d"128" class\x3d"trailer-half leader-1" fill\x3d"#a9a9a9"\x3e\r\n            \x3cpath d\x3d"M16.37 23.071c1.418 4.135 5.303 7.329 7.738 7.329 2.531 0 6.561-3.424 7.858-7.702 3.067-2.303 1.683-8.088.39-10.09l-.326-.513c-1.1-1.74-1.968-3.114-5.152-3.673-3.39-.595-5.45.604-6.624 1.83a1.72 1.72 0 0 0-1.275-.019c-2.742.833-4.323 4.461-4.57 6.772-.164 1.54-.113 4.346 1.96 6.066zm7.738 6.53c-1.888 0-5.622-2.842-6.978-6.779a23.946 23.946 0 0 1 2.205-5.96 12.824 12.824 0 0 0 .824-1.633c3.33 2.389 7.73 1.82 9.02 1.585.207.625.751 2.211 2.026 5.638-1.25 4.153-5.083 7.148-7.097 7.148zM15.205 17.09c.216-2.032 1.64-5.372 4.007-6.091a1.54 1.54 0 0 1 .438-.077.477.477 0 0 1 .369.133l.305.33.292-.342c.988-1.152 2.853-2.408 6.124-1.833 2.835.498 3.543 1.617 4.613 3.312l.331.52c1.14 1.766 2.228 6.654.128 8.746-1.62-4.365-1.975-5.54-1.978-5.552l-.108-.361-.367.086c-.056.013-5.543 1.26-9.12-1.679l-.43-.353-.199.52a12.524 12.524 0 0 1-.959 1.998 23.028 23.028 0 0 0-2.168 5.65 6.431 6.431 0 0 1-1.278-5.007zm21.53 16.773l-.656.459c-1.41-2.01-4.427-3.136-7.72-4.166-.348 2.295-2.808 4.91-4.359 4.91s-4.01-2.615-4.358-4.91c-3.294 1.03-6.31 2.156-7.721 4.166l-.655-.46c1.624-2.314 5.002-3.505 8.616-4.618l.518-.159v.541c0 2.041 2.44 4.64 3.6 4.64s3.6-2.599 3.6-4.64v-.541l.518.16c3.614 1.112 6.992 2.303 8.616 4.618zm23.013 20.606L44.447 39.167l-1.414 1.415-3.801-3.801a19.94 19.94 0 1 0-2.451 2.45l3.803 3.803-1.414 1.415 15.299 15.3a2.382 2.382 0 0 0 1.697.702h.002a2.413 2.413 0 0 0 1.695-.702l1.886-1.886a2.4 2.4 0 0 0 0-3.394zM4.9 24A19.1 19.1 0 1 1 24 43.1 19.122 19.122 0 0 1 4.9 24zm32.474 14.693q.69-.63 1.32-1.32l3.774 3.775-1.32 1.32zm21.81 18.604l-1.887 1.886a1.61 1.61 0 0 1-1.13.468h-.001a1.589 1.589 0 0 1-1.131-.468L40.3 44.449l4.146-4.15 14.736 14.736a1.6 1.6 0 0 1 0 2.262z" /\x3e\r\n          \x3c/svg\x3e\r\n          \x3cp class\x3d"font-size--1 text-darker-gray text-constrain-narrow text-center margin-auto"\x3e${i18n.GroupWidget.searchForResults}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide text-center panel js-suspended-collab"\x3e\r\n          \x3ccalcite-icon scale\x3d"l" icon\x3d"users" class\x3d"leader-1 trailer-1"\x3e\x3c/calcite-icon\x3e\r\n          \x3cp class\x3d"text-darker-gray text-constrain-narrow text-center margin-auto js-suspended-text"\x3e${i18n.GroupWidget.suspendedCollabResults}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Pagination/templates/Number.html":'\x3cli\x3e\x3ca href\x3d"#" class\x3d"js-btn btn btn-small pagination-btn ${is-active}" data-page\x3d"${pageNum}" aria-label\x3d"${label}" ${current}\x3e${pageNum}\x3c/a\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Ellipsis.html":'\x3cli\x3e\x3cspan class\x3d"avenir-light text-light-gray btn-small pagination-btn--inactive"\x3e${pageNum}\x3c/span\x3e\x3c/li\x3e\r\n',"url:arcgisonline/pages/dijit/Pagination/templates/Pagination.html":'\x3cdiv class\x3d"text-center trailer-1 padding-leader-1" data-dojo-attach-point\x3d"pagination"\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow margin-auto trailer-1 js-over-limit"\x3e${i18n.contentPage.errors.overItemLimit}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex phone-flex-column"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cnav class\x3d"pagination margin-auto" data-dojo-attach-point\x3d"navigation" role\x3d"navigation" aria-label\x3d"${i18n.contentPage.paginationLabel}"\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationPrevious}" class\x3d"js-btn-previous js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"previous"\x3e${i18n.common.previous}\x3c/a\x3e\r\n          \x3cspan class\x3d"js-pagination-links pagination-links" data-dojo-attach-point\x3d"pageLinks"\x3e\x3c/span\x3e\r\n          \x3ca href\x3d"#" aria-label\x3d"${i18n.contentPage.paginationNext}" class\x3d"js-btn-next js-btn pagination-btn btn btn-small btn-transparent btn-disabled" data-dojo-attach-point\x3d"next"\x3e${i18n.common.next}\x3c/a\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0" data-dojo-attach-point\x3d"_pageDropdown"\x3e\r\n      \x3cdiv class\x3d"dropdown dropdown-up js-dropdown padding-leader-quarter right full-width phone-leader-half"\x3e\r\n        \x3c!-- extends side-nav --\x3e\r\n        \x3cbutton class\x3d"btn-link font-size--2 btn-link-black js-dropdown-toggle" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_pageNumLabel"\x3e\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n        \x3c/button\x3e\r\n        \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link is-active" role\x3d"menuitem" data-num\x3d"20"\x3e20\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"60"\x3e60\x3c/button\x3e\r\n          \x3cbutton class\x3d"js-page-num-link dropdown-link" role\x3d"menuitem" data-num\x3d"100"\x3e100\x3c/button\x3e\r\n        \x3c/nav\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/members/SearchDropdown.html":'\x3cdiv class\x3d"control-bar__action js-dropdown control-bar--search-dropdown"\x3e\r\n    \x3cbutton class\x3d"control-bar__btn js-toggle-search-dropdown js-dropdown-toggle" aria-label\x3d"${i18n.myOrganization.membersTab.searchMembersBy}" aria-controls\x3d"sortmenu" data-dojo-attach-point\x3d"_toggleLink" tabindex\x3d"0" aria-haspopup\x3d"true" aria-expanded\x3d"false"\x3e\r\n        \x3cspan class\x3d"control-bar__btn-text js-search-label" data-dojo-attach-point\x3d"_searchLabel"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e${!icons.inline-end.chevron-down.16}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"control-bar__dropdown-menu dropdown-menu js-control-bar-search-dropdown" role\x3d"menu" id\x3d"searchmenu" aria-labelledby\x3d"searchmenutitle"\x3e\r\n        \x3ch3 class\x3d"control-bar__dropdown-menu__title" id\x3d"searchmenutitle"\x3e\r\n            ${i18n.myOrganization.membersTab.searchMembersBy}\r\n            \x3cbutton class\x3d"js-dropdown-toggle control-bar__dropdown-menu__close control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n                ${!icons.x.24}\r\n            \x3c/button\x3e\r\n        \x3c/h3\x3e\r\n        \x3cnav class\x3d"js-search-options"\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item is-active"  role\x3d"menuitem" data-property\x3d"fullname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.fullName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"username"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.username}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"firstname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.firstName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"js-search-dropdown-property control-bar__dropdown-item" role\x3d"menuitem" data-property\x3d"lastname"\x3e\r\n                \x3cspan class\x3d"control-bar__dropdown-item__label"\x3e${i18n.myOrganization.membersTab.lastName}\x3c/span\x3e\r\n            \x3c/button\x3e\r\n        \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/ControlBar/templates/ControlBar.html":'\x3cdiv class\x3d"control-bar ${hideActionClass} ${hideRightClass} ${marginClass} ${positionAbsoluteClass}"\x3e\r\n  \x3cdiv class\x3d"grid-container"\x3e\r\n    \x3cdiv class\x3d"column-24 flex"\x3e\r\n      \x3cdiv class\x3d"js-control-bar-actions control-bar__section control-bar__section--left flex flex-center flex-0"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__search ${searchActionClass} flex-1 flex js-control-bar-search-wrap"\x3e\r\n        \x3cspan class\x3d"control-bar__search-icon"\x3e${!icons.search-f.24}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-control-bar-search"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search-dropdown js-control-bar-search-dropdown hide"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"control-bar__search__error input-error-message js-control-bar-search-error"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"control-bar__section control-bar__section--right flex flex-center js-control-bar-right-section"\x3e\r\n        \x3cdiv class\x3d"js-control-bar-view-dropdown control-bar__action--view"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-sort-dropdown"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-filter-toggle ${hideFilterClass}"\x3e\r\n          \x3ccalcite-button appearance\x3d"transparent" kind\x3d"neutral" icon-start\x3d"sliders" class\x3d"js-toggle-filters"\x3e\r\n            \x3cspan class\x3d"js-toggle-filters-label"\x3e\r\n              ${i18n.filters.filters}\r\n            \x3c/span\x3e\r\n          \x3c/calcite-button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-control-bar-refresh control-bar__refresh hide"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/ControlBar/templates/Filters.html":'\x3cdiv class\x3d"view--filters js-filters-mobile-wrap" id\x3d"view-filters-wrap"\x3e\r\n  \x3cdiv class\x3d"control-bar__overlay"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"view--filters--wrap flex-column"\x3e\r\n    \x3cdiv class\x3d"view--filters--header clearfix flex-0"\x3e\r\n      \x3ch3 class\x3d"trailer-0 font-size-1"\x3e\r\n        ${i18n.controlBar.filter}\r\n        \x3cbutton class\x3d"js-collapse-filters-button control-bar__dropdown-menu__close control-bar__dropdown-menu__close--flush control-bar__btn right" aria-label\x3d"${i18n.common.close}"\x3e\r\n          ${icons.x.32}\r\n        \x3c/button\x3e\r\n      \x3c/h3\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filters-insert flex-1 view--filters--content leader-quarter"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"view--filters--footer flex-0"\x3e\r\n      \x3cbutton class\x3d"btn display-block margin-auto js-collapse-filters-button js-view-filter-results-button"\x3e${i18n.controlBar.viewResults}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterStatus.html":'\x3cdiv class\x3d"padding-left-1 inline-block flex-1 filter-chip-wrap hide" data-dojo-attach-point\x3d"filterChipWrap"\x3e\r\n    \x3cspan class\x3d"font-size--2 margin-right-half filter-chips-label"\x3e${i18n.GroupWidget.filters}\x3c/span\x3e\r\n    \x3cspan class\x3d"margin-right-half break-word filter-chips" data-dojo-attach-point\x3d"filterChips"\x3e\x3c/span\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-off-black font-size--2 filter-clear-all" data-dojo-attach-point\x3d"clearAll"\x3e${i18n.GroupWidget.clearAll}\x3c/a\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/FilterStatus/templates/FilterChip.html":'\x3cspan class\x3d"filter-chip margin-right-half js-filter-chip" data-filter\x3d"${filter.param}" data-value\x3d"${selected.value}"\x3e\r\n  \x3cspan class\x3d"filter-chip-text"\x3e${filter.chipText} ${selected.label}\x3c/span\x3e\r\n  \x3cbutton\r\n    class\x3d"filter-chip--remove js-filter-chip-remove"\r\n    data-filter\x3d"${filter.param}"\r\n    data-value\x3d"${selected.value}"\r\n    aria-label\x3d"${i18n.FilterDlg.removeFilterBtn}: \'${filter.chipText} ${selected.simpleLabel}\'"\r\n  \x3e${icons.x.16}\r\n  \x3c/button\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingleWithSearch/templates/FilterSingleWithSearch.html":'\x3ccalcite-accordion scale\x3d"m" icon-position\x3d"start" class\x3d"${cssClasses} filter-content-container" appearance\x3d"transparent"\x3e\r\n  \x3ccalcite-accordion-item heading\x3d"${title}" data-dojo-attach-point\x3d"accordionItem"\x3e\r\n    \x3cdiv class\x3d"js-filter-content"\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n        \x3ccalcite-input\r\n          class\x3d"filters--accordion--input"\r\n          type\x3d"search"\r\n          icon\x3d"search"\r\n          data-dojo-attach-point\x3d"_searchInput"\r\n          placeholder\x3d"${searchText}"\r\n          aria-label\x3d"${searchText}"\r\n        \x3e\x3c/calcite-input\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv\r\n        class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"\r\n        data-dojo-attach-point\x3d"_filterList"\r\n      \x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filter-actions-end" slot\x3d"actions-end"\x3e\x3c/div\x3e\r\n  \x3c/calcite-accordion-item\x3e\r\n\x3c/calcite-accordion\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterSingle.html":'\x3cul class\x3d"filter-tree" role\x3d"listbox"\x3e${list}\x3c/ul\x3e\r\n\r\n',"url:arcgisonline/pages/dijit/FilterSingle/templates/FilterOption.html":'\x3cli class\x3d"filter-tree-item filter-tree-item-single ${selected} js-filter-item" data-value\x3d"${value}"\x3e\r\n  \x3ca role\x3d"option" aria-selected\x3d"false" href\x3d"#" title\x3d"${label}" class\x3d"filter-tree-link js-filter-link" data-param\x3d"${param}" data-value\x3d"${value}"\x3e${label}\x3cspan class\x3d"js-filter-link-count hide filter-tree-count margin-left-quarter inline-block no-pointer" data-value\x3d"${value}"\x3e\x3c/span\x3e\x3c/a\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterSingle/templates/ClearAll.html":'\x3cbutton class\x3d"js-clear-filter btn-link btn-link-off-black font-size--3 right ${hide} clear-filter-button" data-filter-param\x3d"${param}" aria-label\x3d"${clearText}"\x3e${i18n.groupSelector.clear}\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/FilterDate/templates/FilterDate.html":'\x3cul class\x3d"filter-tree" role\x3d"listbox"\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"today"\x3e\r\n    \x3ca href\x3d"#" role\x3d"option" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.today}" data-value\x3d"today"\x3e${i18n.filters.today}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"yesterday"\x3e\r\n    \x3ca href\x3d"#" role\x3d"option" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.yesterday}" data-value\x3d"yesterday"\x3e${i18n.filters.yesterday}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last7Days"\x3e\r\n    \x3ca href\x3d"#" role\x3d"option" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last7Days}" data-value\x3d"last7Days"\x3e${i18n.filters.last7Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"last30Days"\x3e\r\n    \x3ca href\x3d"#" role\x3d"option" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.last30Days}" data-value\x3d"last30Days"\x3e${i18n.filters.last30Days}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item hide" data-dojo-attach-point\x3d"_neverOption" data-value\x3d"never"\x3e\r\n    \x3ca href\x3d"#" role\x3d"option" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.never}" data-value\x3d"never"\x3e${i18n.filters.never}\x3c/a\x3e\r\n  \x3c/li\x3e\r\n  \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-value\x3d"custom"\x3e\r\n    \x3ca href\x3d"#" role\x3d"option" class\x3d"filter-tree-link js-filter-link" title\x3d"${i18n.filters.customRange}" data-value\x3d"custom"\x3e${i18n.filters.customRange}\x3c/a\x3e\r\n    \x3cdiv class\x3d"js-custom-date-select hide font-size--3 margin-left-1 margin-right-0"\x3e\r\n      \x3clabel class\x3d"trailer-quarter" for\x3d"${uid}-start"\x3e\r\n        ${i18n.filters.from}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-start" data-dojo-attach-point\x3d"customStart" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customStartError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel class\x3d"trailer-0" for\x3d"${uid}-end"\x3e\r\n        ${i18n.filters.to}\r\n        \x3ccalcite-input-date-picker id\x3d"${uid}-end" data-dojo-attach-point\x3d"customEnd" placement\x3d"top"\x3e\x3c/calcite-input-date-picker\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"customEndError"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/li\x3e\r\n\x3c/ul\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterOrganizationGroups/templates/FilterOrganizationGroups.html":'\x3ccalcite-accordion\r\n  scale\x3d"m"\r\n  title\x3d"${title}"\r\n  icon-position\x3d"start"\r\n  class\x3d"${cssClasses} filter-content-container"\r\n  appearance\x3d"transparent"\r\n\x3e\r\n  \x3ccalcite-accordion-item heading\x3d"${title}" data-dojo-attach-point\x3d"accordionItem"\x3e\r\n    \x3cdiv class\x3d"js-filter-content"\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_searchContainer"\x3e\r\n        \x3ccalcite-input\r\n          class\x3d"filters--accordion--input"\r\n          type\x3d"search"\r\n          icon\x3d"search"\r\n          data-dojo-attach-point\x3d"_searchInput"\r\n          placeholder\x3d"${searchText}"\r\n          aria-label\x3d"${searchText}"\r\n        \x3e\x3c/calcite-input\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv\r\n        class\x3d"filters--accordion--content max-height max-height--short min-heigt filter--wrap filter-scroll"\r\n        data-dojo-attach-point\x3d"_filterListWrap"\r\n      \x3e\x3c/div\x3e\r\n      \x3cp\r\n        class\x3d"trailer-0 font-size--3 padding-left-2 padding-right-2 padding-trailer-half hide"\r\n        data-dojo-attach-point\x3d"_noResults"\r\n      \x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/calcite-accordion-item\x3e\r\n\x3c/calcite-accordion\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCollabOrgs/FilterCollabOrgs.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"font-size--1 collab-toggle-container hide" data-dojo-attach-point\x3d"coordsToggleContainer"\x3e\r\n    \x3cdiv class\x3d"js-collab-contacts-toggle"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ccalcite-accordion icon-position\x3d"start" appearance\x3d"transparent" class\x3d"filter-content-container"\x3e\r\n    \x3ccalcite-accordion-item heading\x3d"${i18n.searchFilters.collabOrgs}" data-dojo-attach-point\x3d"accordionItem" expanded\x3e\r\n      \x3cdiv class\x3d"js-filter-content"\x3e\r\n        \x3cdiv\r\n          class\x3d"filters--accordion--content max-height max-height--short ${filterCssClasses} filter-scroll"\r\n          data-dojo-attach-point\x3d"filterList"\r\n        \x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-filter-actions-end" slot\x3d"actions-end"\x3e\x3c/div\x3e\r\n    \x3c/calcite-accordion-item\x3e\r\n  \x3c/calcite-accordion\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategoryWrapper.html":'\x3ccalcite-accordion\r\n  icon-position\x3d"start"\r\n  appearance\x3d"transparent"\r\n  class\x3d"filter-content-container accordion-section--categories js-filter-category-container"\r\n\x3e\r\n  \x3ccalcite-accordion-item heading\x3d"${i18n.contentCategories.categories}" expanded\x3e\r\n    \x3cdiv class\x3d"js-filter-content"\x3e\r\n      \x3cdiv class\x3d"max-height filters--accordion--content"\x3e\r\n        \x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-edit-category-slot padding-right-4" slot\x3d"actions-end"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-filter-actions-end" slot\x3d"actions-end"\x3e\x3c/div\x3e\r\n  \x3c/calcite-accordion-item\x3e\r\n\x3c/calcite-accordion\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/FilterCategory.html":'\x3cdiv\x3e\r\n  \x3c!-- if categories exist --\x3e\r\n  \x3cdiv class\x3d"js-category-filter hide"\x3e\r\n    \x3cul class\x3d"filter-tree js-uncategorized" role\x3d"tree"\x3e\x3c/ul\x3e\r\n    \x3cul class\x3d"filter-tree js-category-root position-relative" role\x3d"tree"\x3e\x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- if no categories but user is able to set up --\x3e\r\n  \x3cdiv class\x3d"padding-left-1 padding-right-1 js-no-categories-action hide"\x3e\r\n    \x3ch4 class\x3d"font-size-0 avenir-regular leader-half trailer-quarter"\x3e${noCategoriesText}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2 trailer-half"\x3e${filterDescription}\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small btn-wrap btn-clear trailer-half js-setup-categories"\x3e${setupText}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Category.html":'\x3cli class\x3d"js-filter-tree-item filter-tree-item-single filter-tree-item ${isActive} ${isParent}" data-category-name\x3d"${title}" data-category-path\x3d"${path}" role\x3d"treeitem"\x3e\r\n  \x3ca href\x3d"#" title\x3d"${title}" class\x3d"filter-tree-link js-filter-tree-link" data-category-name\x3d"${title}" data-category-path\x3d"${path}" data-category-description\x3d"${description}"\x3e\r\n    ${title}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"${normalizedPath}"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCategory/templates/Uncategorized.html":'\x3cli class\x3d"js-filter-tree-item-uncategorized filter-tree-item-single filter-tree-item"\x3e\r\n  \x3ca href\x3d"#" class\x3d"js-filter-tree-link-uncategorized filter-tree-link"\x3e\r\n    ${i18n.contentCategories.uncategorized}\r\n    \x3cspan class\x3d"js-category-count filter-tree-count hide-empty margin-left-quarter inline-block no-pointer" data-category-path\x3d"_none_"\x3e\x3c/span\x3e\r\n  \x3c/a\x3e\r\n\x3c/li\x3e',
"url:arcgisonline/pages/dijit/FilterCategory/templates/CategoryGroup.html":'\x3cul class\x3d"filter-tree" role\x3d"group"\x3e${categories}\x3c/ul\x3e',"url:arcgisonline/pages/dijit/FilterCategory/templates/EditSchemaButton.html":'\x3cspan\x3e\r\n  \x3cbutton\r\n    id\x3d"configure-category-schema-btn"\r\n    class\x3d"js-edit-categories edit-filter-category btn-link btn-link-off-black margin-left-1 font-size--3 inline-block hide"\r\n    aria-label\x3d"${contentCategoriesStrings.configureCategories}"\r\n  \x3e\r\n    ${icons.edit.16}\r\n  \x3c/button\x3e\r\n  \x3ccalcite-tooltip label\x3d"${contentCategoriesStrings.configureCategories}" reference-element\x3d"configure-category-schema-btn"\x3e\r\n    \x3cspan class\x3d"avenir-regular font-size--3 trailer-0 leader-0"\x3e${contentCategoriesStrings.configureCategories}\x3c/span\x3e\r\n  \x3c/calcite-tooltip\x3e\r\n\x3c/span\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/CategoryEdit.html":'\x3cdiv class\x3d"grid-container"\x3e\r\n  \x3cdiv class\x3d"loader padding-leader-5 padding-trailer-5 js-content-loading is-active"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.common.loading}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-category-wrapper hide"\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-setup-explanation hide"\x3e\r\n      \x3cnav class\x3d"category-setup-options js-standard-categories-nav"\x3e\r\n        \x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option is-active" data-category-set\x3d"custom"\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e${i18n.contentCategories.customTitle}\x3c/h4\x3e\r\n          \x3cp class\x3d"font-size--3 trailer-0"\x3e${i18n.contentCategories.customText}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-14 pre-1 post-1 leader-1 trailer-1"\x3e\r\n      \x3cdiv class\x3d"inline-block"\x3e\r\n        \x3cbutton class\x3d"btn-link position-relative flex flex-align-center is-parent is-open margin-left-2 hide js-toggle-all-btn" \x3e\r\n          \x3cdiv class\x3d"category-editor-expand"\x3e\r\n            \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-dot"\x3e\r\n              \x3ccircle cx\x3d"8" cy\x3d"16" r\x3d"4"\x3e\x3c/circle\x3e\r\n            \x3c/svg\x3e\r\n            \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-minus"\x3e\r\n              \x3cpath d\x3d"M15 17H1v-2h14v2z"\x3e\x3c/path\x3e\r\n            \x3c/svg\x3e\r\n            \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-plus"\x3e\r\n              \x3cpath d\x3d"M15 17H9v6H7v-6H1v-2h6V9h2v6h6v2z"\x3e\x3c/path\x3e\r\n            \x3c/svg\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"margin-left-half font-size-1 js-toggle-all-label"\x3e${i18n.common.collapseAll}\x3c/div\x3e\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-category-container"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"column-8 leader-1 padding-leader-half js-category-edit-explanation"\x3e\r\n      \x3cp\x3e${i18n.contentCategories.editCategorySchemaExplanation}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Node.html":'\x3cli class\x3d"category-editor-item category-editor-item__offset ${isOpen} ${isParent} js-category-edit-li" role\x3d"treeitem" data-category-path\x3d"${path}"\x3e\r\n  \x3cbutton class\x3d"category-editor-expand category-edit-expand__absolute js-toggle-item"\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-dot"\x3e\r\n      \x3ccircle cx\x3d"8" cy\x3d"16" r\x3d"4"\x3e\x3c/circle\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-minus"\x3e\r\n      \x3cpath d\x3d"M15 17H1v-2h14v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"16" height\x3d"16" viewBox\x3d"0 8 16 16" class\x3d"category-editor-expand-icon category-editor-plus"\x3e\r\n      \x3cpath d\x3d"M15 17H9v6H7v-6H1v-2h6V9h2v6h6v2z"\x3e\x3c/path\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n  \x3cspan class\x3d"category-edit-item js-category-edit-item" data-current-category\x3d"${title}"\x3e\r\n    \x3cspan class\x3d"category-edit-item--title js-category-edit-title"\x3e${title} \x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path:lowerCase}"\x3e\x3c/span\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"category-edit-item--actions js-category-edit-actions inline-block right if-renameDeleteFromSchema"\x3e\r\n      \x3cbutton class\x3d"tooltip category-edit-item--action js-category-edit-button" aria-label\x3d"${i18n.contentCategories.editCategory}"\x3e\r\n        ${icons.edit.16}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"tooltip tooltip-bottom-right category-edit-item--action category-edit-item--action--delete js-category-delete-button" aria-label\x3d"${i18n.contentCategories.deleteCategory}"\x3e\r\n        ${icons.trash.16}\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n    \x3cform class\x3d"category-edit-form flex js-category-edit-form"\x3e\r\n      \x3clabel class\x3d"flex-1 overflow-visible trailer-0" for\x3d"category-editor-${title:hyphenate}-input"\x3e\r\n        \x3cspan class\x3d"screen-readers-only"\x3e${i18n.contentCategories.categoryName}\x3c/span\x3e\r\n        \x3cinput id\x3d"category-editor-${title:hyphenate}-input" type\x3d"text" value\x3d"${title}" class\x3d"js-category-item-input category-edit-form__input"\x3e\r\n        \x3cdiv class\x3d"js-category-item-input-error input-error-message"\x3e\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cspan class\x3d"category-edit-form__actions"\x3e\r\n        \x3cbutton class\x3d"js-category-edit-submit tooltip tooltip-bottom btn-link category-edit-form__action category-edit-form__action--green" type\x3d"submit" disabled aria-label\x3d"${saveText}"\x3e${icons.check.24}\x3c/button\x3e\r\n        \x3cbutton class\x3d"js-category-cancel-edit tooltip tooltip-bottom btn-link category-edit-form__action" aria-label\x3d"${i18n.common.cancel}"\x3e${icons.x.24}\x3c/button\x3e\r\n      \x3c/span\x3e\r\n    \x3c/form\x3e\r\n  \x3c/span\x3e\r\n  \x3cdiv class\x3d"category-edit--delete-warning category-edit--messaging js-category-edit-delete-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-1"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-explanation font-size--1 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-red btn-small js-delete-confirm"\x3e${i18n.contentCategories.deleteCategory}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-delete"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--edit-warning category-edit--messaging js-category-edit-warning hide"\x3e\r\n    \x3ch4 class\x3d"trailer-quarter font-size-0"\x3e\x3csvg class\x3d"trailer-quarter margin-right-half align-middle" xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"#d9bf2b" d\x3d"M23.767 20.569L13.995 2.827a1.745 1.745 0 0 0-2.969 0l-9.8 17.742a1.603 1.603 0 0 0 0 1.656 1.678 1.678 0 0 0 1.48.775H22.28a1.68 1.68 0 0 0 1.484-.775 1.609 1.609 0 0 0 .003-1.656zm-.861 1.143a.725.725 0 0 1-.626.288H2.708a.723.723 0 0 1-.623-.286.605.605 0 0 1-.001-.632l9.82-17.773A.71.71 0 0 1 12.508 3a.73.73 0 0 1 .629.342l9.751 17.708a.626.626 0 0 1 .017.662zM13 16h-1V9h1zm.5 2.5a1 1 0 1 1-1-1 1.002 1.002 0 0 1 1 1z"/\x3e\x3c/svg\x3e${i18n.contentCategories.categoryInUse}\x3c/h4\x3e\r\n    \x3cp class\x3d"js-category-in-use-edit-explanation font-size--2 trailer-half"\x3e\x3c/p\x3e\r\n    \x3cbutton class\x3d"btn btn-small js-edit-confirm"\x3e${i18n.contentCategories.continue}\x3c/button\x3e\x3cbutton class\x3d"btn btn-clear btn-small margin-left-quarter js-cancel-edit calcite-web-btn calcite-web-btn-clear"\x3e${i18n.common.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"category-edit--loader category-edit--messaging js-category-loader hide"\x3e\r\n    \x3ch4 class\x3d"trailer-half font-size-1"\x3e${i18n.contentCategories.updating}\x3c/h4\x3e\r\n    \x3cp class\x3d"font-size--2"\x3e${i18n.contentCategories.noNavigate}\x3c/p\x3e\r\n    \x3cdiv class\x3d"progress-bar leader-1 margin-left-0"\x3e\r\n      \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-category-loader-bar"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"js-loading-message font-size--2 leader-half padding-left-1 text-right"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  ${children}\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/Group.html":'\x3cul role\x3d"group" class\x3d"category-editor-group category-editor-group--spaced js-category-group"\x3e\r\n  ${categories}\r\n  \x3cbutton class\x3d"js-add-sibling category-editor-add-sibling tooltip tooltip-right" aria-label\x3d"${ariaText}" data-category-path\x3d"${path}"\x3e\r\n    \x3csvg class\x3d"category-editor-add-sibling-icon" xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"20" height\x3d"20" viewBox\x3d"0 0 16 16"\x3e\r\n      \x3cpath fill\x3d"#828282" d\x3d"M12 8.57H8.572V12H7.429V8.57H4V7.428h3.429V4h1.144v3.428H12V8.57z"/\x3e\r\n      \x3ccircle fill\x3d"none" stroke\x3d"#828282" stroke-miterlimit\x3d"10" stroke-dasharray\x3d"1.9519,0.9759" cx\x3d"8" cy\x3d"8" r\x3d"7"/\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/button\x3e\r\n\x3c/ul\x3e',
"url:arcgisonline/pages/dijit/CategoryEdit/templates/_count.html":'\x3cspan class\x3d"js-category-count category-edit-item--count" data-category-path\x3d"${path}"\x3e(${num})\x3c/span\x3e',"url:arcgisonline/pages/dijit/CategoryEdit/templates/_standard.html":'\x3cdiv role\x3d"button" tabindex\x3d"0" class\x3d"category-setup-option js-category-setup-option" data-category-set\x3d"${key}"\x3e\r\n  \x3ch4 class\x3d"font-size-0 trailer-quarter"\x3e\r\n    ${title}\r\n    \x3ca href\x3d"${helpBase}${helpLink}" aria-label\x3d"${i18n.addItemFrm.learnMore}" class\x3d"tooltip right" target\x3d"_blank"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" width\x3d"24" height\x3d"24"\x3e\x3cpath fill\x3d"currentColor" d\x3d"M11.5 1A10.5 10.5 0 1 0 22 11.5 10.499 10.499 0 0 0 11.5 1zm0 20.1a9.6 9.6 0 1 1 9.6-9.6 9.61 9.61 0 0 1-9.6 9.6zM13 18h-3v-1h1V8h1v9h1zM11.5 6.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM12 9h-2V8h2z"/\x3e\x3c/svg\x3e\r\n    \x3c/a\x3e\r\n  \x3c/h4\x3e\r\n  \x3cp class\x3d"font-size--3 trailer-0"\x3e${description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/SelectedMembers/templates/SelectedMembers.html":'\x3cdiv class\x3d"dropdown ${_directionClass} js-dropdown"\x3e\r\n  \x3cbutton data-dojo-attach-point\x3d"toggleBtn" class\x3d"btn-link flex font-size--1 assign-licenses__members-dropdown js-dropdown-toggle ${buttonClasses}"\x3e\r\n    \x3cdiv class\x3d"assign-licenses__members-text" data-dojo-attach-point\x3d"_membersSelectedLabel"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"assign-licenses__members-dropdown-arrow"\x3e\r\n      \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" id\x3d"icons" viewBox\x3d"0 0 16 16"\x3e\r\n        \x3cpath d\x3d"M5 1.5l7 7-7 7zm1 11.586L10.586 8.5 6 3.914z"\x3e\x3c/path\x3e\r\n      \x3c/svg\x3e\r\n    \x3c/div\x3e\r\n  \x3c/button\x3e\r\n  \x3cul class\x3d"dropdown-menu dropdown-${_directionClass} ${_sectionsClass} assign-licenses__members-selected-panel" role\x3d"menu" data-dojo-attach-point\x3d"_selectedMembersPanel"\x3e\r\n  \x3c/ul\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/AssignLicenses/templates/MembersSelectedRow.html":'\x3cli class\x3d"flex margin-left-0 trailer-half"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_memberThumb"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 members-selected-row__full-name" data-dojo-attach-point\x3d"nameEl"\x3e\r\n    ${member.fullName}\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray member-selected-row__close-btn" data-dojo-attach-point\x3d"_removeBtn"\x3e\r\n    \x3cspan class\x3d"screen-readers-only"\x3e${i18n.common.remove}\x3c/span\x3e\r\n    \x3ccalcite-icon scale\x3d"m" icon\x3d"x"\x3e\x3c/calcite-icon\x3e\r\n  \x3c/button\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/dijit/AssignLicenses/templates/MembersSelectedSection.html":'\x3csection class\x3d"members-selected-section"\x3e\r\n    \x3cdiv class\x3d"font-size--3 trailer-half" data-dojo-attach-point\x3d"_licenseTypesLabel"\x3e\x3c/div\x3e\r\n    \x3cul class\x3d"list-plain margin-left-0 trailer-0 max-height" data-dojo-attach-point\x3d"_list"\x3e\x3c/ul\x3e\r\n\x3c/section\x3e\r\n',"url:arcgisonline/pages/dijit/MemberBrowser/templates/MemberBrowserRow.html":'\x3cdiv class\x3d"member-browser-row member-browser-row--select flex flex-center ${_activeClass}"\x3e\r\n  \x3cdiv class\x3d"flex-1 flex margin-right-half overflow-hidden"\x3e\r\n    \x3cdiv class\x3d"js-member-browser-row-thumbnail"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cspan class\x3d"js-member-browser-row-checkbox"\x3e\x3c/span\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/dijit/Checkbox/templates/Checkbox.html":'\x3clabel class\x3d"checkbox-custom-label ${labelClass}" for\x3d"${uid}"\x3e\r\n  \x3cinput id\x3d"${uid}" type\x3d"checkbox" class\x3d"checkbox-custom-input" ${_checked} data-dojo-attach-point\x3d"_checkbox" \x3e\r\n  \x3cspan class\x3d"checkbox-custom ${_modifierClasses}"\x3e\r\n    \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--checked"\x3e\x3cpath d\x3d"M12.753 3l-7.319 7.497L3.252 8.31 2 9.373l3.434 3.434L14 4.24z"/\x3e\x3c/svg\x3e\r\n    \x3csvg viewBox\x3d"0 0 16 16" class\x3d"checkbox-custom-icon checkbox-custom-icon--mixed"\x3e\x3cpath fill-rule\x3d"evenodd" clip-rule\x3d"evenodd" d\x3d"M4 7h8v2H4z"/\x3e\x3c/svg\x3e\r\n  \x3c/span\x3e\r\n  \x3cspan class\x3d"js-checkbox-label-text ${hideLabelClass}"\x3e${label}\x3c/span\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/ItemUpdated.html":'\x3cdiv class\x3d"trailer-1"\x3e\r\n  \x3cp\x3e${urlChanged}\x3c/p\x3e\r\n  \x3ch2 class\x3d"avenir-bold font-size-1"\x3e${i18n.newUrl}\x3c/h2\x3e\r\n  \x3ca class\x3d"break_word"  target\x3d"_blank" href\x3d"${newUrl}"\x3e${newUrl}\x3c/a\x3e\r\n  \x3ch2 class\x3d"leader-half avenir-bold font-size-1" \x3e${i18n.previousUrl}\x3c/h2\x3e\r\n  \x3ca class\x3d"break_word" target\x3d"_blank" href\x3d"${url}"\x3e${url}\x3c/a\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/AppLauncherRow.html":'\x3cdiv class\x3d"flex flex-align-center org-settings__card-list-row"\x3e\r\n  \x3cdiv class\x3d"js-app-icon"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"margin-left-1 flex-1" \x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"appLabel"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"appLauncherLabel" class\x3d"hide font-size--2"\x3e${i18n.shownInAppLauncher}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dropdown js-dropdown" role\x3d"menu"\x3e\r\n    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle" data-dojo-attach-point\x3d"actionsBtn" tabindex\x3d"0"\x3e\r\n      ${!icons.ellipsis-f.16}\r\n    \x3c/button\x3e\r\n    \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"editBtn"\x3e${i18n.edit}\x3c/button\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"removeBtn"\x3e${i18n.remove}\x3c/button\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/AppIcon.html":'\r\n\x3cdiv class\x3d"settings-app-launcher-row__icon position-relative"\x3e\r\n  \x3cimg class\x3d"settings-app-launcher-row__icon-img" data-dojo-attach-point\x3d"iconImg" alt\x3d"" class\x3d"org"\x3e\r\n  \x3cdiv class\x3d"settings-app-launcher-row__icon-abbr" data-dojo-attach-point\x3d"iconAbbr"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/templates/AppOverlay.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"app-overlay__content-bottom app-overlay--min-height"\x3e\r\n    \x3cdiv class\x3d"js-search-panel"\x3e\r\n      \x3clabel class\x3d"trailer-0"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n          ${i18n.application}\r\n          \x3cbutton id\x3d"search-app-icon-button" class\x3d"btn-link margin-left-quarter btn-link-darker-gray"\x3e\r\n            \x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"${isArabic}" /\x3e\r\n          \x3c/button\x3e\r\n          \x3ccalcite-popover\r\n            label\x3d"${i18n.popover.heading}"\r\n            reference-element\x3d"search-app-icon-button"\r\n            heading\x3d"${i18n.popover.heading}"\r\n            closeable\r\n          \x3e\r\n            \x3cdiv class\x3d"padding-1 app-search-popover__content"\x3e\r\n              \x3cp class\x3d"trailer-half"\x3e${i18n.popover.content}\x3c/p\x3e\r\n              \x3ca href\x3d"${searchLearnMoreLink}" target\x3d"_blank"\x3e${i18n.popover.learnMore}\x3c/a\x3e\r\n            \x3c/div\x3e\r\n          \x3c/calcite-popover\x3e\r\n        \x3c/div\x3e\r\n        \x3cinput\r\n          type\x3d"search"\r\n          class\x3d"js-app-search leader-quarter app-overlay__search-input"\r\n          placeholder\x3d"${i18n.searchOrUrl}"\r\n          aria-label\x3d"${i18n.searchOrUrl}"\r\n          title\x3d"${i18n.searchOrUrl}"\r\n          aria-controls\x3d"app-results-list"\r\n          autocomplete\x3d"off"\r\n        /\x3e\r\n        \x3cdiv class\x3d"js-search-error app-overlay__input-error input-error-message"\x3e${i18n.errors.mustSelectApp}\x3c/div\x3e\r\n      \x3c/label\x3e\r\n      \x3cul id\x3d"app-results-list" class\x3d"js-results-list app-picker-results hide" role\x3d"menu"\x3e\x3c/ul\x3e\r\n      \x3cp class\x3d"js-no-results leader-half trailer-half font-size--2 padding-left-1 padding-right-1 hide"\x3e\r\n        ${i18n.notFound}\r\n      \x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-label-icon-edit hide"\x3e\r\n      \x3cdiv class\x3d"trailer-quarter flex flex-align-center"\x3e\r\n        ${i18n.application}\r\n\r\n        \x3cbutton id\x3d"app-info-button" class\x3d"btn-link margin-left-quarter btn-link-darker-gray"\x3e\r\n          \x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"${isArabic}" /\x3e\r\n        \x3c/button\x3e\r\n        \x3ccalcite-popover\r\n          label\x3d"${i18n.popover.heading}"\r\n          reference-element\x3d"app-info-button"\r\n          heading\x3d"${i18n.popover.heading}"\r\n          overlay-positioning\x3d"fixed"\r\n          closeable\r\n        \x3e\r\n          \x3cdiv class\x3d"padding-1 app-search-popover__content"\x3e\r\n            \x3cp class\x3d"trailer-half"\x3e${i18n.popover.content}\x3c/p\x3e\r\n            \x3ca href\x3d"${searchLearnMoreLink}" target\x3d"_blank"\x3e${i18n.popover.learnMore}\x3c/a\x3e\r\n          \x3c/div\x3e\r\n        \x3c/calcite-popover\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"app-picker__selected-card flex flex-align-center trailer-1"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cdiv class\x3d"js-selected-title avenir-bold"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-selected-owner font-size--2"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"js-edit-btn btn btn-link btn-link-darker-gray"\x3e${editIcon}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3clabel for\x3d"show-in-app-launcher-checkbox" class\x3d"js-app-launcher-label hide"\x3e\r\n        \x3cinput type\x3d"checkbox" id\x3d"show-in-app-launcher-checkbox" class\x3d"js-app-launcher-checkbox" /\x3e\r\n        ${i18n.showInLauncher}\r\n      \x3c/label\x3e\r\n      \x3cdiv class\x3d"js-toggle-container hide"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-bottom-section app-overlay__bottom-section hide"\x3e\r\n        \x3cdiv class\x3d"text-center app-overlay__content-top trailer-1"\x3e\r\n          \x3cdiv class\x3d"js-selected-app-icon app-overlay__icon-container app-overlay__icon-no-app"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-upload-placeholder app-overlay__upload-icon-placeholder hide"\x3e${uploadIcon}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-selected-app-label app-overlay__app-name app-overlay__app-name--none leader-half"\x3e\r\n            ${i18n.noApp}\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"trailer-0"\x3e\r\n          ${i18n.label}\r\n          \x3cinput class\x3d"js-label-input app-picker__label-input" type\x3d"text" maxlength\x3d"25" /\x3e\r\n          \x3cdiv class\x3d"js-label-error app-overlay__input-error input-error-message"\x3e${i18n.errors.labelRequired}\x3c/div\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"js-label-max-chars font-size--1 app-picker__max-characters leader-quarter"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"app-overlay__icon-row flex leader-1"\x3e\r\n          \x3cdiv class\x3d"margin-right-2 flex-0"\x3e\r\n            ${i18n.icon}\r\n            \x3cdiv class\x3d"flex leader-quarter"\x3e\r\n              \x3cbutton class\x3d"btn btn-clear app-picker__icon-btn is-active js-default-btn"\x3e${i18n.default}\x3c/button\x3e\r\n              \x3cbutton class\x3d"btn btn-clear app-picker__icon-btn js-custom-img-btn"\x3e${i18n.customImage}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"app-overlay__icon-text-edit js-icon-text-edit"\x3e\r\n            ${i18n.iconText}\r\n            \x3cinput class\x3d"js-icon-text-input app-picker__icon-text-input" maxlength\x3d"4" type\x3d"text" /\x3e\r\n            \x3cdiv class\x3d"js-icon-text-max-chars font-size--1 app-picker__max-characters leader-quarter"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-upload-btn-container flex-1 hide"\x3e\r\n            \x3cbutton class\x3d"btn-link js-upload-btn app-picker__upload-img-btn"\x3e\r\n              ${uploadIconSmall} ${i18n.uploadImage}\r\n            \x3c/button\x3e\r\n            \x3cdiv class\x3d"js-uploaded-label app-picker__uploaded-img-label flex-1 flex flex-align-center hide"\x3e\r\n              \x3cdiv\x3e${imgIcon}\x3c/div\x3e\r\n              \x3cdiv class\x3d"flex-1 js-uploaded-label-text font-size--1 text-ellipsis"\x3e\x3c/div\x3e\r\n              \x3cbutton class\x3d"btn-link btn-link-darker-gray js-remove-img-btn"\x3e${xIcon}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n            \x3cform method\x3d"post" enctype\x3d"multipart/form-data" class\x3d"hide js-img-form"\x3e\r\n              \x3cinput name\x3d"file" type\x3d"file" class\x3d"js-file-input" /\x3e\r\n              \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json" /\x3e\r\n            \x3c/form\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/AppPickerRow.html":'\x3cli\r\n  class\x3d"app-picker-result-item "\r\n  role\x3d"menuitem"\r\n  aria-selected\x3d"false"\r\n  tabindex\x3d"0"\x3e\r\n  \x3cdiv class\x3d"avenir-bold"\x3e${app.title}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--2"\x3e${app.owner}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/li\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/CurrentThemeRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"contrastWarning" class\x3d"hide flex trailer-half current-theme-row__contrast-warning"\x3e\r\n    \x3cdiv\x3e${!icons.inline.exclamation-mark-triangle.16}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 font-size--1"\x3e${i18n.insufficientContrast}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"manageBtn"\x3e${i18n.manage}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/SettingsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-value-col position-relative" data-dojo-attach-point\x3d"_valueContainer"\x3e\r\n    \x3cdiv class\x3d"org-settings__read-only-value" data-dojo-attach-point\x3d"readOnlyValue"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-darker-gray flex text-left org-settings__edit-btn" data-dojo-attach-point\x3d"_editBtn" aria-haspopup\x3d"dialog" aria-label\x3d"${editA11yLabel}"\x3e\r\n      \x3cdiv class\x3d"org-settings__display-value" data-dojo-attach-point\x3d"_displayValue"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"margin-left-1 org-settings__edit-icon"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"hide org-settings__edit-form" data-dojo-attach-point\x3d"_editForm"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_formContent"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n          \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n          \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"_saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/SharedThemeOverlay.html":'\x3cdiv class\x3d"shared-theme-overlay__content" role\x3d"application"\x3e\r\n  \x3cdiv class\x3d"flex trailer-half"\x3e\r\n    \x3ch3 class\x3d"trailer-0 font-size-0 flex-1"\x3e${i18n.header}\x3c/h3\x3e\r\n    \x3cdiv\x3e${i18n.contrastRatio} ${infoIcon}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cdiv class\x3d"js-header-bg"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-header-text"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-column"\x3e\r\n      \x3cdiv class\x3d"nowrap visibility-hidden shared-theme-overlay__invis-holder"\x3e${i18n.contrastRatio} ${infoIcon}\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex-column shared-theme-overlay__contrast-col"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cdiv class\x3d"visibility-hidden"\x3e0.0\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-header-contrast"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex leader-1"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch3 class\x3d"font-size-0 trailer-half"\x3e${i18n.button}\x3c/h3\x3e\r\n      \x3cdiv class\x3d"js-button-bg"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-button-text"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-column"\x3e\r\n      \x3cdiv class\x3d"trailer-half nowrap visibility-hidden"\x3e${i18n.contrastRatio} ${infoIcon}\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex-column shared-theme-overlay__contrast-col"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cdiv class\x3d"visibility-hidden"\x3e0.0\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-button-contrast"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex leader-1"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch3 class\x3d"font-size-0 trailer-half"\x3e${i18n.body}\x3c/h3\x3e\r\n      \x3cdiv class\x3d"js-body-bg"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-body-text"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-links"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-column"\x3e\r\n      \x3cdiv class\x3d"trailer-half nowrap visibility-hidden"\x3e${i18n.contrastRatio} ${infoIcon}\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex-column shared-theme-overlay__contrast-col"\x3e\r\n        \x3cdiv class\x3d"flex-1"\x3e\r\n          \x3cdiv class\x3d"visibility-hidden"\x3e0.0\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-body-text-contrast"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-body-links-contrast"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/ColorEdit.html":'\x3cdiv tabindex\x3d"0" class\x3d"flex flex-align-center org-settings__color-tile position-relative"\x3e\r\n  \x3cdiv class\x3d"hide org-settings__color-picker-container" data-dojo-attach-point\x3d"colorPickerContainer"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\r\n    class\x3d"org-settings__color-box margin-right-half flex flex-0 flex-align-center"\r\n    data-dojo-attach-point\x3d"colorBox"\r\n  \x3e\r\n    \x3cspan class\x3d"hide full-width font-size-2 org-settings__color-box-text" data-dojo-attach-point\x3d"boxText"\x3eAa\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 text-left"\x3e\r\n    \x3cdiv class\x3d"font-size--1"\x3e${label}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1 hex-value-container" data-dojo-attach-point\x3d"colorHex"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/ColorContrast.html":'\x3cdiv class\x3d"flex flex-1 shared-theme-overlay__contrast-row"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"icon" class\x3d"margin-right-half flex flex-align-center"\x3e\x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"text"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/LogoRow.html":'\x3cdiv class\x3d"org-settings__card-row flex"\x3e\r\n  \x3cdiv class\x3d"flex-1"\x3e\r\n    \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n      \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__card-value-col position-relative" data-dojo-attach-point\x3d"_valueContainer"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear calcite-web-btn-clear trailer-half display-block hide-on-mobile" data-dojo-attach-point\x3d"_editBtn"\x3e\r\n        \x3cdiv class\x3d"org-settings__display-value flex-1" data-dojo-attach-point\x3d"_displayValue"\x3e\x3c/div\x3e\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"btn-link font-size--1 hide hide-on-mobile org-settings__delete-logo-btn" data-dojo-attach-point\x3d"logoDeleteBtn"\x3e${i18n.delete}\x3c/button\x3e\r\n      \x3cdiv class\x3d"only-on-mobile"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center org-settings__mobile-logo-container"\x3e\r\n          \x3cimg class\x3d"margin-right-half org-settings__mobile-logo-img" data-dojo-attach-point\x3d"mobileImg"\x3e\r\n          \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n            \x3cbutton class\x3d"btn-link font-size--1 display-block padding-right-half" data-dojo-attach-point\x3d"mobileUploadBtn"\x3e${i18n.uploadImage}\x3c/button\x3e\r\n            \x3cbutton class\x3d"btn-link font-size--1 padding-left-half org-settings__mobile-logo-replace-btn hide" data-dojo-attach-point\x3d"mobileDeleteBtn"\x3e${i18n.delete}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-0"\x3e\r\n    \x3cdiv class\x3d"position-relative"\x3e\r\n      \x3cimg src\x3d"images/group-no-image.png" alt\x3d"${i18n.noLogoAltText}" class\x3d"org-settings__logo-img" data-dojo-attach-point\x3d"logoImage"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/BannerImageRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"js-test test1 test2"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex"\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-darker-gray font-size--1 margin-right-half org-settings__banner-tab org-settings__banner-tab-active" data-dojo-attach-point\x3d"imageTab"\x3e${i18n.image}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-darker-gray font-size--1 org-settings__banner-tab" data-dojo-attach-point\x3d"customTab"\x3e${i18n.customDesign}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"customPanel"\x3e\r\n    \x3cdiv class\x3d"js-editor"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"saveCustom"\x3e${i18n.save}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-wrap" data-dojo-attach-point\x3d"imagePanel"\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"bannerRadio"  data-dojo-attach-point\x3d"banner1Radio"\x3e ${i18n.greenSwoosh}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"banner1Image" class\x3d"full-width"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"bannerRadio" data-dojo-attach-point\x3d"banner2Radio"\x3e ${i18n.blueGreyMap}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"banner2Image" class\x3d"full-width"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"bannerRadio" data-dojo-attach-point\x3d"banner3Radio"\x3e ${i18n.satelliteMap}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"banner3Image" class\x3d"full-width"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"bannerRadio" data-dojo-attach-point\x3d"banner4Radio"\x3e ${i18n.blueAbstract}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"banner4Image" class\x3d"full-width"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"bannerRadio" data-dojo-attach-point\x3d"banner5Radio"\x3e ${i18n.greyMap}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"banner5Image" class\x3d"full-width"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"bannerRadio" data-dojo-attach-point\x3d"customImageRadio" \x3e ${i18n.customImage}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-upload position-relative"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"customImageUpload"\x3e${i18n.uploadImage}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/UploadImageDlg.html":'\x3cdiv class\x3d"org-settings__upload-img-dlg-content"\x3e\r\n  \x3cp\x3e${description}\x3c/p\x3e\r\n  \x3cbutton class\x3d"btn-link org-settings__choose-img-btn flex flex-align-center full-width trailer-1" data-dojo-attach-point\x3d"browseBtn"\x3e${!icons.image.32}\x3cspan class\x3d"margin-left-1"\x3e${i18n.chooseFile}\x3c/span\x3e\x3c/button\x3e\r\n  \x3cform data-dojo-attach-point\x3d"imageForm" method\x3d"post" enctype\x3d"multipart/form-data" class\x3d"hide"\x3e\r\n    \x3cinput name\x3d"file" type\x3d"file" accept\x3d".jpg,.gif,.png,image/jpg,image/gif,image/png" data-dojo-attach-point\x3d"fileInput"\x3e\r\n    \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"org-settings__save-loader right margin-right-1 hide" data-dojo-attach-point\x3d"saveLoader"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/UploadImageDlgDroppable.html":'\x3cdiv class\x3d"org-settings__upload-img-dlg-content panel"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"imageUploadContainer"\x3e\r\n    \x3cdiv class\x3d"text-center"\x3e\r\n      \x3cdiv class\x3d"icon--large trailer-half leader-quarter text-dark-gray"\x3e\r\n        ${!icons.upload.32}\r\n      \x3c/div\x3e\r\n      \x3cp data-dojo-attach-point\x3d"message" class\x3d"trailer-0"\x3e\r\n        \x3cdiv class\x3d"font-size-1"\x3e${i18n.dragDrop}\x3c/div\x3e\r\n        \x3cdiv\x3e${!description}\x3c/div\x3e\r\n      \x3c/p\x3e\r\n      \x3cbutton class\x3d"btn-link leader-1" data-dojo-attach-point\x3d"browseBtn"\x3e${!icons.inline.image.32} ${i18n.browse}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cform data-dojo-attach-point\x3d"imageForm" method\x3d"post" enctype\x3d"multipart/form-data" class\x3d"hide"\x3e\r\n    \x3cinput name\x3d"file" type\x3d"file" accept\x3d".jpg,.gif,.png,image/jpg,image/gif,image/png" data-dojo-attach-point\x3d"fileInput"\x3e\r\n    \x3cinput type\x3d"hidden" name\x3d"f" value\x3d"json"\x3e\r\n  \x3c/form\x3e\r\n  \x3cdiv class\x3d"org-settings__save-loader right margin-right-1 hide" data-dojo-attach-point\x3d"saveLoader"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/NoEditSettingsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-value-col position-relative" data-dojo-attach-point\x3d"_valueContainer"\x3e\r\n    \x3cdiv class\x3d"org-settings__display-value" data-dojo-attach-point\x3d"_displayValue"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ExperienceImprovementRow.html":'\x3cdiv class\x3d"org-settings__card-row no-vert-padding"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-send-switch"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/HelpSourceRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"js-source-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/TopNavRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${label}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e${description}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"manageBtn"\x3e${i18n.manage}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/ManagePageVisOverlay.html":'\x3cdiv class\x3d"manage-page-vis-content"\x3e\r\n  \x3cp class\x3d"trailer-half"\x3e${i18n.description}\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-options"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center link-vis-info"\x3e\r\n    \x3cdiv class\x3d"margin-left-1 margin-right-1"\x3e\r\n      \x3ccalcite-icon class\x3d"text-blue" icon\x3d"information" scale\x3d"m"\x3e\x3c/calcite-icon\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cp class\x3d"trailer-quarter font-size--1"\x3e${i18n.homeNote}\x3c/p\x3e\r\n      \x3cp class\x3d"trailer-0 font-size--1 js-org-note"\x3e${i18n.orgNoteNoNotebook}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/AppsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${label}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e${!description}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ccalcite-notice open class\x3d"hide" icon\x3d"information" data-dojo-attach-point\x3d"redirectNotice"\x3e\r\n    \x3cdiv slot\x3d"message" data-dojo-attach-point\x3d"noticeMessage"\x3e\x3c/div\x3e\r\n  \x3c/calcite-notice\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"bodyContainer"\x3e\r\n    \x3cdiv class\x3d"js-switch"\x3e\x3c/div\x3e\r\n    \x3cbutton id\x3d"add-app-btn" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"addBtn"\x3e${i18n.add}\x3c/button\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"apps"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/ConfigureActiveHomePageCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_warning"\x3e\x3c/span\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-bold" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half  org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__card-btn-container" data-dojo-attach-point\x3d"_btnContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"_headerBtn"\x3e\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content" data-dojo-attach-point\x3d"_content"\x3e\r\n    \x3cdiv class\x3d"loader org-settings__card-loader leader-2" data-dojo-attach-point\x3d"_loader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageAboveHeader.html":'\x3cdiv class\x3d"flex home-page__above-header"\x3e\r\n  \x3cdiv class\x3d"flex-center home-page__constraint-wrapper" data-dojo-attach-point\x3d"titleContainer"\x3e\r\n    \x3cimg class\x3d"home-page__logo-img margin-right-half" data-dojo-attach-point\x3d"logo"\x3e\r\n    \x3ch1 class\x3d"trailer-0 home-page__avenir-demi font-size-6" data-dojo-attach-point\x3d"heading"\x3e\x3c/h1\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/home/widgets/templates/HomePageHeader.html":'\x3cdiv class\x3d"home-page__header" data-dojo-attach-point\x3d"headerContainer"\x3e\r\n  \x3cdiv class\x3d"flex home-page__header-overlay home-page__header-constraint-wrapper" data-dojo-attach-point\x3d"headerOverlay"\x3e\r\n    \x3cdiv class\x3d"flex-center home-page__constraint-wrapper" data-dojo-attach-point\x3d"titleContainer"\x3e\r\n      \x3cimg class\x3d"home-page__logo-img margin-right-half" data-dojo-attach-point\x3d"logo"\x3e\r\n      \x3ch1 class\x3d"trailer-0 home-page__avenir-demi font-size-6" data-dojo-attach-point\x3d"heading"\x3e\x3c/h1\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__scroll-down-arrow" data-dojo-attach-point\x3d"arrowContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageBelowHeader.html":'\x3cdiv class\x3d"flex home-page__below-header"\x3e\r\n  \x3cdiv class\x3d"flex-center home-page__constraint-wrapper" data-dojo-attach-point\x3d"titleContainer"\x3e\r\n    \x3cimg class\x3d"home-page__logo-img margin-right-half" data-dojo-attach-point\x3d"logo"\x3e\r\n    \x3ch1 class\x3d"trailer-0 home-page__avenir-demi font-size-6" data-dojo-attach-point\x3d"heading"\x3e\x3c/h1\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/home/widgets/templates/HomePageFooter.html":'\x3cdiv class\x3d"home-page__footer"\x3e\r\n  \x3cdiv class\x3d"home-page__footer-copy footer-copy-text home-page__constraint-wrapper" data-dojo-attach-point\x3d"footerCopyContainer"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper flex-center" data-dojo-attach-point\x3d"footerContainer"\x3e\r\n    \x3cdiv class\x3d"flex home-page__footer-content" data-dojo-attach-point\x3d"footerContentContainer"\x3e\r\n      \x3ca\r\n        href\x3d"http://trust.arcgis.com"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page__footer-link margin-right-2 font-size--1 if-not-on-premise"\r\n        \x3e${i18n.trustCenter}\x3c/a\r\n      \x3e\r\n      \x3ca\r\n        href\x3d"http://www.esri.com/about-esri/contact"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page__footer-link margin-right-2 font-size--1 if-not-on-premise"\r\n        data-dojo-attach-point\x3d"contactEsri"\r\n        \x3e${i18n.contactUs}\x3c/a\r\n      \x3e\r\n      \x3ca\r\n        href\x3d"mailto:arcgisonline_feedback@esri.com"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page__footer-link margin-right-2 font-size--1 if-not-on-premise"\r\n        data-dojo-attach-point\x3d"reportAbuse"\r\n        \x3e${i18n.reportAbuse}\x3c/a\r\n      \x3e\r\n      \x3ca\r\n        href\x3d"#"\r\n        target\x3d"_blank"\r\n        class\x3d"home-page-footer-email home-page__footer-link margin-right-2 font-size--1 hide"\r\n        data-dojo-attach-point\x3d"contactUs"\r\n        \x3e${i18n.customContactUs}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageGalleryItem.html":'\x3cdiv class\x3d"home-page__gallery-tile flex-column" tabindex\x3d"0" role\x3d"link"\x3e\r\n  \x3cdiv class\x3d"home-page__gallery-tile-img" data-dojo-attach-point\x3d"itemThumbnail"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__gallery-tile-content flex" data-dojo-attach-point\x3d"itemContent"\x3e\r\n    \x3cdiv class\x3d"overflow-hidden full-width" data-dojo-attach-point\x3d"itemTextContent"\x3e\r\n      \x3cdiv class \x3d "home-page__gallery-tile-type font-size--2" data-dojo-attach-point\x3d"itemType"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size-0 avenir-demi text-ellipsis" aria-label\x3d"" title\x3d"" data-dojo-attach-point\x3d"itemTitle"\x3e\x3c/div\x3e\r\n      \x3cp class\x3d"font-size--1 trailer-0 gallery-item-summary" data-dojo-attach-point\x3d"itemSummary"\x3e\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"home-page__gallery-tile-launch hide" data-dojo-attach-point\x3d"itemLaunch" tabindex\x3d"-1"\x3e\r\n    ${!icons.launch.16}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageGallery.html":'\x3cdiv class\x3d"home-page__content-block home-page__gallery hide home-page__gallery--medium-bg"\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper"\x3e\r\n    \x3ch2 class\x3d"home-page__gallery-title font-size-4 avenir-bold" data-dojo-attach-point\x3d"heading"\x3e\x3c/h2\x3e\r\n    \x3cp class\x3d"home-page__gallery-summary font-size-1" data-dojo-attach-point\x3d"summary"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"flex flex-wrap home-page__gallery-item-container gallery-items-container" data-dojo-attach-point\x3d"itemContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-center leader-2 view-gallery-button hide" data-dojo-attach-point\x3d"viewBtnContainer"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"viewBtn" aria-haspopup\x3d"dialog" aria-label\x3d"" aria-expanded\x3d"false" aria-controls\x3d"uniqName_9_10-edit-form"\x3e\r\n        \x3cdiv class\x3d"home-page__view-gallery-btn"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"margin-left-1 org-settings__edit-icon"\x3e\x3csvg viewBox\x3d"0 0 16 16" width\x3d"16" height\x3d"16" class\x3d"icon-inline icon-inline--on-left "\x3e\x3cpath d\x3d"M14.792 2.666l-1.414-1.413a.965.965 0 0 0-1.385-.03l-1.444 1.444-8.763 8.72L.03 15.481a.371.371 0 0 0 .488.488l4.096-1.756 8.763-8.72-.001-.001.002.002 1.443-1.444a.965.965 0 0 0-.03-1.385zM1.569 14.431l.554-1.293.74.739zm2.338-.924l-1.414-1.414 7.963-7.92 1.414 1.415zm8.67-8.626l-1.413-1.414 1.29-1.29a.306.306 0 0 1 .433 0l.981.98a.306.306 0 0 1 0 .433z"\x3e\x3c/path\x3e\x3c/svg\x3e\x3c/div\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageText.html":'\x3cdiv class\x3d"home-page__content-block home-page__text"\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper"\x3e\r\n    \x3ch2 class\x3d"font-size-4 avenir-bold text-element-title" data-dojo-attach-point\x3d"headline"\x3e\x3c/h2\x3e\r\n    \x3cp class\x3d"trailer-0 font-size-1 text-element-body" data-dojo-attach-point\x3d"body"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/home/widgets/templates/home.html":'\x3cdiv class\x3d"home-page flex-1 flex"\x3e\r\n  \x3cdiv class\x3d"home-page__content"\x3e\r\n    \x3cdiv class\x3d"js-above-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-below-header"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-content"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-footer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/organization/widgets/settings/templates/ActiveHomePageOverlay.html":'\x3cdiv class\x3d"active-homepage flex"\x3e\r\n  \x3cdiv class\x3d"active-homepage__description padding-left-1 padding-right-1 trailer-1"\x3e\r\n    \x3cdiv class\x3d"trailer-1"\x3e${i18n.description}\x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1"\x3e${i18n.useEditor}\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-center"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear js-launch-editor"\x3e${icons.inline.launch.16} ${i18n.openEditor}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"active-homepage__preview js-preview-container" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"home-page flex-1 flex"\x3e\r\n      \x3cdiv class\x3d"home-page__content"\x3e\r\n        \x3cdiv class\x3d"js-above-header"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-header"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-below-header"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-content"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-footer"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/home/widgets/templates/HomePageLinks.html":'\x3cdiv class\x3d"home-page__links home-page__content-block"\x3e\r\n  \x3cdiv class\x3d"home-page__constraint-wrapper links-container"\x3e\r\n\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/BackgroundImageRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-wrap org-settings__img-tile-container"\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"backgroundRadio"  data-dojo-attach-point\x3d"noBackgroundRadio"\x3e ${i18n.noBackground}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"backgroundRadio" data-dojo-attach-point\x3d"defaultImageRadio"\x3e ${i18n.blueSwoosh}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"defaultImage" class\x3d"full-width"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__home-img-tile"\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-label"\x3e\r\n        \x3clabel class\x3d"trailer-half font-size--1"\x3e\r\n          \x3cinput type\x3d"radio" name\x3d"backgroundRadio" data-dojo-attach-point\x3d"customImageRadio" \x3e ${i18n.customImage}\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"org-settings__home-img-upload position-relative"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"customImageUpload"\x3e${i18n.uploadImage}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/FeaturedContentRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n    \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n      \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${i18n.group}\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-group-edit-btn"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-group-picker"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half flex hide org-settings__featured-content-sort" data-dojo-attach-point\x3d"sortContainer"\x3e\r\n      \x3clabel class\x3d"trailer-0 margin-right-2"\x3e\r\n        ${i18n.numOfItems}\r\n        \x3cselect class\x3d"org-settings__num-items-select" data-dojo-attach-point\x3d"numOfItemsSelect"\x3e\r\n          \x3coption value\x3d"0"\x3e${i18n.all}\x3c/option\x3e\r\n          \x3coption value\x3d"4"\x3e4\x3c/option\x3e\r\n          \x3coption value\x3d"8"\x3e8\x3c/option\x3e\r\n          \x3coption value\x3d"12"\x3e12\x3c/option\x3e\r\n          \x3coption value\x3d"16"\x3e16\x3c/option\x3e\r\n          \x3coption value\x3d"20"\x3e20\x3c/option\x3e\r\n          \x3coption value\x3d"24"\x3e24\x3c/option\x3e\r\n          \x3coption value\x3d"28"\x3e28\x3c/option\x3e\r\n          \x3coption value\x3d"32"\x3e32\x3c/option\x3e\r\n        \x3c/select\x3e\r\n      \x3c/label\x3e\r\n      \x3cdiv class\x3d"trailer-0 org-settings__featured-content-sort-order"\x3e\r\n        \x3clabel class\x3d"trailer-0" for\x3d"featuredSortBy"\x3e${i18n.sortOrder}\x3c/label\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3cselect id\x3d"featuredSortBy" class\x3d"margin-right-half" data-dojo-attach-point\x3d"sortBySelect"\x3e\r\n            \x3coption value\x3d"owner"\x3e${i18n.groupSort.owner}\x3c/option\x3e\r\n            \x3coption value\x3d"modified"\x3e${i18n.groupSort.modified}\x3c/option\x3e\r\n            \x3coption value\x3d"title"\x3e${i18n.groupSort.title}\x3c/option\x3e\r\n            \x3coption value\x3d"numviews"\x3e${i18n.groupSort.numviews}\x3c/option\x3e\r\n          \x3c/select\x3e\r\n          \x3cselect data-dojo-attach-point\x3d"sortDirSelect"\x3e\r\n            \x3coption value\x3d"asc"\x3e${i18n.sortDir.asc}\x3c/option\x3e\r\n            \x3coption value\x3d"desc"\x3e${i18n.sortDir.desc}\x3c/option\x3e\r\n          \x3c/select\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide leader-1" data-dojo-attach-point\x3d"checkboxContainer"\x3e\r\n      \x3clabel class\x3d"trailer-0"\x3e\r\n        \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"checkbox"\x3e \x3cspan data-dojo-attach-point\x3d"checkboxLabel"\x3e\x3c/span\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/GroupSelectRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${i18n.group}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-group-edit-btn"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-group-picker"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half hide" data-dojo-attach-point\x3d"sortContainer"\x3e\r\n    \x3cdiv\x3e${i18n.sortOrder}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cselect class\x3d"margin-right-half" data-dojo-attach-point\x3d"sortBySelect"\x3e\r\n        \x3coption value\x3d"owner"\x3e${i18n.groupSort.owner}\x3c/option\x3e\r\n        \x3coption value\x3d"modified"\x3e${i18n.groupSort.modified}\x3c/option\x3e\r\n        \x3coption value\x3d"title"\x3e${i18n.groupSort.title}\x3c/option\x3e\r\n        \x3coption value\x3d"numviews"\x3e${i18n.groupSort.numviews}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n      \x3cselect data-dojo-attach-point\x3d"sortDirSelect"\x3e\r\n        \x3coption value\x3d"asc"\x3e${i18n.sortDir.asc}\x3c/option\x3e\r\n        \x3coption value\x3d"desc"\x3e${i18n.sortDir.desc}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide leader-1" data-dojo-attach-point\x3d"checkboxContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0"\x3e\r\n      \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"checkbox"\x3e \x3cspan data-dojo-attach-point\x3d"checkboxLabel"\x3e\x3c/span\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/GroupEditButton.html":'\x3cbutton class\x3d"btn-link btn-link-darker-gray flex flex-align-center text-left org-settings__group-edit-button"\x3e\r\n  \x3cdiv class\x3d"flex-0 margin-right-1" data-dojo-attach-point\x3d"iconContainer"\x3e\x3cdiv class\x3d"js-icon"\x3e\x3c/div\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 text-ellipsis org-settings__group-edit-button-text" data-dojo-attach-point\x3d"groupTitle"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-0 margin-left-1"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n\x3c/button\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/GroupPicker.html":'\x3cdiv class\x3d"org-settings__group-picker flex hide"\x3e\r\n  \x3cdiv class\x3d"flex-1 min-width-fix"\x3e\r\n    \x3cinput\r\n      data-dojo-attach-point\x3d"searchInput"\r\n      class\x3d"member-picker-search flex-1"\r\n      placeholder\x3d"${i18n.searchGroups}"\r\n      aria-label\x3d"${i18n.searchGroups}"\r\n      aria-controls\x3d"${listId}"\r\n      type\x3d"search"\r\n      autocomplete\x3d"off"\r\n    /\x3e\r\n    \x3cul\r\n      class\x3d"member-picker-results position-relative hide"\r\n      id\x3d"${listId}"\r\n      role\x3d"listbox"\r\n      data-dojo-attach-point\x3d"resultsDropdown"\r\n    \x3e\x3c/ul\x3e\r\n    \x3cp\r\n      class\x3d"leader-half trailer-half font-size--2 padding-left-1 padding-right-1 hide"\r\n      data-dojo-attach-point\x3d"noResults"\r\n    \x3e\r\n      ${i18n.noGroupsFound}\r\n    \x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"nowrap padding-leader-quarter" data-dojo-attach-point\x3d"cancelWrapper"\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 flex-0 btn-link-off-black margin-left-1" data-dojo-attach-point\x3d"cancelBtn"\x3e\r\n      ${i18n.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/GroupPickerRow.html":'\x3cli\r\n  id\x3d"${group.id}"\r\n  class\x3d"member-browser-row member-browser-row--select member-browser-row--on-gray member-browser-row--compact flex flex-center"\r\n  role\x3d"option"\r\n  aria-selected\x3d"false"\r\n  tabindex\x3d"0"\r\n\x3e\r\n  \x3cdiv class\x3d"js-group-icon"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half min-width-fix"\x3e\r\n    \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0 text-ellipsis"\x3e${group.title}\x3c/h4\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--2"\x3e${group.owner}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/LegacyHomePageOverlay.html":'\x3cdiv class\x3d"leader-1 trailer-1"\x3e\r\n  \x3cdiv class\x3d"org-settings__card margin-left-1 margin-right-1 leader-1 trailer-1"\x3e\r\n    \x3cdiv class\x3d"org-settings__card-content"\x3e\r\n      \x3cdiv class\x3d"padding-leader-half flex"\x3e\r\n        \x3cdiv class\x3d"js-warning-icon"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-warning-text"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"margin-left-1 margin-right-1 legacy-homepage-overlay__content"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ConfigureActiveHomePageRow.html":'\x3cdiv class\x3d"org-settings__card-row no-border"\x3e\r\n  \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"legacyWarning"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--1 hide" data-dojo-attach-point\x3d"phaseOutWarning"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--1 flex margin-left-0 hide" data-dojo-attach-point\x3d"upgradedNoticeContainer"\x3e\r\n    \x3cdiv class\x3d"icon-color--blue upgraded-home-page__notice--icon" data-dojo-attach-point\x3d"upgradedIcon"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"upgradedNotice"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"text-right leader-1 hide" data-dojo-attach-point\x3d"buttonContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"switchBtn"\x3e${i18n.previewSwitch}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/BasemapGalleryRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${i18n.group}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-group-edit-btn"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-group-picker"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half hide" data-dojo-attach-point\x3d"sortContainer"\x3e\r\n    \x3cdiv\x3e${i18n.sortOrder}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cselect class\x3d"margin-right-half" data-dojo-attach-point\x3d"sortBySelect"\x3e\r\n        \x3coption value\x3d"owner"\x3e${i18n.groupSort.owner}\x3c/option\x3e\r\n        \x3coption value\x3d"modified"\x3e${i18n.groupSort.modified}\x3c/option\x3e\r\n        \x3coption value\x3d"title"\x3e${i18n.groupSort.title}\x3c/option\x3e\r\n        \x3coption value\x3d"numviews"\x3e${i18n.groupSort.numviews}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n      \x3cselect data-dojo-attach-point\x3d"sortDirSelect"\x3e\r\n        \x3coption value\x3d"asc"\x3e${i18n.sortDir.asc}\x3c/option\x3e\r\n        \x3coption value\x3d"desc"\x3e${i18n.sortDir.desc}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide leader-1" data-dojo-attach-point\x3d"shareContainer"\x3e\r\n    \x3cp class\x3d"trailer-half font-size--1" data-dojo-attach-point\x3d"shareDescEl"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear margin-right-half" data-dojo-attach-point\x3d"shareVectorBtn"\x3e${i18n.shareVector}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide leader-1" data-dojo-attach-point\x3d"useVectorContainer"\x3e\r\n    \x3clabel class\x3d"trailer-0"\x3e\r\n      \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"useVectorCheckbox"\x3e \x3cspan data-dojo-attach-point\x3d"useVectorLabel"\x3e\x3c/span\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-quarter raster-basemap-warning hide" data-dojo-attach-point\x3d"rasterWarning"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      \x3ccalcite-icon icon\x3d"exclamation-mark-triangle-f"\x3e\x3c/calcite-icon\x3e\r\n      \x3ch3 class\x3d"trailer-0 font-size-2 avenir-demi margin-left-half"\x3e${i18n.warning.title}\x3c/h3\x3e\r\n    \x3c/div\x3e\r\n    \x3cp class\x3d"margin-left-1 leader-1"\x3e${!i18n.warning.description}\x3c/p\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n      \x3cbutton class\x3d"btn btn-clear js-update-basemap-btn" \x3e${i18n.warning.buttonText}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-use-3d-basemaps"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ManageBasemapsRow.html":'\r\n\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${label}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"contentContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/DefaultBasemapRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__default-basemap-select-container"\x3e\r\n    \x3clabel for\x3d"default-basemap-select" class\x3d"screen-readers-only"\x3e${label}\x3c/label\x3e\r\n    \x3cdiv class\x3d"js-basemap-select"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-clear leader-1" data-dojo-attach-point\x3d"useExtentBtn"\x3e${i18n.useExtent}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/DefaultExtentRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex org-settings__extents-content"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cbutton class\x3d"btn btn-clear margin-right-1 hide-on-mobile nowrap" data-dojo-attach-point\x3d"chooseExtentBtn"\x3e${i18n.choose}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-wrap org-settings__extents"\x3e\r\n    \x3cdiv class\x3d"org-settings__extent-container margin-right-quarter font-size--1" data-dojo-attach-point\x3d"leftExtent"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__extent-container margin-right-quarter font-size--1" data-dojo-attach-point\x3d"topExtent"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__extent-container margin-right-quarter font-size--1" data-dojo-attach-point\x3d"rightExtent"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__extent-container font-size--1" data-dojo-attach-point\x3d"bottomExtent"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/ExtentPicker.html":'\r\n\x3cdiv class\x3d"flex extent-picker"\x3e\r\n  \x3ciframe id\x3d"extent-picker-iframe" class\x3d"js-iframe flex-1 extent-picker__iframe"\x3e\x3c/iframe\x3e\r\n\x3c/div\x3e\r\n\r\n\r\n\r\n\r\n\r\n\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/UnitsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cselect data-dojo-attach-point\x3d"unitsSelect"\x3e\r\n      \x3coption value\x3d"english"\x3e${i18n.usStandard}\x3c/option\x3e\r\n      \x3coption value\x3d"metric"\x3e${i18n.metric}\x3c/option\x3e\r\n    \x3c/select\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/BingMapsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n    \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n      \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__card-value-col position-relative" data-dojo-attach-point\x3d"_valueContainer"\x3e\r\n      \x3cbutton class\x3d"btn-link btn-link-darker-gray flex text-left org-settings__edit-btn" id\x3d"bing-map-edit-btn" data-dojo-attach-point\x3d"_editBtn"\x3e\r\n        \x3cdiv class\x3d"org-settings__display-value" data-dojo-attach-point\x3d"_displayValue"\x3e${i18n.bingEnterKey}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"editIcon" class\x3d"margin-left-1 org-settings__edit-icon hide"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n      \x3c/button\x3e\r\n      \x3cdiv class\x3d"hide org-settings__edit-form" data-dojo-attach-point\x3d"_editForm"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_formContent"\x3e\r\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"textbox" id\x3d"bing-map-input"\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n            \x3cbutton id\x3d"bing-map-cancel-btn" class\x3d"btn btn-link btn-link-darker-gray margin-right-1" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n            \x3cbutton id\x3d"bing-map-save-btn" class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"_saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3clabel class\x3d"trailer-0 leader-half font-size--1 flex flex-align-center" data-dojo-attach-point\x3d"checkboxContainer"\x3e\r\n      \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"checkbox"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"checkboxLabel"\x3e\x3c/span\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/MapViewerContent.html":'\x3cdiv class\x3d"leader-half trailer-half margin-left-1 margin-right-1"\x3e\r\n  \x3clabel class\x3d"leader-quarter trailer-quarter flex flex-align-center"\x3e\r\n    \x3cinput type\x3d"radio" name\x3d"primaryViewer" value\x3d"modern" class\x3d"js-mapviewer-modern map-viewer-radio"\x3e Map Viewer\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"leader-quarter trailer-half flex flex-align-center"\x3e\r\n    \x3cinput type\x3d"radio" name\x3d"primaryViewer" value\x3d"classic" class\x3d"js-mapviewer-classic map-viewer-radio"\x3e Map Viewer Classic\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/CommentsContent.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-switch"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/cards/templates/MetadataContent.html":'\x3cdiv\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"js-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-beta-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide js-style-row org-settings__metadata-style-row padding-leader-half padding-left-1 trailer-1"\x3e\r\n    \x3cdiv id\x3d"metadata-style" class\x3d"avenir-demi"\x3e${i18n.itemsTab.metadataStyle}\x3c/div\x3e\r\n    \x3cdiv id\x3d"metadata-description" class\x3d"font-size--1 trailer-half"\x3e${i18n.itemsTab.metadataStyleDesc}\x3c/div\x3e\r\n    \x3cselect class\x3d"js-style-select" aria-labelledby\x3d"metadata-style" aria-describedby\x3d"metadata-description"\x3e\r\n      \x3coption value\x3d"${FGDC}"\x3e${i18n.itemsTab.fgdc}\x3c/option\x3e\r\n      \x3coption value\x3d"${INSPIRE}"\x3e${i18n.itemsTab.inspire}\x3c/option\x3e\r\n      \x3coption value\x3d"${ISO19139}"\x3e${i18n.itemsTab.iso19139}\x3c/option\x3e\r\n      \x3coption value\x3d"${ISO1913932}"\x3e${i18n.itemsTab.iso1913932}\x3c/option\x3e\r\n      \x3coption value\x3d"${ISO19115}"\x3e${i18n.itemsTab.iso19115}\x3c/option\x3e\r\n      \x3coption value\x3d"${ISO191153}"\x3e${i18n.itemsTab.iso191153}\x3c/option\x3e\r\n    \x3c/select\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/SemanticSearchRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"js-toggle-switch"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__feedback-form margin-left-0 margin-right-1 hide" data-dojo-attach-point\x3d"searchFeedback"\x3e\r\n    ${i18n.haveFeedback}\r\n    \x3ctextarea placeholder\x3d"${i18n.provideFeedback}" rows\x3d"4" maxlength\x3d"250" data-dojo-attach-point\x3d"feedback"\x3e\x3c/textarea\x3e\r\n    \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n      \x3cbutton class\x3d"control-bar__btn margin-right-quarter" type\x3d"button" data-dojo-attach-point\x3d"dismissFeedbackBtn"\x3e${i18n.dismiss}\x3c/button\x3e\r\n      \x3cbutton class\x3d"control-bar__btn control-bar__btn--blue" type\x3d"button" data-dojo-attach-point\x3d"submitFeedbackBtn"\x3e${i18n.submit}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__feedback-response margin-left-0 margin-right-1 hide" data-dojo-attach-point\x3d"feedbackResponse"\x3e\r\n    ${i18n.feedbackResponse}\r\n    \x3cdiv class\x3d"right"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"closeResponseBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/RecycleSettingRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"font-size--1 trailer-half" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3ccalcite-button appearance\x3d"outline" data-dojo-attach-point\x3d"optInButton"\x3e${i18n.optIn}\x3c/calcite-button\x3e\r\n    \x3ccalcite-button appearance\x3d"outline" kind\x3d"danger" data-dojo-attach-point\x3d"optOutButton"\r\n      \x3e${i18n.optOut}\x3c/calcite-button\r\n    \x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"recycle-storage-info" data-dojo-attach-point\x3d"recycleStorageSection"\x3e\r\n    \x3cdiv class\x3d"avenir-demi"\x3e${i18n.recycleStorage}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex trailer-half"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e${i18n.recycleStorageDesc}\x3c/div\x3e\r\n      \x3ccalcite-link icon-end\x3d"launch" href\x3d"content.html?contentType\x3drecycle#organization" target\x3d"_blank"\r\n        \x3e${i18n.viewRecycleBin}\x3c/calcite-link\r\n      \x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex trailer-half"\x3e\r\n      \x3cdiv class\x3d"margin-right-1"\x3e${i18n.itemsInBin}\x3c/div\x3e\r\n      \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"recycleCount"\x3e123\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3ccalcite-modal\r\n    data-dojo-attach-point\x3d"optInModal"\r\n    width-scale\x3d"s"\r\n    style\x3d"--calcite-modal-content-background: var(--calcite-color-background); --calcite-modal-width: 450px"\r\n  \x3e\r\n    \x3cdiv slot\x3d"header"\x3e${i18n.optIn}\x3c/div\x3e\r\n    \x3cdiv slot\x3d"content"\x3e\r\n      \x3cdiv class\x3d"font-size-2 avenir-bold text-center"\x3e${i18n.recycleBinEnabled}\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex flex-center leader-half trailer-2"\x3e\r\n        \x3cdiv class\x3d"opt-in-recycle-icon"\x3e\r\n          \x3ccalcite-icon class\x3d"large-recycle-icon" scale\x3d"l" icon\x3d"recycle-bin"\x3e\x3c/calcite-icon\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cul class\x3d"font-size--1"\x3e\r\n        \x3cli class\x3d"trailer-half"\x3e${i18n.recycleDuration}\x3c/li\x3e\r\n        \x3cli data-dojo-attach-point\x3d"goToListItem"\x3e${i18n.goToOrgRecycle}\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n    \x3c/div\x3e\r\n    \x3ccalcite-button slot\x3d"primary" data-dojo-attach-point\x3d"closeOptInModalButton"\x3e${i18n.close}\x3c/calcite-button\x3e\r\n  \x3c/calcite-modal\x3e\r\n  \x3ccalcite-modal\r\n    data-dojo-attach-point\x3d"optOutModal"\r\n    kind\x3d"danger"\r\n    width-scale\x3d"s"\r\n    style\x3d"--calcite-modal-width: 500px"\r\n  \x3e\r\n    \x3cdiv slot\x3d"header"\x3e${i18n.optOutConfirm.confirmTitle}\x3c/div\x3e\r\n    \x3cdiv slot\x3d"content" class\x3d"padding-left-1 padding-right-1"\x3e\r\n      \x3cdiv\x3e${i18n.optOutConfirm.confirmQuestion}\x3c/div\x3e\r\n      \x3cul class\x3d"opt-out-list"\x3e\r\n        \x3cli class\x3d"avenir-bold"\x3e${i18n.optOutConfirm.deletedItems}\x3c/li\x3e\r\n        \x3cli\x3e${i18n.optOutConfirm.noActions}\x3c/li\x3e\r\n        \x3cli\x3e${i18n.optOutConfirm.prevScheduled}\x3c/li\x3e\r\n        \x3cli\x3e${i18n.optOutConfirm.itemReports}\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n      \x3ccalcite-label class\x3d"trailer-half" data-dojo-attach-point\x3d"reasonSection"\x3e\r\n        ${i18n.optOutConfirm.reason}\r\n        \x3ccalcite-text-area rows\x3d"4" data-dojo-attach-point\x3d"reasonTextArea"\x3e\x3c/calcite-text-area\x3e\r\n      \x3c/calcite-label\x3e\r\n      \x3ccalcite-label layout\x3d"inline" class\x3d"opt-out-checkbox-wrapper" style\x3d"--calcite-label-margin-bottom: 0"\x3e\r\n        \x3ccalcite-checkbox data-dojo-attach-point\x3d"optOutConfirmCheckbox"\x3e\x3c/calcite-checkbox\x3e\r\n        ${i18n.optOutConfirm.confirmOptOut}\r\n      \x3c/calcite-label\x3e\r\n    \x3c/div\x3e\r\n    \x3ccalcite-button\r\n      slot\x3d"secondary"\r\n      kind\x3d"neutral"\r\n      appearance\x3d"outline"\r\n      data-dojo-attach-point\x3d"cancelOptOutModalButton"\r\n      \x3e${i18n.cancel}\x3c/calcite-button\r\n    \x3e\r\n    \x3ccalcite-button slot\x3d"primary" kind\x3d"danger" data-dojo-attach-point\x3d"confirmOptOutButton" disabled\r\n      \x3e${i18n.optOutConfirm.optOutButton}\x3c/calcite-button\r\n    \x3e\r\n  \x3c/calcite-modal\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ToggleCacheHostedFeaturesRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi"\x3e${i18n.name}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__toggle-switch-row margin-left-0 flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-2"\x3e${i18n.toggleLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-toggle-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/GroupRow.html":'\x3cdiv class\x3d"org-settings__card-list-row flex flex-align-center"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center flex-1" data-dojo-attach-point\x3d"itemInfo"\x3e\r\n    \x3cdiv class\x3d"js-thumb"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 font-size--1 margin-left-half text-ellipsis"\x3e\r\n      ${group.title}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" tabindex\x3d"0" data-dojo-attach-point\x3d"removeBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n  \x3cdiv class\x3d"hide font-size--1" data-dojo-attach-point\x3d"removedContainer"\x3e\r\n    ${i18n.removed} \x3cbutton class\x3d"btn btn-link font-size--1" data-dojo-attach-point\x3d"undoBtn"\x3e${i18n.undo}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/UserDefaults/templates/DefaultGroupsOverlay.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-group-browser default-groups-overlay__content"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/CachedElevationItem.html":'\x3cdiv class\x3d"org-settings__card-list-row draggable flex flex-align-center"\x3e\r\n  \x3cdiv tabindex\x3d"0" data-dojo-attach-point\x3d"dragHandle"\x3e${!icons.drag.16}\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 font-size--1 margin-left-half text-ellipsis" data-dojo-attach-point\x3d"nameEl"\x3e\r\n    ${service.name}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dropdown js-dropdown" role\x3d"menu"\x3e\r\n    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle" tabindex\x3d"0" data-dojo-attach-point\x3d"_actionsBtn"\x3e\r\n      ${!icons.ellipsis-f.16}\r\n    \x3c/button\x3e\r\n    \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"viewBtn"\x3e${i18n.viewUrl}\x3c/button\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"deleteBtn"\x3e${i18n.deleteLayer}\x3c/button\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/CachedElevationRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"trailer-half position-relative"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"addBtn"\x3e${i18n.addService}\x3c/button\x3e\r\n    \x3cdiv class\x3d"hide org-settings__edit-form" data-dojo-attach-point\x3d"addForm"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_formContent"\x3e\r\n        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"textbox"\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"inputError"\x3e${i18n.duplicateError}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n        \x3cbutton class\x3d"btn btn-link btn-link-darker-gray margin-right-1" data-dojo-attach-point\x3d"cancelBtn"\x3e\r\n          ${i18n.cancel}\r\n        \x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.addService}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"list"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/LocatorRow.html":'\x3cli class\x3d"org-settings__card-list-row draggable flex flex-align-center org-settings__locator-row"\x3e\r\n  \x3cdiv tabindex\x3d"0" class\x3d"locator-row__drag-handle" data-dojo-attach-point\x3d"dragHandle"\x3e${!icons.drag.16}\x3c/div\x3e\r\n  ${!icons.pin.24}\r\n  \x3cdiv class\x3d"flex-1 font-size--1 margin-left-half text-ellipsis margin-right-1" data-dojo-attach-point\x3d"nameEl"\x3e\r\n    ${locator.name}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dropdown js-dropdown" role\x3d"menu"\x3e\r\n    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle" tabindex\x3d"0" data-dojo-attach-point\x3d"actionsBtn"\x3e\r\n      ${!icons.ellipsis-f.16}\r\n    \x3c/button\x3e\r\n    \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"editBtn"\x3e${i18n.edit}\x3c/button\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"deleteBtn"\x3e${i18n.delete}\x3c/button\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/GeocodingOverlay.html":'\x3cdiv class\x3d"geocoding-overlay"\x3e\r\n  \x3cdiv class\x3d"trailer-1"\x3e\r\n    \x3clabel label\x3d"geocoding-overlay-world-option" class\x3d"flex flex-align-center org-settings__radio-option js-world-option-container"\x3e\r\n      \x3cinput id\x3d"geocoding-overlay-world-option" type\x3d"radio" name\x3d"locatorSrc" class\x3d"js-world-option"\x3e ${i18n.esriWorldGeocoder}\r\n    \x3c/label\x3e\r\n    \x3clabel label\x3d"geocoding-overlay-from-url-option" class\x3d"flex flex-align-center org-settings__radio-option org-settings__radio-option--selected js-url-option-container"\x3e\r\n      \x3cinput id\x3d"geocoding-overlay-from-url-option" type\x3d"radio" name\x3d"locatorSrc" class\x3d"js-url-option" checked\x3e ${i18n.fromUrl}\r\n    \x3c/label\x3e\r\n    \x3clabel label\x3d"geocoding-overlay-from-locator-option" class\x3d"flex flex-align-center org-settings__radio-option js-existing-option-container"\x3e\r\n      \x3cinput id\x3d"geocoding-overlay-from-locator-option" type\x3d"radio" name\x3d"locatorSrc" class\x3d"js-existing-option"\x3e ${i18n.fromLocator}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-new-locator-content"\x3e\r\n  \x3clabel label\x3d"geocoding-overlay-from-locator-select" class\x3d"hide js-locator-select-container" \x3e\r\n    ${i18n.locatorLabel}\r\n    \x3cselect id\x3d"geocoding-overlay-from-locator-select" class\x3d"js-locator-select full-width"\x3e\x3c/select\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel label\x3d"geocoding-overlay-new-url-input" class\x3d"js-new-url-container" \x3e\r\n    ${i18n.urlLabel}\r\n    \x3cinput id\x3d"geocoding-overlay-new-url-input" type\x3d"text" class\x3d"js-new-url-input" placeholder\x3d"${i18n.exampleGeocoderUrl}"\x3e\r\n    \x3cdiv class\x3d"input-error-message js-new-url-error"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel label\x3d"geocoding-overlay-existing-url-input" class\x3d"js-existing-url-container hide"\x3e\r\n    ${i18n.urlLabel}\r\n    \x3cinput id\x3d"geocoding-overlay-existing-url-input" type\x3d"text" class\x3d"js-existing-url-input" disabled\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel label\x3d"geocoding-overlay-name-input"\x3e\r\n    ${i18n.nameLabel}\r\n    \x3cinput id\x3d"geocoding-overlay-name-input" type\x3d"text" class\x3d"js-name-input" placeholder\x3d"${i18n.exampleNameLabel}"\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel label\x3d"geocoding-overlay-hint-input" \x3e\r\n    ${i18n.hintTextLabel}\r\n    \x3cinput id\x3d"geocoding-overlay-hint-input" type\x3d"text" class\x3d"js-hint-input" placeholder\x3d"${i18n.exampleHintTextLabel}"\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel class\x3d"hide js-batch-threads-container"  label\x3d"geocoding-overlay-batch-threads-input"\x3e\r\n    ${i18n.batchThreads}\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cinput id\x3d"geocoding-overlay-batch-threads-input" type\x3d"text" class\x3d"js-batch-threads-input" style\x3d"width:100px;"\x3e\r\n      \x3cdiv class\x3d"js-batch-threads-info"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"js-geosearch"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-batch-geocode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/PrintingRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-value-col position-relative" data-dojo-attach-point\x3d"_valueContainer"\x3e\r\n    \x3cdiv class\x3d"org-settings__read-only-value" data-dojo-attach-point\x3d"readOnlyValue"\x3e\x3c/div\x3e\r\n    \x3cbutton\r\n      class\x3d"btn-link btn-link-darker-gray flex text-left org-settings__edit-btn"\r\n      data-dojo-attach-point\x3d"_editBtn"\r\n    \x3e\r\n      \x3cdiv class\x3d"org-settings__display-value" data-dojo-attach-point\x3d"_displayValue"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"margin-left-1 org-settings__edit-icon"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"hide org-settings__edit-form" data-dojo-attach-point\x3d"_editForm"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_formContent"\x3e\r\n        \x3cinput type\x3d"text" placeholder\x3d"${i18n.esriDefault}" data-dojo-attach-point\x3d"textbox"\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"inputError"\x3e\x3c/div\x3e\r\n        \x3clabel class\x3d"org-settings__example" data-dojo-attach-point\x3d"exampleEl"\x3e\x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n        \x3cbutton class\x3d"btn btn-link btn-link-darker-gray margin-right-1" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n          ${i18n.cancel}\r\n        \x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"_saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"templatesSection" class\x3d"hide"\x3e\r\n      \x3cdiv class\x3d"leader-1 trailer-1"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"createBtn"\x3e${i18n.createPrintTemplate}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link margin-left-1" data-dojo-attach-point\x3d"refreshBtn" aria-label\x3d"${i18n.refreshAria}"\x3e${i18n.refresh}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cul class\x3d"clear-list-style" data-dojo-attach-point\x3d"templatesContainer" role\x3d"application"\x3e\r\n        \x3cli data-idx\x3d"-1" class\x3d"js-last-item"\x3e\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n      \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/PrintTemplateItem.html":'\x3cli class\x3d"org-settings__card-list-row flex flex-align-center draggable js-print-template-item"\x3e\r\n  \x3cdiv tabindex\x3d"0" data-dojo-attach-point\x3d"dragHandle"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--1 margin-left-half text-ellipsis flex-1" data-dojo-attach-point\x3d"labelEl"\x3e\r\n    ${template.label}\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link margin-right-1" data-dojo-attach-point\x3d"infoBtn" aria-label\x3d"${i18n.info}"\x3e${!icons.info.16}\x3c/button\x3e\r\n  \x3cdiv class\x3d"dropdown js-dropdown" role\x3d"menu" data-dojo-attach-point\x3d"_actions"\x3e\r\n    \x3cbutton\r\n      class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle"\r\n      tabindex\x3d"0"\r\n      data-dojo-attach-point\x3d"actionsBtn"\r\n    \x3e\r\n      ${!icons.ellipsis-f.16}\r\n    \x3c/button\x3e\r\n    \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"editBtn"\x3e${i18n.edit}\x3c/button\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"deleteBtn"\x3e${i18n.delete}\x3c/button\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/li\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/PrintTemplateInfoDlg.html":'\x3cdiv class\x3d"templateSummary"\x3e\r\n  \x3cstrong\x3e${i18n.descriptionLabel}\x3c/strong\x3e\r\n  \x3cp data-dojo-attach-point\x3d"descEl"\x3e\x3c/p\x3e\r\n  \x3cstrong\x3e${i18n.settingsLabel}\x3c/strong\x3e\r\n  \x3cdiv class\x3d"templateSummaryList"\x3e\r\n    \x3cul class\x3d"templateSettingList"\x3e\r\n      \x3cli data-dojo-attach-point\x3d"formatEl"\x3e\x3c/li\x3e\r\n      \x3cli data-dojo-attach-point\x3d"layoutEl"\x3e\x3c/li\x3e\r\n      \x3cli data-dojo-attach-point\x3d"legendEl"\x3e\x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/PrintTemplateDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} print-template-dialog" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.createTemplate}"\x3e\r\n    \x3ctable class\x3d"formTable table-no-table" role\x3d"presentation"\x3e\r\n      \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d"titleCol"\x3e${i18n.templateName}\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cinput type\x3d"text" class\x3d"textBox" aria-label\x3d"${i18n.templateName}" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_name" maxlength\x3d"50"\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d"titleCol"\x3e${i18n.templateDescription}\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cinput type\x3d"text" class\x3d"textBox" aria-label\x3d"${i18n.templateDescription}" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_description" maxlength\x3d"120"\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d"titleCol"\x3e${i18n.format}\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"comboBox" aria-label\x3d"${i18n.format}" data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox" data-dojo-attach-point\x3d"_formats"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d"titleCol"\x3e${i18n.layout}\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"comboBox" aria-label\x3d"${i18n.layout}" data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox" data-dojo-attach-point\x3d"_layouts"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d"titleCol"\x3e\x26nbsp;\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_legendContainer"\x3e\r\n            \x3cinput id\x3d"printLegend" type\x3d"checkbox"\r\n                 data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"_legend"\x3e\r\n            \x3clabel for\x3d"printLegend" class\x3d"inline-block trailer-half"\x3e${i18n.legend}\x3c/label\x3e\r\n          \x3c/span\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"calcite blue small primary"\r\n              data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_okBtn"\x3e${i18n.create}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"calcite transparent small cancel"\r\n              data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr style\x3d"clear:both;"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/TravelModesRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"content"\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"createBtn"\x3e${i18n.createTravelMode}\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn-link margin-left-1" data-dojo-attach-point\x3d"resetBtn"\x3e${i18n.resetToDefaults}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-accordion leader-1" data-dojo-attach-point\x3d"itemsContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/TravelModeItem.html":'\x3cdiv class\x3d"accordion-section org-settings__travel-mode-item"\x3e\r\n  \x3cdiv class\x3d"accordion-title flex flex-align-center"\x3e\r\n    ${!icons.chevron-down.16}\r\n    \x3cstrong\x3e${travelMode.name}\x3c/strong\x3e\r\n    \x3cdiv class\x3d"margin-left-half flex-1"\x3e\r\n      \x3cdiv class\x3d"org-settings__travel-mode-default avenir-bold hide" data-dojo-attach-point\x3d"defaultBadge"\x3e${i18n.default}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"dropdown js-dropdown" role\x3d"menu"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle" data-dojo-attach-point\x3d"actionsBtn" tabindex\x3d"0"\x3e\r\n        ${!icons.ellipsis-f.16}\r\n      \x3c/button\x3e\r\n      \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"editBtn"\x3e${i18n.actions.edit}\x3c/button\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"duplicateBtn"\x3e${i18n.actions.duplicate}\x3c/button\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"defaultBtn"\x3e${i18n.actions.setAsDefault}\x3c/button\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"deleteBtn"\x3e${i18n.actions.delete}\x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"accordion-content font-size--2 trailer-half"\x3e\r\n    ${travelMode.description}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/TravelModeOverlay.html":'\x3cdiv class\x3d"travel-mode-overlay__content"\x3e\r\n  \x3clabel for\x3d"travel-modes-name"\x3e\r\n    ${form.name}\r\n    \x3cinput id\x3d"travel-modes-name" type\x3d"text" class\x3d"js-name" maxlength\x3d"50" /\x3e\r\n    \x3cdiv class\x3d"js-name-error input-error-message"\x3e${form.errors.valueRequiredName}\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel for\x3d"travel-modes-description"\x3e\r\n    ${form.description}\r\n    \x3ctextarea id\x3d"travel-modes-description" class\x3d"js-desc" rows\x3d"6" maxlength\x3d"1024"\x3e\x3c/textarea\x3e\r\n    \x3cdiv class\x3d"travel-mode-overlay__desc-count font-size--2 js-desc-count"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"flex travel-mode-overlay__split-row"\x3e\r\n    \x3clabel class\x3d"margin-right-1" for\x3d"travel-modes-type-select"\x3e\r\n      ${form.type}\r\n      \x3cselect class\x3d"js-type-select full-width" id\x3d"travel-modes-type-select"\x3e\r\n        \x3coption value\x3d"AUTOMOBILE"\x3e${form.tmType.auto}\x3c/option\x3e\r\n        \x3coption value\x3d"TRUCK"\x3e${form.tmType.truck}\x3c/option\x3e\r\n        \x3coption value\x3d"WALK"\x3e${form.tmType.walk}\x3c/option\x3e\r\n        \x3coption value\x3d"OTHER"\x3e${form.tmType.other}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel class\x3d"margin-left-1" for\x3d"travel-modes-impedance-select"\x3e\r\n      ${form.impedance}\r\n      \x3cselect class\x3d"js-impedance-select full-width" id\x3d"travel-modes-impedance-select"\x3e\x3c/select\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex travel-mode-overlay__split-row"\x3e\r\n    \x3clabel class\x3d"margin-right-1" for\x3d"travel-modes-time-attr"\x3e\r\n      ${form.timeAttr}\r\n      \x3cselect class\x3d"js-time-attr-select full-width" id\x3d"travel-modes-time-attr"\x3e\x3c/select\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel class\x3d"margin-left-1" for\x3d"travel-modes-distance-attr"\x3e\r\n      ${form.distanceAttr}\r\n      \x3cselect class\x3d"js-distance-attr-select full-width" id\x3d"travel-modes-distance-attr"\x3e\x3c/select\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3clabel for\x3d"travel-modes-u-turn-policy"\x3e\r\n    ${form.uturnPolicy}\r\n    \x3cselect class\x3d"js-uturn-select full-width" id\x3d"travel-modes-u-turn-policy"\x3e\r\n      \x3coption value\x3d"esriNFSBAllowBacktrack"\x3e${form.uturnOptions.allowed}\x3c/option\x3e\r\n      \x3coption value\x3d"esriNFSBAtDeadEndsAndIntersections"\x3e${form.uturnOptions.atDeadEndsAndIntersections}\x3c/option\x3e\r\n      \x3coption value\x3d"esriNFSBAtDeadEndsOnly"\x3e${form.uturnOptions.atDeadEndsOnly}\x3c/option\x3e\r\n      \x3coption value\x3d"esriNFSBNoBacktrack"\x3e${form.uturnOptions.noBacktrack}\x3c/option\x3e\r\n    \x3c/select\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel for\x3d"travel-modes-simplification-tolerance"\x3e\r\n    ${form.simpTolerance}\r\n    \x3cdiv class\x3d"flex travel-mode-overlay__simp-col"\x3e\r\n      \x3cinput id\x3d"travel-modes-simplification-tolerance" type\x3d"text" class\x3d"js-tolerance-input" value\x3d"10" maxlength\x3d"10" placeholder\x3d"${form.simplificationPlaceholder}" /\x3e\r\n      \x3cselect class\x3d"margin-left-half js-tolerance-unit-select"\x3e\r\n        \x3coption value\x3d"esriCentimeters"\x3e${form.simplificationUnits.centimeters}\x3c/option\x3e\r\n        \x3coption value\x3d"esriDecimalDegrees"\x3e${form.simplificationUnits.decimalDegrees}\x3c/option\x3e\r\n        \x3coption value\x3d"esriDecimeters"\x3e${form.simplificationUnits.decimeters}\x3c/option\x3e\r\n        \x3coption value\x3d"esriFeet"\x3e${form.simplificationUnits.feet}\x3c/option\x3e\r\n        \x3coption value\x3d"esriInches"\x3e${form.simplificationUnits.inches}\x3c/option\x3e\r\n        \x3coption value\x3d"esriKilometers"\x3e${form.simplificationUnits.kilometers}\x3c/option\x3e\r\n        \x3coption value\x3d"esriMeters"\x3e${form.simplificationUnits.meters}\x3c/option\x3e\r\n        \x3coption value\x3d"esriMiles"\x3e${form.simplificationUnits.miles}\x3c/option\x3e\r\n        \x3coption value\x3d"esriMillimeters"\x3e${form.simplificationUnits.millimeters}\x3c/option\x3e\r\n        \x3coption value\x3d"esriNauticalMiles"\x3e${form.simplificationUnits.nauticalMiles}\x3c/option\x3e\r\n        \x3coption value\x3d"esriPoints"\x3e${form.simplificationUnits.points}\x3c/option\x3e\r\n        \x3coption value\x3d"esriYards"\x3e${form.simplificationUnits.yards}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"input-error-message js-tolerance-error"\x3e${form.errors.valueRequiredSimplification}\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3clabel for\x3d"travel-modes-hierarchy-input"\x3e\r\n    \x3cinput id\x3d"travel-modes-hierarchy-input" type\x3d"checkbox" class\x3d"js-hierarchy" /\x3e ${form.useHierarchy}\r\n  \x3c/label\x3e\r\n  \x3cdiv\x3e\r\n    \x3cstrong\x3e${form.attrAndParams}\x3c/strong\x3e\r\n    \x3cdiv class\x3d"js-attr-container leader-1"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/TravelModeAttrItem.html":'\x3cdiv class\x3d"flex travel-mode-overlay__attr-item"\x3e\r\n  \x3cdiv class\x3d"js-toggle-switch"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"margin-left-half flex-1"\x3e${item.name}\x3c/div\x3e\r\n  \x3cdiv class\x3d"travel-mode-overlay__attr-item-params-col"\x3e\r\n    \x3cselect class\x3d"full-width" data-dojo-attach-point\x3d"restrictionSelect"\x3e\r\n      \x3coption value\x3d"PROHIBITED"\x3e${i18n.prohibited}\x3c/option\x3e\r\n      \x3coption value\x3d"AVOID_HIGH"\x3e${i18n.avoidHigh}\x3c/option\x3e\r\n      \x3coption value\x3d"AVOID_MEDIUM"\x3e${i18n.avoidMedium}\x3c/option\x3e\r\n      \x3coption value\x3d"AVOID_LOW"\x3e${i18n.avoidLow}\x3c/option\x3e\r\n      \x3coption value\x3d"PREFER_LOW"\x3e${i18n.preferLow}\x3c/option\x3e\r\n      \x3coption value\x3d"PREFER_MEDIUM"\x3e${i18n.preferMedium}\x3c/option\x3e\r\n      \x3coption value\x3d"PREFER_HIGH"\x3e${i18n.preferHigh}\x3c/option\x3e\r\n    \x3c/select\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"numberContainer" class\x3d"hide flex flex-align-center travel-mode-overlay__num-container"\x3e\r\n      \x3cinput type\x3d"text" class\x3d"travel-mode-overlay__item-num-input margin-right-quarter" data-dojo-attach-point\x3d"numberInput"\x3e \x3cspan class\x3d"travel-mode-overlay__item-num-label font-size--1" data-dojo-attach-point\x3d"numberLabel"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/ManageRolesCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-bold" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half  org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__card-btn-container" data-dojo-attach-point\x3d"_btnContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"_headerBtn"\x3e\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content" data-dojo-attach-point\x3d"_content"\x3e\r\n    \x3cdiv class\x3d"loader org-settings__card-loader leader-2" data-dojo-attach-point\x3d"_loader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"position-relative trailer-half margin-left-1 margin-right-1 org-settings__roles-search-container"\x3e\r\n      \x3cdiv class\x3d"org-settings__roles-search-icon"\x3e${!icons.search.16}\x3c/div\x3e\r\n      \x3cinput class\x3d"org-settings__roles-search-input" placeholder\x3d"${i18n.memberRolesTab.searchRoles}" aria-label\x3d"${i18n.memberRolesTab.searchRoles}" type\x3d"text" data-dojo-attach-point\x3d"searchInput"\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"rowsContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/RoleSummaryDlg/RoleSummaryDlg.html":'\x3cdiv\x3e\r\n    \x3cstrong\x3e${i18n.customRoles.descriptionLabel}\x3c/strong\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e\r\n        \x3cp class\x3d"trailer-half" data-dojo-attach-point\x3d"_description"\x3e\x3c/p\x3e\r\n        \x3cstrong class\x3d"hide" data-dojo-attach-point\x3d"privilegesTitle"\x3e${i18n.customRoles.rolePrivilegesLabel}\x3c/strong\x3e\r\n        \x3cul class\x3d"hide" data-dojo-attach-point\x3d"_privilegesList"\x3e\x3c/ul\x3e\r\n        \x3cp class\x3d"hide trailer-0" data-dojo-attach-point\x3d"_extraInfoContainer"\x3e\x3cem data-dojo-attach-point\x3d"_extraInfo"\x3e\x3c/em\x3e\x3c/p\x3e\r\n        \x3cp class\x3d"hide trailer-0" data-dojo-attach-point\x3d"_coreRole"\x3e${i18n.customRoles.coreRole}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/MobileError.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"invite-members__mobile-error-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"invite-members__mobile-error"\x3e\r\n        \x3cdiv class\x3d"invite-members__mobile-error-body flex-column"\x3e\r\n            \x3cdiv class\x3d"mobile-alert__top-section"\x3e\r\n                \x3cdiv class\x3d"flex mobile-alert__heading" data-dojo-attach-point\x3d"_header"\x3e\r\n                    \x3cdiv class\x3d"flex-1 font-size-2"\x3e\r\n                        \x3cspan class\x3d"hide mobile-alert__warning-icon" data-dojo-attach-point\x3d"_warningIcon"\x3e${!icons.inline.exclamation-mark-circle.16}\x3c/span\x3e\r\n                        \x3cspan data-dojo-attach-point\x3d"_title"\x3e${title}\x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"_closeButton" \x3e${!icons.x.24}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"invite-members__mobile-error-description" data-dojo-attach-point\x3d"_description"\x3e\r\n                    ${description}\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"mobile-alert__action-bar" data-dojo-attach-point\x3d"_actionBar"\x3e\r\n                \x3cbutton class\x3d"btn-link mobile-alert__btn--red" data-dojo-attach-point\x3d"_confirmButton"\x3e${buttonText}\x3c/button\x3e\r\n                \x3cbutton class\x3d"btn-link btn-link-darker-gray leader-half" data-dojo-attach-point\x3d"_cancelButton"\x3e${i18n.myOrganization.inviteMembers.cancel}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/settings/RoleForm.html":'\x3cdiv class\x3d"create-role position-relative"\x3e\r\n  \x3cdiv class\x3d"flex trailer-1" data-dojo-attach-point\x3d"_topButtons"\x3e\r\n    \x3cdiv class\x3d"tabTitle flex-1" data-dojo-attach-point\x3d"_formTitle"\x3e${i18n.settingsTab.createNewRole}\x3c/div\x3e\r\n    \x3cdiv class\x3d"text-right"\x3e\r\n      \x3cdiv class\x3d"inline-block"\x3e\x3cbutton class\x3d"btn js-save-btn"\x3e${i18n.settingsTab.saveRole}\x3c/button\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"inline-block"\x3e\x3cbutton class\x3d"btn btn-clear margin-left-half rtl-margin-left-0 js-discard-btn"\x3e${i18n.settingsTab.discard}\x3c/button\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3clabel for\x3d"role-form-name-input"\x3e\r\n        ${i18n.settingsTab.roleNameLabel}\r\n        \x3cinput id\x3d"role-form-name-input" type\x3d"text" name\x3d"rolename" class\x3d"create-role__input" data-dojo-attach-point\x3d"_roleNameInput" maxlength\x3d"128"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_roleNameError" class\x3d"input-error-message"\x3e${i18n.settingsTab.roleNameError}\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3clabel for\x3d"role-form-description"\x3e\r\n        ${i18n.settingsTab.descriptionLabel}\r\n        \x3ctextarea id\x3d"role-form-description" name\x3d"roledescription" class\x3d"create-role__input" rows\x3d"4" data-dojo-attach-point\x3d"_roleDescTextarea"\r\n          maxlength\x3d"250"\x3e\x3c/textarea\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_roleDescError" class\x3d"input-error-message"\x3e${i18n.settingsTab.roleDescError}\x3c/div\x3e\r\n      \x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-1 trailer-2 create-role__slider-container"\x3e\r\n    \x3cdiv class\x3d"trailer-half"\x3e${i18n.settingsTab.privilegeCompatibility}\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-slider"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex create-role__slider-ticks"\x3e\r\n      \x3cdiv\x3e\x3c/div\x3e\r\n      \x3cdiv\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"position-relative"\x3e\r\n      \x3cdiv class\x3d"create-role__slider-label"\x3e${i18n.settingsTab.view}\x3c/div\x3e\r\n      \x3cdiv class\x3d"create-role__slider-label"\x3e${i18n.settingsTab.viewEdit}\x3c/div\x3e\r\n      \x3cdiv class\x3d"create-role__slider-label"\x3e${i18n.settingsTab.viewEditCreateManage}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"dropdown js-dropdown hide" data-dojo-attach-point\x3d"_compatibleContainer"\x3e\r\n    \x3cdiv class\x3d"padding-trailer-1 create-role__compatible-container" data-dojo-attach-point\x3d"_compatibleText"\x3e\x3c/div\x3e\r\n    \x3cnav class\x3d"dropdown-menu compatible-badge__dropdown compatible-role-dropdown" role\x3d"menu" data-dojo-attach-point\x3d"compatibleDropdown"\x3e\r\n      \x3csection class\x3d"dropdown-section"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"dropdown-section__content max-height trailer-quarter compatible-badge__list-container padding-right-half"\x3e\r\n            \x3cul class\x3d"filter-tree" data-dojo-attach-point\x3d"_compatibleUserTypesList"\x3e\x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/section\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"padding-leader-1 create-role__privileges-section flex"\x3e\r\n    \x3cdiv class\x3d"font-size-1 avenir-bold flex-1"\x3e${i18n.settingsTab.rolePrivileges}\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link margin-right-1 role-form__import-btn" data-dojo-attach-point\x3d"_importFromTemplateBtn"\x3e${i18n.settingsTab.setFromExisting}\x3c/button\x3e\r\n    \x3cbutton class\x3d"hide btn-link margin-right-1" data-dojo-attach-point\x3d"_toggleBtn"\x3e${i18n.settingsTab.toggleAllOn}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear hide-on-mobile" data-dojo-attach-point\x3d"_collapseAllBtn"\x3e${i18n.settingsTab.expandAll}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-1"\x3e\r\n    \x3cdiv class\x3d"js-priv-section role-form__priv-section role-form__priv-section--active"\x3e\r\n      \x3cdiv class\x3d"flex role-form__priv-section-title js-section-title" tabindex\x3d"0" data-dojo-attach-point\x3d"generalTitle"\x3e\r\n        ${!icons.inline.chevron-down.24}\r\n        \x3cdiv class\x3d"flex-1 flex role-form__tile-and-enabled"\x3e\r\n          \x3cdiv class\x3d"flex-1 avenir-bold font-size-0 hide-on-mobile"\x3e${i18n.generalLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex-1 avenir-bold font-size-0 only-on-mobile"\x3e${i18n.generalLabelShort}\x3c/div\x3e\r\n          \x3cdiv class\x3d"padding-right-1 privilege-section__enabled-container" data-dojo-attach-point\x3d"generalEnabledEl"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link margin-left-1 nowrap" data-dojo-attach-point\x3d"generalEnableAllBtn"\x3e${i18n.settingsTab.enableAll}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"block-group block-group-1-up tablet-block-group-1-up role-form__priv-section-content js-accordion" data-dojo-attach-point\x3d"_generalSectionsContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-priv-section padding-leader-quarter role-form__priv-section role-form__priv-section--active"\x3e\r\n      \x3cdiv class\x3d"flex leader-1 role-form__priv-section-title js-section-title" tabindex\x3d"0" data-dojo-attach-point\x3d"adminTitle"\x3e\r\n        ${!icons.inline.chevron-down.24}\r\n        \x3cdiv class\x3d"flex-1 flex role-form__tile-and-enabled"\x3e\r\n          \x3cdiv class\x3d"flex-1 avenir-bold font-size-0 hide-on-mobile"\x3e${i18n.adminLabel}\x3c/div\x3e\r\n          \x3cdiv class\x3d"flex-1 avenir-bold font-size-0 only-on-mobile"\x3e${i18n.adminLabelShort}\x3c/div\x3e\r\n          \x3cdiv class\x3d"padding-right-1 privilege-section__enabled-container" data-dojo-attach-point\x3d"adminEnabledEl"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link margin-left-1 nowrap" data-dojo-attach-point\x3d"adminEnableAllBtn"\x3e${i18n.settingsTab.enableAll}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"block-group block-group-1-up tablet-block-group-1-up role-form__priv-section-content js-accordion" data-dojo-attach-point\x3d"_adminSectionsContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex" data-dojo-attach-point\x3d"_bottomButtons"\x3e\r\n      \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n      \x3cdiv\x3e\r\n        \x3cbutton class\x3d"btn js-save-btn"\x3e${i18n.settingsTab.saveRole}\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-clear margin-left-half js-discard-btn"\x3e${i18n.settingsTab.discard}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/settings/PrivilegeSection.html":'\x3cdiv class\x3d"block privBlock privilege-section trailer-half accordion-section"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center privilege-section__title-container accordion-title"\x3e\r\n    ${!icons.chevron-down.24}\r\n    \x3cdiv class\x3d"flex flex-1 privilege-section__title-and-enabled"\x3e\r\n      \x3clabel id\x3d"${labelId}" class\x3d"flex-1 trailer-0 font-size-0 avenir-bold" \x3e${sectionTitle}\x3c/label\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"enabledEl" class\x3d"privilege-section__enabled-container padding-right-1"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link margin-left-1 nowrap" data-dojo-attach-point\x3d"bulkToggleBtn"\x3e${i18n.enableAll}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"accordion-content privGroupPrivs privilege-section__options-container" data-dojo-attach-point\x3d"_optionsContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/settings/PrivilegeOption.html":'\x3cdiv class\x3d"privilege-option flex"\x3e\r\n  \x3cdiv class\x3d"flex-1"\x3e\r\n    \x3ch3 class\x3d"font-size-0 trailer-quarter avenir-demi"\x3e${label}\x3c/h3\x3e\r\n    \x3cdiv class\x3d"font-size--1 trailer-1"\x3e${!tooltip} \x3cspan class\x3d"hide js-privilege-info-tooltip"\x3e\x3c/span\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-toggle-switch"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/settings/ImportExistingRoleDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"import-role-template__body"\x3e\r\n    \x3clabel\x3e\r\n      ${i18n.myOrganization.settingsTab.selectRoleOrTemplate}\r\n      \x3cdiv data-dojo-attach-point\x3d"_roleTemplateSelect" data-dojo-props\x3d"trim:true" data-dojo-type\x3d"dijit/form/FilteringSelect"\r\n        class\x3d"gallerySelect customComboBox text-constrain-narrow"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMessage"\x3e${i18n.myOrganization.settingsTab.roleOrTemplateRequired}\x3c/div\x3e\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex leader-1 import-role-template__buttons"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn margin-right-1" data-dojo-attach-point\x3d"_importBtn"\x3e${i18n.myOrganization.settingsTab.importSettings}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"_cancelBtn"\x3e${i18n.myOrganization.settingsTab.cancel}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/RoleRow.html":'\x3cdiv class\x3d"org-settings__card-list-row flex flex-align-center"\x3e\r\n  \x3cdiv class\x3d"font-size--1 margin-left-half margin-right-2 text-ellipsis org-settings__role-name-col" \x3e\r\n    ${role.name}\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link margin-right-1" data-dojo-attach-point\x3d"_infoBtn"\x3e${!icons.info.16}\x3c/button\x3e\r\n  \x3cdiv class\x3d"flex-1 org-settings__member-count-col"\x3e${!icons.inline.user.16}\x3cspan\x3e${role.memberCount}\x3c/span\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"hide-on-mobile font-size--1 org-settings__role-type-col text-ellipsis margin-right-1 margin-left-1" data-dojo-attach-point\x3d"typeLabel"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"dropdown js-dropdown org-settings__role-actions-col flex flex-align-center" role\x3d"menu" data-dojo-attach-point\x3d"_actions"\x3e\r\n    \x3cbutton id\x3d"role-warning-${role.id}" class\x3d"hide btn-link org-settings__role-warning-icon" data-dojo-attach-point\x3d"warningIcon"\x3e${!icons.exclamation-mark-triangle-f.16}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle" tabindex\x3d"0" data-dojo-attach-point\x3d"actionsBtn"\x3e\r\n      ${!icons.ellipsis-f.16}\r\n    \x3c/button\x3e\r\n    \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"_editBtn"\x3e${i18n.edit}\x3c/button\x3e\r\n      \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"_deleteBtn"\x3e${i18n.delete}\x3c/button\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/CreditAllocationContent.html":'\x3cdiv class\x3d"js-enable-switch"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"js-show-switch"\x3e\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/Overlay/templates/OverlayStep.html":'\x3cbutton title\x3d"${text}" class\x3d"flex-1 btn-link btn-link-darker-gray font-size-1 overlay-steps__item text-left text-ellipsis"\x3e${text}\x3c/button\x3e\r\n',"url:arcgisonline/pages/dijit/Overlay/templates/OverlayStepContent.html":'\x3cdiv class\x3d"overlay-step-content"\x3e\r\n  \x3cbutton class\x3d"btn-link btn-link-darker-gray overlay-step-content__stepper-title text-left" data-dojo-attach-point\x3d"titleBtn"\x3e\r\n    \x3cdiv class\x3d"flex-1" data-dojo-attach-point\x3d"titleContainer"\x3e\x3c/div\x3e\r\n    ${!icons.check.32}\r\n  \x3c/button\x3e\r\n  \x3cdiv class\x3d"overlay-step-content__body leader-half" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOption.html":'\x3cdiv class\x3d"font-size--1 position-relative"\x3e\r\n  \x3cinput class\x3d"radio-group-input" id\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"radio" type\x3d"radio" name\x3d"${name}" value\x3d"" \x3e\r\n  \x3clabel class\x3d"radio-group-label ${labelClass}" for\x3d"${name}-${value}-option" data-dojo-attach-point\x3d"selectLabel"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"iconContainer" class\x3d"hide trailer-quarter"\x3e\x3c/div\x3e\r\n    ${text}\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/SelectOption/SelectOptionRadio.html":'\x3clabel data-dojo-attach-point\x3d"selectLabel" class\x3d"flex select-option__radio-label font-size--1"\x3e\r\n  \x3cinput type\x3d"radio" name\x3d"${name}" data-dojo-attach-point\x3d"radio" \x3e\r\n  ${text}\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/dijit/Overlay/templates/OverlayConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-mask"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative"\x3e\r\n      \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n        \x3cbutton class\x3d"btn-link trailer-half display-block js-action-one"\x3e\x3c/button\x3e\r\n        \x3cbutton class\x3d"btn-link js-action-two"\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/CopyToClipboard.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"input-group js-copy-group"\x3e\r\n    \x3clabel for\x3d"copy-to-clipboard-${id}" class\x3d"screen-readers-only"\x3e${label}\x3c/label\x3e\r\n    \x3cinput data-dojo-attach-point\x3d"copyInput" class\x3d"input-group-input copy-to-clipboard-input" readonly type\x3d"text" value\x3d"${text}" id\x3d"copy-to-clipboard-${id}"\x3e\r\n    \x3cspan class\x3d"js-copy-tooltip input-group-button tooltip ${tooltipModifier}" aria-label\x3d"${i18n.tocPanel.copy}"\x3e\r\n      \x3cbutton aria-label\x3d"${i18n.itemProperties.copyToClipboard}"\r\n              class\x3d"js-copy-btn btn btn-clear"\r\n              data-dojo-attach-event\x3d"click: copy, mouseleave: reset"\x3e\r\n              \x3ccalcite-icon scale\x3d"s" icon\x3d"${icon}" \x3e\x3c/calcite-icon\x3e\r\n      \x3c/button\x3e\r\n    \x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cp role\x3d"alert" aria-live\x3d"polite" class\x3d"js-copy-alert screen-readers-only"\x3e\x3c/p\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/EnterpriseLoginOverlay.html":'\x3cdiv class\x3d"enterprise-login-overlay__content"\x3e\r\n    \x3cdiv class\x3d"js-step1-content leader-1"\x3e\r\n      \x3cdiv class\x3d"invite-members__invite-method-item invite-members__invite-method-item--selected"\x3e\r\n        \x3clabel class\x3d"flex trailer-0"\x3e\r\n          \x3cinput name\x3d"idpOptions" type\x3d"radio" role\x3d"radio" aria-checked\x3d"false" tabindex\x3d"0" value\x3d"one" class\x3d"js-one-idp"\r\n            checked\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 invite-members__method-title"\x3e${i18n.oneIdp}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"invite-members__invite-method-desc leader-quarter"\x3e\r\n          ${i18n.oneIdpDesc}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"invite-members__invite-method-item"\x3e\r\n        \x3clabel class\x3d"flex trailer-0"\x3e\r\n          \x3cinput name\x3d"idpOptions" type\x3d"radio" role\x3d"radio" aria-checked\x3d"false" tabindex\x3d"0" value\x3d"federation" class\x3d"js-fed-idp"\x3e\r\n          \x3cspan class\x3d"margin-left-1 font-size-1 invite-members__method-title"\x3e${i18n.fedIdps}\x3c/span\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv class\x3d"invite-members__invite-method-desc"\x3e\r\n          ${i18n.fedIdpsDesc}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-step2-content hide"\x3e\r\n      \x3cp class\x3d"js-edit-description"\x3e\x3c/p\x3e\r\n      \x3cform class\x3d"js-form" enctype\x3d"multipart/form-data" method\x3d"post" onsubmit\x3d"return false;"\x3e\r\n        \x3clabel for\x3d"enterprise-login-name-input"\x3e\r\n          ${i18n.form.name}\r\n          \x3cinput id\x3d"enterprise-login-name-input" type\x3d"text" name\x3d"name" placeholder\x3d"${i18n.form.namePlaceholder}" class\x3d"js-name-input" \x3e\r\n          \x3cdiv class\x3d"input-error-message js-name-error"\x3e${i18n.form.errors.nameRequired}\x3c/div\x3e\r\n        \x3c/label\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"trailer-half"\x3e${i18n.form.ableToJoin}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-1 js-fed-section"\x3e\r\n          \x3clabel for\x3d"enterprise-login-service-url"\x3e\r\n            ${i18n.form.fedServiceUrl}\r\n            \x3cinput id\x3d"enterprise-login-service-url"type\x3d"text" name\x3d"discoveryServiceUrl" class\x3d"js-discovery-service-url"\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel for\x3d"enterprise-login-metadata-service-url" \x3e\r\n            ${i18n.form.metadataAggUrl}\r\n            \x3cinput id\x3d"enterprise-login-metadata-service-url" type\x3d"text" name\x3d"metadataServiceUrl" class\x3d"js-metadata-service-url"\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel for\x3d"enterprise-login-metadata-fed-cert" class\x3d"trailer-0"\x3e\r\n            ${i18n.form.metadataAggCert}\r\n            \x3ctextarea id\x3d"enterprise-login-metadata-fed-cert" class\x3d"js-fed-cert" \x3e\x3c/textarea\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-1 js-metadata-section hide"\x3e\r\n          \x3cdiv class\x3d"trailer-half"\x3e${i18n.form.metadataSource}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-metadata-options"\x3e\x3c/div\x3e\r\n          \x3cinput type\x3d"text" name\x3d"idpMetadataUrl" class\x3d"hide js-metadata-url-input" placeholder\x3d"${i18n.form.urlPlaceholder}"\x3e\r\n          \x3cdiv class\x3d"input-error-message js-url-error"\x3e${i18n.form.errors.metadataUrlMustBeSet}\x3c/div\x3e\r\n          \x3cinput type\x3d"file" name\x3d"idpMetadataFile" class\x3d"hide js-metadata-file-input"\x3e\r\n          \x3cdiv class\x3d"input-error-message js-file-error"\x3e${i18n.form.errors.metadataFileMustBeSet}\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide js-metadata-params"\x3e\r\n            \x3clabel for\x3d"enterprise-login-redirect-input"\x3e\r\n              ${i18n.form.loginRedirect}\r\n              \x3cinput id\x3d"enterprise-login-redirect-input" type\x3d"text" name\x3d"bindingUrl" class\x3d"js-login-redirect-input" placeholder\x3d"${i18n.form.redirectPlaceholder}"\x3e\r\n              \x3cdiv class\x3d"input-error-message js-login-error"\x3e${i18n.form.errors.loginUrlMustBeSet}\x3c/div\x3e\r\n            \x3c/label\x3e\r\n            \x3clabel for\x3d"enterprise-login-post-input"\x3e\r\n              ${i18n.form.loginPost}\r\n              \x3cinput id\x3d"enterprise-login-post-input" type\x3d"text" name\x3d"postBindingUrl" class\x3d"js-login-post-input" placeholder\x3d"${i18n.form.postPlaceholder}"\x3e\r\n              \x3cdiv class\x3d"input-error-message js-login-post-error"\x3e${i18n.form.errors.loginUrlPostMustBeSet}\x3c/div\x3e\r\n            \x3c/label\x3e\r\n            \x3clabel class\x3d"trailer-0" for\x3d"enterprise-login-ceriticate-textarea"\x3e\r\n              ${i18n.form.certificate}\r\n              \x3ctextarea id\x3d"enterprise-login-ceriticate-textarea" class\x3d"js-certificate-textarea"\x3e\x3c/textarea\x3e\r\n              \x3cdiv class\x3d"input-error-message js-cert-error"\x3e${i18n.form.errors.certificateMustBeSet}\x3c/div\x3e\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link leader-1 font-size--1 trailer-1 enterprise-login-overlay__toggle-adv-btn js-toggle-advanced-btn"\x3e${chevron} \x3cspan class\x3d"js-toggle-text"\x3e${i18n.form.showAdvanced}\x3c/span\x3e\x3c/button\x3e\r\n        \x3cdiv class\x3d"hide js-advanced-settings trailer-1"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-encrypt-toggle"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-signed-request-toggle"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-sha256-toggle"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-propagate-toggle"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-profiles-toggle"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-saml-toggle"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3clabel class\x3d"leader-quarter js-logout-url" for\x3d"enterprise-login-logout-url"\x3e\r\n            ${i18n.form.advanced.logoutURL}\r\n            \x3cinput id\x3d"enterprise-login-logout-url" type\x3d"text" name\x3d"logoutUrl" class\x3d"js-logout-input" placeholder\x3d"${i18n.form.advanced.logoutPlaceholder}"\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel for\x3d"enterprise-login-entity-id-input"\x3e\r\n            ${i18n.form.advanced.entityID}\r\n            \x3cinput  id\x3d"enterprise-login-entity-id-input"type\x3d"text" name\x3d"entityId" class\x3d"js-entity-id-input" \x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide js-signed-metadata-container"\x3e\r\n          ${i18n.getSignedServiceProvider}\x3cdiv id\x3d"signed-service-provider-link"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/form\x3e\r\n      \x3cbutton class\x3d"leader-1 btn btn-link font-size--1 js-download-btn hide"\x3e\x3ccalcite-icon scale\x3d"s" icon\x3d"download-to"\x3e\x3c/calcite-icon\x3e ${i18n.getServiceProvider}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn oidc-overlay__delete-btn hide js-delete-btn"\x3e${i18n.deleteLogin}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/OpenIdConnectOverlay.html":'\x3cdiv class\x3d"oidc-overlay__content-body"\x3e\r\n  \x3cdiv class\x3d"hide js-details-section"\x3e\r\n    \x3cdiv class\x3d"oidc-section-title"\x3e${i18n.configDetails}\x3c/div\x3e\r\n    \x3cp class\x3d"font-size--2"\x3e${i18n.detailsDescription} \x3ccalcite-link target\x3d"_blank" class\x3d"js-details-learnmore"\x3e${i18n.learnMore}\x3c/calcite-link\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"js-register-description"\x3e${i18n.description} \x3ca href\x3d"" target\x3d"_blank" class\x3d"js-learnmore-link"\x3e${i18n.learnMore} ${launchIcon}\x3c/a\x3e\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-provider-name"\x3e\x3c/div\x3e\r\n  \x3clabel for\x3d"oidc-overlay-join-select"\x3e\r\n    ${i18n.letNewJoin}\r\n    \x3cdiv class\x3d"js-join-select"\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"js-client-id"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"trailer-1"\x3e\r\n    ${i18n.authMethod}\r\n    \x3cdiv class\x3d"js-auth-options"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-scopes"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-issuer"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-oauth"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-token"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-web-key"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-profile"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-logout"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-accept-token-toggle"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-pkce-toggle"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-enable-group-toggle"\x3e\x3c/div\x3e\r\n  \x3clabel for\x3d"oidc-claim-name" class\x3d"leader-1"\x3e\r\n    \x3cspan\x3e${i18n.claimName}\x3c/span\x3e\r\n    \x3cinput id\x3d"oidc-claim-name" type\x3d"text" class\x3d"js-claim-name-input"\x3e\r\n    \x3cdiv class\x3d"leader-quarter"\x3e\x3ca class\x3d"js-learn-more-claim-link flex flex-align-center" target\x3d"_blank"\x3e${i18n.learnMore} \x3ccalcite-icon icon\x3d"launch" scale\x3d"s" class\x3d"margin-left-quarter"\x3e\x3c/calcite-icon\x3e\x3c/a\x3e\x3c/div\x3e\r\n  \x3c/label\x3e\r\n  \x3cdiv class\x3d"hide leader-half js-redirection-section"\x3e\r\n    \x3clabel class\x3d"js-copy-login-uri"\x3e\r\n      ${i18n.loginRedirectUri}\r\n    \x3c/label\x3e\r\n    \x3clabel class\x3d"js-copy-logout-uri"\x3e\r\n      ${i18n.logoutRedirectUri}\r\n    \x3c/label\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn oidc-overlay__delete-btn hide js-delete-btn"\x3e${i18n.deleteLogin}\x3c/button\x3e\r\n  \x3cdiv class\x3d"js-key-section"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-urls-section"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TextboxWithValidation/TextboxWithValidation.html":'\x3cdiv class\x3d"trailer-1"\x3e\r\n  \x3clabel for\x3d"${uid}" class\x3d"trailer-0 ${labelClass}"\x3e${labelText}\x3c/label\x3e\r\n  \x3cdiv class\x3d"avenir-regular ${labelDescription:hide}"\x3e${labelDescription}\x3c/div\x3e\r\n  \x3cinput type\x3d"text" class\x3d"js-text-input hide"\x3e\r\n  \x3ctextarea class\x3d"js-textarea hide" placeholder\x3d"${placeholder}"\x3e\x3c/textarea\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/TextboxWithValidation/UrlTextbox.html":'\x3clabel for\x3d"${uid}"\x3e\r\n  ${labelText}\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"url-textbox__protocol"\x3ehttps://\x3c/div\x3e\x3cinput class\x3d"flex-1 url-textbox__input js-text-input" type\x3d"text"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n\x3c/label\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/templates/ClientSecretInput.html":'\x3clabel for\x3d"${uid}"\x3e\r\n  ${labelText}\r\n  \x3ctextarea class\x3d"js-textarea hide"\x3e\x3c/textarea\x3e\r\n  \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"errorMsg"\x3e\x3c/div\x3e\r\n  \x3cbutton class\x3d"btn-link leader-quarter hide" data-dojo-attach-point\x3d"toggleSecretBtn"\x3e${i18n.showSecret}\x3c/button\x3e\r\n\x3c/label\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/PasswordPolicyOverlay.html":'\x3cdiv class\x3d"password-policy-overlay__content"\x3e\r\n  \x3cdiv class\x3d"flex-1 trailer-half js-title-desc overflow-hidden"\x3e\r\n    \x3cp class\x3d"leader-half trailer-half" \x3e${i18n.description}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cdiv class\x3d"flex-column trailer-0"\x3e\r\n        \x3cp class\x3d"trailer-0"\x3e${i18n.numOfChars}\x3c/p\x3e\r\n        \x3cinput class\x3d"js-min-length" type\x3d"text"\x3e\r\n        \x3cp class\x3d"trailer-0 input-error-message js-min-length-error"\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-num-chars-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cp class\x3d"trailer-0"\x3e${i18n.requireLetter}\x3c/p\x3e\r\n      \x3cdiv class\x3d"js-letter-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cp class\x3d"trailer-0"\x3e${i18n.requireUpper}\x3c/p\x3e\r\n      \x3cdiv class\x3d"js-upper-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cp class\x3d"trailer-0"\x3e${i18n.requireLower}\x3c/p\x3e\r\n      \x3cdiv class\x3d"js-lower-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cp class\x3d"trailer-0"\x3e${i18n.requireNumber}\x3c/p\x3e\r\n      \x3cdiv class\x3d"js-number-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cp class\x3d"trailer-0"\x3e${i18n.requireSpecial}\x3c/p\x3e\r\n      \x3cdiv class\x3d"js-special-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cdiv class\x3d"trailer-0"\x3e\r\n        \x3cp class\x3d"trailer-0"\x3e${i18n.expiresDays}\x3c/p\x3e\r\n        \x3cinput class\x3d"js-expiration-days" type\x3d"text"\x3e\r\n        \x3cp class\x3d"trailer-0 input-error-message js-exp-days-error"\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-expires-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-space-between org-settings__security-switch-row"\x3e\r\n      \x3cdiv class\x3d"trailer-0"\x3e\r\n        \x3cp class\x3d"trailer-0"\x3e${i18n.reusePasswords}\x3c/p\x3e\r\n        \x3cinput class\x3d"js-history-size" type\x3d"text"\x3e\r\n        \x3cp class\x3d"trailer-0 input-error-message js-history-size-error"\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-reuse-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"js-use-defaults-btn btn-link leader-quarter"\x3e${i18n.useDefaults}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/LockoutSettingsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${label}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e${description}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"contentContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/ClassificationBannerDlg.html":'\x3cdiv class\x3d"classification_banner_dlg"\x3e\r\n  \x3cdiv class\x3d"container"\x3e\r\n    \x3cdiv class\x3d"header"\x3e\r\n      \x3cspan class\x3d"js-classification-banner-toggle"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cform\r\n        class\x3d"js-classification-banner-form form-wrapper hide"\r\n        data-dojo-attach-point\x3d"_form"\r\n        class\x3d"hide"\r\n        data-edit-id\x3d"snippet"\r\n        aria-live\x3d"polite"\r\n      \x3e\r\n        \x3clabel class\x3d"light-label font-size--1"\x3e${i18n.preview}\x3c/label\x3e\r\n        \x3cdiv class\x3d"info-banner info-banner--top js-banner-preview"\x3e\r\n          \x3cp class\x3d"info-banner-text js-banner-preview-text"\x3e${i18n.provideText}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"font-size--1 leader-1 display-block" for\x3d"info-banner-text"\x3e${i18n.bannerText}\x3c/label\x3e\r\n        \x3ccalcite-input\r\n          id\x3d"info-banner-text"\r\n          placeholder\x3d"${i18n.provideText}"\r\n          name\x3d"content"\r\n          rows\x3d"12"\r\n          max-length\x3d"148"\r\n          class\x3d"js-content-input display-block leader-half"\r\n          aria-describedby\x3d"info-text-char-count info-text-long-warning"\r\n          aria-required\x3d"true"\r\n        \x3e\x3c/calcite-input\x3e\r\n        \x3cdiv class\x3d"inline-edit__characters-left" id\x3d"info-text-char-count" role\x3d"status" aria-live\x3d"polite" aria-atomic\x3d"true"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"inline-block longer-messages-warning hide" id\x3d"info-text-long-warning"\x3e${i18n.longerMessages}\x3c/div\x3e\r\n        \x3clabel class\x3d"light-label font-size--1 leader-1"\x3e${i18n.styling}\x3c/label\x3e\r\n        \x3cdiv class\x3d"color-picker-containers flex-wrap"\x3e\r\n          \x3cdiv class\x3d"trailer-quarter"\x3e\r\n            \x3cdiv\r\n              tabindex\x3d"0"\r\n              class\x3d"color-picker-container selectable bg js-bg-container"\r\n              role\x3d"button"\r\n              aria-expanded\x3d"false"\r\n            \x3e\r\n              \x3csvg\r\n                class\x3d"color-swatch color-swatch-bg"\r\n                width\x3d"36"\r\n                height\x3d"36"\r\n                viewbox\x3d"0 0 36 36"\r\n                xmlns\x3d"http://www.w3.org/2000/svg"\r\n                role\x3d"none"\r\n                focusable\x3d"false"\r\n                aria-hidden\x3d"true"\r\n              \x3e\r\n                \x3crect width\x3d"36" height\x3d"36" /\x3e\r\n              \x3c/svg\x3e\r\n              \x3cdiv class\x3d"color-picker-text"\x3e\r\n                \x3cdiv class\x3d"description"\x3e${i18n.backgroundColor}\x3c/div\x3e\r\n                \x3cdiv class\x3d"bg-color hex-value-container"\x3e#F8F8F8\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"position-relative"\x3e\r\n              \x3cdiv class\x3d"info-banner__color-picker js-bg-cp-container visibility-hidden"\x3e\x3c/div\x3e\r\n              \x3cdiv tabindex\x3d"-1" id\x3d"colorSquareBg" class\x3d"color-square"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"trailer-quarter"\x3e\r\n            \x3cdiv\r\n              tabindex\x3d"0"\r\n              class\x3d"color-picker-container selectable font js-font-container"\r\n              role\x3d"button"\r\n              aria-expanded\x3d"false"\r\n            \x3e\r\n              \x3csvg\r\n                class\x3d"color-swatch color-swatch-font"\r\n                width\x3d"36"\r\n                height\x3d"36"\r\n                viewbox\x3d"0 0 36 36"\r\n                xmlns\x3d"http://www.w3.org/2000/svg"\r\n                role\x3d"none"\r\n                focusable\x3d"false"\r\n                aria-hidden\x3d"true"\r\n              \x3e\r\n                \x3crect width\x3d"36" height\x3d"36" /\x3e\r\n              \x3c/svg\x3e\r\n              \x3cdiv class\x3d"color-picker-text"\x3e\r\n                \x3cdiv class\x3d"description"\x3e${i18n.fontColor}\x3c/div\x3e\r\n                \x3cdiv class\x3d"font-color hex-value-container"\x3e#424242\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"position-relative"\x3e\r\n              \x3cdiv class\x3d"info-banner__color-picker js-font-cp-container visibility-hidden"\x3e\x3c/div\x3e\r\n              \x3cdiv tabindex\x3d"-1" id\x3d"colorSquareFont" class\x3d"color-square"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"color-picker-container contrast-container"\x3e\r\n              \x3cdiv class\x3d"contrast-ratio-icon"\x3e\x3c/div\x3e\r\n              \x3cdiv class\x3d"color-picker-text"\x3e\r\n                \x3cdiv class\x3d"description flex flex-align-center"\x3e${i18n.contrastRatio} ${infoIcon}\x3c/div\x3e\r\n                \x3cdiv class\x3d"font-color contrast-ratio-value"\x3e1\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"font-size--3 classification-banner-overlay__required-contrast-msg"\x3e\r\n              ${i18n.requiredContrast}\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/form\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/HttpsRow.html":'\r\n\x3cdiv class\x3d"org-settings__card-row no-border"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half" \x3e\r\n    \x3cdiv class\x3d"avenir-demi" \x3e${i18n.https}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-security-alert"\x3e\x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"js-https-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/SecurityAlert.html":'\x3cdiv class\x3d"org-overview__security-alert flex-column flex-center hide"\x3e\r\n  \x3cdiv class\x3d"flex org-overview__security-alert-content"\x3e\r\n    \x3cdiv class\x3d"flex-1 flex"\x3e\r\n      \x3cdiv class\x3d"flex-0 margin-right-1 org-overview__security-alert-icon"\x3e${!warnIcon}\x3c/div\x3e\r\n      \x3cp class\x3d"font-size--1 trailer-0 flex-1" data-dojo-attach-point\x3d"alertContent"\x3e\r\n        \x3cspan class\x3d"org-overview__security-alert-title avenir-bold"\x3e${i18n.securityAlert.title}\x3c/span\x3e ${i18n.securityAlert.description} \x3ca data-dojo-attach-point\x3d"httpsLearnMore" class\x3d"hide" target\x3d"_blank"\x3e${i18n.learnMore}${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/p\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-left-2 org-overview__security-alert-btn hide" data-dojo-attach-point\x3d"btnContainer"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"actionBtn"\x3e${i18n.securityAlert.updateHTTPS}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/PoliciesRow.html":'\x3cdiv class\x3d"org-settings__card-row no-border"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"js-anon-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-cross-org-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-edit-profile-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-allow-download-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-allow-create-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/SharingSearchingRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"js-share-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-search-switch"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-social-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ToggleMFARow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"js-switch-container"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-mfa-toggle"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-mfa-charts"\x3e\x3c/div\x3e\r\n  \r\n  \x3cdiv class\x3d"js-adoption-status"\x3e\r\n    \x3cdiv class\x3d"avenir-demi trailer-quarter leader-1"\x3e${i18n.adoptionLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-adoption-loader"\x3e\x3ccalcite-loader\x3e\x3c/calcite-loader\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-wrap js-adoption-charts hide"\x3e\r\n      \x3cdiv class\x3d"mfa-adoption-card margin-right-half"\x3e\r\n        \x3cdiv class\x3d"avenir-demi font-size--1"\x3e${i18n.totalAdoption}\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size--2 trailer-half"\x3e${i18n.statusAll}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center js-all"\x3e\r\n          \x3cdiv class\x3d"mfa-set-up-chart-label"\x3e\r\n            \x3cdiv class\x3d"font-size--3"\x3e${i18n.mfaSetUp}\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-set-up-percent js-set-up-percent"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"position-relative"\x3e\r\n            \x3cdiv class\x3d"mfa-pie-number js-total"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-chart-container js-chart"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"mfa-not-set-up-chart-label"\x3e\r\n            \x3cdiv class\x3d"font-size--3"\x3e${i18n.mfaNotSetUp}\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-not-set-up-percent js-not-set-up-percent"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"mfa-adoption-card margin-right-half js-required-chart-card"\x3e\r\n        \x3cdiv class\x3d"avenir-demi font-size--1"\x3e${i18n.setupRequired}\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size--2 trailer-half"\x3e${i18n.statusRequired}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center js-required"\x3e\r\n          \x3cdiv class\x3d"mfa-set-up-chart-label"\x3e\r\n            \x3cdiv class\x3d"font-size--3"\x3e${i18n.mfaSetUp}\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-set-up-percent js-set-up-percent"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"position-relative"\x3e\r\n            \x3cdiv class\x3d"mfa-pie-number js-total"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-chart-container js-chart"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"mfa-not-set-up-chart-label"\x3e\r\n            \x3cdiv class\x3d"font-size--3"\x3e${i18n.mfaNotSetUp}\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-not-set-up-percent js-not-set-up-percent"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"mfa-adoption-card margin-right-half js-exempt-chart-card"\x3e\r\n        \x3cdiv class\x3d"avenir-demi font-size--1"\x3e${i18n.setupExempt}\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size--2 trailer-half"\x3e${i18n.statusExempt}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center js-exempt"\x3e\r\n          \x3cdiv class\x3d"mfa-set-up-chart-label"\x3e\r\n            \x3cdiv class\x3d"font-size--3"\x3e${i18n.mfaSetUp}\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-set-up-percent js-set-up-percent"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"position-relative"\x3e\r\n            \x3cdiv class\x3d"mfa-pie-number js-total"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-chart-container js-chart"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"mfa-not-set-up-chart-label"\x3e\r\n            \x3cdiv class\x3d"font-size--3"\x3e${i18n.mfaNotSetUp}\x3c/div\x3e\r\n            \x3cdiv class\x3d"mfa-not-set-up-percent js-not-set-up-percent"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-enforce-section"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-confirm-enforce"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-confirm-disable-enforce"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/MFAAdminsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi"\x3e${label}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1"\x3e${description}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"leader-1 trailer-half"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"addBtn"\x3e${i18n.add}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"list"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/TrustedServersRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"trailer-half position-relative"\x3e\r\n    \x3cbutton\r\n      class\x3d"btn btn-clear org-settings__card-header-btn"\r\n      data-dojo-attach-point\x3d"addBtn"\r\n      aria-haspopup\x3d"dialog"\r\n      aria-label\x3d"${editA11yLabel}"\r\n    \x3e\r\n      ${i18n.add}\r\n    \x3c/button\x3e\r\n    \x3cdiv role\x3d"dialog" aria-label\x3d"${dialogLabel}" class\x3d"hide org-settings__edit-form" data-dojo-attach-point\x3d"addForm"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_formContent"\x3e\r\n        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"textbox" /\x3e\r\n        \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"inputError"\x3e\r\n           ${i18n.duplicateError}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n        \x3cbutton class\x3d"btn btn-link btn-link-darker-gray margin-right-1" data-dojo-attach-point\x3d"cancelBtn"\x3e\r\n          ${i18n.cancel}\r\n        \x3c/button\x3e\r\n        \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.addServer}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"list"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/TrustedServerItem.html":'\x3cdiv class\x3d"org-settings__card-list-row flex flex-align-center"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center flex-1" data-dojo-attach-point\x3d"itemInfo"\x3e\r\n    \x3cdiv\x3e${!itemIcon}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-left-half"\x3e\r\n      ${server}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" tabindex\x3d"0" data-dojo-attach-point\x3d"removeBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n  \x3cdiv class\x3d"hide font-size--1" data-dojo-attach-point\x3d"removedContainer"\x3e\r\n    ${i18n.removed} \x3cbutton class\x3d"btn btn-link font-size--1" data-dojo-attach-point\x3d"undoBtn"\x3e${i18n.undo}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ArcGISLoginRow.html":'\x3cdiv class\x3d"logins-option-row" data-provider\x3d"arcgis"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"flex-0 sign-option-drag-handle js-drag-handle"\x3e${!icons.drag.16}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-justify margin-left-half margin-right-2"\x3e\r\n      \x3cdiv id\x3d"arcgis-login-name" class\x3d"avenir-demi font-size--1" data-dojo-attach-point\x3d"toggleName"\x3e\x3c/div\x3e\r\n      \x3cdiv id\x3d"arcgis-login-desc" class\x3d"font-size--2" data-dojo-attach-point\x3d"toggleDesc"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"js-companion-info"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-toggle"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/SamlLoginRow.html":'\x3cdiv class\x3d"logins-option-row"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"flex-0 sign-option-drag-handle js-drag-handle"\x3e${!icons.drag.16}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-justify margin-left-half margin-right-2"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"font-size--1 avenir-demi" id\x3d"saml-login-name" data-dojo-attach-point\x3d"idpName"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv id\x3d"saml-login-desc" class\x3d"font-size--2"\x3e${i18n.name}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 margin-right-1 tooltip tooltip--with-outline" data-dojo-attach-point\x3d"downloadIcon" aria-label\x3d"${i18n.getServiceProvider}"\x3e\r\n      \x3ccalcite-icon scale\x3d"s" icon\x3d"download-to" aria-hidden\x3d"true" tabindex\x3d"-1"\x3e\x3c/calcite-icon\x3e\r\n    \x3c/button\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 margin-right-1" data-dojo-attach-point\x3d"editIcon"\x3e\r\n      ${i18n.configureLogin}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"js-companion-info"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-toggle"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/OpenIdConnectRow.html":'\x3cdiv class\x3d"logins-option-row"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"flex-0 sign-option-drag-handle js-drag-handle"\x3e${!icons.drag.16}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex-justify margin-left-half margin-right-2"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv id\x3d"oidc-name" class\x3d"font-size--1 avenir-demi" data-dojo-attach-point\x3d"idpName"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv id\x3d"oidc-desc" class\x3d"font-size--2"\x3e${i18n.name}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link font-size--1 margin-right-1" data-dojo-attach-point\x3d"editIcon"\x3e\r\n      ${i18n.configureLogin}\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"js-companion-info"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-toggle"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/SocialLoginsRow.html":'\x3cdiv class\x3d"logins-option-row" data-provider\x3d"social"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col trailer-half"\x3e\r\n\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      \x3cdiv class\x3d"flex-0 sign-option-drag-handle js-drag-handle"\x3e${!icons.drag.16}\x3c/div\x3e\r\n      \x3cdiv class\x3d"margin-left-half margin-right-1 flex-1"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n          \x3cdiv id\x3d"social-logins-name" class\x3d"avenir-demi flex-1" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-main-companion"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"social-logins-desc" class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-main-toggle"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"toggleDisabledEl"\x3e\r\n      \x3cp class\x3d"font-size--1 trailer-0 leader-1"\x3e${i18n.toggleDisabled}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"padding-left-1" data-dojo-attach-point\x3d"providerList"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"margin-left-0 social-provider-row" data-dojo-attach-point\x3d"autoContainer"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      \x3cdiv class\x3d"flex-1 margin-right-2" id\x3d"auto-login-label"\x3e${i18n.autoLabel}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-toggle-auto-join"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1"\x3e\r\n      \x3cp data-dojo-attach-point\x3d"autoRequireEl" class\x3d"trailer-0 leader-1"\x3e${i18n.autoRequirement}\x3c/p\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"defaultValuesContainer"\x3e\r\n        \x3cdiv class\x3d"leader-1"\x3e${i18n.defaultValues}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"defaultUserTypeRow" class\x3d"margin-left-1"\x3e${i18n.userType}\x3cspan data-dojo-attach-point\x3d"defaultUserTypeEl" class\x3d"margin-left-half"\x3e${i18n.notSet}\x3c/span\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"defaultRoleRow" class\x3d"margin-left-1"\x3e${i18n.role}\x3cspan data-dojo-attach-point\x3d"defaultRoleEl" class\x3d"margin-left-half"\x3e${i18n.notSet}\x3c/span\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"defaultCreditsRow" class\x3d"margin-left-1"\x3e${i18n.credits}\x3cspan data-dojo-attach-point\x3d"defaultCreditsEl" class\x3d"margin-left-half"\x3e${i18n.notSet}\x3c/span\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"defaultGroupsRow" class\x3d"margin-left-1"\x3e${i18n.groups}\x3cspan data-dojo-attach-point\x3d"defaultGroupsEl" class\x3d"margin-left-half"\x3e${i18n.notSet}\x3c/span\x3e\x3c/div\x3e\r\n        \x3cp class\x3d"trailer-0 leader-1" data-dojo-attach-point\x3d"toConfigureEl"\x3e${i18n.defaultsTab}\x3c/p\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/SignInOptionsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0" data-dojo-attach-point\x3d"enterpriseContainer"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"flex-1 flex-justify margin-right-2"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"enterpriseLabel"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"enterpriseOption"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0" data-dojo-attach-point\x3d"arcgisContainer"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"flex-1 flex-justify margin-right-2"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"arcgisLabel"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"arcgisOption"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0" data-dojo-attach-point\x3d"socialContainer"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"flex-1 flex-justify margin-right-2"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"socialLabel"\x3e${i18n.socialSignIn}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"socialOption"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/AccessNoticeRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      \x3cdiv class\x3d"avenir-demi margin-right-half" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-info-tooltip"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"editBtn"\x3e\x3c/button\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/SiteNoticeDlg.html":'\x3cdiv class\x3d"site_notice_dlg"\x3e\r\n  \x3cdiv class\x3d"container padding-leader-half"\x3e\r\n    \x3cdiv class\x3d"header"\x3e\r\n      \x3cspan class\x3d"js-site-notice-toggle"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cform class\x3d"js-site-notice-form form-wrapper hide" class\x3d"hide" data-edit-id\x3d"snippet" aria-live\x3d"polite"\x3e\r\n        \x3clabel class\x3d"light-label font-size--1 avenir-demi"\x3e${i18n.noticeTitle}\x3c/label\x3e\r\n        \x3cinput\r\n          type\x3d"text"\r\n          name\x3d"title"\r\n          rows\x3d"1"\r\n          maxlength\x3d"200"\r\n          class\x3d"js-title-input display-block"\x3e${value}\x3c/input\x3e\r\n        \x3cdiv class\x3d"leader-quarter font-size--2 site-notice-dlg__chars-count js-title-char-remain"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-title-error input-error-message"\x3e\x3c/div\x3e\r\n        \x3clabel class\x3d"light-label font-size--1 avenir-demi"\x3e${i18n.noticeContent}\x3c/label\x3e\r\n        \x3ctextarea\r\n          name\x3d"content"\r\n          rows\x3d"12"\r\n          class\x3d"js-content-input display-block"\x3e${value}\x3c/textarea\x3e\r\n        \x3cdiv class\x3d"leader-quarter font-size--2 js-content-over-limit site-notice-dlg__chars-count"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-text-error input-error-message"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-half font-size--1 avenir-demi"\x3e${i18n.noticeActionButtons}\x3c/div\x3e\r\n        \x3cdiv class\x3d"flex"\x3e\r\n          \x3clabel class\x3d"margin-right-half flex flex-align-center site-notice-dlg__button-option js-buttons-option js-accept-decline-option"\x3e\r\n            \x3cinput type\x3d"radio" name\x3d"notice-buttons-option" class\x3d"js-accept-decline-radio"\x3e\x3cspan class\x3d"js-accept-decline-label"\x3e${i18n.acceptAndDecline}\x3c/span\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel class\x3d"flex flex-align-center site-notice-dlg__button-option js-buttons-option js-ok-only-option"\x3e\r\n            \x3cinput type\x3d"radio" name\x3d"notice-buttons-option" class\x3d"js-ok-only-radio" \x3e\x3cspan class\x3d"js-ok-only-label"\x3e${i18n.okOnly}\x3c/span\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/form\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/BlockedAppsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e${label}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e${description}\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-content"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/MembersFilter.html":'\x3cdiv\x3e\r\n  \x3ccalcite-accordion\r\n    scale\x3d"m"\r\n    icon-position\x3d"start"\r\n    appearance\x3d"transparent"\r\n    class\x3d"filter-content-container accordion-section--categories js-filter-category-container"\r\n  \x3e\r\n    \x3ccalcite-accordion-item heading\x3d"${i18n.contentCategories.categories}" expanded\x3e\r\n      \x3cdiv class\x3d"js-filter-content"\x3e\r\n        \x3cdiv class\x3d"max-height filters--accordion--content"\x3e\r\n          \x3cdiv class\x3d"js-filter-category"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-edit-category-slot padding-right-4" slot\x3d"actions-end"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-filter-actions-end" slot\x3d"actions-end"\x3e\x3c/div\x3e\r\n    \x3c/calcite-accordion-item\x3e\r\n  \x3c/calcite-accordion\x3e\r\n  \x3csection class\x3d"js-filter-user-type"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-role"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-credits"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-lastLogin"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-email-verification"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-loginType"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-app"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-group"\x3e\x3c/section\x3e\r\n  \x3csection class\x3d"js-filter-mfa"\x3e\x3c/section\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/FilterCredits/templates/FilterCredits.html":'\x3ccalcite-accordion\r\n  scale\x3d"m"\r\n  icon-position\x3d"start"\r\n  class\x3d"filter-content-container"\r\n  appearance\x3d"transparent"\r\n\x3e\r\n  \x3ccalcite-accordion-item heading\x3d"${i18n.filters.creditsRemaining}" data-dojo-attach-point\x3d"accordionItem"\x3e\r\n    \x3cdiv class\x3d"js-filter-content" data-dojo-attach-point\x3d"_sectionTitle"\x3e\r\n      \x3cdiv class\x3d"filters--accordion--content filter--ellipse"\x3e\r\n        \x3cul class\x3d"filter-tree"\x3e\r\n          \x3cli class\x3d"filter-tree-item filter-tree-item-single js-filter-item" data-dojo-attach-point\x3d"_noLimitItem"\x3e\r\n            \x3ca\r\n              href\x3d"#"\r\n              class\x3d"filter-tree-link js-filter-link"\r\n              title\x3d"${i18n.filters.noLimit}"\r\n              data-dojo-attach-point\x3d"_noLimitLink"\r\n              \x3e${i18n.filters.noLimit}\x3c/a\r\n            \x3e\r\n          \x3c/li\x3e\r\n          \x3cli\r\n            class\x3d"filter-tree-item filter-tree-item-single members__credits-filter-less-than js-filter-item"\r\n            data-dojo-attach-point\x3d"_lessThanItem"\r\n          \x3e\r\n            \x3clabel class\x3d"filter-tree-link members-credits__credits-label flex-wrap"\x3e\r\n              \x3cspan class\x3d"margin-right-half"\x3e${i18n.filters.lessThan}\x3c/span\x3e\r\n              \x3cinput type\x3d"number" class\x3d"js-credits-input" /\x3e\r\n            \x3c/label\x3e\r\n          \x3c/li\x3e\r\n        \x3c/ul\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/calcite-accordion-item\x3e\r\n\x3c/calcite-accordion\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/LoginsCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-bold" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half  org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__card-btn-container" data-dojo-attach-point\x3d"_btnContainer"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"_headerBtn"\x3e\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content js-card-content"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_content"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/AcceptCollaborationGuestDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} accept-collaboration-guest-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.acceptGuest}"\x3e\r\n\r\n    \x3cdiv data-dojo-attach-point\x3d"_acceptView"\x3e\r\n      \x3cform data-dojo-attach-point\x3d"_responseForm" enctype\x3d"multipart/form-data" method\x3d"post"\x3e\r\n        \x3cp\x3e${i18n.browseForFile}\x3c/p\x3e\r\n\r\n        \x3clabel class\x3d"file-container"\x3e\r\n          ${i18n.invitationFile}\r\n          \x3cinput type\x3d"file" name\x3d"invitationResponseFile" data-dojo-attach-point\x3d"_responseFile" class\x3d"longFileNameInput"\x3e\r\n        \x3c/label\x3e\r\n\r\n\r\n        \x3cdiv class\x3d"hide leader-1" data-dojo-attach-point\x3d"_responseView"\x3e\r\n          \x3cp data-dojo-attach-point\x3d"_responseMsg"\x3e\x3c/p\x3e\r\n          \x3ctable\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"inviteLabelCol"\x3e${i18n.contactLabel}\x3c/td\x3e\r\n              \x3ctd data-dojo-attach-point\x3d"_responseContact"\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"inviteLabelCol"\x3e${i18n.urlLabel}\x3c/td\x3e\r\n              \x3ctd data-dojo-attach-point\x3d"_responseUrl"\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/table\x3e\r\n          \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_useWebAuthContainer"\x3e\r\n            ${i18n.useWebTierAuth}\x3cbr\x3e\r\n            \x3cspan\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"useWebAuth" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                  data-dojo-attach-point\x3d"_webAuthYesRadio" value\x3d"true"\x3e\r\n                ${i18n.yesLabel}\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"inline-block inline-spacer"\x3e\x26nbsp;\x3c/div\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"useWebAuth" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                  data-dojo-attach-point\x3d"_webAuthNoRadio" value\x3d"false"\x3e\r\n                ${i18n.noLabel}\r\n              \x3c/label\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_webAuthContainer"\x3e\r\n            \x3cdiv class\x3d"leader-1"\x3e\r\n              \x3clabel\x3e\r\n                ${i18n.webTierUsernameLabel}\x3cbr\x3e\r\n                \x3cinput type\x3d"text" name\x3d"guestWebauthUsername" data-dojo-type\x3d"dijit/form/TextBox"\r\n                       data-dojo-attach-point\x3d"_webAuthUsername"\x3e\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-1"\x3e\r\n              \x3clabel\x3e\r\n                ${i18n.webTierPasswordLabel}\x3cbr\x3e\r\n                \x3cinput type\x3d"password" name\x3d"guestWebauthPassword" data-dojo-type\x3d"dijit/form/TextBox"\r\n                       data-dojo-attach-point\x3d"_webAuthPassword"\x3e\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-1"\x3e${i18n.orLabel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_webAuthCertificateContainer"\x3e\r\n              \x3cdiv\x3e\r\n                \x3clabel\x3e\r\n                  ${i18n.webTierCertificateLabel}\x3cbr\x3e\r\n                  \x3cinput type\x3d"file" name\x3d"guestWebauthCertificateFile" data-dojo-attach-point\x3d"_webAuthCertificate" class\x3d"longFileNameInput"\x3e\r\n                \x3c/label\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv class\x3d"leader-1"\x3e\r\n                \x3clabel\x3e\r\n                  ${i18n.webTierCertificatePasswordLabel}\x3cbr\x3e\r\n                  \x3cinput type\x3d"password" name\x3d"guestWebauthCertPassword" data-dojo-type\x3d"dijit/form/TextBox"\r\n                         data-dojo-attach-point\x3d"_webAuthCertificatePassword"\x3e\r\n                \x3c/label\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide leader-1" tabindex\x3d"-1" data-dojo-attach-point\x3d"_errorView"\x3e\x3c/div\x3e\r\n      \x3c/form\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_acceptBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.acceptGuest}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/AcceptCollaborationInvitationDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} accept-collaboration-invite-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n\r\n    \x3cdiv data-dojo-attach-point\x3d"_acceptView"\x3e\r\n      \x3cform data-dojo-attach-point\x3d"_invitationForm" enctype\x3d"multipart/form-data" method\x3d"post"\x3e\r\n        \x3cp\x3e${i18n.browseForFile}\x3c/p\x3e\r\n\r\n        \x3clabel class\x3d"file-container"\x3e\r\n          ${i18n.invitationFile}\r\n          \x3cinput type\x3d"file" name\x3d"invitationFile" data-dojo-attach-point\x3d"_invitationFile" class\x3d"longFileNameInput"\x3e\r\n        \x3c/label\x3e\r\n\r\n\r\n        \x3cdiv class\x3d"hide leader-1" data-dojo-attach-point\x3d"_inviteView"\x3e\r\n          \x3cp data-dojo-attach-point\x3d"_inviteMsg"\x3e\x3c/p\x3e\r\n          \x3ctable\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"inviteLabelCol"\x3e${i18n.descriptionLabel}\x3c/td\x3e\r\n              \x3ctd\x3e\x3clabel class\x3d"force-word-wrap" data-dojo-attach-point\x3d"_inviteDesc"\x3e\x3c/label\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd class\x3d"inviteLabelCol"\x3e${i18n.contactLabel}\x3c/td\x3e\r\n              \x3ctd data-dojo-attach-point\x3d"_inviteContact"\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/table\x3e\r\n          \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_useWebAuthContainer"\x3e\r\n            ${i18n.useWebTierAuth}\x3cbr\x3e\r\n            \x3cspan\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"useWebAuth" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                  data-dojo-attach-point\x3d"_webAuthYesRadio" value\x3d"true"\x3e\r\n                ${i18n.yesLabel}\r\n              \x3c/label\x3e\r\n              \x3cdiv class\x3d"inline-block inline-spacer"\x3e\x26nbsp;\x3c/div\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"useWebAuth" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                  data-dojo-attach-point\x3d"_webAuthNoRadio" value\x3d"false"\x3e\r\n                ${i18n.noLabel}\r\n              \x3c/label\x3e\r\n            \x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"_webAuthContainer"\x3e\r\n            \x3cdiv class\x3d"leader-1"\x3e\r\n              \x3clabel class\x3d"margin-right-1"\x3e\r\n                ${i18n.webTierUsernameLabel}\x3cbr\x3e\r\n                \x3cinput type\x3d"text" name\x3d"hostWebauthUsername" data-dojo-type\x3d"dijit/form/TextBox"\r\n                       data-dojo-attach-point\x3d"_webAuthUsername"\x3e\r\n              \x3c/label\x3e\r\n              \x3clabel\x3e\r\n                  ${i18n.webTierPasswordLabel}\x3cbr\x3e\r\n                  \x3cinput type\x3d"password" name\x3d"hostWebauthPassword" data-dojo-type\x3d"dijit/form/TextBox"\r\n                         data-dojo-attach-point\x3d"_webAuthPassword"\x3e\r\n                \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- \x3cdiv class\x3d"leader-1"\x3e\r\n              \x3clabel\x3e\r\n                ${i18n.webTierPasswordLabel}\x3cbr\x3e\r\n                \x3cinput type\x3d"password" name\x3d"hostWebauthPassword" data-dojo-type\x3d"dijit/form/TextBox"\r\n                       data-dojo-attach-point\x3d"_webAuthPassword"\x3e\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e --\x3e\r\n            \x3cdiv class\x3d"leader-half"\x3e${i18n.orLabel}\x3c/div\x3e\r\n            \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"_webAuthCertificateContainer"\x3e\r\n              \x3cdiv\x3e\r\n                \x3clabel class\x3d"margin-right-1"\x3e\r\n                  ${i18n.webTierCertificateLabel}\x3cbr\x3e\r\n                  \x3cinput type\x3d"file" name\x3d"hostWebauthCertificateFile" data-dojo-attach-point\x3d"_webAuthCertificate" class\x3d"longFileNameInput"\x3e\r\n                \x3c/label\x3e\r\n                \x3clabel\x3e\r\n                    ${i18n.webTierCertificatePasswordLabel}\x3cbr\x3e\r\n                    \x3cinput type\x3d"password" name\x3d"hostWebauthCertPassword" data-dojo-type\x3d"dijit/form/TextBox"\r\n                           data-dojo-attach-point\x3d"_webAuthCertificatePassword"\x3e\r\n                  \x3c/label\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cp data-dojo-attach-point\x3d"_afterAcceptMsg" class\x3d"leader-1"\x3e\x3c/p\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hide leader-1" tabindex\x3d"-1" data-dojo-attach-point\x3d"_errorView"\x3e\x3c/div\x3e\r\n      \x3c/form\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv data-dojo-attach-point\x3d"_saveView" role\x3d"document"\x3e\r\n      \x3cp data-dojo-attach-point\x3d"_saveDesc"\x3e\x3c/p\x3e\r\n\r\n      \x3cp\x3e${i18n.saveNote}\x3c/p\x3e\r\n\r\n      \x3cp\x3e${i18n.afterSave}\x3c/p\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_acceptBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.acceptInvitation}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_saveBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.saveResponse}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/CreateCollaborationDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} create-collaboration-dialog" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv data-dojo-type\x3d"dijit/layout/StackContainer" data-dojo-attach-point\x3d"_stackContainer"\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackCollaboration" class\x3d"stack-collaboration"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader1"\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step1Container auto-y collaboration-container"\x3e\r\n          \x3clabel\x3e\r\n            ${i18n.collaborationNameLabel}\x3cbr\x3e\r\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"_collaborationName" maxlength\x3d"100"\r\n                  data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true,maxLength:100"\x3e\r\n          \x3c/label\x3e\r\n          \x3clabel class\x3d"leader-1 display-block"\x3e\r\n            ${i18n.collaborationDescLabel}\x3cbr\x3e\r\n            \x3ctextarea data-dojo-attach-point\x3d"_collaborationDesc" maxlength\x3d"250"\x3e\x3c/textarea\x3e\r\n          \x3c/label\x3e\r\n\r\n          \x3cdiv class\x3d"stepMessageContainer leader-1 font-size--1"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step1Message"\x3e${i18n.step1}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step1NextBtn"\x3e${i18n.next}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step1CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cbr class\x3d"clearBreak"\x3e\r\n        \x3cbr\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackWorkspace" class\x3d"stack-workspace"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader2"\x3e\r\n          \x3cdiv class\x3d"stepMessage"\x3e${i18n.initialWorkspaceNote}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step2Container auto-y collaboration-workspace-container"\x3e\r\n          \x3cdiv\x3e\r\n            \x3clabel\x3e\r\n              ${i18n.workspaceNameLabel}\x3cbr\x3e\r\n              \x3cinput type\x3d"text" data-dojo-attach-point\x3d"_workspaceName" maxlength\x3d"100"\r\n                     data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true,maxLength:100"\x3e\r\n            \x3c/label\x3e\r\n            \x3cbr\x3e\r\n            \x3clabel class\x3d"leader-1"\x3e\r\n              ${i18n.workspaceDescLabel}\x3cbr\x3e\r\n              \x3ctextarea data-dojo-attach-point\x3d"_workspaceDesc" maxlength\x3d"250"\x3e\x3c/textarea\x3e\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"stepMessageContainer leader-1 font-size--1"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step2Message"\x3e${i18n.step2}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step2BackBtn"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step2NextBtn"\x3e${i18n.next}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step2CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackGroup" class\x3d"stack-group auto-y"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader3"\x3e\r\n          \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step3Message"\x3e${i18n.step3} ${i18n.groupWorkspaceNote}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step3Container auto-y collaboration-workspace-group-container"\x3e\r\n\r\n          \x3ctable class\x3d"groupTable"\x3e\r\n            \x3ctbody\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd colspan\x3d"4" class\x3d"sectionRow"\x3e${i18n.groupLabel}\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3clabel\x3e\r\n                  \x3cinput type\x3d"radio" name\x3d"groupRadio"\r\n                         data-dojo-attach-point\x3d"_newGroupRadio"\r\n                         data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n                  \x3cspan class\x3d"hide"\x3e${i18n.newGroupLabel}\x3c/span\x3e\r\n                \x3c/label\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-name"\x3e${i18n.newGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cinput type\x3d"text" id\x3d"new-group-name" data-dojo-attach-point\x3d"_newGroupName"\r\n                       data-dojo-type\x3d"dijit/form/TextBox"\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-tags" data-dojo-attach-point\x3d"_tagsLabel"\x3e${i18n.tagsLabel}\x3c/label\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cdiv id\x3d"new-group-tags" data-dojo-attach-point\x3d"_tags" data-dojo-type\x3d"esri/dijit/Tags"\r\n                     data-dojo-props\x3d"maxWidth:\'20.9rem\',minWidth:\'20.9rem\'"\x3e\x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3clabel\x3e\r\n                  \x3cinput type\x3d"radio" name\x3d"groupRadio" data-dojo-attach-point\x3d"_existingGroupRadio"\r\n                         data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n                  \x3cspan class\x3d"hide"\x3e${i18n.existingGroupLabel}\x3c/span\x3e\r\n                \x3c/label\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"existing-group-select"\x3e${i18n.existingGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cselect class\x3d"groupSelect" id\x3d"existing-group-select"\r\n                        data-dojo-attach-point\x3d"_existingGroupSelect"\r\n                        data-dojo-type\x3d"dijit/form/FilteringSelect"\x3e\x3c/select\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3c/tbody\x3e\r\n          \x3c/table\x3e\r\n\r\n          \x3c!--\x3cdiv class\x3d"create-group-dialog__note"\x3e${i18n.groupWorkspaceNote}\x3c/div\x3e--\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step3BackBtn"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step3NextBtn"\x3e${i18n.next}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step3CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cbr class\x3d"clearBreak"\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackSync" class\x3d"stack-sync"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader4"\x3e\r\n          \x3cdiv class\x3d"stepMessageContainer"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step4Message"\x3e${i18n.step4}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step4Container auto-y collaboration-workspace-sync-container"\x3e\r\n          \x3cdiv class\x3d"trailer-half"\x3e\r\n            \x3clabel class\x3d"sectionRow"\x3e${i18n.syncSettings}\x3c/label\x3e\r\n            \x3clabel class\x3d"esriLeadingMargin1 margin-left-1" data-dojo-attach-point\x3d"_syncSettingLabel"\x3e${i18n.syncImmediately}\x3c/label\x3e\r\n            \x3cdiv class\x3d"leader-half hide" data-dojo-attach-point\x3d"_guestControlContainer"\x3e${i18n.guestControlsSync}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_copyDataContainer"\x3e\r\n            \x3clabel class\x3d"sectionRow" data-dojo-attach-point\x3d"_copyDataTitle"\x3e${i18n.featureLayersSent}\x3c/label\x3e\x3cbr\x3e\r\n            \x3cdiv class\x3d"esriLeadingMargin1 trailer-half"\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"copyData" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"_byReferenceRadio" checked\x3d"true"\x3e\r\n                ${i18n.byReference}\r\n              \x3c/label\x3e\x3cbr\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"copyData" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"_byValueRadio"\x3e\r\n                ${i18n.byValue}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_copyDataDesc"\x3e${i18n.byReferenceDesc}\x3c/div\x3e\r\n            \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_allow2WayOption"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_allow2Way"\x3e ${i18n.allow2Way}\x3c/label\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_copyDataFailureOption"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_copyByRefOnCopyFail" checked\x3e ${i18n.shareRefOnCopyFail}\x3c/label\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step4BackBtn"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_createBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_createInviteBtn"\x3e${i18n.saveAndInvite}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step4CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cbr class\x3d"clearBreak"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/CreateWorkspaceDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} create-workspace-dialog" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv data-dojo-type\x3d"dijit/layout/StackContainer" data-dojo-attach-point\x3d"_stackContainer"\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackWorkspace" class\x3d"stack-workspace"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader1"\x3e\r\n          \x3cdiv class\x3d"stepMessageContainer"\x3e\r\n            \x3cdiv class\x3d"stepMessage"\x3e${i18n.initialWorkspaceNote}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step1Container auto-y workspace-container"\x3e\r\n          \x3cdiv\x3e\r\n            \x3clabel\x3e\r\n              ${i18n.workspaceNameLabel}\x3cbr\x3e\r\n              \x3cinput type\x3d"text" data-dojo-attach-point\x3d"_workspaceName" maxlength\x3d"100"\r\n                     data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true,maxLength:100"\x3e\r\n            \x3c/label\x3e\r\n            \x3cbr\x3e\r\n            \x3cbr\x3e\r\n            \x3clabel\x3e\r\n              ${i18n.workspaceDescLabel}\x3cbr\x3e\r\n              \x3ctextarea data-dojo-attach-point\x3d"_workspaceDesc" maxlength\x3d"250"\x3e\x3c/textarea\x3e\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"stepMessageContainer"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step1Message"\x3e${i18n.step1}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing clearBreak"\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step1NextBtn"\x3e${i18n.next}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step1CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackGroup" class\x3d"stack-group auto-y"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader2"\x3e\r\n          \x3cdiv class\x3d"stepMessageContainer"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step2Message"\x3e${i18n.step2} ${i18n.groupWorkspaceNote}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step2Container auto-y workspace-group-container"\x3e\r\n\r\n          \x3ctable class\x3d"groupTable"\x3e\r\n            \x3ctbody\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd colspan\x3d"4" class\x3d"sectionRow"\x3e${i18n.groupLabel}\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3clabel\x3e\r\n                  \x3cinput type\x3d"radio" name\x3d"groupRadio"\r\n                         data-dojo-attach-point\x3d"_newGroupRadio"\r\n                         data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n                  \x3cspan class\x3d"hide"\x3e${i18n.newGroupLabel}\x3c/span\x3e\r\n                \x3c/label\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-name"\x3e${i18n.newGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cinput type\x3d"text" id\x3d"new-group-name" data-dojo-attach-point\x3d"_newGroupName" data-dojo-type\x3d"dijit/form/TextBox"\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-tags" data-dojo-attach-point\x3d"_tagsLabel"\x3e${i18n.tagsLabel}\x3c/label\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cdiv id\x3d"new-group-tags" data-dojo-attach-point\x3d"_tags" data-dojo-type\x3d"esri/dijit/Tags"\r\n                     data-dojo-props\x3d"maxWidth:\'20.9rem\',minWidth:\'20.9rem\'"\x3e\x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\r\n                \x3clabel\x3e\r\n                  \x3cinput type\x3d"radio" name\x3d"groupRadio" data-dojo-attach-point\x3d"_existingGroupRadio"\r\n                         data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n                  \x3cspan class\x3d"hide"\x3e${i18n.existingGroupLabel}\x3c/span\x3e\r\n                \x3c/label\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"existing-group"\x3e${i18n.existingGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n              \x3ctd\x3e\r\n                \x3cselect class\x3d"groupSelect" id\x3d"existing-group"\r\n                        data-dojo-attach-point\x3d"_existingGroupSelect"\r\n                        data-dojo-type\x3d"dijit/form/FilteringSelect"\x3e\x3c/select\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3c/tbody\x3e\r\n          \x3c/table\x3e\r\n          \x3c!--\x3cdiv class\x3d"stepMessageContainer"\x3e--\x3e\r\n            \x3c!--\x3cdiv class\x3d"stepMessage"\x3e${i18n.groupWorkspaceNote}\x3c/div\x3e--\x3e\r\n          \x3c!--\x3c/div\x3e--\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step2BackBtn"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step2NextBtn"\x3e${i18n.next}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step2CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackSync" class\x3d"stack-sync"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader3"\x3e\r\n          \x3cdiv class\x3d"stepMessageContainer"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step3Message"\x3e${i18n.step3}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step3Container auto-y workspace-sync-container"\x3e\r\n          \x3cdiv class\x3d"trailer-half"\x3e\r\n            \x3clabel class\x3d"sectionRow"\x3e${i18n.syncSettings}\x3c/label\x3e\r\n            \x3clabel class\x3d"esriLeadingMargin1 margin-left-1" data-dojo-attach-point\x3d"_syncSettingLabel"\x3e${i18n.syncImmediately}\x3c/label\x3e\r\n            \x3cdiv class\x3d"leader-half hide" data-dojo-attach-point\x3d"_guestControlContainer"\x3e${i18n.guestControlsSync}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_copyDataContainer"\x3e\r\n            \x3clabel class\x3d"sectionRow" data-dojo-attach-point\x3d"_copyDataTitle"\x3e${i18n.featureLayersSent}\x3c/label\x3e\x3cbr\x3e\r\n            \x3cdiv class\x3d"esriLeadingMargin1 trailer-half"\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"copyData" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"_byReferenceRadio" checked\x3d"true"\x3e\r\n                ${i18n.byReference}\r\n              \x3c/label\x3e\x3cbr\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" name\x3d"copyData" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"_byValueRadio"\x3e\r\n                ${i18n.byValue}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_copyDataDesc"\x3e${i18n.byReferenceDesc}\x3c/div\x3e\r\n            \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_allow2WayOption"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_allow2Way"\x3e ${i18n.allow2Way}\x3c/label\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_copyDataFailureOption"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_copyByRefOnCopyFail" checked\x3e ${i18n.shareRefOnCopyFail}\x3c/label\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step3BackBtn"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step3NextBtn"\x3e${i18n.next}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step3CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackAccess" class\x3d"stack-access"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader4"\x3e\r\n          \x3cdiv class\x3d"stepMessageContainer"\x3e\r\n            \x3cdiv class\x3d"stepMessage" data-dojo-attach-point\x3d"_step4Message"\x3e${i18n.step4}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"step4Container auto-y workspace-access-container"\x3e\r\n          \x3cdiv class\x3d"access-list-container trailer-1" data-dojo-attach-point\x3d"_participantsContainer"\x3e\r\n            \x3c!-- participant list here --\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"clearBreak"\x3e\r\n            \x3cstrong\x3e${i18n.definitionsLabel}\x3c/strong\x3e\x3cbr\x3e\r\n            ${i18n.sendContentNote}\x3cbr\x3e\r\n            ${i18n.receiveContentNote}\x3cbr\x3e\r\n            ${i18n.sendAndReceiveContentNote}\x3cbr\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step4BackBtn"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_createBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite blue small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_updateBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" type\x3d"button" data-dojo-type\x3d"dijit/form/Button"\r\n                  data-dojo-attach-point\x3d"_step4CancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/EditCollaborationDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} edit-collaboration-dialog" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv data-dojo-type\x3d"dijit/layout/StackContainer" data-dojo-attach-point\x3d"_stackContainer"\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackCollaboration" class\x3d"stack-collaboration"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader1"\x3e\r\n          \x3cdiv class\x3d"stepMessage"\x3e${i18n.description}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n\r\n        \x3cdiv class\x3d"leader-1"\x3e\r\n          \x3clabel\x3e\r\n            ${i18n.collaborationNameLabel}\r\n            \x3cbr\x3e\r\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"_collaborationName" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"leader-1"\x3e\r\n          \x3clabel\x3e\r\n            ${i18n.collaborationDescLabel}\r\n            \x3cbr\x3e\r\n            \x3ctextarea data-dojo-attach-point\x3d"_collaborationDesc"\x3e\x3c/textarea\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"leader-1"\x3e\r\n          \x3clabel\x3e\r\n            ${i18n.contactPersonNameLabel}\r\n            \x3cbr\x3e\r\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"_contactName" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"leader-1"\x3e\r\n          \x3clabel\x3e\r\n            ${i18n.contactPersonEmailLabel}\r\n            \x3cbr\x3e\r\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"_contactEmail" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"esriFloatTrailing leader-1"\x3e\r\n          \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_step1Next" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n            ${i18n.next}\r\n          \x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_step1Cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n            ${i18n.cancel}\r\n          \x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_stackContentDeletion" class\x3d"stack-collaboration stack-box"\x3e\r\n        \x3cdiv class\x3d"stepHeader" data-dojo-attach-point\x3d"_stepHeader2"\x3e\r\n        \x3c/div\x3e\r\n        \x3clabel class\x3d"sectionRow"\x3e${i18n.whenDeleting}\x3c/label\x3e\r\n        \x3cdiv class\x3d"leader-1 trailer-half"\x3e\r\n          \x3cfieldset class\x3d"fieldset-radio"\x3e\r\n            \x3clegend class\x3d"trailer-half"\x3e${i18n.sentDescription}\x3c/legend\x3e\r\n            \x3cdiv\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteSentData" data-dojo-attach-point\x3d"_deleteSentTrue"\x3e \x26nbsp;${i18n.sentRemoved}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteSentData" data-dojo-attach-point\x3d"_deleteSentFalse"\x3e \x26nbsp;${i18n.sentDontCare}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n          \x3c/fieldset\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriLeadingMargin1 trailer-half"\x3e\r\n          \x3cfieldset class\x3d"fieldset-radio"\x3e\r\n            \x3clegend class\x3d"trailer-half"\x3e${i18n.receivedDescription}\x3c/legend\x3e\r\n            \x3cdiv\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteReceivedData" data-dojo-attach-point\x3d"_deleteReceivedTrue"\x3e \x26nbsp;${i18n.receivedRemoved}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv\x3e\r\n              \x3clabel\x3e\r\n                \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteReceivedData" data-dojo-attach-point\x3d"_deleteReceivedFalse"\x3e \x26nbsp;${i18n.receivedKeep}\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n          \x3c/fieldset\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_step2Back"\x3e${i18n.back}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite tertiary small hoverWhite" type\x3d"button" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_step2Save"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_step2Cancel" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n            ${i18n.cancel}\r\n          \x3c/button\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/EditCollaborationGuestDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} edit-collaboration-guest-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.editGuest}"\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_editNoteContainer"\x3e${i18n.editNote}\x3c/span\x3e\r\n      \x3cspan class\x3d"hide" data-dojo-attach-point\x3d"_editContactNoteContainer"\x3e${i18n.editContactNote}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3ctable\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"rightAlign" data-dojo-attach-point\x3d"_orgNameLabelContainer"\x3e\r\n              ${i18n.orgNameLabel}\r\n            \x3c/td\x3e\r\n            \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_name"\x3e\x3c/span\x3e\r\n              \x3c!--\x3cinput type\x3d"text" data-dojo-attach-point\x3d"_name" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e--\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"rightAlign"\x3e\r\n              ${i18n.urlLabel}\r\n            \x3c/td\x3e\r\n            \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\r\n              \x3cspan data-dojo-attach-point\x3d"_url"\x3e\x3c/span\x3e\r\n              \x3c!--\x3cinput type\x3d"text" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e--\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"rightAlign"\x3e\r\n              \x3clabel for\x3d"contact-name"\x3e${i18n.contactNameLabel}\x3c/label\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\r\n              \x3cinput type\x3d"text" id\x3d"contact-name" data-dojo-attach-point\x3d"_contactName"\r\n                     data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd class\x3d"rightAlign"\x3e\r\n              \x3clabel for\x3d"contact-email"\x3e${i18n.contactEmailLabel}\x3c/label\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n            \x3ctd\x3e\r\n              \x3cinput type\x3d"text" id\x3d"contact-email" data-dojo-attach-point\x3d"_contactEmail"\r\n                     data-dojo-type\x3d"dijit/form/TextBox" data-dojo-props\x3d"trim:true"\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_workspaceAccessContainer"\x3e\r\n      ${i18n.workspaceAccessLabel}\x3cbr\x3e\r\n      \x3cdiv class\x3d"workspace-access-container auto-y" data-dojo-attach-point\x3d"_workspacesContainer"\x3e\r\n        \x3c!-- workspace list here --\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1 right"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_saveBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.save}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/GuestEditCollaborationDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} edit-collaboration-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n        \x3clabel class\x3d"sectionRow"\x3e${i18n.whenDeleting}\x3c/label\x3e\r\n        \x3cdiv class\x3d"esriLeadingMargin1 trailer-half"\x3e\r\n          \x3cfieldset class\x3d"fieldset-radio"\x3e\r\n            \x3clegend\x3e${i18n.sentDescription}\x3c/legend\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteSentData" data-dojo-attach-point\x3d"_deleteSentTrue"\x3e\r\n              ${i18n.sentRemoved}\r\n            \x3c/label\x3e\x3cbr\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteSentData" data-dojo-attach-point\x3d"_deleteSentFalse"\x3e\r\n              ${i18n.sentDontCare}\r\n            \x3c/label\x3e\r\n          \x3c/fieldset\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriLeadingMargin1 trailer-half"\x3e\r\n          \x3cfieldset class\x3d"fieldset-radio"\x3e\r\n            \x3clegend\x3e${i18n.receivedDescription}\x3c/legend\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteReceivedData" data-dojo-attach-point\x3d"_deleteReceivedTrue"\x3e\r\n              ${i18n.receivedRemoved}\r\n            \x3c/label\x3e\x3cbr\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" class\x3d"esriLeadingMargin1" name\x3d"deleteReceivedData" data-dojo-attach-point\x3d"_deleteReceivedFalse"\x3e\r\n              ${i18n.receivedKeep}\r\n            \x3c/label\x3e\r\n          \x3c/fieldset\x3e\r\n        \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"right inline-block leader-1"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_saveBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.save}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/GuestEditWorkspaceDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} guest-edit-workspace-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.editWorkspace}"\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_workspaceDesc"\x3e${i18n.workspaceDesc}\x3c/p\x3e\r\n\r\n    \x3cdiv class\x3d"auto-y trailer-1"\x3e\r\n      \x3ctable class\x3d"groupTable"\x3e\r\n        \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e${i18n.workspaceNameLabel}\x3c/td\x3e\r\n          \r\n          \x3ctd data-dojo-attach-point\x3d"_workspaceNameColumn"\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e${i18n.descriptionLabel}\x3c/td\x3e\r\n          \r\n          \x3ctd data-dojo-attach-point\x3d"_workspaceDescriptionColumn"\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow"\x3e${i18n.groupLabel}\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" name\x3d"groupRadio" data-dojo-attach-point\x3d"_newGroupRadio"\r\n                     data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n              \x3cspan class\x3d"hide"\x3e${i18n.newGroupLabel}\x3c/span\x3e\r\n            \x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-name"\x3e${i18n.newGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"text" id\x3d"new-group-name" data-dojo-attach-point\x3d"_newGroupName" data-dojo-type\x3d"dijit/form/TextBox"\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n            \x3ctd\x3e\x26nbsp;\x3c/td\x3e\r\n          \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-tags" data-dojo-attach-point\x3d"_tagsLabel"\x3e${i18n.tagsLabel}\x3c/label\x3e\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cdiv id\x3d"new-group-tags" data-dojo-attach-point\x3d"_tags" data-dojo-type\x3d"esri/dijit/Tags"\r\n                 data-dojo-props\x3d"maxWidth:\'20.9rem\',minWidth:\'20.9rem\'"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" name\x3d"groupRadio" data-dojo-attach-point\x3d"_existingGroupRadio"\r\n                     data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n              \x3cspan class\x3d"hide"\x3e${i18n.existingGroupLabel}\x3c/span\x3e\r\n            \x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"existing-group"\x3e${i18n.existingGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cselect class\x3d"groupSelect" id\x3d"existing-group" data-dojo-attach-point\x3d"_existingGroupSelect"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\x3e\x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow"\x3e${i18n.syncSettings}\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr data-dojo-attach-point\x3d"_syncImmediateRow"\x3e\r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"radio" id\x3d"sync-immediately" name\x3d"syncRadio" data-dojo-attach-point\x3d"_syncImmediateRadio"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3clabel for\x3d"sync-immediately"\x3e${i18n.syncImmediately}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd data-dojo-attach-point\x3d"_syncScheduledRadioColumn"\x3e\r\n            \x3cinput type\x3d"radio" id\x3d"sync-scheduled" name\x3d"syncRadio" data-dojo-attach-point\x3d"_syncScheduledRadio"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd colspan\x3d"3" data-dojo-attach-point\x3d"_syncScheduledLabelColumn"\x3e\r\n            \x3clabel for\x3d"sync-scheduled"\x3e${i18n.syncScheduled}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"sync-scheduled"\x3e\r\n          \x3ctd colspan\x3d"4"\x3e\r\n            \x3ctable\x3e\r\n              \x3ctbody\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd class\x3d"sync-scheduled-column"\x3e\r\n                    \x3clabel for\x3d"sync-start-time"\x3e${i18n.nextSyncLabel}\x3c/label\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd data-dojo-attach-point\x3d"_startTimeContainer"\x3e\r\n                    \x3c!-- start time control here dijit/form/TimeTextBox --\x3e\r\n                  \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr\x3e\x3ctd colspan\x3d"2"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd class\x3d"sync-scheduled-column"\x3e\r\n                    \x3clabel for\x3d"sync-interval"\x3e${i18n.syncIntervalLabel}\x3c/label\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd data-dojo-attach-point\x3d"_intervalContainer"\x3e\r\n                    \x3c!-- interval control here dijit/form/NumberSpinner --\x3e\r\n                    \x3cselect class\x3d"timeSelect margin-right-half" id\x3d"sync-interval" data-dojo-attach-point\x3d"_interval"\r\n                            data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\x3e\r\n                      \x3coption value\x3d"1"\x3e1\x3c/option\x3e\r\n                      \x3coption value\x3d"2"\x3e2\x3c/option\x3e\r\n                      \x3coption value\x3d"3"\x3e3\x3c/option\x3e\r\n                      \x3coption value\x3d"4"\x3e4\x3c/option\x3e\r\n                      \x3coption value\x3d"6"\x3e6\x3c/option\x3e\r\n                      \x3coption value\x3d"12"\x3e12\x3c/option\x3e\r\n                      \x3coption value\x3d"24" checked\x3e24\x3c/option\x3e\r\n                    \x3c/select\x3e\r\n                    \x26nbsp;${i18n.hoursLabel}\r\n                  \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow" data-dojo-attach-point\x3d"_copyDataTitle"\x3e${i18n.featureLayersSent}\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"radio" id\x3d"copy-data-by-reference" name\x3d"copyDataRadio" data-dojo-attach-point\x3d"_byReferenceRadio"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton" checked\x3d"true"\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3clabel for\x3d"copy-data-by-reference"\x3e${i18n.byReference}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"radio" id\x3d"copy-data-by-value" name\x3d"copyDataRadio" data-dojo-attach-point\x3d"_byValueRadio"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3clabel for\x3d"copy-data-by-value"\x3e${i18n.byValue}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4" data-dojo-attach-point\x3d"_copyDataDesc"\x3e${i18n.byReferenceDesc}\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4"\x3e\r\n          \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_allow2WayOption"\x3e\r\n            \x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_allow2Way"\x3e ${i18n.allow2Way}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_copyDataFailureOption"\x3e\r\n              \x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_copyByRefOnCopyFail" checked\x3e ${i18n.shareRefOnCopyFail}\x3c/label\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer-sync hide"\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer-sync hide"\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow" data-dojo-attach-point\x3d"_syncSettingsTitle"\x3e${i18n.featureLayerSyncSettings}\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer-sync hide"\x3e\r\n          \x3ctd colspan\x3d"4"\x3e\r\n            \x3ctable\x3e\r\n              \x3ctbody\x3e\r\n              \x3ctr\x3e\r\n                \x3ctd class\x3d"sync-scheduled-column"\x3e\r\n                  \x3clabel for\x3d"feature-sync-start-time"\x3e${i18n.nextSyncLabel}\x3c/label\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd data-dojo-attach-point\x3d"_featureLayerStartTimeContainer"\x3e\r\n                  \x3c!-- start time control here dijit/form/TimeTextBox --\x3e\r\n                \x3c/td\x3e\r\n              \x3c/tr\x3e\r\n              \x3ctr\x3e\x3ctd colspan\x3d"2"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n              \x3ctr\x3e\r\n                \x3ctd class\x3d"sync-scheduled-column"\x3e\r\n                  \x3clabel for\x3d"feature-sync-interval"\x3e${i18n.syncIntervalLabel}\x3c/label\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd data-dojo-attach-point\x3d"_featureLayerIntervalContainer"\x3e\r\n                  \x3c!-- interval control here dijit/form/NumberSpinner --\x3e\r\n                  \x3cselect class\x3d"timeSelect" id\x3d"feature-sync-interval" data-dojo-attach-point\x3d"_featureLayerInterval"\r\n                          data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\x3e\r\n                    \x3coption value\x3d"1"\x3e1\x3c/option\x3e\r\n                    \x3coption value\x3d"2"\x3e2\x3c/option\x3e\r\n                    \x3coption value\x3d"3"\x3e3\x3c/option\x3e\r\n                    \x3coption value\x3d"4"\x3e4\x3c/option\x3e\r\n                    \x3coption value\x3d"6"\x3e6\x3c/option\x3e\r\n                    \x3coption value\x3d"12"\x3e12\x3c/option\x3e\r\n                    \x3coption value\x3d"24"\x3e24\x3c/option\x3e\r\n                  \x3c/select\x3e\r\n                  \x26nbsp;${i18n.hoursLabel}\r\n                \x3c/td\x3e\r\n              \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd class\x3d"valignTop" colspan\x3d"2"\x3e\r\n            ${i18n.accessLabel}\r\n          \x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_accessMode"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_accessModeDesc"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right inline-block"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_saveBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.save}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/InviteCollaborationGuestDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} invite-collaboration-guest-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.inviteGuest}"\x3e\r\n    \x3cp data-dojo-attach-point\x3d"_description"\x3e\x3cstrong\x3e${i18n.inviteDesc}\x3c/strong\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3clabel class\x3d"trailer-quarter"\x3e\r\n        ${i18n.guestURLLabel}\r\n        \x3cinput type\x3d"text" name\x3d"guestPortalUrl" data-dojo-attach-point\x3d"_url" data-dojo-type\x3d"dijit/form/TextBox"\x3e\r\n      \x3c/label\x3e\r\n      \x3cdiv class\x3d"example"\x3e${i18n.guestURLExample}\x3c/div\x3e\r\n      \x3c!--\x3cspan class\x3d"example"\x3e${i18n.guestOnlineURLExample}\x3c/span\x3e--\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      ${i18n.workspaceAccessLabel}\x3cbr\x3e\r\n      \x3cdiv class\x3d"workspace-access-container auto-y" data-dojo-attach-point\x3d"_workspacesContainer"\x3e\r\n        \x3c!-- workspace list here --\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3cstrong\x3e${i18n.definitionsLabel}\x3c/strong\x3e\x3cbr\x3e\r\n      ${i18n.sendContentNote}\x3cbr\x3e\r\n      ${i18n.receiveContentNote}\x3cbr\x3e\r\n      ${i18n.sendAndReceiveContentNote}\x3cbr\x3e\r\n    \x3c/div\x3e\x3cbr\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1 right"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_inviteBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.saveInvite}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/JoinWorkspaceDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} orgDlg join-collaboration-workspace-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.joinWorkspace}"\x3e\r\n\r\n    \x3cp data-dojo-attach-point\x3d"_workspaceDesc"\x3e${i18n.workspaceDesc}\x3c/p\x3e\r\n\r\n    \x3cdiv class\x3d"auto-y trailer-1 join-workspace-limiter"\x3e\r\n      \x3ctable class\x3d"groupTable"\x3e\r\n        \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e${i18n.workspaceNameLabel}\x3c/td\x3e\r\n          \r\n          \x3ctd data-dojo-attach-point\x3d"_workspaceNameColumn"\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"2"\x3e${i18n.descriptionLabel}\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\x3clabel class\x3d"force-word-wrap" data-dojo-attach-point\x3d"_workspaceDescriptionColumn"\x3e\x3c/label\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow"\x3e\x3cstrong\x3e${i18n.groupLabel}\x3c/strong\x3e\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" name\x3d"groupRadio" data-dojo-attach-point\x3d"_newGroupRadio"\r\n                     data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n              \x3cspan class\x3d"hide"\x3e${i18n.newGroupLabel}\x3c/span\x3e\r\n            \x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-name"\x3e${i18n.newGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"text" id\x3d"new-group-name" data-dojo-attach-point\x3d"_newGroupName"\r\n                   data-dojo-type\x3d"dijit/form/TextBox"\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\x3c/td\x3e\r\n          \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"new-group-tags" data-dojo-attach-point\x3d"_tagsLabel"\x3e${i18n.tagsLabel}\x3c/label\x3e\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cdiv id\x3d"new-group-tags" data-dojo-attach-point\x3d"_tags" data-dojo-type\x3d"esri/dijit/Tags"\r\n                 data-dojo-props\x3d"maxWidth:\'20.9rem\',minWidth:\'20.9rem\'"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd\x3e\r\n            \x3clabel\x3e\r\n              \x3cinput type\x3d"radio" name\x3d"groupRadio" data-dojo-attach-point\x3d"_existingGroupRadio"\r\n                     data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n              \x3cspan class\x3d"hide"\x3e${i18n.existingGroupLabel}\x3c/span\x3e\r\n            \x3c/label\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd class\x3d"rightAlign"\x3e\x3clabel for\x3d"existing-group"\x3e${i18n.existingGroupLabel}\x3c/label\x3e\x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cselect class\x3d"groupSelect" id\x3d"existing-group" data-dojo-attach-point\x3d"_existingGroupSelect"\r\n                    data-dojo-type\x3d"dijit/form/FilteringSelect"\x3e\x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow" data-dojo-attach-point\x3d"_copyDataTitle"\x3e${i18n.featureLayersSent}\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"radio" id\x3d"copy-data-by-reference" name\x3d"copyDataRadio" data-dojo-attach-point\x3d"_byReferenceRadio"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton" checked\x3d"true"\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3clabel for\x3d"copy-data-by-reference"\x3e${i18n.byReference}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd\x3e\r\n            \x3cinput type\x3d"radio" id\x3d"copy-data-by-value" name\x3d"copyDataRadio" data-dojo-attach-point\x3d"_byValueRadio"\r\n                   data-dojo-type\x3d"dijit/form/RadioButton"\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd colspan\x3d"3"\x3e\r\n            \x3clabel for\x3d"copy-data-by-value"\x3e${i18n.byValue}\x3c/label\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4" data-dojo-attach-point\x3d"_copyDataDesc"\x3e${i18n.byReferenceDesc}\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\x3ctd colspan\x3d"4"\x3e\r\n          \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_allow2WayOption"\x3e\r\n            \x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_allow2Way"\x3e ${i18n.allow2Way}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer hide"\x3e\r\n          \x3ctd colspan\x3d"4"\x3e\r\n            \x3cdiv class\x3d"margin-left-1 hide" data-dojo-attach-point\x3d"_copyDataFailureOption"\x3e\r\n              \x3clabel\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_copyByRefOnCopyFail" checked\x3e ${i18n.shareRefOnCopyFail}\x3c/label\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer-sync hide"\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer-sync hide"\x3e\r\n          \x3ctd colspan\x3d"4" class\x3d"sectionRow" data-dojo-attach-point\x3d"_syncSettingsTitle"\x3e${i18n.featureLayerSyncSettings}\x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr class\x3d"feature-layer-sync hide"\x3e\r\n          \x3ctd colspan\x3d"4"\x3e\r\n            \x3ctable\x3e\r\n              \x3ctbody\x3e\r\n              \x3ctr\x3e\r\n                \x3ctd class\x3d"sync-scheduled-column"\x3e\r\n                  \x3clabel for\x3d"feature-sync-start-time"\x3e${i18n.nextSyncLabel}\x3c/label\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd data-dojo-attach-point\x3d"_featureLayerStartTimeContainer"\x3e\r\n                  \x3c!-- start time control here dijit/form/TimeTextBox --\x3e\r\n                \x3c/td\x3e\r\n              \x3c/tr\x3e\r\n              \x3ctr\x3e\x3ctd colspan\x3d"2"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n              \x3ctr\x3e\r\n                \x3ctd class\x3d"sync-scheduled-column"\x3e\r\n                  \x3clabel for\x3d"feature-sync-interval"\x3e${i18n.syncIntervalLabel}\x3c/label\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd data-dojo-attach-point\x3d"_featureLayerIntervalContainer"\x3e\r\n                  \x3c!-- interval control here dijit/form/NumberSpinner --\x3e\r\n                  \x3cselect class\x3d"timeSelect" id\x3d"feature-sync-interval" data-dojo-attach-point\x3d"_featureLayerInterval"\r\n                          data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\x3e\r\n                    \x3coption value\x3d"1"\x3e1\x3c/option\x3e\r\n                    \x3coption value\x3d"2"\x3e2\x3c/option\x3e\r\n                    \x3coption value\x3d"3"\x3e3\x3c/option\x3e\r\n                    \x3coption value\x3d"4"\x3e4\x3c/option\x3e\r\n                    \x3coption value\x3d"6"\x3e6\x3c/option\x3e\r\n                    \x3coption value\x3d"12"\x3e12\x3c/option\x3e\r\n                    \x3coption value\x3d"24" checked\x3e24\x3c/option\x3e\r\n                  \x3c/select\x3e\r\n                  \x26nbsp;${i18n.hoursLabel}\r\n                \x3c/td\x3e\r\n              \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd class\x3d"valignTop" colspan\x3d"2"\x3e\r\n            ${i18n.accessLabel}\r\n          \x3c/td\x3e\r\n          \r\n          \x3ctd\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_accessMode"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_accessModeDesc"\x3e\x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"clearfix right inline-block"\x3e\r\n      \x3cbutton class\x3d"calcite blue small" data-dojo-attach-point\x3d"_joinBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.joinWorkspace}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite transparent small" data-dojo-attach-point\x3d"_cancelBtn" data-dojo-type\x3d"dijit/form/Button"\x3e\r\n        ${i18n.cancel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/SyncStatusDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} sync-status-dialog" data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_lastScheduledSyncContainer"\x3e\r\n      \x3clabel class\x3d"sync-date-label trailer-0 avenir-bold" data-dojo-attach-point\x3d"_lastScheduledSyncLabel"\x3e\x3c/label\x3e\r\n      \x3clabel data-dojo-attach-point\x3d"_lastScheduledSyncStatusLabel" class\x3d"trailer-0"\x3e\x3c/label\x3e\r\n      \x3cdiv class\x3d"leader-quarter sync-events-container" data-dojo-attach-point\x3d"_lastScheduledSyncEvents"\x3e\r\n        \x3c!-- sync event failures from the last scheduled sync written here --\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"_syncsSinceLastContainer"\x3e\r\n      \x3clabel class\x3d"sync-date-label trailer-0 avenir-bold" data-dojo-attach-point\x3d"_syncsSinceLastLabel"\x3e\x3c/label\x3e\r\n      \x3cdiv class\x3d"leader-quarter sync-events-container" data-dojo-attach-point\x3d"_syncsSinceEvents"\x3e\r\n        \x3c!-- sync event failures from realtime syncs since last scheduled sync written here --\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"leader-1 esriFloatTrailing right"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-primary" data-dojo-attach-point\x3d"_closeBtn"\x3e${i18n.close}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/EditWorkspaceViewerCredentialsDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} edit-workspace-viewer-credentials-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"trailer-half"\x3e${i18n.description}\x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-half"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"useCredentials" data-dojo-attach-point\x3d"yesRadio"\x3e ${i18n.yes}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"useCredentials" data-dojo-attach-point\x3d"noRadio"\x3e ${i18n.no}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-half" data-dojo-attach-point\x3d"credentialsContainer"\x3e\r\n      \x3cdiv class\x3d"trailer-half"\x3e\r\n        \x3clabel class\x3d"full-width"\x3e\r\n          ${i18n.username}\x3cbr\x3e\r\n          \x3cinput type\x3d"text" data-dojo-attach-point\x3d"username"\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-half"\x3e\r\n        \x3clabel class\x3d"full-width"\x3e\r\n          ${i18n.password}\x3cbr\x3e\r\n          \x3cinput type\x3d"password" data-dojo-attach-point\x3d"password"\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/EditWebAuthCredentialsDlg.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"${baseClass} edit-workspace-viewer-credentials-dialog" data-dojo-type\x3d"dijit/Dialog"\r\n       data-dojo-attach-point\x3d"_dialog" title\x3d"${i18n.title}"\x3e\r\n    \x3cdiv class\x3d"trailer-half"\x3e${i18n.description}\x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-half"\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"useWebAuth" data-dojo-attach-point\x3d"yesRadio"\x3e ${i18n.yes}\x3c/label\x3e\r\n      \x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"useWebAuth" data-dojo-attach-point\x3d"noRadio"\x3e ${i18n.no}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-half hide" data-dojo-attach-point\x3d"webAuthContainer"\x3e\r\n      \x3cform data-dojo-attach-point\x3d"form" enctype\x3d"multipart/form-data" method\x3d"post"\x3e\r\n        \x3cdiv class\x3d"trailer-half"\x3e\r\n          \x3clabel class\x3d"full-width"\x3e\r\n            \x3cspan data-dojo-attach-point\x3d"usernameLabel"\x3e\x3c/span\x3e\r\n            \x3cinput type\x3d"text" name\x3d"webAuthUsername" data-dojo-attach-point\x3d"username"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-1"\x3e\r\n          \x3clabel class\x3d"full-width"\x3e\r\n            \x3cspan data-dojo-attach-point\x3d"passwordLabel"\x3e\x3c/span\x3e\r\n            \x3cinput type\x3d"password" name\x3d"webAuthPassword" data-dojo-attach-point\x3d"password"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-1"\x3e\r\n          ${i18n.or}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"trailer-half"\x3e\r\n          \x3clabel class\x3d"full-width"\x3e\r\n            \x3cspan data-dojo-attach-point\x3d"certificateLabel"\x3e\x3c/span\x3e\r\n            \x3cinput type\x3d"file" name\x3d"webAuthCertificateFile" data-dojo-attach-point\x3d"certificate" class\x3d"longFileNameInput"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3clabel class\x3d"full-width"\x3e\r\n            \x3cspan data-dojo-attach-point\x3d"certificatePasswordLabel"\x3e\x3c/span\x3e\r\n            \x3cinput type\x3d"password" name\x3d"webAuthCertPassword" data-dojo-attach-point\x3d"certificatePassword"\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/form\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"right"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn" data-dojo-attach-point\x3d"saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"btn btn-clear" data-dojo-attach-point\x3d"cancelBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:arcgisonline/sharing/dijit/templates/Breadcrumb.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3c!--\x3cdiv class\x3d"initial-breadcrumb breadcrumb"\x3e\x3cdiv class\x3d"breadcrumb-label"\x3eCollaborations\x3c/div\x3e\x3c/div\x3e--\x3e\r\n  \x3c!--\x3cdiv class\x3d"breadcrumb"\x3e\x3cdiv class\x3d"breadcrumb-label"\x3eShareSB\x3c/div\x3e\x3c/div\x3e--\x3e\r\n  \x3c!--\x3cdiv class\x3d"current-breadcrumb"\x3eCity of Yucaipa\x3c/div\x3e--\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_baseBreadcrumb" class\x3d"initial-breadcrumb current-breadcrumb"\x3e\x3cdiv class\x3d"breadcrumb-label" tabindex\x3d"0"\x3e${initialLabel}\x3c/div\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/templates/Collaborations.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n\r\n  \x3c!-- breadcrumbs --\x3e\r\n  \x3cdiv class\x3d"breadcrumb-container" data-dojo-attach-point\x3d"_breadcrumbs"\r\n       data-dojo-type\x3d"arcgisonline/sharing/dijit/Breadcrumb"\r\n       data-dojo-props\x3d"initialLabel: \'${i18n.myOrganization.collabTab.tabTitle}\'"\x3e\x3c/div\x3e\r\n\r\n  \x3c!-- views --\x3e\r\n\r\n  \x3c!-- view collaborations --\x3e\r\n  \x3cdiv class\x3d"collaboration-view collaborations-view hide"\x3e\r\n    \x3c!-- actions --\x3e\r\n    \x3cdiv class\x3d"section actions"\x3e\r\n      \x3cbutton class\x3d"calcite clear small" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_createCollaborationBtn"\x3e\r\n        ${i18n.collaborations.createCollaboration}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite clear small" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_acceptInvitationBtn"\x3e\r\n        ${i18n.collaborations.acceptInvitation}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- grid --\x3e\r\n    \x3cdiv class\x3d"collaborations-view-grid-container"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- view collaboration guests --\x3e\r\n  \x3cdiv class\x3d"collaboration-view collaboration-guests-view hide"\x3e\r\n\r\n    \x3c!-- details --\x3e\r\n    \x3cdiv class\x3d"section details"\x3e\r\n      \x3cspan class\x3d"collaboration-description force-word-wrap"\x3e\x3c/span\x3e\x3cbr\x3e\x3cbr\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.hostTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"collaboration-host"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.contactPersonTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"collaboration-contact"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"_guestsHostContactEdit" class\x3d"collaboration-host-contact-edit hide" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_guestsHostWebAuthContainer"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.requiresWebTierAuth}\x3c/strong\x3e\r\n        \x3cspan class\x3d"host-viewer-credentials" data-dojo-attach-point\x3d"_guestsHostHasWebAuthCredentials"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"collaborations-edit-btn" data-dojo-attach-point\x3d"_guestsHostWebAuthCredentialsEdit" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\x3cbr\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- actions --\x3e\r\n    \x3cdiv class\x3d"section actions"\x3e\r\n      \x3cbutton class\x3d"calcite clear small host" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_inviteGuestBtn"\x3e\r\n        ${i18n.collaborations.inviteGuest}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite clear small" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_viewWorkspacesBtn"\x3e\r\n        ${i18n.collaborations.viewWorkspaces}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- grid --\x3e\r\n    \x3cdiv class\x3d"collaboration-guests-view-grid-container"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- view collaboration workspaces --\x3e\r\n  \x3cdiv class\x3d"collaboration-view collaboration-workspaces-view hide"\x3e\r\n\r\n    \x3c!-- details --\x3e\r\n    \x3cdiv class\x3d"section details"\x3e\r\n      \x3cspan class\x3d"collaboration-description force-word-wrap"\x3e\x3c/span\x3e\x3cbr\x3e\x3cbr\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.hostTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"collaboration-host"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.contactPersonTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"collaboration-contact"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"_workspacesHostContactEdit" class\x3d"collaboration-host-contact-edit hide" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_workspacesHostWebAuthContainer"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.requiresWebTierAuth}\x3c/strong\x3e\r\n        \x3cspan class\x3d"host-viewer-credentials" data-dojo-attach-point\x3d"_workspacesHostHasWebAuthCredentials"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"collaborations-edit-btn" data-dojo-attach-point\x3d"_workspacesHostWebAuthCredentialsEdit" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\x3cbr\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- actions --\x3e\r\n    \x3cdiv class\x3d"section actions"\x3e\r\n      \x3cbutton class\x3d"calcite clear small host" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_createWorkspaceBtn"\x3e\r\n        ${i18n.collaborations.createWorkspace}\r\n      \x3c/button\x3e\r\n      \x3cbutton class\x3d"calcite clear small" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_viewGuestsBtn"\x3e\r\n        ${i18n.collaborations.viewGuests}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- grid --\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-view-grid-container"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- view guest --\x3e\r\n  \x3cdiv class\x3d"collaboration-view guest-view hide"\x3e\r\n\r\n    \x3c!-- details --\x3e\r\n    \x3cdiv class\x3d"section details"\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.contactPersonTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"guest-contact"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.urlTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"guest-url"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.versionTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"guest-version"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_guestWebAuthContainer"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.requiresWebTierAuth}\x3c/strong\x3e\r\n        \x3cspan class\x3d"guest-viewer-credentials" data-dojo-attach-point\x3d"_guestHasWebAuthCredentials"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"collaborations-edit-btn" data-dojo-attach-point\x3d"_guestWebAuthCredentialsEdit" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\x3cbr\x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- actions --\x3e\r\n    \x3cdiv class\x3d"section actions" data-dojo-attach-point\x3d"_guestSelfEditContainer"\x3e\r\n      \x3cbutton class\x3d"calcite clear small host" data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_editContactBtn"\x3e\r\n        ${i18n.collaborations.guestEditContactLabel}\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- grid --\x3e\r\n    \x3cdiv class\x3d"guest-view-grid-container"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- view workspace --\x3e\r\n  \x3cdiv class\x3d"collaboration-view workspace-view hide"\x3e\r\n\r\n    \x3c!-- details --\x3e\r\n    \x3cdiv class\x3d"section details"\x3e\r\n      \x3c!-- workspace info --\x3e\r\n      \x3cspan class\x3d"workspace-description force-word-wrap"\x3e\x3c/span\x3e\x3cbr\x3e\x3cbr\x3e\r\n      \x3cspan class\x3d"guest"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.hostTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"workspace-host"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan class\x3d"guest"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.contactPersonTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"workspace-contact"\x3e\x3c/span\x3e\r\n        \x3cspan data-dojo-attach-point\x3d"_workspaceHostContactEdit" class\x3d"collaboration-host-contact-edit hide" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3c!-- group details --\x3e\r\n      \x3cspan\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.groupTitle}\x3c/strong\x3e\r\n        \x3cspan class\x3d"workspace-group force-word-wrap"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_workspaceCopyDataContainer"\x3e\x3c/span\x3e\x3cbr\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"_workspaceViewerCredentialsContainer"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.workspaceViewerCredentials}\x3c/strong\x3e\r\n        \x3cspan class\x3d"workspace-viewer-credentials" data-dojo-attach-point\x3d"_workspaceHasViewerCredentials"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"collaborations-edit-btn" data-dojo-attach-point\x3d"_workspaceViewerCredentialsEdit" tabindex\x3d"0"\x3e${i18n.common.edit}\x3c/span\x3e\x3cbr\x3e\r\n      \x3c/span\x3e\r\n      \x3c!-- workspace sync status for guest view of workspace --\x3e\r\n      \x3cspan id\x3d"workspace-sync-label" class\x3d"workspace-sync hasTooltip"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.syncScheduled}\x3c/strong\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-sync"\x3e\r\n      \x3cspan class\x3d"workspace-sync"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncLastScheduled}\x3c/strong\x3e\r\n        \x3cspan class\x3d"sync-last-scheduled"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-sync"\x3e\r\n      \x3cspan class\x3d"workspace-sync"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncStatus}\x3c/strong\x3e\r\n        \x3cspan class\x3d"sync-status"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-sync"\x3e\r\n      \x3cspan class\x3d"workspace-sync workspace-sync-last-complete"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncLastComplete}\x3c/strong\x3e\r\n        \x3cspan class\x3d"sync-last-complete"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-sync workspace-sync-last-complete"\x3e\r\n      \x3cspan class\x3d"workspace-sync"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncNextScheduled}\x3c/strong\x3e\r\n        \x3cspan class\x3d"sync-next-scheduled"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-sync"\x3e\r\n      \x3cspan id\x3d"workspace-realtime-sync-label" class\x3d"workspace-realtime-sync hasTooltip"\x3e\r\n        \x3cstrong\x3e${i18n.collaborations.syncImmediate}\x3c/strong\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-realtime-sync"\x3e\r\n      \x3cspan class\x3d"workspace-realtime-sync"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncLastScheduled}\x3c/strong\x3e\r\n        \x3cspan class\x3d"realtime-sync-last"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-realtime-sync"\x3e\r\n      \x3cspan class\x3d"workspace-realtime-sync"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncStatus}\x3c/strong\x3e\r\n        \x3cspan class\x3d"realtime-sync-status"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-realtime-sync"\x3e\r\n      \x3cspan class\x3d"workspace-realtime-sync realtime-syncs-pending-container"\x3e\r\n        \x3cstrong class\x3d"margin-left-1"\x3e${i18n.collaborations.syncsPending}\x3c/strong\x3e\r\n        \x3cspan class\x3d"realtime-syncs-pending"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\x3cbr class\x3d"workspace-realtime-sync"\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3c!-- grid --\x3e\r\n    \x3cdiv class\x3d"workspace-view-grid-container"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- menus --\x3e\r\n  \x3c!-- collaboration actions --\x3e\r\n  \x3cdiv class\x3d"collaborations-action-menu actionMenu" style\x3d"display:none;"\r\n       data-dojo-type\x3d"dijit/Menu" data-dojo-attach-point\x3d"_collaborationsActionMenu"\x3e\r\n    \x3cdiv class\x3d"collaborations-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_collaborationEditAction"\x3e\r\n      ${i18n.collaborations.collaborationEditLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaborations-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_collaborationDeleteAction"\x3e\r\n      ${i18n.collaborations.collaborationDeleteLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaborations-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_collaborationSaveResponseAction"\x3e\r\n      ${i18n.collaborations.collaborationSaveResponseLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaborations-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_collaborationGuestEditAction"\x3e\r\n      ${i18n.collaborations.collaborationEditLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaborations-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_collaborationLeaveAction"\x3e\r\n      ${i18n.collaborations.collaborationLeaveLabel}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- collaboration guests actions --\x3e\r\n  \x3cdiv class\x3d"collaboration-guests-action-menu actionMenu" style\x3d"display:none;"\r\n       data-dojo-type\x3d"dijit/Menu" data-dojo-attach-point\x3d"_guestsActionMenu"\x3e\r\n    \x3cdiv class\x3d"collaboration-guests-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_guestAcceptAction"\x3e\r\n      ${i18n.collaborations.guestAcceptLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-guests-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_guestReissueAction"\x3e\r\n      ${i18n.collaborations.guestReissueLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-guests-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_guestInvalidateAction"\x3e\r\n      ${i18n.collaborations.guestInvalidateLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-guests-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_guestEditAction"\x3e\r\n      ${i18n.collaborations.guestEditLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-guests-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_guestRemoveAction"\x3e\r\n      ${i18n.collaborations.guestRemoveLabel}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3c!-- collaboration workspaces actions --\x3e\r\n  \x3cdiv class\x3d"collaboration-workspaces-action-menu actionMenu" style\x3d"display:none;"\r\n       data-dojo-type\x3d"dijit/Menu" data-dojo-attach-point\x3d"_workspacesActionMenu"\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspaceEditAction"\x3e\r\n      ${i18n.collaborations.workspaceEditLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspaceDeleteAction"\x3e\r\n      ${i18n.collaborations.workspaceDeleteLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspaceJoinAction"\x3e\r\n      ${i18n.collaborations.workspaceJoinLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspaceSyncAction"\x3e\r\n      ${i18n.collaborations.syncNowLabel}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspacePauseSyncAction"\x3e\r\n      ${i18n.collaborations.workspacePauseSync}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspaceResumeSyncAction"\x3e\r\n      ${i18n.collaborations.workspaceResumeSync}\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collaboration-workspaces-action-menu-item actionMenuItem" data-dojo-type\x3d"dijit/MenuItem"\r\n         data-dojo-attach-point\x3d"_workspaceLeaveAction"\x3e\r\n      ${i18n.collaborations.workspaceLeaveLabel}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/CollabOrgsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"flex-center"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"startBtn"\x3e${i18n.startCollaboration}\x3c/button\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-left-1"\x3e\r\n      \x3cbutton class\x3d"btn-link flex" data-dojo-attach-point\x3d"reviewBtn"\x3e\r\n        ${i18n.reviewRequests}\x3cdiv class\x3d"collab-request-num flex flex-center font-size--1 margin-left-half margin-right-half js-request-num"\x3e\x3c/div\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-existing-collabs leader-1"\x3e\r\n    \x3cdiv class\x3d"avenir-demi trailer-half" data-dojo-attach-point\x3d"_label"\x3e${i18n.name}\x3c/div\x3e\r\n    \x3cdiv class\x3d"collab-tip flex flex-align-center leader-1 hide" data-dojo-attach-point\x3d"maxNotice"\x3e\r\n      \x3ccalcite-icon class\x3d"collab-tip__bulb" icon\x3d"information" scale\x3d"m"\x3e\x3c/calcite-icon\x3e\r\n      \x3cdiv class\x3d"collab-tip__content flex-1"\x3e\r\n        \x3cp class\x3d"trailer-0 font-size--1" data-dojo-attach-point\x3d"maxNoticeDesc"\x3e\x3c/p\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"collab-tip flex flex-align-center leader-1" data-dojo-attach-point\x3d"onboardTip"\x3e\r\n      \x3ccalcite-icon class\x3d"collab-tip__bulb" icon\x3d"lightbulb" scale\x3d"m"\x3e\x3c/calcite-icon\x3e\r\n      \x3cdiv class\x3d"collab-tip__content flex-1"\x3e\r\n        \x3cp class\x3d"trailer-0 font-size--1"\x3e${i18n.tipDesc}\x3c/p\x3e\r\n      \x3c/div\x3e\r\n      \x3cbutton class\x3d"btn-link btn-link-darker-gray margin-right-1" data-dojo-attach-point\x3d"dismissTipBtn"\x3e\r\n        \x3ccalcite-icon icon\x3d"x"\x3e\x3c/calcite-icon\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1 hide" data-dojo-attach-point\x3d"confirmedOrgsContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-ended-collabs"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/StartCollabOverlay.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"flex start-collab__tabs"\x3e\r\n    \x3cbutton id\x3d"single-invite-tab" role\x3d"tab" aria-selected\x3d"true" aria-controls\x3d"single-invite-tab-content" class\x3d"btn-link btn-link-darker-gray start-collab__tab start-collab__tab--active js-single-invite-tab"\x3e\r\n      ${i18n.invitation.single}\r\n    \x3c/button\x3e\r\n    \x3cbutton id\x3d"multiple-invite-tab" role\x3d"tab" aria-selected\x3d"false" aria-controls\x3d"multiple-invites-tab-content" class\x3d"btn-link btn-link-darker-gray start-collab__tab js-multi-invite-tab"\x3e\r\n      ${i18n.invitation.multiple}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"start-collab__tab-content"\x3e\r\n    \x3cdiv id\x3d"single-invite-tab-content" class\x3d"js-single-invite-content" aria-labelledby\x3d"single-invite-tab"\x3e\r\n      \x3cdiv class\x3d"js-search-section"\x3e\r\n        \x3clabel class\x3d"trailer-0"\x3e\r\n          \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e${i18n.enterUrl}\x3c/div\x3e\r\n            \x3cdiv class\x3d"js-where-link font-size--1 flex-0"\x3e\r\n              \x3ca tabindex\x3d"0" class\x3d"tooltip tooltip-multiline tooltip-bottom-right tooltip--with-outline" aria-label\x3d"${i18n.whereToFindTooltip}"\r\n                \x3e${i18n.whereToFind}\x3c/a\r\n              \x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"position-relative"\x3e\r\n            \x3ccalcite-icon icon\x3d"search" scale\x3d"s" class\x3d"start-collab__search-icon"\x3e\x3c/calcite-icon\x3e\r\n            \x3cinput\r\n              type\x3d"text"\r\n              class\x3d"js-org-search app-overlay__search-input padding-left-2"\r\n              placeholder\x3d"${i18n.sampleUrl}"\r\n              arial-label\x3d"${i18n.sampleUrl}"\r\n              aria-controls\x3d"start-collab__org-list"\r\n              autocomplete\x3d"off"\r\n            /\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-search-error app-overlay__input-error input-error-message"\x3e${i18n.errors.selectOrg}\x3c/div\x3e\r\n        \x3c/label\x3e\r\n        \x3cul id\x3d"start-collab__org-list" class\x3d"js-results-list org-picker__results hide" role\x3d"menu"\x3e\r\n          \x3cli class\x3d"org-picker__result-item flex flex-align-center js-org-option" role\x3d"menuitem" tabindex\x3d"0"\x3e\r\n            \x3cimg class\x3d"js-org-thumb org-picker__thumb margin-right-1 hide" /\x3e\r\n            \x3cdiv class\x3d"js-org-name"\x3e\x3c/div\x3e\r\n          \x3c/li\x3e\r\n        \x3c/ul\x3e\r\n        \x3cp class\x3d"js-no-results leader-half trailer-half font-size--1 padding-left-1 padding-right-1 hide"\x3e\r\n          ${i18n.notFound}\r\n        \x3c/p\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-selected-org-section hide"\x3e\r\n        \x3clabel\x3e\r\n          ${i18n.orgLabel}\r\n          \x3cbutton\r\n            class\x3d"js-selected-org-edit btn-link btn-link-darker-gray edit-setting-btn full-width leader-quarter start-collab__selected-org-edit flex-center"\r\n          \x3e\r\n            \x3cimg class\x3d"js-selected-org-thumb org-picker__thumb margin-right-1 hide" /\x3e\r\n            \x3cdiv class\x3d"js-selected-org-name flex-1 margin-right-half text-left"\x3e\x3c/div\x3e\r\n            ${icons.pencil.16}\r\n          \x3c/button\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3cdiv class\x3d"js-access-switch"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-1"\x3e\r\n        \x3clabel for\x3d"start-collab-email-text"\x3e\r\n          \x3cdiv\x3e${i18n.emailMessage}\x3c/div\x3e\r\n          \x3ctextarea id\x3d"start-collab-email-text" rows\x3d"4"\x3e\x3c/textarea\x3e\r\n        \x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv id\x3d"multiple-invites-tab-content" class\x3d"js-multi-invite-content hide" aria-labelledby\x3d"multiple-invite-tab"\x3e\r\n      \x3cdiv class\x3d"js-multi-step-1"\x3e\r\n        \x3cdiv class\x3d"start-collab__choose-file js-file-drop"\x3e\r\n          \x3csvg xmlns\x3d"http://www.w3.org/2000/svg" id\x3d"icons" viewBox\x3d"0 0 32 32" class\x3d"start-collab__csv-icon"\x3e\r\n            \x3cpath\r\n              d\x3d"M31.113 13h-3V8.699L20.413 1h-16.3v12h-3v15h3v3h24v-3h3zm-11-11l7 7h-7zm-15 0h14v8h8v3h-22zm22 28h-22v-2h22zm3-3h-28V14h28zm-21.15-3.731a3.179 3.179 0 0 1 4.496-4.496l-.707.707a2.179 2.179 0 1 0-3.081 3.081 2.229 2.229 0 0 0 3.08 0l.708.707a3.177 3.177 0 0 1-4.495 0zm9.117-.808a.838.838 0 0 0-.04-.684 1.334 1.334 0 0 0-.947-.477c-1.289-.198-1.953-.784-1.974-1.743a1.665 1.665 0 0 1 .48-1.202 1.81 1.81 0 0 1 1.3-.555 2.108 2.108 0 0 1 1.903 1.102l-.852.526a1.122 1.122 0 0 0-1.051-.628.798.798 0 0 0-.58.248.672.672 0 0 0-.2.478c.004.205.013.615 1.126.785a2.187 2.187 0 0 1 1.652.952 1.826 1.826 0 0 1 .126 1.53A2.134 2.134 0 0 1 16.92 24.1a2.32 2.32 0 0 1-2.146-1.24l.863-.505a1.343 1.343 0 0 0 1.283.745 1.164 1.164 0 0 0 1.16-.64zm4.074 1.523L19.78 18h1.076l1.767 4.453L24.417 18h1.078l-2.412 5.986zm-16.54.516a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1z"\r\n            \x3e\x3c/path\x3e\r\n          \x3c/svg\x3e\r\n          \x3cdiv class\x3d"js-choose-file"\x3e\r\n            \x3cdiv class\x3d"avenir-demi font-size-1 leader-1 text-center js-dragdrop-text"\x3e${i18n.dragDrop}\x3c/div\x3e\r\n            \x3cdiv class\x3d"font-size--1 text-center leader-quarter"\x3e${i18n.csvHeader}\x3c/div\x3e\r\n            \x3cdiv class\x3d"font-size--1 text-center leader-quarter js-max-invitations"\x3e${i18n.maxInvitations}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-file-processed hide"\x3e\r\n            \x3cdiv class\x3d"js-file-name text-center trailer-half leader-1"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"js-invalid-fields font-size--1 trailer-half text-center"\x3e${i18n.invalidFields}\x3c/div\x3e\r\n            \x3cdiv class\x3d"js-not-included font-size--1 trailer-half text-center hide"\x3e${i18n.notIncluded}\x3c/div\x3e\r\n            \x3cdiv class\x3d"flex flex-center"\x3e\r\n              \x3cdiv class\x3d"js-invitations start-collab__invitations-num margin-right-half"\x3e\x3c/div\x3e\r\n              \x3cbutton class\x3d"btn-link avenir-demi js-choose-diff"\x3e${i18n.chooseDiffFile}\x3c/button\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cinput type\x3d"file" class\x3d"hide js-file-input" /\x3e\r\n        \x3cdiv class\x3d"start-collab_req-fields font-size-1 avenir-demi leader-1"\x3e${i18n.requiredFields}\x3c/div\x3e\r\n        \x3cdiv class\x3d"start-collab__csv-field font-size--1"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-0"\x3e\r\n              \x3cdiv class\x3d"start-collab__check-icon js-valid-orgUrl margin-right-1 hide"\x3e\r\n                \x3ccalcite-icon icon\x3d"check-circle-f" scale\x3d"s"\x3e\x3c/calcite-icon\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv class\x3d"start-collab__error-icon js-invalid-orgUrl margin-right-1 hide"\x3e\r\n                \x3ccalcite-icon icon\x3d"exclamation-mark-circle" scale\x3d"s"\x3e\x3c/calcite-icon\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n              \x3cdiv class\x3d"avenir-demi"\x3e${i18n.orgUrl}\x3c/div\x3e\r\n              \x3cdiv\x3e${i18n.urlFormat}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-0 js-invalid-url-num start-collab__invalid-num hide"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"start-collab__csv-field font-size--1"\x3e\r\n          \x3cdiv class\x3d"flex"\x3e\r\n            \x3cdiv class\x3d"flex-0"\x3e\r\n              \x3cdiv class\x3d"start-collab__check-icon js-valid-search margin-right-1 hide"\x3e\r\n                \x3ccalcite-icon icon\x3d"check-circle-f" scale\x3d"s"\x3e\x3c/calcite-icon\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv class\x3d"start-collab__error-icon js-invalid-search margin-right-1 hide"\x3e\r\n                \x3ccalcite-icon icon\x3d"exclamation-mark-circle" scale\x3d"s"\x3e\x3c/calcite-icon\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\r\n              \x3cdiv class\x3d"avenir-demi"\x3e${i18n.memberSearch}\x3c/div\x3e\r\n              \x3cdiv\x3e${i18n.searchValue}\x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"flex-0 js-invalid-search-num start-collab__invalid-num hide"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-multi-step-2 hide"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n          \x3cdiv class\x3d"js-page-range flex-1"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn-link btn-link-red js-delete-btn"\x3e${i18n.delete}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"js-collab-invitations"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-multi-step-3 hide"\x3e\r\n        \x3cdiv class\x3d"avenir-demi"\x3e${i18n.summary}\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size--1 js-summary-text"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-1"\x3e\r\n          \x3clabel for\x3d"start-collab-email-text-multi"\x3e\r\n            \x3cdiv\x3e${i18n.emailMessage}\x3c/div\x3e\r\n            \x3ctextarea id\x3d"start-collab-email-text-multi" rows\x3d"4"\x3e\x3c/textarea\x3e\r\n          \x3c/label\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/AccessConfirm.html":'\x3cdiv class\x3d"position-relative full-height overlay-confirm"\x3e\r\n  \x3cdiv class\x3d"overlay-confirm-mask collab-access-confirm__mask"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"overlay-confirm-pane ${cssClasses} position-relative collab-access-confirm__content"\x3e\r\n    \x3cbutton class\x3d"btn btn-link btn-link-darker-gray overlay-confirm-close-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n      \x3cdiv class\x3d"overlay-confirm__icon margin-right-1" data-dojo-attach-point\x3d"icon"\x3e\x3c/div\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv class\x3d"avenir-demi font-size-1" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"font-size--1 leader-half" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half flex overlay-confirm-buttons" data-dojo-attach-point\x3d"_buttons"\x3e\r\n      \x3cbutton class\x3d"btn btn-clear js-cancel-btn"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn margin-left-half overlay-confirm__confirm-btn js-confirm-btn"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"hide leader-1 padding-leader-1 overlay-confirm-actions collab-access-confirm__actions" data-dojo-attach-point\x3d"_actions"\x3e\r\n      \x3cbutton class\x3d"btn-link btn-link-darker-gray js-action-one margin-right-2 avenir-demi"\x3e\x3c/button\x3e\r\n      \x3cbutton class\x3d"btn-link btn-link-darker-gray js-action-two avenir-demi"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/PendingCollabOverlay.html":'\x3cdiv class\x3d"pending-collab"\x3e\r\n  \x3cdiv class\x3d"js-received-requests"\x3e\r\n    \x3ch3 class\x3d"font-size-0 avenir-demi"\x3e${i18n.receivedRequests}\x3c/h3\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-sent-requests"\x3e\r\n    \x3ch3 class\x3d"font-size-0 avenir-demi"\x3e${i18n.sentRequests}\x3c/h3\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/templates/PendingCollabRequest.html":'\x3cdiv class\x3d"pending-collab-request trailer-half"\x3e\r\n  \x3cdiv class\x3d"flex-center"\x3e\r\n    \x3cimg class\x3d"org-picker__thumb margin-right-1 hide" data-dojo-attach-point\x3d"thumbImg" /\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"thumbPlaceholder" class\x3d"org-picker__thumb-placeholder margin-right-1 hide"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-half text-left" data-dojo-attach-point\x3d"orgName"\x3e\x3c/div\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"acceptBtn" class\x3d"margin-right-1 avenir-demi font-size--1 hide btn btn-link btn-link-darker-gray"\x3e${i18n.acceptConfigure}\x3c/button\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"declineBtn" class\x3d"avenir-demi font-size--1 hide btn btn-link btn-link-darker-gray"\x3e${i18n.decline}\x3c/button\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"revokeBtn" class\x3d"avenir-demi font-size--1 hide btn btn-link btn-link-darker-gray"\x3e${i18n.revoke}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"capabilities"\x3e\r\n    \x3cul class\x3d"pending-collab-request__capabilities"\x3e\r\n      \x3cli\x3e${i18n.grantAccess}\x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/TrustedOrgItem.html":'\x3cdiv class\x3d"flex-center trusted-org-card position-relative"\x3e\r\n  \x3cdiv class\x3d"trusted-org-card__name-col flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"flex-1 flex flex-align-center margin-right-1"\x3e\r\n      \x3cimg data-dojo-attach-point\x3d"thumbImg" class\x3d"org-picker__thumb margin-right-1 hide" /\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"thumbPlaceholder" class\x3d"hide org-picker__thumb-placeholder margin-right-1"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"orgName"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0 flex flex-align-center trusted-org__contacts-col"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"tooltipContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"trusted-org__spacer"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"visibility-hidden margin-right-2 font-size--1 flex-1" data-dojo-attach-point\x3d"suspendedLabel"\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"suspendedBtn" class\x3d"btn-link btn-link-darker-gray"\x3e${i18n.suspended}\x3c/button\x3e\r\n    \x3cdiv class\x3d"hide text-left" data-dojo-attach-point\x3d"tooltipEl"\x3e\r\n      \x3cdiv class\x3d"flex flex-align-center suspended-collab-popover__title"\x3e\r\n        \x3cdiv class\x3d"flex-1 font-size-0 avenir-bold"\x3e${i18n.suspended}\x3c/div\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"closeTooltipBtn"\x3e\r\n          \x3ccalcite-icon icon\x3d"x" scale\x3d"m"\x3e\x3c/calcite-icon\x3e\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"suspended-collab-popover__content"\x3e\r\n        \x3cp class\x3d"trailer-half"\x3e${i18n.suspendedInfo.description}\x3c/p\x3e\r\n        \x3ca\r\n          data-dojo-attach-point\x3d"suspendedLearnLink"\r\n          class\x3d"suspended-collab-popover__learn-more"\r\n          href\x3d""\r\n          target\x3d"_blank"\r\n          \x3e${i18n.suspendedInfo.learnMore}\x3c/a\r\n        \x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-actions"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"hide ending-collab-label flex flex-align-center" data-dojo-attach-point\x3d"endingLabel"\x3e\r\n    \x3ccalcite-loader label\x3d"" scale\x3d"m" inline\x3d"{true}" class\x3d"margin-right-half" active\x3e\x3c/calcite-loader\x3e${i18n.ending}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center end-failed-label hide" data-dojo-attach-point\x3d"endFailedEl"\x3e\r\n    \x3ccalcite-icon icon\x3d"exclamation-mark-triangle" scale\x3d"s"\x3e\x3c/calcite-icon\x3e\r\n    \x3cdiv class\x3d"margin-left-half"\x3e${i18n.failedToEnd}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Dropdown/Dropdown.html":'\x3cdiv class\x3d"dropdown js-dropdown" role\x3d"menu"\x3e\r\n  \x3cbutton\r\n    aria-label\x3d"${ariaLabel}"\r\n    aria-haspopup\x3d"menu"\r\n    class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle ${buttonClasses}"\r\n    data-dojo-attach-point\x3d"toggleBtn"\r\n    aria-expanded\x3d"false"\r\n  \x3e\r\n    ${!toggleLabel}\r\n  \x3c/button\x3e\r\n  \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu" data-dojo-attach-point\x3d"optionsEl"\x3e\x3c/nav\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Dropdown/DropdownOption.html":'\x3cbutton class\x3d"dropdown-link" role\x3d"menuitem"\x3e${text}\x3c/button\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/templates/AddCoordinatorsToGroupsOverlay.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center groups-search-bar js-group-bar"\x3e\r\n    \x3cdiv class\x3d"js-group-search-input"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-group-sort"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"padding-1"\x3e\r\n    \x3cdiv class\x3d"js-coordinators"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-groups hide"\x3e\r\n      \x3cdiv class\x3d"js-groups-view"\x3e\r\n        \x3cp class\x3d"font-size--1 js-desc"\x3e${texts.groupsDesc}\x3c/p\x3e\r\n        \x3cdiv class\x3d"trailer-quarter font-size--1 trailer-quarter js-groups-range"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-groups-wrapper"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-groups-pagination"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-no-groups text-center flex-center add-coordinators__no-groups hide"\x3e\r\n        \x3cdiv class\x3d"flex-column flex-center"\x3e\r\n          ${groupIcon}\r\n          \x3cp class\x3d"font-size-1 avenir-demi leader-1"\x3e${texts.noExternalGroups}\x3c/p\x3e\r\n          \x3cp class\x3d"font-size-0"\x3e${texts.createOrUpdate}\x3c/p\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/CreateGroup.html":'\x3cdiv class\x3d"create-group"\x3e\r\n  \x3cdiv class\x3d"js-overview"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-membership-preact trailer-1"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-membership"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-group-designations"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/group/widgets/CreateGroup/templates/Overview.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.overview}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"flex create-group-card__body"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3cdiv class\x3d"js-name-input"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-summary-input"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"tagsLabel"\x3e\r\n        \x3clabel class\x3d"avenir-demi js-tags-label trailer-quarter"\x3e${i18n.tagsLabel}\x3c/label\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-left-2"\x3e\r\n      \x3cdiv class\x3d"create-group__img-container"\x3e\r\n        \x3cimg data-dojo-attach-point\x3d"thumbImg" class\x3d"hide"\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"leader-half"\x3e\r\n        \x3cbutton class\x3d"btn-link" data-dojo-attach-point\x3d"uploadBtn"\x3e${!icons.inline.upload-to.16} ${i18n.uploadImage}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/Membership.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.membership}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"create-group-card__body"\x3e\r\n    \x3cdiv class\x3d"trailer-1 js-view-section"\x3e\r\n      \x3cdiv class\x3d"avenir-demi"\x3e${i18n.whoCanView}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-view-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"membershipSection"\x3e\r\n      \x3cdiv class\x3d"avenir-demi"\x3e${i18n.whoCanJoin}\x3c/div\x3e\r\n      \x3cdiv class\x3d"js-member-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3cdiv class\x3d"trailer-0"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.joinBy}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-join-options"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"joinDesc"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"enterpriseInputContainer"\x3e\r\n        \x3cdiv class\x3d"js-group-name-wrapper"\x3e\r\n          \x3cdiv class\x3d"js-enterprise-group-input"\x3e\x3c/div\x3e\r\n          \x3cbutton type\x3d"button" data-dojo-attach-point\x3d"searchEnterpriseBtn" class\x3d"btn btn-clear btn-small leader-half hide"\x3e\r\n            ${i18n.enterpriseGroups.selectLabel}\r\n          \x3c/button\x3e\r\n          \x3cdiv class\x3d"hide flex leader-1" data-dojo-attach-point\x3d"enterpriseButtons"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"cancelEnterpriseBtn" class\x3d"btn btn-clear margin-right-half"\x3e${i18n.cancel}\x3c/button\x3e\r\n            \x3cbutton class\x3d"btn" data-dojo-attach-point\x3d"saveEnterpriseBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"hide leader-quarter" data-dojo-attach-point\x3d"oidcInputContainer"\x3e\r\n        \x3cdiv class\x3d"js-group-name-wrapper"\x3e\r\n          \x3cdiv class\x3d"js-oidc-group-input"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"hide flex leader-1" data-dojo-attach-point\x3d"oidcButtons"\x3e\r\n            \x3cdiv class\x3d"flex-1"\x3e\x3c/div\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"cancelOIDCBtn" class\x3d"btn btn-clear margin-right-half"\x3e${i18n.cancel}\x3c/button\x3e\r\n            \x3cbutton class\x3d"btn" data-dojo-attach-point\x3d"saveOIDCBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"trailer-1"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.contributeBy}\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-contribute-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"membersSection"\x3e\r\n      \x3cspan class\x3d"avenir-demi"\x3e${i18n.displayMembersTo}\x3cbutton data-dojo-attach-point\x3d"hideMembersTooltip" class\x3d"btn-link margin-left-quarter tooltip tooltip-multiline" aria-label\x3d"${i18n.hideMembersTip}"\x3e\x3ccalcite-icon icon\x3d"question" scale\x3d"s" flip-rtl\x3d"${isArabic}"\x3e\x3c/calcite-icon\x3e\x3c/button\x3e\x3c/span\x3e\r\n      \x3cdiv class\x3d"js-display-options"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"editViewMembersSection"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"viewMembersValue"\x3e\x3c/div\x3e\r\n        \x3cbutton class\x3d"btn btn-clear leader-half" data-dojo-attach-point\x3d"hideMembersBtn"\x3e${i18n.hideMembers}\x3c/button\x3e\r\n        \x3cdiv class\x3d"hide-members-note leader-half"\x3e${i18n.whoCanSeeMembersNote}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/HideMembers.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"alert alert-yellow is-active"\x3e\r\n    \x3cdiv class\x3d"flex"\x3e\r\n      \x3cdiv class\x3d"flex-0 margin-right-half margin-left-0 text-yellow" aria-label\x3d"${i18n.GroupWidget.warningIcon}"\x3e\r\n        ${icons.exclamation-mark-triangle.32}\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 flex-center-self margin-right-half margin-left-0"\x3e\r\n        ${i18n.GroupWidget.noRevert}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"padding-leader-1 padding-left-1 padding-right-1"\x3e${i18n.GroupWidget.hideMembersDlg.description}\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/sharing/dijit/dialog/templates/SelectEnterpriseGroupDlg.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit/Dialog" data-dojo-attach-point\x3d"_dialog" id\x3d"select-enterprise-group-dialog" class\x3d"${baseClass}" title\x3d"${i18n.selectGroup}"\x3e\r\n    \x3cp class\x3d"trailer-0"\x3e${i18n.useSearch}\x3c/p\x3e\r\n    \x3cdiv class\x3d"esriFloatTrailing esriTrailingMargin025"\x3e\r\n      \x3clabel for\x3d"searchInput" class\x3d"display-inline"\x3e${i18n.findGroup}\x3c/label\x3e\r\n      \x3cdiv id\x3d"searchInput" data-dojo-type\x3d"dijit/form/TextBox" class\x3d"${baseClass}" data-dojo-attach-point\x3d"_search" data-dojo-props\x3d"trim:true" data-dojo-attach-event\x3d"onKeyDown:onSearchKeyDown"\x3e\x3c/div\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_searchBtn" class\x3d"calcite light small leader-half" data-dojo-attach-event\x3d"onClick:onSearch"\x3e${i18n.search}\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_gridContainer" class\x3d"leader-1"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-half clearfix"\x3e\r\n      \x3cdiv class\x3d"esriFloatLeading left" data-dojo-attach-point\x3d"_goToPageContainer"\x3e\r\n        \x3clabel for\x3d"goToInput" class\x3d"inline-block"\x3e${i18n.goToPage}\x3c/label\x3e\r\n        \x3cdiv id\x3d"goToInput" class\x3d"${baseClass}" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_goTo" data-dojo-attach-event\x3d"onKeyDown:onGoToPageKeyDown" data-dojo-props\x3d"trim:true"\x3e\x3c/div\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_goBtn" class\x3d"calcite light small" data-dojo-attach-event\x3d"onClick:onGoToPage"\x3e${i18n.goTo}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriFloatTrailing right"\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_okBtn" class\x3d"calcite blue" data-dojo-attach-event\x3d"onClick:onOk"\x3e${i18n.selectGroup}\x3c/button\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_cancelBtn" class\x3d"calcite transparent cancel" data-dojo-attach-event\x3d"onClick:onCancel"\x3e${i18n.cancel}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      \x3cbr style\x3d"clear:both;"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/CreateGroup/templates/GroupDesignations.html":'\x3cdiv class\x3d"create-group-card"\x3e\r\n  \x3ch2 class\x3d"font-size-2 avenir-demi trailer-1"\x3e${i18n.groupDesignations}\x3c/h2\x3e\r\n  \x3cdiv class\x3d"create-group-card__body"\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"sharedUpdateSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.sharedUpdate}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-shared-update-toggle"\x3e\x3c/div\x3e\r\n        \x3c!-- \x3cdiv class\x3d"font-size--1 create-group__option-desc"\x3e${i18n.membershipLimited}\x3c/div\x3e --\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"adminGroupSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.adminGroup}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-admin-group-toggle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"trailer-1" data-dojo-attach-point\x3d"openDataSection"\x3e\r\n        \x3cspan class\x3d"avenir-demi"\x3e${i18n.openData}\x3c/span\x3e\r\n        \x3cdiv class\x3d"js-open-data-toggle"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/CollabContactsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"avenir-demi trailer-quarter" data-dojo-attach-point\x3d"_label"\x3e${label}\x3c/div\x3e\r\n  \x3cdiv class\x3d"font-size--1 trailer-half" data-dojo-attach-point\x3d"_description"\x3e${description}\x3c/div\x3e\r\n  \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"manageBtn"\x3e${i18n.manage}\x3c/button\x3e\r\n  \x3cdiv class\x3d"leader-1" data-dojo-attach-point\x3d"contactsContainer"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/UserDefaults/templates/DefaultUserTypeRoleOverlay.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"hide js-content manage-usertype-role__content"\x3e\r\n    \x3cdiv class\x3d"trailer-2 manage-usertype-role__section"\x3e\r\n      \x3cdiv class\x3d"trailer-half position-relative flex manage-usertype-role__section-heading"\x3e\r\n        \x3cdiv class\x3d"avenir-bold flex-1 flex manage-usertype-role__section-title"\x3e\r\n          \x3cdiv class\x3d"flex-1"\x3e${i18n.myOrganization.manageLicenseTypes.licenseType}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"js-license-type-options"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"manage-usertype-role__section js-roles-section"\x3e\r\n      \x3cdiv class\x3d"avenir-bold trailer-half manage-usertype-role__section-heading manage-usertype-role__section-title"\x3e\r\n        ${i18n.myOrganization.manageLicenseTypes.role} \x3cspan class\x3d"js-role-tooltip tooltip default-role__tooltip" aria-label\x3d"${i18n.myOrganization.defaultsTab.defaultRoleTooltip}"\x3e${infoIcon}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"manage-usertype-role__role-wrapper"\x3e\r\n        \x3cdiv class\x3d"js-roles"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-role-error input-error-message"\x3e${i18n.myOrganization.inviteMembers.chooseValidRole}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"loader is-active padding-leader-3 padding-trailer-3 js-loader"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"loader-text"\x3e${i18n.myOrganization.manageLicenseTypes.loadingLicenseTypes}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/LicenseTypeSelect.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"license-type__options-container"\x3e\r\n    \x3cdiv\r\n      role\x3d"combobox"\r\n      aria-controls\x3d"${listboxId}"\r\n      aria-haspopup\x3d"listbox"\r\n      tabindex\x3d"0"\r\n      class\x3d"license-type__selected-option"\r\n      data-dojo-attach-point\x3d"_selectedOption"\r\n      aria-label\x3d"${i18n.myOrganization.manageLicenseTypes.manageLicenseType}"\r\n    \x3e\x3c/div\x3e\r\n    \x3cdiv\r\n      role\x3d"listbox"\r\n      id\x3d"${listboxId}"\r\n      tabindex\x3d"-1"\r\n      class\x3d"license-type__options"\r\n      data-dojo-attach-point\x3d"_options"\r\n    \x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"license-type__selected-line"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"license-type__selected-line"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/LicenseTypeOption.html":'\x3cdiv class\x3d"license-type-option"\x3e\r\n  \x3cdiv class\x3d"flex license-type-option__body"\x3e\r\n    \x3cdiv class\x3d"flex flex-1"\x3e\r\n      \x3cdiv class\x3d"margin-right-1 flex-column-justify-center hide"\x3e\r\n        \x3cinput type\x3d"radio" name\x3d"${radioName}" data-dojo-attach-point\x3d"_radioButton" aria-checked\x3d"false" \x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1 license-type-option__desc-container"\x3e\r\n        \x3cdiv class\x3d"flex hide" data-dojo-attach-point\x3d"userTypesAssigned"\x3e\r\n          \x3cdiv\x3e${i18n.myOrganization.membersTab.userTypesAssigned}\x3c/div\x3e\r\n          \x3cdiv class\x3d"assigned-user-type__count margin-left-1" data-dojo-attach-point\x3d"userTypesAssignedCount"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_userTypeName"\x3e\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_available"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center" data-dojo-attach-point\x3d"memberIcons"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"if-license-type-option-error margin-right-3"\x3e\r\n      \x3cspan class\x3d"license-type-option__error-text margin-right-half"\x3e\r\n        ${i18n.myOrganization.inviteMembers.chooseValidLicenseType}\r\n      \x3c/span\x3e\r\n      \x3cimg class\x3d"license-type-option__error-icon" src\x3d"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeD0iMiIgeT0iMCI+PHBhdGggZmlsbD0iI2M4NmE0YSIgZD0iTTExLjIyNSwwSDQuNjQ4TDAsNC42NXY2LjU3Nmw0LjY0OCw0LjY0OWg2LjU3Nmw0LjY1LTQuNjQ5VjQuNjVMMTEuMjI1LDB6IE05LjA3MSwxMy42MDdINi44MDR2LTIuMjY5aDIuMjY4VjEzLjYwN3ogTTkuMDcxLDkuMDcxSDYuODA0VjMuNDAyaDIuMjY4VjkuMDcxeiIvPjwvc3ZnPg\x3d\x3d"\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"block-group block-group-3-up tablet-block-group-1-up phone-block-group-1-up leader-half margin-left-2 expanded-icon-list" data-dojo-attach-point\x3d"_expandedAppList"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/AppIconWithLabel.html":'\x3cdiv class\x3d"block flex flex-align-center leader-half ${cssClasses}"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center" data-dojo-attach-point\x3d"content"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_appIcon"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"margin-left-half ${textCssClasses}" data-dojo-attach-point\x3d"_titleLabel"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"popover" class\x3d"text-left hide"\x3e\r\n      \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n      \x3cdiv class\x3d"popover-title"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"popover-text leader-half"\x3e${i18n.myOrganization.licensesTab.appBlocked}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/AppIcon.html":'\x3cdiv class\x3d"org-member-card__license-icon ${cssClasses}"\x3e\r\n    \x3cdiv class\x3d"app-icon__add-on-badge hide" data-dojo-attach-point\x3d"addonBadge"\x3e\x3c/div\x3e\r\n    \x3cimg data-dojo-attach-point\x3d"_img" alt\x3d""\x3e\r\n    \x3cdiv class\x3d"org-member-card__license-abbr hide" data-dojo-attach-point\x3d"_abbr"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/BlockedAppPopup.html":'\x3cdiv class\x3d"text-left hide"\x3e\r\n  \x3cspan tabindex\x3d"0" data-dojo-attach-point\x3d"closeIcon" class\x3d"info-tooltip__close popover-close icon-ui-close" tab-index\x3d"0" aria-label\x3d"${i18n.common.close}"\x3e\x3c/span\x3e\r\n  \x3cdiv class\x3d"popover-title"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"popover-text leader-half"\x3e${i18n.myOrganization.licensesTab.appBlocked}\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/licenses/UserTypeName.html":'\x3cdiv class\x3d"${cssClasses} font-size-1"\x3e\r\n  ${userType.name}\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/dijit/CompatibleBadge/templates/CompatibleBadge.html":'\x3cdiv class\x3d"flex ${cssClasses} compatible-badges"\x3e\r\n  \x3cdiv class\x3d"hide compatible-badge__label text-darker-gray" data-dojo-attach-point\x3d"_compatibleAllText"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-roles-section"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-apps-section"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-user-types-section"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/Popover/Popover.html":'\x3cdiv class\x3d"dropdown js-dropdown flex margin-right-1"\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-darker-gray flex flex-align-center js-dropdown-toggle" data-dojo-attach-point\x3d"_button"\x3e\r\n      \x3cspan class\x3d"margin-right-half hide compatible-badge__label font-size--1 text-darker-gray" data-dojo-attach-point\x3d"_buttonLabel"\x3e${buttonLabel}\x3c/span\x3e\r\n      \x3cspan class\x3d"btn-link ${buttonClass}"\x3e${buttonText}\x3c/span\x3e\r\n    \x3c/button\x3e\r\n    \x3cdiv class\x3d"compatible-badge__dropdown-mobile-mask" data-dojo-attach-point\x3d"_mobileMask"\x3e\x3c/div\x3e\r\n    \x3cnav class\x3d"dropdown-menu ${menuClass}" tabindex\x3d"0" data-dojo-attach-point\x3d"_menu"\x3e\r\n      \x3csection class\x3d"dropdown-section"\x3e\r\n        \x3cdiv class\x3d"position-relative"\x3e\r\n          \x3cbutton class\x3d"btn-link btn-link-darker-gray compatible-badge__dropdown-close"\r\n            data-dojo-attach-point\x3d"_mobileCloseBtn"\x3e${!icons.x.16}\x3c/button\x3e\r\n          \x3ch4 class\x3d"font-size-0 trailer-0 avenir-bold ${titleClass}"\x3e${contentTitle}\x3c/h4\x3e\r\n          \x3cdiv class\x3d"dropdown-section__content max-height leader-quarter trailer-quarter compatible-badge__list-container padding-right-half" data-dojo-attach-point\x3d"dropdownContent"\x3e\r\n            \x3cul class\x3d"filter-tree" data-dojo-attach-point\x3d"_list"\x3e\x3c/ul\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/section\x3e\r\n    \x3c/nav\x3e\r\n  \x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/DefaultLicenseRow.html":'\x3cdiv class\x3d"org-settings__card-list-row flex flex-align-center"\x3e\r\n  \x3cdiv class\x3d"js-thumb"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 font-size--1 margin-left-half text-ellipsis js-default-license-title"\x3e\r\n    ${app.title}\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/UserDefaults/templates/DefaultLicensesOverlay.html":'\x3cdiv class\x3d"assign-licenses grid-container"\x3e\r\n  \x3cdiv class\x3d"text-center leader-3 trailer-1 font-size-1 hide js-no-licenses"\x3e\r\n    ${i18n.myOrganization.licensesTab.noAddOnLicenses}\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-panels-container js-accordion"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/LicenseAssignPanel.html":'\x3csection class\x3d"accordion-section invite-members__content-pane assign-licenses__panel is-active"\x3e\r\n  \x3cdiv class\x3d"flex trailer-half assign-licenses__heading"\x3e\r\n      \x3ch4 class\x3d"accordion-title font-size-1 flex-1" data-dojo-attach-point\x3d"_heading" tabindex\x3d"0"\x3e${!icons.chevron-down.24}${panelName}\x3c/h4\x3e\r\n      \x3cbutton class\x3d"btn-link right margin-left-1 assign-licenses__deselect-btn hide" data-dojo-attach-point\x3d"_unassignedAllBtn"\x3e${i18n.myOrganization.manageLicenses.deselect}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"accordion-content"\x3e\r\n    \x3cdiv class\x3d"license-assign-panel__warning flex hide" data-dojo-attach-point\x3d"_warning"\x3e\r\n      \x3cdiv class\x3d"license-assign-panel__warning-icon flex flex-align-center margin-right-1"\x3e\r\n        ${!icons.exclamation-mark-circle.16}\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_warningText"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_rowsContainer"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"hide leader-1 margin-left-1 assign-licenses__extension-panel" data-dojo-attach-point\x3d"_extensionsPanel"\x3e\r\n      \x3cdiv class\x3d"font-size-2 trailer-half margin-left-1 assign-licenses__extension-heading"\x3e${i18n.myOrganization.inviteMembers.extensions}\x3c/div\x3e\r\n        \x3cdiv class\x3d"invite-members__tab-item-row flex assign-licenses__select-all-extensions" data-dojo-attach-point\x3d"_selectAllRow"\x3e\r\n          \x3cdiv class\x3d"margin-right-1 flex-column-justify-center"\x3e\r\n            \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"_selectAllCheckbox" \x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"invite-members__row-title-col flex-column-justify-center"\x3e\r\n            \x3cdiv class\x3d"license-assign-row__title"\x3e${i18n.myOrganization.inviteMembers.selectAll}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_extensionsContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/section\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/LicenseAssignRow.html":'\x3cdiv class\x3d"invite-members__tab-item-row assign-licenses__row flex"\x3e\r\n  \x3cdiv class\x3d"margin-right-1 flex-column-justify-center assign-licenses__input"\x3e\r\n    \x3cinput type\x3d"radio" name\x3d"${radioName}" class\x3d"hide" data-dojo-attach-point\x3d"_radioButton"\x3e\r\n    \x3cinput class\x3d"assign-licenses__checkbox" type\x3d"checkbox" data-dojo-attach-point\x3d"_checkbox"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_toggleSwitchEl"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_appIcon"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-1 assign-licenses__row-title"\x3e\r\n    \x3cdiv class\x3d"invite-members__row-title-col flex-column-justify-center"\x3e\r\n      \x3cdiv class\x3d"license-assign-row__title"\x3e\r\n        ${entitlement.title}\r\n        \x3cdiv class\x3d"font-size--2 assign-licenses__expired-badge licenses-card__expiration licenses-card__expiration--danger hide" data-dojo-attach-point\x3d"_expiration"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv\x3e\x3cbutton class\x3d"hide btn-link licenses-card__level-desc" data-dojo-attach-point\x3d"blockedBtn"\x3e${i18n.myOrganization.licensesTab.blocked}\x3c/button\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide js-assigned-popover"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide js-included-popover"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"hide js-double-popover"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-column-justify-center flex-1 assign-licenses__app-bundle-icons"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_appIconList"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_available"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/dijit/InviteMembers/templates/AppIconList.html":'\x3cdiv class\x3d"app-icon-list flex ${cssClasses}"\x3e\r\n\r\n\x3c/div\x3e',"url:arcgisonline/pages/organization/widgets/settings/cards/templates/DefaultCreditsCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-demi" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half  org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content flex org-settings__default-credits-content leader-half" data-dojo-attach-point\x3d"_content"\x3e\r\n    \x3cdiv class\x3d"flex flex-align-center margin-left-1 margin-right-half org-settings__default-credits-left-col"\x3e\r\n      \x3cselect class\x3d"leader-0" data-dojo-attach-point\x3d"_creditsSelect"\x3e\r\n        \x3coption value\x3d"noLimit"\x3e${i18n.noLimit}\x3c/option\x3e\r\n        \x3coption value\x3d"allocation"\x3e${i18n.setAllocation}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n      \x3cdiv class\x3d"margin-left-half org-settings__card-value-col org-settings__display-text-value position-relative" data-dojo-attach-point\x3d"_valueContainer"\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-darker-gray flex text-left" data-dojo-attach-point\x3d"_editBtn"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_displayValue"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"margin-left-1 org-settings__edit-icon"\x3e${!icons.inline.pencil.16}\x3c/div\x3e\r\n        \x3c/button\x3e\r\n        \x3cdiv class\x3d"hide org-settings__edit-form default-credits__edit-form" data-dojo-attach-point\x3d"_editForm"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_formContent"\x3e\r\n            \x3cinput class\x3d"js-credits-textbox" /\x3e\r\n            \x3cdiv class\x3d"input-error-message" data-dojo-attach-point\x3d"creditsErrorEl"\x3e${i18n.creditLimitOrg}\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n            \x3cbutton class\x3d"btn btn-link btn-link-darker-gray margin-right-1" data-dojo-attach-point\x3d"_cancelBtn"\x3e\r\n              ${i18n.cancel}\r\n            \x3c/button\x3e\r\n            \x3cbutton class\x3d"btn btn-link btn-link-darker-gray" data-dojo-attach-point\x3d"_saveBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"org-settings__org-credits inline-block"\x3e\r\n        ${i18n.orgCredits}\x3cspan class\x3d"margin-left-half" data-dojo-attach-point\x3d"_orgCreditsValue"\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/DefaultEsriAccess.html":'\x3cdiv class\x3d"org-settings__toggle-switch-row flex"\x3e\r\n  \x3cdiv class\x3d"flex-1"\x3e${i18n.memberDefaultsTab.enableEsriAccess}\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-toggle-switch"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/ToggleOpenDataRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__toggle-switch-row margin-left-0 flex"\x3e\r\n    \x3cdiv class\x3d"flex-1 margin-right-2"\x3e${i18n.toggleLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"js-toggle-switch"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"configureContainer"\x3e\r\n    ${i18n.configure} \x3ca data-dojo-attach-point\x3d"configureLink" target\x3d"_blank"\x3e\x3c/a\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/OpenDataGroupsRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv class\x3d"org-settings__card-label-col margin-right-2 trailer-half"\x3e\r\n    \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"_label"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"list"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"js-pagination"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/OpenDataGroup.html":'\x3cdiv class\x3d"org-settings__open-data-group flex flex-align-center"\x3e\r\n  \x3cdiv class\x3d"js-thumb"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-1 margin-left-1 org-settings__open-data-group-right-col"\x3e\r\n    \x3cdiv class\x3d"flex-1 text-ellipsis margin-right-2" title\x3d"${group.title}"\x3e${group.title}\x3c/div\x3e\r\n    \x3cdiv class\x3d"nowrap"\x3e\r\n      \x3cbutton class\x3d"btn-link padding-right-1 margin-right-half font-size--1 open-data-group__assign-btn" data-dojo-attach-point\x3d"assignBtn"\x3e${i18n.assignMembers}\x3c/button\x3e\r\n      \x3ca class\x3d"font-size--1" href\x3d"${shareLink}" target\x3d"_blank"\x3e${i18n.shareContent}\x3c/a\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/invite-user-row.html":'\x3cdiv class\x3d"member-browser-row member-browser-row--select flex flex-center ${_activeClass}"\x3e\r\n  \x3cdiv class\x3d"flex-1 flex margin-right-half overflow-hidden"\x3e\r\n    \x3cdiv class\x3d"js-member-browser-row-thumbnail"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide invite-user-row__collab-org-badge font-size--1 margin-right-2 tooltip-multiline" data-dojo-attach-point\x3d"collabOrgBadge"\x3e\x3cspan class\x3d"hide" data-dojo-attach-point\x3d"collabOrgBadgeIcon"\x3e${!icons.inline.group.16}\x3c/span\x3e \x3cspan data-dojo-attach-point\x3d"collabOrgNameEl"\x3e\x3c/span\x3e\x3c/div\x3e\r\n  \x3cspan class\x3d"js-member-browser-row-checkbox"\x3e\x3c/span\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/group/widgets/templates/members/invite.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"js-group-invite-browser"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/group/widgets/templates/members/invite-loader.html":'\x3cdiv class\x3d"leader-1 trailer-1"\x3e\r\n  \x3cp class\x3d"font-size--1"\x3e${text}\x3c/p\x3e\r\n  \x3cdiv class\x3d"progress-bar progress-bar--flush js-progress-bar"\r\n       role\x3d"progressbar" \r\n       aria-valuenow\x3d"0" \r\n       aria-valuemin\x3d"0" \r\n       aria-valuemax\x3d"100"\x3e\r\n    \x3cdiv class\x3d"progress-bar-fill progress-bar-fill--blue js-progress-bar-fill" style\x3d"width:0%"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cp class\x3d"trailer-0 font-size--2 js-progress-bar-percentage"\x3e0%\x3c/p\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/group/widgets/templates/members/invite-error.html":'\x3cdiv\x3e\r\n  \x3cp class\x3d"leader-half trailer-half"\x3e${errorStrings.text}\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-notadded max-height"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',"url:arcgisonline/pages/group/widgets/templates/members/invite-error-row.html":'\x3cdiv class\x3d"flex panel panel-white ${border}"\x3e\r\n  \x3cdiv class\x3d"js-member-thumbnail"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"flex-1 flex flex-column margin-left-half"\x3e\r\n    \x3ch4 class\x3d"member-browser-row-name avenir-bold font-size--1 trailer-0"\x3e${fullName}\x3c/h4\x3e\r\n    \x3cp class\x3d"trailer-0 font-size--2"\x3e${username}\x3c/p\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:arcgisonline/pages/organization/widgets/templates/RoleInfo.html":'\x3cdiv class\x3d"block flex leader-half"\x3e\r\n  \x3cspan class\x3d"inline-block margin-right-quarter text-ellipsis"\x3e${role.name}\x3c/span\x3e\r\n  \x3cbutton class\x3d"role-item-info btn-link btn-link-darker-gray info-icon" data-dojo-attach-point\x3d"infoBtn"\x3e${!icons.info.16}\x3c/button\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/rows/templates/LocationTrackingRow.html":'\x3cdiv class\x3d"org-settings__card-row"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"disableDSContainer"\x3e\r\n    \x3cstrong data-dojo-attach-point\x3d"disableDSEl"\x3e\x3c/strong\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"loader" class\x3d"loader padding-leader-1 padding-trailer-2"\x3e\r\n    \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"enabledInfo"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"openBtn"\x3e${i18n.openTrackViewer}\x3c/button\x3e\r\n    \x3cdiv class\x3d"leader-1 org-settings__enterprise-config-card" data-dojo-attach-point\x3d"infoCard"\x3e\r\n      \x3cdiv class\x3d"flex"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"checkIcon" class\x3d"margin-right-half org-settings__enterprise-card-check-icon"\x3e${!icons.check-circle-f.16}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"pauseIcon" class\x3d"margin-right-half"\x3e\r\n          \x3cdiv class\x3d"location-tracking__pause-icon"\x3e${!icons.pause-f.16}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex-1 font-size--1"\x3e\r\n          \x3cdiv class\x3d"avenir-demi" data-dojo-attach-point\x3d"statusText"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half" data-dojo-attach-point\x3d"startedInfo"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half trailer-half flex" data-dojo-attach-point\x3d"retainContainer"\x3e\r\n            \x3clabel class\x3d"flex"\x3e\r\n              \x3cdiv class\x3d"margin-right-half"\x3e${i18n.retainLabel}\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"retainReadonly"\x3e${i18n.retainOptions.thirtyDays}\x3c/div\x3e\r\n              \x3cselect data-dojo-attach-point\x3d"retainSelect"\x3e\r\n                \x3coption value\x3d"30"\x3e${i18n.retainOptions.thirtyDays}\x3c/option\x3e\r\n                \x3coption value\x3d"90"\x3e${i18n.retainOptions.ninetyDays}\x3c/option\x3e\r\n                \x3coption value\x3d"6"\x3e${i18n.retainOptions.sixMonths}\x3c/option\x3e\r\n                \x3coption value\x3d"1"\x3e${i18n.retainOptions.oneYear}\x3c/option\x3e\r\n                \x3coption value\x3d"ALWAYS"\x3e${i18n.retainOptions.always}\x3c/option\x3e\r\n              \x3c/select\x3e\r\n            \x3c/label\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"dropdown js-dropdown org-settings__role-actions-col" role\x3d"menu" data-dojo-attach-point\x3d"_actions"\x3e\r\n          \x3cbutton class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle" tabindex\x3d"0" data-dojo-attach-point\x3d"actionsBtn"\x3e\r\n            ${!icons.ellipsis-f.16}\r\n          \x3c/button\x3e\r\n          \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n            \x3cbutton class\x3d"dropdown-link hide" role\x3d"menuitem" data-dojo-attach-point\x3d"upgradeBtn"\x3e${i18n.upgrade}\x3c/button\x3e\r\n            \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"pauseBtn"\x3e${i18n.pause}\x3c/button\x3e\r\n            \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"resumeBtn"\x3e${i18n.resume}\x3c/button\x3e\r\n            \x3cbutton class\x3d"dropdown-link hide" role\x3d"menuitem" data-dojo-attach-point\x3d"disableBtn"\x3e${i18n.disable}\x3c/button\x3e\r\n          \x3c/nav\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 location-tracking__roles-section" data-dojo-attach-point\x3d"rolesSection"\x3e\r\n        \x3cdiv\x3e${i18n.rolesViewTracks}\x3c/div\x3e\r\n        \x3cdiv class\x3d"block-group block-group-3-up tablet-block-group-1-up phone-block-group-1-up" data-dojo-attach-point\x3d"rolesContainer"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex leader-1 font-size--1 location-tracking__roles-info-container"\x3e\r\n      \x3cdiv class\x3d"flex-0"\x3e${!icons.inline.information-f.16}\x3c/div\x3e\r\n      \x3cdiv class\x3d"flex-1" data-dojo-attach-point\x3d"rolesInfoDesc"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex flex-wrap leader-1"\x3e\r\n    \x3cbutton class\x3d"btn btn-clear margin-right-1" data-dojo-attach-point\x3d"enableBtn"\x3e${i18n.enable}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"flex leader-1 font-size--1 location-tracking__license-required-container hide" data-dojo-attach-point\x3d"licenseInfoContainer"\x3e\r\n    \x3cdiv class\x3d"flex-0"\x3e${!icons.inline.information-f.16}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1" data-dojo-attach-point\x3d"licenseInfoDesc"\x3e${i18n.licenseInfoDesc}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/EnableLocationTrackDialog.html":"\x3cdiv\x3e\r\n  \x3cp\x3e\r\n    ${enableMessages.enable1}\r\n    \x3cul\x3e\r\n      \x3cli\x3e${enableMessages.enableBullet11}\x3c/li\x3e\r\n      \x3cli\x3e${enableMessages.enableBullet2}\x3c/li\x3e\r\n      \x3cli\x3e${enableMessages.enableBullet31}\x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/p\x3e\r\n  \x3cp\x3e${enableMessages.enable2}\r\n    \x3cul\x3e\r\n      \x3cli\x3e${enableMessages.enableBullet2}\x3c/li\x3e\r\n      \x3cli\x3e${enableMessages.enableBullet32}\x3c/li\x3e\r\n    \x3c/ul\x3e\r\n  \x3c/p\x3e\r\n\x3c/div\x3e\r\n",
"url:arcgisonline/pages/organization/widgets/settings/rows/templates/FederatedServerRow.html":'\x3cdiv class\x3d"fed-server-card padding-leader-half accordion-section is-active"\x3e\r\n  \x3cdiv class\x3d"fed-server-card__title accordion-title flex" tabindex\x3d"0" data-dojo-attach-point\x3d"titleEl"\x3e\r\n    \x3cdiv class\x3d"flex-1 flex accordion-title__btn"\x3e\r\n      ${!icons.chevron-down.24}\r\n      \x3cdiv class\x3d"position-relative flex margin-left-half"\x3e\r\n        \x3cbutton class\x3d"btn-link btn-link-darker-gray flex flex-align-center" data-dojo-attach-point\x3d"editNameBtn"\x3e\r\n          \x3cdiv class\x3d"margin-right-half" data-dojo-attach-point\x3d"urlTitle"\x3e${server.name}\x3c/div\x3e\r\n          \x3ccalcite-icon scale\x3d"s" icon\x3d"pencil"\x3e\x3c/calcite-icon\x3e\r\n        \x3c/button\x3e\r\n        \x3cdiv class\x3d"hide org-settings__edit-form" data-dojo-attach-point\x3d"nameForm"\x3e\r\n          \x3cdiv\x3e\r\n            \x3cdiv class\x3d"js-name-input"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"flex leader-half org-settings__row-actions"\x3e\r\n            \x3cbutton class\x3d"control-bar__btn margin-right-quarter" data-dojo-attach-point\x3d"cancelNameBtn"\x3e${i18n.cancel}\x3c/button\x3e\r\n            \x3cbutton class\x3d"control-bar__btn" data-dojo-attach-point\x3d"saveNameBtn"\x3e${i18n.save}\x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-0 dropdown js-dropdown" role\x3d"menu" data-dojo-attach-point\x3d"actions"\x3e\r\n      \x3cbutton\r\n        class\x3d"btn btn-link btn-link-darker-gray js-dropdown-toggle"\r\n        tabindex\x3d"0"\r\n        data-dojo-attach-point\x3d"actionsBtn"\r\n      \x3e\r\n        ${!icons.ellipsis-f.16}\r\n      \x3c/button\x3e\r\n      \x3cnav class\x3d"dropdown-menu dropdown-right" role\x3d"menu"\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"detailsBtn"\x3e${i18n.actions.details}\x3c/button\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"validateBtn"\x3e${i18n.actions.validate}\x3c/button\x3e\r\n        \x3cbutton class\x3d"dropdown-link" role\x3d"menuitem" data-dojo-attach-point\x3d"configureBtn"\x3e${i18n.actions.configure}\x3c/button\x3e\r\n        \x3cbutton class\x3d"dropdown-link hide" role\x3d"menuitem" data-dojo-attach-point\x3d"urlsBtn"\x3e${i18n.actions.updateUrls}\x3c/button\x3e\r\n      \x3c/nav\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"fed-server-card__content accordion-content"\x3e\r\n    \x3cdiv class\x3d"flex fed-server-card__row"\x3e\r\n      \x3cdiv class\x3d"fed-server__label-col flex flex-align-center"\x3e${i18n.statusLabel}\x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"statusEl" class\x3d"flex flex-align-center"\x3e\r\n        \x3cdiv class\x3d"org-settings__save-loader margin-right-1 inline-block" \x3e\x3c/div\x3e${i18n.status.validating}\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex fed-server-card__row"\x3e\r\n      \x3cdiv class\x3d"fed-server__label-col"\x3e${i18n.type}\x3c/div\x3e\r\n      \x3cbutton class\x3d"btn btn-link" data-dojo-attach-point\x3d"typeEl"\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex fed-server-card__row"\x3e\r\n      \x3cdiv class\x3d"fed-server__label-col"\x3e${i18n.serviceUrl}\x3c/div\x3e\r\n      \x3ccalcite-link href\x3d"${server.url}" target\x3d"_blank" class\x3d"fed-server__label" data-dojo-attach-point\x3d"serviceUrlLink"\x3e${server.url}\x3c/calcite-link\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"flex fed-server-card__row"\x3e\r\n      \x3cdiv class\x3d"fed-server__label-col"\x3e${i18n.adminUrl}\x3c/div\x3e\r\n      \x3cdiv class\x3d"fed-server__label" data-dojo-attach-point\x3d"serverEl"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/ServerDetailsOverlay.html":'\x3cdiv class\x3d"server-details"\x3e\r\n  \x3cp class\x3d"js-desc"\x3e\x3c/p\x3e\r\n  \x3cdiv class\x3d"js-accordion"\x3e\r\n    \x3cdiv class\x3d"server-details-card accordion-section is-active hide"\x3e\r\n      \x3cdiv class\x3d"server-details-card__title accordion-title flex" tabindex\x3d"0"\x3e\r\n        ${chevronDown}${i18nSettings.serverTypes}\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"accordion-content margin-left-2 server-details__type-container"\x3e\r\n        \x3cdiv class\x3d"js-no-type-desc hide"\x3e${i18nSettings.noTypeDesc}\x3c/div\x3e\r\n        \x3cdiv class\x3d"js-types-container"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"server-details-card accordion-section is-active hide"\x3e\r\n      \x3cdiv class\x3d"server-details-card__title accordion-title flex" tabindex\x3d"0"\x3e${chevronDown}${i18nSettings.urls}\x3c/div\x3e\r\n      \x3cdiv class\x3d"accordion-content margin-left-3"\x3e\r\n        \x3cdiv class\x3d"trailer-1"\x3e\r\n          \x3cdiv class\x3d"avenir-demi"\x3e${i18nSettings.serviceUrl}\x3c/div\x3e\r\n          \x3ca href\x3d"${server.url}" target\x3d"_blank"\x3e${server.url}\x3c/a\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"avenir-demi"\x3e${i18nSettings.adminUrl}\x3c/div\x3e\r\n          \x3cdiv class\x3d"js-admin-url"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3ccalcite-accordion scale\x3d"l" icon-position\x3d"start" class\x3d"js-license-roles-card trailer-1"\x3e\r\n      \x3ccalcite-accordion-item heading\x3d"${i18nSettings.licenseRoles}" expanded\x3d"true"\x3e\r\n        \x3cdiv class\x3d"margin-left-2"\x3e\r\n          \x3ctable class\x3d"server-details__table"\x3e\r\n            \x3cthead\x3e\r\n              \x3ctr\x3e\r\n                \x3cth class\x3d"server-details__th margin-right-1"\x3e${i18nSettings.role}\x3c/th\x3e\r\n                \x3cth class\x3d"server-details__th server-details__exp-col"\x3e${i18nSettings.expiration}\x3c/th\x3e\r\n              \x3c/tr\x3e\r\n            \x3c/thead\x3e\r\n            \x3ctbody class\x3d"js-license-roles"\x3e\x3c/tbody\x3e\r\n          \x3c/table\x3e\r\n        \x3c/div\x3e\r\n      \x3c/calcite-accordion-item\x3e\r\n    \x3c/calcite-accordion\x3e\r\n    \x3ccalcite-accordion scale\x3d"l" icon-position\x3d"start" class\x3d"js-licenses-extensions-card"\x3e\r\n      \x3ccalcite-accordion-item heading\x3d"${i18nSettings.licenseExtensions}" expanded\x3d"true"\x3e\r\n        \x3cdiv class\x3d"margin-left-2"\x3e\r\n          \x3ctable class\x3d"server-details__table"\x3e\r\n            \x3cthead\x3e\r\n              \x3ctr\x3e\r\n                \x3cth class\x3d"server-details__th margin-right-1"\x3e${i18nSettings.extension}\x3c/th\x3e\r\n                \x3cth class\x3d"server-details__th server-details__exp-col"\x3e${i18nSettings.expiration}\x3c/th\x3e\r\n              \x3c/tr\x3e\r\n            \x3c/thead\x3e\r\n            \x3ctbody class\x3d"js-license-extensions"\x3e\x3c/tbody\x3e\r\n          \x3c/table\x3e\r\n        \x3c/div\x3e\r\n      \x3c/calcite-accordion-item\x3e\r\n    \x3c/calcite-accordion\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/ServerDetails/templates/TypeInfo.html":'\x3cdiv class\x3d""\x3e\r\n  \x3cdiv class\x3d"avenir-demi"\x3e${name}\x3c/div\x3e\r\n  \x3cp class\x3d"trailer-0"\x3e${description}\x3c/p\x3e\r\n\x3c/div\x3e\r\n',"url:arcgisonline/pages/organization/widgets/settings/ServerDetails/templates/LicenseRow.html":'\x3ctr\x3e\r\n  \x3ctd class\x3d"server-details__td"\x3e${name}\x3c/td\x3e\r\n  \x3ctd class\x3d"server-details__td server-details__exp-col"\x3e${expiration}\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/ServerUrlsOverlay.html":'\x3cdiv class\x3d"edit-server-urls"\x3e\r\n    \x3clabel\x3e\r\n        ${i18nSettings.serviceUrl}\r\n        \x3cinput type\x3d"text" class\x3d"js-url-input" value\x3d"${server.url}"\x3e\r\n        \x3cdiv class\x3d"input-error-message js-service-url-error"\x3e${i18nSettings.required.serviceUrl}\x3c/div\x3e\r\n    \x3c/label\x3e\r\n    \x3clabel\x3e\r\n        ${i18nSettings.adminUrl}\r\n        \x3cinput type\x3d"text" class\x3d"js-admin-url-input" value\x3d"${server.adminUrl}"\x3e\r\n        \x3cdiv class\x3d"input-error-message js-admin-url-error"\x3e${i18nSettings.required.adminUrl}\x3c/div\x3e\r\n    \x3c/label\x3e\r\n    \x3cdiv class\x3d"edit-server-urls__warning"\x3e\r\n        ${exclamation}\r\n        ${i18nSettings.warning}\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/FederateServerOverlay.html":'\x3cdiv class\x3d"federate-server-overlay__content"\x3e\r\n  \x3cdiv class\x3d"js-step1-content leader-1"\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3clabel for\x3d"service-url" class\x3d"avenir-demi trailer-0"\x3e${i18n.serviceUrl}\x3c/label\x3e\r\n      \x3cdiv class\x3d"font-size--1 trailer-half"\x3e${i18n.serviceDesc}\x3c/div\x3e\r\n      \x3cinput type\x3d"text" id\x3d"service-url" class\x3d"js-service-url"\x3e\r\n      \x3cdiv class\x3d"input-error-message js-service-url-error"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 federate-server-overlay__url-example" title\x3d"${i18n.urlInputPlaceHolder}"\x3e${i18n.urlInputPlaceHolder}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3clabel for\x3d"admin-url" class\x3d"avenir-demi trailer-0"\x3e${i18n.adminUrl}\x3c/label\x3e\r\n      \x3cdiv class\x3d"font-size--1 trailer-half"\x3e${i18n.adminDesc}\x3c/div\x3e\r\n      \x3cinput type\x3d"text" id\x3d"admin-url" class\x3d"js-admin-url"\x3e\r\n      \x3cdiv class\x3d"input-error-message js-admin-url-error"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"font-size--1 federate-server-overlay__url-example" title\x3d"${i18n.adminUrlInputPlaceHolder}"\x3e${i18n.adminUrlInputPlaceHolder} \x3cspan class\x3d"js-admin-url-info"\x3e\x3c/span\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.credentials}\x3c/label\x3e\r\n      \x3cdiv class\x3d"font-size--1 trailer-half"\x3e${i18n.credentialsDesc}\x3c/div\x3e\r\n      \x3cdiv class\x3d"margin-left-1 leader-half"\x3e\r\n        \x3cdiv\x3e\r\n          \x3clabel for\x3d"username-entry" class\x3d"avenir-demi trailer-0"\x3e${i18n.username}\x3c/label\x3e\r\n          \x3cinput type\x3d"text" id\x3d"username-entry" class\x3d"js-username"\x3e\r\n          \x3cdiv class\x3d"input-error-message js-username-error"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-1"\x3e\r\n          \x3clabel for\x3d"password-entry" class\x3d"avenir-demi trailer-0"\x3e${i18n.password}\x3c/label\x3e\r\n          \x3cinput type\x3d"password" id\x3d"password-entry" class\x3d"js-password"\x3e\r\n          \x3cdiv class\x3d"input-error-message js-password-error"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"js-step2-content leader-1"\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e${i18n.optionalConfiguration} \x3ca href\x3d"" target\x3d"_blank" class\x3d"js-learn-server-roles"\x3e${i18n.learnServerRoles}\x3c/a\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"leader-1"\x3e\r\n      \x3c!-- Hosting Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-hosting-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.hostingServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-hosting-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-hosting-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-hosting-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1 margin-right-2"\x3e${i18n.hostingServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Geoanalytics Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-geoanalytics-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.geoanalyticsServer.name}\x3c/label\x3e\r\n\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-geoanalytics-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-geoanalytics-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-geoanalytics-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.geoanalyticsServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Raster Analysis Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-rasteranalysis-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.rasterAnalysisServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-raster-analysis-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-rasteranalysis-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-rasteranalysis-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.rasterAnalysisServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Image Hosting Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-imagehosting-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.imageHostingServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-image-hosting-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-imagehosting-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-imagehosting-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.imageHostingServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Notebook Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-notebook-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.notebookServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-notebook-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-notebook-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-notebook-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.notebookServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Mission Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-mission-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.missionServer.name}\x3c/label\x3e\r\n\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-mission-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-mission-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-mission-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half leader-half font-size--1"\x3e${i18n.missionServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Video Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-video-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.videoServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-video-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-video-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-video-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half leader-half font-size--1"\x3e${i18n.videoServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Workflow Manager Server --\x3e\r\n      \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-workflow-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.workflowManagerServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-workflow-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-workflow-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-workflow-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.workflowManagerServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n       \x3c!-- Knowledge Server --\x3e\r\n       \x3cdiv class\x3d"org-settings__security-switch-row margin-left-0 js-knowledge-container"\x3e\r\n        \x3cdiv class\x3d"flex flex-align-center margin-left-0"\x3e\r\n          \x3cdiv class\x3d"flex-1 margin-right-2"\x3e\r\n            \x3clabel class\x3d"avenir-demi trailer-0"\x3e${i18n.knowledgeServer.name}\x3c/label\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"js-knowledge-switch"\x3e\x3c/div\x3e\r\n          \x3cdiv class\x3d"leader-half font-size--1 js-knowledge-configured hide"\x3e\x3c/div\x3e\r\n          \x3cbutton class\x3d"btn btn-link org-settings__license-required js-knowledge-license hide"\x3e${i18n.missingRequirements}\x3c/button\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"leader-half font-size--1"\x3e${i18n.knowledgeServer.description}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"text-left js-requirements"\x3e\r\n      \x3cspan tabindex\x3d"0" class\x3d"info-tooltip__close popover-close icon-ui-close js-requirements-close" tab-index\x3d"0" aria-label\x3d"${i18n.close}"\x3e\x3c/span\x3e\r\n      \x3cdiv class\x3d"popover-title"\x3e${i18n.missingRequirements}\x3c/div\x3e\r\n      \x3cdiv class\x3d"popover-text leader-half js-requirements-content"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/sharing/dijit/dialog/templates/AdministrationUrlExamples.html":'\x3cdiv class\x3d"federatedServersDlg__url-examples-help"\x3e\r\n  \x3cp\x3e\r\n    ${i18n.urlExamplesDescription}\r\n    \x3ca href\x3d"${link.helpLink}" target\x3d"_blank"\x3e\r\n      ${i18n.learnMore}\r\n      \x3ci class\x3d"icon-ui-link-external"\x3e\x3c/i\x3e\r\n    \x3c/a\x3e\r\n  \x3c/p\x3e\r\n  \x3cdiv\x3e\r\n    \x3ctable class\x3d"table"\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e${i18n.gisServer}\x3c/td\x3e\r\n        \x3ctd\x3ehttps://gisserver.domain.com:6443/arcgis\x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"${hide}"\x3e\r\n        \x3ctd\x3e${i18n.notebookServer}\x3c/td\x3e\r\n        \x3ctd\x3ehttps://notebookserver.domain.com:11443/arcgis\x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"${hide}"\x3e\r\n        \x3ctd\x3e${i18n.missionServer}\x3c/td\x3e\r\n        \x3ctd\x3ehttps://missionserver.domain.com:20443/arcgis\x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d"${hideVideoServer}"\x3e\r\n        \x3ctd\x3e${i18n.videoServer}\x3c/td\x3e\r\n        \x3ctd\x3ehttps://videoserver.domain.com:21443/arcgis\x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3c!-- \x3ctr\x3e\r\n        \x3ctd\x3e${i18n.workflowManagerServer}\x3c/td\x3e\r\n        \x3ctd\x3ehttps://workflowserver.domain.com:13443/arcgis\x3c/td\x3e\r\n      \x3c/tr\x3e --\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/cards/templates/FederatedServersCard.html":'\x3cdiv class\x3d"org-settings__card trailer-1"\x3e\r\n  \x3cdiv class\x3d"trailer-0 org-settings__card-header flex" data-dojo-attach-point\x3d"_header"\x3e\r\n    \x3cdiv class\x3d"flex-1"\x3e\r\n      \x3ch2 class\x3d"font-size-2 trailer-0 avenir-demi" data-dojo-attach-point\x3d"_title"\x3e\x3c/h2\x3e\r\n      \x3cdiv class\x3d"font-size--1 leader-half  org-settings__card-desc" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"hide org-settings__card-btn-container" data-dojo-attach-point\x3d"_btnContainer"\x3e\r\n    \x3cbutton class\x3d"hide btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"_headerBtn"\x3e\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"validateBtn"\x3e${i18n.validate}\x3c/button\x3e\r\n    \x3cbutton class\x3d"btn btn-clear org-settings__card-header-btn" data-dojo-attach-point\x3d"addBtn"\x3e${i18n.add}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"org-settings__card-content" data-dojo-attach-point\x3d"_content"\x3e\r\n    \x3cdiv class\x3d"loader org-settings__card-loader leader-2" data-dojo-attach-point\x3d"_loader"\x3e\r\n        \x3cdiv class\x3d"loader-bars"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/JumpToSection.html":'\x3cdiv class\x3d"hide jump-to-section__container"\x3e\r\n  \x3cfieldset class\x3d"org-settings__jump-to-section margin-left-2"\x3e\r\n    \x3clegend class\x3d"font-size-0 trailer-1 scroll-to-section__legend"\x3e\r\n      \x3cdiv\x3e${i18n.jumpToSection}\x3c/div\x3e\r\n    \x3c/legend\x3e\r\n    \x3cdiv class\x3d"leader-2"\x3e\r\n      \x3cul class\x3d"flex-column clear-list-style" data-dojo-attach-point\x3d"links"\x3e\x3c/ul\x3e\r\n    \x3c/div\x3e\r\n  \x3c/fieldset\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/MobileNavItem.html":'\x3ca role\x3d"tab" aria-selected\x3d"false" class\x3d"subnav-link padding-left-3"\x3e\r\n  \x3cspan class\x3d"subnav-link__text no-pointer" data-dojo-attach-point\x3d"nameEl"\x3e\x3c/span\x3e\r\n\x3c/a\x3e\r\n',"url:arcgisonline/pages/organization/widgets/templates/MigrateUserDefaultsAlert.html":'\x3cdiv class\x3d"org-overview__security-alert flex-column flex-center hide"\x3e\r\n  \x3cdiv class\x3d"flex org-overview__security-alert-content"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-1 org-overview__security-alert-icon"\x3e${!icons.exclamation-mark-triangle.32}\x3c/div\x3e\r\n    \x3cdiv class\x3d"flex-1 flex org-overview__alert-content"\x3e\r\n      \x3cp class\x3d"font-size--1 trailer-0 flex-1 margin-right-2 org-overview__alert-desc" data-dojo-attach-point\x3d"alertContent"\x3e\r\n        \x3cspan class\x3d"org-overview__security-alert-title avenir-bold"\x3e${i18n.warning}\x3c/span\x3e ${i18n.migrateWarning}\r\n      \x3c/p\x3e\r\n      \x3cdiv class\x3d"flex-0 org-overview__security-alert-btn" data-dojo-attach-point\x3d"btnContainer"\x3e\r\n        \x3cbutton class\x3d"btn btn-clear" data-dojo-attach-point\x3d"actionBtn"\x3e${i18n.migrateBtn}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/onboard/templates/OnboardBanner.html":'\x3cdiv class\x3d"onboard-banner flex"\x3e\r\n    \x3cdiv class\x3d"onboard-banner-container flex ${contentClasses}"\x3e\r\n        \x3cdiv class\x3d"flex-1 flex"\x3e\r\n            \x3cdiv class\x3d"flex"\x3e\r\n                \x3cspan class\x3d"onboard-banner__light-bulb-icon"\x3e${!icons.inline.lightbulb.24}\x3c/span\x3e\r\n                \x3cdiv class\x3d"${messageClasses}" data-dojo-attach-point\x3d"contentContainer"\x3e\r\n                    \x3cdiv class\x3d"margin-right-half left"\x3e${!bannerText}\x3c/div\x3e\r\n                    \x3cbutton class\x3d"btn-link" data-dojo-attach-point\x3d"_learnMoreBtn"\x3e${i18n.myOrganization.onboarding.learnMore}\x3c/button\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"flex flex-0"\x3e\r\n            \x3cbutton class\x3d"btn btn-clear onboard-banner_dismiss-btn" data-dojo-attach-point\x3d"_closeBtn"\x3e\r\n                ${i18n.myOrganization.onboarding.dismiss}\r\n            \x3c/button\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/settings/templates/HomePageOnboardingOverlay.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"homepage-onboarding__banner"\x3e\r\n    \x3cimg class\x3d"homepage-onboarding__banner-image js-banner-image"\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"homepage-onboarding__content padding-leader-1 padding-trailer-1 text-center"\x3e\r\n    \x3cdiv class\x3d"font-size-1 avenir-demi trailer-1"\x3e${i18n.newWay}\x3c/div\x3e\r\n    \x3cdiv class\x3d"homepage-onboarding__items margin-left-4 margin-right-4"\x3e\r\n      \x3cdiv class\x3d"homepage-onboarding__item trailer-1 flex"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"homepage-onboarding__item-icon js-browser-icon"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"margin-left-1 text-left"\x3e${i18n.bullet1}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"homepage-onboarding__item trailer-1 flex"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"homepage-onboarding__item-icon js-grid-icon"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"margin-left-1 text-left"\x3e${i18n.bullet2}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"homepage-onboarding__item trailer-1 flex"\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv class\x3d"homepage-onboarding__item-icon js-wrench-icon"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"margin-left-1 text-left"\x3e${i18n.bullet3}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size-1 avenir-demi trailer-half hide"\x3e${i18n.readyToStart}\x3c/div\x3e\r\n    \x3cbutton class\x3d"btn btn-large js-launch-editor"\x3e${i18n.launchEditor}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"homepage-onboarding__footer leader-half trailer-half padding-left-1 padding-right-1 flex js-warning-container"\x3e\r\n    \x3cdiv class\x3d"homepage-onboarding__footer-warning margin-right-half js-warning-icon"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1"\x3e${i18n.warning}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:arcgisonline/pages/organization/widgets/templates/SqlAlert.html":'\x3cdiv class\x3d"hide sql-alert trailer-1 org-overview__security-alert org-overview__security-alert--info flex-column flex-center"\x3e\r\n  \x3cdiv class\x3d"flex flex-align-center"\x3e\r\n    \x3cdiv class\x3d"flex-0 margin-right-1 org-overview__security-alert-icon"\x3e${!icons.info.32}\x3c/div\x3e\r\n    \x3cdiv class\x3d"font-size--1 trailer-0 flex-1"\x3e\r\n      \x3cdiv class\x3d"avenir-bold"\x3e${i18n.title}\x3c/div\x3e\r\n      \x3cdiv\x3e\r\n        ${i18n.description} \x3ca href\x3d"${learnUrl}" target\x3d"_blank"\x3e${i18n.learnMore} ${!icons.inline-end.launch.16}\x3c/a\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cbutton class\x3d"btn-link btn-link-darker-gray margin-left-1" data-dojo-attach-point\x3d"dismissBtn"\x3e${!icons.x.24}\x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"*now":function(U){U(['dojo/i18n!*preload*arcgisonline/pages/organization/widgets/nls/_settings*["ar","bg","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("arcgisonline/pages/organization/widgets/_settings","require exports tslib esri/request dojo/text!./templates/_settings2.html dojo/i18n!../../../nls/org-settings dojo/Deferred dojo/topic dojo/string dojo/promise/all dojo/on dojo/has dijit/_TemplatedMixin dijit/_WidgetBase ../../dijit/SearchInput ./settings/tabs/ArcGISOnlineTab ./settings/tabs/LivingAtlasTab ./settings/tabs/GeneralTab ./settings/tabs/HomePageTab ./settings/tabs/GalleryTab ./settings/tabs/MapTab ./settings/tabs/ItemsTab ./settings/tabs/HostedLayersTab ./settings/tabs/GroupsTab ./settings/tabs/WebhooksTab ./settings/tabs/UtilityServicesTab ./settings/tabs/MemberRolesTab ./settings/tabs/CreditsTab ./settings/tabs/SecurityTab ./settings/tabs/CollaborationsTab ./settings/tabs/MarketplaceTab ./settings/tabs/MemberDefaultsTab ./settings/tabs/OpenDataTab ./settings/tabs/HubTab ./settings/tabs/LocationTrackingTab ./settings/tabs/ServersTab ./settings/SearchSuggestion ./settings/JumpToSection ../../utils/icons ../../portal/PortalUser ../../pageUtil ../../utils/a11y ../../utils/alerts ../../utils/dom ../../utils/keys ../../utils/organization ../../utils/subscription ./settings/MobileNavItem ./MigrateUserDefaultsAlert ./onboard/OnboardBanner ./settings/settings-shared ./settings/HomePageOnboardingOverlay ./SqlAlert ./settings/tabs/SettingsTab ../../../sharing/util ../../../esriGeowConfig ../../../tsutils/declareDecorator".split(" "),function(U,
M,a,b,k,f,m,h,u,r,e,v,g,p,n,q,l,c,d,w,t,z,x,y,A,B,D,C,E,H,G,F,I,J,K,P,T,S,L,N,O,Q,V,X,Z,ca,R,Y,ba,aa,W,da,ea,ja,fa,ha,la){b=a.__importDefault(b);k=a.__importDefault(k);f=a.__importDefault(f);m=a.__importDefault(m);h=a.__importDefault(h);u=a.__importDefault(u);r=a.__importDefault(r);e=a.__importDefault(e);v=a.__importDefault(v);g=a.__importDefault(g);p=a.__importDefault(p);n=a.__importDefault(n);q=a.__importDefault(q);l=a.__importDefault(l);c=a.__importDefault(c);d=a.__importDefault(d);w=a.__importDefault(w);
t=a.__importDefault(t);z=a.__importDefault(z);x=a.__importDefault(x);y=a.__importDefault(y);A=a.__importDefault(A);B=a.__importDefault(B);D=a.__importDefault(D);C=a.__importDefault(C);E=a.__importDefault(E);H=a.__importDefault(H);G=a.__importDefault(G);F=a.__importDefault(F);I=a.__importDefault(I);J=a.__importDefault(J);K=a.__importDefault(K);P=a.__importDefault(P);T=a.__importDefault(T);S=a.__importDefault(S);L=a.__importDefault(L);N=a.__importDefault(N);O=a.__importDefault(O);Q=a.__importDefault(Q);
V=a.__importDefault(V);X=a.__importDefault(X);Z=a.__importDefault(Z);ca=a.__importDefault(ca);R=a.__importDefault(R);Y=a.__importDefault(Y);ba=a.__importDefault(ba);aa=a.__importDefault(aa);da=a.__importDefault(da);ea=a.__importDefault(ea);ja=a.__importDefault(ja);fa=a.__importDefault(fa);ha=a.__importDefault(ha);la=a.__importDefault(la);return function(){function ka(){this.templateString=k.default;this.i18n=f.default;this.icons=L.default;this.DEFAULT_TAB=W.SettingsTabKeys.General;this.LOCALIZED_PROP_KEY=
"localizedOrgProperties";this._tabs=[];this.mobileNavItems=[];this._cards=[];this._searchSuggestions=[];this._tabContents=[];this.searchStarted=!1;this.inherited(arguments)}ka.prototype.postMixInProperties=function(){this.i18n=f.default};ka.prototype.postCreate=function(){this.inherited(arguments);this._detectPermissions();this._canViewOrgUsers&&(this._canManageCredits||this._canManageCollaborations||this._canManageRoles||this._canManageSecurity||this._canManageServers||this._canManageUtilityServices||
this._canManageWebhooks||this._canManageWebsite||this._canManageMarketplace)||(window.location.href="error.html?c\x3dAccessDeniedResource");this.tabsLegend.textContent=f.default.tabsLegend;this._render();this._addEventListeners()};ka.prototype.startup=function(){this.inherited(arguments);return ca.default.checkUserCultureSetting(this.portalUser)};ka.prototype._render=function(){var ia=this;this._searchInput=new n.default({placeholder:this.i18n.searchSettings,screenReadersLabel:this.i18n.relatedResults,
cssTheme:"control-bar__search-input flex-1",dontDebounce:!0},this.domNode.querySelector(".js-control-bar-search"));this._searchInput.searchInput.autocomplete="off";this._jumpToSection=new S.default({telemetry:this.telemetry},this.domNode.querySelector(".js-jump-to-section"));this.setupNewHomePageOnboarding(!0);var ma=this.portalUser.userRole;this.portal.isPortal||!ma.isAdmin()&&!ma.canManageSecurity()||(this.migrateDefaultsAlert=new ba.default({baseClass:"trailer-1"},this.domNode.querySelector(".js-migrate-alert")));
(0,r.default)({localizedProperties:this._getLocalizedProperties(),allAdmins:this._getAllAdmins(),groups:this._canManageWebsite?this.getGroups():null,selfNoAuth:this._isPortal?null:this.getSelfNoAuth(),fedServers:this._isPortal&&(this._canManageServers||this._canManageUtilityServices)?this.portal.getFederatedServers():null}).then(function(na){ia.portal.allAdmins=na.allAdmins.map(function(pa){var sa=new N.default(a.__assign(a.__assign({},pa),{portal:ia.portal}));sa.id=pa.id;return sa});ia.portal.orgGroups=
na.groups;ia._setupTabs().then(function(){ia.loader.classList.remove("is-active");X.default.showNode(ia.content);ia.positionScrollToPanel();ia.setMenuLeftPos();ia.setScrollToTop();var pa=O.default.getQueryParams(),sa=pa.search;pa=pa.tab;if(sa)ia._searchInput.setValue(sa,!0),ia._search(sa,!0);else{var ta=ia.tab||pa||ia.DEFAULT_TAB;!ia._tabs.some(function(oa){return oa.key===ta})&&0<ia._tabs.length&&(ta=ia._tabs[0].key);0<ia._tabs.length&&(ia._selectTab(ta,!1,!0),ia.scrollTo&&h.default.publish("scroll-to/".concat(ia.scrollTo)))}})},
function(){ia.portal.allAdmins=[]})};ka.prototype.setupNewHomePageOnboarding=function(ia){var ma;void 0===ia&&(ia=!1);var na=new Date("September 15, 2020"),pa=ca.default.hasModernHomePageEnabled(this.portal);if(!this._isPortal&&(null===(ma=this.portalUser)||void 0===ma?0:ma.canManageWebsite)&&!pa&&(ca.default.shouldShowOnboard("homePageOnboardBanner",na)&&(this.onboardBanner=new aa.default({bannerText:this.i18n.onboarding.newHomePage.banner,learnMoreText:this.i18n.onboarding.newHomePage.whatsNew,
hideClose:!0,cookieKey:"homePageOnboardBanner",baseClass:"homepage-onboarding__onboard-banner",contentClasses:"homepage-onboarding__onboard-content",messageClasses:"padding-leader-quarter"},this.domNode.querySelector(".js-onboard-banner"))),this.onboardBanner&&ca.default.shouldShowOnboard("homePageOnboardOverlay",na)&&ia))this.onboardLearnMoreClick()};ka.prototype.positionScrollToPanel=function(){var ia=this.domNode.querySelector(".org-settings__main-content").getBoundingClientRect();this._jumpToSection.position(ia.right)};
ka.prototype.setScrollToTop=function(){var ia=this.domNode.querySelector(".org-settings__grid-container").getBoundingClientRect();0<=window.pageYOffset&&0<=ia.top?this._tabsContainer.style.maxHeight="initial":this._tabsContainer.clientHeight>window.innerHeight&&(ia=!!document.body.querySelector(".info-banner--bottom"),this._tabsContainer.style.maxHeight="calc(100vh - ".concat(ia?"4rem":"2.5rem",")"),this._tabsContainer.style.overflowY="auto")};ka.prototype._addEventListeners=function(){var ia=this;
this.own(h.default.subscribe("settings-tab/select",this._selectTab.bind(this)),h.default.subscribe("search/update",this._onSearchUpdate.bind(this)),h.default.subscribe("search/focus",function(ma){ia._onSearchUpdate(ma,!0)}),h.default.subscribe("search-suggestion/select",this._onSuggestionSelect.bind(this)),h.default.subscribe("settings/save-success",function(ma){h.default.publish("alert/show",{type:"success",text:ma||ia.i18n.myOrganization.settingsSaveSuccess})}),h.default.subscribe("settings/save-failure",
function(ma){ma&&h.default.publish("alert/show",{type:"error",text:ma})}),h.default.subscribe("onboard-banner/learn-more",this.onboardLearnMoreClick.bind(this)),h.default.subscribe("onboard-banner/hide",function(){ia.onboardBanner&&(X.default.hideNode(ia.onboardBanner.domNode),ia.setScrollToTop())}),h.default.subscribe("onboard-banner/show",function(){ia.onboardBanner?X.default.showNode(ia.onboardBanner.domNode):ia.setupNewHomePageOnboarding();ia.setScrollToTop()}),(0,e.default)(document.documentElement,
"click",function(ma){ma.target!==ia._searchInput.searchInput&&(ia.searchStarted=!1,ia._destroySearchSuggestions())}),(0,e.default)(this._searchInput.searchInput,"keydown",function(ma){var na;ma.keyCode===Z.default.ENTER&&(null===(na=ia.telemetry)||void 0===na?void 0:na.logEvent({category:"Search",action:ia.searchStarted?"update":"start",label:ia._searchInput.searchInput.value}),ia.searchStarted=!0,ia._search(ia._searchInput.searchInput.value,!0))}),(0,e.default)(window,"resize",this.handleResize.bind(this)),
(0,e.default)(window,"scroll",this.setScrollToTop.bind(this)),(0,e.default)(this.mobileTitleBtn,"click",function(){ia.mobileTitleBtn.classList.toggle("is-active");ia.mobileMenu.classList.toggle("is-active")}),(0,e.default)(this.closeMobileNavBtn,"click",function(){ia.mobileMenu.classList.remove("is-active");ia.mobileTitleBtn.classList.remove("is-active")}))};ka.prototype.onboardLearnMoreClick=function(){var ia=this,ma=new da.default({portal:this.portal,telemetry:this.telemetry});ma.open();this.own((0,e.default)(ma,
"close",function(){return ia.onboardBanner.focusOnMore()}))};ka.prototype.setMenuLeftPos=function(){if((0,v.default)("ie")||(0,v.default)("trident")){var ia=this.menuPlaceholder.getBoundingClientRect();this._tabsContainer.style.left="".concat(ia.left,"px")}};ka.prototype.handleResize=function(){this.setMenuLeftPos();this.positionScrollToPanel()};ka.prototype.getGroups=function(){return O.default.fetchAllResources("".concat(this.portal.url,"community/groups"),{q:"orgid:".concat(this.portal.id," AND (access:org OR access:public)")})};
ka.prototype.createTabContent=function(ia,ma,na){var pa=this,sa=new m.default,ta=new ia({portal:this.portal,portalUser:this.portalUser,telemetry:this.telemetry},this.domNode.querySelector(ma));this._tabContents.push(ta);na?ta.startup().then(function(){sa.resolve()}):(ta.startup(),sa.resolve());return sa.then(function(){pa._cards=pa._cards.concat(ta.getCards())})};ka.prototype._onSearchUpdate=function(ia,ma){this._searchTimstamp&&1E3>(new Date).getTime()-this._searchTimstamp||(this._destroySearchSuggestions(),
ia?this._findCardsMatch(ia):ma||this._selectTab(this._selectedTab?this._selectedTab.key:this.DEFAULT_TAB),Q.default.postToLiveRegion(u.default.substitute(1===this._searchSuggestions.length?this.i18n.foundResult:this.i18n.foundResults,{num:this._searchSuggestions.length,term:ia})),0<this._searchSuggestions.length&&(X.default.appendChildren(this._searchSuggestions.map(function(na){return na.domNode}),this._suggestionsContainer),X.default.showNode(this._suggestionsContainer)))};ka.prototype._findCardsMatch=
function(ia){var ma=this;2<ia.length&&this._cards.forEach(function(na){if(!na.shouldBeHidden){var pa=!1;na.rows.forEach(function(ta){ta.label&&ta.match(ia.toLowerCase())&&(pa=!0,ma._searchSuggestions.push(new T.default({keyword:"".concat(ma.i18n.tabs[na.tab]," / ").concat(na.name," / ").concat(ta.label),card:na,row:ta})))});if(!pa&&na.match(ia,!0)&&!na.shouldBeHidden){var sa="".concat(ma.i18n.tabs[na.tab]," / ").concat(na.name);ma._searchSuggestions.push(new T.default({keyword:sa,card:na}))}}})};
ka.prototype._destroySearchSuggestions=function(){0<this._searchSuggestions.length&&(this._searchSuggestions.forEach(function(ia){ia.destroy()}),this._searchSuggestions=[],X.default.hideNode(this._suggestionsContainer),this._suggestionsContainer.innerHTML="")};ka.prototype._onSuggestionSelect=function(ia){var ma,na=ia.keyword,pa=ia.card;ia=ia.row;null===(ma=this.telemetry)||void 0===ma?void 0:ma.logEvent({category:"Search Suggestion",label:na});this._destroySearchSuggestions();this._selectTab(pa.tab,
!0);ia?ia.domNode.scrollIntoView({behavior:"smooth"}):pa.domNode.scrollIntoView({behavior:"smooth"})};ka.prototype._search=function(ia,ma){var na=this,pa;this._searchTimstamp=(new Date).getTime();this._destroySearchSuggestions();if(ia){var sa=[];this._tabContents.forEach(function(ta){ta.hideSearchTitle()});this._cards.forEach(function(ta){var oa=na._tabContents.filter(function(qa){return qa.matchKey(ta.tab)})[0];!ta.shouldBeHidden&&ta.search(ia,ma)&&(oa&&oa.showSearchTitle(),sa.push(ta))});this._jumpToSection.update(sa);
this.mobileTitle.textContent=this._title.textContent=u.default.substitute(this.i18n.searchResults,{term:ia});this._selectedTab&&this._selectedTab.deselect();this.selectedMobileItem&&this.selectedMobileItem.deselect();O.default.updateQueryParams({tab:void 0,search:ia});null===(pa=this.migrateDefaultsAlert)||void 0===pa?void 0:pa.hide()}else this._selectTab(this._selectedTab?this._selectedTab.key:this.DEFAULT_TAB)};ka.prototype._detectPermissions=function(){var ia,ma,na,pa,sa=ca.default.getUserRole(this.portalUser),
ta=null===(ia=this.portal.subscriptionInfo)||void 0===ia?void 0:ia.type;ia="enabled"===this.portal.creditAssignments||"validated"===this.portal.creditAssignments;this._isAdmin=sa.isAdmin();this._isPortal=this.portal.isPortal;this._canCreateItems=this._isAdmin||sa.canCreateItem();this._canShareItemsToOrg=this._isAdmin||sa.canShareItemToOrg();this._canViewOrgContent=this._isAdmin||sa.canViewOrgUserContent();this._canManageSecurity=this._isAdmin||sa.canManageSecurity();this._canManageWebsite=this._isAdmin||
sa.canManageWebsite();this._canManageWebhooks=this._isAdmin||sa.canManageWebhooks();this._canManageCollaborations=this._isAdmin||sa.canManageCollaborations();this._canManageMarketplace=this._isAdmin||sa.canManageMarketplace();this._canManageRoles=this._isAdmin||sa.canManageRoles();this._canManageServers=this._isAdmin||sa.canManageServers();this._canManageUtilityServices=this._isAdmin||sa.canManageUtilityServices();this._canManageCredits=this._isAdmin||sa.canManageCredits();this._canManageLicenses=
this._isAdmin||sa.canManageLicenses();this._canPublishFeatures=this._isAdmin||sa.canPublishFeatures();this._canViewOrgUsers=this._isAdmin||sa.canViewOrgUsers();this._canAccessUserDefaults=this._canManageSecurity||this._canManageCredits&&ha.default.creditBudgetingEnabled&&ia;this._canAccessLocationTracking=ha.default.locationTrackingUIEnabled&&this._canManageUtilityServices&&this._canPublishFeatures&&this._canCreateItems&&this._canShareItemsToOrg&&this._canViewOrgContent&&(this._isPortal||!this._isPortal&&
this._canManageLicenses)&&!this.portal.isKubernetes();this.canShowCollaborationsTab=ha.default.collaborationsEnabled&&this._canManageCollaborations&&(!this.portal.isPortal&&this.portal.canHavePartnerCollab()||ca.default.canShowDistributedCollaborations(this.portal.isPortal,this.portal.created,null===(ma=this.portal.subscriptionInfo)||void 0===ma?void 0:ma.type));ma=ha.default.creditBudgetingExcludedSubscriptionTypes||[];this.canShowCreditsTab=!this._isPortal&&ha.default.creditBudgetingEnabled&&this._canManageCredits&&
-1===ma.indexOf(ta)&&"Developer Subscription"!==ta;this.canShowOpenDataTab=!this._isPortal&&this._canManageWebsite&&!R.default.isDeveloperSubscription(ta,this.portal.isPortal);this.canShowHubTab=!this._isPortal&&this._canManageWebsite&&(null===(pa=null===(na=this.portal.subscriptionInfo)||void 0===na?void 0:na.hubSettings)||void 0===pa?void 0:pa.enabled)};ka.prototype._setupTabs=function(){var ia=this,ma=[];[{key:W.SettingsTabKeys.General,show:this._canManageWebsite||this._canManageSecurity,createFunc:function(){return ia.createTabContent(c.default,
".js-general-tab-content",!1)}},{key:W.SettingsTabKeys.HomePage,show:this._canManageWebsite,createFunc:function(){return ia.createTabContent(d.default,".js-home-page-tab-content",!1)}},{key:W.SettingsTabKeys.Gallery,show:this._canManageWebsite,createFunc:function(){return ia.createTabContent(w.default,".js-gallery-tab-content",!1)}},{key:W.SettingsTabKeys.Map,show:this._canManageWebsite,createFunc:function(){return ia.createTabContent(t.default,".js-map-tab-content",!1)}},{key:W.SettingsTabKeys.Items,
show:this._canManageWebsite||this._canManageSecurity,createFunc:function(){return ia.createTabContent(z.default,".js-items-tab-content",!1)}},{key:W.SettingsTabKeys.HostedLayers,show:!1,createFunc:function(){return ia.createTabContent(x.default,".js-hosted-layers-tab-content",!1)}},{key:W.SettingsTabKeys.Groups,show:this._canManageWebsite,createFunc:function(){return ia.createTabContent(y.default,".js-groups-tab-content",!1)}},{key:W.SettingsTabKeys.Webhooks,show:this._isPortal&&this._canManageWebhooks,
createFunc:function(){return ia.createTabContent(A.default,".js-webhooks-tab-content",!1)}},{key:W.SettingsTabKeys.UtilityServices,show:this._canManageUtilityServices,createFunc:function(){return ia.createTabContent(B.default,".js-utility-tab-content",!1)}},{key:W.SettingsTabKeys.ArcGISOnline,show:this._isPortal&&ha.default.portalAGOConfigEnabled&&(this._canManageWebsite||this._canManageUtilityServices),createFunc:function(){return ia.createTabContent(q.default,".js-agol-tab-content",!1)}},{key:W.SettingsTabKeys.LivingAtlas,
show:this._isPortal&&this._canManageWebsite,createFunc:function(){return ia.createTabContent(l.default,".js-livingatlas-tab-content",!1)}},{key:W.SettingsTabKeys.Servers,show:this._isPortal&&this._canManageServers&&ha.default.federatedServerConfigEnabled,createFunc:function(){return ia.createTabContent(P.default,".js-servers-tab-content",!0)}},{key:W.SettingsTabKeys.MemberRoles,show:this._canManageRoles,createFunc:function(){return ia.createTabContent(D.default,".js-member-roles-tab-content",!1)}},
{key:W.SettingsTabKeys.NewMemberDefaults,show:this._canAccessUserDefaults,createFunc:function(){return ia.createTabContent(F.default,".js-member-defaults-tab-content",!0)}},{key:W.SettingsTabKeys.Marketplace,show:!this._isPortal&&this._canManageMarketplace,createFunc:function(){return ia.createTabContent(G.default,".js-marketplace-tab-content",!1)}},{key:W.SettingsTabKeys.Collaborations,show:this.canShowCollaborationsTab,createFunc:function(){return ia.createTabContent(H.default,".js-collaborations-tab-content",
!1)}},{key:W.SettingsTabKeys.Credits,show:this.canShowCreditsTab,createFunc:function(){return ia.createTabContent(C.default,".js-credits-tab-content",!1)}},{key:W.SettingsTabKeys.Security,show:this._canManageSecurity,createFunc:function(){return ia.createTabContent(E.default,".js-security-tab-content",!0)}},{key:W.SettingsTabKeys.OpenData,show:this.canShowOpenDataTab,createFunc:function(){return ia.createTabContent(I.default,".js-open-data-tab-content",!1)}},{key:W.SettingsTabKeys.Hub,show:this.canShowHubTab,
createFunc:function(){return ia.createTabContent(J.default,".js-hub-tab-content",!1)}},{key:W.SettingsTabKeys.OrgExtensions,show:this._canAccessLocationTracking,createFunc:function(){return ia.createTabContent(K.default,".js-location-tracking-tab-content",!1)}}].forEach(function(na){na.show&&(ia._tabs.push(new ja.default({key:na.key})),na.createFunc&&(ia.portal.isPortal||ia.portal.useStandardizedQuery||na.key!==W.SettingsTabKeys.Security||(ia.sqlAlert=new ea.default({portal:ia.portal},ia.domNode.querySelector(".js-sql-alert")),
e.default.once(ia.sqlAlert,"destroy",function(){ia.sqlAlert=void 0})),ma.push(na.createFunc())),na=new Y.default({key:na.key}),ia.mobileNavItems.push(na),ia.mobileNavContent.appendChild(na.domNode))});0<this._tabs.length&&X.default.appendChildren(this._tabs.map(function(na){return na.domNode}),this.tabsList);return(0,r.default)(ma)};ka.prototype._selectTab=function(ia,ma,na){var pa=this,sa;na||(null===(sa=this.telemetry)||void 0===sa?void 0:sa.logEvent({category:"Menu",action:ia}));V.default.clearAlerts();
this._cards.forEach(function(oa){return oa.resetHighlights()});this.mobileTitle.textContent=this._title.textContent=this.i18n.tabs[ia];this._selectedTab&&this._selectedTab.deselect();this.selectedMobileItem&&this.selectedMobileItem.deselect();this.mobileTitleBtn.classList.remove("is-active");this.mobileMenu.classList.remove("is-active");this._tabs.some(function(oa){oa.key===ia&&(pa._selectedTab=oa,oa.select());return oa.key===ia});this.mobileNavItems.some(function(oa){oa.key===ia&&(pa.selectedMobileItem=
oa,oa.select());return oa.key===ia});var ta=[];this._cards.forEach(function(oa){oa.tab!==ia||oa.shouldBeHidden?oa.hide():(oa.show(),ta.push(oa))});X.default.showHide(this.domNode.querySelector(".js-no-privileges"),0===ta.length);this._tabContents.forEach(function(oa){oa.hideSearchTitle()});this._jumpToSection.update(ta.filter(function(oa){return!!oa.name}));ma||this._searchInput.setValue("",!0);this.migrateDefaultsAlert&&(ia===W.SettingsTabKeys.NewMemberDefaults?this.migrateDefaultsAlert.shouldMigrate?
this.migrateDefaultsAlert.show():this.migrateDefaultsAlert.hide():this.migrateDefaultsAlert.hide());this.sqlAlert&&(ia===W.SettingsTabKeys.Security?this.sqlAlert.show():this.sqlAlert.hide());window.scrollTo(0,0);O.default.updateQueryParams({tab:ia,search:void 0})};ka.prototype._createLocalizedPropDefault=function(){this.portal.localizedOrgProperties={default:{name:this.portal.name,description:null}}};ka.prototype._getAllAdmins=function(){var ia="".concat(ha.default.restBaseUrl,"portals/self/users/search");
return O.default.fetchAllResources(ia,{start:1,num:100,query:"role:org_admin",sortField:"fullname",sortOrder:"asc"})};ka.prototype.getSelfNoAuth=function(){var ia=this,ma=this.portal.culture||"en",na=this.portal.region||"WO",pa="".concat(location.protocol,"//").concat(this.portal.portalHostname,"/sharing/rest/portals/self");return(0,b.default)({url:pa,content:{f:"json",default:!0,culture:ma,region:na}}).then(function(sa){ia.portal.selfNoAuth=sa})};ka.prototype._getLocalizedProperties=function(){var ia=
this,ma=new m.default,na="".concat(ha.default.restBaseUrl,"portals/self/resources"),pa="".concat(na,"/").concat(this.LOCALIZED_PROP_KEY);fa.default.request({url:na,content:{start:1,num:100}}).then(function(sa){sa&&!sa.code?sa.resources.filter(function(ta){return ta.key===ia.LOCALIZED_PROP_KEY})[0]?fa.default.request({url:pa}).then(function(ta){ta&&!ta.code?(ia.portal.localizedOrgProperties=ta,ia.portal.localizedOrgProperties.default||(ia.portal.localizedOrgProperties.default={name:ia.portal.name,
description:null})):ia._createLocalizedPropDefault();ma.resolve()},function(){ia._createLocalizedPropDefault();ma.resolve()}):(ia._createLocalizedPropDefault(),ma.resolve()):(ia._createLocalizedPropDefault(),ma.resolve())},function(){ma.resolve()});return ma};return ka=a.__decorate([(0,la.default)(p.default,g.default)],ka)}()});