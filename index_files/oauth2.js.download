/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */

/*!
 * Calcite Web - Calcite Design Components in CSS, JS and HTML
 * @version v1.2.5
 * @license Apache-2.0
 * @copyright 2018 Esri
 * @link https://github.com/Esri/calcite-web
 */

/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */

/**
 * @license text 2.0.16 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

/**
 * @license i18n 2.0.6 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/i18n/LICENSE
 */

var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,a){!n&&hasProp(e,a)||(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[a]=t:(e[a]||(e[a]={}),mixin(e[a],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var a=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return a.requireType=e,a.requireModules=i,n&&(a.originalError=n),a}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var a,s,r,o,c,l,d,u,h,f,p,m=n&&n.split("/"),v=k.map,g=v&&v["*"];if(e&&(e=e.split("/"),l=e.length-1,k.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&m&&(p=m.slice(0,m.length-1),e=p.concat(e)),t(e),e=e.join("/")),i&&v&&(m||g)){s=e.split("/");e:for(r=s.length;r>0;r-=1){if(c=s.slice(0,r).join("/"),m)for(o=m.length;o>0;o-=1)if((a=getOwn(v,m.slice(0,o).join("/")))&&(a=getOwn(a,c))){d=a,u=r;break e}!h&&g&&getOwn(g,c)&&(h=getOwn(g,c),f=r)}!d&&h&&(d=h,u=f),d&&(s.splice(0,u,d),e=s.join("/"))}return getOwn(k.pkgs,e)||e}function i(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName)return t.parentNode.removeChild(t),!0})}function a(e){var t=getOwn(k.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function r(e,t,i,a){var r,o,c,l,d=null,u=t?t.name:null,h=e,f=!0,p="";return e||(f=!1,e="_@r"+(q+=1)),l=s(e),d=l[0],e=l[1],d&&(d=n(d,u,a),o=getOwn(j,d)),e&&(d?p=i?e:o&&o.normalize?o.normalize(e,function(e){return n(e,u,a)}):-1===e.indexOf("!")?n(e,u,a):e:(p=n(e,u,a),l=s(p),d=l[0],p=l[1],i=!0,r=w.nameToUrl(p))),c=!d||o||i?"":"_unnormalized"+(O+=1),{prefix:d,name:p,parentMap:t,unnormalized:!!c,url:r,originalName:h,isDefine:f,id:(d?d+"!"+p:p)+c}}function o(e){var t=e.id,n=getOwn(A,t);return n||(n=A[t]=new w.Module(e)),n}function c(e,t,n){var i=e.id,a=getOwn(A,i);!hasProp(j,i)||a&&!a.defineEmitComplete?(a=o(e),a.error&&"error"===t?n(a.error):a.on(t,n)):"defined"===t&&n(j[i])}function l(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(A,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function d(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),_.push(e)}),globalDefQueue=[])}function u(e){delete A[e],delete I[e]}function h(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,a){var s=i.id,r=getOwn(A,s);!r||e.depMatched[a]||n[s]||(getOwn(t,s)?(e.defineDep(a,j[s]),e.check()):h(r,t,n))}),n[i]=!0)}function f(){var e,t,n=1e3*k.waitSeconds,s=n&&w.startTime+n<(new Date).getTime(),r=[],o=[],c=!1,d=!0;if(!b){if(b=!0,eachProp(I,function(e){var n=e.map,l=n.id;if(e.enabled&&(n.isDefine||o.push(e),!e.error))if(!e.inited&&s)a(l)?(t=!0,c=!0):(r.push(l),i(l));else if(!e.inited&&e.fetched&&n.isDefine&&(c=!0,!n.prefix))return d=!1}),s&&r.length)return e=makeError("timeout","Load timeout for modules: "+r,null,r),e.contextName=w.contextName,l(e);d&&each(o,function(e){h(e,{},{})}),s&&!t||!c||!isBrowser&&!isWebWorker||x||(x=setTimeout(function(){x=0,f()},50)),b=!1}}function p(e){hasProp(j,e[0])||o(r(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function v(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function g(){var e;for(d();_.length;){if(e=_.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));p(e)}w.defQueueMap={}}var b,y,w,C,x,k={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},A={},I={},E={},_=[],j={},P={},T={},q=1,O=1;return C={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?j[e.map.id]=e.exports:e.exports=j[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(k.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(E,e.id)||{},this.map=e,this.shim=getOwn(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,a=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{a=w.execCb(n,s,i,a)}catch(t){e=t}else a=w.execCb(n,s,i,a);if(this.map.isDefine&&void 0===a&&(t=this.module,t?a=t.exports:this.usingExports&&(a=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else a=s;if(this.exports=a,this.map.isDefine&&!this.ignore&&(j[n]=a,req.onResourceLoad)){var r=[];each(this.depMaps,function(e){r.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,r)}u(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,n)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=r(e.prefix);this.depMaps.push(i),c(i,"defined",bind(this,function(i){var a,s,d,h=getOwn(T,this.map.id),f=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,m=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(f=i.normalize(f,function(e){return n(e,p,!0)})||""),s=r(e.prefix+"!"+f,this.map.parentMap,!0),c(s,"defined",bind(this,function(e){this.map.normalizedMap=s,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((d=getOwn(A,s.id))&&(this.depMaps.push(s),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):h?(this.map.url=w.nameToUrl(h),void this.load()):(a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),a.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(A,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&u(e.map.id)}),l(e)}),a.fromText=bind(this,function(n,i){var s=e.name,c=r(s),d=useInteractive;i&&(n=i),d&&(useInteractive=!1),o(c),hasProp(k.config,t)&&(k.config[s]=k.config[t]);try{req.exec(n)}catch(e){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}d&&(useInteractive=!0),this.depMaps.push(c),w.completeLoad(s),m([s],a)}),void i.load(e.name,m,a,k))})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){I[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,a;if("string"==typeof e){if(e=r(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,a=getOwn(C,e.id))return void(this.depExports[t]=a(this));this.depCount+=1,c(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?c(e,"error",bind(this,this.errback)):this.events.error&&c(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,i=A[n],hasProp(C,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(A,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:k,contextName:e,registry:A,defined:j,urlFetched:P,defQueue:_,defQueueMap:{},Module:y,makeModuleMap:r,nextTick:req.nextTick,onError:l,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=k.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(k[t]||(k[t]={}),mixin(k[t],e,!0,!0)):k[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(T[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),k.shim=n),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(k.paths[n]=e.location),k.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(A,function(e,t){e.inited||e.map.unnormalized||(e.map=r(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,a){function s(n,i,c){var d,u,h;return a.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?l(makeError("requireargs","Invalid require call"),c):t&&hasProp(C,n)?C[n](A[t.id]):req.get?req.get(w,n,t,s):(u=r(n,t,!1,!0),d=u.id,hasProp(j,d)?j[d]:l(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(g(),w.nextTick(function(){g(),h=o(r(null,t)),h.skipMap=a.skipMap,h.init(n,i,c,{enabled:!0}),f()}),s)}return a=a||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var i,a=e.lastIndexOf("."),s=e.split("/")[0],r="."===s||".."===s;return-1!==a&&(!r||a>1)&&(i=e.substring(a,e.length),e=e.substring(0,a)),w.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(j,r(e,t,!1,!0).id)},specified:function(e){return e=r(e,t,!1,!0).id,hasProp(j,e)||hasProp(A,e)}}),t||(s.undef=function(e){d();var n=r(e,t,!0),a=getOwn(A,e);a.undefed=!0,i(e),delete j[e],delete P[n.url],delete E[e],eachReverse(_,function(t,n){t[0]===e&&_.splice(n,1)}),delete w.defQueueMap[e],a&&(a.events.defined&&(E[e]=a.events),u(e))}),s},enable:function(e){getOwn(A,e.id)&&o(e).enable()},completeLoad:function(e){var t,n,i,s=getOwn(k.shim,e)||{},r=s.exports;for(d();_.length;){if(n=_.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);p(n)}if(w.defQueueMap={},i=getOwn(A,e),!t&&!hasProp(j,e)&&i&&!i.inited){if(!(!k.enforceDefine||r&&getGlobal(r)))return a(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));p([e,s.deps||[],s.exportsFn])}f()},nameToUrl:function(e,t,n){var i,a,s,r,o,c,l,d=getOwn(k.pkgs,e);if(d&&(e=d),l=getOwn(T,e))return w.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(i=k.paths,a=e.split("/"),s=a.length;s>0;s-=1)if(r=a.slice(0,s).join("/"),c=getOwn(i,r)){isArray(c)&&(c=c[0]),a.splice(0,s,c);break}o=a.join("/"),o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js"),o=("/"===o.charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+o}return k.urlArgs&&!/^blob\:/.test(o)?o+k.urlArgs(e,o):o},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=v(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=v(e);if(!a(t.id)){var n=[];return eachProp(A,function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return n.push(i),!0})}),l(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var a,s,r=defContextName;return isArray(e)||"string"==typeof e||(s=e,isArray(t)?(e=t,t=n,n=i):e=[]),s&&s.context&&(r=s.context),a=getOwn(contexts,r),a||(a=contexts[r]=req.s.newContext(r)),s&&a.configure(s),a.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return i.type=e.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i},req.load=function(e,t,n){var i,a=e&&e.config||{};if(isBrowser)return i=req.createNode(a,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,a.onNodeCreated&&a.onNodeCreated(i,a,t,n),currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{setTimeout(function(){},0),importScripts(n),e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var i,a;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript())&&(e||(e=i.getAttribute("data-requiremodule")),a=contexts[i.getAttribute("data-requirecontext")]),a?(a.defQueue.push([e,t,n]),a.defQueueMap[e]=!0):globalDefQueue.push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requireLib",function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("calcite-web",t):e.calcite=t()}(this,function(){"use strict";function e(e,t){var n;for(n=t;n;n=n.parentNode){var i=n&&n.getAttribute&&n.getAttribute("class")||"",a=new RegExp("(\\s|^)"+e+"(\\s|$)").test(i);if(1===n.nodeType&&a)break}return n}function t(e){return Array.isArray(e)?e:Array.prototype.slice.call(e)}function n(e,n){return t((n||document).querySelectorAll(e))}function i(e,t){return t.filter(function(t){var n=e.toLowerCase();return-1!==t.innerHTML.toLowerCase().indexOf(n)})}function a(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.getAttribute("class"))}function s(e,t){t.split(" ").forEach(function(t){if(!a(e,t)){var n=e.getAttribute("class")||"";e.setAttribute("class",n+" "+t)}})}function r(e,t){t.split(" ").forEach(function(t){var n=(e.getAttribute("class")||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");a(e,t)&&e.setAttribute("class",n)})}function o(e,t){a(e,t)?r(e,t):s(e,t)}function c(e){e=t(e),e.forEach(function(e){r(e,"is-active")})}function l(e){e=t(e),e.forEach(function(e){s(e,"is-active")})}function d(e,t){c(e),s(t,"is-active")}function u(e){e.forEach(function(e){if(e){"true"!==e.getAttribute("aria-hidden")?e.setAttribute("aria-hidden",!0):e.removeAttribute("aria-hidden")}})}function h(e){e.forEach(function(e){e&&e.setAttribute("aria-hidden",!0)})}function f(e){e.forEach(function(e){e&&e.removeAttribute("aria-hidden")})}function p(e){if(e){e.getAttribute("aria-expanded")?e.removeAttribute("aria-expanded"):e.setAttribute("aria-expanded","true")}}function m(){return"click"}function v(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):void 0}function g(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):void 0}function b(e){return e.target||e.srcElement}function y(e){if(e.preventDefault)return e.preventDefault();e.returnValue&&(e.returnValue=!1)}function w(e){if(e=e||window.event,e.stopPropagation)return e.stopPropagation();e.cancelBubble&&(e.cancelBubble=!0)}function C(e,t,n){var i,a,s,r;return r=function(){i=!1,a&&(s.apply(n,a),a=!1)},s=function(){i?a=arguments:(e.apply(n,arguments),setTimeout(r,t),i=!0)}}function x(){}function k(){function e(e){e?v(e.node,"click",t):i.forEach(function(e){v(e,"click",t)})}function t(e){e.preventDefault();var t=e.target.getAttribute("data-clipboard-target");document.querySelector(t).select(),document.execCommand("copy")}var i=n(".js-copy-to-clipboard");ae.on("clipboard:bind",e),ae.emit("clipboard:bind")}function A(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}function I(e){if(!e)throw new TypeError("Invalid argument `value` has no value.");this.value=I.EMPTY,e&&e instanceof I?this.value=e.toString():e&&"[object String]"===Object.prototype.toString.call(e)&&I.isGuid(e)&&(this.value=e),this.equals=function(e){return I.isGuid(e)&&this.value===e},this.isEmpty=function(){return this.value===I.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}function E(t){w(t);var n=e("accordion-section",b(t));ae.emit("accordion:toggle",{node:n})}function _(e){o(e.node,"is-active"),p(e.node.querySelector(".accordion-title"))}function j(e){13!==e.keyCode&&32!==e.keyCode||!a(b(e),"accordion-title")||(y(e),w(e),E(e))}function P(e){var t=n(".js-accordion");e?T(e.node):t.forEach(function(e){T(e)})}function T(e){e.setAttribute("aria-live","polite"),e.setAttribute("role","tablist"),t(e.children).forEach(function(e){var t=e.querySelector(".accordion-title"),n=e.querySelector(".accordion-content"),i=n.id||I.raw();n.id=i,t.setAttribute("role","tab"),t.setAttribute("tabindex","0"),t.setAttribute("aria-controls",i),a(e,"is-active")&&t.setAttribute("aria-expanded","true");var s=!1;ie.accordions.forEach(function(e){e.target===t&&e.event===m()&&e.fn===E&&(s=!0)}),s||(ie.accordions.push({target:t,event:m(),fn:E}),ie.accordions.push({target:e,event:"keydown",fn:j}),v(t,m(),E),v(e,"keydown",j))})}function q(){ae.on("accordion:bind",P),ae.on("accordion:toggle",_),re=!0}function O(){re||q(),ae.emit("accordion:bind")}function S(e){g(document.body,m(),S),n(".js-dropdown").forEach(function(e){r(e,"is-active")}),n(".js-dropdown-toggle").forEach(function(e){e.setAttribute("aria-expanded","false")}),g(document,"keydown",z),g(document.body,"focusin",L)}function L(t){t.target&&!e("js-dropdown",t.target)&&ae.emit("dropdown:close")}function M(e){if(e){var t=a(e.node,"is-active");ae.emit("dropdown:close"),t||(s(e.node,"is-active"),e.target&&e.target.setAttribute("aria-expanded","true"),v(document,"keydown",z)),a(e.node,"is-active")&&(v(document.body,m(),S),v(document.body,"focusin",L))}}function z(e){40===e.keyCode|38===e.keyCode&&e.preventDefault()}function U(e){n(".js-dropdown-toggle").forEach(function(e){var t=!1;ie.dropdowns.forEach(function(n){n.target===e&&n.event===m()&&n.fn===B&&(t=!0)}),t||(ie.dropdowns.push({target:e,event:m(),fn:B}),v(e,m(),B))})}function N(){var e=document.querySelector(".js-dropdown.is-active");return e||!1}function R(e){var t=document.activeElement,n=e.links.indexOf(t);-1===n?n=e.forward?0:e.links.length-1:e.forward?(n+=1)===e.links.length&&(n=0):-1===(n-=1)&&(n=e.links.length-1),e.links[n].focus()}function H(){var e=N();if(e){var t=n(".dropdown-link",e).filter(function(e){return null!==e.offsetParent});ae.emit("dropdown:focus",{links:t,forward:!0})}}function F(){var e=N();if(e){var t=n(".dropdown-link",e).filter(function(e){return null!==e.offsetParent});ae.emit("dropdown:focus",{links:t,forward:!1})}}function B(t){y(t),w(t);var n=e("js-dropdown",t.target);ae.emit("dropdown:toggle",{node:n,target:t.target})}function D(){ae.on("dropdown:toggle",M),ae.on("dropdown:close",S),ae.on("keyboard:escape",S),ae.on("keyboard:arrow:down",H),ae.on("keyboard:arrow:up",F),ae.on("dropdown:focus",R),oe=!0}function V(){oe||D(),U()}function Z(){function t(e){ae.emit("drawer:close",{fromOpen:!0});var t=document.querySelector('.js-drawer[data-drawer="'+e.id+'"]');t.setAttribute("tabindex",0),s(t,"is-active"),s(u,"overflow-hidden"),u.offsetHeight>u.clientHeight&&s(p,"overflow-scroll"),h([b,w]),v(t,m(),l),v(document,"focusin",o)}function i(e){if(!e||e.all)x.forEach(function(e){e.removeAttribute("tabindex"),r(e,"is-active")});else{var t=document.querySelector('.js-drawer[data-drawer="'+e.id+'"]');t&&(t.removeAttribute("tabindex"),r(t,"is-active"))}f([b,w]),g(document,"focusin",o),r(document.documentElement,"drawer-no-overflow"),e&&!e.fromOpen&&setTimeout(function(){r(u,"overflow-hidden"),r(p,"overflow-scroll")},300)}function o(t){e("js-drawer",t.target)||x.forEach(function(e){a(e,"is-active")&&e.focus()})}function c(e){e?v(e.node,m(),d):C.forEach(function(e){v(e,m(),d)})}function l(e){a(e.target,"js-drawer")&&ae.emit("drawer:close",{fromOpen:!1,all:!0})}function d(e){y(e);var t=e.target.getAttribute("data-drawer");ae.emit("drawer:open",{id:t})}var u=document.documentElement,p=document.body,b=document.querySelector(".wrapper"),w=document.querySelector(".footer"),C=n(".js-drawer-toggle"),x=n(".js-drawer");ae.on("drawer:open",t),ae.on("keyboard:escape",i),ae.on("drawer:close",i),ae.on("drawer:bind",c),ae.emit("drawer:bind")}function K(){function l(){n(".js-filter-dropdown").forEach(function(e){var n=e.getAttribute("data-filter-dropdown"),a=e.querySelector(".filter-dropdown-input");v(a,"focus",u);for(var o=e.querySelectorAll(".js-filter-dropdown-open"),c=0;c<o.length;c++){var l=o[c];l.setAttribute("data-id",n),v(l,m(),f)}for(var d=e.querySelectorAll(".js-filter-dropdown-close"),p=0;p<d.length;p++){var g=d[p];g.setAttribute("data-id",n),v(g,m(),f)}for(var b=e.querySelectorAll(".filter-dropdown-link"),y=0;y<b.length;y++){var w=b[y];w.setAttribute("data-item-id",y),v(w,m(),h)}v(a,"keyup",function(e){var n=t(b);n.forEach(function(e){s(e,"hide")}),i(a.value,n).forEach(function(e){r(e,"hide")})})})}function d(t){var n=e("js-filter-dropdown",t.target);return{parent:n,id:n.getAttribute("data-filter-dropdown"),item:t.target}}function u(e){w(e);var t=d(e);ae.emit("filterDropdown:input:focus",t)}function h(e){y(e),w(e);var t=d(e);ae.emit("filterDropdown:select",t)}function f(e){e.preventDefault();var t=d(e);o(e.target,"is-active"),ae.emit("filterDropdown:toggle",t)}function p(e){a(e.parent.querySelector(".filter-dropdown-list"),"is-active")?ae.emit("filterDropdown:close",e):ae.emit("filterDropdown:open",e)}function g(e){o(e.item,"is-active")}function b(e){r(e.parent.querySelectorAll(".filter-dropdown-link.is-active")[e.i],"is-active");var t=e.parent.querySelectorAll(".filter-dropdown-link.is-active"),n={parent:e.parent,id:e.id,active:t};ae.emit("filterDropdown:active",n)}function C(e){x(),s(e.parent.querySelector(".filter-dropdown-list"),"is-active");var t=n(".js-filter-dropdown-close",e.parent);n(".js-filter-dropdown-open",e.parent).forEach(function(e){return r(e,"is-active")}),t.forEach(function(e){return s(e,"is-active")})}function x(e){c(document.querySelectorAll(".filter-dropdown-list"));var t=n(".js-filter-dropdown-open"),i=n(".js-filter-dropdown-close");t.forEach(function(e){return s(e,"is-active")}),i.forEach(function(e){return r(e,"is-active")})}function k(e){var t=e.parent.querySelectorAll(".filter-dropdown-link.is-active"),n={parent:e.parent,id:e.id,active:t};ae.emit("filterDropdown:active",n)}function A(e){ae.emit("filterDropdown:active:clear",e);var t=e.parent.querySelector(".js-filter-dropdown-no-filters");e.active.length>0?s(t,"hide"):r(t,"hide");for(var n=0;n<e.active.length;n++){var i=e.active[n],a='<span class="filter-dropdown-active">\n        '+i.innerHTML+'\n        <a class="filter-dropdown-remove" href="#" data-item-id=\''+n+'\'>\n          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 32 32" class="svg-icon"><path d="M18.404 16l9.9 9.9-2.404 2.404-9.9-9.9-9.9 9.9L3.696 25.9l9.9-9.9-9.9-9.898L6.1 3.698l9.9 9.899 9.9-9.9 2.404 2.406-9.9 9.898z"/></svg>\n        </a>\n      </span>';e.parent.insertAdjacentHTML("beforeend",a);v(e.parent.querySelector('.filter-dropdown-remove[data-item-id="'+n+'"]'),m(),I)}}function I(e){e.preventDefault();var t=d(e);t.i=e.target.getAttribute("data-item-id"),ae.emit("filterDropdown:select:remove",t)}function E(e){for(var t=e.parent.querySelectorAll(".filter-dropdown-active"),n=0;n<t.length;n++)e.parent.removeChild(t[n])}ae.on("filterDropdown:bind",l),ae.on("filterDropdown:select",g),ae.on("filterDropdown:select",k),ae.on("filterDropdown:select:remove",b),ae.on("filterDropdown:active",A),ae.on("filterDropdown:active:clear",E),ae.on("filterDropdown:toggle",p),ae.on("filterDropdown:open",C),ae.on("filterDropdown:close",x),ae.on("keyboard:escape",x),ae.emit("filterDropdown:bind")}function G(){function e(){var e=[];return b&&e.push(b),y&&e.push(y),e}function t(t){if(ae.emit("modal:close",{fromOpen:!0}),t&&t.id){var i=document.querySelector('.js-modal[data-modal="'+t.id+'"]');i.removeAttribute("tabindex"),v(document,"keydown",o),s(i,"is-active"),s(u,"overflow-hidden"),u.offsetHeight>u.clientHeight&&s(p,"overflow-scroll"),h(e());var a=n("button, [href], input, select, textarea, [tabindex]",i).filter(function(e){return!e.disabled&&-1!==e.tabIndex&&e.offsetHeight>0});l=a.shift(),d=a.pop(),l&&l.focus()}}function i(t){if(t&&t.id){var n=document.querySelector('.js-modal[data-modal="'+t.id+'"]');r(n,"is-active"),n.setAttribute("tabindex",0),g(document,"keydown",o),f(e())}else c(C);t&&t.fromOpen||setTimeout(function(){r(u,"overflow-hidden"),r(p,"overflow-scroll")},300)}function a(e){e?v(e,m(),Q):w.forEach(function(e){var t=!1;ie.modals.forEach(function(n){n.target===e&&n.event===m()&&n.fn===Q&&(t=!0)}),t||(ie.modals.push({target:e,event:m(),fn:Q}),v(e,m(),Q))})}function o(e){("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===l&&(d&&d.focus(),e.preventDefault()):document.activeElement===d&&(l&&l.focus(),e.preventDefault()))}var l,d,u=document.documentElement,p=document.body,b=document.querySelector(".wrapper"),y=document.querySelector(".footer"),w=n(".js-modal-toggle"),C=n(".js-modal");ae.on("modal:open",t),ae.on("keyboard:escape",i),ae.on("modal:close",i),ae.on("modal:bind",a),ae.emit("modal:bind")}function Q(t){y(t);var n=e("js-modal-toggle",t.target),i=n.getAttribute("data-modal"),s=document.querySelector('.js-modal[data-modal="'+i+'"]');s&&!a(s,"is-active")?ae.emit("modal:open",{id:i}):ae.emit("modal:close")}function W(){function e(e){e?v(e,m(),l):d.forEach(function(e){v(e,m(),l)})}function i(e){var t=e.querySelector(".js-search-icon"),n=e.querySelector(".js-close-icon");o(t,"hide"),o(n,"hide"),o(u,"is-active"),o(document.body,"overflow-hidden"),ae.emit("search:focus")}function s(){document.querySelector(".js-search-input").focus()}function c(){if(u&&a(u,"is-active")){r(u,"is-active"),r(document.body,"overflow-hidden");t(d).forEach(i);var e=document.querySelector(".js-search-input");e&&e.blur()}}function l(e){y(e),ae.emit("search:toggle",e.target)}var d=n(".js-search-toggle"),u=n(".js-search")[0];ae.on("search:bind",e),ae.on("search:toggle",i),ae.on("keyboard:escape",c),ae.on("search:focus",s),ae.emit("search:bind")}function Y(){function e(){i.forEach(function(e){v(e,"change",t)})}function t(e){window.location.assign(e.currentTarget.value)}ae.on("selectnav:bind",e);var i=n(".js-select-nav");ae.emit("selectnav:bind")}function X(){function e(e){var t=I.raw();e.setAttribute("data-sticky-id",t);var n=e.parentNode,i=e.cloneNode("deep");s(i,"js-shim"),r(i,"js-sticky"),i.setAttribute("data-sticky-id",t),i.style.visibility="hidden",i.style.display="none",n.insertBefore(i,e)}function t(e){var t=e.element.getAttribute("data-sticky-id"),n=document.querySelector('.js-shim[data-sticky-id="'+t+'"]');t&&n&&(s(e.element,"is-sticky"),n.style.display="")}function i(e){var t=e.element.getAttribute("data-sticky-id"),n=document.querySelector('.js-shim[data-sticky-id="'+t+'"]');t&&n&&(r(e.element,"is-sticky"),n.style.display="none")}function o(e){l.forEach(function(t){var n=t.element;if(a(t.element,"is-sticky")){var i=t.element.getAttribute("data-sticky-id");n=document.querySelector('.js-shim[data-sticky-id="'+i+'"]')}if(n){var s=n.getAttribute("data-top")||0;t.top=n.offsetTop-parseInt(s,0)}t.top<e?ae.emit("sticky:stick",t):ae.emit("sticky:unstick",t)})}ae.on("scrolling:at",o),ae.on("sticky:stick",t),ae.on("sticky:unstick",i)
;var c=n(".js-sticky"),l=c.map(function(t){var n=t.offsetTop,i=t.getAttribute("data-top")||0;return t.style.top=i+"px",t.getAttribute("data-sticky-id")||e(t),{top:n-parseInt(i,0),element:t}})}function J(){function i(){var e=n(".js-tab"),t=n(".js-tab-group"),i=n(".js-tab-section");t.forEach(function(e){e.setAttribute("aria-live","polite"),s(e),e.children[0].setAttribute("role","tablist");for(var t=e.querySelectorAll(".js-tab"),n=100/t.length,i=0;i<t.length;i++)t[i].style.maxWidth=n+"%"}),e.forEach(function(e){e.setAttribute("aria-expanded","false"),e.setAttribute("role","tab"),e.setAttribute("tabindex","0"),v(e,m(),c),v(e,"keydown",l)}),i.forEach(function(e){e.setAttribute("role","tabpanel"),a(e,"is-active")?e.setAttribute("aria-expanded",!0):e.setAttribute("aria-expanded",!1)})}function s(e){var t=e.getAttribute("data-tab");if(t)return t;var n=I.raw();return e.setAttribute("data-tab",n),n}function r(e){var n=e.parent,i=t(n.querySelectorAll(".js-tab")),a=e.active,s=t(n.querySelectorAll(".js-tab-section")),r=i.indexOf(a),o=s[r];i.forEach(function(e){e.setAttribute("aria-expanded",!1)}),a.setAttribute("aria-expanded",!0),d(i,a),s.forEach(function(e){e.setAttribute("aria-expanded",!1)}),o.setAttribute("aria-expanded",!0),d(s,o),a.focus()}function o(t){var n=t.target;a(n,"js-tab")||(n=t.currentTarget);var i=e("js-tab-group",n);return{parent:i,id:s(i),active:n}}function c(e){e.preventDefault();var t=o(e);ae.emit("tabs:active",t)}function l(e){var n=o(e);if(13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),ae.emit("tabs:active",n)),39===e.keyCode||37===e.keyCode){var i=t(n.parent.querySelectorAll(".js-tab")),s=i.indexOf(document.activeElement);if(s>-1&&a(document.activeElement,"js-tab")){var r=i[s+1]||i[0],c=i[s-1]||i[i.length-1];(39===e.keyCode?r:c).focus()}}}ae.on("tabs:bind",i),ae.on("tabs:active",r),ae.emit("tabs:bind")}function $(e){27===e.keyCode?ae.emit("keyboard:escape"):13===e.keyCode?ae.emit("keyboard:return"):32===e.keyCode?ae.emit("keyboard:space"):38===e.keyCode?ae.emit("keyboard:arrow:up"):40===e.keyCode?ae.emit("keyboard:arrow:down"):37===e.keyCode?ae.emit("keyboard:arrow:left"):39===e.keyCode&&ae.emit("keyboard:arrow:right")}function ee(){ae.emit("scrolling:at",window.pageYOffset)}function te(){ce.forEach(function(e){e()})}function ne(e){"function"!=typeof Object.assign&&(Object.assign=function(e){var t=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var n=1;n<arguments.length;n++){var i=t[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e});for(var t in e)ce.push(e[t]);Object.assign(this,e)}var ie={dropdowns:[],accordions:[],modals:[]};x.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function i(){a.off(e,i),t.apply(n,arguments)}var a=this;return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,a=n.length;for(i;i<a;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],a=[];if(i&&t)for(var s=0,r=i.length;s<r;s++)i[s].fn!==t&&i[s].fn._!==t&&a.push(i[s]);return a.length?n[e]=a:delete n[e],this}};var ae=new x,se=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");I.EMPTY="00000000-0000-0000-0000-000000000000",I.isGuid=function(e){return e&&(e instanceof I||se.test(e.toString()))},I.create=function(){return new I([A(2),A(1),A(1),A(1),A(3)].join("-"))},I.raw=function(){return[A(2),A(1),A(1),A(1),A(3)].join("-")};var re=!1,oe=!1;v(document,"keyup",$),v(window,"scroll",C(ee,100));var ce=[O,k,V,Z,K,G,W,Y,X,J];return{version:"1.2.5",click:m,addEvent:v,removeEvent:g,eventTarget:b,preventDefault:y,stopPropagation:w,throttle:C,hasClass:a,addClass:s,removeClass:r,toggleClass:o,removeActive:c,addActive:l,toggleActive:d,toggleAriaHidden:u,toggleAriaExpanded:p,closest:e,nodeListToArray:t,findElements:n,bus:ae,accordion:O,dropdown:V,drawer:Z,filterDropdown:K,modal:G,search:W,selectNav:Y,sticky:X,tabs:J,extend:ne,init:te}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("helpers",t):e.helpers=t()}(this,function(){"use strict";return{byId:function(e){return document.getElementById(e)},query:function(e,t){return t=t||document,t.querySelectorAll(e)},queryOne:function(e,t){return t=t||document,t.querySelector(e)},findParentNode:function(e,t){for(var n=t.parentElement;n&&n.tagName.toLowerCase()!==e.toLowerCase();)n=n.parentElement;return n},findPreviousSibling:function(e,t){for(var n=t.previousElementSibling;n&&n.tagName.toLowerCase()!==e.toLowerCase();)n=n.previousElementSibling;return n},findLabel:function(e){return document.querySelector("label[for="+e+"]")},createRootElement:function(e){var t=e.parent||document.body,n=document.createElement(e.type||"div");return e.className&&(n.className=e.className),e.id&&(n.id=e.id),t.appendChild(n),n},checkRTL:function(e){var t=document.getElementsByTagName("body")[0],n=e||(navigator.language?navigator.language:navigator.userLanguage).toLowerCase(),i=["ar","he"],a=!1;n=n.split("-")[0],a=i.indexOf(n)>-1,a&&(document.documentElement.dir="rtl",t.dir="rtl",t.className="rtl"),window.oAuthInfo.parsedLocale=n},trimString:function(e){var t="";return void 0!==e&&(t=e.replace(/(^\s+|\s+$)/g,"")),t},setFocus:function(e){"string"==typeof e&&(e=this.byId(e)||this.queryOne(e));try{e.focus()}catch(e){}},getCookieItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},sub:function(e,t){return e.replace(/{([^{}]*)}/g,function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i?i:e})},extend:function(e,t){return"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])}return n},writable:!0,configurable:!0}),Object.assign.apply(null,arguments)},getPortalHostname:function(e,t){t=t||window.location.href;var n=e&&e.contextPath||"/sharing";return t.substr(0,t.indexOf(n))},getPortal:function(){return window.location.href.substr(0,window.location.href.indexOf("/sharing/"))},getQueryObj:function(){return window.location.search?window.location.search.substr(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{}):{}},setTitle:function(e){var t=this.queryOne("title");t&&e&&(t.innerHTML=e)},setContrastInfo:function(){var e=window.getComputedStyle(document.body).backgroundColor,t="rgb(255, 255, 255)"==e,n="rgb(0, 0, 0)"==e;if(t||n){var i="a11y";i+=n?" a11y-black ":" a11y-white ",document.body.className=i+document.body.className}},fromBase64:function(e){if(e.replace&&"function"==typeof e.replace){var t=e.replaceAll("-","+").replaceAll("_","/");return Uint8Array.from(atob(t),function(e){return e.charCodeAt(0)})}return e},toBase64Str:function(e){if(e&&"byteLength"in e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replaceAll("+","-").replaceAll("/","_")}return e}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("mustache",t):(e=e||self,e.Mustache=t())}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(e){return m(e)?"array":typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function a(e,t){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(t)}function s(e,t){return v.call(e,t)}function r(e){return!s(g,e)}function o(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return b[e]})}function c(e,t){function i(){if(g&&!b)for(;v.length;)delete p[v.pop()];else v=[];g=!1,b=!1}function a(e){if("string"==typeof e&&(e=e.split(w,2)),!m(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(n(e[0])+"\\s*"),o=new RegExp("\\s*"+n(e[1])),c=new RegExp("\\s*"+n("}"+e[1]))}if(!e)return[];var s,o,c,h=!1,f=[],p=[],v=[],g=!1,b=!1,I="",E=0;a(t||A.tags);for(var _,j,P,T,q,O,S=new u(e);!S.eos();){if(_=S.pos,P=S.scanUntil(s))for(var L=0,M=P.length;L<M;++L)T=P.charAt(L),r(T)?(v.push(p.length),I+=T):(b=!0,h=!0,I+=" "),p.push(["text",T,_,_+1]),_+=1,"\n"===T&&(i(),I="",E=0,h=!1);if(!S.scan(s))break;if(g=!0,j=S.scan(k)||"name",S.scan(y),"="===j?(P=S.scanUntil(C),S.scan(C),S.scanUntil(o)):"{"===j?(P=S.scanUntil(c),S.scan(x),S.scanUntil(o),j="&"):P=S.scanUntil(o),!S.scan(o))throw new Error("Unclosed tag at "+S.pos);if(q=">"==j?[j,P,_,S.pos,I,E,h]:[j,P,_,S.pos],E++,p.push(q),"#"===j||"^"===j)f.push(q);else if("/"===j){if(!(O=f.pop()))throw new Error('Unopened section "'+P+'" at '+_);if(O[1]!==P)throw new Error('Unclosed section "'+O[1]+'" at '+_)}else"name"===j||"{"===j||"&"===j?b=!0:"="===j&&a(P)}if(i(),O=f.pop())throw new Error('Unclosed section "'+O[1]+'" at '+S.pos);return d(l(p))}function l(e){for(var t,n,i=[],a=0,s=e.length;a<s;++a)(t=e[a])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}function d(e){for(var t,n,i=[],a=i,s=[],r=0,o=e.length;r<o;++r)switch(t=e[r],t[0]){case"#":case"^":a.push(t),s.push(t),a=t[4]=[];break;case"/":n=s.pop(),n[5]=t[2],a=s.length>0?s[s.length-1][4]:i;break;default:a.push(t)}return i}function u(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}var p=Object.prototype.toString,m=Array.isArray||function(e){return"[object Array]"===p.call(e)},v=RegExp.prototype.test,g=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},y=/\s*/,w=/\s+/,C=/\s*=/,x=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},u.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(t){var n,s=this.cache;if(s.hasOwnProperty(t))n=s[t];else{for(var r,o,c,l=this,d=!1;l;){if(t.indexOf(".")>0)for(r=l.view,o=t.split("."),c=0;null!=r&&c<o.length;)c===o.length-1&&(d=i(r,o[c])||a(r,o[c])),r=r[o[c++]];else r=l.view[t],d=i(l.view,t);if(d){n=r;break}l=l.parent}s[t]=n}return e(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},f.prototype.parse=function(e,t){var n=this.templateCache,i=e+":"+(t||A.tags).join(":"),a=void 0!==n,s=a?n.get(i):void 0;return void 0==s&&(s=c(e,t),a&&n.set(i,s)),s},f.prototype.render=function(e,t,n,i){var a=this.getConfigTags(i),s=this.parse(e,a),r=t instanceof h?t:new h(t,void 0);return this.renderTokens(s,r,n,e,i)},f.prototype.renderTokens=function(e,t,n,i,a){for(var s,r,o,c="",l=0,d=e.length;l<d;++l)o=void 0,s=e[l],r=s[0],"#"===r?o=this.renderSection(s,t,n,i,a):"^"===r?o=this.renderInverted(s,t,n,i,a):">"===r?o=this.renderPartial(s,t,n,a):"&"===r?o=this.unescapedValue(s,t):"name"===r?o=this.escapedValue(s,t,a):"text"===r&&(o=this.rawValue(s)),void 0!==o&&(c+=o);return c},f.prototype.renderSection=function(t,n,i,a,s){function r(e){return o.render(e,n,i,s)}var o=this,c="",l=n.lookup(t[1]);if(l){if(m(l))for(var d=0,u=l.length;d<u;++d)c+=this.renderTokens(t[4],n.push(l[d]),i,a,s);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(t[4],n.push(l),i,a,s);else if(e(l)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");l=l.call(n.view,a.slice(t[3],t[5]),r),null!=l&&(c+=l)}else c+=this.renderTokens(t[4],n,i,a,s);return c}},f.prototype.renderInverted=function(e,t,n,i,a){var s=t.lookup(e[1]);if(!s||m(s)&&0===s.length)return this.renderTokens(e[4],t,n,i,a)},f.prototype.indentPartial=function(e,t,n){for(var i=t.replace(/[^ \t]/g,""),a=e.split("\n"),s=0;s<a.length;s++)a[s].length&&(s>0||!n)&&(a[s]=i+a[s]);return a.join("\n")},f.prototype.renderPartial=function(t,n,i,a){if(i){var s=this.getConfigTags(a),r=e(i)?i(t[1]):i[t[1]];if(null!=r){var o=t[6],c=t[5],l=t[4],d=r;0==c&&l&&(d=this.indentPartial(r,l,o));var u=this.parse(d,s);return this.renderTokens(u,n,i,d,a)}}},f.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},f.prototype.escapedValue=function(e,t,n){var i=this.getConfigEscape(n)||A.escape,a=t.lookup(e[1]);if(null!=a)return"number"==typeof a&&i===A.escape?String(a):i(a)},f.prototype.rawValue=function(e){return e[1]},f.prototype.getConfigTags=function(e){return m(e)?e:e&&"object"==typeof e?e.tags:void 0},f.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!m(e)?e.escape:void 0};var A={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){I.templateCache=e},get templateCache(){return I.templateCache}},I=new f;return A.clearCache=function(){return I.clearCache()},A.parse=function(e,t){return I.parse(e,t)},A.render=function(e,n,i,a){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+t(e)+'" was given as the first argument for mustache#render(template, view, partials)');return I.render(e,n,i,a)},A.escape=o,A.Scanner=u,A.Context=h,A.Writer=f,A}),define("config",[],function(){return{hideAppInfo:["arcgisonline","arcgisWebApps","mapsForCreativeCloud","esriapps","esri_es","esri_de","esri_cl","esriuk_com","esri_se","esri_ca","esri_ch","esri_nl","storymapsexpress","pythonapi","indoorsonline"]}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("icons",t):e.icons=t()}(this,function(){"use strict";return{esri:'<title>Esri</title><g><path d="M77.377.695a2.51615,2.51615,0,0,0-2.5536,2.4884,2.58969,2.58969,0,0,0,5.1756,0A2.512,2.512,0,0,0,77.377.695ZM75.4635,24.12065h3.892V8.5485h-3.892ZM40.615,8.1597c-4.7019,0-8.4646,3.2749-8.4646,8.1744,0,4.89828,3.7627,8.17661,8.4646,8.17661a8.08656,8.08656,0,0,0,5.8516-2.31047L44.0102,19.7439a4.96654,4.96654,0,0,1-3.781,1.65148,4.03745,4.03745,0,0,1-4.1869-3.69818H47.9167V16.6269C47.9167,11.2076,44.9662,8.1597,40.615,8.1597Zm-4.5727,6.6168a3.87339,3.87339,0,0,1,4.023-3.6991c2.4334,0,3.9261,1.4292,3.9603,3.6991Zm17.3044-1.8482c0-1.1689,1.2333-1.655,2.2729-1.655a3.53132,3.53132,0,0,1,3.0376,1.5764l2.476-2.4735a6.83011,6.83011,0,0,0-5.418-2.2165c-3.1469,0-6.2621,1.5555-6.2621,5.0284,0,5.9379,8.4026,3.4059,8.4026,6.6172,0,1.23253-1.4594,1.78384-2.5946,1.78384a4.75239,4.75239,0,0,1-3.6905-1.905l-2.5144,2.5136a7.64753,7.64753,0,0,0,5.9779,2.313c3.1784,0,6.717-1.29823,6.717-4.99731C61.7511,13.4459,53.3467,15.7175,53.3467,12.9283Zm14.151-1.9166h-.0623V8.5485H63.5426V24.12065h3.8928V15.7815a3.91438,3.91438,0,0,1,4.1848-3.9252,7.452,7.452,0,0,1,1.7181.253l.1519-3.7259a5.03109,5.03109,0,0,0-1.3826-.2237A4.96277,4.96277,0,0,0,67.4977,11.0117ZM14.782,2.9606a10.41336,10.41336,0,0,0-2.651.2599.49091.49091,0,0,0-.6431.4729.65358.65358,0,0,0,.2394.5615,20.045,20.045,0,0,1,2.4735,2.1423c-.4694.0517-.9807.1379-1.5039.2462-.5847-1.264-2.4653-.1147-3.71354-.0648-.14639.006-.28684.0252-.43149.035A20.32772,20.32772,0,0,1,8.3415,3.6934a17.20722,17.20722,0,0,1,6.875-1.6255l.3721-.0098c.3124-.0027.3371-.2514.0435-.2915A13.53793,13.53793,0,0,0,8.35348,2.9124,14.41291,14.41291,0,0,0,.89854,10.791c-.44337,1.2475-2.21826,7.1947.935,12.29948a13.20182,13.20182,0,0,0,9.88737,6.6769,14.15347,14.15347,0,0,0,8.7522-1.05577c5.9511-2.64154,10.4956-12.55841,5.9499-19.747C24.6289,5.6461,19.9278,2.7361,14.782,2.9606ZM12.5233,7.6083a17.75423,17.75423,0,0,1,2.3616-.3686,15.74087,15.74087,0,0,1,1.7479,2.5404c-.8053.3896-1.8781.6879-2.3146,1.3123a1.78056,1.78056,0,0,0-.2318.9943,23.589,23.589,0,0,0-3.8774,1.2862c-.45286-1.3319-.85009-2.659-1.12365-3.8421C10.3814,8.2941,11.8985,8.0927,12.5233,7.6083Zm6.6103,15.87993c-.3546.03749-.7071.08277-1.0169.13057a14.62456,14.62456,0,0,0-2.6843.72209,43.94209,43.94209,0,0,1-2.6676-4.43649A15.48586,15.48586,0,0,1,18.54,18.4602a4.61747,4.61747,0,0,0,.6909.9559C19.9871,20.1902,18.7892,21.299,19.1336,23.48823ZM10.5303,14.3485a19.29324,19.29324,0,0,1,3.5604-1.2862,2.03511,2.03511,0,0,1-.1827.903,2.50151,2.50151,0,0,0,.1336,1.7748c.7549,1.0985,2.0083.4882,2.9518.8834a2.15739,2.15739,0,0,1,.9633.8389,16.049,16.049,0,0,0-5.7053,1.4109A41.82526,41.82526,0,0,1,10.5303,14.3485Zm.8321,4.9371c-.0699.0333-.145.0742-.2171.1101-1.1019-.3073-1.78517-.478-3.25617-.7801a3.08944,3.08944,0,0,0-2.15123.1758c-.15959.0461-.3128.0879-.46173.1323-.14893-.3815-.29663-.7768-.44556-1.2018a27.12084,27.12084,0,0,1,4.82187-2.9851C10.1514,16.2283,10.8665,18.2204,11.3624,19.2856Zm.7674,4.52863a9.48665,9.48665,0,0,0,.6047-1.88965c.5692.95763,1.2487,1.9989,1.7744,2.814A17.3346,17.3346,0,0,0,11.837,26.4243,11.23781,11.23781,0,0,1,12.1298,23.81423ZM17.4642,9.1779c-.0102.0145-.0282.0261-.0393.0401a23.04534,23.04534,0,0,0-1.3771-2.1111,21.90906,21.90906,0,0,1,3.3743.1084C18.4082,7.5781,17.9609,8.4687,17.4642,9.1779Zm-9.028,1.0938c.01836-.0256.03837-.0465.05716-.0717.23344,1.1821.51294,2.1606.88552,3.5178a33.49783,33.49783,0,0,0-4.976,2.9723,17.18753,17.18753,0,0,1-.5889-1.9465,1.77168,1.77168,0,0,1,1.47617-1.325C6.51758,13.2957,7.57083,11.4696,8.43624,10.2717ZM3.0267,8.4883A15.96075,15.96075,0,0,1,7.74876,3.9686a26.225,26.225,0,0,0,.21806,2.6928q-.85463.0852-1.69211.2109a12.08231,12.08231,0,0,0-3.11438,4.0878A14.926,14.926,0,0,1,3.0267,8.4883ZM2.16984,9.9256s.06188,1.0601.1131,1.8329a11.90283,11.90283,0,0,0-1.17919,1.5914A9.53467,9.53467,0,0,1,2.16984,9.9256Zm7.664,18.35671A12.62638,12.62638,0,0,1,1.72131,20.029a17.47511,17.47511,0,0,1-.65164-6.473.65293.65293,0,0,0,.38018.0167c.13486-.0922.61581-.4302.95763-.7277.00472.0393.01241.0892.01792.1314a12.04271,12.04271,0,0,0-.40064,2.7099,19.25881,19.25881,0,0,1,1.28616,1.7062c-.31061.2304-.9051.6418-1.04468.7417a.62859.62859,0,0,0-.114,1.0148.56565.56565,0,0,0,.6124-.0103,10.69141,10.69141,0,0,1,1.06609-.769c.151.3926.29182.7468.43052,1.0848a1.34447,1.34447,0,0,0-.34269.79893,2.46079,2.46079,0,0,0,1.91875,2.35994c.035.01022.06057.01363.09388.02307.0499.07508.09517.14674.14761.22357A5.74221,5.74221,0,0,0,5.03032,23.9226c-.13189.17244-.28125.43018-.15959.48139a2.1227,2.1227,0,0,0,.71824-.03408c.46644-.08967.82618-.606,1.14833-.7955a17.99721,17.99721,0,0,0,1.67159,1.87942c.02866.11947.05506.24576.08792.3516a7.47254,7.47254,0,0,0,.495,1.19578A12.16213,12.16213,0,0,0,10.456,27.562,8.34474,8.34474,0,0,0,9.83383,28.28231Zm.98917.31236a4.36881,4.36881,0,0,1,.5054-.6256c.4672.30983.9682.66493,1.3677.89366A9.59947,9.59947,0,0,1,10.823,28.59467Zm3.1128.30983a22.07987,22.07987,0,0,1-2.0088-1.47057,14.04631,14.04631,0,0,1,3.1281-1.88878c.4016.63076,1.7267,2.50678,2.2575,3.11184A17.30216,17.30216,0,0,1,13.9358,28.9045Zm6.7055-1.50806a16.58869,16.58869,0,0,1-2.2045.98742,23.42994,23.42994,0,0,1-2.4402-3.20141,13.9527,13.9527,0,0,1,3.3466-.82111,7.49493,7.49493,0,0,0,.4438,1.09423,2.51925,2.51925,0,0,0,.6486.85345c.0853-.05287.1644-.11519.2484-.16981C20.678,26.55828,20.6665,26.98505,20.6413,27.39644ZM20.3106,5.9188c-.2702-.1719-.6068-.1079-.4669.1933a4.06966,4.06966,0,0,0,.4272.5122,19.53821,19.53821,0,0,0-4.856-.3645,15.62334,15.62334,0,0,0-2.8614-2.7649c4.999-.3111,9.4897,1.7565,11.4737,4.1856a15.42616,15.42616,0,0,0-2.6677-.9628A5.95374,5.95374,0,0,0,20.3106,5.9188Zm1.0946,21.06538c.023-.40711.0402-.92267.0529-1.39637a12.11693,12.11693,0,0,0,1.3695-1.23757,12.42379,12.42379,0,0,1,1.4275.23895A11.02525,11.02525,0,0,1,21.4052,26.98418Zm3.8245-3.72467a4.1318,4.1318,0,0,1-.6328.89444,9.77165,9.77165,0,0,0-1.2722-.37468c.0786-.09387.1635-.18267.2395-.27915.2688-1.7957-.3376-2.371.4211-4.01392.053-.1144.111-.2407.1716-.3713a11.3497,11.3497,0,0,1,1.1526.3858A30.26049,30.26049,0,0,1,25.2297,23.25951Zm-.7079-4.91621c.1959-.4072.4118-.8399.6456-1.2708.0607.5479.1042,1.0813.1307,1.5635C25.0578,18.5302,24.7936,18.4346,24.5218,18.3433Zm2.2178,1.1257-.1937.75629a18.08656,18.08656,0,0,1-.8318,2.22245,25.61647,25.61647,0,0,0,.1481-2.72944.59489.59489,0,0,0,.5586-.3414c.0568-.1946-.5637-.495-.5637-.495a20.74328,20.74328,0,0,0-.1725-2.7001c.1426-.2292.2869-.452.4341-.6551a12.095,12.095,0,0,0-.1852-1.5743,1.21486,1.21486,0,0,0,.323.0747c.2825.0043.2817-.1899.1912-.2978a3.78494,3.78494,0,0,0-.6423-.4195,12.02044,12.02044,0,0,0-2.7811-5.3203,14.9875,14.9875,0,0,1,1.7548.7732,9.39245,9.39245,0,0,1,2.2114,4.9204A12.16755,12.16755,0,0,1,26.7396,19.469Z" /><path d="M80.9857,8.7917V8.5528h1.2188v.2389H81.736V9.9832h-.2835V8.7917Zm1.87-.2389L83.221,9.577l.3679-1.0242h.4062V9.9832h-.262V8.8293l-.396,1.1539h-.2287l-.3995-1.1539V9.9832h-.262V8.5528Z" /></g>',esriSvg:'<svg id="gnav-dist-esri-Australia-tm" xmlns="http://www.w3.org/2000/svg" width="84" height="30" viewBox="0 0 84 30" focusable="false"><title>Esri</title><g><path d="M77.377.695a2.51615,2.51615,0,0,0-2.5536,2.4884,2.58969,2.58969,0,0,0,5.1756,0A2.512,2.512,0,0,0,77.377.695ZM75.4635,24.12065h3.892V8.5485h-3.892ZM40.615,8.1597c-4.7019,0-8.4646,3.2749-8.4646,8.1744,0,4.89828,3.7627,8.17661,8.4646,8.17661a8.08656,8.08656,0,0,0,5.8516-2.31047L44.0102,19.7439a4.96654,4.96654,0,0,1-3.781,1.65148,4.03745,4.03745,0,0,1-4.1869-3.69818H47.9167V16.6269C47.9167,11.2076,44.9662,8.1597,40.615,8.1597Zm-4.5727,6.6168a3.87339,3.87339,0,0,1,4.023-3.6991c2.4334,0,3.9261,1.4292,3.9603,3.6991Zm17.3044-1.8482c0-1.1689,1.2333-1.655,2.2729-1.655a3.53132,3.53132,0,0,1,3.0376,1.5764l2.476-2.4735a6.83011,6.83011,0,0,0-5.418-2.2165c-3.1469,0-6.2621,1.5555-6.2621,5.0284,0,5.9379,8.4026,3.4059,8.4026,6.6172,0,1.23253-1.4594,1.78384-2.5946,1.78384a4.75239,4.75239,0,0,1-3.6905-1.905l-2.5144,2.5136a7.64753,7.64753,0,0,0,5.9779,2.313c3.1784,0,6.717-1.29823,6.717-4.99731C61.7511,13.4459,53.3467,15.7175,53.3467,12.9283Zm14.151-1.9166h-.0623V8.5485H63.5426V24.12065h3.8928V15.7815a3.91438,3.91438,0,0,1,4.1848-3.9252,7.452,7.452,0,0,1,1.7181.253l.1519-3.7259a5.03109,5.03109,0,0,0-1.3826-.2237A4.96277,4.96277,0,0,0,67.4977,11.0117ZM14.782,2.9606a10.41336,10.41336,0,0,0-2.651.2599.49091.49091,0,0,0-.6431.4729.65358.65358,0,0,0,.2394.5615,20.045,20.045,0,0,1,2.4735,2.1423c-.4694.0517-.9807.1379-1.5039.2462-.5847-1.264-2.4653-.1147-3.71354-.0648-.14639.006-.28684.0252-.43149.035A20.32772,20.32772,0,0,1,8.3415,3.6934a17.20722,17.20722,0,0,1,6.875-1.6255l.3721-.0098c.3124-.0027.3371-.2514.0435-.2915A13.53793,13.53793,0,0,0,8.35348,2.9124,14.41291,14.41291,0,0,0,.89854,10.791c-.44337,1.2475-2.21826,7.1947.935,12.29948a13.20182,13.20182,0,0,0,9.88737,6.6769,14.15347,14.15347,0,0,0,8.7522-1.05577c5.9511-2.64154,10.4956-12.55841,5.9499-19.747C24.6289,5.6461,19.9278,2.7361,14.782,2.9606ZM12.5233,7.6083a17.75423,17.75423,0,0,1,2.3616-.3686,15.74087,15.74087,0,0,1,1.7479,2.5404c-.8053.3896-1.8781.6879-2.3146,1.3123a1.78056,1.78056,0,0,0-.2318.9943,23.589,23.589,0,0,0-3.8774,1.2862c-.45286-1.3319-.85009-2.659-1.12365-3.8421C10.3814,8.2941,11.8985,8.0927,12.5233,7.6083Zm6.6103,15.87993c-.3546.03749-.7071.08277-1.0169.13057a14.62456,14.62456,0,0,0-2.6843.72209,43.94209,43.94209,0,0,1-2.6676-4.43649A15.48586,15.48586,0,0,1,18.54,18.4602a4.61747,4.61747,0,0,0,.6909.9559C19.9871,20.1902,18.7892,21.299,19.1336,23.48823ZM10.5303,14.3485a19.29324,19.29324,0,0,1,3.5604-1.2862,2.03511,2.03511,0,0,1-.1827.903,2.50151,2.50151,0,0,0,.1336,1.7748c.7549,1.0985,2.0083.4882,2.9518.8834a2.15739,2.15739,0,0,1,.9633.8389,16.049,16.049,0,0,0-5.7053,1.4109A41.82526,41.82526,0,0,1,10.5303,14.3485Zm.8321,4.9371c-.0699.0333-.145.0742-.2171.1101-1.1019-.3073-1.78517-.478-3.25617-.7801a3.08944,3.08944,0,0,0-2.15123.1758c-.15959.0461-.3128.0879-.46173.1323-.14893-.3815-.29663-.7768-.44556-1.2018a27.12084,27.12084,0,0,1,4.82187-2.9851C10.1514,16.2283,10.8665,18.2204,11.3624,19.2856Zm.7674,4.52863a9.48665,9.48665,0,0,0,.6047-1.88965c.5692.95763,1.2487,1.9989,1.7744,2.814A17.3346,17.3346,0,0,0,11.837,26.4243,11.23781,11.23781,0,0,1,12.1298,23.81423ZM17.4642,9.1779c-.0102.0145-.0282.0261-.0393.0401a23.04534,23.04534,0,0,0-1.3771-2.1111,21.90906,21.90906,0,0,1,3.3743.1084C18.4082,7.5781,17.9609,8.4687,17.4642,9.1779Zm-9.028,1.0938c.01836-.0256.03837-.0465.05716-.0717.23344,1.1821.51294,2.1606.88552,3.5178a33.49783,33.49783,0,0,0-4.976,2.9723,17.18753,17.18753,0,0,1-.5889-1.9465,1.77168,1.77168,0,0,1,1.47617-1.325C6.51758,13.2957,7.57083,11.4696,8.43624,10.2717ZM3.0267,8.4883A15.96075,15.96075,0,0,1,7.74876,3.9686a26.225,26.225,0,0,0,.21806,2.6928q-.85463.0852-1.69211.2109a12.08231,12.08231,0,0,0-3.11438,4.0878A14.926,14.926,0,0,1,3.0267,8.4883ZM2.16984,9.9256s.06188,1.0601.1131,1.8329a11.90283,11.90283,0,0,0-1.17919,1.5914A9.53467,9.53467,0,0,1,2.16984,9.9256Zm7.664,18.35671A12.62638,12.62638,0,0,1,1.72131,20.029a17.47511,17.47511,0,0,1-.65164-6.473.65293.65293,0,0,0,.38018.0167c.13486-.0922.61581-.4302.95763-.7277.00472.0393.01241.0892.01792.1314a12.04271,12.04271,0,0,0-.40064,2.7099,19.25881,19.25881,0,0,1,1.28616,1.7062c-.31061.2304-.9051.6418-1.04468.7417a.62859.62859,0,0,0-.114,1.0148.56565.56565,0,0,0,.6124-.0103,10.69141,10.69141,0,0,1,1.06609-.769c.151.3926.29182.7468.43052,1.0848a1.34447,1.34447,0,0,0-.34269.79893,2.46079,2.46079,0,0,0,1.91875,2.35994c.035.01022.06057.01363.09388.02307.0499.07508.09517.14674.14761.22357A5.74221,5.74221,0,0,0,5.03032,23.9226c-.13189.17244-.28125.43018-.15959.48139a2.1227,2.1227,0,0,0,.71824-.03408c.46644-.08967.82618-.606,1.14833-.7955a17.99721,17.99721,0,0,0,1.67159,1.87942c.02866.11947.05506.24576.08792.3516a7.47254,7.47254,0,0,0,.495,1.19578A12.16213,12.16213,0,0,0,10.456,27.562,8.34474,8.34474,0,0,0,9.83383,28.28231Zm.98917.31236a4.36881,4.36881,0,0,1,.5054-.6256c.4672.30983.9682.66493,1.3677.89366A9.59947,9.59947,0,0,1,10.823,28.59467Zm3.1128.30983a22.07987,22.07987,0,0,1-2.0088-1.47057,14.04631,14.04631,0,0,1,3.1281-1.88878c.4016.63076,1.7267,2.50678,2.2575,3.11184A17.30216,17.30216,0,0,1,13.9358,28.9045Zm6.7055-1.50806a16.58869,16.58869,0,0,1-2.2045.98742,23.42994,23.42994,0,0,1-2.4402-3.20141,13.9527,13.9527,0,0,1,3.3466-.82111,7.49493,7.49493,0,0,0,.4438,1.09423,2.51925,2.51925,0,0,0,.6486.85345c.0853-.05287.1644-.11519.2484-.16981C20.678,26.55828,20.6665,26.98505,20.6413,27.39644ZM20.3106,5.9188c-.2702-.1719-.6068-.1079-.4669.1933a4.06966,4.06966,0,0,0,.4272.5122,19.53821,19.53821,0,0,0-4.856-.3645,15.62334,15.62334,0,0,0-2.8614-2.7649c4.999-.3111,9.4897,1.7565,11.4737,4.1856a15.42616,15.42616,0,0,0-2.6677-.9628A5.95374,5.95374,0,0,0,20.3106,5.9188Zm1.0946,21.06538c.023-.40711.0402-.92267.0529-1.39637a12.11693,12.11693,0,0,0,1.3695-1.23757,12.42379,12.42379,0,0,1,1.4275.23895A11.02525,11.02525,0,0,1,21.4052,26.98418Zm3.8245-3.72467a4.1318,4.1318,0,0,1-.6328.89444,9.77165,9.77165,0,0,0-1.2722-.37468c.0786-.09387.1635-.18267.2395-.27915.2688-1.7957-.3376-2.371.4211-4.01392.053-.1144.111-.2407.1716-.3713a11.3497,11.3497,0,0,1,1.1526.3858A30.26049,30.26049,0,0,1,25.2297,23.25951Zm-.7079-4.91621c.1959-.4072.4118-.8399.6456-1.2708.0607.5479.1042,1.0813.1307,1.5635C25.0578,18.5302,24.7936,18.4346,24.5218,18.3433Zm2.2178,1.1257-.1937.75629a18.08656,18.08656,0,0,1-.8318,2.22245,25.61647,25.61647,0,0,0,.1481-2.72944.59489.59489,0,0,0,.5586-.3414c.0568-.1946-.5637-.495-.5637-.495a20.74328,20.74328,0,0,0-.1725-2.7001c.1426-.2292.2869-.452.4341-.6551a12.095,12.095,0,0,0-.1852-1.5743,1.21486,1.21486,0,0,0,.323.0747c.2825.0043.2817-.1899.1912-.2978a3.78494,3.78494,0,0,0-.6423-.4195,12.02044,12.02044,0,0,0-2.7811-5.3203,14.9875,14.9875,0,0,1,1.7548.7732,9.39245,9.39245,0,0,1,2.2114,4.9204A12.16755,12.16755,0,0,1,26.7396,19.469Z" /><path d="M80.9857,8.7917V8.5528h1.2188v.2389H81.736V9.9832h-.2835V8.7917Zm1.87-.2389L83.221,9.577l.3679-1.0242h.4062V9.9832h-.262V8.8293l-.396,1.1539h-.2287l-.3995-1.1539V9.9832h-.262V8.5528Z" /></g></svg>',
gaeSvg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" focusable="false" title="ArcGIS GeoAnalytics Engine"><defs><linearGradient id="linear-gradient" x1="38.62" y1="3.817" x2="9.141" y2="54.877" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#e63a00"/><stop offset=".031" stop-color="#e63a00" stop-opacity=".883"/><stop offset=".099" stop-color="#e63a00" stop-opacity=".652"/><stop offset=".168" stop-color="#e63a00" stop-opacity=".452"/><stop offset=".236" stop-color="#e63a00" stop-opacity=".289"/><stop offset=".304" stop-color="#e63a00" stop-opacity=".163"/><stop offset=".371" stop-color="#e63a00" stop-opacity=".072"/><stop offset=".437" stop-color="#e63a00" stop-opacity=".018"/><stop offset=".5" stop-color="#e63a00" stop-opacity="0"/></linearGradient><linearGradient id="linear-gradient-2" x1="4.25" y1="31.995" x2="32" y2="31.995" gradientUnits="userSpaceOnUse"><stop offset=".722" stop-color="#fff"/><stop offset="1" stop-color="#333"/></linearGradient><linearGradient id="linear-gradient-3" x1="16.5" y1="31.993" x2="47.5" y2="31.993" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="gray"/><stop offset=".05" stop-color="#989898"/><stop offset=".142" stop-color="#bdbdbd"/><stop offset=".234" stop-color="#dadada"/><stop offset=".324" stop-color="#eee"/><stop offset=".414" stop-color="#fbfbfb"/><stop offset=".5" stop-color="#fff"/><stop offset=".564" stop-color="#fbfbfb"/><stop offset=".63" stop-color="#eee"/><stop offset=".697" stop-color="#dadada"/><stop offset=".765" stop-color="#bdbdbd"/><stop offset=".833" stop-color="#979797"/><stop offset=".902" stop-color="#696969"/><stop offset=".97" stop-color="#343434"/><stop offset="1" stop-color="#1a1a1a"/></linearGradient><radialGradient id="radial-gradient" cx="13.512" cy="43.922" r="50.32" gradientTransform="matrix(1.0825 0 0 1.07277 32.634 .002)" gradientUnits="userSpaceOnUse"><stop offset=".002" stop-color="#f80"/><stop offset=".515" stop-color="#e36200"/></radialGradient><mask id="mask" x="4" y="-.006" width="28" height="64" maskUnits="userSpaceOnUse"><path d="M31.098.184L8.443 10.1a7 7 0 0 0-4.193 6.413v35.54l26.848 11.752a2.25 2.25 0 0 0 .902.19v-64a2.25 2.25 0 0 0-.902.19z" fill="url(#linear-gradient)"/><path d="M31.098.184L8.443 10.1a7 7 0 0 0-4.193 6.413v35.54l26.848 11.752a2.25 2.25 0 0 0 .902.19v-64a2.25 2.25 0 0 0-.902.19z" fill="url(#linear-gradient-2)"/></mask><linearGradient id="linear-gradient-4" x1="38.552" y1="3.777" x2="9.01" y2="54.945" gradientUnits="userSpaceOnUse"><stop offset=".001" stop-color="#f80"/><stop offset=".056" stop-color="#f80" stop-opacity=".797"/><stop offset=".12" stop-color="#f80" stop-opacity=".588"/><stop offset=".185" stop-color="#f80" stop-opacity=".408"/><stop offset=".25" stop-color="#f80" stop-opacity=".261"/><stop offset=".314" stop-color="#f80" stop-opacity=".147"/><stop offset=".378" stop-color="#f80" stop-opacity=".065"/><stop offset=".44" stop-color="#f80" stop-opacity=".016"/><stop offset=".5" stop-color="#f80" stop-opacity="0"/></linearGradient><mask id="mask-2" x="16.5" y="-.005" width="31" height="63.999" maskUnits="userSpaceOnUse"><path d="M33.69 63.229l12.07-13.74a7 7 0 0 0 1.74-4.62V6.574L32.902.184a2.25 2.25 0 0 0-1.804 0L16.5 6.574v38.295a7 7 0 0 0 1.74 4.62l12.07 13.74a2.258 2.258 0 0 0 3.38 0z" fill="url(#linear-gradient-3)"/></mask><linearGradient id="linear-gradient-5" x1="32" y1="-.005" x2="32" y2="63.994" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#cc4b00" stop-opacity="0"/><stop offset=".076" stop-color="#cc4b00" stop-opacity=".02"/><stop offset=".154" stop-color="#cc4b00" stop-opacity=".081"/><stop offset=".234" stop-color="#cc4b00" stop-opacity=".183"/><stop offset=".315" stop-color="#cc4b00" stop-opacity=".326"/><stop offset=".396" stop-color="#cc4b00" stop-opacity=".509"/><stop offset=".477" stop-color="#cc4b00" stop-opacity=".73"/><stop offset=".5" stop-color="#cc4b00" stop-opacity=".8"/><stop offset=".581" stop-color="#cc4b00" stop-opacity=".78"/><stop offset=".665" stop-color="#cc4b00" stop-opacity=".719"/><stop offset=".751" stop-color="#cc4b00" stop-opacity=".617"/><stop offset=".837" stop-color="#cc4b00" stop-opacity=".474"/><stop offset=".923" stop-color="#cc4b00" stop-opacity=".293"/><stop offset="1" stop-color="#cc4b00" stop-opacity=".1"/></linearGradient></defs><g id="hexagons"><path d="M4 16.716v35.337L31.1 63.806a2.264 2.264 0 0 0 1.8.002l22.717-9.854A7.282 7.282 0 0 0 60 47.274V11.936L32.901.184a2.27 2.27 0 0 0-1.803 0L8.384 10.035A7.282 7.282 0 0 0 4 16.716z" fill="url(#radial-gradient)"/><g mask="url(#mask)"><path d="M31.098.184L8.366 10.042A7.25 7.25 0 0 0 4 16.693v35.36L31.1 63.806a2.246 2.246 0 0 0 .902.188v-64a2.25 2.25 0 0 0-.903.19z" fill="url(#linear-gradient-4)"/></g><g mask="url(#mask-2)"><path d="M30.31 63.229a2.25 2.25 0 0 0 3.38 0l12.07-13.74a7 7 0 0 0 1.74-4.62V6.574L32.901.184a2.247 2.247 0 0 0-1.803 0L16.5 6.517v38.352a7 7 0 0 0 1.74 4.62z" fill="url(#linear-gradient-5)"/></g></g><path d="M45.488 23.37a12.846 12.846 0 0 0-12-8.899 12.703 12.703 0 0 0-7.99 2.588c-.07.053-.135.11-.203.163a3.395 3.395 0 1 0-.856 6.678 3.33 3.33 0 0 0 .338-.034l9.366 10.836a2.885 2.885 0 0 0-.051 1.316l-7.682 7.155a3.495 3.495 0 0 0-2.625.608l-.571.003c-1.794.011-3.335.166-4.956-.77a6.312 6.312 0 0 1-1.419-9.982l-.067-.1a3.5 3.5 0 1 0-2.8-3.749 11.264 11.264 0 0 0 1.755 18.301c2.368 1.389 4.428 1.491 6.906 1.51a3.853 3.853 0 0 0 7.038-2.98l7.233-7.168a3.409 3.409 0 1 0 .144-6.707L27.72 21.348a3.378 3.378 0 0 0 .075-.411c.268-.198.534-.397.81-.587a8.203 8.203 0 0 1 12.738 5.267l.253 1.361 1.39.412a8.301 8.301 0 0 1-2.584 16.287 1.766 1.766 0 0 0-1.248.503l-4.927 4.81c6.837-.005 8.934.235 12.203-1.345 10.388-5.017 9.928-20.158-.942-24.275z" fill="#fff" id="icons"/></svg>',user:'<path d="M11 3a3 3 0 1 0-3 3 3 3 0 0 0 3-3zM8 5a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm3 1H5a2 2 0 0 0-2 2v6a1 1 0 0 0 1 1h1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1h1a1 1 0 0 0 1-1V8a2 2 0 0 0-2-2zm1 3v5h-1V9h-1v6H6V9H5v5H4V8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z" />',help:'<path d="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 10.5a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM8 9H7a3.046 3.046 0 0 1 1.282-2.51c.47-.462.736-.746.732-1.217a1.324 1.324 0 0 0-1.46-1.27 1.418 1.418 0 0 0-1.548 1.394h-1c0-3.09 5.009-3.154 5.008-.128a2.617 2.617 0 0 1-1.032 1.935C8.462 7.715 8 7.995 8 9z" />',close:'<path d="M13.207 12.5l7.778 7.778-.707.707-7.778-7.778-7.778 7.778-.707-.707 7.778-7.778-7.778-7.778.707-.707 7.778 7.778 7.778-7.778.707.707z" />',chevronUp:'<path d="M11.5,9.71,4,17.21V15.79l7.5-7.5,7.5,7.5v1.42Z"/>',lock:'<path d="M13 7V5A5 5 0 0 0 3 5v2a1.003 1.003 0 0 0-1 1v7a1.003 1.003 0 0 0 1 1h10a1.003 1.003 0 0 0 1-1V8a1.003 1.003 0 0 0-1-1zM4 5a4 4 0 0 1 8 0v2h-1V5a3 3 0 0 0-6 0v2H4zm6 2H6V5a2 2 0 0 1 4 0zm3 8H3V8h10zm-5-1H7V9h1v1h1v1H8v1h1v1H8z"/>',trash:'<path d="M12.854 4h1.003l-.79 11.071a1.004 1.004 0 0 1-.999.929H3.932a1.004 1.004 0 0 1-.998-.93L2.143 4h1.003l.786 11h8.136zm-9.78-1H1V2h4V1a1.001 1.001 0 0 1 1-1h4a1.001 1.001 0 0 1 1 1v1h4v1H3.074zM6 2h4V1H6zm3.5 11a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-1 0v7a.5.5 0 0 0 .5.5zm-3 0a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-1 0v7a.5.5 0 0 0 .5.5z"/>',info:'<path d="M7.5 0A7.5 7.5 0 1 0 15 7.5 7.509 7.509 0 0 0 7.5 0zm.001 14.1A6.6 6.6 0 1 1 14.1 7.5a6.608 6.608 0 0 1-6.599 6.6zM7.5 5.5a1 1 0 1 1 1-1 1.002 1.002 0 0 1-1 1zM7 7h1v5H7zm2 5H6v-1h3z"/>',google:'<svg version="1.1" id="google_icon" focusable="false" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 533.5 544.3" style="enable-background:new 0 0 533.5 544.3;" xml:space="preserve"><style type="text/css">.st0{fill:#4285F4;}.st1{fill:#34A853;}.st2{fill:#FBBC04;}.st3{fill:#EA4335;}</style><g><path class="st0" d="M533.5,278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1,33.8-25.7,63.7-54.4,82.7v68h87.7 C503.9,431.2,533.5,361.2,533.5,278.4z"/><path class="st1" d="M272.1,544.3c73.4,0,135.3-24.1,180.4-65.7l-87.7-68c-24.4,16.6-55.9,26-92.6,26c-71,0-131.2-47.9-152.8-112.3 H28.9v70.1C75.1,486.3,169.2,544.3,272.1,544.3z"/><path class="st2" d="M119.3,324.3c-11.4-33.8-11.4-70.4,0-104.2V150H28.9c-38.6,76.9-38.6,167.5,0,244.4L119.3,324.3z"/><path class="st3" d="M272.1,107.7c38.8-0.6,76.3,14,104.4,40.8l0,0l77.7-77.7C405,24.6,339.7-0.8,272.1,0C169.2,0,75.1,58,28.9,150 l90.4,70.1C140.8,155.6,201.1,107.7,272.1,107.7z"/></g></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" focusable="false" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 14222 14222" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css">.fil0 {fill:#1977F3;fill-rule:nonzero;}.fil1 {fill:#FEFEFE;fill-rule:nonzero;}</style><g id="Layer_x0020_1"><path class="fil0" d="M14222 7111c0,-3927 -3184,-7111 -7111,-7111 -3927,0 -7111,3184 -7111,7111 0,3549 2600,6491 6000,7025l0 -4969 -1806 0 0 -2056 1806 0 0 -1567c0,-1782 1062,-2767 2686,-2767 778,0 1592,139 1592,139l0 1750 -897 0c-883,0 -1159,548 -1159,1111l0 1334 1972 0 -315 2056 -1657 0 0 4969c3400,-533 6000,-3475 6000,-7025z"/><path class="fil1" d="M9879 9167l315 -2056 -1972 0 0 -1334c0,-562 275,-1111 1159,-1111l897 0 0 -1750c0,0 -814,-139 -1592,-139 -1624,0 -2686,984 -2686,2767l0 1567 -1806 0 0 2056 1806 0 0 4969c362,57 733,86 1111,86 378,0 749,-30 1111,-86l0 -4969 1657 0z"/></g></svg>',apple_old:'<svg version="1.1" id="apple_logo" class="svg-icon-black" focusable="false" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 22.773 22.773" style="enable-background:new 0 0 22.773 22.773;" xml:space="preserve"><g><path d="M15.769,0c0.053,0,0.106,0,0.162,0c0.13,1.606-0.483,2.806-1.228,3.675c-0.731,0.863-1.732,1.7-3.351,1.573 c-0.108-1.583,0.506-2.694,1.25-3.561C13.292,0.879,14.557,0.16,15.769,0z"/><path d="M20.67,16.716c0,0.016,0,0.03,0,0.045c-0.455,1.378-1.104,2.559-1.896,3.655c-0.723,0.995-1.609,2.334-3.191,2.334 c-1.367,0-2.275-0.879-3.676-0.903c-1.482-0.024-2.297,0.735-3.652,0.926c-0.155,0-0.31,0-0.462,0 c-0.995-0.144-1.798-0.932-2.383-1.642c-1.725-2.098-3.058-4.808-3.306-8.276c0-0.34,0-0.679,0-1.019 c0.105-2.482,1.311-4.5,2.914-5.478c0.846-0.52,2.009-0.963,3.304-0.765c0.555,0.086,1.122,0.276,1.619,0.464 c0.471,0.181,1.06,0.502,1.618,0.485c0.378-0.011,0.754-0.208,1.135-0.347c1.116-0.403,2.21-0.865,3.652-0.648 c1.733,0.262,2.963,1.032,3.723,2.22c-1.466,0.933-2.625,2.339-2.427,4.74C17.818,14.688,19.086,15.964,20.67,16.716z"/></g></svg>',apple:'<svg id="apple_logo" focusable="false" width="56px" height="56px" viewBox="0 0 56 56" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><clipPath id="circleClip"><circle cx="28" cy="28" r="22" /></clipPath></defs><g id="Black-Logo-Square" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" clip-path="url(#circleClip)"><rect id="Rectangle" x="6" y="6" width="44" height="44"></rect><path d="M28.2226562,20.3846154 C29.0546875,20.3846154 30.0976562,19.8048315 30.71875,19.0317864 C31.28125,18.3312142 31.6914062,17.352829 31.6914062,16.3744437 C31.6914062,16.2415766 31.6796875,16.1087095 31.65625,16 C30.7304687,16.0362365 29.6171875,16.640178 28.9492187,17.4494596 C28.421875,18.06548 27.9414062,19.0317864 27.9414062,20.0222505 C27.9414062,20.1671964 27.9648438,20.3121424 27.9765625,20.3604577 C28.0351562,20.3725366 28.1289062,20.3846154 28.2226562,20.3846154 Z M25.2929688,35 C26.4296875,35 26.9335938,34.214876 28.3515625,34.214876 C29.7929688,34.214876 30.109375,34.9758423 31.375,34.9758423 C32.6171875,34.9758423 33.4492188,33.792117 34.234375,32.6325493 C35.1132812,31.3038779 35.4765625,29.9993643 35.5,29.9389701 C35.4179688,29.9148125 33.0390625,28.9122695 33.0390625,26.0979021 C33.0390625,23.6579784 34.9140625,22.5588048 35.0195312,22.474253 C33.7773438,20.6382708 31.890625,20.5899555 31.375,20.5899555 C29.9804688,20.5899555 28.84375,21.4596313 28.1289062,21.4596313 C27.3554688,21.4596313 26.3359375,20.6382708 25.1289062,20.6382708 C22.8320312,20.6382708 20.5,22.5950413 20.5,26.2911634 C20.5,28.5861411 21.3671875,31.013986 22.4335938,32.5842339 C23.3476562,33.9129053 24.1445312,35 25.2929688,35 Z" id="Apple" fill-rule="nonzero"></path></g></svg>',github:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="octicon octicon-mark-github svg-icon-black" focusable="false" viewBox="0 0 16 16"><g><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></g></svg>',organization:'<path xmlns="http://www.w3.org/2000/svg" d="M30 29h-2V6H15V3H7v3H4v23H2v1h13v-5h2v5h13zm-12 0v-5h-4v5H5V7h3V4h6v3h13v22zM8 14h4v-4H8zm1-3h2v2H9zm5 3h4v-4h-4zm1-3h2v2h-2zm5 3h4v-4h-4zm1-3h2v2h-2zM8 21h4v-4H8zm1-3h2v2H9zm5 3h4v-4h-4zm1-3h2v2h-2zm5 3h4v-4h-4zm1-3h2v2h-2z"/>',hourglass:'<path d="M9.898 3H7v1h2.44A6.773 6.773 0 0 0 9 6.375c0 2.493 1.765 5.35 3.845 7.283A3.22 3.22 0 0 1 13.952 16a3.22 3.22 0 0 1-1.107 2.342C10.765 20.274 9 23.132 9 25.625A6.773 6.773 0 0 0 9.44 28H7v1h19v-1h-2.44a6.773 6.773 0 0 0 .44-2.375c0-2.493-1.765-5.35-3.845-7.283A3.22 3.22 0 0 1 19.048 16a3.221 3.221 0 0 1 1.107-2.342C22.235 11.726 24 8.868 24 6.375A6.773 6.773 0 0 0 23.56 4H26V3zM23 6.375c0 1.959-1.417 4.59-3.526 6.55A4.206 4.206 0 0 0 18.048 16a4.206 4.206 0 0 0 1.426 3.074C21.583 21.034 23 23.666 23 25.625A5.798 5.798 0 0 1 22.491 28H10.51a5.798 5.798 0 0 1-.51-2.375c0-1.959 1.417-4.59 3.526-6.55A4.206 4.206 0 0 0 14.952 16a4.206 4.206 0 0 0-1.426-3.074C11.417 10.966 10 8.334 10 6.375A5.798 5.798 0 0 1 10.509 4H22.49A5.798 5.798 0 0 1 23 6.375zm-11.115 2.88a20.42 20.42 0 0 0 10.052-2.19l-.005.026c-.385 2.13-2.37 4.878-4.932 6.452v7.596c1.84.333 3.587 2.4 4.991 4.384 0 .033.009.07.009.102A4.8 4.8 0 0 1 21.799 27H11.2a4.8 4.8 0 0 1-.2-1.375c0-.031.008-.066.009-.098l.122-.176c1.382-1.932 3.081-3.89 4.869-4.213v-7.585a12.068 12.068 0 0 1-4.115-4.298z"></path>',user32:'<path d="M19.5 15h-7A6.508 6.508 0 0 0 6 21.5V29h20v-7.5a6.508 6.508 0 0 0-6.5-6.5zM25 28H7v-6.5a5.506 5.506 0 0 1 5.5-5.5h7a5.506 5.506 0 0 1 5.5 5.5zm-9-14.2A5.8 5.8 0 1 0 10.2 8a5.806 5.806 0 0 0 5.8 5.8zm0-10.633A4.833 4.833 0 1 1 11.167 8 4.839 4.839 0 0 1 16 3.167z"></path>',arrowRight:'<path d="M25.293 17H5v-1h20.293l-3.646-3.646.707-.707 4.853 4.853-4.854 4.854-.707-.707z"></path>',chevronRight:'<path d="M13.207 7l9 9-9 9h-1.414l9-9-9-9z"></path>',edit:'<path d="M15.721 4.00716C15.9044 3.82141 16.0047 3.56928 15.999 3.30832C15.9934 3.04735 15.8822 2.79981 15.691 2.62216L14.278 1.20816C14.1004 1.01691 13.8528 0.905782 13.5918 0.900129C13.3309 0.894476 13.0788 0.994783 12.893 1.17816L2.84099 11.2302L1.08499 15.3272C1.02503 15.4668 1.05626 15.6288 1.16381 15.7362C1.27137 15.8435 1.4335 15.8744 1.57299 15.8142L5.66999 14.0602L14.277 5.45116L15.721 4.00716ZM2.62399 14.2762L3.17799 12.9822L3.91799 13.7222L2.62399 14.2762ZM4.96199 13.3522L3.54999 11.9372L11.557 3.92916L12.971 5.34416L4.96199 13.3522ZM13.678 4.63616L12.264 3.22216L13.354 2.13216C13.4114 2.0747 13.4893 2.04241 13.5705 2.04241C13.6517 2.04241 13.7296 2.0747 13.787 2.13216L14.768 3.11216C14.8258 3.1696 14.8582 3.2477 14.8582 3.32916C14.8582 3.41063 14.8258 3.48873 14.768 3.54616L13.678 4.63616Z"/>',check16:'<path d="M5.5 12L2 8.689l.637-.636L5.5 10.727l8.022-7.87.637.637z"/>',launch16:'<path d="M1 1h8v1H2v12h12V7h1v8H1zm7.325 7.382L14 2.707V5h1V1h-4v1h2.293L7.618 7.675z"></path>',circleNo24:'<path d="M12.5 2.2a10.3 10.3 0 1 0 10.3 10.3A10.299 10.299 0 0 0 12.5 2.2zm0 1a9.252 9.252 0 0 1 6.203 2.39L5.59 18.703A9.284 9.284 0 0 1 12.5 3.2zm0 18.6a9.252 9.252 0 0 1-6.203-2.39L19.41 6.297A9.284 9.284 0 0 1 12.5 21.8z"/>',securityKey32:'<path fill="currentColor" d="M16 29H8a3.003 3.003 0 0 1-3-3V10h14v3.935a7.692 7.692 0 0 0 1-.369V10a1 1 0 0 0-1-1h-2V2a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7H5a1 1 0 0 0-1 1v16a4 4 0 0 0 4 4h8a3.966 3.966 0 0 0 2.374-.796c-.253-.232-.49-.468-.716-.707A2.98 2.98 0 0 1 16 29zM8 2h8v7H8zm21.874 14.242l-.07-.78-.774-.04c-2.86-.145-4.826-.81-6.188-2.088l-.342-.322-.342.321c-1.341 1.26-3.357 1.944-6.2 2.09l-.773.04-.07.78c-.382 4.295-.092 10.56 6.953 14.491l.432.24.432-.24c7.02-3.916 7.323-10.19 6.942-14.492zM22.5 29.83c-6.438-3.624-6.74-9.41-6.396-13.413a10.737 10.737 0 0 0 6.396-2.054c1.5 1.241 3.547 1.897 6.385 2.054.344 4.01.027 9.804-6.385 13.413zM6 12h2v1H6z"/>',fingerprint32:'<path fill="currentColor" d="M7.50793 27.367C7.4026 27.3667 7.30035 27.3314 7.21714 27.2669C7.13393 27.2023 7.07443 27.112 7.04793 27.01C5.21093 19.943 7.56393 14.103 13.1879 11.77C13.3045 11.7215 13.4356 11.7212 13.5523 11.7693C13.669 11.8175 13.7619 11.91 13.8104 12.0265C13.859 12.1431 13.8592 12.2742 13.8111 12.3909C13.763 12.5076 13.6705 12.6005 13.5539 12.649C8.32393 14.819 6.23493 20.099 7.96893 26.771C8.00056 26.8932 7.9824 27.0228 7.91846 27.1316C7.85452 27.2403 7.75003 27.3193 7.62793 27.351C7.5888 27.3616 7.54846 27.367 7.50793 27.367ZM25.4059 21.642C26.4759 20.885 26.7259 19.225 26.0609 17.309C25.2875 15.2973 23.8756 13.5947 22.0416 12.4625C20.2077 11.3303 18.053 10.831 15.9079 11.041C15.8455 11.0442 15.7844 11.0597 15.7279 11.0866C15.6715 11.1135 15.621 11.1512 15.5792 11.1976C15.5374 11.2441 15.5051 11.2983 15.4843 11.3573C15.4635 11.4162 15.4546 11.4786 15.4579 11.541C15.4662 11.6666 15.5232 11.7839 15.6168 11.868C15.7104 11.9521 15.8332 11.9963 15.9589 11.991C20.8689 11.735 24.1239 14.63 25.1619 17.621C25.6669 19.075 25.5439 20.378 24.8559 20.864C23.7199 21.668 22.5229 20.814 20.6869 19.312C19.1889 18.086 17.6439 16.819 15.9309 17.107C15.024 17.2677 14.1948 17.7213 13.5703 18.3982C12.9457 19.0752 12.5603 19.9381 12.4729 20.855C12.4514 20.9795 12.4803 21.1075 12.5532 21.2107C12.626 21.314 12.7369 21.384 12.8614 21.4055C12.9859 21.427 13.1139 21.3981 13.2171 21.3253C13.3204 21.2524 13.3904 21.1415 13.4119 21.017C13.4764 20.2988 13.7722 19.6208 14.255 19.0851C14.7377 18.5493 15.3812 18.1847 16.0889 18.046C17.3689 17.827 18.7509 18.957 20.0839 20.048C21.3429 21.078 22.6319 22.134 23.9409 22.134C24.4691 22.1295 24.9821 21.9572 25.4059 21.642ZM18.5529 30.56C18.6018 30.4437 18.6025 30.3128 18.5549 30.196C18.5072 30.0791 18.4152 29.986 18.2989 29.937C17.0452 29.3408 15.9525 28.4528 15.1125 27.3475C14.2725 26.2422 13.7096 24.9516 13.4709 23.584C13.4472 23.4599 13.3751 23.3503 13.2706 23.2793C13.166 23.2083 13.0376 23.1818 12.9134 23.2055C12.7893 23.2293 12.6797 23.3013 12.6087 23.4059C12.5377 23.5104 12.5112 23.6389 12.5349 23.763C12.7998 25.2857 13.4285 26.7218 14.3676 27.9493C15.3068 29.1768 16.5285 30.1592 17.9289 30.813C17.9865 30.8375 18.0483 30.8504 18.1109 30.851C18.1735 30.8515 18.2355 30.8397 18.2935 30.8162C18.3515 30.7927 18.4043 30.7579 18.4488 30.714C18.4933 30.67 18.5287 30.6177 18.5529 30.56ZM12.2829 30.066C12.389 29.9976 12.4636 29.8898 12.4902 29.7664C12.5168 29.643 12.4934 29.5141 12.4249 29.408C8.75793 23.733 10.0449 18.456 13.2109 16.177C15.4679 14.551 19.3349 14.197 22.8119 18.547C22.8925 18.64 23.0058 18.6981 23.1283 18.7093C23.2508 18.7205 23.3728 18.6839 23.4689 18.6071C23.565 18.5303 23.6276 18.4193 23.6436 18.2974C23.6596 18.1754 23.6279 18.052 23.5549 17.953C19.9119 13.394 15.4539 13.389 12.6549 15.403C9.12393 17.946 7.63593 23.75 11.6249 29.925C11.6589 29.9776 11.7029 30.023 11.7544 30.0585C11.8059 30.0941 11.864 30.1191 11.9252 30.1322C11.9864 30.1453 12.0496 30.1462 12.1111 30.1349C12.1727 30.1235 12.2314 30.1001 12.2839 30.066H12.2829ZM6.22893 9.92602C8.95893 7.17202 14.8399 5.01202 20.3649 6.43302C20.4868 6.46338 20.6158 6.44432 20.7237 6.38C20.8316 6.31568 20.9097 6.21131 20.941 6.08964C20.9723 5.96797 20.9542 5.83887 20.8907 5.73048C20.8271 5.62209 20.7234 5.54321 20.6019 5.51102C14.6689 3.98502 8.54193 6.24102 5.55293 9.25702C5.50735 9.30106 5.47102 9.35375 5.44607 9.41202C5.42112 9.47028 5.40806 9.53294 5.40766 9.59632C5.40725 9.6597 5.41951 9.72252 5.4437 9.7811C5.4679 9.83968 5.50355 9.89283 5.54857 9.93745C5.59359 9.98206 5.64706 10.0172 5.70585 10.0409C5.76464 10.0646 5.82757 10.0763 5.89094 10.0753C5.95432 10.0743 6.01686 10.0607 6.07489 10.0353C6.13293 10.0098 6.1853 9.973 6.22893 9.92702V9.92602ZM28.2449 11.159C28.3424 11.0788 28.404 10.9631 28.4162 10.8375C28.4284 10.7118 28.3902 10.5865 28.3099 10.489C26.8954 8.7402 25.101 7.33668 23.0629 6.38502C23.0061 6.35882 22.9447 6.34407 22.8822 6.3416C22.8197 6.33913 22.7574 6.34899 22.6987 6.37063C22.64 6.39227 22.5861 6.42525 22.5402 6.4677C22.4943 6.51014 22.4571 6.56122 22.4309 6.61802C22.4047 6.67482 22.39 6.73622 22.3875 6.79872C22.385 6.86122 22.3949 6.92359 22.4165 6.98228C22.4382 7.04096 22.4712 7.09481 22.5136 7.14075C22.5561 7.18669 22.6071 7.22382 22.6639 7.25002C24.5714 8.14174 26.2505 9.45634 27.5739 11.094C27.6542 11.1915 27.7698 11.2531 27.8955 11.2653C28.0211 11.2775 28.1465 11.2392 28.2439 11.159H28.2449ZM24.6749 4.71202C24.7102 4.6603 24.7349 4.60214 24.7477 4.54085C24.7604 4.47957 24.7609 4.41638 24.7492 4.35489C24.7375 4.2934 24.7138 4.23482 24.6795 4.1825C24.6451 4.13019 24.6007 4.08517 24.5489 4.05002C20.3189 1.17002 13.5679 1.78002 10.3359 3.10102C10.2254 3.15289 10.139 3.24524 10.0947 3.35898C10.0503 3.47272 10.0514 3.59916 10.0976 3.71216C10.1438 3.82516 10.2317 3.91608 10.3431 3.96612C10.4544 4.01616 10.5807 4.02149 10.6959 3.98102C13.8569 2.69102 20.2449 2.27002 24.0129 4.83702C24.1172 4.90802 24.2454 4.93473 24.3693 4.91129C24.4932 4.88785 24.6028 4.81618 24.6739 4.71202H24.6749ZM28.7569 19.5C28.8822 19.4862 28.9968 19.4233 29.0757 19.325C29.1546 19.2268 29.1914 19.1013 29.1779 18.976C28.9408 16.8033 28.1316 14.7324 26.8328 12.9746C25.534 11.2167 23.7921 9.8349 21.7849 8.97002C16.1769 6.85302 8.52393 7.92002 3.86793 17.255C3.81157 17.368 3.8024 17.4987 3.84244 17.6185C3.88248 17.7382 3.96845 17.8372 4.08143 17.8935C4.19441 17.9499 4.32516 17.959 4.4449 17.919C4.56464 17.879 4.66357 17.793 4.71993 17.68C7.58693 11.931 13.4859 6.85802 21.4489 9.86002C23.2917 10.6624 24.8897 11.9376 26.0811 13.5563C27.2724 15.1751 28.0148 17.08 28.2329 19.078C28.2397 19.1402 28.2586 19.2004 28.2886 19.2552C28.3187 19.3101 28.3592 19.3584 28.408 19.3975C28.4568 19.4366 28.5128 19.4657 28.5729 19.4832C28.6329 19.5006 28.6958 19.506 28.7579 19.499L28.7569 19.5ZM27.3399 24.541C27.8536 24.1489 28.2808 23.6549 28.5947 23.0899C28.9085 22.525 29.1023 21.9013 29.1639 21.258C29.1747 21.1953 29.1728 21.1311 29.1584 21.0691C29.1439 21.0071 29.1172 20.9487 29.0797 20.8972C29.0423 20.8458 28.9949 20.8024 28.9404 20.7695C28.8859 20.7367 28.8253 20.7151 28.7624 20.7061C28.6994 20.6971 28.6352 20.7008 28.5737 20.717C28.5121 20.7332 28.4545 20.7615 28.4041 20.8004C28.3537 20.8393 28.3116 20.8879 28.2803 20.9433C28.249 20.9987 28.2292 21.0598 28.2219 21.123C28.1761 21.64 28.0244 22.142 27.7761 22.5977C27.5279 23.0534 27.1884 23.4532 26.7789 23.772C25.2549 24.882 23.0159 24.742 20.9389 23.409C20.8327 23.3407 20.7037 23.3174 20.5803 23.3442C20.4569 23.3711 20.3492 23.4458 20.2809 23.552C20.2126 23.6582 20.1893 23.7872 20.2162 23.9106C20.243 24.034 20.3177 24.1417 20.4239 24.21C21.5942 24.9983 22.9654 25.4355 24.3759 25.47C25.4377 25.4853 26.4764 25.1601 27.3399 24.542V24.541ZM24.9169 29.016C24.9378 28.8916 24.9084 28.7641 24.8353 28.6613C24.7622 28.5586 24.6513 28.4891 24.5269 28.468C21.8611 28.1199 19.396 26.8658 17.5449 24.916C16.0829 23.148 16.0749 22.012 16.4149 21.712C16.7349 21.427 17.5419 21.627 18.3329 22.459C18.4199 22.5505 18.5397 22.6037 18.6659 22.6069C18.7921 22.6101 18.9144 22.563 19.0059 22.476C19.0974 22.389 19.1506 22.2693 19.1538 22.143C19.157 22.0168 19.1099 21.8945 19.0229 21.803C17.7169 20.433 16.4279 20.427 15.7819 21C15.0609 21.64 14.8979 23.208 16.8119 25.522C18.8001 27.6596 21.4736 29.034 24.3689 29.407C24.3953 29.4118 24.4221 29.4141 24.4489 29.414C24.5614 29.4137 24.6701 29.3735 24.7557 29.3006C24.8414 29.2278 24.8985 29.127 24.9169 29.016Z" />',smartphone32:'<path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M24.5 29.079V3.92C24.4994 2.85945 23.6395 2 22.579 2H10.42C9.35945 2.00055 8.5 2.86045 8.5 3.921V29.08C8.50055 30.1405 9.36045 31 10.421 31H22.58C23.6405 30.9994 24.5 30.1395 24.5 29.079ZM9.5 3.92C9.5011 3.41196 9.91296 3.00055 10.421 3H22.58C23.088 3.00055 23.4999 3.41196 23.501 3.92V4H9.5V3.92ZM9.5 5H23.5V27H9.5V5ZM18.5 30V29H14.5V30H10.421C9.91296 29.9995 9.5011 29.588 9.5 29.08V28H23.5V29.08C23.4989 29.588 23.087 29.9995 22.579 30H18.5Z" />',faceid32:'<path fill="currentColor" d="M7.009 22.5L7 27h18v-4.5a5.506 5.506 0 0 0-5.5-5.5h-7a5.499 5.499 0 0 0-5.491 5.5zM24 22.5V26H8v-3.5a4.505 4.505 0 0 1 4.5-4.5h7a4.505 4.505 0 0 1 4.5 4.5zm-8-7.7a4.8 4.8 0 1 0-4.8-4.8 4.805 4.805 0 0 0 4.8 4.8zm0-8.6a3.8 3.8 0 1 1-3.8 3.8A3.804 3.804 0 0 1 16 6.2zM3 9H2V2h7v1H3zm27-7v7h-1V3h-6V2zm-1 21h1v7h-7v-1h6zM3 29h6v1H2v-7h1z"/>',
storymapsExpress:'<svg width="112" height="32" viewBox="0 0 112 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M34.1948 19.98C31.4148 19.98 30.0048 18.92 30.0048 17.73C30.0048 16.54 30.4448 15.85 30.9348 15.85C31.4248 15.85 31.5848 16.63 31.8548 17.18C32.232 18.2587 33.2974 18.9401 34.4348 18.83C36.3048 18.83 36.8848 17.67 36.8848 16.83C36.8848 15.5 36.2348 15.15 33.7748 13.94C32.2948 13.23 30.3448 12.33 30.3448 10.27C30.3448 7.65 32.6048 6.8 34.7548 6.8C35.666 6.82003 36.5691 6.97505 37.4348 7.26C38.3248 7.56 38.5348 8.09 38.5348 9.03C38.5348 9.97 38.1648 10.55 37.7148 10.55C36.8448 10.55 37.2048 7.93 34.5848 7.93C33.1348 7.93 32.6448 8.73 32.6448 9.6C32.6107 10.2129 32.9136 10.7957 33.4348 11.12C35.4948 12.66 39.1848 13.02 39.1848 15.87C39.1848 18.72 37.2148 19.98 34.1948 19.98Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M44.4648 12.48H43.4048V17.03C43.4048 17.81 43.5348 18.6 44.4048 18.6C44.8048 18.6 44.8848 18.79 44.8848 19.02C44.8848 19.73 43.6148 19.76 42.9448 19.76C42.0848 19.76 41.2648 19.49 41.2648 17.76V12.48H40.2648C40.0448 12.48 39.7648 12.48 39.7648 11.98C39.7459 11.8013 39.8041 11.623 39.9248 11.49C40.1948 11.18 40.6448 11.33 41.0848 10.8C41.3674 10.4986 41.5763 10.1358 41.6948 9.74C41.8048 9.33 41.9948 8.33 42.6248 8.33C43.2548 8.33 43.4048 8.47 43.4048 9V11.33H44.8048C45.0948 11.33 45.2148 11.42 45.2248 11.66C45.231 12.0924 44.8964 12.4533 44.4648 12.48Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M50.0548 19.87C46.9548 19.87 46.0548 17.6 46.0548 15.58C46.0548 12.74 47.6348 11.06 49.9348 11.06C52.8748 11.06 53.9348 13.2 53.9348 15.35C53.9548 18.15 52.1948 19.87 50.0548 19.87ZM49.9948 11.94C48.5348 11.94 48.3448 13.38 48.3448 14.94C48.3448 17.07 48.7448 18.94 49.9948 18.94C51.2448 18.94 51.6648 17.51 51.6648 15.94C51.6648 13.86 51.3548 11.94 49.9948 11.94Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M60.6048 13.33C60.0548 13.33 59.9148 12.64 59.2448 12.64C58.7948 12.64 57.9048 13.04 57.9048 14.39V18.06C57.9048 18.4 57.9948 18.64 58.1448 18.64C58.5248 18.64 58.5948 18.85 58.5948 19.06C58.5948 19.47 58.1148 19.72 57.7548 19.72H55.9148C55.3648 19.72 55.0648 19.47 55.0648 19.06C55.0648 18.85 55.0648 18.64 55.4848 18.64C55.7048 18.64 55.7748 18.47 55.7748 18.06V12.93C55.7748 12.56 55.6748 12.32 55.4948 12.32C55.1048 12.32 55.0648 12.15 55.0648 11.91C55.0648 11.49 55.5548 11.28 55.9148 11.28H57.4048C57.8848 11.28 57.9048 11.85 57.9048 12.44C58.4141 11.6797 59.2272 11.1765 60.1348 11.06C60.8648 11.06 61.3248 11.28 61.3248 12.06C61.3248 12.33 61.3048 13.33 60.6048 13.33Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M70.6748 12.25C70.5248 12.25 70.3648 12.49 70.1948 13L67.9748 19.5C66.9748 22.5 66.3548 23.84 64.9748 23.84C64.1648 23.84 63.8948 23.2 63.8948 22.59C63.8948 21.98 64.2548 21.72 64.5248 21.72C64.7948 21.72 65.0148 21.85 65.4448 21.85C65.739 21.8901 66.0292 21.7529 66.1848 21.5C66.3549 21.0557 66.3549 20.5643 66.1848 20.12C66.0833 19.6994 65.9564 19.2853 65.8048 18.88L63.6148 13.38C63.3548 12.75 63.1848 12.25 62.9548 12.25C62.7248 12.25 62.5448 12.08 62.5448 11.87C62.5448 11.42 62.9948 11.28 63.3748 11.28H65.3748C65.8648 11.28 66.2548 11.37 66.2548 11.87C66.2548 12.22 65.9848 12.25 65.7948 12.25C65.6048 12.25 65.6348 12.36 65.6348 12.56C65.6685 12.9501 65.7665 13.3319 65.9248 13.69L67.5248 17.91L68.9148 12.91C68.9631 12.765 68.9868 12.6129 68.9848 12.46C68.9848 12.36 68.9848 12.27 68.8548 12.27C68.4848 12.27 68.4048 12.1 68.4048 11.89C68.4048 11.37 68.7948 11.3 69.2448 11.3H70.2448C70.5948 11.3 71.1048 11.44 71.1048 11.89C71.1348 12.08 71.0548 12.25 70.6748 12.25Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M85.5748 19.68H83.5148C83.1148 19.68 82.6348 19.52 82.6348 19.09C82.6348 18.84 82.6348 18.65 83.0648 18.65C83.2548 18.65 83.3948 18.38 83.3948 17.99V9.75L79.6148 18.88C79.3748 19.46 79.2048 19.88 78.7648 19.88C78.3248 19.88 78.2648 19.6 78.0248 19.05L74.0248 9.76L74.1348 17.91C74.1348 18.5 74.3348 18.68 74.4948 18.68C74.9148 18.68 74.9148 18.87 74.9148 19.12C74.9148 19.56 74.4448 19.71 73.9748 19.71H72.8048C72.4248 19.71 71.9648 19.56 71.9648 19.12C71.9648 18.87 72.0648 18.68 72.4748 18.68C72.6348 18.68 72.7548 18.41 72.7548 17.91L72.8648 8.85C72.8648 8.36 72.7348 8.16 72.5148 8.16C72.0948 8.16 72.0448 7.95 72.0448 7.72C72.0448 7.27 72.5448 7.11 73.0448 7.11H75.0448C75.5948 7.11 75.7148 7.4 75.8848 7.84L79.4248 16.59L83.0548 7.7C83.2094 7.29385 83.6246 7.04888 84.0548 7.11H85.5048C85.9948 7.11 86.5048 7.29 86.5048 7.73C86.5048 8 86.4048 8.16 86.0248 8.16C85.8148 8.16 85.7248 8.48 85.7248 8.85V18.02C85.7248 18.51 85.8648 18.68 86.0348 18.68C86.4548 18.68 86.5048 18.87 86.5048 19.12C86.4748 19.52 85.9548 19.68 85.5748 19.68Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M93.8848 19.83C93.4844 19.8987 93.0733 19.8009 92.7466 19.5592C92.42 19.3176 92.2062 18.953 92.1548 18.55C91.6108 19.3765 90.6942 19.8816 89.7048 19.9C89.1649 19.9533 88.6302 19.7574 88.2524 19.3679C87.8747 18.9785 87.6952 18.438 87.7648 17.9C87.7648 16.62 88.4248 15.95 90.1248 15.32C90.9148 15.03 92.1248 14.54 92.1248 14.06V13.33C92.1248 12.43 91.8648 12.15 91.4448 12.15C91.1559 12.1555 90.8707 12.2166 90.6048 12.33C90.1378 12.5918 89.7823 13.0149 89.6048 13.52C89.3748 14.06 89.2948 14.37 88.9348 14.37C88.3948 14.37 88.3348 13.64 88.3348 12.93C88.2576 12.4507 88.4897 11.9745 88.9148 11.74C89.4578 11.5299 90.026 11.3921 90.6048 11.33C91.1564 11.2277 91.7144 11.1642 92.2748 11.14C92.8254 11.0623 93.3806 11.2478 93.7738 11.641C94.167 12.0343 94.3525 12.5894 94.2748 13.14V18.14C94.2748 18.49 94.3748 18.76 94.5248 18.81C94.6748 18.86 94.9748 18.92 94.9748 19.14C94.9848 19.52 94.5248 19.83 93.8848 19.83ZM92.1548 15.33L91.6348 15.58C90.3948 16.15 89.9148 16.58 89.9148 17.58C89.8837 17.8293 89.9594 18.0801 90.1232 18.2706C90.287 18.4611 90.5237 18.5735 90.7748 18.58C91.5577 18.4303 92.1315 17.7567 92.1548 16.96V15.33Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M100.295 19.8C99.689 19.8315 99.0933 19.6354 98.6248 19.25V22.33C98.6248 22.66 98.7148 22.87 98.8648 22.87C99.2348 22.87 99.3048 23.04 99.3048 23.25C99.3048 23.61 99.0348 23.84 98.4748 23.84H96.6748C96.1348 23.84 95.8548 23.61 95.8548 23.25C95.8548 23.04 95.8548 22.87 96.2548 22.87C96.4748 22.87 96.5448 22.71 96.5448 22.33V12.86C96.5448 12.51 96.4548 12.27 96.2848 12.27C95.9348 12.27 95.8548 12.1 95.8548 11.84C95.8548 11.58 96.3348 11.22 96.6948 11.22H97.9848C98.3748 11.22 98.5448 11.39 98.5448 12.22C99.06 11.4253 99.9589 10.9644 100.905 11.01C102.905 11.01 103.965 12.53 103.965 15.18C103.965 17.83 102.675 19.8 100.295 19.8ZM100.045 12.22C99.2148 12.22 98.6248 13.07 98.6248 14.33V16.86C98.6248 18.35 99.4248 18.78 100.045 18.78C101.505 18.78 101.725 17.4 101.725 15.37C101.725 13.76 101.455 12.22 100.045 12.22Z" fill="#090E13"/><path fill-rule="evenodd" clip-rule="evenodd" d="M108.455 19.82C107.441 19.9234 106.421 19.6878 105.555 19.15C105.205 18.85 105.185 18.49 105.185 17.76C105.185 17.4 105.285 16.86 105.775 16.86C106.265 16.86 106.415 17.68 106.925 18.25C107.337 18.7549 107.978 19.015 108.625 18.94C108.964 18.9656 109.297 18.8464 109.543 18.6119C109.789 18.3774 109.924 18.0497 109.915 17.71C109.915 16.88 108.995 16.62 108.045 16.24C106.215 15.5 105.275 14.99 105.275 13.42C105.275 11.85 106.615 11.01 108.275 11.01C109.595 11.01 111.345 11.15 111.345 12.26C111.345 13.37 111.145 13.8 110.725 13.8C110.305 13.8 110.015 12.88 109.575 12.43C109.252 12.0448 108.767 11.8337 108.265 11.86C107.961 11.8228 107.656 11.9175 107.426 12.1201C107.197 12.3228 107.065 12.6139 107.065 12.92C107.065 13.87 108.295 14.15 109.065 14.42C110.985 15.08 111.775 15.6 111.775 17.16C111.805 19.13 109.905 19.82 108.455 19.82Z" fill="#090E13"/><path d="M7.00483 7H0.00482941V20H7.00483V7Z" fill="#4DB3B0"/><path d="M8.00483 1H7.00483V24H8.00483V1Z" fill="white"/><path d="M0.00482941 21H21.3072C21.6975 20.8103 21.9615 20.4318 22.0048 20H0.00482941V21Z" fill="white"/><path d="M7.00483 1H3.85483C1.72853 1 0.00482941 2.7237 0.00482941 4.85V7H7.00483V1Z" fill="#0B66A0"/><path d="M18.1548 1H8.00483V7H22.0048V4.85C22.0048 2.7237 20.2811 1 18.1548 1Z" fill="#398EC8"/><path d="M0.0176427 21C-0.0716124 21.7763 0.180673 22.5531 0.709031 23.1288C1.23739 23.7046 1.98973 24.0224 2.77083 24L7.00483 23.9945V21H0.0176427Z" fill="#AED1E6"/><path d="M22.0048 7H8.00483V20H22.0048V7Z" fill="#AED1E6"/><path d="M21.3068 21L18.0048 24H8.00483V21H21.3068Z" fill="#00293F"/><path d="M18.0048 24H8.00483V30.9767C8.00483 31.3582 8.23464 31.7021 8.5871 31.8481C8.93955 31.9941 9.34523 31.9133 9.61494 31.6435C10.425 30.8866 18.0048 24 18.0048 24Z" fill="#0B7ABF"/></svg>'}}),define("components/Section",["helpers","mustache","icons"],function(e,t,n){var i=function(t){this.parent=t.parent||document.body,this.authInfo=t.info||{},this.i18n=t.i18n||{},this.template=t.template||"",this.root=e.createRootElement({parent:this.parent,className:t.className||this.defaultClass,id:t.id,type:t.type||"div"}),this.startup()};return i.prototype={defaultClass:null,root:null,parent:null,authinfo:null,template:null,constructor:i,startup:function(){this.render(),this.addEventHandlers()},render:function(){var e=this.authInfo;this.root.innerHTML=t.render(this.template,{info:e,i18n:this.i18n,icons:n})},addEventHandlers:function(){}},i}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,i,a){if(n===a)return!0;if(e===i){if("http"===e)return t(n,"80")===t(a,"80");if("https"===e)return t(n,"443")===t(a,"443")}return!1}var i,a,s,r,o,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,h=u&&location.protocol&&location.protocol.replace(/\:/,""),f=u&&location.hostname,p=u&&(location.port||void 0),m={},v=e.config&&e.config()||{};return i={version:"2.0.16",strip:function(e){if(e){e=e.replace(l,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:v.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(e){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,i,a=!1,s=e.lastIndexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!r||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,i=n||t,s=i.indexOf("!"),-1!==s&&(a="strip"===i.substring(s+1),i=i.substring(0,s),n?n=i:t=i),{moduleName:t,ext:n,strip:a}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,a,s){var r,o,c,l=i.xdRegExp.exec(e);return!l||(r=l[2],o=l[3],o=o.split(":"),c=o[1],o=o[0],(!r||r===t)&&(!o||o.toLowerCase()===a.toLowerCase())&&(!c&&!o||n(r,c,t,s)))},finishLoad:function(e,t,n,a){n=t?i.strip(n):n,v.isBuild&&(m[e]=n),a(n)},load:function(e,t,n,a){if(a&&a.isBuild&&!a.inlineText)return void n();v.isBuild=a&&a.isBuild;var s=i.parseName(e),r=s.moduleName+(s.ext?"."+s.ext:""),o=t.toUrl(r),c=v.useXhr||i.useXhr;if(0===o.indexOf("empty:"))return void n();!u||c(o,h,f,p)?i.get(o,function(t){i.finishLoad(e,s.strip,t,n)},function(e){n.error&&n.error(e)}):t([r],function(e){i.finishLoad(s.moduleName+"."+s.ext,s.strip,e,n)},function(e){n.error&&n.error(e)})},write:function(e,t,n,a){if(m.hasOwnProperty(t)){var s=i.jsEscape(m[t]);n.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,t,n,a,s){var r=i.parseName(t),o=r.ext?"."+r.ext:"",c=r.moduleName+o,l=n.toUrl(r.moduleName+o)+".js";i.load(c,n,function(t){var n=function(e){return a(l,e)};n.asModule=function(e,t){return a.asModule(e,l,t)},i.write(e,c,n,s)},s)}},"node"===v.env||!v.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(a=require.nodeRequire("fs"),i.get=function(e,t,n){try{var i=a.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(e){n&&n(e)}}):"xhr"===v.env||!v.env&&i.createXhr()?i.get=function(e,t,n,a){var s,r=i.createXhr();if(r.open("GET",e,!0),a)for(s in a)a.hasOwnProperty(s)&&r.setRequestHeader(s.toLowerCase(),a[s]);v.onXhr&&v.onXhr(r,e),r.onreadystatechange=function(i){var a,s;4===r.readyState&&(a=r.status||0,a>399&&a<600?(s=new Error(e+" HTTP status: "+a),s.xhr=r,n&&n(s)):t(r.responseText),v.onXhrComplete&&v.onXhrComplete(r,e))},r.send(null)}:"rhino"===v.env||!v.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var n,i,a=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(a),"utf-8")),o="";try{for(n=new java.lang.StringBuffer,i=r.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=r.readLine());)n.append(s),n.append(i);o=String(n.toString())}finally{r.close()}t(o)}:("xpconnect"===v.env||!v.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,r=Components.interfaces,Components.utils.import("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in s,i.get=function(e,t){var n,i,a,c={};o&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{n=s["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(a,1,0,!1),i=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),i.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(n.available(),c),i.close(),n.close(),t(c.value)}catch(e){throw new Error((a&&a.path||"")+": "+e)}}),i}),define("text!components/../../contents/privacyLink.html",[],function(){return'<div class="font-size--3 text-right">\n  <a href="https://trust.arcgis.com/{{info.parsedLocale}}/privacy/privacy-tab-intro.htm" target="_blank">\n      {{i18n.privacy}}\n  </a>\n</div>\n'}),define("components/PrivacyLink",["helpers","./Section","text!../../contents/privacyLink.html"],function(e,t,n){function i(e){e.template=n,e.type="div",t.call(this,e)}return i.prototype=Object.create(t.prototype),e.extend(i.prototype,{defaultClass:"privacy-link",constructor:i}),i}),define("components/ExpandSection",["calcite-web","helpers","./Section"],function(e,t,n){function i(e){this.exclusive=e.exclusive,"expanded"in e&&(this.expanded=e.expanded),"collapsible"in e&&(this.collapsible=e.collapsible),n.call(this,e)}return i.prototype=Object.create(n.prototype),t.extend(i.prototype,{expanded:!0,expander:null,constructor:i,render:function(){if(n.prototype.render.call(this),this.expander=t.queryOne(".accordion-title",this.root),!1===this.collapsible){this.expand(!0),this.expander&&(this.expander.removeChild(t.queryOne(".accordion-icon",this.expander)),e.removeClass(t.queryOne(".js-accordion",this.root),"js-accordion"),e.nodeListToArray(t.query("[class*='accordion-']")).forEach(function(e){e.className=e.className.replace(/accordion/g,"flat")}));var i=t.queryOne(".flat-title",this.root);i&&(e.addClass(i,"font-size--1 trailer-quarter"),i.setAttribute("role","heading"),i.setAttribute("aria-level","4"))}else{!1===this.expanded&&this.expand(!1);var a=this.getSavedState();a&&this.expand(a.expanded)}},expand:function(n){var i=t.queryOne(".accordion-section",this.root);if(i){var a=t.queryOne(".accordion-title",i);!1===n?(e.removeClass(i,"is-active"),a.getAttribute("aria-expanded")&&e.toggleAriaExpanded(a)):(e.addClass(i,"is-active"),!a.getAttribute("aria-expanded")&&e.toggleAriaExpanded(a))}},addEventHandlers:function(){e.bus.on("accordion:toggle",function(n){var i=n.node,a=this.expander&&i==this.expander.parentElement,s=!e.hasClass(i,"is-active");a&&(this.exclusive&&s&&e.nodeListToArray(t.query(".accordion-section.is-active")).forEach(function(t){e.bus.emit("accordion:toggle",{node:t})}),this.expanded=!!s,this.saveState(this.expanded))},this)},getSavedState:function(){var e;try{e=window.localStorage.getItem(this.defaultClass)}catch(e){return!1}return JSON.parse(e)},saveState:function(e){try{window.localStorage.setItem(this.defaultClass,JSON.stringify({expanded:!!e}))}catch(e){return!1}}}),i}),define("text!components/../../contents/arcgisLogin.html",[],function(){return'<div class="js-accordion accordion">\n    <div class="js-accordion-section accordion-section is-active">\n        <div class="accordion-title" id="loginTitle">\n            <span class="accordion-icon">\n                <svg class="svg-icon" data-name="chevron-up" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false">\n                    {{&icons.chevronUp}}\n                </svg>\n            </span>\n            <span>\n                {{^info.gaeFocus}}{{i18n.arcgisLogin}}{{/info.gaeFocus}}\n            </span>\n        </div>\n        <div class="accordion-content" role="region" aria-labelledby="loginTitle" id="loginPanel">\n            <form class="container" id="oauth" name="f" method="POST" action="{{info.hostname}}{{info.contextPath}}/oauth2/signin"\n                novalidate autocomplete="off" spellcheck="false">\n                <input type="hidden" id="oauth_state" name="oauth_state">\n                <input type="hidden" id="authorize" name="authorize" value="true">\n                <label class="field-icon">\n                    <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" focusable="false">\n                        {{&icons.user}}\n                    </svg>\n                    <input type="text" name="username" id="user_username" placeholder="{{i18n.username}}" aria-label="{{i18n.username}}"\n                        class="padding-left-2" autocomplete="off" autocorrect="off" autocapitalize="off" required aria-describedby="username-error">\n                    <div class="input-error-message js-username-error" id="username-error"></div>\n                </label>\n                <label class="field-icon">\n                    <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" focusable="false">\n                        {{&icons.lock}}\n                    </svg>\n                    <input required type="password" name="password" id="user_password" placeholder="{{i18n.password}}"\n                        aria-label="{{i18n.password}}" class="padding-left-2" aria-describedby="password-error">\n                    <div class="input-error-message js-password-error" id="password-error"></div>\n                </label>\n                <label id="persistUserLabel" class="hide"><input type="checkbox" name="persist" id="persistUser">{{i18n.keepMeSignedIn}}</label>\n                <div class="flex">\n                    <button id="signIn" type="submit" class="btn btn-small btn-fill">{{i18n.signIn}}</button>\n                    <button id="cancel" type="button" class="btn btn-small btn-fill btn-clear margin-left-half hide">{{i18n.cancel}}</button>\n                </div>\n            </form>\n            <div class="leader-quarter btn-fill font-size--3">\n                {{^info.isPortal}}\n                <a href="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot?oauth_state={{info.oauth_state}}&forgotMy=username">{{i18n.needHelpUsername}}</a>\n                &nbsp;{{i18n.or}}&nbsp;\n                <a href="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot?oauth_state={{info.oauth_state}}&forgotMy=password">{{i18n.needHelpPassword}}</a>\n                {{/info.isPortal}}\n                {{#info.isPortal}}\n                <a href="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot?oauth_state={{info.oauth_state}}&forgotMy=password">{{i18n.needHelpPassword}}</a>\n                {{/info.isPortal}}\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("components/ArcgisLogin",["calcite-web","helpers","./ExpandSection","text!../../contents/arcgisLogin.html"],function(e,t,n,i){function a(e){e.template=i,n.call(this,e)}return a.prototype=Object.create(n.prototype),t.extend(a.prototype,{defaultClass:"arcgis-login",constructor:a,render:function(){if(this.authInfo.isPortal&&(this.authInfo.portalhost=t.getPortal()),n.prototype.render.call(this),t.byId("oauth_state").setAttribute("value",this.authInfo.oauth_state),this.authInfo.username&&(t.byId("user_username").value=this.authInfo.username),this.authInfo.prePopulatedUsername){var i=t.byId("user_username");i.value=this.authInfo.prePopulatedUsername,i.setAttribute("readonly",!0)}!0===this.authInfo.persistOption&&e.removeClass(t.byId("persistUserLabel"),"hide"),!0!==this.authInfo.hideCancel&&e.removeClass(t.byId("cancel"),"hide")},addEventHandlers:function(){n.prototype.addEventHandlers.call(this),e.addEvent(t.byId("user_password"),"blur",this.verifyInput.bind(this)),e.addEvent(t.byId("user_username"),"blur",this.verifyInput.bind(this)),e.addEvent(t.byId("cancel"),"click",this.cancelForm.bind(this)),e.addEvent(t.byId("oauth"),"submit",this.validateForm.bind(this))},verifyInput:function(n){var i=n.target,a=t.queryOne(".js-"+i.id.split("user_")[1]+"-error");i.value.length>0&&("user_username"==i.id&&(i.value=i.value.trim()),e.removeClass(i,"input-error"),e.removeClass(a,"is-active"))},cancelForm:function(e){e.preventDefault();var n=t.byId("oauth");if(this.authInfo.join){var i=this.reverseSwizzle(this.authInfo.hostname)+"/sharing/rest/oauth2/join?join="+this.authInfo.join+"&oauth_state="+this.authInfo.oauth_state;window.location.href=i}else t.byId("authorize").setAttribute("value","false"),n.submit()},validateForm:function(n){n.preventDefault();var i=!0;if(e.nodeListToArray(t.query("input[required]",this.root)).forEach(function(n){var a=n.id.indexOf("user_")>-1?n.id.split("user_")[1]:n.id,s=t.queryOne(".js-"+a+"-error");0==n.value.length&&(i=!1,s.innerHTML=this.i18n.createAccount.errors["missing_"+a],e.addClass(n,"input-error"),e.addClass(s,"is-active"))}.bind(this)),i){if(!0===this.authInfo.persistOption){var a=t.byId("persistUser");a.value=a.checked}n.target.submit()}},reverseSwizzle:function(e){var t=e.split(".").slice(1),n=t.shift(),i="";switch(n){case"arcgis":return e;case"mapsdevext":i="devext";break;case"mapsqa":i="qaext";break;default:i="www"}return t.unshift("https://"+i),t.join(".")}}),a}),define("text!components/../../contents/myOrgs.html",[],function(){return'<div class="js-accordion accordion">\n    <div class="js-accordion-section accordion-section is-active">\n        <div class="accordion-title" id="myOrgsTitle">\n            <span class="accordion-icon">\n                <svg class="svg-icon" data-name="chevron-up" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false">\n                    {{&icons.chevronUp}}\n                </svg>\n            </span>\n            <span>\n                {{i18n.yourOrgUrl}}\n            </span>\n        </div>\n        <div class="accordion-content" role="region" aria-labelledby="myOrgsTitle" id="myOrgsPanel">\n            <div class="js-info-enterprise">\n                {{#info.savedOrgs}}\n                {{#.}}\n                <div class="pointer js-entpanel entpanel btn btn-clear block-el" tabindex="0">\n                    <div class="font-size--3 text-center">\n                        <div tabindex="-1" class="js-entlogin capital inline-block" data-url="{{url}}" href="#">{{key}}</div>\n                        <div class="js-trash-org right" data-index="{{index}}" tabindex="0">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svg-icon svg-icon-blue trash-icon" width="24" height="24" focusable="false">\n                                {{&icons.close}}\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n                {{/.}}\n                {{/info.savedOrgs}}\n                <a href="#" id="addOrgLink" class="leader-half block-el hide font-size--3">{{i18n.addOrgUrl}}</a>\n            </div>\n            <div class="js-add-enterprise hide">\n                <div id="orgInputWrapper">\n                    <label>\n                        <div class="flex flex-wrap" dir="ltr">\n                            <input type="text" id="orgKey" dir="ltr" aria-describedby="orgKey-error">\n                            <div class="post-org" dir="ltr">.{{info.orgUrlBase}}</div>\n                        </div>\n                        <div class="input-error-message" id="orgKey-error"></div>\n                    </label>\n                    <label id="remOrgLabel"><input type="checkbox" id="remOrg">{{i18n.rememberUrl}}</label>\n                </div>\n                <p id="maxOrgsNotice" class="font-size--3 hide">{{i18n.maxSavedOrgs}}</p>\n                <div class="flex flex-justify actions-area">\n                    <button class="btn btn-small btn-transparent" id="backLink">{{i18n.forgotPassword.back}}</button>\n                    <button class="btn btn-small" id="orgContinue">{{i18n.continue}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("components/MyOrgs",["calcite-web","helpers","./ExpandSection","text!../../contents/myOrgs.html"],function(e,t,n,i){function a(e){e.template=i,this.hasStorage=this._checkStorage(),n.call(this,e)}return a.prototype=Object.create(n.prototype),t.extend(a.prototype,{defaultClass:"my-orgs",hasStorage:!1,constructor:a,render:function(){var i=this.authInfo;this.setRootEnterpriseInfo(i),n.prototype.render.call(this),this.hasStorage||e.addClass(t.byId("remOrgLabel"),"hide"),i.hasOrgs?(e.removeClass(t.byId("addOrgLink"),"hide"),this.getFilteredKeys().length>2&&e.removeClass(t.byId("maxOrgsNotice"),"hide")):(e.removeClass(t.queryOne(".js-add-enterprise"),"hide"),e.addClass(t.byId("backLink"),"invisible"))},addEventHandlers:function(){n.prototype.addEventHandlers.call(this),e.nodeListToArray(t.query(".js-entlogin")).forEach(function(t){e.addEvent(t,"click",this.doEnterpriseLogin.bind(this))}.bind(this)),e.nodeListToArray(t.query(".js-entpanel")).forEach(function(n){e.addEvent(n,"keyup",this.keyEnterprisePanel.bind(this)),e.addEvent(n,"click",function(n){e.hasClass(n.currentTarget,"js-trash-org")||t.queryOne(".js-entlogin",n.currentTarget).click()})}.bind(this)),e.addEvent(t.byId("orgContinue"),"click",this.submitOrg.bind(this)),e.addEvent(t.byId("addOrgLink"),"click",this.showAddOrg.bind(this)),e.addEvent(t.byId("backLink"),"click",this.hideAddOrg.bind(this)),e.addEvent(t.byId("orgKey"),"keyup",this.keyOrgInput.bind(this)),e.addEvent(t.byId("orgKey"),"blur",function(e){var t=e.target.value;[/^http[s]*:\/\//i,/\.$/].forEach(function(e){t=t.replace(e,"")}),e.target.value=t,t.length>0&&this.validateOrgKey(t)}.bind(this)),e.nodeListToArray(t.query(".js-trash-org")).forEach(function(t){e.addEvent(t,"click",this.removeSavedOrg.bind(this))}.bind(this))},setRootEnterpriseInfo:function(e){this.storedKeys=this.hasStorage&&this.readOrgKeys()||[];var t=e.orgUrlBase,n=e.contextPath,i=this.storedKeys.map(function(e,i){var a=e+"."+t;return{index:i+1,key:e,title:a,url:"https://"+a+n+"/rest/oauth2/authorize"}});i.length&&(e.hasOrgs=!0,e.savedOrgs=i)},doEnterpriseLogin:function(e){e.preventDefault();var n=e.target,i=n.getAttribute("data-url"),a=t.byId("oauth");a.action=i,a.submit()},overEnterprisePanel:function(t){var n=t.target;e.toggleClass(n,"panel-off-white","panel-white")},keyEnterprisePanel:function(n){var i=n.keyCode;0!=i&&13!=i&&32!=i||(e.hasClass(n.target,"js-trash-org")?n.target.click():t.queryOne(".js-entlogin",n.target).click())},showAddOrg:function(){e.removeClass(t.queryOne(".js-add-enterprise"),"hide"),e.addClass(t.queryOne(".js-info-enterprise"),"hide"),e.addClass(t.byId("addOrgLink"),"hide"),this.getFilteredKeys().length>=3&&e.addClass(t.byId("remOrgLabel"),"hide"),t.byId("orgKey").focus()},hideAddOrg:function(){e.addClass(t.queryOne(".js-add-enterprise"),"hide"),e.removeClass(t.queryOne(".js-info-enterprise"),"hide"),e.removeClass(t.byId("addOrgLink"),"hide")},keyOrgInput:function(n){var i=n.keyCode,a=n.target,s=t.byId("orgKey-error");if("Enter"==n.key||13==i)t.byId("orgContinue",n.target).click();else if(a.value.length>36){var r=a.value;a.value=r.slice(0,36),s.innerHTML=this.i18n.tooManyCharacters,e.addClass(a,"input-error"),e.addClass(s,"is-active")}else e.removeClass(a,"input-error"),e.removeClass(s,"is-active")},submitOrg:function(e){e.preventDefault();var n=t.byId("orgKey").value,i=t.byId("oauth"),a=t.byId("remOrg");if(this.validateOrgKey(n)){a.checked&&this.hasStorage&&this.storeOrgKey(n);var s=location.protocol+"//"+n+"."+this.authInfo.orgUrlBase+this.authInfo.contextPath+"/rest/oauth2/authorize";i.action=s,i.submit()}},validateOrgKey:function(n){var i,a=!0,s=t.byId("orgKey-error"),r=t.byId("orgKey");return 0==n.length?(a=!1,i=this.i18n.orgUrlRequired):/[^A-Za-z0-9_-]/.test(n)?(a=!1,i=this.i18n.invalidCharacters):n.length>36&&(a=!1,i=this.i18n.tooManyCharacters),a?(e.removeClass(r,"input-error"),e.removeClass(s,"is-active")):(s.innerHTML=i,e.addClass(r,"input-error"),e.addClass(s,"is-active")),a},removeSavedOrg:function(n){n.preventDefault(),n.stopImmediatePropagation();var i=n.currentTarget,a=e.closest("entpanel",i),s=i.getAttribute("data-index");if(s&&this.hasStorage){var r="orgKey"+s;localStorage.removeItem(r),this.storedKeys[s-1]=void 0,e.addClass(a,"hide");var o=this.getFilteredKeys();0===o.length&&(e.removeClass(t.queryOne(".js-add-enterprise"),"hide"),e.addClass(t.byId("addOrgLink"),"hide"),e.addClass(t.byId("backLink"),"invisible")),o.length<3&&(e.removeClass(t.byId("remOrgLabel"),"hide"),e.addClass(t.byId("maxOrgsNotice"),"hide"))}},storeOrgKey:function(e){for(var t=this.storedKeys,n=0;n<3;n++)if(!t[n]){localStorage.setItem("orgKey"+(n+1),e),this.storedKeys[n]=e;break}},readOrgKeys:function(){for(var e=[],t=1,n=null;t<4;t++)(n=localStorage.getItem("orgKey"+t))&&(e[t-1]=n);return e},getFilteredKeys:function(){return this.storedKeys.filter(function(e){return e})},_checkStorage:function(){var e=!0;try{e=window.localStorage&&"function"==typeof window.localStorage.getItem,localStorage.setItem("testitem","true"),e="true"==localStorage.getItem("testitem"),localStorage.removeItem("testitem")}catch(t){e=!1}return e}}),a}),define("text!components/../../contents/enterpriseInfo.html",[],function(){return'<div class="flat-section padded-section">\n    <div class="flat-content flex flex-columns" aria-level="4" aria-expanded="true">\n        <div class="btn btn-fill pointer js-entpanel entpanel text-left" tabindex="0">\n            <div class="font-size--3 js-entlogin" data-url="{{info.login.authorizeUrl}}" href="#">\n                {{info.login.name}}{{#info.hubRelated}}<br><span class="avenir-light">{{info.login.orgName}}</span>{{/info.hubRelated}}\n            </div>\n        </div>\n        {{^info.canSignInArcGIS}}\n        <form action="" class="hide" id="oauth" method="POST">\n            <input type="hidden" name="oauth_state" id="oauth_state" value="{{info.oauth_state}}">\n        </form>\n        {{/info.canSignInArcGIS}}\n    </div>\n</div>\n'}),define("components/EnterpriseInfo",["calcite-web","helpers","./ExpandSection","text!../../contents/enterpriseInfo.html"],function(e,t,n,i){function a(e){e.template=i,e.info=t.extend({login:e.login},e.info),n.call(this,e)}return a.prototype=Object.create(n.prototype),t.extend(a.prototype,{defaultClass:"enterprise-info",constructor:a,render:function(){n.prototype.render.call(this),this.authInfo&&(this.authInfo.hubRelated||e.nodeListToArray(t.query(".btn.text-left",this.root)).forEach(function(t){e.removeClass(t,"text-left")}))},addEventHandlers:function(){n.prototype.addEventHandlers.call(this),e.nodeListToArray(t.query(".js-entlogin")).forEach(function(t){e.addEvent(t,"click",this.doEnterpriseLogin.bind(this))
}.bind(this)),e.nodeListToArray(t.query(".js-entpanel")).forEach(function(n){e.addEvent(n,"keyup",this.keyEnterprisePanel.bind(this)),e.addEvent(n,"click",function(e){t.queryOne(".js-entlogin",e.currentTarget).click()})}.bind(this))},doEnterpriseLogin:function(e){e.preventDefault();var n=e.target,i=n.getAttribute("data-url"),a=t.byId("oauth");a&&(a.action=i,a.submit())},keyEnterprisePanel:function(e){var n=e.keyCode;0!=n&&13!=n&&32!=n||t.queryOne(".js-entlogin",e.target).click()}}),a}),function(){"use strict";function e(e,t,n,i,a,s){t[e]&&(n.push(e),!0!==t[e]&&1!==t[e]||i.push(a+e+"/"+s))}function t(e,t,n,i,a){var s=i+t+"/"+a;require._fileExists(e.toUrl(s+".js"))&&n.push(s)}function n(e,t,i){var a;for(a in t)!t.hasOwnProperty(a)||e.hasOwnProperty(a)&&!i?"object"==typeof t[a]&&(!e[a]&&t[a]&&(e[a]={}),n(e[a],t[a],i)):e[a]=t[a]}var i=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(a){var s=a.config?a.config():{};return{version:"2.0.6",load:function(a,r,o,c){c=c||{},c.locale&&(s.locale=c.locale);var l,d,u,h=i.exec(a),f=h[1],p=h[4],m=h[5],v=p.split("-"),g=[],b={},y="";if(h[5]?(f=h[1],l=f+m):(l=a,m=h[4],p=s.locale,p||(p=s.locale="undefined"==typeof navigator?"root":(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage||"root").toLowerCase()),v=p.split("-")),c.isBuild){for(g.push(l),t(r,"root",g,f,m),d=0;d<v.length;d++)u=v[d],y+=(y?"-":"")+u,t(r,y,g,f,m);r(g,function(){o()})}else r([l],function(t){var i,a=[];for(e("root",t,a,g,f,m),d=0;d<v.length;d++)i=v[d],y+=(y?"-":"")+i,e(y,t,a,g,f,m);r(g,function(){var e,i,s;for(e=a.length-1;e>-1&&a[e];e--)s=a[e],i=t[s],!0!==i&&1!==i||(i=r(f+s+"/"+m)),n(b,i);o(b)})})}}})}(),define("../nls/oauth",{root:{signInTo:"Sign in to",arcgis:"ArcGIS",arcgisLogin:"ArcGIS login",online:"Online",enterprise:"Enterprise",enterpriseLogin:"Enterprise login",signInUsing:"Using",signingIn:"Signing in",accessAccountInfo:"wants to access your ArcGIS Online account information",accessPortalAccountInfo:"wants to access your {portalName} account information",accessEnterpriseInfo:"wants to access your ArcGIS Enterprise account information",account:"account",username:"Username",password:"Password",keepMeSignedIn:"Keep me signed in",signIn:"Sign In",title:"Sign In",cancel:"Cancel",allow:"Allow",recoverUnPwd:"Recover username or password",needHelp:"Forgot username or password?",needHelpPassword:"Forgot password?",needHelpUsername:"Forgot username?",or:"or",invalidSignin:"Invalid username or password.",expiredSession:"Unable to sign in. Make sure you type in your username and password correctly. Your password is case sensitive.",sessionTimedOut:"Your session has timed out. Please try again.",passwordErrorLines:"Unable to sign in<br>Make sure you type in your username and password correctly.<br>Your password is case sensitive.",toManyLogins:"Too many invalid logins. Please try again in approximately {duration} minutes.",invalidResetLink:"Your Password reset request has expired. Please try again.",invalidInvitation:"Your invitation code has expired or is not valid. Please refer to your invitation email for further information.",passwordRequired:"Password is required",approve:"Approve",deny:"No Thanks",signInAs:"Sign in with another account",developedBy:"developed by:",developedBy2:"Developed by",developedByOrg:"Developed by {orgname}",googleLogin:"Sign in with Google",facebookLogin:"Sign in with Facebook",esriLogin:"Sign in with Esri",google:"Google",facebook:"Facebook",github:"GitHub",apple:"Apple",signInWithSocial:"Sign in",signInWithEnt:"Sign in",signInWithOrg:"Sign in to {orgname}",orgkeylabel:".maps.arcgis.com",continue:"Continue",backBtn:"< Back",organization:"Organization",myorg:"My Organization",myorgs:"My Organizations",myorgmsg:"Enter your ArcGIS organization's URL below.",yourOrgUrl:"Your ArcGIS organization's URL",addOrgUrl:"Enter another organization",rememberUrl:"Remember this URL",addUrl:"Enter another URL",approvalTitle:"Request for Permission",orgUrlRequired:"A valid organization URL is required.",invalidCharacters:"Invalid characters in organization URL.",tooManyCharacters:"Organization URL is too long.",maxSavedOrgs:"Only 3 URL's can be saved at a time. You can remove a saved URL to remember another.",protocol:"https://",signOutMsg:"You've been successfully signed out.",signOutTitle:"Sign Out",resetPasswordSuccessMsg:"You can now sign in using your new password, and can close this browser window.",resetPasswordSuccessTitle:"Password successfully changed",resetPasswordLinkExpiredOrInvalid:"The Change Password link has expired. Please submit a new request by clicking the Forgot password link on the Sign In page.",resetPasswordLinkExpiredOrInvalidTitle:"Expired / Invalid Change Password Link",userNotMemberOfOrg:"The username you entered is not a member of this organization.",portalUserCantReset:"Please contact your administrator to reset your password.",signinArcgis:"<a href={rootLogin}>Sign in on ArcGIS Online.</a>",userDisabled:"Your account has been disabled by your organization.",userBlocked:"Your account has been blocked from logging in. Please contact <a href='https://www.esri.com/en-us/contact#c=us&t=3'>Customer Service</a> for the status of your account.",userExpired:"Your subscription has been cancelled. Please contact <a href='https://www.esri.com/en-us/contact#c=us&t=3'>Customer Service</a> for assistance.",userInsufficient:"You do not have sufficient user privileges to access this application.",noMsg:"No","or-social":"OR",disabledAccount:"Unable to sign you in. Please contact Customer Service for assistance.",noAccount:"No account?",createPublic:"Create an ArcGIS public account.",createHubAcct:"Create a {hubname} account.",createPortalAcct:"Create an account",createDeveloperAcct:"Create an ArcGIS developer account",notMember:"Not a member of this organization?",signInAgol:"Sign in to your account on ArcGIS Online",signInOrgAcct:"Sign in to your ArcGIS organizational account.",passwordStrength:"Password strength",weakPassword:"Password is too weak.",learnMore:"Click to learn more.",none:"None",weak:"Weak",fair:"Fair",good:"Good",secure:"Strong",privacy:"Privacy",resetPage:{passwordsMust:"Passwords must:",resetTitle:"Reset Password",changeTitle:"Change your password",title:"Reset your password",setTitle:"Set your password",resetPasswordMsg:"It's time to change your password.",resetPasswordPolicyMsg:"It's time to change your password.",showRules:"Follow these rules.",policyMsg:"<a href='#'>Follow these rules.</a>",changePasswordBtn:"Change Password",setNewPassword:"Set a new password",oldPasswordLbl:"Old password",newPasswordLbl:"New password",confirmPasswordLbl:"Confirm new password",passwordsMustMatch:"New password and confirm new password values must match.",passwordsMustExist:"Passwords may not be blank.",minimumStrengthRequirement:"Your new password did not meet the minimum strength requirements. Click the link below to learn more about password rules.",minimumStrengthRequirementLink:"Your new password did not meet the minimum strength requirements. <a href='#' class='js-password-link'>Learn more about the password requirements</a>",minimumStrengthRequirementEsri:"The new password must be at least 8 characters and have at least one number and one letter.",unableToReset:"Unable to reset your password. Please try again.",oldPasswordNewPasswordSame:"The new password cannot be the same as the old password.",invalidOldPassword:"The old password was not correct. Please re-enter your old password.",updateOldPassword:"Your password does not meet the ArcGIS Online password requirements. Please update your password.",accountDisabled:"This account has been disabled by your organization.",accountBlocked:"This account has been blocked from logging in. Please contact Customer Service for the status of this account.",incorrectSecurityResponse:"Invalid security response for resetting password.",invalidAnswerOrg:"Invalid security question response. Please contact your organization's administrator for help in resetting your password.",invalidAnswerPublic:"Invalid security question response. <a href='https://www.esri.com/en-us/contact#c=us&t=0'>Contact Esri Customer Service</a>.",noSecurityPortal:"Either you are using an enterprise account which does not support resetting the password, or the security question and answer has not been configured for your account. Without a valid security question and answer, your password cannot be reset at this time. Please contact your portal administrator to reset your password.",minLength:"Be at least {minLength} characters long",minUpper:"Contain at least {minUpper} upper case letter(s) (A-Z)",minLower:"Contain at least {minLower} lower case letter(s) (a-z)",minLetter:"Contain at least {minLetter} letter(s) (A-Z, a-z)",minDigit:"Contain at least {minDigit} number(s) (0-9)",minOther:"Contain at least {minOther} special (!\"#$%&'()*+,-./\\:;<=>?@[]^_`{|}~) character(s)",historySize:"New Password must be different than the last {historySize} password(s)",cantMatchUsername:"Not match username",weakPassword:"Be hard to guess and not a common word",backBtn:"< Back"},mfaEnablePage:{title:"Multifactor Authentication",step1Title:"Enhance your login security",step1ForcedMfa:"Your organization requires Multifactor Authentication (MFA)",expectAdditionalSteps:"After completing the configuration, expect to complete additional security steps whenever you sign in.",installAuthenticatorApp:"Install a supported authenticator app to your device. This will enable you to receive verification codes.Follow these steps to add an extra level of security to your account.  Once you're finished, you'll be asked for additional security information each time you sign in to your account from any computer or device.",esriSupportsApps:"Esri supports authenticator apps using a Time-based One Time Password (TOTP) algorithm.",learnMore:"Learn more",helpLinkMfa:"Learn more about multifactor authentication",step1:"1. Install a <a target='_blank' id='helpAuthApp' href=''>supported authenticator app</a> on your phone.",step2:"2. Use the app to scan this QR code:",step3:"3. Once you've scanned the QR code or entered the verification code, enter the six-digit code the app provides.",installApp:"Install a supported authenticator app on your device. Esri supports all authenticator apps that use the Time-based One Time Password (TOTP) algorithm. Search for TOTP authenticator apps in the app store of your choice. A few of the supported apps are listed below.",connectApp:"Connect your authenticator app",scanCode:"Use the installed authenticator app to scan this QR code from your phone or tablet.",qrCodeAlt:"QR Code for multifactor authentication",qrHelpLink:"Can't scan the code?",enterMfaCode:"Enter this verification code into the authenticator app.",enterVerifyCode:"Enter verification code",seedMsg:"Enter the following verification code in the appropriate location of the authenticator app.",mfaVerifyMsg:"Use your authenticator app to generate a six-digit code in order to complete the sign in process.",authCodeLbl:"Enter code:",authCodeLbl2:"Enter the code your authenticator app provided:",enterCode:"Enter the six-digit verification code the authenticator app provides.",sixdigitcode:"6 digit code",prevBtn:"Back",nextBtn:"Next",doneBtn:"Done",finishBtn:"Finish",verifyBtn:"Verify",verifying:"Verifying",invalidVerificationCode:"Invalid verification code",invalidRecoveryCode:"Invalid recovery code",invalidSecurityKey:"Invalid security key",havingTrouble:"Still having trouble signing in?",exitMfa:"Exit multifactor setup",exitMfaSetup:"If you exit the setup, you will not be asked to enter a verification code when you sign in.",cancelMfa:"Yes",cancelMfaSetup:"Are you sure you want to proceed without enabling multifactor authentication?",continueSetup:"Stay",exitSetup:"Leave",missingCode:"A valid 6 character code is required",missingRecoveryCode:"A valid recovery code is required",authenticateWith:"Authenticate with",securityKey:"Security key",authenticatorApp:"Authenticator app",lostAccess:"Lost access? Use recovery code",useRecoveryCode:"Use a recovery code",enterRecoveryCode:"Enter one of your saved recovery codes to access your account",recoveryCode:"Recovery code",verifyingKey:"Verifying security key",rememberChoice:"Remember my choice?",returnToSignIn:"Return to sign in",verifyingKeyCancelled:"Verifying security key cancelled",tooManyAttempts:"Too many invalid attempts",lockoutMessage:"Please close this page and try again in 15 minutes."},securityKeysPage:{title:"Security Keys",lastUsed:"Last used",edit:"Edit",remove:"Remove",registerKey:"Register security key",manageKeys:"Manage security keys",registerNewKey:"Register new security key",keyName:"Security key alias",aliasIsPrivate:"Security key alias is only visible to you",cancel:"Cancel",register:"Register a key",securityKeys:"Security keys",registerNew:"Register new key",completeRegistration:"Complete registration",close:"Close",editKeyName:"Edit security key alias",updateKey:"Update key",save:"Save",deleteKey:"Delete security key",deleteConfirm:'Are you sure you want to delete "{keyname}"?',delete:"Delete",securityKeyDesc:"Security keys allow you to complete second step verification more securely and conveniently.",singleKeyWarning:"Only one security key is registered.<br>We recommend adding at least two in case one is lost or stolen.",expiredSession:"Your session has expired. You can not add, update, or remove keys at this time. Please close this window and try again.",noPermission:"You do not have permission to perform this action at this time.",alreadyRegistered:"This security key is already registered in your account.",aliasInUse:"This security key alias is already registered in your account. Each security key alias must be unique within your account.",timedOutOrCancel:"The operation timed out or you canceled the registration.",serverError:"The server could not be reached to complete the operation at this time. Please try again later.",keynameRequired:"The security key alias is required",keyRegistered:"Security Key registered",keyRegisteredDesc:"You have successfully registered a security key. From now on, you may use it to sign in with 2-step verification."},recoveryCodesPage:{title:"Recovery Codes",saveRecoveryCodes:"Save recovery codes",saveCodesReason:'Keep these codes safe, but accessible. <span class="avenir-demi">They won\'t be shown again.</span> These are one-time passcodes that will allow you to log in when you are away from your device.',print:"Print",download:"Download",saveCodesCheck:"I have saved the recovery codes",mustSaveCodes:"You must save the recovery codes to continue.",continue:"Continue",done:"Done",skip:"Skip for now",mfaActivated:"Multifactor authentication activated",mfaNextStep:"You've just added a second-step verification. Adding an additional security key can be more secure and convenient.",securityKeyDesc:"Security keys can include USB security keys, Face ID, fingerprint readers, or your phone.",securityRec:"Security recommendation"},forgotPassword:{title:"Request for Assistance",forgotUsernameMsg:"Please provide the information requested below associated with your login.  We'll send you an email with a way to resolve the issue.",forgotUserPass:"Forgot username or password?",forgotPass:"Forgot password",retrieveUser:"Retrieve username",emailLbl:"Email",sendBtn:"Send",usernameLbl:"Username",continueBtn:"Continue",passwordLbl:"Password",forgotMyLbl:"I forgot my",finishedMsg:"Please check your email for a message that will help you resolve this issue.",backBtn:"< Back",okBtn:"OK",back:"Back",continue:"Continue",provideInformation:"Provide the information requested below associated with your login.",provideEmail:"Please provide the email address associated with your ArcGIS account.",provideUsername:"Please provide the username associated with your ArcGIS account.",missingInformation:"Please provide the information below.",invalidEmail:"Email does not appear to be valid.",inputError:"Please provide the information requested"},termsOfUse:{approve:"Accept",deny:"Do Not Accept",termsConditions:"Terms and Conditions",decline:"Decline",ok:"OK"},createAccount:{title:"Create ArcGIS Account",title_smx:"Create Account",titleJoin:"Join {orgname}",windowTitle:"Create Account",joinWindowTitle:"Join Organization",acceptTermsTitle:"Accept Terms and Conditions",createPublic:"Create an ArcGIS Public Account",setupPublic:"Set up your ArcGIS Public Account",readTermsOfUseMsg:'Review the <a target="_blank" href="{touHref}">Esri Master Agreement</a> and <a target="_blank" href="{privacyHref}">Privacy Policy</a>',touOtherLanguages:"Review the Esri Master Agreement and Privacy Policy in other select languages",acceptTermsOfUse:"I accept and agree to be legally bound by the Esri ArcGIS Online Terms of Use and Privacy Policy.",acceptTermsOfUse1:'I agree to <a target="_blank" href="https://www.esri.com/en-us/legal/terms/full-master-agreement">Esri\'s Terms of Use.</a> <a target="_blank" href="https://www.esri.com/en-us/legal/terms/master-agreement-product">Review the Terms of Use in other select languages.</a>',acceptTermsOfUse2:'I agree to Esri\'s <a target="_blank" href=" https://www.esri.com/en-us/privacy/privacy-statements/privacy-statement">Esri\'s Privacy Statement.</a> <a target="_blank" href="http://www.esri.com/legal/privacy">Learn more about privacy at Esri.</a>',acceptLegal:"I accept and agree to be legally bound by",arcgisTou:"Esri Master Agreement",arcgisPrivacy:"Esri ArcGIS Online Privacy Policy",arcgisPrivacy_gae:"Esri Privacy Policy",hubTou:"{hubname} Terms of Use and Privacy Policy",createAccountBtn:"Create account",createNewAccount:"Create a new account",cancelBtn:"Cancel",noAccountMsg:"We just need you to create an ArcGIS Public Account associated with your {provider} credentials.",createNewAccountBtn:"Continue",createAccountOptions:"You can either:",createAccountOption1:"Create a new ArcGIS Public Account that you can sign in to with your {provider} credentials.",createAccountOption2:"Sign in to your existing account using the credentials you have already established for it.",useOtherCredentialsBtn:"Cancel",google:"Google",facebook:"Facebook",social:"providers",signInFailed:"You're Almost Done",createNewAccountMsg:"An ArcGIS Public Account is a personal account with limited usage and capabilities and is meant for non-commercial use only.",publicAcctLimit:"An ArcGIS public account is a free account designed for personal, non-commercial use.",publicAcctCanDo:"With a public account you can",publicAcctCan1:"Create, store, and manage maps, scenes, layers, apps, and other geospatial content.",publicAcctCan2:"Share content with others.",publicAcctCan3:"Access content shared by Esri and GIS users around the world.",createHubAcct:"Create a {hubname} account",setupHubAcct:"Set up your {hubname} account",hubAcctCanDo:"A {hubname} account allows you to",hubAcctCan1:"Follow initiatives and events for updates",hubAcctCan2:"Sign up to attend events",hubAcctCan3:"Create web maps and story maps",firstName:"First name",lastName:"Last name",nameLbl:"Name",email:"Email",confirmEmail:"Confirm email",promptEmailMsg:"Please enter your email address",promptUsernameMsg:"We've selected this username for you.  You can change it if you want.",promptUsernameTitle:"Here's your username",cancelUsernameBtn:"Cancel",usernameLbl:"Username",passwordLbl:"Password",usernameHelpTip:"Usernames must be between 6 and 128 characters in length.",usernameTakenError:"The username {username} is not available.  Please select another username.",cancelEmailBtn:"Cancel",nextBtn:"Next",missingEmail:"Please provide an email below.",missingUsername:"Please provide a username below.",or:"OR",createAcctWith:"Create account with",usernameMust:"The username must",usernameReq1:"Be between 6 and 128 characters in length",usernameReq2:"Not include special characters other than . (dot), _ (underscore), @ (at sign), and - (hyphen)",usernameReq3:"Not include non-alphanumeric characters",usernameReq4:"Not include spaces",usernameReq5:"Not include a . (dot), - (hyphen), _ (underscore) or @ (at sign) as the first or last character of the username",passwordMust:"The password must",passwordReq1:"Not match the username",passwordReq2:"Be at least 8 characters in length",passwordReq3:"Have at least one letter",passwordReq4:"Have at least one number",retypePassword:"Retype password",confirmPassword:"Confirm password",securityQuestion:"Security question",selectOne:"Select one",answer:"Answer",joiningOrg:"By joining {organization}:",invalidSignupTitle:"Activation Expired",invalidSignup:"Account Activation Expired",invalidSignupMsg:"The activation link to create your account has expired. Return to the Sign In page to try again.",itemsMsg:"Any items you have in the account you sign in with will become part of the organization's content <strong>and can be modified or deleted by the administrator</strong>.",accountManagedMsg:"Your account will be managed by the administrator who may reset your password, change your email address, and determine access to My Esri and Community and Forums.",leaveOrganization:"If you leave the organization your username may be removed from ArcGIS Online. Your access to Esri websites may be disabled as well, which can include training classes and support incidents.",convertPublic:"Convert your ArcGIS Public Account",transferItems:"Choosing this option will make {orgname} the owner of your account.",createAccountUsing:"Create an account using",usernamePassword:"A username and password",joinTransferTitle:"Join and transfer ownership of {username} to {orgname}",transferPoint1:"You are transferring ownership of this account to {orgname}.",transferPoint2:"All the content in your account will transfer to the organization.",transferPoint3:"The administrators of the organization will have complete access to modify items and groups, change passwords, control access to Esri websites, and to delete the account completely.",transferPoint4:"All your shared items will become private.",transferPoint5:"You will be removed from all groups except your own. Any members in your groups will be removed.",transferPoint6:"If you leave the organization you will not be able to use this account to access any Esri websites, including training classes and support incidents.",joinTransfer:"Join and transfer",errors:{missing_firstName:"First name is required.",missing_lastName:"Last name is required.",missing_email:"Email is required.",missing_confirm:"Email is required.",missing_username:"A valid username is required.",missing_password:"A valid password is required.",missing_confirmPass:"A matching password is required.",missing_oldPassword:"Must provide a password.",missing_answer:"Must provide an answer to security question.",missing_question:"A security question is required.",missing_terms:"Must agree to Master Agreement.",missing_hubterms:"Must agree to Terms of Use.",missing_smxterms:"Must agree to Terms and Conditions.",missing_privacy:"Must agree to Privacy Policy.",missing_conduct:"Must agree to the Code of Conduct.",missing_orgName:"Must provide a valid organization name.",missing_orgKey:"Must provide a valid short name.",missing_profile:"A profile handle is required.",invalid_email:"Email address is not valid.",invalid_username:"Must provide a valid username.",invalid_password:"Must provide a valid password.",invalid_confirmPass:"Passwords must match.",invalid_firstName:"Name can not be over 40 characters.",invalid_lastName:"Name can not be over 40 characters.",unmatched_email:"Emails must match.",taken_username:"This username is already taken. Please select another username.",taken_shortname:"This short name is already taken. Please select another short name.",invalid_answer:"Answer is not valid or contains invalid characters.",common_password:"Password is too commonly used or easily guessed.",weak_password:"Password doesn't meet the minimum strength requirements.",long_name:"Name can not be over 40 characters.",long_firstName:"First name can not be over 40 characters.",long_lastName:"Last name can not be over 40 characters.",long_orgName:"The organization name can not be over 55 characters.",long_orgKey:"The organization short name can not be over 16 characters.",long_username:"The username can not be over 128 characters.",short_username:"The username must be at least 6 characters."}},securityQuestion:{title:"Change your password",windowTitle:"Update security question",securityQuestionMsg:"First, please answer your security question.",securityQuestionMfaMsg:"Please answer your security question.  If you answer it correctly, your organization's administrator will receive a request to disable your multifactor authentication setting, allowing you to sign in with just your username and password.  You'll receive an email letting you know when you can do so.",securityQuestionMfaMsg2:"Request that your administrator disable multifactor authentication for your account, allowing you to sign in with just your username and password. You'll receive an email letting you know when you can sign in.",securityQuestion:"Email:",securityQuestionPrompt:"Security answer is not case sensitive.",securityQuestionPromptEnt:"Security answer is case sensitive.",continueBtn:"Continue",backBtn:"< Back",answerMustExist:"Security answer may not be blank.",answerSecurityQuestion:"To reset your password, first answer your security question. The answer is not case-sensitive.",answerSecurityQuestionEnt:"To reset your password, first answer your security question. The answer is case-sensitive.",noSecurityQuestionTitle:"No security question",noSecurityQuestion:"There is not a security question set for your account.  Please contact your ArcGIS Online Administrator for assistance.",setSecurityQuestionTitle:"You must set up a security question and answer to continue signing in. The security question will be used to identify and recover your password if you ever forget it",yourAnswer:"Your answer",finishedTitle:"Password Changed",finishedTitleMfa:"Disable MFA Request Sent",finishedMessage:"Your password has been successfully changed.",finishedMfaMessage:"Your organization's administrators will receive a request to disable your multifactor authentication setting, allowing you to sign in with just your username and password.  You'll receive an email letting you know when you can do so.",okBtn:"OK",securityQuestionHelp:"Security answer is not case sensitive.",securityQuestionHelpEnt:"Security answer is case sensitive.",newPasswordHelp:"Now supply a new password.",disableMfa:"Disable multifactor authentication"},selectUser:{windowTitle:"Select Account",tutorialPanel:"Please select the account you'd like to use.",titleTemplate:"You have multiple accounts that use your {providerName} credentials.",altText:"Profile image for {username}",signInToOrg:"Sign in to an organization",signInToAcct:"Sign in to an account",userProfileImg:"User profile image"},updateProfile:{windowTitle:"Select Account",tutorialPanel:"Please select the account you'd like to use.",titleTemplate:"You have multiple accounts that use your {providerName} credentials.",altText:"Profile image for {username}",securityQuestionMessage:"A security question has not been set for your account. Setting a security question and answer allows you to reset your password if needed.  Choose a question from the drop down menu below and enter your answer in the input box provided.",notRightNow:"Not right now",okBtn:"OK",answerLbl:"Answer:",securityQuestionLbl:"Security Question:",securityQuestionTitle:"Security Question and Answer",missingAnswer:"Please provide an answer to the selected security question.",identityAnswerTooLong:"The answer to your security question may not be more than 60 characters."},email:{title:"Email sent",emailSent:"An email has been sent to you.",activationSent:"An activation link has been sent to your email.",furtherInstructions:"Check the email associated with your account for further instructions.",passwordInstructions:"You will receive an email with further instructions to reset your password if this username exists in ArcGIS Online.",usernameInstructions:"You will receive an email with your username if this email address is associated with an ArcGIS Online Account.",passwordInstructionsEnt:"You will receive an email with further instructions to reset your password if this username exists.",usernameInstructionsEnt:"You will receive an email with your username if this email address is associated with an account.",clickLink:"Click the link in the email to complete account activation.",returnSignIn:"Return to sign in",returnArcgis:"Return to ArcGIS.com"},verify:{title:"Email verification",notVerified:"Your email has not been verified.",sendVerificationEmail:"Send a verification email to {userEmail}",verifyYourEmail:"Verify your email",verifyEmail:"Send verification email",skipForNow:"Skip for now",emailSent:"An email has been sent to you.",checkEmailForCode:"Check the email that's associated with your account for the verification code.",sixDigitCode:"Verification code",verify:"Verify",sendAnotherCode:"Send me another code",codeInvalid:"Code is invalid or expired.",emailVerified:"Your email has been verified.",continue:"Continue",codeRequired:"Verification code is required",sendMeCode:"Send me a code",haveCode:"I have a code",emailSentDesc:"An email has been sent to {userEmail} with a verification code.",verifyJustification:"Ensuring that you have a valid email address helps you receive important information from ArcGIS Online, such as password resets and account changes.",checkSpamFolder:"Email may be treated as spam. Check spam folder.",checkAllFolders:"Make sure to check all email folders."},activate:{activateOrg:"Activate your organization",setupOrg:"Set up your organization",setupUser:"Set up your account",chooseMethod:"Choose a method to activate your organization subscription.",createNew:"Create a new ArcGIS organization",convertTrial:"Convert your Organization trial to a subscription",convertPublic:"Convert your public account to an organization subscription",chooseAuthMethod:"Choose your sign in method for this account",basicOrgSettings:"Provide the basic settings for your organization.",orgName:"Organization name",orgNameDesc:"Your organization's name appears on your home page and any correspondence with members of your organization.",orgNameDesc_gae:"Your organization's name appears on your dashboard.",orgKey:"Organization short name",orgKeyDesc:"This is a name for your organization that uniquely defines its URL. Carefully consider the name you want to use.",region:"Region",regionDesc:"This determines your organization's basemap and extent defaults, which can be customized in the Map tab under Organization Settings.",eueip:"Esri User Experience Improvement Program",eueipDesc:"ArcGIS Online works continuously to improve our products and one of the best ways to find out what needs improvement is through customer feedback. The Esri User Experience Improvement program (EUEI) allows your organization to contribute to the design and development of ArcGIS Online. The program collects information about the usage of ArcGIS Online including hardware and browser characteristics, without interrupting work. The program is completely optional and anonymous; none of the information collected is used to identify or contact members of your organization.",
eueipDesc_gae:"Esri works continuously to improve our products and one of the best ways to find out what needs improvement is through customer feedback. The Esri User Experience Improvement program (EUEI) allows your organization to contribute to the design and development of Esri products. The program collects information about the usage of Esri products including hardware and browser characteristics, without interrupting work. The program is completely optional and anonymous; none of the information collected is used to identify or contact members of your organization.",sendData:"Send anonymous usage data",accountDetails:"Provide your account details",setupLogin:"Setup your login",userType:"User type",finishSetup:"Finish setup",showMore:"Show more",showLess:"Show less",title:"Activate",convertHeading:"Convert your Account?",convertTitle:"Converting an ArcGIS Public Account",convertWarning:"By converting your ArcGIS Public Account to a Personal Use subscription, all of your data and groups associated with your public account will now be included with the personal use subscription. This cannot be reverted.",convertBtn:"Upgrade account",convertError:"Your user is already associated with another organization. Use an ArcGIS Public Account to activate your subscription.",missingSocialEmail:"Unable to activate subscription. Unable to retrieve the email address associated with your social account. Please check your social account settings."},securityQuestions:{1:"What city were you born in?",2:"What was your high school mascot?",3:"What is your mother's maiden name?",4:"What was the make of your first car?",5:"What high school did you go to?",6:"What is the last name of your best friend?",7:"What is the middle name of your youngest sibling?",8:"What is the name of the street on which you grew up?",9:"What is the name of your favorite fictional character?",10:"What is the name of your favorite pet?",11:"What is the name of your favorite restaurant?",12:"What is the title of your favorite book?",13:"What is your dream job?",14:"Where did you go on your first date?"},smx:{back:"Back",signinEmail:"Sign in with email",emailLbl:"Email",password:"Password",signin:"Sign in",signupSignin:"Sign up or Sign in",continue_facebook:"Continue with Facebook",continue_google:"Continue with Google",continue_apple:"Continue with Apple",continue_linkedin:"Continue with LinkedIn",continue_email:"Continue with email",or:"Or",enterEmail:"Enter your email",next:"Next",forgotPass:"Forgot your password?",invalidSignin:"Invalid username or password.",expiredSession:"Unable to sign in. Make sure you type in your username and password correctly. Your password is case sensitive.",sessionTimedOut:"Your session has timed out. Please try again.",passwordErrorLines:"Unable to sign in<br>Make sure you type in your username and password correctly.<br>Your password is case sensitive.",toManyLogins:"Too many invalid logins. Please try again in approximately {duration} minutes.",invalidResetLink:"Your Password reset request has expired. Please try again.",invalidInvitation:"Your invitation code has expired or is not valid. Please refer to your invitation email for further information.",userNotMemberOfOrg:"The username you entered is not a member of this organization.",userDisabled:"Your account has been disabled by your organization.",userBlocked:"Your account has been blocked from logging in. Please contact <a class='link-underline' href='https://www.esri.com/en-us/contact#c=us&t=3'>Customer Service</a> for the status of your account.",userExpired:"Your subscription has been cancelled. Please contact <a class='link-underline' href='https://www.esri.com/en-us/contact#c=us&t=3'>Customer Service</a> for assistance.",userInsufficient:"You do not have sufficient user privileges to access this application.",disabledAccount:"Unable to sign you in. Please contact Customer Service for assistance.",signupSuccess:"Your account has been activated!<br>Sign in to get started.",arcgisStorymapsLink:"Looking for ArcGIS StoryMaps?<br>Go to <a class='link-underline' href='https://storymaps.arcgis.com/'>storymaps.arcgis.com</a>",securityQuestions:{1:"What city were you born in?",2:"What was your high school mascot?",3:"What is your mother's maiden name?",4:"What was the make of your first car?",5:"What high school did you go to?",6:"What is the last name of your best friend?",7:"What is the middle name of your youngest sibling?",8:"What is the name of the street on which you grew up?",9:"What is the name of your favorite fictional character?",10:"What is the name of your favorite pet?",11:"What is the name of your favorite restaurant?",12:"What is the title of your favorite book?",13:"What is your dream job?",14:"Where did you go on your first date?"},footer:{privacy:"Privacy",contact:"Contact us",terms:"Terms of Use"},forgotPassword:{title:"Request for Assistance",forgotPass:"Forgot your password?",email:"Email",enterEmail:"Enter your email",sendRecovery:"Send recovery email",invalidEmail:"Email does not appear to be valid.",inputError:"Please provide the information requested."},email:{title:"Email sent",emailSent:"An email has been sent to you.",activationSent:"Your account activation email has been sent to you.",furtherInstructions:"Check the email associated with your account for further instructions.",clickLink:"Click the link in the email to get started with StoryMaps.",returnSignIn:"Return to Sign in"},securityQuestion:{finishedMfaMessage:"Your organization's administrators will receive a request to disable your multifactor authentication setting, allowing you to sign in with just your username and password.  You'll receive an email letting you know when you can do so.",answerSecurityQuestion:"To reset your password, first answer your security question. The answer is not case-sensitive.",disableMfa:"Disable multifactor authentication",securityQuestionMfaMsg2:"Answer your security question to request that your administrator disable multifactor authentication for your account. This will enable you to sign in with just your user name and password. You'll receive an email letting you know when you can do so.",continueBtn:"Continue"},resetPage:{title:"Reset your password",changePasswordBtn:"Change password",setNewPassword:"Set a new password",oldPasswordLbl:"Old password",newPasswordLbl:"New password",confirmPasswordLbl:"Confirm new password",cantMatchUsername:"Not match email",minLength:"Be at least {minLength} characters long",minUpper:"Contain at least {minUpper} upper case letter(s) (A-Z)",minLower:"Contain at least {minLower} lower case letter(s) (a-z)",minLetter:"Contain at least {minLetter} letter(s) (A-Z, a-z)",minDigit:"Contain at least {minDigit} number(s) (0-9)",minOther:"Contain at least {minOther} special (!\"#$%&'()*+,-./\\:;<=>?@[]^_`{|}~) character(s)",historySize:"New password must be different than the last {historySize} password(s)",oldPasswordNewPasswordSame:"The new password cannot be the same as the old password.",minimumStrengthRequirementLink:"Your new password did not meet the minimum strength requirements. <a href='#' class='js-password-link link-underline'>Learn more about the password requirements</a>",unableToReset:"Unable to reset your password. Please try again.",passwordsMustMatch:"New password and confirm new password values must match.",incorrectSecurityResponse:"Invalid security response for resetting password.",invalidPassword:"Invalid password",updateOldPassword:"Your password does not meet the ArcGIS Online password requirements. Please update your password."},updateProfile:{securityQuestionMessage:"A security question has not been set for your account. Setting a security question and answer allows you to reset your password if needed.  Choose a question from the drop-down menu below and enter your answer in the field that follows.",answerLbl:"Answer:",okBtn:"OK",securityQuestionLbl:"Security Question:",securityQuestionTitle:"Security Question and Answer",missingAnswer:"Provide an answer to the selected security question.",identityAnswerTooLong:"The answer to your security question may not be more than 60 characters."},createAccount:{confirmDetails:"Confirm account details",email:"Email",createdWithEmail:"Your account will be created with this email",imported_facebook:"This email was imported from your Facebook account and cannot be changed",imported_google:"This email was imported from your Google account and cannot be changed",imported_apple:"This email was imported from your Apple account and cannot be changed",imported_linkedin:"This email was imported from your LinkedIn account and cannot be changed",passwordLbl:"Password",createPassword:"Create a password",passwordMust:"The password must",passwordReq1:"Not match your email",passwordReq2:"Be at least 8 characters in length",passwordReq3:"Have at least one letter",passwordReq4:"Have at least one number",confirmPassword:"Confirm password",securityQuestion:"Security question",selectOne:"Select one",answer:"Answer",firstName:"First name",lastName:"Last name",enterFirstName:"Enter your first name",enterLastName:"Enter your last name",enterAnswer:"Enter your answer",profileUrl:"Public Profile URL",learnMore:"Learn more",profileUrlPermanent:"This profile URL cannot be changed after your account is created",acceptSmxTandC:"I accept the <a class='link-off-black link-underline' id='TCLink' href='#' target='_blank'>terms of use</a> and <a class='link-off-black link-underline' id='PLink' href='#' target='_blank'>privacy policy</a>",acceptConduct:"I accept the <a class='link-off-black link-underline' id='CCLink' href='#' target='_blank'>code of conduct</a>",receiveNewsletter:"I want to receive the newsletter",createAccountBtn:"Create account",cancelEmailBtn:"Cancel",creatingAccount:"Creating account...",errors:{missing_firstName:"First name is required.",missing_lastName:"Last name is required.",missing_email:"Email is required.",missing_confirm:"Email is required.",missing_username:"A valid email address is required.",missing_password:"A valid password is required.",missing_confirmPass:"A matching password is required.",missing_oldPassword:"Must provide a password.",missing_answer:"Must provide an answer to security question.",missing_question:"A security question is required.",missing_terms:"Must agree to Master Agreement.",missing_hubterms:"Must agree to Terms of Use.",missing_smxterms:"Must agree to Terms and Conditions.",missing_privacy:"Must agree to Privacy Policy.",missing_conduct:"Must agree to the Code of Conduct.",missing_orgName:"Must provide a valid organization name.",missing_orgKey:"Must provide a valid short name.",missing_profile:"A profile handle is required.",invalid_email:"Email address is not valid.",invalid_email_chars:"The email cannot contain special characters other than . (dot), _ (underscore), @ (at sign), and - (hyphen).",invalid_username:"Must provide a valid email address.",invalid_username_chars:"The email cannot contain special characters other than . (dot), _ (underscore), @ (at sign), and - (hyphen).",invalid_password:"Must provide a valid password.",invalid_confirmPass:"Passwords must match.",invalid_firstName:"Name can not be over 40 characters.",invalid_lastName:"Name can not be over 40 characters.",invalid_profile:"The profile handle cannot include spaces or special characters other than . (dot), _ (underscore), @ (at sign), and - (hyphen) and must start with an alphanumeric character.",unmatched_email:"Emails must match.",taken_username:"This email address is already taken. Please select another email.",taken_shortname:"This short name is already taken. Please select another short name.",taken_profile:"This profile URL is already taken. Please select another URL.",invalid_answer:"Answer is not valid or contains invalid characters.",common_password:"Password is too commonly used or easily guessed.",weak_password:"Password doesn't meet the minimum strength requirements.",long_email:"The email can not be over 128 characters.",long_name:"Name can not be over 40 characters.",long_firstName:"First name can not be over 40 characters.",long_lastName:"Last name can not be over 40 characters.",long_orgName:"The organization name can not be over 55 characters.",long_orgKey:"The organization short name can not be over 16 characters.",long_profile:"The profile handle can not be over 128 characters.",long_username:"The email can not be over 128 characters.",short_email:"The email must be at least 6 characters.",short_profile:"The profile handle must be at least 6 characters.",short_username:"The email must be at least 6 characters."}},verify:{title:"Email verification",notVerified:"Your email has not been verified.",sendVerificationEmail:"Send a verification email to {userEmail}",verifyYourEmail:"Verify your email",verifyEmail:"Send verification email",skipForNow:"Skip for now",emailSent:"An email has been sent to you.",checkEmailForCode:"Check the email that's associated with your account for the verification code.",sixDigitCode:"Verification code",verify:"Verify",sendAnotherCode:"Send me another code",codeInvalid:"Code is invalid or expired.",emailVerified:"Your email has been verified.",continue:"Continue",codeRequired:"Verification code is required",sendMeCode:"Send me a code",haveCode:"I have a code",emailSentDesc:"An email has been sent to {userEmail} with a verification code.",verifyJustification:"Ensuring that you have a valid email address helps you receive important information from StoryMaps, such as password resets and account changes.",checkSpamFolder:"Email may be treated as spam. Check spam folder.",checkAllFolders:"Make sure to check all email folders."}}},ar:1,bg:1,bs:1,ca:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,he:1,hi:0,hr:1,hu:1,id:1,it:1,ja:1,ko:1,lt:1,lv:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sk:1,sl:1,sr:1,sv:1,tr:1,th:1,uk:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}),define("socialHelper",["./icons","i18n!../nls/oauth"],function(e,t){return{addSocialInfo:function(n){n.getSocialIcon=function(){return e[this]},n.capitalize=function(){var e=this;return e&&e.length&&(e=t[e]),e},n.continueWith=function(){var e=this;return e&&e.length&&(e=t.smx["continue_"+e]),e},n.socialProviders&&n.socialProviders.length&&n.socialProviders.length>3&&(n.socialIconsOnly=!0)}}}),define("text!components/../../contents/socialLogin.html",[],function(){return'<ul class="social-wrapper flex flex-justify list-plain">\n    {{#info.socialProviders}}\n    {{^info.socialIconsOnly}}\n    <li class="btn btn-small btn-clear padded-section">\n        <a class="flex align-center justify-center js-provider-{{.}}"\n            aria-label="{{i18n.signInWithSocial}} {{info.capitalize}}"\n            href="{{info.hostname}}{{info.contextPath}}/oauth2/social/authorize?socialLoginProviderName={{.}}&oauth_state={{info.oauth_state}}">\n            {{&info.getSocialIcon}}<span>&nbsp;{{info.capitalize}}</span>\n        </a>\n    </li>\n    {{/info.socialIconsOnly}}\n    {{#info.socialIconsOnly}}\n    <li class="btn btn-fill btn-clear padded-section">\n        <a class="js-provider-{{.}}"\n            href="{{info.hostname}}{{info.contextPath}}/oauth2/social/authorize?socialLoginProviderName={{.}}&oauth_state={{info.oauth_state}}">\n            <div class="tooltip flex-item" aria-label="{{i18n.signInWithSocial}} {{info.capitalize}}">\n                {{&info.getSocialIcon}}\n            </div>\n        </a>\n    </li>\n    {{/info.socialIconsOnly}}\n    {{/info.socialProviders}}\n</ul>\n'}),define("components/SocialLogin",["helpers","../socialHelper","./Section","text!../../contents/socialLogin.html"],function(e,t,n,i){function a(e){e.template=i,n.call(this,e)}return a.prototype=Object.create(n.prototype),e.extend(a.prototype,{defaultClass:"social-login",constructor:a,render:function(){t.addSocialInfo(this.authInfo),n.prototype.render.call(this)},addEventHandlers:function(){n.prototype.addEventHandlers.call(this)}}),a}),define("text!components/../../contents/createAcctLink.html",[],function(){return'<div class="text-center font-size--3 padded-section">\n    {{i18n.noAccount}}&nbsp;\n    {{^info.isPortal}}\n        {{#info.publicSignup}}\n        <a href="{{info.hostname}}{{info.contextPath}}/oauth2/signup?oauth_state={{info.oauth_state}}" id="createAcctLink">\n            {{#info.hubRelated}}{{i18n.createHubAcct}}{{/info.hubRelated}}\n            {{^info.hubRelated}}{{i18n.createPublic}}{{/info.hubRelated}}\n        </a>\n        {{/info.publicSignup}}\n        {{#info.esriSignup}}\n        <a href="{{info.signupLink}}">{{i18n.createPortalAcct}}</a>\n        {{/info.esriSignup}}\n        {{#info.developerSignup}}\n        <a href="{{info.signupLink}}">{{i18n.createDeveloperAcct}}</a>\n        {{/info.developerSignup}}\n    {{/info.isPortal}}\n    {{#info.isPortal}}\n    <a href="{{info.portalhost}}/home/signup.html?oauth_state={{info.oauth_state}}" id="createAcctLink">{{i18n.createPortalAcct}}</a>\n    {{/info.isPortal}}\n</div>\n'}),define("components/CreateAcctLink",["calcite-web","helpers","./Section","text!../../contents/createAcctLink.html"],function(e,t,n,i){function a(e){this.hubRelated=e.info&&(e.info.hubEnabled||e.info.isCommunity),e.template=i,n.call(this,e)}return a.prototype=Object.create(n.prototype),t.extend(a.prototype,{defaultClass:"create-acct",constructor:a,render:function(){if(this.hubRelated&&(this.authInfo.hubRelated=!0,this.setHubInfo()),this.authInfo.isPortal&&(this.authInfo.portalhost=t.getPortal()),n.prototype.render.call(this),this.hubRelated){var e=t.byId("createAcctLink");e&&(e.innerHTML=t.sub(e.innerHTML,{hubname:this.authInfo.hubname}))}},addEventHandlers:function(){n.prototype.addEventHandlers.call(this)},setHubInfo:function(){var e=this.authInfo,t=e.isCommunity?e.orgName:e.companionOrganizations&&e.companionOrganizations[0]&&e.companionOrganizations[0].orgName;e.hubname=t}}),a}),define("text!components/../../contents/appInfo.html",[],function(){return'<section class="app-banner text-center font-size--3">\n    {{^info.isPortal}}\n    <span class="avenir-demi">{{info.appTitle}}</span>&nbsp;{{i18n.accessAccountInfo}}&nbsp;\n    {{/info.isPortal}}\n    {{#info.isPortal}}\n    <span class="avenir-demi">{{info.appTitle}}</span>&nbsp;{{i18n.accessPortalAccountInfo}}\n    {{/info.isPortal}}\n    {{#info.appOrgInfo}}\n    <a class="js-modal-toggle help-toggle" data-modal="appinfo" tabindex="0">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svg-icon svg-icon-light-blue svg-icon-live svg-icon-large" focusable="false">\n            {{&icons.help}}\n        </svg>\n    </a>\n    {{/info.appOrgInfo}}\n</section>\n'}),define("text!components/../../contents/appInfoModal.html",[],function(){return'{{#info.appOrgInfo}}\n<div class="js-modal modal-overlay" data-modal="appinfo">\n    <div class="modal-content" role="dialog" aria-labelledby="modal" role="dialog">\n        <h4>{{info.appTitle}}</h4>\n        <a class="js-modal-toggle right modal-close" aria-label="Close modal" tabindex="0">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svg-icon svg-icon-gray svg-icon-live" width="24" height="24" focusable="false">\n                {{&icons.close}}\n            </svg>\n        </a>\n        <div class="clearfix trailer-half flex flex-justify">\n            {{#info.appOrgInfo.thumbnail}}\n            <img class="left app-logo" src="{{info.hostname}}{{info.contextPath}}/oauth2/apps/{{info.client_id}}/vendorinfo/{{info.appOrgInfo.thumbnail}}">\n            {{/info.appOrgInfo.thumbnail}}\n            <div>\n                <div class="text-dark-gray font-size--2">{{i18n.developedBy2}}</div>\n                <div class="font-size-0">{{info.appOrgInfo.name}}</div>\n            </div>\n        </div>\n        <div>{{&info.appOrgInfo.description}}</div>\n    </div>\n</div>\n{{/info.appOrgInfo}}\n'}),define("components/AppInfo",["helpers","calcite-web","./Section","text!../../contents/appInfo.html","text!../../contents/appInfoModal.html"],function(e,t,n,i,a){function s(t){t.template=i+a,t.type="div",t.parent=e.byId("appInfo"),n.call(this,t)}return s.prototype=Object.create(n.prototype),e.extend(s.prototype,{defaultClass:"app-info",constructor:s,render:function(){n.prototype.render.call(this),this.authInfo.isPortal&&(this.parent.innerHTML=e.sub(this.parent.innerHTML,{portalName:this.authInfo.orgName}))},addEventHandlers:function(){n.prototype.addEventHandlers.call(this),t.nodeListToArray(e.query(".js-modal-toggle")).forEach(function(e){t.addEvent(e,"keydown",function(e){"Tab"!==e.key&&9!==e.keyCode&&(e.preventDefault(),"Space"!=e.key&&"Enter"!=e.key&&0!=e.keyCode&&13!=e.keyCode&&32!=e.keyCode||e.target.click())})})}}),s}),define("text!components/../../contents/arcgisLinkback.html",[],function(){return'<div class="text-center font-size--3 padded-section">\n  {{i18n.notMember}}<br>\n  <a href="{{info.linkbackUrl}}" id="wwwLinkback">\n      {{i18n.signInAgol}}\n  </a>\n</div>\n'}),define("components/ArcgisLinkback",["calcite-web","helpers","./Section","text!../../contents/arcgisLinkback.html"],function(e,t,n,i){function a(e){e.template=i,n.call(this,e)}return a.prototype=Object.create(n.prototype),t.extend(a.prototype,{defaultClass:"agol-linkback",constructor:a,render:function(){this.authInfo.linkbackUrl=this._getAgolLink(),n.prototype.render.call(this)},addEventHandlers:function(){n.prototype.addEventHandlers.call(this)},_getAgolLink:function(){var e=this.authInfo,t=this.authInfo.refUrl&&"function"==typeof URL&&new URL(this.authInfo.refUrl)||window.location,n=e.orgUrlBase.split("."),i=n.shift();i=i.replace("maps",""),0===i.length?i="www":"qa"==i&&(i="qaext"),n.unshift(i);var a=t.protocol+"//"+n.join(".")+this.authInfo.contextPath+"/rest/oauth2/authorize";if(t.search.length){var s=window.opener?t.search:this._replaceOrgKey(t.search,n.join("."));s=this._stripResourceItem(s),a+=s+t.hash}else a+="?oauth_state="+this.authInfo.oauth_state;return a},_replaceOrgKey:function(e,t){var n="%2F([A-Za-z0-9_\\-]+\\."+this.authInfo.orgUrlBase.split(".").join("\\.")+")",i=e.match(new RegExp(n));if(i&&i[1]){var a=new RegExp(i[1],"g");e=e.replace(a,t)}return e},_stripResourceItem:function(e){return e=e.slice(1),"?"+e.split("&").filter(function(e){return-1==e.indexOf("resourceItemId")}).join("&")}}),a}),define("text!../contents/signin.html",[],function(){return'<div>\n    <div id="appInfo"></div>\n    <div class="content">\n        <div class="content-wrap">\n            <div class="js-header header-bar flex flex-justify">\n                <h1 class="font-size-1 page-title width-full">\n                    {{^info.orgName}}\n                        {{#info.join}}{{i18n.createAccount.joinWindowTitle}}{{/info.join}}\n                        {{^info.join}}\n                            {{^info.gaeFocus}}{{i18n.signInWithEnt}}{{/info.gaeFocus}}\n                            {{#info.gaeFocus}}{{i18n.signIn}}{{/info.gaeFocus}}\n                        {{/info.join}}\n                    {{/info.orgName}}\n                    {{#info.orgName}}\n                        {{#info.join}}<span class="js-orgname">{{i18n.createAccount.titleJoin}}</span>{{/info.join}}\n                        {{^info.join}}<span class="js-orgname">{{i18n.signInWithOrg}}</span>{{/info.join}}\n                    {{/info.orgName}}\n                </h1>\n                {{^info.signinThumbnail}}\n                    {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n                    {{#info.gaeFocus}}<div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>{{/info.gaeFocus}}\n                {{/info.signinThumbnail}}\n                {{#info.signinThumbnail}}\n                <div class="custom-logo">\n                    <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt="" />\n                </div>\n                {{/info.signinThumbnail}}\n            </div>\n            <div id="loginComponents">\n                <div tabindex="0" class="alert alert-red js-message" id="errMessage"></div>\n                {{#info.join}}\n                <p class="font-size--1">{{i18n.createAccount.convertPublic}}</p>\n                {{/info.join}}\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("text!../contents/signin_smx.html",[],function(){return'<div class="margin-block-auto" spellcheck="false">\n    {{> header}}\n    <div class="content">\n        <section\n            class="panel-white trailer-half shadowed">\n            {{#info.username}}\n            <h2 class="font-size-2 text-center">{{i18n.signinEmail}}</h2>\n            <div tabindex="0" class="alert alert-red js-message leader-half trailer-half" id="errMessage"></div>\n            <form class="container" id="oauth" name="f" method="POST"\n                action="{{info.hostname}}{{info.contextPath}}/oauth2/signin" novalidate autocomplete="off">\n                <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n                <label for="user_username">{{i18n.emailLbl}}</label>\n                <input type="text" name="username" id="user_username" readonly class="disabled" value="{{info.username}}"\n                    autocomplete="email" autocorrect="off" autocapitalize="off">\n                <label for="user_password" class="leader-1">{{i18n.password}}</label>\n                <input required type="password" name="password" id="user_password" autofocus autocomplete="current-password" aria-describedby="password-error">\n                <div class="input-error-message js-password-error" id="password-error"></div>\n                <button type="submit" class="btn btn-fill leader-1">{{i18n.signin}}</button>\n            </form>\n            {{/info.username}}\n            {{^info.username}}\n            <h2 class="font-size-2 text-center trailer-1">{{i18n.signupSignin}}</h2>\n            <div tabindex="0" class="alert alert-red js-message leader-half trailer-half" id="errMessage"></div>\n            <form class="container" id="oauth" name="f" method="POST"\n                action="{{info.hostname}}{{info.contextPath}}/oauth2/signin" novalidate autocomplete="off">\n                <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n                <div class="flex-columns social-wrapper-smx">\n                    {{#info.socialProviders}}\n                    <a class="btn btn-fill btn-clear padded-section trailer-1 flex justify-center js-provider-{{.}}"\n                        href="{{info.hostname}}{{info.contextPath}}/oauth2/social/authorize?socialLoginProviderName={{.}}&oauth_state={{info.oauth_state}}">\n                        {{&info.getSocialIcon}}<span class="margin-left-half">{{info.continueWith}}</span>\n                    </a>\n                    {{/info.socialProviders}}\n                </div>\n                <div class="or-separator text-center">{{i18n.or}}</div>\n                <div class="leader-1">\n                    <label for="user_username">{{i18n.continue_email}}</label>\n                    <div class="flex flex-justify sm-block align-baseline">\n                        <input class="width-full margin-right-1 sm-trailer-1" type="email" name="username" id="user_username" required\n                            autocomplete="email" autocorrect="off" autocapitalize="off" placeholder="{{i18n.enterEmail}}"\n                            pattern="[a-zA-Z0-9][a-zA-Z0-9\\._-]*@[a-zA-Z0-9\\._-]+\\.[a-zA-Z0-9]+" minlength="6" maxlength="128" aria-describedby="username-error">\n                        <button type="submit" class="btn sm-width-full">{{i18n.next}}</button>\n                    </div>\n                    <div class="input-error-message js-username-error" id="username-error"></div>\n                </div>\n            </form>\n            {{/info.username}}\n        </section>\n        <div class="text-center font-size--3 leader-3">\n            {{&i18n.arcgisStorymapsLink}}\n        </div>\n        <div class="forgot-link text-center font-size--3 leader-1">\n            <a\n                class="link-underline"\n                href="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot?oauth_state={{info.oauth_state}}&forgotMy=password">\n                {{i18n.forgotPass}}\n            </a>\n        </div>\n    </div>\n    {{> footer}}\n</div>\n'}),define("text!../contents/header_smx.html",[],function(){return'<div class="page-header">\n    <div class="page-header-contents">\n    <a href="https://storymaps.com" title="StoryMaps" class="page-header-icon">{{&icons.storymapsExpress}}</a>\n    </div>\n</div>\n'}),define("text!../contents/footer_smx.html",[],function(){return'<div class="page-footer">\n  <div class="page-footer-content flex flex-justify">\n    <div class="margin-right-2">\n      <a href="https://www.esri.com">{{&icons.esriSvg}}</a>\n    </div>\n    <div class="page-footer-link">\n      <a class="link-off-black margin-left-1" href="https://storymaps.com/privacy" target="_blank">{{i18n.footer.privacy}}</a>\n      <a class="link-off-black margin-left-1" href="https://storymaps.com/contact" target="_blank">{{i18n.footer.contact}}</a>\n      <a class="link-off-black margin-left-1" href="https://storymaps.com/legal" target="_blank">{{i18n.footer.terms}}</a>\n    </div>\n  </div>\n</div>\n'}),define("signIn",["calcite-web","helpers","mustache","config","components/PrivacyLink","components/ArcgisLogin","components/MyOrgs","components/EnterpriseInfo","components/SocialLogin","components/CreateAcctLink","components/AppInfo","components/ArcgisLinkback","socialHelper","icons","i18n!../nls/oauth","text!../contents/signin.html","text!../contents/signin_smx.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r,o,c,l,d,u,h,f,p,m,v,g,b){return{hubRelated:!1,smxFocus:!1,startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,t.setTitle(p.title||p.windowTitle),t.checkRTL(n.locale),this.smxFocus="storymapsexpress"==n.client_id.toLowerCase(),this.gaeFocus="geoanalyticsengine"==n.client_id.toLowerCase(),n.prePopulatedUsername&&(n.username=n.prePopulatedUsername),this.render(n),this.compose(n),e.init(),t.setContrastInfo()},render:function(e){var i=t.queryOne(".content-container");e.hostname=t.getPortalHostname(e,e.refUrl);var a=m;this.smxFocus&&(a=v,h.addSocialInfo(e),p=p.smx),this.gaeFocus&&(e.gaeFocus=!0),i.innerHTML=n.render(a,{info:e,i18n:p,icons:f},{header:g,footer:b})},orderMethods:function(e){var t=e.socialProviders?e.socialProviders.slice():[],n=this.hubRelated?["social","enterprise","arcgis"]:["enterprise","arcgis","social"];return e.signinOptionsOrder&&(e.signinOptionsOrder.social&&(e.socialProviders=e.signinOptionsOrder.social.slice().filter(function(e){return t.indexOf(e)>-1})),e.signinOptionsOrder.logins)?e.signinOptionsOrder.logins:(e.orgName||!0===e.hideEnterpriseLogins||e.join||e.activationCode||n.splice(2,0,"myorgs"),n)},compose:function(n){if(this.smxFocus)return this.displayMessage(n),void this.addSmxEvents();var r=[];if(n.hideAppInfo=n.hideAppInfo||i.hideAppInfo.indexOf(n.client_id)>-1,this.gaeFocus)r=[{type:s,config:{expanded:!0,collapsible:!1}},a];else{this.hubRelated=n.hubRelated=n.hubEnabled||n.isCommunity,this.setEnterpriseInfo(n),n.hideAppInfo||r.push(d);var o=this.orderMethods(n),c=n.companionOrganizations&&n.companionOrganizations[0];c&&(n.canSignInArcGIS=!1!==n.canSignInArcGIS||!1!==c.canSignInArcGIS,n.canSignInSocial=!1!==n.canSignInSocial||!1!==c.canSignInSocial),c&&n.canSignInSocial&&-1==o.indexOf("social")&&o.splice(o.length,0,"social"),c&&n.canSignInArcGIS&&-1==o.indexOf("arcgis")&&o.splice(o.length,0,"arcgis"),o.indexOf("enterprise")>-1?this.composeDefault(n,o,r):this.composeCustom(n,o,r),n.join||(this.hubRelated&&(n.isEnableArcGISAutoSignups||n.isAccountSocialAutoJoins)?(n.publicSignup=!0,
r.push(l)):(n.showSignupOption||n.isPortal&&!1===n.isPortalSignupDisabled&&"arcgisonline"==n.client_id)&&(n.showSignupOption&&("esri"==n.signupType?n.esriSignup=!0:"developers"==n.signupType?n.developerSignup=!0:n.publicSignup=!0),r.push(l))),n.join||n.isPortal||!n.orgName||!0===n.hideCrossOrgSigninLink||r.push(u);var h=r.filter(function(e){return"expander"in("function"==typeof e?e:e.type).prototype});1===h.length&&h[0].config&&(h[0].config.collapsible=!1),n.isPortal||r.push(a)}var f={parent:t.byId("loginComponents"),info:n,i18n:p,type:"section",exclusive:!0,expanded:!1};this.components=this.buildComponents(r,f),this.displayMessage(n),n.orgName&&e.nodeListToArray(t.query(".js-orgname")).forEach(function(e){e.innerHTML=t.sub(e.innerHTML,{orgname:n.orgName})});var m,v;if(m=n.messageCode||n.messages&&n.messages.length?"errMessage":n.username?"user_password":"user_username",v=t.byId(m),v&&v.focus(),e.addEvent(window,"beforeunload",this._clearFields),n.resourceAccountUrlKey&&!n.join){e.nodeListToArray(t.query("a[href]")).forEach(function(e){e.href.indexOf("oauth2")>=0&&-1==e.href.indexOf("authorize")&&(e.href=this.swizzleUrl(e.href,n.resourceAccountUrlKey))}.bind(this));var g=t.queryOne("form");g.action=this.swizzleUrl(g.action,n.resourceAccountUrlKey)}else if(n.join&&(n.canSignInSocial&&n.socialProviders&&e.nodeListToArray(t.query("a[class*=js-provider]")).forEach(function(e){e.href=this.reverseSwizzle(e.href)}.bind(this)),n.canSignInArcGIS)){var b=t.byId("oauth");b.action=this.reverseSwizzle(b.action)}},composeDefault:function(e,t,n){t.forEach(function(t){if("social"==t)e.socialProviders&&e.showSocialLogins&&!1!==e.canSignInSocial&&n.push(c);else if("arcgis"==t)!1!==e.canSignInArcGIS&&n.push({type:s,config:{expanded:!e.expandEnterprise}});else if("myorgs"==t)n.push(r);else if("enterprise"==t&&e.hasEnterprise&&!e.join){var i=Object.keys(e.enterpriseLogins);i.forEach(function(t){t.indexOf("oidc")>-1&&n.push({type:o,config:{expanded:!0,collapsible:!1,login:e.enterpriseLogins[t]}})}),i.forEach(function(t){t.indexOf("saml")>-1&&n.push({type:o,config:{expanded:!0,collapsible:!1,login:e.enterpriseLogins[t]}})})}})},composeCustom:function(e,t,n){t.forEach(function(t){if(t.indexOf("oidc")>-1&&e.enterpriseLogins[t])n.push({type:o,config:{expanded:!0,collapsible:!1,login:e.enterpriseLogins[t]}});else if(t.indexOf("saml")>-1){var i="";e.enterpriseLogins[t]?i=t:"saml"==t&&(i=e.enterpriseLogins["saml_"+e.orgId]?"saml_"+e.orgId:e.companionOrganizations&&e.companionOrganizations.length&&e.enterpriseLogins["saml_"+e.companionOrganizations[0].orgId]?"saml_"+e.companionOrganizations[0].orgId:"saml_e"),i&&e.enterpriseLogins[i]&&n.push({type:o,config:{expanded:!0,collapsible:!1,login:e.enterpriseLogins[i]}})}else"social"==t?e.socialProviders&&e.showSocialLogins&&!1!==e.canSignInSocial&&n.push(c):"arcgis"==t&&!1!==e.canSignInArcGIS&&n.push({type:s,config:{expanded:!e.expandEnterprise}})})},displayMessage:function(n){var i="",a=t.queryOne(".js-message");if(n.messages&&n.messages[0]){if(n.messages[0].indexOf("Invalid username or password")>-1)i=p.invalidSignin;else if("OAUTH_0012"===n.messageCode)i=p.sessionTimedOut;else if(n.messages[0].indexOf("Your login session has been reset")>-1)i=p.expiredSession;else if("OAUTH_0007"===n.messageCode){var s=n.lockoutPeriod?Math.round(n.lockoutPeriod/60):15;i=t.sub(p.toManyLogins,{duration:s})}else n.messages[0].indexOf("User is not a member of this account")>-1?(i=p.userNotMemberOfOrg,n.linkbackUrl&&(i+=" "+t.sub(p.signinArcgis,{rootLogin:n.linkbackUrl}))):n.messages[0].indexOf("Your account has been disabled by your organization")>-1?i=p.userDisabled:"SB_0009"===n.messageCode?i=p.userBlocked:"SB_0010"===n.messageCode?i=p.disabledAccount:"SB_0002"===n.messageCode?i=p.userExpired:"OAUTH_0057"===n.messageCode?i=p.portalUserCantReset:"OAUTH_0023"===n.messageCode||"OAUTH_0021"===n.messageCode?i=p.userInsufficient:n.messages[0].indexOf("Your password reset request")>-1?i=p.invalidResetLink:"OAUTH_0072"===n.messageCode?(e.removeClass(a,"alert-red"),e.addClass(a,"alert-green"),i=p.signupSuccess):i=n.messages[0];a.innerHTML=i||n.messages[0],e.addClass(a,"is-active")}},setEnterpriseInfo:function(e){var n,i,a={},s=/oidc\/(\w+)\/auth/;e.isCommunity?(e.oidcFederationInfo&&!1!==e.canSignInOIDC&&e.oidcFederationInfo.forEach(function(n){var i=n.oidcAuthorizeUrl.match(s);n.name=n.oidcName,n.authorizeUrl=n.oidcAuthorizeUrl,n.id=i?i[1]:"unknown",a["oidc_"+n.id]=t.extend({orgName:e.orgName,type:"community"},n)}),e.federationInfo&&!1!==e.canSignInIDP&&(e.federationInfo.name=e.federationInfo.idpName,e.federationInfo.authorizeUrl=e.federationInfo.idpAuthorizeUrl,i=e.orgId||"c",a["saml_"+i]=t.extend({orgName:e.orgName,type:"community"},e.federationInfo)),n=e.companionOrganizations&&e.companionOrganizations[0]||!1,n.oidcFederationInfo&&!1!==n.canSignInOIDC&&n.oidcFederationInfo.forEach(function(e){var i=e.oidcAuthorizeUrl.match(s);e.name=e.oidcName,e.authorizeUrl=e.oidcAuthorizeUrl,e.id=i?i[1]:"unknown",a["oidc_"+e.id]=t.extend({orgName:n.orgName,type:n.type},e)}),n.federationInfo&&!1!==n.canSignInIDP&&(n.federationInfo.name=n.federationInfo.idpName,n.federationInfo.authorizeUrl=n.federationInfo.idpAuthorizeUrl,i=n.orgId||"e",a["saml_"+i]=t.extend({orgName:n.orgName,type:n.type},n.federationInfo))):(n=e.companionOrganizations&&e.companionOrganizations[0]||!1,n.oidcFederationInfo&&!1!==n.canSignInOIDC&&n.oidcFederationInfo.forEach(function(e){var i=e.oidcAuthorizeUrl.match(s);e.name=e.oidcName,e.authorizeUrl=e.oidcAuthorizeUrl,e.id=i?i[1]:"unknown",a["oidc_"+e.id]=t.extend({orgName:n.orgName,type:n.type},e)}),n.federationInfo&&!1!==n.canSignInIDP&&(n.federationInfo.name=n.federationInfo.idpName,n.federationInfo.authorizeUrl=n.federationInfo.idpAuthorizeUrl,i=n.orgId||"c",a["saml_"+i]=t.extend({orgName:n.orgName,type:n.type},n.federationInfo)),e.oidcFederationInfo&&!1!==e.canSignInOIDC&&e.oidcFederationInfo.forEach(function(n){var i=n.oidcAuthorizeUrl.match(s);n.name=n.oidcName,n.authorizeUrl=n.oidcAuthorizeUrl,n.id=i?i[1]:"unknown",a["oidc_"+n.id]=t.extend({orgName:e.orgName,type:"hub"},n)}),e.federationInfo&&!1!==e.canSignInIDP&&(e.federationInfo.name=e.federationInfo.idpName,e.federationInfo.authorizeUrl=e.federationInfo.idpAuthorizeUrl,i=e.orgId||"e",a["saml_"+i]=t.extend({orgName:e.orgName,type:"hub"},e.federationInfo))),Object.keys(a).length>0&&(e.hasEnterprise=!0,e.expandEnterprise=!0),e.enterpriseLogins=a},buildComponents:function(e,n){var i=this.components||[];return e.forEach(function(e){"function"==typeof e?i.push(new e(t.extend({},n))):"object"==typeof e&&e.type&&i.push(new e.type(t.extend({},n,e.config)))}),i},addSmxEvents:function(){e.addEvent(t.byId("oauth"),"submit",function(n){n.preventDefault();var i=n.target,a=!0;e.nodeListToArray(t.query("input[required]",i)).forEach(function(n){var i=n.id.indexOf("user_")>-1?n.id.split("user_")[1]:n.id,s=t.queryOne(".js-"+i+"-error");if(0==n.value.length)a=!1,s.innerHTML=p.createAccount.errors["missing_"+i],e.addClass(n,"input-error"),e.addClass(s,"is-active");else if("username"==i&&0==n.checkValidity()){a=!1;var r=n.validity,o=p.createAccount.errors.invalid_email;r.tooShort?o=p.createAccount.errors.short_email:r.tooLong?o=p.createAccount.errors.long_email:/[^\w\.@\-\s]/.test(n.value)&&(o=p.createAccount.errors.invalid_email_chars),s.innerHTML=o,e.addClass(n,"input-error"),e.addClass(s,"is-active")}}.bind(this)),a&&i.submit()}.bind(this))},_clearFields:function(){var e=t.byId("user_username"),n=t.byId("user_password");e&&(e.value=""),n&&(n.value="")},swizzleUrl:function(e,t){var n=e.split("."),i=n.shift().split("//"),a=i.pop();switch(i[1]=t,a){case"devext":a="maps"+a;break;case"qaext":a="mapsqa";break;case"www":a="maps"}return n.unshift(i.join("//"),a),n.join(".")},reverseSwizzle:function(e){var t=e.split(".").slice(1),n=t.shift(),i="";switch(n){case"mapsdevext":i="devext";break;case"mapsqa":i="qaext";break;default:i="www"}return t.unshift("https://"+i),t.join(".")}}}),define("text!../contents/troubleshoot.html",[],function(){return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full" id="pageTitle">{{i18n.forgotPassword.forgotPass}}</h1>\n        {{^info.signinThumbnail}}\n            {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n            {{#info.gaeFocus}}<div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>{{/info.gaeFocus}}\n        {{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n            <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <div tabindex="0" class="alert alert-red js-message trailer-half"></div>\n    <section class="panel-white js-action-pane padded-section">\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot" id="oauth" name="f" method="POST" novalidate autocomplete="off" spellcheck="false">\n            <p class="trailer-half font-size-0-1_8" id="provideInfo">\n                {{^info.gaeFocus}}{{i18n.forgotPassword.provideUsername}}{{/info.gaeFocus}}\n                {{#info.gaeFocus}}{{i18n.forgotPassword.provideInformation}}{{/info.gaeFocus}}\n            </p>\n            <input id="oauth_state" type="hidden" name="oauth_state" value="{{info.oauth_state}}">\n            <input id="forgotMy" type="hidden" name="forgotMy" value="password">\n            <label><span class="js-input-label">{{i18n.forgotPassword.usernameLbl}}</span>\n                <input type="text" aria-label="{{i18n.forgotPassword.usernameLbl}}" name="user" id="user" autocomplete="off" autocorrect="off" autocapitalize="off" aria-describedby="user-error">\n                <div class="input-error-message js-user-error" id="user-error"></div>\n            </label>\n            <div class="flex">\n                <button type="button" data-state="password" class="btn btn-fill btn-small btn-clear margin-right-1 js-back">{{i18n.forgotPassword.back}}</button>\n                <button type="button" class="btn btn-fill btn-small margin-left-1 js-next">{{i18n.forgotPassword.continue}}</button>\n            </div>\n        </form>\n    </section>\n    <div class="js-email-pane hide flex flex-columns limit-container-height">\n        <div class="flex flex-0 justify-center trailer-half overflow-y-auto">\n            <img src="{{info.contextPath}}/files/img/oauth-email-sent.svg" alt="{{i18n.email.emailSent}}">\n        </div>\n        <div class="flex-1 text-center">\n            {{#info.smxFocus}}\n            <h3 id="primary" class="trailer-half font-size-0">{{i18n.email.emailSent}}</h3>\n            <div class="trailer-quarter" id="secondary">{{i18n.email.furtherInstructions}}</div>\n            {{/info.smxFocus}}\n            {{^info.smxFocus}}\n            <h3 id="primary" class="trailer-half font-size-0 avenir-demi">\n                {{#info.gaeFocus}}\n                    {{i18n.email.furtherInstructions}}\n                {{/info.gaeFocus}}\n                {{^info.gaeFocus}}\n                    {{#info.forgotPassword}}\n                        {{^info.isPortal}}{{i18n.email.passwordInstructions}}{{/info.isPortal}}\n                        {{#info.isPortal}}{{i18n.email.passwordInstructionsEnt}}{{/info.isPortal}}\n                    {{/info.forgotPassword}}\n                    {{#info.forgotUsername}}\n                        {{^info.isPortal}}{{i18n.email.usernameInstructions}}{{/info.isPortal}}\n                        {{#info.isPortal}}{{i18n.email.usernameInstructionsEnt}}{{/info.isPortal}}\n                    {{/info.forgotUsername}}\n                {{/info.gaeFocus}}\n            </h3>\n            {{/info.smxFocus}}\n            <a id="returnLink" href="{{info.hostname}}{{info.contextPath}}/oauth2/authorize?oauth_state={{info.oauth_state}}" class="font-size--1">{{i18n.email.returnSignIn}}</a>\n        </div>\n    </div>\n    <div class="js-mfa-pane hide">\n        <section class="panel-white trailer-half padded-section">\n            {{i18n.securityQuestion.finishedMfaMessage}}\n        </section>\n    </div>\n</div>\n'}),define("text!../contents/troubleshoot_smx.html",[],function(){return'<div>\n    {{> header}}\n    <section class="panel-white js-action-pane padded-section shadowed">\n        <h2 class="font-size-2 text-center">{{i18n.forgotPassword.forgotPass}}</h2>\n        <div tabindex="0" class="alert alert-red js-message trailer-half" id="errMessage"></div>\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot" id="oauth" name="f" method="POST" novalidate autocomplete="off" spellcheck="false">\n            <input id="oauth_state" type="hidden" name="oauth_state" value="{{info.oauth_state}}">\n            <input id="forgotMy" type="hidden" name="forgotMy" value="password">\n            <label for="user">{{i18n.forgotPassword.email}}</label>\n            <input type="email" name="user" id="user" required\n                autocomplete="off" autocorrect="off" autocapitalize="off" placeholder=""\n                pattern="[a-zA-Z0-9][a-zA-Z0-9\\._-]*@[a-zA-Z0-9\\._-]+\\.[a-zA-Z0-9]+" minlength="6" maxlength="128"\n                aria-describedby="email-error"\n            >\n            <div class="input-error-message js-email-error" id="email-error"></div>\n            <button type="submit" class="btn btn-fill leader-1 js-submit">{{i18n.forgotPassword.sendRecovery}}</button>\n        </form>\n    </section>\n    <div class="js-email-pane hide">\n        <div class="flex trailer-half">\n            <img class="flex-item" src="{{info.contextPath}}/files/img/oauth-email-sent.svg" alt="Email sent">\n        </div>\n        <div class="text-center">\n            <h4 id="primary" class="trailer-half">{{i18n.email.emailSent}}</h4>\n            <div class="trailer-quarter font-size--1" id="secondary">{{i18n.email.furtherInstructions}}</div>\n            <a id="returnLink" href="{{info.hostname}}{{info.contextPath}}/oauth2/authorize?oauth_state={{info.oauth_state}}" class="font-size--1 link-underline">{{i18n.email.returnSignIn}}</a>\n        </div>\n    </div>\n    <div class="js-mfa-pane hide">\n        <section class="panel-white trailer-half padded-section">\n            {{i18n.securityQuestion.finishedMfaMessage}}\n        </section>\n    </div>\n    {{> footer}}\n</div>\n'}),define("forgot",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/troubleshoot.html","text!../contents/troubleshoot_smx.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r,o,c){return{smxFocus:!1,startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,this.checkForRedirect(n),t.setTitle(a.forgotPassword.title||a.forgotPassword.windowTitle),this.smxFocus="storymapsexpress"==n.client_id.toLowerCase(),n.gaeFocus="geoanalyticsengine"==n.client_id.toLowerCase(),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(e){t.checkRTL(e.locale);var l=t.queryOne(".content");e.hostname=t.getPortalHostname(e,e.refUrl);var d=s,u="",h="";this.smxFocus&&(a=a.smx,d=r,u=o,h=c),e.forgotMy&&e.troubleshootComplete&&("password"==e.forgotMy?e.forgotPassword=!0:"username"==e.forgotMy&&(e.forgotUsername=!0)),l.innerHTML=n.render(d,{info:e,icons:i,i18n:a},{header:u,footer:h}),e.troubleshootComplete?"mfa"==e.forgotMy?this.showMfaMsg():this.showEmailMsg():"username"==e.forgotMy&&this.swapForgot("username");var f=t.byId("user");f&&f.focus(),this.displayMessage(e)},addEventHandlers:function(){var n=t.queryOne(".js-next"),i=t.queryOne(".js-back"),a=t.queryOne(".js-submit");n&&e.addEvent(n,"click",this.onContinue.bind(this)),a&&e.addEvent(a,"click",this.onContinue.bind(this)),i&&e.addEvent(i,"click",this.onBackBtn.bind(this))},checkForRedirect:function(e){if(e.isPortal&&e.troubleshootComplete&&!e.isPortalEmailSupported){var t=e.contextPath+"/rest/oauth2/authorize?oauth_state="+e.oauth_state;window.location.href=t}},swapForgot:function(n){e.removeClass(t.queryOne(".js-message"),"is-active"),e.removeClass(t.queryOne(".js-user-error"),"is-active"),e.removeClass(t.byId("user"),"input-error"),t.byId("user").value="","username"==n?(t.byId("pageTitle").innerHTML=a.forgotPassword.retrieveUser,t.byId("provideInfo").innerHTML=this.authInfo.gaeFocus?a.forgotPassword.provideInformation:a.forgotPassword.provideEmail,t.byId("user").setAttribute("aria-label",a.forgotPassword.emailLbl),t.queryOne(".js-input-label").innerHTML=a.forgotPassword.emailLbl,t.byId("forgotMy").value="username",t.queryOne(".js-back").setAttribute("data-state","username")):"password"==n&&(!this.smxFocus&&(t.byId("pageTitle").innerHTML=a.forgotPassword.forgotPass),t.byId("provideInfo").innerHTML=this.authInfo.gaeFocus?a.forgotPassword.provideInformation:a.forgotPassword.provideUsername,t.byId("user").setAttribute("aria-label",a.forgotPassword.usernameLbl),t.queryOne(".js-input-label").innerHTML=a.forgotPassword.usernameLbl,t.byId("forgotMy").value="password",t.queryOne(".js-back").setAttribute("data-state","password"))},showEmailMsg:function(){e.addClass(t.queryOne(".js-action-pane"),"hide"),!this.smxFocus&&(t.byId("pageTitle").innerHTML=a.email.title),e.removeClass(t.queryOne(".js-email-pane"),"hide")},showMfaMsg:function(){e.addClass(t.queryOne(".js-action-pane"),"hide"),!this.smxFocus&&(t.byId("pageTitle").innerHTML=a.securityQuestion.finishedTitleMfa),e.removeClass(t.queryOne(".js-mfa-pane"),"hide")},onBackBtn:function(){window.location=this.authInfo.hostname+this.authInfo.contextPath+"/oauth2/authorize?oauth_state="+this.authInfo.oauth_state},onContinue:function(n){n.preventDefault();var i=t.byId("oauth"),s=t.byId("user"),r=t.queryOne(".js-user-error"),o=t.byId("forgotMy").value,c=s.value&&s.value.trim();c.length?"username"!=o||/@/.test(c)?this.smxFocus&&"password"==o&&!s.checkValidity()?(e.addClass(s,"input-error"),r.innerHTML=a.forgotPassword.invalidEmail,e.addClass(r,"is-active")):i.submit():(e.addClass(s,"input-error"),r.innerHTML=a.forgotPassword.invalidEmail,e.addClass(r,"is-active")):(e.addClass(s,"input-error"),r.innerHTML=a.forgotPassword.inputError,e.addClass(r,"is-active"))},displayMessage:function(n){var i="",s=t.queryOne(".js-message");n.messages&&n.messages[0]&&(i=n.messages[0].toLowerCase().indexOf("unable to reset your password")>-1?a.resetPage.unableToReset:n.messages[0].toLowerCase().indexOf("your login session has been reset")>-1?a.expiredSession:n.messages[0],s.innerHTML=i||n.messages[0],e.addClass(s,"is-active"),s.focus())}}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("qwest",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.qwest=e()}}(function(){var e;return function e(t,n,i){function a(r,o){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!o&&c)return c(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n||e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,n,i){!function(t){"use strict";var i=function(e){var t=function(e,t,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)},n=function(e,i,a){var s,r,o;if("[object Array]"===Object.prototype.toString.call(i))for(s=0,r=i.length;s<r;s++)n(e+"["+("object"==typeof i[s]?s:"")+"]",i[s],a);else if(i&&"[object Object]"===i.toString())for(o in i)i.hasOwnProperty(o)&&(e?n(e+"["+o+"]",i[o],a,t):n(o,i[o],a,t));else if(e)t(a,e,i);else for(o in i)t(a,o,i[o]);return a};return n("",e,[]).join("&").replace(/%20/g,"+")};"object"==typeof n&&"object"==typeof n.exports?n.exports=i:"function"==typeof e&&e.amd?e([],function(){return i}):t.param=i}(this)},{}],2:[function(e,t,n){!function(e){function t(e){return"function"==typeof e}function n(e){return"object"==typeof e}function i(e){"undefined"!=typeof setImmediate?setImmediate(e):"undefined"!=typeof process&&process.nextTick?process.nextTick(e):setTimeout(e,0)}var a;e[0][e[1]]=function e(s){var r,o=[],c=[],l=function(e,t){return null==r&&null!=e&&(r=e,o=t,c.length&&i(function(){for(var e=0;e<c.length;e++)c[e]()})),r};return l.then=function(l,d){var u=e(s),h=function(){function e(i){var s,r=0;try{if(i&&(n(i)||t(i))&&t(s=i.then)){if(i===u)throw new TypeError;s.call(i,function(){r++||e.apply(a,arguments)},function(e){r++||u(!1,[e])})}else u(!0,arguments)}catch(e){r++||u(!1,[e])}}try{var i=r?l:d;t(i)?e(i.apply(a,o||[])):u(r,o)}catch(e){u(!1,[e])}};return null!=r?i(h):c.push(h),u},s&&(l=s(l)),l}}(void 0===t?[window,"pinkySwear"]:[t,"exports"])},{}],qwest:[function(e,t,n){t.exports=function(){var t="undefined"!=typeof window?window:self,n=e("pinkyswear"),i=e("jquery-param"),a={},s="json",r="post",o=null,c=0,l=[],d=t.XMLHttpRequest?function(){return new t.XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},u=""===d().responseType,h=function(e,h,f,p,m){e=e.toUpperCase(),f=void 0===f?null:f,p=p||{};for(var v in a)if(!(v in p))if("object"==typeof a[v]&&"object"==typeof p[v])for(var g in a[v])p[v][g]=a[v][g];else p[v]=a[v];var b,y,w,C,x,k=!1,A=!1,I=!1,E=0,_={},j={text:"*/*",xml:"text/xml",json:"application/json",post:"application/x-www-form-urlencoded",document:"text/html"},P={text:"*/*",xml:"application/xml; q=1.0, text/xml; q=0.8, */*; q=0.1",json:"application/json; q=1.0, text/*; q=0.8, */*; q=0.1"},T=!1,q=n(function(n){return n.abort=function(){I||(y&&4!=y.readyState&&y.abort(),T&&(--c,T=!1),I=!0)},n.send=function(){if(!T){if(c==o)return void l.push(n);if(I)return void(l.length&&l.shift().send());if(++c,T=!0,y=d(),b&&("withCredentials"in y||!t.XDomainRequest||(y=new XDomainRequest,A=!0,"GET"!=e&&"POST"!=e&&(e="POST"))),A?y.open(e,h):(y.open(e,h,p.async,p.user,p.password),u&&p.async&&(y.withCredentials=p.withCredentials)),!A)for(var i in _)_[i]&&y.setRequestHeader(i,_[i]);if(u&&"auto"!=p.responseType)try{y.responseType=p.responseType,k=y.responseType==p.responseType}catch(e){}u||A?(y.onload=O,y.onerror=S,A&&(y.onprogress=function(){})):y.onreadystatechange=function(){4==y.readyState&&O()},p.async?"timeout"in y?(y.timeout=p.timeout,y.ontimeout=L):w=setTimeout(L,p.timeout):A&&(y.ontimeout=function(){}),"auto"!=p.responseType&&"overrideMimeType"in y&&y.overrideMimeType(j[p.responseType]),m&&m(y),A?setTimeout(function(){y.send("GET"!=e?f:null)},0):y.send("GET"!=e?f:null)}},n}),O=function(){var e;if(T=!1,clearTimeout(w),l.length&&l.shift().send(),!I){--c;try{if(k){if("response"in y&&null===y.response)throw"The request response is empty";x=y.response}else{if("auto"==(e=p.responseType))if(A)e=s;else{var n=y.getResponseHeader("Content-Type")||"";e=n.indexOf(j.json)>-1?"json":n.indexOf(j.xml)>-1?"xml":"text"}switch(e){case"json":if(y.responseText.length)try{x="JSON"in t?JSON.parse(y.responseText):new Function("return ("+y.responseText+")")()}catch(e){throw"Error while parsing JSON body : "+e}break;case"xml":try{t.DOMParser?x=(new DOMParser).parseFromString(y.responseText,"text/xml"):(x=new ActiveXObject("Microsoft.XMLDOM"),x.async="false",x.loadXML(y.responseText))}catch(e){x=void 0}if(!x||!x.documentElement||x.getElementsByTagName("parsererror").length)throw"Invalid XML";break;default:x=y.responseText}}if("status"in y&&!/^2|1223/.test(y.status))throw y.status+" ("+y.statusText+")";q(!0,[y,x])}catch(e){q(!1,[e,y,x])}}},S=function(e){I||(e="string"==typeof e?e:"Connection aborted",q.abort(),q(!1,[new Error(e),y,null]))},L=function(){I||(p.attempts&&++E==p.attempts?S("Timeout ("+h+")"):(y.abort(),T=!1,q.send()))};if(p.async=!("async"in p&&!p.async),p.cache="cache"in p&&!!p.cache,p.dataType="dataType"in p?p.dataType.toLowerCase():r,p.responseType="responseType"in p?p.responseType.toLowerCase():"auto",p.user=p.user||"",p.password=p.password||"",p.withCredentials=!!p.withCredentials,p.timeout="timeout"in p?parseInt(p.timeout,10):3e4,p.attempts="attempts"in p?parseInt(p.attempts,10):1,C=h.match(/\/\/(.+?)\//),b=C&&!!C[1]&&C[1]!=location.host,"ArrayBuffer"in t&&f instanceof ArrayBuffer?p.dataType="arraybuffer":"Blob"in t&&f instanceof Blob?p.dataType="blob":"Document"in t&&f instanceof Document?p.dataType="document":"FormData"in t&&f instanceof FormData&&(p.dataType="formdata"),null!==f)switch(p.dataType){case"json":f=JSON.stringify(f);break;case"post":case"queryString":f=i(f)}if(p.headers){var M=function(e,t,n){return t+n.toUpperCase()};for(C in p.headers)_[C.replace(/(^|-)([^-])/g,M)]=p.headers[C]}return"Content-Type"in _||"GET"==e||p.dataType in j&&j[p.dataType]&&(_["Content-Type"]=j[p.dataType]),_.Accept||(_.Accept=p.responseType in P?P[p.responseType]:"*/*"),b||"X-Requested-With"in _||(_["X-Requested-With"]="XMLHttpRequest"),p.cache||"Cache-Control"in _||(_["Cache-Control"]="no-cache"),"GET"!=e&&"queryString"!=p.dataType||!f||"string"!=typeof f||(h+=(/\?/.test(h)?"&":"?")+f),p.async&&q.send(),q},f=function(e){var t=[],i=0,a=[];return n(function(n){var s=-1,r=function(e){return function(r,o,c,l){var d=++s;return++i,t.push(h(e,n.base+r,o,c,l).then(function(e,t){a[d]=arguments,--i||n(!0,1==a.length?a[0]:[a])},function(){n(!1,arguments)})),n}};n.get=r("GET"),n.post=r("POST"),n.put=r("PUT"),n.delete=r("DELETE"),n.catch=function(e){return n.then(null,e)},n.complete=function(e){var t=function(){e()};return n.then(t,t)},n.map=function(e,t,n,i,a){return r(e.toUpperCase()).call(this,t,n,i,a)};for(var o in e)o in n||(n[o]=e[o]);return n.send=function(){for(var e=0,i=t.length;e<i;++e)t[e].send();return n},n.abort=function(){for(var e=0,i=t.length;e<i;++e)t[e].abort();return n},n})},p={base:"",get:function(){return f(p).get.apply(this,arguments)},post:function(){return f(p).post.apply(this,arguments)},put:function(){return f(p).put.apply(this,arguments)},delete:function(){return f(p).delete.apply(this,arguments)},map:function(){return f(p).map.apply(this,arguments)},xhr2:u,limit:function(e){return o=e,p},setDefaultOptions:function(e){return a=e,p},setDefaultXdrResponseType:function(e){return s=e.toLowerCase(),p},setDefaultDataType:function(e){return r=e.toLowerCase(),p},getOpenRequests:function(){return c}};return p}()},{"jquery-param":1,pinkyswear:2}]},{},[1,2])("qwest")}),define("text!../contents/passwordMeter.html",[],function(){return'<div class="password-meter">\n    <div class="password-bar-container">\n        <div data-strength="none" class="password-bar none"></div>\n    </div>\n    <div class="password-report">\n        {{i18n.passwordStrength}}: <span class="password-strength avenir-bold none">{{i18n.none}}</span>&nbsp;\n        <span class="password-help hide">\n            <a href="{{info.helpBase}}reference/troubleshoot-account.htm#WEAK_PW" target="_blank" class="js-password-link tooltip tooltip-multiline" aria-label="{{i18n.weakPassword}}&nbsp;{{i18n.learnMore}}">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svg-icon svg-icon-light-blue svg-icon-live svg-icon-large" focusable="false">\n                    {{&icons.help}}\n                </svg>\n            </a>\n        </span>\n    </div>\n</div>\n'}),define("PasswordMeter",["helpers","calcite-web","mustache","qwest","icons","i18n!../nls/oauth","text!../contents/passwordMeter.html"],function(e,t,n,i,a,s,r){function o(e){this.input=e.input,this.attach=e.attach,this.authInfo=e.authInfo}return o.prototype={active:!0,strength:0,wait:!0,handle:null,constructor:o,startup:function(){this.render(),this.addEventHandlers()},render:function(){this.attach.innerHTML=n.render(r,{i18n:s,info:this.authInfo,icons:a})},addEventHandlers:function(){t.addEvent(this.input,"input",function(){this.active&&this.input.value.length>0?(this.handle&&clearTimeout(this.handle),this.handle=setTimeout(function(){i.post(this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/checkPasswordStrength",{f:"json",password:this.input.value},{responseType:"json",cache:!0}).then(this._updateMeter.bind(this)),this.handle=null}.bind(this),350)):this._updateMeter(null,{strength:0})}.bind(this))},_updateMeter:function(n,i){var a,r=this.input,o=e.queryOne(".password-bar",this.attach),c=e.queryOne(".password-strength",this.attach),l=e.queryOne(".password-help",this.attach),d=o.getAttribute("data-strength");if(r.value.length>0){switch(i.strength){case 2:a="fair";break;case 3:a="good";break;case 4:a="secure";break;default:a="weak"}this.strength=i.strength}else a="none",this.strength=0;d!=a&&(t.removeClass(o,d),t.addClass(o,a),o.setAttribute("data-strength",a),c.innerHTML=s[a],t.removeClass(c,d),t.addClass(c,a),"weak"==a?t.removeClass(l,"hide"):t.addClass(l,"hide")),t.bus.emit("meter:update",{strength:this.strength,input:this.input})}},o}),define("text!../contents/reset-question.html",[],function(){
return'<div>\n    {{> header}}\n    {{^info.smxFocus}}\n    <h1 class="js-header header-bar flex flex-justify">\n        <div class="font-size-1 page-title width-full">{{i18n.resetPage.title}}</div>\n        {{^info.signinThumbnail}}\n            {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n            {{#info.gaeFocus}}<div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>{{/info.gaeFocus}}\n        {{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n            <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt="" />\n        </div>\n        {{/info.signinThumbnail}}\n    </h1>\n    {{/info.smxFocus}}\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    <div class="panel panel-white trailer-half shadowed">\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/reset" name="f" id="oauth" method="POST"\n            autocomplete="off" novalidate spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state">\n            <div class="trailer-half">\n                {{i18n.securityQuestion.answerSecurityQuestion}}\n            </div>\n            <label id="questionLabel" for="answer">{{info.securityQuestion}}</label>\n            <input type="text" id="answer" required name="securityAnswer" autocomplete="off" autocorrect="off"\n                autocapitalize="off" aria-describedby="answer-error">\n            <div class="input-error-message js-answer-error" id="answer-error"></div>\n\n            <hr>\n\n            <label class="leader-half" for="password">{{i18n.resetPage.newPasswordLbl}}</label>\n            <input type="password" name="newPassword" aria-label="{{i18n.resetPage.newPasswordLbl}}" id="password"\n                autocomplete="new-password" required aria-describedby="passwordError passwordReqs">\n            <div class="input-error-message js-password-error" id="passwordError"></div>\n\n            <div class="font-size--3 alert alert-clear trailer-half js-password-alert" id="passwordReqs">\n                <div class="js-password-meter trailer-half"></div>\n                {{i18n.createAccount.passwordMust}}:\n                <ul class="js-password-reqs font-size--3">\n                    {{#rules}}\n                    <li>{{label}}</li>\n                    {{/rules}}\n                </ul>\n            </div>\n            <label for="confirmPass">{{i18n.resetPage.confirmPasswordLbl}}</label>\n            <input type="password" id="confirmPass" aria-label="{{i18n.createAccount.confirmPassword}}"\n                name="newPassword2" autocomplete="off" required aria-describedby="confirmPass-error">\n            <div class="input-error-message js-confirmPass-error" id="confirmPass-error"></div>\n\n            <button type="submit" id="submitBtn"\n                class="btn btn-fill btn-small leader-1">{{i18n.resetPage.changePasswordBtn}}</button>\n        </form>\n    </div>\n    {{> footer}}\n</div>\n'}),define("text!../contents/reset-password.html",[],function(){return'<div>\n    {{> header}}\n    {{^info.smxFocus}}\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">\n            {{#info.join}}{{i18n.resetPage.setTitle}}{{/info.join}}\n            {{^info.join}}{{i18n.resetPage.changeTitle}}{{/info.join}}\n        </h1>\n        {{^info.signinThumbnail}}\n            {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n            {{#info.gaeFocus}}<div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>{{/info.gaeFocus}}\n        {{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n            <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt="" />\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    {{/info.smxFocus}}\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    <div class="panel panel-white trailer-half shadowed">\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/resetPassword" name="f" id="oauth" method="POST"\n            autocomplete="off" novalidate spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state">\n\n            {{#info.join}}\n            <input type="hidden" name="password" value="{{info.join}}" id="oldPassword">\n            {{/info.join}}\n\n            {{^info.join}}\n            <label for="oldPassword">{{i18n.resetPage.oldPasswordLbl}}</label>\n            <input type="password" name="password" id="oldPassword" required autofocus aria-describedby="oldPassword-error">\n            <div class="input-error-message js-oldPassword-error" id="oldPassword-error"></div>\n            {{/info.join}}\n\n            <label for="password">{{i18n.resetPage.newPasswordLbl}}</label>\n            <input type="password" name="newPassword" id="password" autocomplete="new-password" required\n                aria-describedby="passwordError passwordReqs">\n            <div class="input-error-message js-password-error" id="passwordError"></div>\n\n            <div class="font-size--2 alert alert-clear trailer-half js-password-alert" id="passwordReqs">\n                <div class="js-password-meter trailer-half"></div>\n                {{i18n.createAccount.passwordMust}}:\n                <ul class="js-password-reqs">\n                    {{#rules}}\n                    <li>{{label}}</li>\n                    {{/rules}}\n                </ul>\n            </div>\n\n            <label for="confirmPass">{{i18n.resetPage.confirmPasswordLbl}}</label>\n            <input type="password" name="newPassword2" id="confirmPass" autocomplete="off" required aria-describedby="confirmPass-error">\n            <div class="input-error-message js-confirmPass-error" id="confirmPass-error"></div>\n\n            <button type="submit" id="submitBtn"\n                class="btn btn-fill btn-small leader-1">{{i18n.resetPage.changePasswordBtn}}</button>\n        </form>\n    </div>\n    {{> footer}}\n</div>\n'}),define("text!../contents/reset-mfa.html",[],function(){return'<div>\n    {{> header}}\n    {{^info.smxFocus}}\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">{{i18n.securityQuestion.disableMfa}}</h1>\n        {{^info.signinThumbnail}}\n            {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n            {{#info.gaeFocus}}<div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>{{/info.gaeFocus}}\n        {{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    {{/info.smxFocus}}\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    <section class="padded-section shadowed">\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/disableMfaRequest" name="f" id="oauth" method="POST" autocomplete="off" novalidate spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state">\n            <p>{{i18n.securityQuestion.securityQuestionMfaMsg2}}</p>\n            <label><span id="questionLabel">{{info.securityQuestion}}</span>\n                <input type="text" id="answer" required name="securityAnswer" autocomplete="off" autocorrect="off"\n                    autocapitalize="off" autofocus="true" aria-describedby="answer-error">\n                <div class="input-error-message js-answer-error" id="answer-error"></div>\n            </label>\n            <div class="flex flex-justify leader-1">\n                <button type="button" class="btn btn-small btn-transparent" id="backLink">{{i18n.createAccount.cancelEmailBtn}}</button>\n                <button type="submit" class="btn btn-small" id="submitBtn">{{i18n.securityQuestion.continueBtn}}</button>\n            </div>\n        </form>\n    </section>\n    {{> footer}}\n</div>\n'}),define("reset-new",["calcite-web","helpers","mustache","qwest","PasswordMeter","icons","i18n!../nls/oauth","text!../contents/reset-question.html","text!../contents/reset-password.html","text!../contents/reset-mfa.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r,o,c,l,d,u){return{options:null,rules:null,meter:null,valid_password:!1,valid_confirmPass:!1,forgotChange:!1,startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,this.smxFocus=n.smxFocus="storymapsexpress"==n.client_id.toLowerCase(),this.gaeFocus=n.gaeFocus="geoanalyticsengine"==n.client_id.toLowerCase(),this.options=this._setOptions(n),t.setTitle(this.options.title),t.checkRTL(n.locale),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(o){e.addClass(document.body,"top-align"),o.hostname=t.getPortalHostname(o,o.refUrl),o.securityQuestion=r.securityQuestions[o.securityQuestionIdx],this.smxFocus&&(r=r.smx),this._setRules(o);var c=this.options.template;t.queryOne(".content").innerHTML=n.render(c,{info:o,rules:this.rules,icons:s,i18n:r},{header:this.options.header,footer:this.options.footer}),t.byId("oauth_state").setAttribute("value",o.oauth_state),"mfa"==o.forgotMy?this.valid_password=this.valid_confirmPass=!0:(this.meter=new a({attach:t.queryOne(".js-password-meter"),input:t.byId("password"),authInfo:o}),this.meter.startup());var l=t.queryOne("input[autofocus]");l&&l.focus(),i.get(this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/helpMap",{f:"json"},{responseType:"json",cache:!0}).then(function(n){var i=n.response,a=this.authInfo.isPortal?"120001688":"120001811",s=i.helpMap.m[a],r=this.authInfo.helpBase+s;e.nodeListToArray(t.query(".js-password-link")).forEach(function(e){e.setAttribute("href",r)})}.bind(this)),this.displayMessage(o)},addEventHandlers:function(){var n=t.byId("password"),i=t.byId("confirmPass"),a=t.byId("backLink"),s=this.options.elementId&&t.byId(this.options.elementId);n&&(e.addEvent(n,"focus",function(){e.addClass(t.queryOne(".js-password-alert"),"is-active")}),e.addEvent(n,"input",this._validateInput.bind(this)),e.addEvent(n,"blur",function(e){n.value.length&&i&&i.value.length&&this._checkConfirmMatch({target:i}),this._validateInput(e),this._checkFieldValid(e)}.bind(this)),e.bus.on("meter:update",function(e){var t={target:e.input};this._validateInput(t),this._checkFieldValid(t)}.bind(this))),i&&e.addEvent(t.byId("confirmPass"),"blur",this._checkConfirmMatch.bind(this)),s&&e.addEvent(s,"blur",function(e){var t=e.target;t.value.length>0&&this._checkRequiredField(t)}.bind(this)),a&&e.addEvent(a,"click",function(){window.location=this.authInfo.hostname+this.authInfo.contextPath+"/oauth2/mfa?oauth_state="+this.authInfo.oauth_state}.bind(this)),e.addEvent(t.byId("oauth"),"submit",function(e){e.preventDefault();var n=this._checkRequired(e),i=t.byId("confirmPass");i&&this._checkConfirmMatch({target:i}),0==n&&1==this.valid_confirmPass&&(!0!==this.valid_password&&this.meter&&(this.valid_password=this.meter.strength>=2),this.valid_password&&e.target.submit())}.bind(this))},_setOptions:function(e){var t={template:null,title:"",elementId:"",header:"",footer:""};return e.securityQuestionIdx?"mfa"==e.forgotMy?(t.template=l,t.title=r.securityQuestion.disableMfa):(t.template=o,t.title=r.resetPage.resetTitle,t.elementId="answer"):(t.template=c,t.title=r.resetPage.changeTitle,t.elementId="oldPassword"),this.smxFocus&&(t.header=d,t.footer=u),t},_setRules:function(e){var n=[{label:r.resetPage.cantMatchUsername,rule:function(e){return e!=(this.authInfo.troubleshootUsername||this.authInfo.username)}.bind(this)}];this.authInfo.forgotMy||this.authInfo.join||n.push({label:r.resetPage.oldPasswordNewPasswordSame,rule:function(e){return e!=t.byId("oldPassword").value}});var i=e.passwordPolicy;i&&i.type&&(i.minLength>0&&n.push({label:t.sub(r.resetPage.minLength,i),rule:function(e){return e.length>=this.authInfo.passwordPolicy.minLength}.bind(this)}),i.minUpper>0&&n.push({label:t.sub(r.resetPage.minUpper,i),rule:function(e){var t=e.match(/([A-Z])/g);return t&&t.length>=this.authInfo.passwordPolicy.minUpper}.bind(this)}),i.minLower>0&&n.push({label:t.sub(r.resetPage.minLower,i),rule:function(e){var t=e.match(/([a-z])/g);return t&&t.length>=this.authInfo.passwordPolicy.minLower}.bind(this)}),i.minLetter>0&&n.push({label:t.sub(r.resetPage.minLetter,i),rule:function(e){var t=e.match(/([A-Za-z])/g);return t&&t.length>=this.authInfo.passwordPolicy.minLetter}.bind(this)}),i.minDigit>0&&n.push({label:t.sub(r.resetPage.minDigit,i),rule:function(e){var t=e.match(/([0-9])/g);return t&&t.length>=this.authInfo.passwordPolicy.minDigit}.bind(this)}),i.minOther>0&&n.push({label:t.sub(r.resetPage.minOther,i),rule:function(e){var t=e.match(/([!"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~])/g);return t&&t.length>=this.authInfo.passwordPolicy.minOther}.bind(this)}),i.historySize>0&&n.push({label:t.sub(r.resetPage.historySize,i),rule:function(){return!0}})),this.rules=n},_validateInput:function(n){var i=n.target,a=this.rules,s=t.queryOne(".js-password-reqs"),r=0;a.forEach(function(t,n){var a=s.children[n];i.value&&t.rule(i.value)?(r++,e.removeClass(a,"icon-ui-red icon-ui-notice-round"),e.addClass(a,"icon-ui-green icon-ui-check-mark")):(r--,e.removeClass(a,"icon-ui-green icon-ui-check-mark"),0===i.value.length&&e.removeClass(a,"icon-ui-red icon-ui-notice-round"))});var o=r==a.length;this.meter&&this.meter.strength<2&&o&&(o=!1),this.valid_password=o,0===i.value.length&&(e.removeClass(this.findLabel(i.id,i),"field-suffix icon-ui-check-mark icon-ui-green"),e.removeClass(i,"input-error"),e.removeClass(t.byId("passwordError"),"is-active"))},_checkConfirmMatch:function(n){var i=n.target.value,a=t.byId("password").value,s=this.findLabel(n.target.id,n.target);this.valid_confirmPass=(i.length>0||a.length>0)&&i==a,i.length>0?this._checkFieldValid(n):e.removeClass(s,"icon-ui-green icon-ui-check-mark")},_checkFieldValid:function(n){var i=n.target,a=i.id,s=t.queryOne(".js-"+a+"-error");!this["valid_"+a]&&i.value.length>0?(s.innerHTML=r.createAccount.errors["invalid_"+a],e.addClass(i,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(s,"is-active"),e.removeClass(this.findLabel(a,i),"field-suffix icon-ui-check-mark icon-ui-green"),"password"==a&&this.rules&&this.rules.length&&this.rules.forEach(function(n,s){var r=t.queryOne(".js-"+a+"-reqs").children[s];n.rule(i.value)?(e.removeClass(r,"icon-ui-red icon-ui-notice-round"),e.addClass(r,"icon-ui-green icon-ui-check-mark")):(e.removeClass(r,"icon-ui-green icon-ui-check-mark"),e.addClass(r,"icon-ui-red icon-ui-notice-round"))})):(e.removeClass(i,"input-error"),e.removeClass(s,"is-active"),i.value.length>0&&this._markFieldValid(i))},_markFieldValid:function(t){var n=this.findLabel(t.id,t);e.addClass(n,"field-suffix icon-ui-check-mark icon-ui-green")},_checkRequiredField:function(n){var i=n.tagName.toLowerCase(),a=t.queryOne(".js-"+n.id+"-error"),s=!1;return"input"==i&&"checkbox"!=n.type&&"radio"!=n.type?s=n.value.length>0:"checkbox"==n.type?s=n.checked:"select"==i&&(s=n.selectedIndex>0),s&&!("valid_"+n.id in this)||s&&this["valid_"+n.id]?(e.removeClass(n,"input-error"),e.removeClass(a,"is-active")):e.hasClass(a,"is-active")||(a.innerHTML=r.createAccount.errors["missing_"+n.id],e.addClass(n,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(a,"is-active")),s||n.focus(),s},_checkRequired:function(n){n.preventDefault();var i=n.target,a=0;return e.nodeListToArray(t.query("input[required], .required",i)).forEach(function(e){this._checkRequiredField(e)||(a++,e.focus())}.bind(this)),a},findLabel:function(e,n){var i=t.findLabel(e);return i||(i=t.findPreviousSibling("label",n)),i||(i=t.findParentNode("label",n)),i},displayMessage:function(n){var i="",a=n.passwordPolicy&&n.passwordPolicy.type,s=t.queryOne(".js-message");n.messages&&n.messages[0]&&(i=n.messages[0],i.toLowerCase().indexOf("minimum strength requirement")>-1?i=a?r.resetPage.minimumStrengthRequirementLink:r.resetPage.minimumStrengthRequirementEsri:i.toLowerCase().indexOf("must not be similiar to the ")>-1?i=t.sub(r.resetPage.historySize,n.passwordPolicy):i.toLowerCase().indexOf("unable to reset your password")>-1?i=r.resetPage.unableToReset:i.toLowerCase().indexOf("new password cannot be same")>-1?i=r.resetPage.oldPasswordNewPasswordSame:i.toLowerCase().indexOf("new passwords don't match")>-1?i=r.resetPage.passwordsMustMatch:i.toLowerCase().indexOf("your login session has been reset")>-1?i=r.expiredSession:i.toLowerCase().indexOf("invalid credentials for reset user")>-1?i="mfa"==n.forgotMy?r.forgotPassword.inputError:n.securityQuestionIdx?r.resetPage.incorrectSecurityResponse:r.resetPage.invalidOldPassword:i.toLowerCase().indexOf("your password does not meet the arcgis online password requirements. please update your password.")>-1&&(i=r.resetPage.updateOldPassword),s.innerHTML=i||n.messages[0],e.addClass(s,"is-active"),s.focus())}}}),define("text!../contents/selectUser.html",[],function(){return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">{{i18n.selectUser.signInToAcct}}</h1>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <section class="trailer-1 padded-section">\n        <p id="titleText">{{i18n.selectUser.titleTemplate}}<br><br>{{i18n.selectUser.tutorialPanel}}</p>\n        {{#info.linkedUsers}}{{^disabled}}\n        <div class="panel panel-white panel-narrow trailer-half pointer flex js-account" data-username="{{username}}"\n            tabindex="0">\n            <div class="profile-circle-container">\n                <img class="profile-circle" alt="{{userProfileImg}}" {{#thumbnail}} src="{{thumbnail}}" {{/thumbnail}}\n                    {{^thumbnail}} src="{{info.contextPath}}/files/no-user-thumb.jpg" {{/thumbnail}}>\n                <div class="profile-circle-badge">{{&info.providerIcon}}</div>\n            </div>\n            <div class="padding-left-1 shift-up-quarter">{{username}}<br><span class="text-dark-gray">{{orgName}}</span></div>\n        </div>\n        {{/disabled}}{{/info.linkedUsers}}\n    </section>\n    <form class="hide" action="{{info.hostname}}{{info.contextPath}}/oauth2/selectUser" method="POST" id="oauth"\n        name="f" spellcheck="false">\n        <input type="hidden" name="oauth_state" id="oauth_state" value="{{info.oauth_state}}">\n        <input type="hidden" id="selectedUser" name="selectedUser" value="">\n    </form>\n</div>\n'}),define("selectUser-new",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/selectUser.html"],function(e,t,n,i,a,s){return{startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,t.setTitle(a.selectUser.title||a.selectUser.windowTitle),t.checkRTL(n.locale),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(e){t.checkRTL(e.locale);var r=t.queryOne(".content");e.hostname=t.getPortalHostname(e,e.refUrl),e.providerIcon=i[e.socialLoginProviderName],r.innerHTML=n.render(s,{info:e,i18n:a,icons:i});var o=t.byId("titleText"),c=a[e.socialLoginProviderName];o.innerHTML=t.sub(o.innerHTML,{providerName:c})},addEventHandlers:function(){e.nodeListToArray(t.query(".js-account")).forEach(function(t){e.addEvent(t,"click",this.onAcctClick.bind(this)),e.addEvent(t,"keyup",this.onPanelKey.bind(this))}.bind(this))},onAcctClick:function(e){var n=e.currentTarget,i=t.byId("oauth"),a=n.getAttribute("data-username");t.byId("selectedUser").value=a,i.submit()},onPanelKey:function(e){0!=e.keyCode&&13!=e.keyCode&&32!=e.keyCode||this.onAcctClick(e)}}}),define("text!../contents/setupSocial.html",[],function(){return'<div>\n    <h1 class="js-header header-bar flex flex-justify">\n        <div class="font-size-1 page-title width-full">{{i18n.createAccount.title}}</div>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </h1>\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    <section class="panel-white trailer-half padded-section" id="setupSocial">\n        <form method="POST" name="f" id="oauth" action="{{info.hostname}}{{info.contextPath}}/oauth2/acceptTermsAndConditions" novalidate autocomplete="off" spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state">\n            <input id="accept" name="acceptTermsAndConditions" type="hidden" value="false">\n            {{#info.promptSocialUserFirstLastNames}}\n            <label>{{i18n.createAccount.firstName}} <input type="text" name="socialUserFirstName" id="firstName" required aria-describedby="firstName-error">\n                <div class="input-error-message js-firstName-error" id="firstName-error"></div>\n            </label>\n            <label>{{i18n.createAccount.lastName}} <input type="text" name="socialUserLastName" id="lastName" required aria-describedby="lastName-error">\n                <div class="input-error-message js-lastName-error" id="lastName-error"></div>\n            </label>\n            {{/info.promptSocialUserFirstLastNames}}\n            {{#info.promptSocialEmail}}\n            <label>{{i18n.createAccount.promptEmailMsg}} <input type="text" name="socialUserEmail" id="email" required aria-describedby="email-error">\n                <div class="input-error-message js-email-error" id="email-error"></div>\n            </label>\n            {{/info.promptSocialEmail}}\n            <label>{{i18n.createAccount.usernameLbl}}\n                <input type="text" name="socialUsername" aria-label="{{i18n.createAccount.usernameLbl}}" id="username" required autocomplete="off" autocorrect="off"\n                    autocapitalize="off" aria-describedby="usernameError usernameReqs">\n                <div class="input-error-message js-username-error" id="usernameError"></div>\n                {{#info.suggestedSocialUsername}}\n                <div>{{i18n.createAccount.promptUsernameMsg}}</div>\n                {{/info.suggestedSocialUsername}}\n            </label>\n            <div class="font-size--2 alert alert-clear trailer-half js-username-alert" id="usernameReqs">\n                {{i18n.createAccount.usernameMust}}:\n                <ul class="js-username-reqs">\n                    <li>{{i18n.createAccount.usernameReq1}}</li>\n                    <li>{{i18n.createAccount.usernameReq2}}</li>\n                    <li>{{i18n.createAccount.usernameReq5}}</li>\n                    <li>{{i18n.createAccount.usernameReq4}}</li>\n                </ul>\n            </div>\n            <hr class="trailer-half leader-half">\n            <div class="font-size--2">\n                <div id="readTou" class="trailer-quarter">{{&i18n.createAccount.readTermsOfUseMsg}}</div>\n                <div class="trailer-quarter"><a target="_blank" href="https://www.esri.com/en-us/legal/terms/master-agreement-product">{{i18n.createAccount.touOtherLanguages}}</a></div>\n                <fieldset>\n                    <legend>{{i18n.createAccount.acceptLegal}}</legend>\n                    {{#info.termsAndConditions}}\n                    <label class="trailer-quarter">\n                        <input type="checkbox" name="hubterms" id="hubterms" required aria-describedby="hubterms-error"><span class="js-orgname">{{i18n.createAccount.hubTou}}</span>\n                        <a class="js-modal-toggle" data-modal="toumodal" tabindex="0">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svg-icon svg-icon-light-blue svg-icon-live svg-icon-large" focusable="false">\n                                {{&icons.info}}\n                            </svg>\n                        </a>\n                        <div class="input-error-message js-hubterms-error" id="hubterms-error"></div>\n                    </label>\n                    {{/info.termsAndConditions}}\n                    <label class="trailer-quarter">\n                        <input type="checkbox" name="terms" id="terms" required aria-describedby="terms-error">{{i18n.createAccount.arcgisTou}}\n                    </label>\n                    <div aria-live="polite" class="trailer-half input-error-message js-terms-error" id="terms-error"></div>\n                    <label>\n                        <input type="checkbox" name="privacy" id="privacy" required aria-describedby="privacy-error">{{i18n.createAccount.arcgisPrivacy}}\n                    </label>\n                    <div aria-live="polite" class="trailer-half input-error-message js-privacy-error" id="privacy-error"></div>\n                    <div class="flex flex-justify">\n                        <button id="cancelBtn" type="button" class="btn btn-small btn-clear">{{i18n.createAccount.cancelBtn}}</button>\n                        <button id="createUserBtn" type="submit" class="btn btn-small">{{i18n.createAccount.createAccountBtn}}</button>\n                    </div>\n                </fieldset>\n            </div>\n        </form>\n    </section>\n    <section class="panel-white trailer-half padded-section hide" id="warnPublic">\n        <p class="font-size-1">{{i18n.createAccount.signInFailed}}</p>\n        <p class="font-size--2" id="acctFromSocial">{{i18n.createAccount.noAccountMsg}}</p>\n        <p class="font-size--2">{{i18n.createAccount.createNewAccountMsg}}</p>\n        <div class="flex flex-justify">\n            <button id="cancelWarnBtn" type="button" class="btn btn-small btn-clear">{{i18n.createAccount.cancelBtn}}</button>\n            <button id="continueBtn" type="button" class="btn btn-small">{{i18n.createAccount.createNewAccountBtn}}</button>\n        </div>\n    </section>\n    {{#info.termsAndConditions}}\n    <div class="js-modal modal-overlay" data-modal="toumodal">\n        <div class="modal-content" role="dialog" aria-labelledby="hubterms" role="dialog">\n            <h4 class="js-orgname">{{i18n.createAccount.hubTou}}</h4>\n            <a class="js-modal-toggle right modal-close" aria-label="Close modal" tabindex="0">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svg-icon svg-icon-gray svg-icon-live" width="24" height="24" focusable="false">\n                    {{&icons.close}}\n                </svg>\n            </a>\n            <div>{{&info.termsAndConditions}}</div>\n            <button id="modalOk" class="btn btn-small right leader-half js-modal-toggle">{{i18n.securityQuestion.okBtn}}</button>\n        </div>\n    </div>\n    {{/info.termsAndConditions}}\n</div>\n'}),define("text!../contents/setupAccount_smx.html",[],function(){
return'<div>\n    {{> header}}\n    <section class="panel-white trailer-half padded-section shadowed">\n        <h2 class="text-center font-size-2">{{i18n.createAccount.confirmDetails}}</h2>\n        <div tabindex="0" class="alert alert-red js-message leader-half trailer-half" id="errMessage"></div>\n        <form method="POST" name="f" id="oauth" action="{{info.hostname}}{{info.contextPath}}/oauth2/signUp" novalidate\n            autocomplete="off" spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state">\n            <input id="accept" name="acceptTermsAndConditions" type="hidden" value="false">\n            <input type="hidden" id="email" name="email">\n            \x3c!-- Username --\x3e\n            {{^info.suggestedUsername}}\n            <label for="username" class="text-light">{{i18n.createAccount.email}}</label>\n            <input type="email" name="username" id="username" disabled value="" minlength="6" maxlength="128"\n                autocomplete="email" pattern="[a-zA-Z0-9][a-zA-Z0-9\\._\\-]*@[a-zA-Z0-9\\._\\-]+\\.[a-zA-Z0-9]+" aria-describedby="usernameError">\n            <div class="input-error-message js-username-error" id="usernameError"></div>\n            {{/info.suggestedUsername}}\n            {{#info.suggestedUsername}}\n            <label class="trailer-0">{{i18n.createAccount.email}}</label>\n            <div class="text-light trailer-half">{{info.suggestedUsername}}</div>\n            <input type="hidden" name="username" id="username" value={{info.suggestedUsername}}>\n            {{/info.suggestedUsername}}\n            <div class="trailer-half font-size--3 avenir-light" id="usernameDesc">\n                {{#info.socialLoginProviderName}}\n                {{info.importedFromSocial}}\n                {{/info.socialLoginProviderName}}\n            </div>\n            {{^info.socialLoginProviderName}}\n            \x3c!-- Password --\x3e\n            <label for="password">{{i18n.createAccount.passwordLbl}}</label>\n            <input type="password" name="password" id="password" autocomplete="new-password" required\n                aria-describedby="passwordError passwordReqs" placeholder="{{i18n.createAccount.createPassword}}">\n            <div class="input-error-message js-password-error" id="passwordError"></div>\n            <div class="alert alert-clear trailer-half js-password-alert" id="passwordReqs">\n                <div class="js-password-meter trailer-half"></div>\n                {{i18n.createAccount.passwordMust}}:\n                <ul class="js-password-reqs">\n                    {{#rules}}\n                    <li>{{label}}</li>\n                    {{/rules}}\n                </ul>\n            </div>\n            \x3c!-- Confirm Password --\x3e\n            <label for="confirmPass">{{i18n.createAccount.confirmPassword}}</label>\n            <input type="password" id="confirmPass" autocomplete="off" required\n                placeholder="{{i18n.createAccount.confirmPassword}}" aria-describedby="confirmPass-error">\n            <div class="input-error-message js-confirmPass-error" id="confirmPass-error"></div>\n            {{/info.socialLoginProviderName}}\n            \x3c!-- First and last name --\x3e\n            <div class="flex flex-justify leader-1 sm-block">\n                <div class="width-full margin-right-2">\n                    <label for="firstName">{{i18n.createAccount.firstName}}</label>\n                    <input value="{{info.newUserFirstname}}" maxlength="40" type="text" name="firstName" id="firstName"\n                        required placeholder="{{i18n.createAccount.enterFirstName}}" aria-describedby="firstName-error">\n                    <div class="input-error-message js-firstName-error" id="firstName-error"></div>\n                </div>\n                <div class="width-full">\n                    <label for="lastName">{{i18n.createAccount.lastName}}</label>\n                    <input value="{{info.newUserLastname}}" maxlength="40" type="text" name="lastName" id="lastName"\n                        required placeholder="{{i18n.createAccount.enterLastName}}" aria-describedby="lastName-error">\n                    <div class="input-error-message js-lastName-error" id="lastName-error"></div>\n                </div>\n            </div>\n            {{^info.socialLoginProviderName}}\n            \x3c!-- Security question --\x3e\n            <label for="question">{{i18n.createAccount.securityQuestion}}</label>\n            <select name="securityQuestionIdx" id="question" class="select-full required" aria-describedby="question-error">\n                <option value="-1">{{i18n.createAccount.selectOne}}</option>\n            </select>\n            <div class="input-error-message js-question-error" id="question-error"></div>\n            \x3c!-- Security answer --\x3e\n            <label for="answer">{{i18n.createAccount.answer}}</label>\n            <input type="text" name="securityAnswer" id="answer" required\n                placeholder="{{i18n.createAccount.enterAnswer}}" aria-describedby="answer-error">\n            <div class="input-error-message js-answer-error" id="answer-error"></div>\n            {{/info.socialLoginProviderName}}\n            \x3c!-- Profile URL --\x3e\n            <label for="profile">\n                {{i18n.createAccount.profileUrl}}&nbsp;&nbsp;\n                <a class="link-underline" href="https://storymaps.com/stories/de0c42272fc6427785637a3e875d9e04" target="_blank">\n                    {{i18n.createAccount.learnMore}}\n                </a>\n            </label>\n            <div class="flex align-center" dir="ltr">\n                <div class="profile-prefix text-light margin-right-quarter" dir="ltr">storymaps.com/profile/</div>\n                <input class="width-full" type="text" name="profile" id="profile" dir="ltr" maxlength="128"\n                    minlength="6" pattern="[a-zA-Z0-9][a-zA-Z0-9\\._\\-@]+[a-zA-Z0-9]" required aria-describedby="profile-error">\n            </div>\n            <div class="input-error-message js-profile-error" id="profile-error"></div>\n            <div class="font-size--3 avenir-light">{{i18n.createAccount.profileUrlPermanent}}</div>\n            \x3c!-- T&C, etc... --\x3e\n            <div class="leader-1">\n                <label>\n                    <input type="checkbox" name="terms" id="smxterms" required aria-describedby="smxterms-error">\n                    {{&i18n.createAccount.acceptSmxTandC}}\n                    <div class="input-error-message js-smxterms-error" id="smxterms-error"></div>\n                </label>\n            </div>\n            <button id="createUserBtn" type="submit"\n                class="btn btn-fill btn-small leader-1">{{i18n.createAccount.createAccountBtn}}</button>\n        </form>\n        <div id="createLoader" class="js-modal modal-overlay modifier-class" data-modal="smxloader">\n            <div class="modal-content" role="dialog" aria-labelledby="modal" role="dialog">\n                <div class="loader is-active padding-leader-3 padding-trailer-3">\n                    <div class="loader-bars"></div>\n                    <div class="loader-text">{{i18n.createAccount.creatingAccount}}</div>\n                </div>\n            </div>\n        </div>\n    </section>\n    {{> footer}}\n</div>\n'}),define("setupSocial",["calcite-web","helpers","mustache","qwest","icons","i18n!../nls/oauth","text!../contents/setupSocial.html","text!../contents/setupAccount_smx.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r,o,c,l){return{social:!1,rules:null,valid_username:!1,valid_email:!0,valid_terms:!1,valid_privacy:!1,valid_hubterms:!0,valid_smxterms:!0,valid_conduct:!0,emailRE:/@/,smxFocus:!1,startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,this.smxFocus="storymapsexpress"==n.client_id.toLowerCase(),t.setTitle(this.smxFocus?s.createAccount.title_smx:s.createAccount.title||s.createAccount.windowTitle),n.hostname=t.getPortalHostname(n,n.refUrl),this.render(n),e.init(),this.rules=this._setRules(),this.addEventHandlers(),t.setContrastInfo()},render:function(i){t.checkRTL(i.locale),e.addClass(document.body,"top-align"),!0!==i.activateOrg&&!1===i.socialUserEmailAvailable&&(i.promptSocialEmail=!0,this.valid_email=!1),this.smxFocus&&(s=s.smx,i.importedFromSocial=function(){var e=this;return e&&e.length&&(e=s.createAccount["imported_"+e]),e},i.suggestedSocialUsername&&(i.suggestedUsername=i.suggestedSocialUsername));var d=t.queryOne(".content"),u=this.smxFocus?o:r;if(d.innerHTML=n.render(u,{info:i,icons:a,i18n:s},{header:c,footer:l}),t.byId("oauth_state").setAttribute("value",i.oauth_state),this.smxFocus){if(t.byId("TCLink").setAttribute("href","https://www.esri.com/content/dam/esrisites/en-us/media/legal/ma-full/ma-full.pdf"),this.valid_privacy=!0,this.valid_terms=!0,this.valid_smxterms=!1,this.valid_conduct=!1,this.valid_username=Boolean(i.suggestedUsername),!this.valid_username){var h=t.queryOne("label[for=username]"),f=t.byId("username"),p=t.byId("usernameDesc");e.removeClass(h,"text-light-gray"),f.removeAttribute("disabled"),p.innerHTML=""}}else{if(1!=i.autoAccountCreateForSocial&&!i.socialUserAccountId){e.addClass(t.byId("setupSocial"),"hide"),e.removeClass(t.byId("warnPublic"),"hide");var m=t.byId("acctFromSocial");m.innerHTML=t.sub(m.innerHTML,{provider:this._capitalize(i.socialLoginProviderName)})}i.suggestedSocialUsername?(t.byId("username").value=i.suggestedSocialUsername,this.valid_username=!0):e.addClass(t.queryOne(".js-username-alert"),"is-active");var v=t.byId("readTou");v.innerHTML=t.sub(v.innerHTML,{touHref:"https://www.esri.com/en-us/legal/terms/master-agreement-product",privacyHref:"https://www.esri.com/legal/privacy"}),e.nodeListToArray(t.query(".js-orgname")).forEach(function(e){e.innerHTML=t.sub(e.innerHTML,{hubname:i.orgName})})}},addEventHandlers:function(){var n=t.byId("username"),i=t.queryOne(".js-username-alert"),a=t.byId("email"),s=t.byId("lastName"),r=t.byId("firstName");if(e.addEvent(n,"input",function(t){this.smxFocus||(e.hasClass(i,"is-active")||e.addClass(i,"is-active"),this._validateInput(t))}.bind(this)),e.addEvent(n,"blur",(this.smxFocus?this._validateSmxUser:this._checkFieldValid).bind(this)),a&&(this.valid_email=!1,e.addEvent(a,"blur",function(e){this.valid_email=this.emailRE.test(a.value),a.value.length&&this._checkFieldValid(e)}.bind(this))),s&&r){this.valid_firstName=Boolean(this.authInfo.newUserFirstname),this.valid_lastName=Boolean(this.authInfo.newUserLastname);var o=function(e){var t=e.target;this["valid_"+t.id]=t.value.length<=40,t.value.length&&this._checkFieldValid(e)}.bind(this);[s,r].forEach(function(t){e.addEvent(t,"blur",o)})}this.authInfo.termsAndConditions&&(this.valid_hubterms=!1),e.nodeListToArray(t.query("#privacy, #terms, #hubterms, #smxterms, #conduct")).forEach(function(t){e.addEvent(t,"change",function(e){var t=e.target;this["valid_"+t.id]=t.checked}.bind(this))}.bind(this));var c=t.byId("continueBtn");if(c&&e.addEvent(c,"click",function(){e.addClass(t.byId("warnPublic"),"hide"),e.removeClass(t.byId("setupSocial"),"hide")}),e.addEvent(t.byId("oauth"),"submit",this._checkRequired.bind(this)),e.nodeListToArray(t.query("#cancelBtn, #cancelWarnBtn")).forEach(function(n){e.addEvent(n,"click",function(){t.byId("accept").value="false",t.byId("oauth").submit()})}),this.smxFocus){var l=t.byId("profile");l&&(e.addEvent(l,"input",function(e){this.valid_profile=e.target.value.length>0}.bind(this)),e.addEvent(l,"blur",this._checkFieldValid.bind(this)))}e.nodeListToArray(t.query(".js-modal-toggle")).forEach(function(t){e.addEvent(t,"keydown",function(e){"Tab"!==e.key&&9!==e.keyCode&&(e.preventDefault(),"Space"!=e.key&&"Enter"!=e.key&&0!=e.keyCode&&13!=e.keyCode&&32!=e.keyCode||e.target.click())})})},_setRules:function(){return{password:[function(e){return e!=t.byId("username").value},function(e){return e.length>=8},function(e){return/[A-Za-z]/.test(e)},function(e){return/[0-9]/.test(e)}],username:[function(e){return e.length>5&&e.length<129},function(e){return!/[^\w\.@\-\s]/.test(e)},function(e){return!/[_\.@\-]/.test(e.slice(0,1))&&!/[_\.@\-]/.test(e.slice(-1))},function(e){return!/\s/.test(e)}]}},_validateInput:function(n){var i=n.target,a=i.id,s=this.rules[a]||[],r=0;s.forEach(function(n,s){var o=t.queryOne(".js-"+a+"-reqs").children[s];i.value&&n(i.value)?(r++,e.removeClass(o,"icon-ui-red icon-ui-notice-round"),e.addClass(o,"icon-ui-green icon-ui-check-mark")):(r--,e.removeClass(o,"icon-ui-green icon-ui-check-mark"),0===i.value.length&&e.removeClass(o,"icon-ui-red icon-ui-notice-round"))}),"email"==a?this.valid_email=this.emailRE.test(i.value):this["valid_"+a]=r==s.length},_validateSmxUser:function(e){var t=e.target;this.valid_username=t.checkValidity(),this._checkFieldValid(e)},_checkFieldValid:function(n){var i=n.target,a=i.id,r=t.queryOne(".js-"+a+"-error");this["valid_"+a]?(e.removeClass(i,"input-error"),e.removeClass(r,"is-active"),"username"==a||"profile"==a?this._checkUsernameExist(i):this._markFieldValid(i)):(r.innerHTML=s.createAccount.errors["invalid_"+a],e.addClass(i,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(r,"is-active"),e.removeClass(this._findLabel(i),"field-suffix icon-ui-check-mark icon-ui-green"),this.rules[a]&&this.rules[a].forEach(function(n,s){var r=t.queryOne(".js-"+a+"-reqs");if(r){var o=r.children[s];n(i.value)?(e.removeClass(o,"icon-ui-red icon-ui-notice-round"),e.addClass(o,"icon-ui-green icon-ui-check-mark")):(e.removeClass(o,"icon-ui-green icon-ui-check-mark"),e.addClass(o,"icon-ui-red icon-ui-notice-round"))}}))},_checkUsernameExist:function(n){var a=n.value,r=this._findLabel(n),o=t.queryOne(".js-"+n.id+"-error"),c=this.authInfo.hostname+this.authInfo.contextPath+"/rest/community/checkUsernames";e.addClass(r,"field-suffix icon-ui-loading-indicator icon-ui-blue"),i.post(c,{usernames:a,f:"json"},{cache:!0,responseType:"json"}).then(function(i,a){if(e.removeClass(r,"icon-ui-loading-indicator icon-ui-blue"),a&&a.usernames){var c=a.usernames[0];c&&c.requested==c.suggested?this._markFieldValid(n):(this["valid_"+n.id]=!1,o.innerHTML=s.createAccount.errors["taken_"+n.id],e.removeClass(r,"icon-ui-check-mark icon-ui-green"),e.addClass(n,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(o,"is-active"))}}.bind(this))},_markFieldValid:function(n){var i=n.id,a=t.queryOne(".js-"+i+"-alert"),s=this._findLabel(n);a&&"username"!=i&&e.removeClass(a,"is-active"),"firstName"!=i&&"lastName"!=i&&e.addClass(s,"field-suffix icon-ui-check-mark icon-ui-green")},_checkRequired:function(n){n.preventDefault();var i=n.target,a=t.queryOne(".input-error-message.is-active");a&&e.removeClass(a,"is-active");var r=0;e.nodeListToArray(t.query("input[required], .required",i)).every(function(n){var i=n.tagName.toLowerCase(),a=t.queryOne(".js-"+n.id+"-error"),o=!1;return"input"==i&&"checkbox"!=n.type&&"radio"!=n.type?n.value.length>0&&!1!==this["valid_"+n.id]?o=!0:0==n.value.length&&(o=!1):"checkbox"==n.type?o=n.checked:"select"==i&&(o=n.selectedIndex>0),o?(e.removeClass(n,"input-error"),e.removeClass(a,"is-active")):e.hasClass(a,"is-active")||(a.innerHTML=s.createAccount.errors["missing_"+n.id],e.addClass(n,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(a,"is-active"),r++),o},this),0==r&&1==this.valid_username&&1==this.valid_terms&&1==this.valid_privacy&&1==this.valid_hubterms&&1==this.valid_smxterms&&1==this.valid_conduct&&!1!==this.valid_profile&&(t.byId("accept").value="true",i.submit())},_findLabel:function(e){var n;return this.smxFocus?(n=t.queryOne("label[for="+e.id+"]"))||(n=t.findPreviousSibling("label",e)):n=t.findParentNode("label",e),n},_capitalize:function(e){var t=[e.slice(0,1),e.slice(1)];return t[0].toUpperCase()+t[1]}}}),define("text!../contents/acceptTerms.html",[],function(){return'<div class="terms-container panel-white hide" aria-labelledby="termsTitle" role="dialog">\n  <div class="terms-inner-container">\n    <h4 id="termsTitle" class="terms-title padding-trailer-half">{{& info.orgAuthenticatedUserAccessNotice.title}}</h4>\n    <div class="terms-content">{{& info.orgAuthenticatedUserAccessNotice.text}}</div>\n    <div class="terms-action actions-area">\n      <div class="button-wrapper">\n        {{#info.orgAuthenticatedUserAccessNotice.okOnly}}\n        <button autofocus data-accept="yes" type="button" class="js-terms-submit btn">{{i18n.termsOfUse.ok}}</button>\n        {{/info.orgAuthenticatedUserAccessNotice.okOnly}}\n        {{^info.orgAuthenticatedUserAccessNotice.okOnly}}\n        <button autofocus data-accept="yes" type="button" class="js-terms-submit btn right margin-left-1">{{i18n.termsOfUse.approve}}</button>\n        <button data-accept="no" type="button" class="js-terms-submit btn btn-clear right">{{i18n.termsOfUse.decline}}</button>\n        {{/info.orgAuthenticatedUserAccessNotice.okOnly}}\n      </div>\n    </div>\n  </div>\n  <form method="POST" name="f" id="oauth" action="{{info.hostname}}{{info.contextPath}}/oauth2/acceptTermsAndConditions" novalidate autocomplete="off">\n    <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n    <input type="hidden" id="accept" name="acceptTermsAndConditions" value="false">\n  </form>\n</div>\n'}),define("acceptTerms",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/acceptTerms.html"],function(e,t,n,i,a,s){return{startup:function(e){this.authInfo=e,document.documentElement.lang=e.locale,t.setTitle(a.createAccount.acceptTermsTitle),t.checkRTL(e.locale),this.render(e),this.addEventHandlers(),t.setContrastInfo()},render:function(r){r.orgAuthenticatedUserAccessNotice&&"okOnly"==r.orgAuthenticatedUserAccessNotice.buttons&&(r.orgAuthenticatedUserAccessNotice.okOnly=!0),r.orgAuthenticatedUserAccessNotice&&r.orgAuthenticatedUserAccessNotice.text&&(r.orgAuthenticatedUserAccessNotice.text=r.orgAuthenticatedUserAccessNotice.text.replace(/\n/g,"<br>")),t.checkRTL(r.locale);var o=t.queryOne("body");if(r.hostname=t.getPortalHostname(r,r.refUrl),o.innerHTML=n.render(s,{info:r,i18n:a,icons:i}),r.orgAuthenticatedUserAccessNotice&&!1!==r.orgAuthenticatedUserAccessNotice.enabled)e.removeClass(t.queryOne(".terms-container"),"hide");else{var c=t.byId("oauth");t.byId("accept").value="true",c.submit()}t.queryOne("button[autofocus]").focus()},addEventHandlers:function(){e.nodeListToArray(t.query(".js-terms-submit")).forEach(function(t){e.addEvent(t,"click",this._handleSubmitBtn)}.bind(this))},_handleSubmitBtn:function(e){e.preventDefault();var n=t.byId("oauth"),i=t.byId("accept");"yes"==e.target.getAttribute("data-accept")&&(i.value="true"),n.submit()}}}),define("termsConditions",["setupSocial","acceptTerms"],function(e,t){return{startup:function(n){n.isAcceptOrgAccessNotice?t.startup(n):e.startup(n)}}}),define("text!../contents/createAccount.html",[],function(){return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full js-hubname">\n            {{#info.isHubRelated}}{{i18n.createHubAcct}}{{/info.isHubRelated}}\n            {{^info.isHubRelated}}{{i18n.createPublic}}{{/info.isHubRelated}}\n        </h1>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    {{#info.isHubRelated}}\n    <section class="trailer-half font-size--2 padded-section">\n        {{^info.customSignupText}}\n        <span class="js-hubname">{{i18n.hubAcctCanDo}}:</span><br>\n        <ul class="font-size--2">\n            <li>{{i18n.hubAcctCan1}}</li>\n            <li>{{i18n.hubAcctCan2}}</li>\n            <li>{{i18n.hubAcctCan3}}</li>\n        </ul>\n        {{/info.customSignupText}}\n        {{#info.customSignupText}}\n        <p class="font-size--2 trailer-0">{{&.}}</p>\n        {{/info.customSignupText}}\n    </section>\n    {{/info.isHubRelated}}\n    {{^info.isHubRelated}}\n    <section class="trailer-half font-size--2 padded-section">\n        <span>{{i18n.publicAcctLimit}}</span><br>\n        <span>{{i18n.publicAcctCanDo}}:</span><br>\n        <ul class="font-size--2">\n            <li>{{i18n.publicAcctCan1}}</li>\n            <li>{{i18n.publicAcctCan2}}</li>\n            <li>{{i18n.publicAcctCan3}}</li>\n        </ul>\n    </section>\n    {{/info.isHubRelated}}\n    {{#info.showEmail}}\n    <section class="trailer-half padded-section">\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/signup" name="f" id="create" novalidate method="POST" autocomplete="off" spellcheck="false">\n            <label>{{i18n.firstName}} <input maxlength="41" type="text" name="firstName" id="firstName" required aria-describedby="firstName-error">\n                <div class="input-error-message js-firstName-error" id="firstName-error"></div>\n            </label>\n            <label>{{i18n.lastName}} <input maxlength="41" type="text" name="lastName" id="lastName" required aria-describedby="lastName-error">\n                <div class="input-error-message js-lastName-error" id="lastName-error"></div>\n            </label>\n            <label>{{i18n.email}} <input type="email" name="email" id="email" required aria-describedby="email-error">\n                <div class="input-error-message js-email-error" id="email-error"></div>\n            </label>\n            <label>{{i18n.confirmEmail}} <input type="email" id="confirm" required aria-describedby="confirm-error">\n                <div class="input-error-message js-confirm-error" id="confirm-error"></div>\n            </label>\n            <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n            <input id="accept" name="acceptTermsAndConditions" type="hidden" value="false">\n            <hr class="trailer-half leader-half">\n            <div>\n                <div id="readTou" class="trailer-quarter">{{&i18n.readTermsOfUseMsg}}</div>\n                <div class="trailer-quarter"><a target="_blank" href="https://www.esri.com/en-us/legal/terms/master-agreement-product">{{i18n.touOtherLanguages}}</a></div>\n                <fieldset>\n                    <legend>{{i18n.acceptLegal}}</legend>\n                    {{#info.termsAndConditions}}\n                    <label class="trailer-quarter">\n                        <input type="checkbox" name="hubterms" id="hubterms" required aria-describedby="hubterms-error"><span class="js-hubname">{{i18n.hubTou}}</span>\n                        <a class="js-modal-toggle" data-modal="toumodal" tabindex="0">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="svg-icon svg-icon-light-blue svg-icon-live svg-icon-large" focusable="false">\n                                {{&icons.info}}\n                            </svg>\n                        </a>\n                        <div class="input-error-message js-hubterms-error" id="hubterms-error"></div>\n                    </label>\n                    {{/info.termsAndConditions}}\n                    <label class="trailer-quarter">\n                        <input type="checkbox" name="terms" id="terms" required aria-describedby="terms-error">{{i18n.arcgisTou}}\n                    </label>\n                    <div aria-live="polite" class="trailer-half input-error-message js-terms-error" id="terms-error"></div>\n                    <label>\n                        <input type="checkbox" name="privacy" id="privacy" required aria-describedby="privacy-error">{{i18n.arcgisPrivacy}}\n                    </label>\n                    <div aria-live="polite" class="trailer-half input-error-message js-privacy-error" id="privacy-error"></div>\n                    <button id="nextBtn" type="submit" class="btn btn-fill btn-small">{{i18n.nextBtn}}</button>\n                </fieldset>\n            </div>\n        </form>\n    </section>\n    {{/info.showEmail}}\n    {{#info.showSocial}}\n    <section class="padded-section">\n        <ul class="social-wrapper flex flex-justify padding-left-0 leader-0">\n        {{#info.socialProviders}}\n            {{^info.socialIconsOnly}}\n            <li class="btn btn-fill btn-clear padded-section">\n                <a class="flex align-center justify-center js-provider-{{.}}" aria-label="{{i18n.signInWithSocial}} {{info.capitalize}}" href="{{info.hostname}}{{info.contextPath}}/oauth2/social/authorize?socialLoginProviderName={{.}}&createNewSocialUser=true&autoAccountCreateForSocial=true&oauth_state={{info.oauth_state}}">\n                {{&info.getSocialIcon}}<span>&nbsp;{{info.capitalize}}</span>\n                </a>\n            </li>\n            {{/info.socialIconsOnly}}\n            {{#info.socialIconsOnly}}\n            <li class="btn btn-fill btn-clear padded-section flex">\n                <a class="flex-1 js-provider-{{.}}" href="{{info.hostname}}{{info.contextPath}}/oauth2/social/authorize?socialLoginProviderName={{.}}&createNewSocialUser=true&autoAccountCreateForSocial=true&oauth_state={{info.oauth_state}}">\n                    <div class="tooltip" aria-label="{{i18n.signInWithSocial}} {{info.capitalize}}">\n                        {{&info.getSocialIcon}}\n                    </div>\n                </a>\n            </li>\n            {{/info.socialIconsOnly}}\n            {{/info.socialProviders}}\n        </ul>\n    </section>\n    {{/info.showSocial}}\n</div>\n{{#info.termsAndConditions}}\n<div class="js-modal modal-overlay" data-modal="toumodal">\n    <div class="modal-content" role="dialog" aria-labelledby="hubterms" role="dialog">\n        <h4 class="js-hubname">{{i18n.hubTou}}</h4>\n        <a class="js-modal-toggle right modal-close" aria-label="Close modal" tabindex="0">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svg-icon svg-icon-gray svg-icon-live" width="24" height="24" focusable="false">\n                {{&icons.close}}\n            </svg>\n        </a>\n        <div>{{&info.termsAndConditions}}</div>\n        <button id="modalOk" class="btn btn-small right leader-half js-modal-toggle">{{i18n.ok}}</button>\n    </div>\n</div>\n{{/info.termsAndConditions}}\n'}),define("createAccount",["calcite-web","helpers","mustache","icons","socialHelper","i18n!../nls/oauth","text!../contents/createAccount.html"],function(e,t,n,i,a,s,r){return{emailRe:/@/,error:null,startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,t.setTitle(s.createAccount.title||s.createAccount.windowTitle),t.checkRTL(n.locale),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(o){t.checkRTL(o.locale),e.addClass(document.body,"top-align");var c=o.hubEnabled||o.isCommunity;if(o.isHubRelated=c,o.hostname=t.getPortalHostname(o,o.refUrl),o.showBoth=!c||o.isAccountSocialAutoJoins&&o.isEnableArcGISAutoSignups,o.showEmail=!c||o.isEnableArcGISAutoSignups,o.showSocial=!c||o.isAccountSocialAutoJoins,(o.showBoth||o.showSocial)&&a.addSocialInfo(o),o.customSignupText&&(o.customSignupText=o.customSignupText.replace(/\n/g,"<br/>")),t.queryOne(".content").innerHTML=n.render(r,{info:o,i18n:t.extend({ok:s.securityQuestion.okBtn},s.createAccount),icons:i}),c){var l=o.isCommunity?o.orgName:o.companionOrganizations&&o.companionOrganizations[0]&&o.companionOrganizations[0].orgName;e.nodeListToArray(t.query(".js-hubname")).forEach(function(e){e.innerHTML=t.sub(e.innerHTML,{hubname:l})})}if(!c||o.showEmail){var d=t.byId("readTou");d.innerHTML=t.sub(d.innerHTML,{touHref:"https://www.esri.com/en-us/legal/terms/master-agreement-product",privacyHref:"https://www.esri.com/legal/privacy"})}},addEventHandlers:function(){this.authInfo.showEmail&&(e.addEvent(t.byId("email"),"blur",this._checkValidEmail.bind(this)),e.addEvent(t.byId("email"),"blur",this._checkMatchEmail.bind(this)),e.addEvent(t.byId("confirm"),"blur",this._checkMatchEmail.bind(this)),e.addEvent(t.byId("firstName"),"blur",this._checkName.bind(this)),e.addEvent(t.byId("lastName"),"blur",this._checkName.bind(this)),e.nodeListToArray(t.query("#privacy, #terms, #hubterms")).forEach(function(t){e.addEvent(t,"change",function(e){var t=e.target;this.error&&this.error.id==t.id&&t.checked&&(this.error=null,this._clearErrors())}.bind(this))}.bind(this)),e.addEvent(t.byId("create"),"submit",function(n){n.preventDefault(),this.error=null,this._clearErrors(),e.nodeListToArray(t.query("input[required]")).every(function(e){return this._checkEmpty({target:e})}.bind(this)),null==this.error&&(this.authInfo.showEmail&&(t.byId("accept").value=!0),n.target.submit())}.bind(this)),e.nodeListToArray(t.query(".js-modal-toggle")).forEach(function(t){e.addEvent(t,"keydown",function(e){"Tab"!==e.key&&9!==e.keyCode&&(e.preventDefault(),"Space"!=e.key&&"Enter"!=e.key&&0!=e.keyCode&&13!=e.keyCode&&32!=e.keyCode||e.target.click())})}))},_checkEmpty:function(e){var n=e.target,i=t.queryOne(".js-"+n.id+"-error"),a=0==n.value.length||"checkbox"==n.type.toLowerCase()&&!0!==n.checked;return a&&this._reportError({el:n,errEl:i,valid:!a,msg:s.createAccount.errors["missing_"+n.id]}),!a},_checkName:function(e){var n=e.target,i=t.queryOne(".js-"+n.id+"-error"),a=n.value.length>0,r=n.value.length>40;return this._clearErrors(),r?(this._reportError({el:n,errEl:i,valid:!1,msg:s.createAccount.errors.long_name,focus:!1}),!1):(a&&this._reportError({el:n,errEl:i,valid:!0,msg:""}),!0)},_checkValidEmail:function(e){var n=e.target,i=n.value,a=t.queryOne(".js-"+n.id+"-error"),r=this.emailRe.test(i);if(this._clearErrors(),i.length>0)return this._reportError({el:n,errEl:a,valid:r,msg:s.createAccount.errors.invalid_email,focus:!1}),r},_checkMatchEmail:function(e){var n=e.target,i="email"==n.id?t.byId("confirm"):t.byId("email"),a=n.value,r=i.value,o=t.queryOne(".js-confirm-error"),c=a!=r;if(this._clearErrors(),a.length>0&&r.length>0)return this._reportError({valid:!c,el:n,errEl:o,msg:s.createAccount.errors.unmatched_email,focus:!1}),!c},_reportError:function(t){var n="";t.valid||e.hasClass(t.errEl,"is-active")?t.valid&&(n="removeClass",this.error&&this.error.id==t.el.id&&(this.error=null)):(n="addClass",t.errEl.innerHTML=t.msg,this.error={id:t.el.id,focusEl:t.el},!1!==t.focus&&t.el.focus()),n&&(e[n](t.el,"input-error"),e[n](t.errEl,"is-active"))},_clearErrors:function(){e.nodeListToArray(t.query(".input-error-message.is-active")).forEach(function(t){e.removeClass(t,"is-active")}),e.nodeListToArray(t.query(".input-error")).forEach(function(t){e.removeClass(t,"input-error")})}}}),define("text!../contents/setupAccount.html",[],function(){
return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">\n            {{^info.join}}\n                {{^info.isCommunity}}{{i18n.createAccount.setupPublic}}{{/info.isCommunity}}\n                {{#info.isCommunity}}<span class="js-hubname">{{i18n.createAccount.setupHubAcct}}</span>{{/info.isCommunity}}\n            {{/info.join}}\n            {{#info.join}}\n                <span class="js-orgname">{{i18n.createAccount.titleJoin}}</span>\n            {{/info.join}}\n        </h1>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    <section class="panel-white trailer-half padded-section">\n        <form method="POST" name="f" id="oauth" action="{{info.hostname}}{{info.contextPath}}/oauth2/createUser" novalidate autocomplete="off" spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state">\n            <label>{{i18n.createAccount.usernameLbl}}\n                <input type="text" name="username" aria-label="{{i18n.createAccount.usernameLbl}}" id="username" required autofocus autocomplete="off" autocorrect="off"\n                    autocapitalize="off" aria-describedby="usernameError usernameReqs"\n                    pattern="[a-zA-Z0-9][a-zA-Z0-9\\._\\-@]+[a-zA-Z0-9]" minlength="6" maxlength="128"\n                >\n                <div class="input-error-message js-username-error" id="usernameError"></div>\n            </label>\n            <div class="alert alert-clear trailer-half js-username-alert" id="usernameReqs">\n                {{i18n.createAccount.usernameMust}}:\n                <ul class="js-username-reqs">\n                    <li>{{i18n.createAccount.usernameReq1}}</li>\n                    <li>{{i18n.createAccount.usernameReq2}}</li>\n                    <li>{{i18n.createAccount.usernameReq5}}</li>\n                    <li>{{i18n.createAccount.usernameReq4}}</li>\n                </ul>\n            </div>\n            <label>{{i18n.createAccount.passwordLbl}}\n                <input type="password" name="password" aria-label="{{i18n.createAccount.passwordLbl}}" id="password" autocomplete="new-password" required aria-describedby="passwordError passwordReqs">\n                <div class="input-error-message js-password-error" id="passwordError"></div>\n            </label>\n            <div class="alert alert-clear trailer-half js-password-alert" id="passwordReqs">\n                <div class="js-password-meter trailer-half"></div>\n                {{i18n.createAccount.passwordMust}}:\n                <ul class="js-password-reqs">\n                    {{#rules}}\n                        <li>{{label}}</li>\n                    {{/rules}}\n                </ul>\n            </div>\n            <label>{{i18n.createAccount.retypePassword}}\n                <input type="password" id="confirmPass" autocomplete="off" required aria-describedby="confirmPass-error">\n                <div class="input-error-message js-confirmPass-error" id="confirmPass-error"></div>\n            </label>\n            {{#info.join}}\n            <hr class="trailer-half leader-half">\n            <label>{{i18n.createAccount.firstName}} <input type="text" name="firstName" id="firstName" required aria-describedby="firstName-error">\n                <div class="input-error-message js-firstName-error" id="firstName-error"></div>\n            </label>\n            <label>{{i18n.createAccount.lastName}} <input type="text" name="lastName" id="lastName" required aria-describedby="lastName-error">\n                <div class="input-error-message js-lastName-error" id="lastName-error"></div>\n            </label>\n            <label>{{i18n.createAccount.email}} <input type="email" name="email" id="email" required aria-describedby="email-error">\n                <div class="input-error-message js-email-error" id="email-error"></div>\n            </label>\n            <label>{{i18n.createAccount.confirmEmail}} <input type="email" id="confirm" required aria-describedby="confirm-error">\n                <div class="input-error-message js-confirm-error" id="confirm-error"></div>\n            </label>\n            {{/info.join}}\n            <hr class="trailer-half leader-half">\n            <label>{{i18n.createAccount.securityQuestion}}\n                <select name="securityQuestionIdx" id="question" class="select-full required" aria-describedby="question-error">\n                    <option value="-1">{{i18n.createAccount.selectOne}}</option>\n                </select>\n                <div class="input-error-message js-question-error" id="question-error"></div>\n            </label>\n            <label>{{i18n.createAccount.answer}}\n                <input type="text" name="securityAnswer" id="answer" required aria-describedby="answer-error">\n                <div class="input-error-message js-answer-error" id="answer-error"></div>\n            </label>\n            {{#info.join}}\n            <div class="flex leader-1">\n                <button id="cancelBtn" type="submit" class="btn btn-clear btn-fill btn-small margin-right-1">{{i18n.cancel}}</button>\n                <button id="createUserBtn" type="submit" class="btn btn-fill btn-small">{{i18n.createAccount.createAccountBtn}}</button>\n            </div>\n            {{/info.join}}\n            {{^info.join}}\n            <button id="createUserBtn" type="submit" class="btn btn-fill btn-small">{{i18n.createAccount.createAccountBtn}}</button>\n            {{/info.join}}\n        </form>\n    </section>\n</div>\n'}),define("setupAccount",["calcite-web","helpers","mustache","qwest","PasswordMeter","icons","i18n!../nls/oauth","text!../contents/setupAccount.html","text!../contents/setupAccount_smx.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r,o,c,l,d){return{social:!1,rules:null,meter:null,valid_username:!1,valid_password:!1,valid_confirmPass:!1,valid_firstName:!0,valid_lastName:!0,valid_email:!0,valid_confirm:!0,smxFocus:!1,startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,this.smxFocus="storymapsexpress"==n.client_id.toLowerCase(),this.social=Boolean(n.socialLoginProviderName),t.setTitle(this.smxFocus?r.createAccount.title_smx:r.createAccount.title||r.createAccount.windowTitle),t.checkRTL(n.locale),n.hostname=t.getPortalHostname(n,n.refUrl),this.smxFocus&&(r=r.smx),this.rules=this._setRules(),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(u){t.checkRTL(u.locale),e.addClass(document.body,"top-align"),this.smxFocus&&(u.username?u.suggestedUsername=u.username:u.prePopulatedUsername?u.suggestedUsername=u.prePopulatedUsername:u.suggestedSocialUsername&&(u.suggestedUsername=u.suggestedSocialUsername),this.valid_username=Boolean(u.suggestedUsername),u.importedFromSocial=function(){var e=this;return e&&e.length&&(e=r.createAccount["imported_"+e]),e});var h=t.queryOne(".content"),f=this.smxFocus?c:o;if(h.innerHTML=n.render(f,{info:u,i18n:r,icons:s,rules:this.rules.password},{header:l,footer:d}),t.byId("oauth_state").setAttribute("value",u.oauth_state),!this.social&&this._buildQuestions(),u.isCommunity||u.hubEnabled){var p=u.isCommunity?u.orgName:u.companionOganizations&&u.companionOganizations[0]&&u.companionOganizations[0].orgName;e.nodeListToArray(t.query(".js-hubname")).forEach(function(e){e.innerHTML=t.sub(e.innerHTML,{hubname:p})})}if(u.join&&e.nodeListToArray(t.query(".js-orgname")).forEach(function(e){e.innerHTML=t.sub(e.innerHTML,{orgname:u.orgName})}),this.smxFocus){if(t.byId("TCLink").setAttribute("href","https://storymaps.com/legal"),t.byId("PLink").setAttribute("href","https://storymaps.com/privacy"),!this.valid_username){var m=t.queryOne("label[for=username]"),v=t.byId("username"),g=t.byId("usernameDesc");e.removeClass(m,"text-light"),v.removeAttribute("disabled"),g.innerHTML=""}if(this.social)return this.valid_password=!0,this.valid_confirmPass=!0,this.valid_confirm=!0,void this._populateProfileUrl()}this.meter=new a({attach:t.queryOne(".js-password-meter"),input:t.byId("password"),authInfo:u}),this.meter.startup(),i.get(this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/helpMap",{f:"json"},{responseType:"json",cache:!0}).then(function(n){var i=n.response,a=this.authInfo.isPortal?"120001688":"120001811",s=i.helpMap.m[a],r=this.authInfo.helpBase+s;e.nodeListToArray(t.query(".js-password-link")).forEach(function(e){e.setAttribute("href",r)})}.bind(this))},addEventHandlers:function(){if(this.social){var n=t.byId("username"),i=t.queryOne(".js-username-alert");e.addEvent(n,"input",function(t){this.smxFocus||(e.hasClass(i,"is-active")||e.addClass(i,"is-active"),this.valid_username=!1,this._validateInput(t))}.bind(this)),e.addEvent(n,"blur",(this.smxFocus?this._validateSmxUser:this._checkFieldValid).bind(this)),this.valid_firstName=Boolean(this.authInfo.newUserFirstname),this.valid_lastName=Boolean(this.authInfo.newUserLastname),e.nodeListToArray(t.query("#firstName, #lastName")).forEach(function(t){e.addEvent(t,"blur",this._checkNameLength.bind(this))}.bind(this))}else{e.addEvent(t.byId("password"),"focus",function(){e.addClass(t.queryOne(".js-password-alert"),"is-active")}),e.addEvent(t.byId("username"),"focus",function(){e.addClass(t.queryOne(".js-username-alert"),"is-active")}),e.nodeListToArray(t.query("#password, #username")).forEach(function(t){e.addEvent(t,"input",this._validateInput.bind(this)),e.addEvent(t,"blur",this._checkFieldValid.bind(this))}.bind(this)),e.addEvent(t.byId("question"),"change",function(n){var i=n.target,a=t.queryOne(".js-"+i.id+"-error");"-1"!=i.value&&(e.removeClass(i,"input-error"),e.removeClass(a,"is-active"))}),e.addEvent(t.byId("password"),"blur",function(e){var n=t.byId("password"),i=t.byId("confirmPass");n.value.length&&i&&i.value.length&&(this.valid_confirmPass=i.value==n.value,this._checkFieldValid({target:i})),this._validateInput(e)&&this._checkFieldValid(e)}.bind(this)),e.bus.on("meter:update",function(e){var t={target:e.input};this._validateInput(t),this._checkFieldValid(t)}.bind(this)),e.addEvent(t.byId("confirmPass"),"blur",function(e){var n=e.target,i=n.value,a=t.byId("password").value;this.valid_confirmPass=i==a,i.length>0&&this._checkFieldValid(e)}.bind(this)),e.addEvent(t.byId("confirmPass"),"input",function(n){var i=n.target;0==i.value.length&&(e.removeClass(this.findLabel(i),"field-suffix icon-ui-check-mark svg-icon-green"),e.removeClass(i,"input-error"),e.removeClass(t.queryOne(".js-"+i.id+"-error"),"is-active"))}.bind(this)),e.nodeListToArray(t.query("#email, #confirm")).forEach(function(t){e.addEvent(t,"blur",this._checkEmailMatch.bind(this))}.bind(this)),e.nodeListToArray(t.query("#firstName, #lastName")).forEach(function(t){e.addEvent(t,"blur",this._checkNameLength.bind(this))}.bind(this));var a=t.byId("cancelBtn");this.authInfo.join&&a&&e.addEvent(a,"click",function(e){e.preventDefault();var t=this.authInfo.hostname+this.authInfo.contextPath+"/oauth2/join?join="+this.authInfo.join+"&oauth_state="+this.authInfo.oauth_state;window.location.href=t}.bind(this))}if(this.smxFocus){var s=t.byId("profile"),r=t.byId("firstName"),o=t.byId("lastName");s&&(e.addEvent(s,"input",function(){this.valid_profile=s.checkValidity()}.bind(this)),e.addEvent(s,"blur",this._checkFieldValid.bind(this))),r&&o&&(e.addEvent(r,"blur",this._populateProfileUrl.bind(this)),e.addEvent(o,"blur",this._populateProfileUrl.bind(this)))}e.addEvent(t.byId("oauth"),"submit",this._checkRequired.bind(this))},_buildQuestions:function(){var e=t.byId("question"),n=[];Object.keys(r.securityQuestions).forEach(function(e){n[~~e-1]=r.securityQuestions[e]}),n.forEach(function(t,n){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",n+1),e.appendChild(i)})},_setRules:function(){return{password:this._setPasswordRules(),username:[function(e){return e.length>5&&e.length<129},function(e){return!/[^\w\.@\-\s]/.test(e)},function(e){return!/[_\.@\-]/.test(e.slice(0,1))&&!/[_\.@\-]/.test(e.slice(-1))},function(e){return!/\s/.test(e)}]}},_setPasswordRules:function(){var e=[];e.push({label:r.createAccount.passwordReq1,rule:function(e){return e!=t.byId("username").value}});var n=this.authInfo.passwordPolicy;return n&&n.type?(n.minLength>0&&e.push({label:t.sub(r.resetPage.minLength,n),rule:function(e){return e.length>=this.authInfo.passwordPolicy.minLength}.bind(this)}),n.minUpper>0&&e.push({label:t.sub(r.resetPage.minUpper,n),rule:function(e){var t=e.match(/([A-Z])/g);return t&&t.length>=this.authInfo.passwordPolicy.minUpper}.bind(this)}),n.minLower>0&&e.push({label:t.sub(r.resetPage.minLower,n),rule:function(e){var t=e.match(/([a-z])/g);return t&&t.length>=this.authInfo.passwordPolicy.minLower}.bind(this)}),n.minLetter>0&&e.push({label:t.sub(r.resetPage.minLetter,n),rule:function(e){var t=e.match(/([A-Za-z])/g);return t&&t.length>=this.authInfo.passwordPolicy.minLetter}.bind(this)}),n.minDigit>0&&e.push({label:t.sub(r.resetPage.minDigit,n),rule:function(e){var t=e.match(/([0-9])/g);return t&&t.length>=this.authInfo.passwordPolicy.minDigit}.bind(this)}),n.minOther>0&&e.push({label:t.sub(r.resetPage.minOther,n),rule:function(e){var t=e.match(/([!"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~])/g);return t&&t.length>=this.authInfo.passwordPolicy.minOther}.bind(this)}),n.historySize>0&&e.push({label:t.sub(r.resetPage.historySize,n),rule:function(){return!0}})):e=e.concat([{label:r.createAccount.passwordReq2,rule:function(e){return e.length>=8}},{label:r.createAccount.passwordReq3,rule:function(e){return/[A-Za-z]/.test(e)}},{label:r.createAccount.passwordReq4,rule:function(e){return/[0-9]/.test(e)}}]),e},_validateInput:function(n){var i=n.target,a=i.id,s=this.rules[a]||[],r=0;0==i.value.length&&(e.removeClass(this.findLabel(i),"field-suffix icon-ui-check-mark svg-icon-green"),e.removeClass(i,"input-error"),e.removeClass(t.queryOne(".js-"+a+"-error"),"is-active")),s.forEach(function(n,s){n.rule&&(n=n.rule);var o=t.queryOne(".js-"+a+"-reqs").children[s];i.value.length&&n(i.value)?(r++,e.removeClass(o,"svg-icon-red icon-ui-notice-round"),e.addClass(o,"svg-icon-green icon-ui-check-mark")):(r--,e.removeClass(o,"svg-icon-green icon-ui-check-mark"),0===i.value.length&&e.removeClass(o,"svg-icon-red icon-ui-notice-round"))});var o=r==s.length;return"password"==a&&this.meter&&this.meter.strength<2&&o&&(o=!1,this.weakPassword=!0),this["valid_"+a]=o,o},_validateSmxUser:function(e){var t=e.target;this.valid_username=t.checkValidity(),this._checkFieldValid(e)},_populateProfileUrl:function(){var e=t.byId("profile"),n=t.byId("firstName"),a=t.byId("lastName");if(n&&n.value.length&&a&&a.value.length&&e&&0===e.value.length){var s=n.value.charAt(0).toUpperCase(),r=a.value.charAt(0).toUpperCase(),o=s+r+a.value.substring(1),c=this.authInfo.hostname+this.authInfo.contextPath+"/rest/community/checkUserDefinedNames";i.post(c,{udns:o,f:"json"},{cache:!0,responseType:"json"}).then(function(t,n){if(n&&n.udns){var i=n.udns[0];e.value=i.suggested,this.valid_profile=!0}}.bind(this))}},_checkFieldValid:function(n){var i=n.target,a=i.id,s=t.queryOne(".js-"+a+"-error");!this["valid_"+a]&&i.value.length>0?(s.innerHTML=this._getErrorMessage(i),e.addClass(i,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(s,"is-active"),e.removeClass(this.findLabel(i),"field-suffix icon-ui-check-mark svg-icon-green"),this.rules[a]&&t.queryOne(".js-"+a+"-reqs")&&this.rules[a].forEach(function(n,s){n.rule&&(n=n.rule);var r=t.queryOne(".js-"+a+"-reqs").children[s];n(i.value)?(e.removeClass(r,"svg-icon-red icon-ui-notice-round"),e.addClass(r,"svg-icon-green icon-ui-check-mark")):(e.removeClass(r,"svg-icon-green icon-ui-check-mark"),e.addClass(r,"svg-icon-red icon-ui-notice-round"))})):(e.removeClass(i,"input-error"),e.removeClass(s,"is-active"),"username"==a&&i.value.length>0?this._checkUsernameExist(i):"profile"==a&&i.value.length>0?this._checkUdnExist(i):this._markFieldValid(i))},_checkUsernameExist:function(n){var a=n.value,s=n.id,o=this.findLabel(n),c=t.queryOne(".js-"+n.id+"-error"),l=this.authInfo.hostname+this.authInfo.contextPath+"/rest/community/checkUsernames";e.addClass(o,"field-suffix icon-ui-loading-indicator svg-icon-blue"),i.post(l,{usernames:a,f:"json"},{cache:!0,responseType:"json"}).then(function(i,a){if(e.removeClass(o,"icon-ui-loading-indicator svg-icon-blue"),a&&a.usernames){var l=a.usernames[0];l&&l.requested==l.suggested?this._markFieldValid(n):(this["valid_"+s]=!1,c.innerHTML=r.createAccount.errors["taken_"+s],e.removeClass(o,"icon-ui-check-mark svg-icon-green"),e.addClass(n,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(c,"is-active"))}}.bind(this))},_checkUdnExist:function(n){var a=n.value,s=n.id,o=this.findLabel(n),c=t.queryOne(".js-"+n.id+"-error"),l=this.authInfo.hostname+this.authInfo.contextPath+"/rest/community/checkUserDefinedNames";e.addClass(o,"field-suffix icon-ui-loading-indicator svg-icon-blue"),i.post(l,{udns:a,f:"json"},{cache:!0,responseType:"json"}).then(function(i,a){if(e.removeClass(o,"icon-ui-loading-indicator svg-icon-blue"),a&&a.udns){var l=a.udns[0];l&&l.requested==l.suggested?this._markFieldValid(n):(this["valid_"+s]=!1,c.innerHTML=r.createAccount.errors["taken_"+s],e.removeClass(o,"icon-ui-check-mark svg-icon-green"),e.addClass(n,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(c,"is-active"))}}.bind(this))},_checkEmailMatch:function(){var n=t.byId("email"),i=t.byId("confirm"),a=t.queryOne(".js-confirm-error"),s=t.queryOne(".js-email-error"),o=n.value,c=i.value;if(o.length&&c.length){this.valid_email=n.validity.valid;var l=o==c;this.valid_confirm=l,l?(e.removeClass(i,"input-error"),e.removeClass(a,"is-active")):(e.addClass(i,"input-error"),a.textContent=r.createAccount.errors.unmatched_email,e.addClass(a,"is-active")),this.valid_email?(e.removeClass(n,"input-error"),e.removeClass(s,"is-active")):(e.addClass(n,"input-error"),s.textContent=r.createAccount.errors.invalid_email,e.addClass(s,"is-active"))}},_checkNameLength:function(n){var i=n.target,a=i.id,s=t.queryOne(".js-"+a+"-error"),o=i.value;o.length>40?(this["valid_"+a]=!1,e.addClass(i,"input-error"),s.textContent=r.createAccount.errors.long_name,e.addClass(s,"is-active")):(o.length&&(this["valid_"+a]=!0),e.removeClass(i,"input-error"),e.removeClass(s,"is-active"))},_markFieldValid:function(t){var n=t.id,i=this.findLabel(t);"firstName"!=n&&"lastName"!=n&&t.value.length>0&&e.addClass(i,"field-suffix icon-ui-check-mark svg-icon-green")},findLabel:function(e){var n;return this.smxFocus?(n=t.queryOne("label[for="+e.id+"]"))||(n=t.findPreviousSibling("label",e)):n=t.findParentNode("label",e),n},_getErrorMessage:function(e){var t=e.id,n=r.createAccount.errors,i="";switch(t){case"profile":case"username":i=e.validity.tooShort?n["short_"+t]:e.validity.tooLong?n["long_"+t]:e.validity.patternMismatch?"username"==t&&this.smxFocus&&/[^\w\.@\-\s]/.test(e.value)?n.invalid_username_chars:n["invalid_"+t]:n["taken_"+t];break;case"password":i=this.weakPassword?n.common_password:n.weak_password;break;default:i=n["invalid_"+t]}return i},_showLoader:function(){e.bus.emit("modal:open",{id:"smxloader"})},_checkRequired:function(n){n.preventDefault();var i=n.target,a=0;if(e.nodeListToArray(t.query("input[required], .required",i)).every(function(n){var i=n.tagName.toLowerCase(),s=t.queryOne(".js-"+n.id+"-error"),o=!1;return"input"==i&&"checkbox"!=n.type&&"radio"!=n.type?n.value.length>0&&!1!==this["valid_"+n.id]?o=!0:0==n.value.length&&(o=!1):"checkbox"==n.type?o=n.checked:"select"==i&&(o=n.selectedIndex>0),o?(e.removeClass(n,"input-error"),e.removeClass(s,"is-active")):e.hasClass(s,"is-active")||(s.innerHTML=r.createAccount.errors["missing_"+n.id],e.addClass(n,"input-error"),!t.queryOne(".input-error-message.is-active")&&e.addClass(s,"is-active")),o||a++,o},this),0===a&&this.valid_username&&this.valid_confirmPass&&this.valid_email&&this.valid_confirm&&this.valid_firstName&&this.valid_lastName&&!1!==this.valid_profile){var s=t.byId("accept");if(s){if(0==t.byId("smxterms").checked)return;s.value="true"}this.social&&this.smxFocus&&(t.byId("email").value=t.byId("username").value),!0!==this.valid_password?this.meter&&this.meter.state>=2?(this.valid_password=!0,this.smxFocus&&this._showLoader(),i.submit()):t.byId("password").focus():(this.smxFocus&&this._showLoader(),i.submit())}else{var o=t.queryOne(".input-error");o&&o.focus()}}}}),define("text!../contents/emailSent.html",[],function(){return'<div>\n    {{> header}}\n    {{^info.smxFocus}}\n    <div class="js-header header-bar flex flex-justify">\n        <div class="spacer"></div>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    {{/info.smxFocus}}\n    <div class="js-email-pane flex flex-columns limit-container-height">\n        <div class="flex-0 trailer-half flex justify-center overflow-y-auto">\n            <img src="{{info.contextPath}}/files/img/oauth-email-sent.svg" alt="{{i18n.email.title}}">\n        </div>\n        <div class="flex-1 text-center">\n            <div id="primary" class="trailer-half font-size-1">{{i18n.email.activationSent}}</h4>\n                <div class="trailer-quarter font-size--1" id="secondary">{{i18n.email.clickLink}}</div>\n            </div>\n        </div>\n    </div>\n    {{> footer}}\n</div>\n'}),define("emailSent",["helpers","mustache","icons","i18n!../nls/oauth","text!../contents/emailSent.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r){return{startup:function(t){this.authInfo=t,document.documentElement.lang=t.locale,"storymapsexpress"==t.client_id&&(t.smxFocus=!0,i=i.smx),e.setTitle(i.email.title||i.email.windowTitle),e.checkRTL(t.locale),this.render(t),e.setContrastInfo()},render:function(o){e.checkRTL(o.locale);var c=e.queryOne(".content");o.hostname=e.getPortalHostname(o,o.refUrl);var l=o.smxFocus?s:"",d=o.smxFocus?r:"";c.innerHTML=t.render(a,{info:o,i18n:i,icons:n},{header:l,footer:d})}}}),define("text!../contents/invalidSignup.html",[],function(){return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">{{i18n.invalidSignup}}</h1>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <section class="panel-white trailer-half padded-section">\n        {{i18n.invalidSignupMsg}}\n    </section>\n</div>\n'}),define("invalidSignup",["helpers","mustache","icons","i18n!../nls/oauth","text!../contents/invalidSignup.html"],function(e,t,n,i,a){return{startup:function(t){this.authInfo=t,document.documentElement.lang=t.locale,e.setTitle(i.createAccount.invalidLinkTitle),e.checkRTL(t.locale),this.render(t),e.setContrastInfo()},render:function(s){e.checkRTL(s.locale);var r=e.queryOne(".content");s.hostname=e.getPortalHostname(s,s.refUrl),r.innerHTML=t.render(a,{info:s,i18n:i.createAccount,icons:n})}}}),define("signUp",["createAccount","setupAccount","emailSent","invalidSignup"],function(e,t,n,i){return{startup:function(a){a.signupLinkExpiredOrInvalid?i.startup(a):void 0!==a.newUserEmailValidated||void 0!==a.socialUserEmailAvailable||a.join?t.startup(a):a.newUserSignupEmailSent?n.startup(a):e.startup(a)}}}),define("text!../contents/signout.html",[],function(){return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">{{i18n.signOutTitle}}</h1>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n        <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <section class="panel-white trailer-half padded-section">\n        {{i18n.signOutMsg}}\n    </section>\n</div>\n'}),define("signout-new",["helpers","mustache","icons","i18n!../nls/oauth","text!../contents/signout.html"],function(e,t,n,i,a){return{startup:function(t){this.authInfo=t,document.documentElement.lang=t.locale,e.setTitle(i.signOutTitle),this.render(t),e.setContrastInfo()},render:function(s){e.checkRTL(s.locale);var r=e.queryOne(".content");s.hostname=e.getPortalHostname(s,s.refUrl),r.innerHTML=t.render(a,{info:s,i18n:i,icons:n})}}}),define("text!../contents/approve.html",[],function(){return'<div>\n  <div class="js-header header-bar flex flex-justify">\n    <h1 class="font-size-1 page-title width-full">{{i18n.approvalTitle}}</h1>\n    {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n    {{#info.signinThumbnail}}\n    <div class="custom-logo">\n      <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt=""/>\n    </div>\n    {{/info.signinThumbnail}}\n  </div>\n  <div>\n    <form action="{{info.hostname}}{{info.contextPath}}/oauth2/approve" method="post" spellcheck="false">\n      <input type="hidden" name="oauth_state" id="oauth_state" value="{{info.oauth_state}}">\n      <section class="leader-1 trailer-1 padded-section">\n        <div id="userPanel">\n          <svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" focusable="false">\n            {{&icons.user}}\n          </svg>{{info.username}}\n        </div>\n        <div class="leader-half"><a href="#" id="anotherLink">{{i18n.signInAs}}</a></div>\n      </section>\n      <section class="leader-1 trailer-1 padded-section">\n        <div class="flex flex-around align-center">\n          <p class="empty margin-right-1 js-org-info"><span class="avenir-demi">{{info.appTitle}}</span>\n            {{#info.appOrgInfo}}(<span id="devBy">{{i18n.developedByOrg}}</span>){{/info.appOrgInfo}}\n            {{^info.isPortal}}{{i18n.accessAccountInfo}}{{/info.isPortal}}\n            {{#info.isPortal}}{{i18n.accessEnterpriseInfo}}{{/info.isPortal}}\n          </p>\n          {{#info.appOrgInfo}}\n            <a class="js-modal-toggle help-toggle" data-modal="appinfo" tabindex="0">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"\n              class="svg-icon svg-icon-light-blue svg-icon-live svg-icon-large" focusable="false">\n              {{&icons.help}}\n            </svg>\n          </a>\n          {{/info.appOrgInfo}}\n        </div>\n      </section>\n      <div class="flex">\n        <button type="submit" name="approve" value="false"\n          class="btn btn-small btn-fill btn-clear margin-right-1">{{i18n.cancel}}</button>\n        <button type="submit" name="approve" value="true"\n          class="btn btn-small btn-fill margin-left-1">{{i18n.allow}}</button>\n      </div>\n    </form>\n  </div>\n</div>\n'}),define("text!../contents/appInfoModal.html",[],function(){return'{{#info.appOrgInfo}}\n<div class="js-modal modal-overlay" data-modal="appinfo">\n    <div class="modal-content" role="dialog" aria-labelledby="modal" role="dialog">\n        <h4>{{info.appTitle}}</h4>\n        <a class="js-modal-toggle right modal-close" aria-label="Close modal" tabindex="0">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svg-icon svg-icon-gray svg-icon-live" width="24" height="24" focusable="false">\n                {{&icons.close}}\n            </svg>\n        </a>\n        <div class="clearfix trailer-half flex flex-justify">\n            {{#info.appOrgInfo.thumbnail}}\n            <img class="left app-logo" src="{{info.hostname}}{{info.contextPath}}/oauth2/apps/{{info.client_id}}/vendorinfo/{{info.appOrgInfo.thumbnail}}">\n            {{/info.appOrgInfo.thumbnail}}\n            <div>\n                <div class="text-dark-gray font-size--2">{{i18n.developedBy2}}</div>\n                <div class="font-size-0">{{info.appOrgInfo.name}}</div>\n            </div>\n        </div>\n        <div>{{&info.appOrgInfo.description}}</div>\n    </div>\n</div>\n{{/info.appOrgInfo}}\n'}),define("approve",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/approve.html","text!../contents/appInfoModal.html"],function(e,t,n,i,a,s,r){return{startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,t.setTitle(a.approvalTitle),t.checkRTL(n.locale),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(e){t.checkRTL(e.locale);var o=t.queryOne(".content");e.hostname=t.getPortalHostname(e,e.refUrl),o.innerHTML=n.render(s+r,{info:e,i18n:a,icons:i}),t.byId("anotherLink").href=window.location.href.replace("approve","authorize")+(e.redirect_uri?"&redirect_uri=":"");var c=t.queryOne(".js-org-info");c&&(c.innerHTML=t.sub(c.innerHTML,{orgname:e.appOrgInfo?e.appOrgInfo.name:"",portalName:e.orgName}))},addEventHandlers:function(){e.nodeListToArray(t.query(".js-modal-toggle")).forEach(function(t){e.addEvent(t,"keydown",function(e){"Tab"!==e.key&&9!==e.keyCode&&(e.preventDefault(),"Space"!=e.key&&"Enter"!=e.key&&0!=e.keyCode&&13!=e.keyCode&&32!=e.keyCode||e.target.click())})})}}}),define("text!../contents/mfa.html",[],function(){
return'<div>\n    <form\n        method="post"\n        name="f"\n        id="oauth"\n        action="{{info.hostname}}{{info.contextPath}}/oauth2/enableMfa"\n        spellcheck="false"\n    >\n        <div class="js-header header-bar flex flex-justify">\n            <h1 class="font-size-1 page-title width-full">{{i18n.mfaEnablePage.title}}</h1>\n            {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n            {{#info.signinThumbnail}}\n            <div class="custom-logo">\n                <img\n                    src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}"\n                    alt=""\n                />\n            </div>\n            {{/info.signinThumbnail}}\n        </div>\n        <div tabindex="0" class="alert alert-red js-message"></div>\n        <section class="tab-contents padded-section js-tab-group mfa-container">\n            <input type="hidden" name="oauth_state" id="oauth_state" value="{{info.oauth_state}}" />\n            <input type="hidden" name="cancelMfa" value="true" disabled />\n            <article class="tab-section js-tab-section js-step-0 is-active">\n                <div class="content-wrapper">\n                    <div class="progress-bar-container">\n                        <div class="progress-bar pb-filled"></div>\n                        <div class="progress-bar"></div>\n                        <div class="progress-bar"></div>\n                        <div class="progress-bar"></div>\n                    </div>\n                    <h2 class="font-size-0 avenir-demi trailer-half leader-1">\n                        {{#info.enforceMfa}}{{i18n.mfaEnablePage.step1ForcedMfa}}{{/info.enforceMfa}}\n                        {{^info.enforceMfa}}{{i18n.mfaEnablePage.step1Title}}{{/info.enforceMfa}}\n                    </h2>\n                    <p class="font-size--3 trailer-half">{{i18n.mfaEnablePage.expectAdditionalSteps}}</p>\n                    <p class="font-size--3 trailer-half">{{i18n.mfaEnablePage.installAuthenticatorApp}}</p>\n                    <p class="font-size--3 trailer-half">{{i18n.mfaEnablePage.esriSupportsApps}}</p>\n                    <a class="js-mfa-learn-more" href="{{info.helpBase}}get-started/profile.htm#MFA" class="font-size--3" target="_blank">{{i18n.mfaEnablePage.learnMore}}</a>\n\n                    <div class="tabs-translucent leader-half trailer-2 js-tab-group">\n                        <div class="tab-nav">\n                            <a class="tab-title is-active js-tab font-size-0">Android</a>\n                            <a class="tab-title js-tab font-size-0">iOS</a>\n                        </div>\n                        <div class="tab-contents">\n                            <div class="tab-section js-tab-section is-active">\n                                <div class="app-list trailer-1">\n                                    <div class="app-item">\n                                        <a class="font-size--3"\n                                            href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"\n                                            target="_blank">\n                                            Google Authenticator\n                                            <svg class="svg-icon svg-icon-large">{{&icons.launch16}}</svg>\n                                        </a>\n                                    </div>\n                                    <div class="app-item">\n                                        <a class="font-size--3"\n                                            href="https://play.google.com/store/apps/details?id=com.azure.authenticator"\n                                            target="_blank">\n                                            Microsoft Authenticator\n                                            <svg class="svg-icon svg-icon-large">{{&icons.launch16}}</svg>\n                                        </a>\n                                    </div>\n                                    <div class="app-item">\n                                        <a class="font-size--3"\n                                            href="https://play.google.com/store/apps/details?id=com.okta.android.auth" target="_blank">\n                                            Okta Verify\n                                            <svg class="svg-icon svg-icon-large">{{&icons.launch16}}</svg>\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="tab-section js-tab-section">\n                                <div class="app-list trailer-1">\n                                    <div class="app-item">\n                                        <a class="font-size--3" href="https://apps.apple.com/us/app/google-authenticator/id388497605"\n                                            target="_blank">\n                                            Google Authenticator\n                                            <svg class="svg-icon svg-icon-large">{{&icons.launch16}}</svg>\n                                        </a>\n                                    </div>\n                                    <div class="app-item">\n                                        <a class="font-size--3" href="https://apps.apple.com/us/app/2fa-authenticator-2fas/id1217793794"\n                                            target="_blank">\n                                            2FA Authenticator\n                                            <svg class="svg-icon svg-icon-large">{{&icons.launch16}}</svg>\n                                        </a>\n                                    </div>\n                                    <div class="app-item">\n                                        <a class="font-size--3" href="https://apps.apple.com/us/app/okta-verify/id490179405"\n                                            target="_blank">\n                                            Okta Verify\n                                            <svg class="svg-icon svg-icon-large">{{&icons.launch16}}</svg>\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="actions-wrapper">\n                        <div class="flex flex-justify">\n                            <button type="button" class="btn-small btn-transparent js-btn-cancel">\n                                {{i18n.cancel}}\n                            </button>\n                            <button type="button" class="btn btn-small js-btn-next">\n                                {{i18n.mfaEnablePage.nextBtn}}\n                            </button>\n                        </div>\n                    </div>\n            </article>\n            <article class="tab-section js-tab-section js-step-1">\n                <div class="content-wrapper">\n                    <div class="progress-bar-container">\n                        <div class="progress-bar pb-filled"></div>\n                        <div class="progress-bar pb-filled"></div>\n                        <div class="progress-bar"></div>\n                        <div class="progress-bar"></div>\n                    </div>\n                    <h2 class="font-size-0 avenir-demi trailer-half leader-1">\n                        {{i18n.mfaEnablePage.connectApp}}\n                    </h2>\n                    <div class="js-qr-scan">\n                        <p class="font-size--3 trailer-half">{{i18n.mfaEnablePage.scanCode}}</p>\n                        <a class="js-mfa-learn-more" href="{{info.helpBase}}get-started/profile.htm#MFA" class="font-size--3" target="_blank">{{i18n.mfaEnablePage.learnMore}}</a>\n                        <div class="text-center qr-code trailer-1 leader-half">\n                            <img\n                                src="{{info.mfaQrCode}}"\n                                alt="{{i18n.mfaEnablePage.qrCodeAlt}}"\n                                class="trailer-quarter"\n                            /><br />\n                            <a href="#" class="js-no-scan-link pointer"\n                                >{{i18n.mfaEnablePage.qrHelpLink}}</a\n                            >\n                        </div>\n                    </div>\n                    <div class="js-verify-code hide">\n                        <p class="font-size--3 leader-1">{{i18n.mfaEnablePage.enterMfaCode}}</p>\n                        <div class="flex flex-justify">\n                            {{#info.mfaSecretKey}}\n                            <div class="v-block margin-left-quarter margin-right-quarter">{{.}}</div>\n                            {{/info.mfaSecretKey}}\n                        </div>\n                    </div>\n                </div>\n                <div class="actions-wrapper">\n                    <div class="flex flex-justify leader-1">\n                        <button type="button" class="btn-small btn-transparent js-btn-cancel">\n                            {{i18n.cancel}}\n                        </button>\n                        <div class="action-container">\n                            <button type="button" class="btn btn-small btn-clear js-btn-back">\n                                {{i18n.mfaEnablePage.prevBtn}}\n                            </button>\n                            <button type="button" class="btn btn-small js-btn-next">\n                                {{i18n.mfaEnablePage.nextBtn}}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </article>\n            <article class="tab-section js-tab-section js-step-2">\n                <div class="content-wrapper">\n                    <div class="progress-bar-container">\n                        <div class="progress-bar pb-filled"></div>\n                        <div class="progress-bar pb-filled"></div>\n                        <div class="progress-bar"></div>\n                        <div class="progress-bar"></div>\n                    </div>\n                    <h2 class="font-size-0 avenir-demi trailer-half leader-1">\n                        {{i18n.mfaEnablePage.enterVerifyCode}}\n                    </h2>\n                    <div>\n                        <label>\n                            <span class="block-el leader-1 trailer-1">\n                                {{i18n.mfaEnablePage.enterCode}}\n                            </span>\n                            <input\n                                id="mfa_code"\n                                autocomplete="off"\n                                autocorrect="off"\n                                autocapitalize="off"\n                                type="text"\n                                name="mfa_code"\n                                placeholder="{{i18n.mfaEnablePage.sixdigitcode}}"\n                                aria-describedby="mfa-code-error"\n                            />\n                            <div class="input-error-message js-mfa_code-error" id="mfa-code-error"></div>\n                        </label>\n                    </div>\n                </div>\n                <div class="actions-wrapper">\n                    <div class="flex flex-justify leader-1">\n                        <button type="button" class="btn-small btn-transparent js-btn-cancel">\n                            {{i18n.cancel}}\n                        </button>\n                        <div class="action-container">\n                            <button type="button" class="btn btn-small btn-clear js-btn-back">\n                                {{i18n.mfaEnablePage.prevBtn}}\n                            </button>\n                            <button type="submit" class="btn btn-small js-btn-finish">\n                                {{i18n.mfaEnablePage.nextBtn}}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </article>\n        </section>\n        <section class="js-exit padded-section hide">\n            <div class="flex vert-center min-height-300">\n                <div class="font-size-2 trailer-half">{{i18n.mfaEnablePage.exitMfa}}</div>\n                <p class="leader-half">{{i18n.mfaEnablePage.exitMfaSetup}}</p>\n            </div>\n            <div class="right">\n                <button type="button" class="btn btn-small margin-right-half js-btn-return">\n                    {{i18n.mfaEnablePage.continueSetup}}\n                </button>\n                <button type="button" class="btn-small btn-clear js-btn-exit">\n                    {{i18n.mfaEnablePage.exitSetup}}\n                </button>\n            </div>\n        </section>\n    </form>\n</div>\n'}),define("mfa",["calcite-web","qwest","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/mfa.html"],function(e,t,n,i,a,s,r){return{currentTab:0,startup:function(t){this.authInfo=t,document.documentElement.lang=t.locale,n.setTitle(s.mfaEnablePage.title||s.mfaEnablePage.windowTitle),n.checkRTL(t.locale),t.hostname=n.getPortalHostname(t,t.refUrl),t.mfaSecretKey=t.mfaSecretKey&&t.mfaSecretKey.match(/.{1,4}/g),this.render(t),e.init(),this.addEventHandlers(),n.setContrastInfo()},render:function(o){n.checkRTL(o.locale),n.queryOne(".content").innerHTML=i.render(r,{info:o,i18n:s,icons:a});var c=n.queryOne("input[autofocus]");c&&c.focus(),this._displayMessage(o),"OAUTH_0018"==this.authInfo.messageCode&&(this._stepWizard({target:{className:"next"}}),this._stepWizard({target:{className:"next"}})),t.get(this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/helpMap",{f:"json"},{responseType:"json",cache:!0}).then(function(t){var i=t.response,a=this.authInfo.isPortal?"120004644":"120000980",s=i.helpMap.m[a],r=this.authInfo.helpBase+s;e.nodeListToArray(n.query(".js-mfa-learn-more")).forEach(function(e){e.setAttribute("href",r)})}.bind(this))},addEventHandlers:function(){e.nodeListToArray(n.query(".js-btn-cancel, .js-btn-return")).forEach(function(t){e.addEvent(t,"click",this._toggleWizard.bind(this))}.bind(this)),e.nodeListToArray(n.query(".js-btn-next, .js-btn-back")).forEach(function(t){e.addEvent(t,"click",this._stepWizard.bind(this))}.bind(this)),e.addEvent(n.queryOne(".js-no-scan-link"),"click",this._showVerCode.bind(this)),e.addEvent(n.byId("oauth"),"submit",this._validateForm.bind(this)),e.addEvent(n.byId("mfa_code"),"blur",this._blurMfaCode.bind(this)),e.addEvent(n.queryOne(".js-btn-exit"),"click",this._exitMfaForm.bind(this))},_toggleWizard:function(){e.removeClass(n.queryOne(".js-message"),"is-active"),this._toggleList(n.query(".js-tab-group, .js-exit"),"hide")},_showVerCode:function(){e.removeClass(n.queryOne(".js-verify-code"),"hide")},_stepWizard:function(t){e.removeClass(n.queryOne(".js-message"),"is-active");var i=t.target,a=i.className.indexOf("next")>-1,s=a?1:-1,r=this.currentTab+s,o=".js-step-"+this.currentTab+", .js-step-"+r;if(e.nodeListToArray(n.query(o)).forEach(function(t){e.toggleClass(t,"is-active")}),this.currentTab=r,2==this.currentTab)"OAUTH_0018"==this.authInfo.messageCode&&(this._displayMessage(this.authInfo),this.authInfo.messageCode=""),n.byId("mfa_code").focus();else{var c=n.byId("mfa_code"),l=n.queryOne(".js-mfa_code-error");l&&e.removeClass(l,"is-active"),c&&e.removeClass(c,"input-error"),c.value=""}},_validateForm:function(t){t.preventDefault();var i=t.target,a=n.byId("mfa_code"),r=n.queryOne(".js-mfa_code-error");6!=a.value.length?(r.innerHTML=s.mfaEnablePage.missingCode,e.addClass(r,"is-active"),e.addClass(a,"input-error")):i.submit()},_exitMfaForm:function(e){e.preventDefault();var t=n.byId("oauth"),i=n.queryOne("[name=cancelMfa]");i.removeAttribute("disabled"),i.disabled=!1,t.submit()},_blurMfaCode:function(t){var i=t.target,a=n.queryOne(".js-mfa_code-error");6==i.value.length&&e.hasClass(a,"is-active")&&(e.removeClass(a,"is-active"),e.removeClass(i,"input-error"))},_toggleList:function(t,n){t=e.nodeListToArray(t),t.forEach(function(t){e.toggleClass(t,n)})},_displayMessage:function(t){var i=t.messages&&t.messages.length&&t.messages[0];if(i){var a=i;i.toLowerCase().indexOf("your login session has been reset")>-1?a=s.expiredSession:i.toLowerCase().indexOf("invalid credentials for reset user")>-1?a=s.resetPage.invalidOldPassword:i.toLowerCase().indexOf("invalid verification code")>-1?a=s.mfaEnablePage.invalidVerificationCode:i.toLowerCase().indexOf("too many invalid attempts")>-1&&(a=s.mfaEnablePage.tooManyAttempts+"<br>"+s.mfaEnablePage.lockoutMessage);var r=n.queryOne(".js-message");r.innerHTML=a,e.addClass(r,"is-active"),r.focus()}}}}),define("text!../contents/mfaCheck.html",[],function(){return'<div>\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">\n            {{i18n.mfaEnablePage.title}}\n        </h1>\n        {{^info.signinThumbnail}}\n        {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n        {{#info.gaeFocus}}\n        <div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>\n        {{/info.gaeFocus}}\n        {{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n            <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt="" />\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <div tabindex="0" class="alert alert-red js-message trailer-1"></div>\n    <form action="{{info.hostname}}{{info.contextPath}}/oauth2/mfa" name="f" id="oauth" method="POST" autocomplete="off"\n        novalidate spellcheck="false">\n        <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n        <input type="hidden" id="authResponse" name="authResponse" value="">\n        <input type="hidden" id="totp" name="totp" value="">\n        <section class="tab-contents padded-section js-tab-group js-mfa-check-content">\n            <article class="tab-section padded-section js-tab-section js-choices text-center is-active">\n                <div class="flex flex-columns flex-justify">\n                    <h3 class="font-size-1 trailer-1 text-left">{{i18n.mfaEnablePage.authenticateWith}}</h3>\n                    <button type="button"\n                        class="btn btn-clear trailer-half js-btn-key">{{i18n.mfaEnablePage.securityKey}}</button>\n                    <button type="button"\n                        class="btn btn-clear trailer-half js-btn-app">{{i18n.mfaEnablePage.authenticatorApp}}</button>\n                </div>\n                <div class="text-left trailer-1">\n                    <input type="checkbox" id="storeChoiceCheck">\n                    <label class="padding-left-2" for="storeChoiceCheck">{{i18n.mfaEnablePage.rememberChoice}}</label>\n                </div>\n                {{#info.isMfaRecoveryCodesEnabled}}\n                <button type="button"\n                    class="btn-transparent font-size-0 js-btn-recovery">{{i18n.mfaEnablePage.lostAccess}}</button>\n                {{/info.isMfaRecoveryCodesEnabled}}\n            </article>\n            <article class="tab-section padded-section js-tab-section js-authenticator">\n                <p class="font-size--3 trailer-1 leader-half">{{i18n.mfaEnablePage.mfaVerifyMsg}}</p>\n                <label>{{i18n.mfaEnablePage.authCodeLbl2}}\n                    <input id="mfa_code" autofocus="true" autocomplete="off" autocorrect="off" autocapitalize="off"\n                        type="text" name="mfa_code" aria-describedby="mfa_code-error" />\n                    <div class="input-error-message js-mfa_code-error" id="mfa_code-error">{{i18n.mfaEnablePage.missingCode}}</div>\n                </label>\n                <button type="submit"\n                    class="btn btn-fill btn-small js-btn-verify">{{i18n.mfaEnablePage.verifyBtn}}</button>\n                <p class="font-size--3 trailer-1 leader-1 flex flex-columns align-center">\n                    {{#info.isMfaRecoveryCodesEnabled}}\n                    <button type="button"\n                        class="btn-link font-size-0 js-btn-recovery trailer-1">{{i18n.mfaEnablePage.lostAccess}}</button>\n                    {{/info.isMfaRecoveryCodesEnabled}}\n                    <a\n                        class="btn-transparent"    \n                        href="{{info.hostname}}{{info.contextPath}}/oauth2/troubleshoot?forgotMy=mfa&oauth_state={{info.oauth_state}}">\n                        {{i18n.mfaEnablePage.havingTrouble}}\n                    </a>\n                </p>\n                {{#info.isUserSecurityKeysEnabled}}{{#info.webauthnRequest}}{{#info.webauthnRequest.publicKey.allowCredentials.length}}\n                <button class="btn btn-clear js-btn-back-app">{{i18n.mfaEnablePage.prevBtn}}</button>\n                {{/info.webauthnRequest.publicKey.allowCredentials.length}}{{/info.webauthnRequest}}{{/info.isUserSecurityKeysEnabled}}\n            </article>\n            <article class="tab-section padded-section js-tab-section js-recovery text-center">\n                <h3 class="font-size-1">{{i18n.mfaEnablePage.useRecoveryCode}}</h3>\n                <p class="font-size-0 trailer-1 leader-half">{{i18n.mfaEnablePage.enterRecoveryCodes}}</p>\n                <label class="text-left trailer-1">{{i18n.mfaEnablePage.recoveryCode}}\n                    <input id="recovery_code" autofocus="true" autocomplete="off" autocorrect="off" autocapitalize="off"\n                        type="text" name="recovery_code" aria-describedby="recovery_code-error" />\n                    <div class="input-error-message js-recovery_code-error" id="recovery_code-error">{{i18n.mfaEnablePage.missingRecoveryCode}}\n                    </div>\n                </label>\n                <div class="actions-wrapper flex flex-justify">\n                    <button type="button"\n                        class="btn btn-clear js-btn-back-choices trailer-half">{{i18n.mfaEnablePage.prevBtn}}</button>\n                    <button type="submit"\n                        class="btn js-btn-verify-code trailer-half">{{i18n.mfaEnablePage.verifyBtn}}</button>\n                </div>\n            </article>\n            <article class="tab-section js-tab-section js-keys">\n                <div class="flex flex-columns flex-justify">\n                    <h3 class="js-keys-title font-size-1">{{i18n.mfaEnablePage.verifyingKey}}</h3>\n                    <div class="loader is-active padding-leader-3 padding-trailer-3">\n                        <div class="loader-bars"></div>\n                        <div class="loader-text">{{i18n.mfaEnablePage.verifying}}...</div>\n                    </div>\n                    <div class="js-keys-actions flex flex-justify hide">\n                        <button type="button" class="js-keys-back btn">{{i18n.mfaEnablePage.prevBtn}}</button>\n                        <button type="button" class="js-keys-signin btn btn-clear">{{i18n.mfaEnablePage.returnToSignIn}}</button>\n                    </div>\n                </div>\n            </article>\n            <article class="tab-section js-tab-section js-lockout">\n                <div class="flex flex-columns flex-justify">\n                    <h3 class="js-keys-title font-size-1">{{i18n.mfaEnablePage.tooManyAttempts}}</h3>\n                    <p class="font-size-0">{{i18n.mfaEnablePage.lockoutMessage}}</p>\n                </div>\n            </article>\n        </section>\n    </form>\n</div>\n'}),define("mfaCheck",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/mfaCheck.html"],function(e,t,n,i,a,s){return{sourceScreen:"js-choices",codeType:"mfa",startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,t.setTitle(a.signIn),t.checkRTL(n.locale),n.hostname=t.getPortalHostname(n,n.refUrl),n.gaeFocus="geoanalyticsengine"==n.client_id.toLowerCase(),n.isUserSecurityKeysEnabled=!0===n.isUserSecurityKeysEnabled,n.isMfaRecoveryCodesEnabled=!0===n.isMfaRecoveryCodesEnabled,this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo();var i=t.queryOne("input[autofocus]");i&&i.focus(),this.showFirstScreen(n)},render:function(e){t.checkRTL(e.locale),t.queryOne(".content").innerHTML=n.render(s,{info:e,i18n:a,icons:i}),this._displayMessage(e)},addEventHandlers:function(){e.addEvent(t.byId("oauth"),"submit",this._validateCode.bind(this)),e.addEvent(t.byId("mfa_code"),"blur",this._blurMfaCode.bind(this)),e.addEvent(t.byId("mfa_code"),"keydown",this._handleMfaKeyup.bind(this)),e.addEvent(t.byId("recovery_code"),"blur",this._blurRecoveryCode.bind(this)),e.addEvent(t.queryOne(".js-btn-app"),"click",function(e){t.byId("storeChoiceCheck").checked?this._storeChoice("app"):this._clearChoice(),this._showAuthenticator(e)}.bind(this)),e.addEvent(t.queryOne(".js-btn-back-choices"),"click",this._showChoices.bind(this)),e.addEvent(t.queryOne(".js-btn-key"),"click",function(e){t.byId("storeChoiceCheck").checked?this._storeChoice("key"):this._clearChoice(),this._validateSecurityKey(e)}.bind(this)),e.addEvent(t.queryOne(".js-keys-back"),"click",function(n){this._showChoices(n);var i=t.queryOne(".js-keys-title"),s=t.queryOne(".js-keys .loader"),r=t.queryOne(".js-keys-actions");i.innerText=a.mfaEnablePage.verifyingKey,e.addClass(s,"is-active"),e.addClass(r,"hide")}.bind(this)),e.addEvent(t.queryOne(".js-keys-signin"),"click",function(){var e=t.byId("oauth");e.totp.value="true",e.submit()}),this.authInfo.isMfaRecoveryCodesEnabled&&e.nodeListToArray(t.query(".js-btn-recovery")).forEach(function(t){e.addEvent(t,"click",this._showRecovery.bind(this))}.bind(this));var n=t.queryOne(".js-btn-back-app");n&&e.addEvent(n,"click",function(e){this.sourceScreen="js-choices",this._showChoices(e)}.bind(this))},showFirstScreen:function(e){var t;if(e.messageCode)if("OAUTH_0018"==e.messageCode)this.codeType="mfa",t="js-authenticator",this.sourceScreen=t;else{if("OAUTH_00181"==e.messageCode)return void this._validateSecurityKey(new Event("click"));"OAUTH_00182"==e.messageCode?(this.codeType="recovery",t="js-recovery",this.sourceScreen=e.isUserSecurityKeysEnabled&&e.webauthnRequest?"js-choices":"js-authenticator"):"OAUTH_0007"==e.messageCode&&(t="js-lockout")}else if(e.isUserSecurityKeysEnabled&&e.webauthnRequest&&e.webauthnRequest.publicKey.allowCredentials&&e.webauthnRequest.publicKey.allowCredentials.length){t="js-choices";try{var n=localStorage.getItem("mfa_validator");if(n)if("app"==n)this.codeType="mfa",t="js-authenticator",this.sourceScreen=t;else if("key"==n)return void this._validateSecurityKey(new Event("click"))}catch(e){}}else this.codeType="mfa",t="js-authenticator",this.sourceScreen=t;this._show(t)},_show:function(e){t.query(".js-tab-section").forEach(function(t){t.classList.contains(e)?t.classList.add("is-active"):t.classList.remove("is-active")})},_showValidation:function(){this._show("js-keys")},_showAuthenticator:function(n){if(n.preventDefault(),this.codeType="mfa",this.sourceScreen="js-authenticator",e.removeClass(t.queryOne(".js-message"),"is-active"),this._show("js-authenticator"),t.byId("storeChoiceCheck").checked)try{localStorage.setItem("mfa_validator","app")}catch(e){}},_showRecovery:function(n){n.preventDefault(),this.codeType="recovery",e.removeClass(t.queryOne(".js-message"),"is-active"),this._show("js-recovery")},_showChoices:function(n){n.preventDefault(),e.removeClass(t.queryOne(".js-message"),"is-active"),e.removeClass(t.byId("recovery_code"),"input-error"),e.removeClass(t.queryOne(".js-recovery_code-error"),"is-active"),"js-authenticator"==this.sourceScreen?this._showAuthenticator(n):this._show("js-choices")},_validateCredentials:function(e){this._finishValidation(e,this.authInfo.webauthnRequest.publicKey)},_finishValidation:function(n,i){var s=new AbortController,r=s.signal;r.onabort=function(){var n=t.queryOne(".js-keys-title"),i=t.queryOne(".js-keys .loader"),s=t.queryOne(".js-keys-actions");n.innerText=a.mfaEnablePage.verifyingKeyCancelled,e.removeClass(i,"is-active"),e.removeClass(s,"hide"),this.sourceScreen="js-choices"},navigator.credentials.get({publicKey:this._formatCredentialsRequest(i),signal:r}).then(function(e){this._submitValidateCredentials(n,e)}.bind(this)).catch(function(e){console.error(e),s.abort()})},_submitValidateCredentials:function(e,t){var n=this._formatValidationResponse(t);e.authResponse.value=JSON.stringify(n),e.submit()},_formatCredentialsRequest:function(e){return e.challenge=t.fromBase64(e.challenge),e.allowCredentials&&e.allowCredentials.forEach(function(e){e.id=t.fromBase64(e.id)}),e},_formatValidationResponse:function(e){return{id:e.id,type:e.type,response:{authenticatorData:t.toBase64Str(e.response.authenticatorData),clientDataJSON:t.toBase64Str(e.response.clientDataJSON),signature:t.toBase64Str(e.response.signature),userHandle:t.toBase64Str(e.response.userHandle)},clientExtensionResults:e.getClientExtensionResults()}},_validateSecurityKey:function(e){e.preventDefault();var n=t.byId("oauth");navigator.credentials?(this._showValidation(),this._validateCredentials(n)):(n.totp.value="true",n.submit())},_validateCode:function(e){e.preventDefault();var t=e.target;"mfa"===this.codeType?this._validateMfaCode(t):"recovery"===this.codeType&&this._validateRecoveryCode(t)},_validateMfaCode:function(n){var i=t.byId("mfa_code"),a=t.queryOne(".js-mfa_code-error");6!=i.value.length?(e.addClass(a,"is-active"),e.addClass(i,"input-error"),i.focus()):n.submit()},_validateRecoveryCode:function(n){var i=t.byId("recovery_code"),a=t.queryOne(".js-recovery_code-error");i.value.length?n.submit():(e.addClass(a,"is-active"),e.addClass(i,"input-error"),i.focus())},_blurMfaCode:function(n){var i=n.target,a=t.queryOne(".js-mfa_code-error");6==i.value.length&&e.hasClass(a,"is-active")&&(e.removeClass(a,"is-active"),e.removeClass(i,"input-error"))},_blurRecoveryCode:function(n){var i=n.target,a=t.queryOne(".js-recovery_code-error");i.value.length&&e.hasClass(a,"is-active")&&(e.removeClass(a,"is-active"),e.removeClass(i,"input-error"))},_storeChoice:function(e){try{localStorage.setItem("mfa_validator",e)}catch(e){}},_clearChoice:function(){try{localStorage.removeItem("mfa_validator")}catch(e){}},_handleMfaKeyup:function(e){var t=e.target,n=parseInt(e.key,10);5==t.value.length&&n&&(e.preventDefault(),t.value+=n,this._validateMfaCode(t.form))},_displayMessage:function(n){var i=n.messages&&n.messages.length&&n.messages[0];if(i){var s=i;if(i.toLowerCase().indexOf("your login session has been reset")>-1)s=a.expiredSession;else if(i.toLowerCase().indexOf("invalid credentials for reset user")>-1)s=a.resetPage.invalidOldPassword;else if("OAUTH_0018"==n.messageCode)s=a.mfaEnablePage.invalidVerificationCode;else if("OAUTH_00181"==n.messageCode)s=a.mfaEnablePage.invalidSecurityKey;else if("OAUTH_00182"==n.messageCode)s=a.mfaEnablePage.invalidRecoveryCode;else if("OAUTH_0007"==n.messageCode)return;var r=t.queryOne(".js-message");r.innerHTML=s,e.addClass(r,"is-active")}}}}),define("text!../contents/updateSecurity.html",[],function(){
return'<div>\n    {{> header}}\n    {{^info.smxFocus}}\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full">{{i18n.updateProfile.securityQuestionTitle}}</h1>\n        {{^info.signinThumbnail}}\n            {{^info.gaeFocus}}{{&icons.esriSvg}}{{/info.gaeFocus}}\n            {{#info.gaeFocus}}<div class="gae-logo" title="ArcGIS GeoAnalytics Engine">{{&icons.gaeSvg}}</div>{{/info.gaeFocus}}\n        {{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n            <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt="" />\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    {{/info.smxFocus}}\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    <div class="panel panel-white trailer-half shadowed">\n        <form action="{{info.hostname}}{{info.contextPath}}/oauth2/updateUserProfile" name="f" id="oauth" method="POST"\n            autocomplete="off" novalidate spellcheck="false">\n            <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n            <div class="trailer-half">{{i18n.updateProfile.securityQuestionMessage}}</div>\n            <label for="question">{{i18n.updateProfile.securityQuestionLbl}}</label>\n            <select name="securityQuestionIdx" id="question" class="select-full required" aria-describedby="question-error">\n                <option value="-1">{{i18n.createAccount.selectOne}}</option>\n            </select>\n            <div class="input-error-message js-question-error" id="question-error"></div>\n\n            <label id="questionLabel" for="answer">{{i18n.updateProfile.answerLbl}}</label>\n            <input type="text" id="answer" required name="securityAnswer" autocomplete="off" autocorrect="off"\n                autocapitalize="off" aria-describedby="answer-error">\n            <div class="input-error-message js-answer-error" id="answer-error"></div>\n\n            <div class="flex leader-1">\n                <button type="submit" id="submitBtn" class="btn btn-fill btn-small"\n                    value="true">{{i18n.updateProfile.okBtn}}</button>\n            </div>\n        </form>\n    </div>\n    {{> footer}}\n</div>\n'}),define("updateSecurity",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/updateSecurity.html","text!../contents/header_smx.html","text!../contents/footer_smx.html"],function(e,t,n,i,a,s,r,o){return{startup:function(n){this.authInfo=n,document.documentElement.lang=n.locale,this.smxFocus=n.smxFocus="storymapsexpress"==n.client_id.toLowerCase(),n.gaeFocus="geoanalyticsengine"==n.client_id.toLowerCase(),t.setTitle(a.updateProfile.securityQuestionTitle),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(c){t.checkRTL(c.locale),e.addClass(document.body,"top-align");var l=t.queryOne(".content");c.hostname=t.getPortalHostname(c,c.refUrl),this.smxFocus&&(a=a.smx),l.innerHTML=n.render(s,{info:c,i18n:a,icons:i},{header:this.smxFocus?r:"",footer:this.smxFocus?o:""}),this._buildQuestionList(),this.displayMessage(c)},addEventHandlers:function(){e.addEvent(t.byId("question"),"change",this._validateQuestion.bind(this)),e.addEvent(t.byId("answer"),"blur",this._validateAnswer.bind(this)),e.addEvent(t.byId("oauth"),"submit",this._validateForm.bind(this))},displayMessage:function(n){var i=n.messages&&n.messages[0]||"";if(i){var s=i.toLowerCase()||"",r=i,o=t.queryOne(".js-message");s.indexOf("your login session has been reset")>-1?r=a.expiredSession:s.indexOf("unable to update user's profile")>-1&&(r=a.updateProfile.identityAnswerTooLong),o.innerHTML=r,e.addClass(o,"is-active"),o.focus()}},_buildQuestionList:function(){var e=t.byId("question"),n=[];Object.keys(a.securityQuestions).forEach(function(e){n[~~e-1]=a.securityQuestions[e]}),n.forEach(function(t,n){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",n+1),e.appendChild(i)})},_validateQuestion:function(n){var i=n.target;if(e.hasClass(i,"input-error")&&-1!=i.value){var a=t.queryOne(".js-question-error");e.removeClass(a,"is-active"),e.removeClass(i,"input-error")}},_validateAnswer:function(n){var i=n.target,s=i.value,r=t.queryOne(".js-answer-error");s.length>60?(r.innerHTML=a.updateProfile.identityAnswerTooLong,!t.queryOne(".input-error-message.is-active")&&e.addClass(r,"is-active"),e.addClass(i,"input-error")):e.hasClass(i,"input-error")&&(e.removeClass(r,"is-active"),e.removeClass(i,"input-error"))},_validateForm:function(n){n.preventDefault();var i=t.byId("question"),s=t.byId("answer"),r=!0;if(-1==i.value){var o=t.queryOne(".js-question-error");r=!1,o.innerHTML=a.createAccount.errors.missing_question,!t.queryOne(".input-error-message.is-active")&&e.addClass(o,"is-active"),e.addClass(i,"input-error")}if(0===s.value.length||s.value.length>60){var c=t.queryOne(".js-answer-error");r=!1,c.innerHTML=0===s.value.length?a.updateProfile.missingAnswer:a.updateProfile.identityAnswerTooLong,!t.queryOne(".input-error-message.is-active")&&e.addClass(c,"is-active"),e.addClass(s,"input-error")}r&&n.target.submit()}}}),define("text!../contents/joinOrg.html",[],function(){return'<div spellcheck="false">\n    <div class="js-header header-bar flex flex-justify">\n        <h1 class="font-size-1 page-title width-full js-orgname">\n            {{#info.joinInfo}}{{i18n.createAccount.titleJoin}}{{/info.joinInfo}}\n            {{^info.joinInfo}}{{i18n.createAccount.joinWindowTitle}}{{/info.joinInfo}}\n        </h1>\n        {{^info.signinThumbnail}}{{&icons.esriSvg}}{{/info.signinThumbnail}}\n        {{#info.signinThumbnail}}\n        <div class="custom-logo">\n            <img src="{{info.hostname}}{{info.contextPath}}/rest/oauth2/orgInfo/{{info.signinThumbnail}}" alt="" />\n        </div>\n        {{/info.signinThumbnail}}\n    </div>\n    <div tabindex="0" class="alert alert-red js-message"></div>\n    {{#info.joinInfo}}\n    <form method="post" name="f" id="oauth"\n        action="https://{{info.joinInfo.customUrl}}{{info.contextPath}}/oauth2/">\n        <input type="hidden" name="oauth_state" value="{{info.oauth_state}}">\n        <input type="hidden" name="join" value="{{info.join}}">\n    </form>\n    <section class="padded-section js-join-container join-container">\n        <div class="js-join-options">\n            <div class="panel panel-white pointer text-center js-new-acct">\n                <h3 class="font-size-0 avenir-demi js-new-title">{{i18n.createAccount.createNewAccount}}</h3>\n                <div class="js-new-method flex align-center justify-center social-wrapper"></div>\n            </div>\n            <div class="flex align-center js-convert-or">\n                <div class="separator width-full margin-right-half">\n                    <hr>\n                </div>\n                <div class="font-size--2 wrapper">{{i18n.createAccount.or}}</div>\n                <div class="separator width-full margin-left-half">\n                    <hr>\n                </div>\n            </div>\n            <div class="panel panel-white pointer text-center js-convert-acct">\n                <h3 class="font-size-0 avenir-demi">{{i18n.createAccount.convertPublic}}</h3>\n                <div class="js-orgname">{{i18n.createAccount.transferItems}}</div>\n            </div>\n        </div>\n        <div class="js-join-methods hide">\n            <h3 class="font-size--1">{{i18n.createAccount.createAccountUsing}}</h3>\n            {{#info.joinInfo.hasEnterprise}}\n            <section>\n                {{#info.joinInfo.oidcFederationInfo}}{{#info.joinInfo.canSignInOIDC}}\n                <label class="panel panel-white pointer flex align-center">\n                    <input type="radio" name="provider" value="oidc-{{id}}"><span>{{name}}</span>\n                </label>\n                {{/info.joinInfo.canSignInOIDC}}{{/info.joinInfo.oidcFederationInfo}}\n                {{#info.joinInfo.idpName}}{{#info.joinInfo.canSignInIDP}}\n                <label class="panel panel-white pointer flex align-center">\n                    <input type="radio" name="provider" value="saml"><span>{{info.joinInfo.idpName}}</span>\n                </label>\n                {{/info.joinInfo.canSignInIDP}}{{/info.joinInfo.idpName}}\n            </section>\n            {{/info.joinInfo.hasEnterprise}}\n            {{^enterpriseOnly}}\n            {{#info.joinInfo.hasSocial}}{{#info.joinInfo.canSignInSocial}}\n            <section>\n                <ul class="social-wrapper list-plain as-list">\n                    {{#info.joinInfo.socialProviders}}\n                    <li class="panel panel-white">\n                        <label class="js-provider-{{.}} pointer flex align-center">\n                            <input type="radio" name="provider" value="social-{{.}}">{{&info.getSocialIcon}}<span>&nbsp;{{info.capitalize}}</span>\n                        </label>\n                    </li>\n                    {{/info.joinInfo.socialProviders}}\n                </ul>\n                <input type="hidden" name="socialLoginProviderName" value="" id="social_provider">\n                <input type="hidden" name="createNewSocialUser" value="true" id="social_create_new">\n                <input type="hidden" name="autoAccountCreateForSocial" value="true" id="social_auto_create">\n            </section>\n            {{/info.joinInfo.canSignInSocial}}{{/info.joinInfo.hasSocial}}\n            {{#info.joinInfo.canSignInArcGIS}}\n            <section>\n                <label class="panel panel-white pointer flex align-center">\n                    <input type="radio" name="provider" value="info"><span>{{i18n.createAccount.usernamePassword}}</span>\n                </label>\n            </section>\n            {{/info.joinInfo.canSignInArcGIS}}\n            {{/enterpriseOnly}}\n            <div class="button-wrapper leader-half">\n                {{^enterpriseOnly}}\n                <button type="button" class="js-back btn btn-clear">\n                    <svg class="svg-icon rotate-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false">\n                        {{&icons.chevronUp}}\n                    </svg>\n                    {{i18n.mfaEnablePage.prevBtn}}\n                </button>\n                {{/enterpriseOnly}}\n                <button type="button" class="js-next btn right">\n                    {{i18n.createAccount.nextBtn}}\n                </button>\n            </div>\n        </div>\n    </section>\n    <div class="font-size--3 text-right">\n        <a href="https://trust.arcgis.com/{{info.parsedLocale}}/privacy/privacy-tab-intro.htm" target="_blank">\n            {{i18n.privacy}}\n        </a>\n    </div>\n    {{/info.joinInfo}}\n</div>\n'}),define("joinOrg",["calcite-web","helpers","mustache","qwest","icons","./socialHelper","i18n!../nls/oauth","text!../contents/joinOrg.html"],function(e,t,n,i,a,s,r,o){return{startup:function(e){this.authInfo=e,document.documentElement.lang=e.locale,t.setTitle(r.createAccount.joinWindowTitle),t.checkRTL(e.locale),e.hostname=t.getPortalHostname(e,e.refUrl),i.get(this.authInfo.hostname+this.authInfo.contextPath+"/community/invitations/"+this.authInfo.join,{f:"json"},{responseType:"json",cache:!0}).then(this._handleJoinInfo.bind(this))},_handleJoinInfo:function(n,i){!i.error&&i.account?(this.authInfo.joinInfo=this.authInfo.joinInfo||i.account,this.authInfo.joinInfo.targetProviderAll="all"==this.authInfo.joinInfo.targetUserProvider,this.authInfo.joinInfo.hasEnterprise=this.authInfo.joinInfo.oidcFederationInfo||this.authInfo.joinInfo.idpName,this.authInfo.joinInfo.hasSocial=this.authInfo.joinInfo.socialProviders&&this.authInfo.joinInfo.socialProviders.length,this.authInfo.joinInfo.hasSocial&&s.addSocialInfo(this.authInfo),this.render(this.authInfo),e.init(),this.addEventHandlers()):(this.authInfo.messageCode=i.error.messageCode,this.authInfo.messages=[i.error.message],this.authInfo.joinInfo=!1,this.render(this.authInfo)),t.setContrastInfo()},render:function(i){t.queryOne(".content").innerHTML=n.render(o,{info:i,i18n:r,icons:a,enterpriseOnly:!i.joinInfo.targetProviderAll}),this._displayMessage(i),e.nodeListToArray(t.query(".js-orgname")).forEach(function(e){e.innerHTML=t.sub(e.innerHTML,{orgname:i.orgName||i.joinInfo.name})});var s=t.query("input[name=provider]");if(1===s.length){if(i.singleOption=!0,s[0].checked=!0,"info"!=s[0].value){t.queryOne(".js-new-title").textContent=r.createAccount.createAccountUsing;var c=t.queryOne(".js-new-method"),l=s[0].parentElement.querySelectorAll("input ~ *");e.nodeListToArray(l).forEach(function(e){c.appendChild(e)})}if(!i.joinInfo.targetProviderAll){e.addClass(t.queryOne(".js-convert-or"),"hide"),e.addClass(t.queryOne(".js-convert-acct"),"hide");var d=t.queryOne(".js-new-acct");e.addClass(d,"btn btn-fill"),e.removeClass(d,"panel panel-white")}}else i.joinInfo.targetProviderAll||this._showAccounts()},addEventHandlers:function(){var n=t.queryOne(".js-new-acct");this.authInfo.joinInfo.targetProviderAll&&(!this.authInfo.singleOption&&e.addEvent(n,"click",this._showAccounts.bind(this)),e.addEvent(t.queryOne(".js-convert-acct"),"click",this._authPublicAcct.bind(this)));var i=t.queryOne(".js-back");i&&e.addEvent(i,"click",this._showMain.bind(this)),e.addEvent(t.queryOne(".js-next"),"click",this._authAccount.bind(this)),this.authInfo.singleOption&&e.addEvent(n,"click",this._authAccount.bind(this))},_showAccounts:function(){var n=t.queryOne(".js-join-options"),i=t.queryOne(".js-join-methods");e.addClass(n,"hide"),e.removeClass(i,"hide")},_showMain:function(){var n=t.queryOne(".js-join-options"),i=t.queryOne(".js-join-methods");e.addClass(i,"hide"),e.removeClass(n,"hide")},_authPublicAcct:function(){var e=t.byId("oauth");e.action+="authorize",e.submit()},_authAccount:function(){var e=t.queryOne("input[name=provider]:checked"),n=t.byId("oauth");if(e){var i=e.value,a="";if("saml"==i)n.action+="saml/authorize";else if(i.indexOf("oidc")>-1)a=i.split("-")[1],n.action+="oidc/"+a+"/authorize";else if(i.indexOf("social")>-1){a=i.split("-")[1];var s=t.byId("social_provider"),r=t.byId("social_create_new"),o=t.byId("social_auto_create");s.setAttribute("value",a),[s,r,o].forEach(function(e){n.appendChild(e)}),n.action=this.authInfo.hostname+this.authInfo.contextPath+"/rest/oauth2/social/authorize"}else n.action=this.authInfo.hostname+this.authInfo.contextPath+"/rest/oauth2/signup";n.submit()}},_displayMessage:function(n){var i=n.messages&&n.messages.length&&n.messages[0];if(i){var a=i;i.toLowerCase().indexOf("your login session has been reset")>-1?a=r.expiredSession:"COM_0005"==n.messageCode&&(a=r.invalidInvitation);var s=t.queryOne(".js-message");s.innerHTML=a,e.addClass(s,"is-active"),s.focus()}}}}),define("text!../contents/joinNotice.html",[],function(){return'<div class="terms-container panel-white" aria-labelledby="termsTitle" role="dialog">\n    <div class="terms-inner-container">\n        <h4 id="termsTitle" class="terms-title padding-trailer-half js-orgname js-username">\n            {{i18n.createAccount.joinTransferTitle}}\n        </h4>\n        <div class="terms-content">\n            <ul class="list">\n                <li class="js-orgname">{{i18n.createAccount.transferPoint1}}</li>\n                <li>{{i18n.createAccount.transferPoint2}}</li>\n                <li>{{i18n.createAccount.transferPoint3}}</li>\n                <li>{{i18n.createAccount.transferPoint4}}</li>\n                <li>{{i18n.createAccount.transferPoint5}}</li>\n                <li>{{i18n.createAccount.transferPoint6}}</li>\n            </ul>\n\n        </div>\n        <div class="terms-action actions-area">\n            <div class="button-wrapper">\n                <button autofocus type="button"\n                    class="js-submit btn right margin-left-1">{{i18n.createAccount.joinTransfer}}</button>\n                <button type="button"\n                    class="js-cancel btn btn-clear right">{{i18n.cancel}}</button>\n            </div>\n        </div>\n    </div>\n    <form method="POST" name="f" id="oauth"\n        action="{{info.hostname}}{{info.contextPath}}/oauth2/acceptJoinOrg" novalidate autocomplete="off" spellcheck="false">\n        <input type="hidden" id="oauth_state" name="oauth_state" value="{{info.oauth_state}}">\n        <input type="hidden" id="join_id" name="join" value="{{info.join}}">\n        <input type="hidden" id="accept_notice" name="acceptJoinOrgNotice">\n    </form>\n</div>\n'}),define("joinNotice",["calcite-web","helpers","mustache","icons","i18n!../nls/oauth","text!../contents/joinNotice.html"],function(e,t,n,i,a,s){return{startup:function(e){this.authInfo=e,document.documentElement.lang=e.locale,t.setTitle(a.createAccount.joinWindowTitle),t.checkRTL(e.locale),this.render(e),this.addEventHandlers(e),t.setContrastInfo()},render:function(r){var o=document.body;r.hostname=t.getPortalHostname(r,r.refUrl),o.innerHTML=n.render(s,{info:r,i18n:a,icons:i}),e.nodeListToArray(t.query(".js-orgname")).forEach(function(e){e.textContent=t.sub(e.textContent,{orgname:r.orgName})}),e.nodeListToArray(t.query(".js-username")).forEach(function(e){e.textContent=t.sub(e.textContent,r)})},addEventHandlers:function(n){e.addEvent(t.queryOne(".js-submit"),"click",function(){t.byId("accept_notice").value=!0,t.byId("oauth").submit()}),e.addEvent(t.queryOne(".js-cancel"),"click",function(){var e=t.byId("oauth");e.action=n.hostname+n.contextPath+"/oauth2/join",e.submit()})}}}),define("text!../contents/activateOrg.html",[],function(){
return'<div spellcheck="false">\n  <div class="js-header header-bar flex flex-justify">\n    <h1 class="font-size-1 page-title width-full js-header-title" id="headerTitle">\n      {{i18n.activate.activateOrg}}\n    </h1>\n    {{&icons.esriSvg}}\n  </div>\n  <div tabindex="0" class="alert alert-red js-message"></div>\n  <form method="post" name="f" id="oauth" action="{{info.hostname}}{{info.contextPath}}/oauth2/activateOrg" novalidate>\n    <input type="hidden" name="oauth_state" value="{{info.oauth_state}}">\n    <input type="hidden" name="activationCode" value="{{info.activationCode}}">\n  </form>\n  <section class="padded-section">\n    <div class="js-activate-options">\n      <h3 class="trailer-1 leader-1 font-size-0">{{i18n.activate.chooseMethod}}</h3>\n      <div class="panel panel-white pointer js-new-org">\n        <div class="flex align-center flex-justify width-full leader-1 trailer-1 svg-icon-black">\n          <div class="margin-left-0">\n            <div class="flex trailer-half">\n              <svg width="32" height="32">{{&icons.organization}}</svg>\n            </div>\n            <div class="font-size-0 avenir-demi">{{i18n.activate.createNew}}</div>\n          </div>\n          <svg class="svg-icon svg-icon-large svg-icon-black rotate-right">{{&icons.chevronUp}}</svg>\n        </div>\n      </div>\n      <div class="panel panel-white pointer js-convert-public">\n        <div class="flex align-center flex-justify width-full leader-1 trailer-1 svg-icon-black">\n          <div class="margin-left-0">\n            <div class="flex trailer-half">\n              <svg width="32" height="32" class="reflect">{{&icons.user32}}</svg>\n              <svg width="32" height="32" class="reflect">{{&icons.arrowRight}}</svg>\n              <svg width="32" height="32" class="reflect">{{&icons.organization}}</svg>\n            </div>\n            <div class="font-size-0 avenir-demi">{{i18n.activate.convertPublic}}</div>\n          </div>\n          <svg class="svg-icon svg-icon-large svg-icon-black rotate-right">{{&icons.chevronUp}}</svg>\n        </div>\n      </div>\n    </div>\n    <div class="js-setup-org hide panel panel-inert panel-white panel-no-border font-size-0">\n      <div class="progress-bar-container">\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar"></div>\n        <div class="progress-bar"></div>\n      </div>\n      <h3 class="trailer-1 leader-1 avenir-demi font-size-0">{{i18n.activate.basicOrgSettings}}</h3>\n      <label for="orgName" class="leader-1">{{i18n.activate.orgName}}</label>\n      <p class="avenir-light">\n        {{#info.gaeFocus}}\n          {{i18n.activate.orgNameDesc_gae}}\n        {{/info.gaeFocus}}\n        {{^info.gaeFocus}}\n          {{i18n.activate.orgNameDesc}}\n        {{/info.gaeFocus}}\n      </p>\n      <input type="text" form="oauth" name="orgName" placeholder="{{i18n.activate.orgName}}" id="orgName" maxlength="55"\n        required aria-describedby="orgName-error" />\n      <div class="input-error-message js-orgName-error" id="orgName-error"></div>\n      {{^info.gaeFocus}}\n        <label for="orgUrl" class="leader-1">{{i18n.activate.orgKey}}</label>\n        <p class="avenir-light">{{i18n.activate.orgKeyDesc}}</p>\n        <label class="flex flex-wrap" dir="ltr">\n          <input dir="ltr" type="text" form="oauth" name="orgUrl" placeholder="organization" id="orgKey" maxlength="16"\n            required aria-describedby="orgKey-error" />\n          <div class="post-org" dir="ltr">.{{info.orgUrlBase}}</div>\n        </label>\n        <div class="input-error-message js-orgKey-error" id="orgKey-error"></div>\n        <label for="orgRegion" class="leader-1">{{i18n.activate.region}}</label>\n        <p class="avenir-light">{{i18n.activate.regionDesc}}</p>\n        <select form="oauth" name="orgRegion" id="orgRegion" class="width-full"></select>\n      {{/info.gaeFocus}}\n      <label for="orgEUE" class="leader-1">{{i18n.activate.eueip}}</label>\n      <p id="eueipDesc" class="avenir-light truncate-overflow trailer-quarter">\n        {{#info.gaeFocus}}\n          {{i18n.activate.eueipDesc_gae}}\n        {{/info.gaeFocus}}\n        {{^info.gaeFocus}}\n          {{i18n.activate.eueipDesc}}\n        {{/info.gaeFocus}}\n      </p>\n      <button type="button" class="btn-link leader-0 trailer-half js-toggle-euei">{{i18n.activate.showMore}}</button>\n      <label class="toggle-switch clearfix panel panel-white panel-inert">\n        <span class="toggle-switch-label left">{{i18n.activate.sendData}}</span>\n        <input id="orgEUE" name="orgEuei" type="checkbox" class="toggle-switch-input" checked form="oauth">\n        <span class="toggle-switch-track right"></span>\n      </label>\n      <div id="publicUserTypesWrapper"></div>\n      <div class="actions-area flex flex-justify leader-1">\n        <button\n          type="button"\n          class="btn btn-clear js-basic-back {{#info.gaeFocus}}btn-disabled{{/info.gaeFocus}}">\n          {{i18n.mfaEnablePage.prevBtn}}\n        </button>\n        <button type="button" class="btn js-basic-next" id="orgSetupNextBtn">{{i18n.mfaEnablePage.nextBtn}}</button>\n      </div>\n    </div>\n    <div class="js-setup-user hide panel panel-inert panel-white panel-no-border font-size-0">\n      <div class="progress-bar-container">\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar"></div>\n      </div>\n      <h3 class="trailer-1 leader-1 avenir-demi font-size-0">{{i18n.activate.accountDetails}}</h3>\n      <label class="leader-1">{{i18n.createAccount.firstName}} <input form="oauth" type="text" name="firstName"\n          id="firstName" maxlength="40" required aria-describedby="firstName-error">\n        <div class="input-error-message js-firstName-error" id="firstName-error"></div>\n      </label>\n      <label class="leader-1">{{i18n.createAccount.lastName}} <input form="oauth" type="text" name="lastName"\n          id="lastName" maxlength="40" required aria-describedby="lastName-error">\n        <div class="input-error-message js-lastName-error" id="lastName-error"></div>\n      </label>\n      <label class="leader-1">{{i18n.createAccount.email}} <input form="oauth" type="email" name="email" id="email" autocomplete="email"\n          required aria-describedby="email-error">\n        <div class="input-error-message js-email-error" id="email-error"></div>\n      </label>\n      <label class="leader-1">{{i18n.createAccount.confirmEmail}}\n        <input form="oauth" type="email" id="confirm" autocomplete="email" required aria-describedby="confirm-error">\n        <div class="input-error-message js-confirm-error" id="confirm-error"></div>\n      </label>\n      {{#info.showUserTypes}}\n      <div id="newUserTypesWrapper">\n        <hr class="trailer-half leader-half">\n        <label>{{i18n.activate.userType}}\n          <select id="userType" form="oauth" name="userType" class="width-full">\n            {{#info.userTypes}}\n            <option value="{{id}}">{{name}}</option>\n            {{/info.userTypes}}\n          </select>\n        </label>\n      </div>\n      {{/info.showUserTypes}}\n      {{^info.showUserTypes}}\n      {{#info.userTypes}}<input type="hidden" name="userType" form="oauth" value="{{id}}">{{/info.userTypes}}\n      {{/info.showUserTypes}}\n      <hr class="trailer-half leader-half">\n      <div>\n        <div id="readTou" class="trailer-quarter">{{&i18n.createAccount.readTermsOfUseMsg}}</div>\n        <div class="trailer-quarter"><a target="_blank"\n            href="https://www.esri.com/en-us/legal/terms/master-agreement-product">{{i18n.createAccount.touOtherLanguages}}</a>\n        </div>\n        <fieldset>\n          <legend>{{i18n.createAccount.acceptLegal}}</legend>\n          <label class="trailer-quarter">\n            <input form="oauth" type="checkbox" name="terms" id="terms" required aria-describedby="terms-error">{{i18n.createAccount.arcgisTou}}\n          </label>\n          <label>\n            <input form="oauth" type="checkbox" name="privacy" id="privacy" required aria-describedby="privacy-error">\n            {{#info.gaeFocus}}{{i18n.createAccount.arcgisPrivacy_gae}}{{/info.gaeFocus}}\n            {{^info.gaeFocus}}{{i18n.createAccount.arcgisPrivacy}}{{/info.gaeFocus}}\n          </label>\n          <div class="input-error-message js-terms-error" id="terms-error"></div>\n          <div class="input-error-message js-privacy-error" id="privacy-error"></div>\n        </fieldset>\n      </div>\n      <div class="actions-area flex flex-justify leader-1">\n        <button type="button" class="btn btn-clear js-user-back">{{i18n.mfaEnablePage.prevBtn}}</button>\n        <button type="submit" form="oauth" class="btn js-user-next">{{i18n.mfaEnablePage.nextBtn}}</button>\n      </div>\n    </div>\n    <div class="js-setup-pwd hide panel panel-inert panel-white panel-no-border font-size-0">\n      <div class="progress-bar-container">\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar pb-filled"></div>\n      </div>\n      <h3 class="trailer-1 leader-1 avenir-demi font-size-0">{{i18n.activate.setupLogin}}</h3>\n      <label>{{i18n.createAccount.usernameLbl}}\n        <input type="text" form="oauth" name="username" aria-label="{{i18n.createAccount.usernameLbl}}" id="username" required\n          autofocus autocomplete="off" autocorrect="off" autocapitalize="off"\n          aria-describedby="usernameError usernameReqs">\n        <div class="input-error-message js-username-error" id="usernameError"></div>\n      </label>\n      <div class="alert alert-clear trailer-half js-username-alert" id="usernameReqs">\n        {{i18n.createAccount.usernameMust}}:\n        <ul class="js-username-reqs">\n          <li>{{i18n.createAccount.usernameReq1}}</li>\n          <li>{{i18n.createAccount.usernameReq2}}</li>\n          <li>{{i18n.createAccount.usernameReq5}}</li>\n          <li>{{i18n.createAccount.usernameReq4}}</li>\n        </ul>\n      </div>\n      <label>{{i18n.createAccount.passwordLbl}}\n        <input type="password" name="password" form="oauth" aria-label="{{i18n.createAccount.passwordLbl}}" id="password"\n          autocomplete="new-password" required aria-describedby="passwordError passwordReqs" spellcheck="false">\n        <div class="input-error-message js-password-error" id="passwordError"></div>\n      </label>\n      <div class="alert alert-clear trailer-half js-password-alert" id="passwordReqs">\n        <div class="js-password-meter trailer-half"></div>\n        {{i18n.createAccount.passwordMust}}:\n        <ul class="js-password-reqs">\n          {{#rules.password}}\n          <li>{{label}}</li>\n          {{/rules.password}}\n        </ul>\n      </div>\n      <label>{{i18n.createAccount.retypePassword}}\n        <input type="password" id="confirmPass" aria-label="{{i18n.createAccount.confirmPassword}}" autocomplete="off"\n          required aria-describedby="confirmPass-error">\n        <div class="input-error-message js-confirmPass-error" id="confirmPass-error"></div>\n      </label>\n      <hr class="trailer-half leader-half">\n      <label>{{i18n.createAccount.securityQuestion}}\n        <select name="securityQuestionIdx" id="question" form="oauth" class="select-full required" aria-describedby="question-error">\n          <option value="-1">{{i18n.createAccount.selectOne}}</option>\n        </select>\n        <div class="input-error-message js-question-error" id="question-error"></div>\n      </label>\n      <label>{{i18n.createAccount.answer}}\n        <input type="text" name="securityAnswer" form="oauth" id="answer" required aria-describedby="answer-error">\n        <div class="input-error-message js-answer-error" id="answer-error"></div>\n      </label>\n      <div class="actions-area flex flex-justify leader-1">\n        <button type="button" class="btn btn-clear js-pwd-back">{{i18n.mfaEnablePage.prevBtn}}</button>\n        <button type="submit" form="oauth" class="btn js-pwd-finish">{{i18n.activate.finishSetup}}</button>\n      </div>\n    </div>\n    <div class="js-convert-warning hide panel panel-inert panel-white panel-no-border font-size-0">\n      <div class="trailer-1 leader-half avenir-demi font-size-0 text-center">\n        {{i18n.activate.convertTitle}}\n        <hr />\n      </div>\n      <div>{{i18n.activate.convertWarning}}</div>\n      <div class="actions-area flex flex-justify leader-1">\n        <button type="button" class="btn btn-clear js-warning-back">{{i18n.mfaEnablePage.prevBtn}}</button>\n        <button type="button" class="btn js-warning-finish">{{i18n.activate.convertBtn}}</button>\n      </div>\n    </div>\n    <div class="js-choose-auth-method hide panel panel-inert panel-white panel-no-border font-size-0">\n      <div class="progress-bar-container">\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar pb-filled"></div>\n        <div class="progress-bar"></div>\n      </div>\n      <h3 class="trailer-1 leader-1 avenir-demi font-size-0">{{i18n.activate.chooseAuthMethod}}</h3>\n      {{#info.showSocialLogins}}\n      <section>\n          <ul class="social-wrapper list-plain as-list">\n              {{#info.socialProviders}}\n              <li class="panel panel-white">\n                  <label class="js-provider-{{.}} pointer flex align-center">\n                      <input type="radio" name="provider" value="social-{{.}}">{{&info.getSocialIcon}}<span>&nbsp;{{info.capitalize}}</span>\n                  </label>\n              </li>\n              {{/info.socialProviders}}\n          </ul>\n      </section>\n      {{/info.showSocialLogins}}\n      <div>\n          <label class="panel panel-white pointer flex align-center">\n              <input type="radio" name="provider" value="info"><span>{{i18n.createAccount.usernamePassword}}</span>\n          </label>\n      </div>\n      <div class="actions-area flex flex-justify leader-1">\n        <button type="button" class="btn btn-clear js-auth-methods-back">{{i18n.mfaEnablePage.prevBtn}}</button>\n        <button type="submit" form="oauth" class="btn js-auth-methods-next">{{i18n.mfaEnablePage.nextBtn}}</button>\n      </div>\n    </div>\n  </section>\n  <div class="font-size--3 text-right">\n    <a href="https://trust.arcgis.com/{{info.parsedLocale}}/privacy/privacy-tab-intro.htm" target="_blank">\n        {{i18n.privacy}}\n    </a>\n  </div>\n</div>\n'}),define("activateOrg",["calcite-web","helpers","mustache","qwest","icons","socialHelper","PasswordMeter","i18n!../nls/oauth","text!../contents/activateOrg.html"],function(e,t,n,i,a,s,r,o,c){return{emailRe:/@/,errors:null,socialProviders:["google","apple","facebook","github"],startup:function(n){this.authInfo=n,this.errors={},this.errorMessage="",this.focusEl=null,document.documentElement.lang=n.locale,t.setTitle(o.activate.title),t.checkRTL(n.locale),this.gaeFocus=n.gaeFocus="geoanalyticsengine"==n.client_id.toLowerCase(),this.personalUse="Personal Use"==n.subscriptionType,this.rules=this._setRules(),this.render(n),e.init(),this.addEventHandlers(),t.setContrastInfo()},render:function(l){e.addClass(document.body,"top-align");var d=l.hubEnabled||l.isCommunity;if(l.isHubRelated=d,l.hostname=t.getPortalHostname(l,l.refUrl),l.userTypes=this._calculateUserTypes(l),l.showUserTypes=l.userTypes.length>1,this.personalUse&&(l.showSocialLogins=!0,l.socialProviders=this.socialProviders,s.addSocialInfo(l)),t.queryOne(".content").innerHTML=n.render(c,{info:l,i18n:o,icons:a,rules:this.rules}),this._displayMessage(l),!this.gaeFocus&&this._fetchRegions(),this._buildQuestions(),l.showUserTypes){var u=t.byId("userType");u.value=u.options[0].value}if(!d||l.showEmail){var h=t.byId("readTou");h.innerHTML=t.sub(h.innerHTML,{touHref:"https://www.esri.com/en-us/legal/terms/master-agreement-product",privacyHref:"https://www.esri.com/legal/privacy"}),this.meter=new r({attach:t.queryOne(".js-password-meter"),input:t.byId("password"),authInfo:l}),this.meter.startup(),i.get(this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/helpMap",{f:"json"},{responseType:"json",cache:!0}).then(function(n){var i=n.response,a=this.authInfo.isPortal?"120001688":"120001811",s=i.helpMap.m[a],r=this.authInfo.helpBase+s;e.nodeListToArray(t.query(".js-password-link")).forEach(function(e){e.setAttribute("href",r)})}.bind(this))}this.gaeFocus&&this._showNewOrg({preventDefault:function(){}})},addEventHandlers:function(){e.addEvent(t.queryOne(".js-new-org"),"click",this._showNewOrg.bind(this)),"Personal Use"==this.authInfo.subscriptionType?(e.addEvent(t.queryOne(".js-convert-public"),"click",this._showConvertWarning.bind(this)),e.addEvent(t.queryOne(".js-warning-finish"),"click",this._showConvertPublic.bind(this)),e.addEvent(t.queryOne(".js-warning-back"),"click",this._showMethods.bind(this)),e.addEvent(t.queryOne(".js-auth-methods-next"),"click",this._useAuthChoice.bind(this)),e.addEvent(t.queryOne(".js-auth-methods-back"),"click",this._showNewOrg.bind(this))):e.addEvent(t.queryOne(".js-convert-public"),"click",this._showConvertPublic.bind(this)),e.addEvent(t.queryOne(".js-basic-next"),"click",this._validateOrg.bind(this)),e.addEvent(t.queryOne(".js-basic-back"),"click",this._showMethods.bind(this)),e.addEvent(t.queryOne(".js-toggle-euei"),"click",this._toggleEueiSize.bind(this)),e.addEvent(t.queryOne(".js-user-back"),"click",this._showOrg.bind(this)),e.addEvent(t.queryOne(".js-user-next"),"click",this._validateUser.bind(this)),!this.gaeFocus&&e.addEvent(t.byId("orgKey"),"blur",this._checkOrgKeyExist.bind(this)),e.addEvent(t.queryOne(".js-pwd-back"),"click",this._showUser.bind(this)),e.addEvent(t.queryOne(".js-pwd-finish"),"click",this._validateSecurity.bind(this)),e.addEvent(t.byId("email"),"blur",this._checkValidEmail.bind(this)),e.addEvent(t.byId("confirm"),"blur",this._checkMatchEmail.bind(this)),e.addEvent(t.byId("password"),"focus",function(){e.addClass(t.queryOne(".js-password-alert"),"is-active")}),e.addEvent(t.byId("username"),"focus",function(){e.addClass(t.queryOne(".js-username-alert"),"is-active")}),e.nodeListToArray(t.query("#password, #username")).forEach(function(t){e.addEvent(t,"input",this._validateInput.bind(this)),e.addEvent(t,"blur",this._checkFieldValid.bind(this))}.bind(this)),e.addEvent(t.byId("question"),"change",this._checkRequired.bind(this)),e.addEvent(t.byId("answer"),"blur",this._checkRequired.bind(this)),e.addEvent(t.byId("password"),"blur",function(e){var n=t.byId("password"),i=t.byId("confirmPass");n.value.length&&i&&i.value.length&&(i.value!=n.value?(this.errors.confirmPass=!0,this.focusEl=i):this.errors.confirmPass=void 0,this._checkFieldValid({target:i})),this._validateInput(e)&&this._checkFieldValid(e)}.bind(this)),e.bus.on("meter:update",function(e){var t={target:e.input};this._validateInput(t),this._checkFieldValid(t)}.bind(this)),e.addEvent(t.byId("confirmPass"),"blur",function(e){var n=e.target,i=n.value;i!=t.byId("password").value?(this.errors.confirmPass=!0,this.focusEl=n):this.errors.confirmPass=void 0,i.length>0&&this._checkFieldValid(e)}.bind(this))},_calculateUserTypes:function(e){var t=[];return e.userLicenseTypes&&e.userLicenseTypes.length?t=e.userLicenseTypes.filter(function(e){return"2"==e.level&&!e.supportsSignInOnlyFromUTApps&&"active"==e.state}).map(function(e){return{id:e.id,name:e.name,description:e.description}}):t.push({id:"creatorUT",name:"Creator",description:"Creator"}),t},_showNewOrg:function(n){n.preventDefault(),e.addClass(t.queryOne(".js-message"),"hide"),e.addClass(t.queryOne(".js-activate-options"),"hide"),e.addClass(t.queryOne(".js-choose-auth-method"),"hide"),e.removeClass(t.queryOne(".js-setup-org"),"hide"),t.byId("headerTitle").innerText=o.activate.setupOrg;var i=t.byId("orgKey");i&&i.value.length&&this._checkOrgKeyExist({target:i})},_showConvertWarning:function(n){n.preventDefault(),e.addClass(t.queryOne(".js-message"),"hide"),e.addClass(t.queryOne(".js-activate-options"),"hide"),e.removeClass(t.queryOne(".js-convert-warning"),"hide"),t.byId("headerTitle").innerText=o.activate.convertHeading},_showConvertPublic:function(n){n.preventDefault(),e.addClass(t.queryOne(".js-message"),"hide");var i=t.byId("orgSetupNextBtn");i.innerText=o.activate.finishSetup,i.setAttribute("type","submit"),e.nodeListToArray(t.query(".progress-bar-container")).forEach(function(t){e.addClass(t,"hide")});var a=t.byId("newUserTypesWrapper"),s=t.byId("publicUserTypesWrapper");a&&(s.innerHTML=a.innerHTML,a.innerHTML=""),this.authInfo.convertPublic=!0,e.addClass(t.queryOne(".js-convert-warning"),"hide"),this._showNewOrg(n)},_toggleEueiSize:function(n){n.preventDefault();var i=n.target,a=t.byId("eueipDesc"),s="addClass",r=o.activate.showMore;e.hasClass(a,"truncate-overflow")&&(s="removeClass",r=o.activate.showLess),e[s](a,"truncate-overflow"),i.innerText=r},_showOrg:function(n){n.preventDefault(),this._resetErrors(),e.addClass(t.queryOne(".js-setup-user"),"hide"),e.removeClass(t.queryOne(".js-setup-org"),"hide"),t.byId("headerTitle").innerText=o.activate.setupOrg;var i=t.byId("orgKey");i&&i.value.length&&this._checkOrgKeyExist({target:i})},_showMethods:function(n){n.preventDefault(),this._resetErrors(),e.addClass(t.queryOne(".js-setup-org"),"hide"),e.addClass(t.queryOne(".js-convert-warning"),"hide"),e.addClass(t.queryOne(".js-choose-auth-method"),"hide"),e.removeClass(t.queryOne(".js-activate-options"),"hide"),e.nodeListToArray(t.query(".progress-bar-container")).forEach(function(t){e.removeClass(t,"hide")});var i=t.byId("orgSetupNextBtn"),a=t.byId("newUserTypesWrapper"),s=t.byId("publicUserTypesWrapper");a&&s&&s.children.length>0&&(a.innerHTML=s.innerHTML,s.innerHTML=""),i.innerText=o.mfaEnablePage.nextBtn,i.setAttribute("type","button"),this.authInfo.convertPublic=!1,t.byId("headerTitle").innerText=o.activate.activateOrg},_showUser:function(n){n.preventDefault(),this._resetErrors(),e.removeClass(t.queryOne(".js-setup-user"),"hide"),e.addClass(t.queryOne(".js-setup-pwd"),"hide"),t.byId("headerTitle").innerText=o.activate.setupUser},_useAuthChoice:function(n){n.preventDefault();var i=t.queryOne("[name=provider]:checked");if("info"===i.value)e.addClass(t.queryOne(".js-choose-auth-method"),"hide"),e.removeClass(t.queryOne(".js-setup-user"),"hide");else{var a=i.value.split("social-")[1],s=t.byId("oauth").action.replace("activateOrg","social/authorize"),r=new URLSearchParams({socialLoginProviderName:a,oauth_state:encodeURIComponent(this.authInfo.oauth_state),activationCode:this.authInfo.activationCode,orgName:t.queryOne("[name=orgName]").value,orgUrl:t.queryOne("[name=orgUrl]").value,orgRegion:t.queryOne("[name=orgRegion]").value,orgEuei:t.queryOne("[name=orgEuei]").value});location.href=s+"?"+r.toString()}},_validateOrg:function(n){n.preventDefault();var i=this.gaeFocus?Promise.resolve(!0):this._checkOrgKeyExist({target:t.byId("orgKey")});!1!==i&&i.then(function(n){!1!==n&&(!0!==this.errors.orgKey&&(this._resetErrors(),e.nodeListToArray(t.query(".js-setup-org input[required]")).every(function(e){return this._checkRequired({target:e})}.bind(this))),Object.keys(this.errors).length&&this.focusEl?this.focusEl.focus():!0===this.authInfo.convertPublic?(this._suspendButton(t.byId("orgSetupNextBtn")),t.queryOne("form#oauth").submit()):!0===this.personalUse?(e.addClass(t.queryOne(".js-setup-org"),"hide"),e.removeClass(t.queryOne(".js-choose-auth-method"),"hide")):(e.addClass(t.queryOne(".js-setup-org"),"hide"),e.removeClass(t.queryOne(".js-setup-user"),"hide"),t.byId("headerTitle").innerText=o.activate.setupUser))}.bind(this))},_validateUser:function(n){n.preventDefault(),this._resetErrors(),e.nodeListToArray(t.query(".js-setup-user input[required]")).every(function(e){return this._checkRequired({target:e})}.bind(this)),0===Object.keys(this.errors).length&&this._checkValidEmail({target:t.byId("email")}),Object.keys(this.errors).length&&this.focusEl?this.focusEl.focus():(e.addClass(t.queryOne(".js-setup-user"),"hide"),e.removeClass(t.queryOne(".js-setup-pwd"),"hide"))},_validateSecurity:function(n){if(n.preventDefault(),!0!==this.errors.confirmPass)this._resetErrors(),e.nodeListToArray(t.query(".js-setup-pwd input[required], .js-setup-pwd .required:not(input)")).every(function(e){return this._checkRequired({target:e})}.bind(this)),["username","password"].forEach(function(e){var n=t.byId(e);this._validateInput({target:n}),this._checkFieldValid({target:n})}.bind(this)),0===Object.keys(this.errors).length&&this._checkUsernameExist(t.byId("username")).then(function(){Object.keys(this.errors).length&&this.focusEl?this.focusEl.focus():(this._suspendButton(n.target),t.byId("oauth").submit())}.bind(this));else{this.errorMessage=null;var i=t.byId("confirmPass");0==i.value.length?this._checkRequired({target:i}):this._checkFieldValid({target:i}),Object.keys(this.errors).length&&this.focusEl?this.focusEl.focus():(this._suspendButton(n.target),t.byId("oauth").submit())}},_checkRequired:function(n){var i=n.target,a="",s=t.queryOne(".js-"+i.id+"-error"),r=0==i.value.length||"checkbox"==i.type.toLowerCase()&&!0!==i.checked||"select"==i.localName.toLowerCase()&&"-1"==i.value;return r?(this.errors[i.id]=!0,a=o.createAccount.errors["missing_"+i.id]):i.maxLength&&i.maxLength>0&&(r=i.value.length>i.maxLength)&&(this.errors[i.id]=!0,a=o.createAccount.errors["long_"+i.id]),r&&!this.errorMessage?(this.errorMessage=a,s.innerText=a,e.addClass(i,"input-error"),e.addClass(s,"is-active"),this.focusEl=i):!r&&this.errors[i.id]&&1===Object.keys(this.errors).length&&this._resetErrors(),!r},_resetErrors:function(n){n||(this.errors={}),this.errorMessage="",this.focusEl=null;var i=t.queryOne("input.input-error, select.input-error"),a=t.queryOne(".input-error-message.is-active");i&&e.removeClass(i,"input-error"),a&&e.removeClass(a,"is-active")},_checkValidEmail:function(n){var i=n.target,a=i.value,s=t.queryOne(".js-"+i.id+"-error"),r=a.length&&this.emailRe.test(a);!("email"in this.errors)&&Object.keys(this.errors).length>0||(r?(this._checkMatchEmail(),(this.errors.email||0===Object.keys(this.errors).length)&&this._resetErrors()):(this._resetErrors(),this.errors.email=!0,this.errorMessage=o.createAccount.errors.invalid_email,this.focusEl=i,s.innerText=this.errorMessage,e.addClass(i,"input-error"),e.addClass(s,"is-active")))},_checkMatchEmail:function(){var n=t.byId("confirm"),i=t.byId("email"),a=t.queryOne(".js-confirm-error"),s=i.value,r=n.value;!("confirm"in this.errors)&&Object.keys(this.errors).length>0||(s.length&&r.length&&s!=r?(this._resetErrors(),this.errors.confirm=!0,this.errorMessage=o.createAccount.errors.unmatched_email,this.focusEl=n,a.innerText=this.errorMessage,e.addClass(n,"input-error"),e.addClass(a,"is-active")):(this.errors.confirm||0===Object.keys(this.errors).length)&&this._resetErrors())},_setLoadingStatus:function(t,n){n?e.addClass(t,"field-suffix icon-ui-loading-indicator svg-icon-blue"):e.removeClass(t,"icon-ui-loading-indicator svg-icon-blue")},_suspendButton:function(t){e.addClass(t,"icon-ui-loading-indicator svg-icon-blue btn-disabled")},_checkOrgKeyExist:function(e){var t=e.target,n=t.value,a=t.parentElement;if(0===n.length)return!1;if(n[0].match(/[^a-zA-Z0-9]/)||n.match(/[^a-zA-Z0-9\-]/))return this._resetErrors(),this._markFieldInvalid(t,o.invalidCharacters),!1;var s=this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/isUrlKeyAvailable";return this._setLoadingStatus(a,!0),i.get(s,{urlKey:n,activationCode:this.authInfo.activationCode,f:"json"},{cache:!0,responseType:"json"}).then(function(e,n){return this._setLoadingStatus(a,!1),this._resetErrors(),!n||n.error?(console.log("Org Key checking service not available"),n&&n.error&&console.log(n.error),!1):n&&n.available?(this._markFieldValid(t),!0):(this._markFieldInvalid(t,o.createAccount.errors.taken_shortname),!1)}.bind(this))},_fetchRegions:function(){var e=this.authInfo.hostname+this.authInfo.contextPath+"/rest/portals/regions";i.get(e,{culture:this.authInfo.locale,f:"json"},{cache:!0,responseType:"json"}).then(this._buildRegions.bind(this))},_buildRegions:function(e,n){var i=t.byId("orgRegion"),a="";n.forEach(function(e){a+='<option value="'+e.region+'"'+("WO"==e.region?" selected>":">")+e.localizedName+"</option>"}),i.innerHTML=a},_buildQuestions:function(){var e=t.byId("question"),n=[];Object.keys(o.securityQuestions).forEach(function(e){n[~~e-1]=o.securityQuestions[e]}),n.forEach(function(t,n){var i=document.createElement("option");i.innerText=t,i.setAttribute("value",n+1),e.appendChild(i)})},_setRules:function(){return{password:this._setPasswordRules(),username:[function(e){return e.length>5&&e.length<129},function(e){return!/[^\w\.@\-\s]/.test(e)},function(e){return!/[_\.@\-]/.test(e.slice(0,1))&&!/[_\.@\-]/.test(e.slice(-1))},function(e){return!/\s/.test(e)}]}},_setPasswordRules:function(){return[{label:o.createAccount.passwordReq1,rule:function(e){return e!=t.byId("username").value}},{label:o.createAccount.passwordReq2,rule:function(e){return e.length>=8}},{label:o.createAccount.passwordReq3,rule:function(e){return/[A-Za-z]/.test(e)}},{label:o.createAccount.passwordReq4,rule:function(e){return/[0-9]/.test(e)}}]},_validateInput:function(n){var i=n.target,a=i.id,s=this.rules[a]||[],r=0;if(0===i.value.length)return!0;s.forEach(function(n,s){n.rule&&(n=n.rule);var o=t.queryOne(".js-"+a+"-reqs").children[s];i.value.length&&n(i.value)?(r++,e.removeClass(o,"svg-icon-red icon-ui-notice-round"),e.addClass(o,"svg-icon-green icon-ui-check-mark")):(r--,e.removeClass(o,"svg-icon-green icon-ui-check-mark"),0===i.value.length&&e.removeClass(o,"icon-ui-red icon-ui-notice-round"))});var o=r==s.length;return"password"==a&&this.meter&&this.meter.strength<2&&o&&(o=!1),o?delete this.errors[a]:this.errors[a]=!0,o},_checkFieldValid:function(n){var i=n.target,a=i.id,s=t.queryOne(".js-"+a+"-error");if(0!==i.value.length)if(this.errors[a]){this._resetErrors(!0),this.errorMessage=o.createAccount.errors["invalid_"+a];var r=this._findLabel(i);s.innerText=this.errorMessage,e.addClass(i,"input-error"),e.addClass(s,"is-active"),r&&e.removeClass(r,"field-suffix icon-ui-check-mark svg-icon-green"),this.focusEl=i,this.rules[a]&&this.rules[a].forEach(function(n,s){n.rule&&(n=n.rule);var r=t.queryOne(".js-"+a+"-reqs").children[s];n(i.value)?(e.removeClass(r,"svg-icon-red icon-ui-notice-round"),e.addClass(r,"svg-icon-green icon-ui-check-mark")):(e.removeClass(r,"svg-icon-green icon-ui-check-mark"),e.addClass(r,"svg-icon-red icon-ui-notice-round"),this.errors[a]=!0)}.bind(this))}else 0===Object.keys(this.errors).length&&this._resetErrors(),"username"==a&&i.value.length>0?this._checkUsernameExist(i):this._markFieldValid(i)},_checkUsernameExist:function(e){var t=e.value,n=this._findLabel(e),a=this.authInfo.hostname+this.authInfo.contextPath+"/rest/community/checkUsernames";return n&&this._setLoadingStatus(n,!0),i.post(a,{usernames:t,f:"json"},{cache:!0,responseType:"json"}).then(function(t,i){if(n&&this._setLoadingStatus(n,!1),i&&i.usernames){var a=i.usernames[0];a&&a.requested==a.suggested?this._markFieldValid(e):this._markFieldInvalid(e,o.createAccount.errors.taken_username)}}.bind(this))},_markFieldValid:function(n){var i=n.id,a=this._findLabel(n),s=t.queryOne(".js-"+i+"-error");e.removeClass(s,"is-active"),e.removeClass(n,"input-error"),n.value.length>0&&a&&e.addClass(a,"field-suffix icon-ui-check-mark svg-icon-green")},_markFieldInvalid:function(n,i){if(0!==n.value.length){var a=n.id,s=this._findLabel(n),r=t.queryOne(".js-"+a+"-error");this.errors[a]=!0,this.focusEl=n,this.errorMessage=i,r.innerText=this.errorMessage,s&&e.removeClass(s,"icon-ui-check-mark svg-icon-green"),e.addClass(n,"input-error"),e.addClass(r,"is-active")}},_reportError:function(n){var i="";if(n.valid||e.hasClass(n.errEl,"is-active")?n.valid&&(i="removeClass",this.errors[n.el.id]=!1):(i="addClass",n.errEl.innerHTML=n.msg,this.errors[n.el.id]=!0,n.el.focus()),i){e[i](n.el,"input-error")
;var a=t.query(".input-error-message.is-active");if("addClass"==i&&a.length>0)return;e[i](n.errEl,"is-active")}},_findLabel:function(e){var n=e.id,i=t.findLabel(n);return i||((i=t.findParentNode("label",e))||((i=t.findPreviousSibling("label",e))||null))},_displayMessage:function(n){var i=n.messages&&n.messages.length&&n.messages[0];if(i){var a=i;"OAUTH_0076"==n.messageCode?a=o.activate.convertError:"OAUTH_0058"==n.messageCode&&(a=o.activate.missingSocialEmail);var s=t.queryOne(".js-message");s.innerHTML=a,e.addClass(s,"is-active"),s.focus()}}}});